# -*- coding: cp1254 -*-
from header_common import *
from header_operations import *
from module_constants import *
from module_constants import *
from header_parties import *
from header_skills import *
from header_mission_templates import *
from header_items import *
from header_triggers import *
from header_terrain_types import *
from header_music import *
from header_map_icons import *
from ID_animations import *


####################################################################################################################
# scripts is a list of script records.
# Each script record contns the following two fields:
# 1) Script id: The prefix "script_" will be inserted when referencing scripts.
# 2) Operation block: This must be a valid operation block. See header_operations.py for reference.
####################################################################################################################

scripts = [
	("game_start",
		[
			(assign, "$troop_trees", "trp_troop_tree_2"),
			(call_script, "script_mtt_troop_slots"),
			(troop_set_slot, "trp_swadian_n_hero1", slot_troop_occupation, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_swadian_n_hero2", slot_troop_occupation, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_vaegir_n_hero1", slot_troop_occupation, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_vaegir_n_hero2", slot_troop_occupation, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_khergit_n_hero1", slot_troop_occupation, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_nord_n_hero1", slot_troop_occupation, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_rhodok_n_hero1", slot_troop_occupation, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_rhodok_n_hero2", slot_troop_occupation, "trp_rhodok_n_balestriere_veterano"),
			(troop_set_slot, "trp_sarranid_n_hero1", slot_troop_occupation, "trp_sarranid_n_kapikula"),
			(troop_set_slot, "trp_sarranid_n_hero2", slot_troop_occupation, "trp_sarranid_n_uluteci"),
			(troop_set_slot, "trp_swadian_r_hero1", slot_troop_occupation, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_swadian_r_hero2", slot_troop_occupation, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_vaegir_r_hero1", slot_troop_occupation, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_vaegir_r_hero2", slot_troop_occupation, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_khergit_r_hero1", slot_troop_occupation, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_khergit_r_hero2", slot_troop_occupation, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_nord_r_hero1", slot_troop_occupation, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_nord_r_hero2", slot_troop_occupation, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_rhodok_r_hero1", slot_troop_occupation, "trp_rhodok_r_balestriere_veterano"),
			(troop_set_slot, "trp_rhodok_r_hero2", slot_troop_occupation, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_sarranid_r_hero1", slot_troop_occupation, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_sarranid_r_hero2", slot_troop_occupation, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_swadian_e_hero1", slot_troop_occupation, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_swadian_e_hero2", slot_troop_occupation, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_vaegir_e_hero1", slot_troop_occupation, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_vaegir_e_hero2", slot_troop_occupation, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_vaegir_e_hero3", slot_troop_occupation, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_khergit_e_hero1", slot_troop_occupation, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_khergit_e_hero2", slot_troop_occupation, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_khergit_e_hero3", slot_troop_occupation, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_nord_e_hero1", slot_troop_occupation, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_nord_e_hero2", slot_troop_occupation, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_nord_e_hero3", slot_troop_occupation, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_rhodok_e_hero1", slot_troop_occupation, "trp_rhodok_e_balestriere_pesante"),
			(troop_set_slot, "trp_rhodok_e_hero2", slot_troop_occupation, "trp_rhodok_e_capitano_di_ventura"),
			(troop_set_slot, "trp_rhodok_e_hero3", slot_troop_occupation, "trp_rhodok_e_guardia_ducale"),
			(troop_set_slot, "trp_sarranid_e_hero1", slot_troop_occupation, "trp_sarranid_e_qilich_arslan"),
			(troop_set_slot, "trp_sarranid_e_hero2", slot_troop_occupation, "trp_sarranid_e_sekban"),
			(troop_set_slot, "trp_sarranid_e_hero3", slot_troop_occupation, "trp_sarranid_e_silahtar"),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(store_sub, ":value", ":party", "p_town_1"),
				(store_add, ":value_2", "trp_town_1_seneschal", ":value"),
				(party_set_slot, ":party", 15, ":value_2"),
			(try_end),
			(try_for_range, ":item", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(item_set_slot, ":item", 81, 1),
			(try_end),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(assign, ":value_3", "trp_bandit_n_looter"),
				(assign, ":value_4", "trp_bandit_n_manhunter"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(assign, ":value_3", "trp_bandit_r_looter"),
				(assign, ":value_4", "trp_bandit_r_manhunter"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
				(assign, ":value_3", "trp_bandit_e_looter"),
				(assign, ":value_4", "trp_bandit_e_manhunter"),
			(try_end),
			(try_for_range, ":value_5", ":value_3", ":value_4"),
				(store_faction_of_troop, ":faction_of_troop_value_5", ":value_5"),
				(troop_set_slot, ":value_5", slot_troop_original_faction, ":faction_of_troop_value_5"),
				(troop_set_faction, ":value_5", "fac_outlaws"),
			(try_end),
			(troop_set_auto_equip, "trp_player", 0),
			(call_script, "script_init_item_score"),
			(assign, "$g_persuasion_success_count", 0),
			(assign, "$g_persuasion_success_limit", 50),
			(assign, "$g_reinforcement_stage", 20),
			(assign, "$g_auto_sell_price_limit", 50),
			(item_set_slot, 20, 71, 1),
			(item_set_slot, 11, 71, 1),
			(item_set_slot, 19, 71, 1),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_state, 2),
			(assign, "$g_player_luck", 200),
			(assign, "$freelancer_state", 0),
			(assign, "$g_player_luck", 200),
			(troop_set_slot, "trp_player", slot_troop_occupation, 2),
			(store_random_in_range, ":random_in_range_training_ground_1_bridge_1", "p_training_ground_1", "p_bridge_1"),
			(party_relocate_near_party, "p_main_party", ":random_in_range_training_ground_1_bridge_1", 3),
			(str_store_troop_name, 5, "trp_player"),
			(party_set_name, "p_main_party", 5),
			(call_script, "script_update_party_creation_random_limits"),
			(assign, "$g_player_party_icon", -1),
			(try_for_range, ":number", 0, "trp_heroes_end"),
				(this_or_next|eq, ":number", "trp_player"),
				(is_between, ":number", "trp_npc1", "trp_heroes_end"),
				(troop_set_slot, ":number", slot_troop_father, -1),
				(troop_set_slot, ":number", slot_troop_mother, -1),
				(troop_set_slot, ":number", slot_troop_guardian, -1),
				(troop_set_slot, ":number", slot_troop_spouse, -1),
				(troop_set_slot, ":number", slot_troop_betrothed, -1),
				(troop_set_slot, ":number", slot_troop_prisoner_of_party, -1),
				(troop_set_slot, ":number", slot_troop_love_interests_end, -1),
				(troop_set_slot, ":number", slot_troop_stance_on_faction_issue, -1),
				(store_random_in_range, ":random_in_range_0_10000", 0, 10000),
				(troop_set_slot, ":number", slot_troop_set_decision_seed, ":random_in_range_0_10000"),
				(troop_set_slot, ":number", slot_troop_temp_decision_seed, ":random_in_range_0_10000"),
			(try_end),
			(assign, "$g_lord_long_term_count", 0),
			(try_for_range, ":number_2", 0, 69),
				(neq, ":number_2", "fac_player_faction"),
				(neq, ":number_2", "fac_player_supporters_faction"),
				(faction_set_slot, ":number_2", slot_faction_leader, -1),
				(faction_set_slot, ":number_2", slot_faction_marshall, -1),
			(try_end),
			(call_script, "script_initialize_banner_info"),
			(call_script, "script_initialize_item_info"),
			(call_script, "script_initialize_aristocracy"),
			(call_script, "script_initialize_npcs"),
			(assign, "$disable_npc_complaints", 0),
			(try_for_range, ":number_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(store_random_in_range, ":random_in_range_0_312", 0, 312),
				(val_mul, ":random_in_range_0_312", -1),
				(faction_set_slot, ":number_2", slot_faction_last_feast_concluded, ":random_in_range_0_312"),
			(try_end),
			(store_sub, ":value_6", "p_castle_1", "p_town_1"),
			(assign, ":var_15", ":value_6"),
			(try_for_range, ":number_3", 0, ":value_6"),
				(troop_set_slot, "trp_random_town_sequence", ":number_3", -1),
			(try_end),
			(assign, ":number_3", 0),
			(try_for_range, ":unused", 0, ":var_15"),
				(store_random_in_range, ":random_in_range_0_value_6", 0, ":value_6"),
				(assign, ":value_7", 1),
				(try_for_range, ":number_4", 0, ":value_6"),
					(troop_slot_eq, "trp_random_town_sequence", ":number_4", ":random_in_range_0_value_6"),
					(assign, ":value_7", 0),
				(try_end),
				(try_begin),
					(eq, ":value_7", 1),
					(troop_set_slot, "trp_random_town_sequence", ":number_3", ":random_in_range_0_value_6"),
					(val_add, ":number_3", 1),
				(else_try),
					(val_add, ":var_15", 1),
				(try_end),
			(try_end),
			(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet1"),
			(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam1"),
			(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat1"),
			(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot1"),
			(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula1"),
			(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri1"),
			(faction_set_slot, "fac_culture_1", 47, "trp_sarranid_n_kapikula1"),
			(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet2"),
			(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam2"),
			(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat2"),
			(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot2"),
			(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula2"),
			(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri2"),
			(faction_set_slot, "fac_culture_2", 47, "trp_sarranid_n_kapikula2"),
			(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet3"),
			(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam3"),
			(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat3"),
			(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot3"),
			(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula3"),
			(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri3"),
			(faction_set_slot, "fac_culture_3", 47, "trp_sarranid_n_kapikula3"),
			(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_4", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_5", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet"),
			(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam"),
			(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat"),
			(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot"),
			(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula"),
			(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri"),
			(faction_set_slot, "fac_culture_6", 47, "trp_sarranid_n_kapikula"),
			(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet8"),
			(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam8"),
			(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat8"),
			(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot8"),
			(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula8"),
			(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri8"),
			(faction_set_slot, "fac_culture_8", 47, "trp_sarranid_n_kapikula8"),
			(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet9"),
			(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam9"),
			(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat9"),
			(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot9"),
			(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula9"),
			(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri9"),
			(faction_set_slot, "fac_culture_9", 47, "trp_sarranid_n_kapikula9"),
			(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet10"),
			(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam10"),
			(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat10"),
			(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot10"),
			(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula10"),
			(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri10"),
			(faction_set_slot, "fac_culture_10", 47, "trp_sarranid_n_kapikula10"),
			(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet11"),
			(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam11"),
			(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat11"),
			(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot11"),
			(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula11"),
			(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri11"),
			(faction_set_slot, "fac_culture_11", 47, "trp_sarranid_n_kapikula11"),
			(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_12", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_13", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_14", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_15", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_16", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_17", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
			(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
			(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
			(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
			(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
			(faction_set_slot, "fac_culture_18", 47, "trp_lance_archer_5"),
			(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet19"),
			(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam19"),
			(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat19"),
			(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot19"),
			(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula19"),
			(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri19"),
			(faction_set_slot, "fac_culture_19", 47, "trp_sarranid_n_kapikula19"),
			(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet20"),
			(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam20"),
			(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat20"),
			(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot20"),
			(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula20"),
			(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri20"),
			(faction_set_slot, "fac_culture_20", 47, "trp_sarranid_n_kapikula20"),
			(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet22"),
			(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam22"),
			(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat22"),
			(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_jebelus22"),
			(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_yeniceri22"),
			(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_kapikula22"),
			(faction_set_slot, "fac_culture_21", 47, "trp_sarranid_n_uluteci22"),
			(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet23"),
			(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_millet23"),
			(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_ajam23"),
			(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_cemaat23"),
			(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_jebelus23"),
			(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri23"),
			(faction_set_slot, "fac_culture_22", 47, "trp_sarranid_n_yeniceri23"),
			(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet21"),
			(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam21"),
			(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat21"),
			(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot21"),
			(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula21"),
			(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri21"),
			(faction_set_slot, "fac_culture_7", 47, "trp_sarranid_n_kapikula21"),
			(faction_set_slot, "fac_culture_1", slot_faction_town_walker_female_troop, "trp_swadian_town_walker_m_average"),
			(faction_set_slot, "fac_culture_1", slot_faction_village_walker_male_troop, "trp_swadian_town_walker_f_average"),
			(faction_set_slot, "fac_culture_1", slot_faction_village_walker_female_troop, "trp_swadian_village_walker_m_average"),
			(faction_set_slot, "fac_culture_1", slot_faction_town_spy_male_troop, "trp_swadian_village_walker_f_average"),
			(faction_set_slot, "fac_culture_1", slot_faction_town_spy_female_troop, "trp_swadian_spy_walker_1"),
			(faction_set_slot, "fac_culture_1", 59, "trp_swadian_spy_walker_2"),
			(faction_set_slot, "fac_culture_2", slot_faction_town_walker_female_troop, "trp_vaegir_town_walker_m_average"),
			(faction_set_slot, "fac_culture_2", slot_faction_village_walker_male_troop, "trp_vaegir_town_walker_f_average"),
			(faction_set_slot, "fac_culture_2", slot_faction_village_walker_female_troop, "trp_vaegir_village_walker_m_average"),
			(faction_set_slot, "fac_culture_2", slot_faction_town_spy_male_troop, "trp_vaegir_village_walker_f_average"),
			(faction_set_slot, "fac_culture_2", slot_faction_town_spy_female_troop, "trp_vaegir_spy_walker_1"),
			(faction_set_slot, "fac_culture_2", 59, "trp_vaegir_spy_walker_2"),
			(faction_set_slot, "fac_culture_3", slot_faction_town_walker_female_troop, "trp_swadian_town_walker_m_average"),
			(faction_set_slot, "fac_culture_3", slot_faction_village_walker_male_troop, "trp_swadian_town_walker_f_average"),
			(faction_set_slot, "fac_culture_3", slot_faction_village_walker_female_troop, "trp_swadian_village_walker_m_average"),
			(faction_set_slot, "fac_culture_3", slot_faction_town_spy_male_troop, "trp_swadian_village_walker_f_average"),
			(faction_set_slot, "fac_culture_3", slot_faction_town_spy_female_troop, "trp_swadian_spy_walker_1"),
			(faction_set_slot, "fac_culture_3", 59, "trp_swadian_spy_walker_2"),
			(faction_set_slot, "fac_culture_4", slot_faction_town_walker_female_troop, "trp_khergit_town_walker_m_average"),
			(faction_set_slot, "fac_culture_4", slot_faction_village_walker_male_troop, "trp_khergit_town_walker_f_average"),
			(faction_set_slot, "fac_culture_4", slot_faction_village_walker_female_troop, "trp_khergit_village_walker_m_average"),
			(faction_set_slot, "fac_culture_4", slot_faction_town_spy_male_troop, "trp_khergit_village_walker_f_average"),
			(faction_set_slot, "fac_culture_4", slot_faction_town_spy_female_troop, "trp_khergit_spy_walker_1"),
			(faction_set_slot, "fac_culture_4", 59, "trp_khergit_spy_walker_2"),
			(faction_set_slot, "fac_culture_5", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_5", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_5", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_5", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_5", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_5", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_6", slot_faction_town_walker_female_troop, "trp_nord_town_walker_m_average"),
			(faction_set_slot, "fac_culture_6", slot_faction_village_walker_male_troop, "trp_nord_town_walker_f_average"),
			(faction_set_slot, "fac_culture_6", slot_faction_village_walker_female_troop, "trp_nord_village_walker_m_average"),
			(faction_set_slot, "fac_culture_6", slot_faction_town_spy_male_troop, "trp_nord_village_walker_f_average"),
			(faction_set_slot, "fac_culture_6", slot_faction_town_spy_female_troop, "trp_nord_spy_walker_1"),
			(faction_set_slot, "fac_culture_6", 59, "trp_nord_spy_walker_2"),
			(faction_set_slot, "fac_culture_8", slot_faction_town_walker_female_troop, "trp_swadian_town_walker_m_average"),
			(faction_set_slot, "fac_culture_8", slot_faction_village_walker_male_troop, "trp_swadian_town_walker_f_average"),
			(faction_set_slot, "fac_culture_8", slot_faction_village_walker_female_troop, "trp_swadian_village_walker_m_average"),
			(faction_set_slot, "fac_culture_8", slot_faction_town_spy_male_troop, "trp_swadian_village_walker_f_average"),
			(faction_set_slot, "fac_culture_8", slot_faction_town_spy_female_troop, "trp_swadian_spy_walker_1"),
			(faction_set_slot, "fac_culture_8", 59, "trp_swadian_spy_walker_2"),
			(faction_set_slot, "fac_culture_9", slot_faction_town_walker_female_troop, "trp_swadian_town_walker_m_average"),
			(faction_set_slot, "fac_culture_9", slot_faction_village_walker_male_troop, "trp_swadian_town_walker_f_average"),
			(faction_set_slot, "fac_culture_9", slot_faction_village_walker_female_troop, "trp_swadian_village_walker_m_average"),
			(faction_set_slot, "fac_culture_9", slot_faction_town_spy_male_troop, "trp_swadian_village_walker_f_average"),
			(faction_set_slot, "fac_culture_9", slot_faction_town_spy_female_troop, "trp_swadian_spy_walker_1"),
			(faction_set_slot, "fac_culture_9", 59, "trp_swadian_spy_walker_2"),
			(faction_set_slot, "fac_culture_10", slot_faction_town_walker_female_troop, "trp_swadian_town_walker_m_average"),
			(faction_set_slot, "fac_culture_10", slot_faction_village_walker_male_troop, "trp_swadian_town_walker_f_average"),
			(faction_set_slot, "fac_culture_10", slot_faction_village_walker_female_troop, "trp_swadian_village_walker_m_average"),
			(faction_set_slot, "fac_culture_10", slot_faction_town_spy_male_troop, "trp_swadian_village_walker_f_average"),
			(faction_set_slot, "fac_culture_10", slot_faction_town_spy_female_troop, "trp_swadian_spy_walker_1"),
			(faction_set_slot, "fac_culture_10", 59, "trp_swadian_spy_walker_2"),
			(faction_set_slot, "fac_culture_11", slot_faction_town_walker_female_troop, "trp_vaegir_town_walker_m_average"),
			(faction_set_slot, "fac_culture_11", slot_faction_village_walker_male_troop, "trp_vaegir_town_walker_f_average"),
			(faction_set_slot, "fac_culture_11", slot_faction_village_walker_female_troop, "trp_vaegir_village_walker_m_average"),
			(faction_set_slot, "fac_culture_11", slot_faction_town_spy_male_troop, "trp_vaegir_village_walker_f_average"),
			(faction_set_slot, "fac_culture_11", slot_faction_town_spy_female_troop, "trp_vaegir_spy_walker_1"),
			(faction_set_slot, "fac_culture_11", 59, "trp_vaegir_spy_walker_2"),
			(faction_set_slot, "fac_culture_12", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_12", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_12", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_12", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_12", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_12", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_13", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_13", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_13", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_13", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_13", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_13", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_14", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_14", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_14", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_14", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_14", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_14", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_15", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_15", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_15", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_15", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_15", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_15", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_16", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_16", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_16", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_16", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_16", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_16", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_17", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_17", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_17", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_17", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_17", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_17", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_18", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_18", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_18", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_18", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_18", slot_faction_town_spy_female_troop, "trp_rhodok_spy_walker_1"),
			(faction_set_slot, "fac_culture_18", 59, "trp_rhodok_spy_walker_2"),
			(faction_set_slot, "fac_culture_19", slot_faction_town_walker_female_troop, "trp_vaegir_town_walker_m_average"),
			(faction_set_slot, "fac_culture_19", slot_faction_village_walker_male_troop, "trp_vaegir_town_walker_f_average"),
			(faction_set_slot, "fac_culture_19", slot_faction_village_walker_female_troop, "trp_vaegir_village_walker_m_average"),
			(faction_set_slot, "fac_culture_19", slot_faction_town_spy_male_troop, "trp_vaegir_village_walker_f_average"),
			(faction_set_slot, "fac_culture_19", slot_faction_town_spy_female_troop, "trp_vaegir_spy_walker_1"),
			(faction_set_slot, "fac_culture_19", 59, "trp_vaegir_spy_walker_2"),
			(faction_set_slot, "fac_culture_20", slot_faction_town_walker_female_troop, "trp_vaegir_town_walker_m_average"),
			(faction_set_slot, "fac_culture_20", slot_faction_village_walker_male_troop, "trp_vaegir_town_walker_f_average"),
			(faction_set_slot, "fac_culture_20", slot_faction_village_walker_female_troop, "trp_vaegir_village_walker_m_average"),
			(faction_set_slot, "fac_culture_20", slot_faction_town_spy_male_troop, "trp_vaegir_village_walker_f_average"),
			(faction_set_slot, "fac_culture_20", slot_faction_town_spy_female_troop, "trp_vaegir_spy_walker_1"),
			(faction_set_slot, "fac_culture_20", 59, "trp_vaegir_spy_walker_2"),
			(faction_set_slot, "fac_culture_21", slot_faction_town_walker_female_troop, "trp_swadian_town_walker_m_average"),
			(faction_set_slot, "fac_culture_21", slot_faction_village_walker_male_troop, "trp_swadian_town_walker_f_average"),
			(faction_set_slot, "fac_culture_21", slot_faction_village_walker_female_troop, "trp_swadian_village_walker_m_average"),
			(faction_set_slot, "fac_culture_21", slot_faction_town_spy_male_troop, "trp_swadian_village_walker_f_average"),
			(faction_set_slot, "fac_culture_21", slot_faction_town_spy_female_troop, "trp_swadian_spy_walker_1"),
			(faction_set_slot, "fac_culture_21", 59, "trp_swadian_spy_walker_2"),
			(faction_set_slot, "fac_culture_22", slot_faction_town_walker_female_troop, "trp_rhodok_town_walker_m_average"),
			(faction_set_slot, "fac_culture_22", slot_faction_village_walker_male_troop, "trp_rhodok_town_walker_f_average"),
			(faction_set_slot, "fac_culture_22", slot_faction_village_walker_female_troop, "trp_rhodok_village_walker_m_average"),
			(faction_set_slot, "fac_culture_22", slot_faction_town_spy_male_troop, "trp_rhodok_village_walker_f_average"),
			(faction_set_slot, "fac_culture_22", slot_faction_town_spy_female_troop, "trp_vaegir_spy_walker_1"),
			(faction_set_slot, "fac_culture_22", 59, "trp_vaegir_spy_walker_2"),
			(faction_set_slot, "fac_culture_7", slot_faction_town_walker_female_troop, "trp_vaegir_town_walker_m_average"),
			(faction_set_slot, "fac_culture_7", slot_faction_village_walker_male_troop, "trp_vaegir_town_walker_f_average"),
			(faction_set_slot, "fac_culture_7", slot_faction_village_walker_female_troop, "trp_vaegir_village_walker_m_average"),
			(faction_set_slot, "fac_culture_7", slot_faction_town_spy_male_troop, "trp_vaegir_village_walker_f_average"),
			(faction_set_slot, "fac_culture_7", slot_faction_town_spy_female_troop, "trp_vaegir_spy_walker_1"),
			(faction_set_slot, "fac_culture_7", 59, "trp_vaegir_spy_walker_2"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg3, "$cheat_mode"),
				(display_message, "@{!}DEBUG : Completed faction troop assignments, cheat mode: {reg3}"),
			(try_end),
			(faction_set_slot, "fac_kingdom_1", slot_faction_culture, "fac_culture_1"),
			(faction_set_slot, "fac_kingdom_1", slot_faction_leader, "trp_kingdom_1_lord"),
			(troop_set_slot, "trp_kingdom_1_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_2", slot_faction_culture, "fac_culture_2"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_leader, "trp_kingdom_2_lord"),
			(troop_set_slot, "trp_kingdom_2_lord", slot_troop_renown, 600),
			(faction_set_slot, "fac_kingdom_3", slot_faction_culture, "fac_culture_3"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_leader, "trp_kingdom_3_lord"),
			(troop_set_slot, "trp_kingdom_3_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_4", slot_faction_culture, "fac_culture_4"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_leader, "trp_kingdom_4_lord"),
			(troop_set_slot, "trp_kingdom_4_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_5", slot_faction_culture, "fac_culture_5"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_leader, "trp_kingdom_5_lord"),
			(troop_set_slot, "trp_kingdom_5_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_6", slot_faction_culture, "fac_culture_6"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_leader, "trp_kingdom_6_lord"),
			(troop_set_slot, "trp_kingdom_6_lord", slot_troop_renown, 600),
			(faction_set_slot, "fac_kingdom_8", slot_faction_culture, "fac_culture_8"),
			(faction_set_slot, "fac_kingdom_8", slot_faction_leader, "trp_kingdom_8_lord"),
			(troop_set_slot, "trp_kingdom_8_lord", slot_troop_renown, 600),
			(faction_set_slot, "fac_kingdom_9", slot_faction_culture, "fac_culture_9"),
			(faction_set_slot, "fac_kingdom_9", slot_faction_leader, "trp_kingdom_9_lord"),
			(troop_set_slot, "trp_kingdom_9_lord", slot_troop_renown, 600),
			(faction_set_slot, "fac_kingdom_10", slot_faction_culture, "fac_culture_10"),
			(faction_set_slot, "fac_kingdom_10", slot_faction_leader, "trp_kingdom_10_lord"),
			(troop_set_slot, "trp_kingdom_10_lord", slot_troop_renown, 100),
			(faction_set_slot, "fac_kingdom_11", slot_faction_culture, "fac_culture_11"),
			(faction_set_slot, "fac_kingdom_11", slot_faction_leader, "trp_kingdom_11_lord"),
			(troop_set_slot, "trp_kingdom_11_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_12", slot_faction_culture, "fac_culture_12"),
			(faction_set_slot, "fac_kingdom_12", slot_faction_leader, "trp_kingdom_12_lord"),
			(troop_set_slot, "trp_kingdom_12_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_13", slot_faction_culture, "fac_culture_13"),
			(faction_set_slot, "fac_kingdom_13", slot_faction_leader, "trp_kingdom_13_lord"),
			(troop_set_slot, "trp_kingdom_13_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_14", slot_faction_culture, "fac_culture_14"),
			(faction_set_slot, "fac_kingdom_14", slot_faction_leader, "trp_kingdom_14_lord"),
			(troop_set_slot, "trp_kingdom_14_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_15", slot_faction_culture, "fac_culture_15"),
			(faction_set_slot, "fac_kingdom_15", slot_faction_leader, "trp_kingdom_15_lord"),
			(troop_set_slot, "trp_kingdom_15_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_16", slot_faction_culture, "fac_culture_16"),
			(faction_set_slot, "fac_kingdom_16", slot_faction_leader, "trp_kingdom_16_lord"),
			(troop_set_slot, "trp_kingdom_16_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_17", slot_faction_culture, "fac_culture_17"),
			(faction_set_slot, "fac_kingdom_17", slot_faction_leader, "trp_kingdom_17_lord"),
			(troop_set_slot, "trp_kingdom_17_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_18", slot_faction_culture, "fac_culture_18"),
			(faction_set_slot, "fac_kingdom_18", slot_faction_leader, "trp_kingdom_18_lord"),
			(troop_set_slot, "trp_kingdom_18_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_19", slot_faction_culture, "fac_culture_19"),
			(faction_set_slot, "fac_kingdom_19", slot_faction_leader, "trp_kingdom_19_lord"),
			(troop_set_slot, "trp_kingdom_19_lord", slot_troop_renown, 200),
			(faction_set_slot, "fac_kingdom_20", slot_faction_culture, "fac_culture_20"),
			(faction_set_slot, "fac_kingdom_20", slot_faction_leader, "trp_kingdom_20_lord"),
			(troop_set_slot, "trp_kingdom_20_lord", slot_troop_renown, 600),
			(faction_set_slot, "fac_kingdom_21", slot_faction_culture, "fac_culture_21"),
			(faction_set_slot, "fac_kingdom_21", slot_faction_leader, "trp_kingdom_21_lord"),
			(troop_set_slot, "trp_kingdom_21_lord", slot_troop_renown, 600),
			(faction_set_slot, "fac_kingdom_22", slot_faction_culture, "fac_culture_22"),
			(faction_set_slot, "fac_kingdom_22", slot_faction_leader, "trp_kingdom_22_lord"),
			(troop_set_slot, "trp_kingdom_22_lord", slot_troop_renown, 600),
			(assign, ":var_21", "fac_culture_7"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_culture, ":var_21"),
			(faction_set_slot, "fac_player_faction", slot_faction_culture, ":var_21"),
			(try_for_range, ":number_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_set_slot, ":number_2", slot_faction_marshall, -1),
			(try_end),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_marshall, "trp_player"),
			(call_script, "script_initialize_faction_troop_types"),
			(call_script, "script_dplmc_init_domestic_policy"),
			(try_for_range, ":item_2", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value", ":item_2", "itm_trade_spice"),
				(val_add, ":value", 267),
				(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
					(party_set_slot, ":party_2", ":value", 1000),
				(try_end),
			(try_end),
			(call_script, "script_initialize_trade_routes"),
			(call_script, "script_initialize_sea_trade_routes"),
			(call_script, "script_initialize_town_arena_info"),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", 20),
				(store_random_in_range, ":random_in_range_12_15", 12, 15),
				(party_set_slot, ":party", slot_town_has_tournament, ":random_in_range_12_15"),
			(try_end),
			(try_for_range, ":party_3", "p_castle_1", "p_village_1"),
				(assign, ":value_8", 999999),
				(assign, ":value_9", -1),
				(try_for_range, ":party_4", "p_village_1", "p_salt_mine"),
					(neg|party_slot_ge, ":party_4", 120, 1),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_party_4_party_3", ":party_4", ":party_3"),
					(lt, ":distance_to_party_from_party_party_4_party_3", ":value_8"),
					(assign, ":value_8", ":distance_to_party_from_party_party_4_party_3"),
					(assign, ":value_9", ":party_4"),
				(try_end),
				(party_set_slot, ":value_9", slot_village_bound_center, ":party_3"),
				(store_faction_of_party, ":faction_of_party_party_3", ":party_3"),
				(call_script, "script_give_center_to_faction_aux", ":value_9", ":faction_of_party_party_3"),
			(try_end),
			(try_for_range, ":party_4", "p_village_1", "p_salt_mine"),
				(neg|party_slot_ge, ":party_4", 120, 1),
				(assign, ":value_8", 999999),
				(assign, ":value_10", -1),
				(try_for_range, ":party_5", "p_town_1", "p_castle_1"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_party_4_party_3", ":party_4", ":party_5"),
					(lt, ":distance_to_party_from_party_party_4_party_3", ":value_8"),
					(assign, ":value_8", ":distance_to_party_from_party_party_4_party_3"),
					(assign, ":value_10", ":party_5"),
				(try_end),
				(party_set_slot, ":party_4", slot_village_bound_center, ":value_10"),
				(store_faction_of_party, ":faction_of_party_party_3", ":value_10"),
				(call_script, "script_give_center_to_faction_aux", ":party_4", ":faction_of_party_party_3"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_sub, ":value", ":party", "p_town_1"),
				(party_set_slot, ":party", slot_party_type, 3),
				(store_add, ":value_2", "scn_town_1_center", ":value"),
				(party_set_slot, ":party", slot_town_center, ":value_2"),
				(store_add, ":value_2", "scn_town_1_castle", ":value"),
				(party_set_slot, ":party", slot_town_castle, ":value_2"),
				(store_add, ":value_2", "scn_town_1_prison", ":value"),
				(party_set_slot, ":party", slot_town_prison, ":value_2"),
				(store_add, ":value_2", "scn_town_1_walls", ":value"),
				(party_set_slot, ":party", slot_town_walls, ":value_2"),
				(store_add, ":value_2", "scn_town_1_tavern", ":value"),
				(party_set_slot, ":party", slot_town_tavern, ":value_2"),
				(store_add, ":value_2", "scn_town_1_store", ":value"),
				(party_set_slot, ":party", slot_town_store, ":value_2"),
				(store_add, ":value_2", "scn_town_1_arena", ":value"),
				(party_set_slot, ":party", slot_town_arena, ":value_2"),
				(store_add, ":value_2", "scn_town_1_alley", ":value"),
				(party_set_slot, ":party", slot_town_alley, ":value_2"),
				(store_add, ":value_2", "trp_town_1_mayor", ":value"),
				(party_set_slot, ":party", slot_town_elder, ":value_2"),
				(store_add, ":value_2", "trp_town_1_tavernkeeper", ":value"),
				(party_set_slot, ":party", slot_town_tavernkeeper, ":value_2"),
				(store_add, ":value_2", "trp_town_1_weaponsmith", ":value"),
				(party_set_slot, ":party", slot_town_weaponsmith, ":value_2"),
				(store_add, ":value_2", "trp_town_1_armorer", ":value"),
				(party_set_slot, ":party", slot_town_armorer, ":value_2"),
				(store_add, ":value_2", "trp_town_1_merchant", ":value"),
				(party_set_slot, ":party", slot_town_merchant, ":value_2"),
				(store_add, ":value_2", "trp_town_1_horse_merchant", ":value"),
				(party_set_slot, ":party", slot_town_horse_merchant, ":value_2"),
				(store_add, ":value_2", "scn_town_1_center", ":value"),
				(party_set_slot, ":party", slot_town_center, ":value_2"),
				(party_set_slot, ":party", slot_town_reinforcement_party_template, "pt_center_reinforcements"),
			(try_end),
			(try_for_range, ":party_6", "p_castle_1", "p_village_1"),
				(store_sub, ":value", ":party_6", "p_castle_1"),
				(val_mul, ":value", 3),
				(store_add, ":value_11", "scn_castle_1_exterior", ":value"),
				(party_set_slot, ":party_6", slot_town_center, ":value_11"),
				(store_add, ":value_12", "scn_castle_1_interior", ":value"),
				(party_set_slot, ":party_6", slot_town_castle, ":value_12"),
				(store_add, ":value_12", "scn_castle_1_prison", ":value"),
				(party_set_slot, ":party_6", slot_town_prison, ":value_12"),
				(party_set_slot, ":party_6", slot_town_reinforcement_party_template, "pt_center_reinforcements"),
				(party_set_slot, ":party_6", slot_party_type, 2),
				(party_set_slot, ":party_6", slot_center_is_besieged_by, -1),
			(try_end),
			(party_set_slot, "p_castle_13", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_37", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_41", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_43", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_99", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_63", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_71", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_64", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_65", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_115", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_66", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_68", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_67", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_25", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_84", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_12", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_21", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_35", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_1", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_104", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_91", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_120", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_119", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_18", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_92", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_87", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_56", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_55", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_54", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_5", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_139", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_16", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_100", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_39", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_26", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_2", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_4", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_88", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_15", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_76", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_77", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_78", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_79", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_6", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_112", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_57", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_86", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_140", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_town_42", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_141", slot_center_siege_with_belfry, 1),
			(party_set_slot, "p_castle_142", slot_center_siege_with_belfry, 1),
			(try_for_range, ":party_7", "p_village_1", "p_salt_mine"),
				(store_sub, ":value", ":party_7", "p_village_1"),
				(store_add, ":value_11", "scn_village_1", ":value"),
				(party_set_slot, ":party_7", slot_town_center, ":value_11"),
				(store_add, ":value_13", "trp_village_1_elder", ":value"),
				(party_set_slot, ":party_7", slot_town_elder, ":value_13"),
				(party_set_slot, ":party_7", slot_party_type, 4),
				(party_set_slot, ":party_7", slot_village_raided_by, -1),
				(call_script, "script_start_refresh_village_defenders", ":party_7"),
				(call_script, "script_start_refresh_village_defenders", ":party_7"),
				(call_script, "script_start_refresh_village_defenders", ":party_7"),
				(call_script, "script_start_refresh_village_defenders", ":party_7"),
			(try_end),
			(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
				(party_set_slot, ":party_2", slot_center_last_spotted_enemy, -1),
				(party_set_slot, ":party_2", slot_center_is_besieged_by, -1),
				(party_set_slot, ":party_2", slot_center_last_taken_by_troop, -1),
				(try_for_range, ":value", 20, 26),
					(party_get_slot, ":number", ":party_2", ":value"),
					(gt, ":number", 0),
					(neg|troop_slot_ge, ":number", 60, 1),
					(troop_set_slot, ":number", slot_troop_home, ":party_2"),
				(try_end),
			(try_end),
			(faction_set_slot, "fac_kingdom_1", slot_faction_banner, "mesh_banner_lords_khergit01"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_banner, "mesh_banner_lords_khergit02"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_banner, "mesh_banner_lords_khergit03"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_banner, "mesh_banner_lords_khergit04"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_banner, "mesh_banner_lords_khergit05"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_banner, "mesh_banner_lords_khergit06"),
			(faction_set_slot, "fac_kingdom_8", slot_faction_banner, "mesh_banner_lords_khergit07"),
			(faction_set_slot, "fac_kingdom_9", slot_faction_banner, "mesh_banner_lords_khergit08"),
			(faction_set_slot, "fac_kingdom_10", slot_faction_banner, "mesh_banner_lords_khergit09"),
			(faction_set_slot, "fac_kingdom_11", slot_faction_banner, "mesh_banner_lords_khergit10"),
			(faction_set_slot, "fac_kingdom_12", slot_faction_banner, "mesh_banner_lords_khergit11"),
			(faction_set_slot, "fac_kingdom_13", slot_faction_banner, "mesh_banner_lords_khergit12"),
			(faction_set_slot, "fac_kingdom_14", slot_faction_banner, "mesh_banner_lords_khergit13"),
			(faction_set_slot, "fac_kingdom_15", slot_faction_banner, "mesh_banner_lords_khergit14"),
			(faction_set_slot, "fac_kingdom_16", slot_faction_banner, "mesh_banner_lords_khergit15"),
			(faction_set_slot, "fac_kingdom_17", slot_faction_banner, "mesh_banner_lords_khergit16"),
			(faction_set_slot, "fac_kingdom_18", slot_faction_banner, "mesh_banner_lords_khergit17"),
			(faction_set_slot, "fac_kingdom_19", slot_faction_banner, "mesh_banner_lords_khergit18"),
			(faction_set_slot, "fac_kingdom_20", slot_faction_banner, "mesh_banner_lords_khergit19"),
			(faction_set_slot, "fac_kingdom_21", slot_faction_banner, "mesh_banner_lords_khergit20"),
			(faction_set_slot, "fac_kingdom_22", slot_faction_banner, "mesh_banner_lords_khergit21"),
			(try_for_range, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
				(faction_get_slot, ":faction_leader", ":faction", slot_faction_leader),
				(faction_get_slot, ":faction_banner", ":faction", slot_faction_banner),
				(val_sub, ":faction_banner", "mesh_banner_a01"),
				(val_add, ":faction_banner", "spr_banner_a"),
				(troop_set_slot, ":faction_leader", slot_troop_banner_scene_prop, ":faction_banner"),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(troop_slot_eq, ":troop", slot_troop_occupation, 9),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(neg|faction_slot_eq, ":faction_of_troop_troop", slot_faction_leader, ":troop"),
				(try_begin),
					(eq, ":faction_of_troop_troop", "fac_kingdom_1"),
					(troop_set_slot, "trp_knight_1_1", slot_troop_banner_scene_prop, "spr_banner_lords_nord01"),
					(troop_set_slot, "trp_knight_1_2", slot_troop_banner_scene_prop, "spr_banner_lords_nord02"),
					(troop_set_slot, "trp_knight_1_3", slot_troop_banner_scene_prop, "spr_banner_lords_nord03"),
					(troop_set_slot, "trp_knight_1_4", slot_troop_banner_scene_prop, "spr_banner_lords_nord04"),
					(troop_set_slot, "trp_knight_1_5", slot_troop_banner_scene_prop, "spr_banner_lords_nord05"),
					(troop_set_slot, "trp_knight_1_7", slot_troop_banner_scene_prop, "spr_banner_lords_nord06"),
					(troop_set_slot, "trp_knight_1_8", slot_troop_banner_scene_prop, "spr_banner_lords_nord07"),
					(troop_set_slot, "trp_knight_1_9", slot_troop_banner_scene_prop, "spr_banner_lords_khergit09"),
					(troop_set_slot, "trp_knight_1_10", slot_troop_banner_scene_prop, "spr_banner_lords_nord08"),
					(troop_set_slot, "trp_knight_1_11", slot_troop_banner_scene_prop, "spr_banner_lords_nord09"),
					(troop_set_slot, "trp_knight_1_12", slot_troop_banner_scene_prop, "spr_banner_lords_nord10"),
					(troop_set_slot, "trp_knight_1_14", slot_troop_banner_scene_prop, "spr_banner_lords_nord11"),
					(troop_set_slot, "trp_knight_1_15", slot_troop_banner_scene_prop, "spr_banner_lords_nord04"),
					(troop_set_slot, "trp_knight_1_16", slot_troop_banner_scene_prop, "spr_banner_lords_nord12"),
					(troop_set_slot, "trp_knight_1_18", slot_troop_banner_scene_prop, "spr_banner_lords_nord11"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_2"),
					(troop_set_slot, "trp_knight_2_1", slot_troop_banner_scene_prop, "spr_banner_lords_nord13"),
					(troop_set_slot, "trp_knight_2_2", slot_troop_banner_scene_prop, "spr_banner_lords_nord14"),
					(troop_set_slot, "trp_knight_2_3", slot_troop_banner_scene_prop, "spr_banner_lords_nord15"),
					(troop_set_slot, "trp_knight_2_4", slot_troop_banner_scene_prop, "spr_banner_lords_nord16"),
					(troop_set_slot, "trp_knight_2_5", slot_troop_banner_scene_prop, "spr_banner_lords_nord17"),
					(troop_set_slot, "trp_knight_2_6", slot_troop_banner_scene_prop, "spr_banner_lords_nord18"),
					(troop_set_slot, "trp_knight_2_7", slot_troop_banner_scene_prop, "spr_banner_lords_nord19"),
					(troop_set_slot, "trp_knight_2_8", slot_troop_banner_scene_prop, "spr_banner_lords_nord20"),
					(troop_set_slot, "trp_knight_2_9", slot_troop_banner_scene_prop, "spr_banner_lords_nord21"),
					(troop_set_slot, "trp_knight_2_11", slot_troop_banner_scene_prop, "spr_banner_lords_nord19"),
					(troop_set_slot, "trp_knight_2_12", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok01"),
					(troop_set_slot, "trp_knight_2_13", slot_troop_banner_scene_prop, "spr_banner_lords_nord13"),
					(troop_set_slot, "trp_knight_2_14", slot_troop_banner_scene_prop, "spr_banner_lords_nord14"),
					(troop_set_slot, "trp_knight_2_15", slot_troop_banner_scene_prop, "spr_banner_lords_nord18"),
					(troop_set_slot, "trp_knight_2_18", slot_troop_banner_scene_prop, "spr_banner_lords_nord21"),
					(troop_set_slot, "trp_knight_2_21", slot_troop_banner_scene_prop, "spr_banner_lords_nord20"),
					(troop_set_slot, "trp_knight_2_22", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok02"),
					(troop_set_slot, "trp_knight_2_23", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok03"),
					(troop_set_slot, "trp_knight_2_24", slot_troop_banner_scene_prop, "spr_banner_lords_nord18"),
					(troop_set_slot, "trp_knight_5_1", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok04"),
					(troop_set_slot, "trp_knight_5_2", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok04"),
					(troop_set_slot, "trp_knight_5_3", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok04"),
					(troop_set_slot, "trp_knight_5_4", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok05"),
					(troop_set_slot, "trp_knight_5_5", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok06"),
					(troop_set_slot, "trp_knight_5_6", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok07"),
					(troop_set_slot, "trp_knight_5_7", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok08"),
					(troop_set_slot, "trp_knight_5_8", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok09"),
					(troop_set_slot, "trp_knight_5_9", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok09"),
					(troop_set_slot, "trp_knight_5_10", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok12"),
					(troop_set_slot, "trp_knight_5_11", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok10"),
					(troop_set_slot, "trp_knight_5_13", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok04"),
					(troop_set_slot, "trp_knight_5_14", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok11"),
					(troop_set_slot, "trp_knight_5_15", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok05"),
					(troop_set_slot, "trp_knight_5_16", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok12"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_3"),
					(troop_set_slot, "trp_knight_3_1", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok13"),
					(troop_set_slot, "trp_knight_3_2", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok14"),
					(troop_set_slot, "trp_knight_3_3", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok15"),
					(troop_set_slot, "trp_knight_3_4", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok15"),
					(troop_set_slot, "trp_knight_3_5", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok16"),
					(troop_set_slot, "trp_knight_3_6", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok16"),
					(troop_set_slot, "trp_knight_3_7", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok17"),
					(troop_set_slot, "trp_knight_3_8", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok17"),
					(troop_set_slot, "trp_knight_3_9", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok18"),
					(troop_set_slot, "trp_knight_3_10", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok19"),
					(troop_set_slot, "trp_knight_3_11", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok20"),
					(troop_set_slot, "trp_knight_3_12", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok21"),
					(troop_set_slot, "trp_knight_3_13", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid01"),
					(troop_set_slot, "trp_knight_3_14", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid01"),
					(troop_set_slot, "trp_knight_3_15", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok21"),
					(troop_set_slot, "trp_knight_3_22", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok13"),
					(troop_set_slot, "trp_knight_3_23", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid02"),
					(troop_set_slot, "trp_knight_3_24", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid03"),
					(troop_set_slot, "trp_knight_3_25", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok17"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_4"),
					(troop_set_slot, "trp_knight_4_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_5", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_7", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_8", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_9", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_10", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_11", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
					(troop_set_slot, "trp_knight_4_12", slot_troop_banner_scene_prop, "spr_banner_lords_khergit04"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_5"),
					(troop_set_slot, "trp_knight_qohor_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit05"),
					(troop_set_slot, "trp_knight_qohor_2", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok07"),
					(troop_set_slot, "trp_knight_qohor_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit05"),
					(troop_set_slot, "trp_knight_qohor_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit05"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_6"),
					(troop_set_slot, "trp_knight_6_2", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid06"),
					(troop_set_slot, "trp_knight_6_3", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid07"),
					(troop_set_slot, "trp_knight_6_4", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid08"),
					(troop_set_slot, "trp_knight_6_5", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid09"),
					(troop_set_slot, "trp_knight_6_6", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid10"),
					(troop_set_slot, "trp_knight_6_7", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid11"),
					(troop_set_slot, "trp_knight_6_8", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid12"),
					(troop_set_slot, "trp_knight_6_9", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid13"),
					(troop_set_slot, "trp_knight_6_10", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid14"),
					(troop_set_slot, "trp_knight_6_11", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid15"),
					(troop_set_slot, "trp_knight_6_12", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid16"),
					(troop_set_slot, "trp_knight_6_13", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid16"),
					(troop_set_slot, "trp_knight_6_14", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid17"),
					(troop_set_slot, "trp_knight_6_15", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid14"),
					(troop_set_slot, "trp_knight_6_17", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid14"),
					(troop_set_slot, "trp_knight_6_18", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid13"),
					(troop_set_slot, "trp_knight_6_19", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid18"),
					(troop_set_slot, "trp_knight_6_20", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid19"),
					(troop_set_slot, "trp_knight_6_21", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid09"),
					(troop_set_slot, "trp_knight_6_22", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid20"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_8"),
					(troop_set_slot, "trp_knight_8_1", slot_troop_banner_scene_prop, "spr_banner_lords_sarranid21"),
					(troop_set_slot, "trp_knight_8_2", slot_troop_banner_scene_prop, "spr_banner_lords_swadia01"),
					(troop_set_slot, "trp_knight_8_3", slot_troop_banner_scene_prop, "spr_banner_lords_swadia02"),
					(troop_set_slot, "trp_knight_8_6", slot_troop_banner_scene_prop, "spr_banner_lords_swadia03"),
					(troop_set_slot, "trp_knight_8_7", slot_troop_banner_scene_prop, "spr_banner_lords_swadia04"),
					(troop_set_slot, "trp_knight_8_12", slot_troop_banner_scene_prop, "spr_banner_lords_nord09"),
					(troop_set_slot, "trp_knight_8_13", slot_troop_banner_scene_prop, "spr_banner_lords_nord09"),
					(troop_set_slot, "trp_knight_8_14", slot_troop_banner_scene_prop, "spr_banner_lords_swadia05"),
					(troop_set_slot, "trp_knight_8_15", slot_troop_banner_scene_prop, "spr_banner_lords_swadia06"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_9"),
					(troop_set_slot, "trp_kingdom_9_lord", slot_troop_banner_scene_prop, "spr_banner_lords_khergit08"),
					(troop_set_slot, "trp_knight_9_1", slot_troop_banner_scene_prop, "spr_banner_lords_swadia07"),
					(troop_set_slot, "trp_knight_9_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit08"),
					(troop_set_slot, "trp_knight_9_3", slot_troop_banner_scene_prop, "spr_banner_lords_swadia08"),
					(troop_set_slot, "trp_knight_9_4", slot_troop_banner_scene_prop, "spr_banner_lords_swadia09"),
					(troop_set_slot, "trp_knight_9_5", slot_troop_banner_scene_prop, "spr_banner_lords_swadia09"),
					(troop_set_slot, "trp_knight_9_6", slot_troop_banner_scene_prop, "spr_banner_lords_swadia10"),
					(troop_set_slot, "trp_knight_9_7", slot_troop_banner_scene_prop, "spr_banner_lords_swadia11"),
					(troop_set_slot, "trp_knight_9_8", slot_troop_banner_scene_prop, "spr_banner_lords_khergit08"),
					(troop_set_slot, "trp_knight_9_9", slot_troop_banner_scene_prop, "spr_banner_lords_swadia12"),
					(troop_set_slot, "trp_knight_9_10", slot_troop_banner_scene_prop, "spr_banner_lords_swadia13"),
					(troop_set_slot, "trp_knight_9_11", slot_troop_banner_scene_prop, "spr_banner_lords_swadia14"),
					(troop_set_slot, "trp_knight_9_12", slot_troop_banner_scene_prop, "spr_banner_lords_swadia14"),
					(troop_set_slot, "trp_knight_9_13", slot_troop_banner_scene_prop, "spr_banner_lords_swadia15"),
					(troop_set_slot, "trp_knight_9_14", slot_troop_banner_scene_prop, "spr_banner_lords_swadia16"),
					(troop_set_slot, "trp_knight_9_15", slot_troop_banner_scene_prop, "spr_banner_lords_khergit08"),
					(troop_set_slot, "trp_knight_9_16", slot_troop_banner_scene_prop, "spr_banner_lords_swadia17"),
					(troop_set_slot, "trp_knight_9_17", slot_troop_banner_scene_prop, "spr_banner_lords_swadia08"),
					(troop_set_slot, "trp_knight_9_18", slot_troop_banner_scene_prop, "spr_banner_lords_swadia08"),
					(troop_set_slot, "trp_knight_9_19", slot_troop_banner_scene_prop, "spr_banner_lords_swadia18"),
					(troop_set_slot, "trp_knight_9_20", slot_troop_banner_scene_prop, "spr_banner_lords_swadia19"),
					(troop_set_slot, "trp_knight_9_21", slot_troop_banner_scene_prop, "spr_banner_lords_swadia11"),
					(troop_set_slot, "trp_knight_9_22", slot_troop_banner_scene_prop, "spr_banner_lords_swadia20"),
					(troop_set_slot, "trp_knight_9_23", slot_troop_banner_scene_prop, "spr_banner_lords_swadia20"),
					(troop_set_slot, "trp_knight_9_24", slot_troop_banner_scene_prop, "spr_banner_lords_swadia13"),
					(troop_set_slot, "trp_knight_9_25", slot_troop_banner_scene_prop, "spr_banner_lords_swadia12"),
					(troop_set_slot, "trp_knight_9_26", slot_troop_banner_scene_prop, "spr_banner_lords_swadia21"),
					(troop_set_slot, "trp_knight_9_27", slot_troop_banner_scene_prop, "spr_banner_lords_swadia11"),
					(troop_set_slot, "trp_knight_9_28", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir01"),
					(troop_set_slot, "trp_knight_9_29", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir01"),
					(troop_set_slot, "trp_knight_9_30", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir02"),
					(troop_set_slot, "trp_knight_9_31", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir03"),
					(troop_set_slot, "trp_knight_9_32", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir03"),
					(troop_set_slot, "trp_knight_9_33", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir04"),
					(troop_set_slot, "trp_knight_9_34", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir05"),
					(troop_set_slot, "trp_knight_9_35", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir06"),
					(troop_set_slot, "trp_knight_9_36", slot_troop_banner_scene_prop, "spr_banner_lords_swadia21"),
					(troop_set_slot, "trp_knight_9_37", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir07"),
					(troop_set_slot, "trp_knight_9_38", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir08"),
					(troop_set_slot, "trp_knight_9_39", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir09"),
					(troop_set_slot, "trp_knight_9_40", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir10"),
					(troop_set_slot, "trp_knight_9_41", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir11"),
					(troop_set_slot, "trp_knight_9_42", slot_troop_banner_scene_prop, "spr_banner_lords_khergit05"),
					(troop_set_slot, "trp_knight_9_43", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir12"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_10"),
					(troop_set_slot, "trp_knight_10_1", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir13"),
					(troop_set_slot, "trp_knight_10_2", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir14"),
					(troop_set_slot, "trp_knight_10_3", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir15"),
					(troop_set_slot, "trp_knight_10_4", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir16"),
					(troop_set_slot, "trp_knight_10_5", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir17"),
					(troop_set_slot, "trp_knight_10_6", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir18"),
					(troop_set_slot, "trp_knight_10_7", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir19"),
					(troop_set_slot, "trp_knight_10_8", slot_troop_banner_scene_prop, "spr_banner_lords_khergit09"),
					(troop_set_slot, "trp_knight_10_9", slot_troop_banner_scene_prop, "spr_banner_l03"),
					(troop_set_slot, "trp_knight_10_10", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir21"),
					(troop_set_slot, "trp_knight_10_11", slot_troop_banner_scene_prop, "spr_banner_l01"),
					(troop_set_slot, "trp_knight_10_12", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir20"),
					(troop_set_slot, "trp_knight_10_13", slot_troop_banner_scene_prop, "spr_banner_l04"),
					(troop_set_slot, "trp_knight_10_14", slot_troop_banner_scene_prop, "spr_banner_l05"),
					(troop_set_slot, "trp_knight_10_17", slot_troop_banner_scene_prop, "spr_banner_l06"),
					(troop_set_slot, "trp_knight_10_21", slot_troop_banner_scene_prop, "spr_banner_l07"),
					(troop_set_slot, "trp_knight_10_23", slot_troop_banner_scene_prop, "spr_banner_l08"),
					(troop_set_slot, "trp_knight_10_24", slot_troop_banner_scene_prop, "spr_banner_lords_swadia04"),
					(troop_set_slot, "trp_knight_10_25", slot_troop_banner_scene_prop, "spr_banner_l02"),
					(troop_set_slot, "trp_knight_10_26", slot_troop_banner_scene_prop, "spr_banner_l09"),
					(troop_set_slot, "trp_knight_10_27", slot_troop_banner_scene_prop, "spr_banner_lords_vaegir16"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_11"),
					(troop_set_slot, "trp_knight_11_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit10"),
					(troop_set_slot, "trp_knight_11_2", slot_troop_banner_scene_prop, "spr_banner_l10"),
					(troop_set_slot, "trp_knight_11_3", slot_troop_banner_scene_prop, "spr_banner_l11"),
					(troop_set_slot, "trp_knight_11_4", slot_troop_banner_scene_prop, "spr_banner_l12"),
					(troop_set_slot, "trp_knight_11_5", slot_troop_banner_scene_prop, "spr_banner_l13"),
					(troop_set_slot, "trp_knight_11_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit10"),
					(troop_set_slot, "trp_knight_11_7", slot_troop_banner_scene_prop, "spr_banner_l14"),
					(troop_set_slot, "trp_knight_11_8", slot_troop_banner_scene_prop, "spr_banner_l15"),
					(troop_set_slot, "trp_knight_11_9", slot_troop_banner_scene_prop, "spr_banner_l16"),
					(troop_set_slot, "trp_knight_11_10", slot_troop_banner_scene_prop, "spr_banner_l13"),
					(troop_set_slot, "trp_knight_11_11", slot_troop_banner_scene_prop, "spr_banner_l10"),
					(troop_set_slot, "trp_knight_11_12", slot_troop_banner_scene_prop, "spr_banner_l17"),
					(troop_set_slot, "trp_knight_11_13", slot_troop_banner_scene_prop, "spr_banner_l17"),
					(troop_set_slot, "trp_knight_11_14", slot_troop_banner_scene_prop, "spr_banner_l12"),
					(troop_set_slot, "trp_knight_11_15", slot_troop_banner_scene_prop, "spr_banner_lords_khergit10"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_12"),
					(troop_set_slot, "trp_knight_12_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
					(troop_set_slot, "trp_knight_12_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
					(troop_set_slot, "trp_knight_12_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
					(troop_set_slot, "trp_knight_12_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
					(troop_set_slot, "trp_knight_12_5", slot_troop_banner_scene_prop, "spr_banner_l07"),
					(troop_set_slot, "trp_knight_12_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
					(troop_set_slot, "trp_knight_12_7", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
					(troop_set_slot, "trp_knight_12_8", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
					(troop_set_slot, "trp_knight_12_9", slot_troop_banner_scene_prop, "spr_banner_lords_khergit11"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_13"),
					(troop_set_slot, "trp_knight_13_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit12"),
					(troop_set_slot, "trp_knight_13_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit12"),
					(troop_set_slot, "trp_knight_13_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit12"),
					(troop_set_slot, "trp_knight_13_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit12"),
					(troop_set_slot, "trp_knight_13_5", slot_troop_banner_scene_prop, "spr_banner_lords_nord17"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_14"),
					(troop_set_slot, "trp_knight_14_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit13"),
					(troop_set_slot, "trp_knight_14_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit13"),
					(troop_set_slot, "trp_knight_14_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit13"),
					(troop_set_slot, "trp_knight_14_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit13"),
					(troop_set_slot, "trp_knight_14_5", slot_troop_banner_scene_prop, "spr_banner_lords_khergit13"),
					(troop_set_slot, "trp_knight_14_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit13"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_15"),
					(troop_set_slot, "trp_knight_15_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit14"),
					(troop_set_slot, "trp_knight_15_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit14"),
					(troop_set_slot, "trp_knight_15_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit14"),
					(troop_set_slot, "trp_knight_15_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit14"),
					(troop_set_slot, "trp_knight_15_5", slot_troop_banner_scene_prop, "spr_banner_lords_khergit14"),
					(troop_set_slot, "trp_knight_15_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit14"),
					(troop_set_slot, "trp_knight_15_7", slot_troop_banner_scene_prop, "spr_banner_lords_rhodok09"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_16"),
					(troop_set_slot, "trp_knight_16_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit15"),
					(troop_set_slot, "trp_knight_16_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit15"),
					(troop_set_slot, "trp_knight_16_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit15"),
					(troop_set_slot, "trp_knight_16_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit15"),
					(troop_set_slot, "trp_knight_16_5", slot_troop_banner_scene_prop, "spr_banner_lords_khergit15"),
					(troop_set_slot, "trp_knight_16_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit15"),
					(troop_set_slot, "trp_knight_16_7", slot_troop_banner_scene_prop, "spr_banner_lords_nord07"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_17"),
					(troop_set_slot, "trp_knight_17_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit16"),
					(troop_set_slot, "trp_knight_17_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit16"),
					(troop_set_slot, "trp_knight_17_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit16"),
					(troop_set_slot, "trp_knight_17_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit16"),
					(troop_set_slot, "trp_knight_17_5", slot_troop_banner_scene_prop, "spr_banner_lords_khergit16"),
					(troop_set_slot, "trp_knight_17_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit16"),
					(troop_set_slot, "trp_knight_17_7", slot_troop_banner_scene_prop, "spr_banner_lords_khergit16"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_18"),
					(troop_set_slot, "trp_knight_18_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit17"),
					(troop_set_slot, "trp_knight_18_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit17"),
					(troop_set_slot, "trp_knight_18_3", slot_troop_banner_scene_prop, "spr_banner_l16"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_19"),
					(troop_set_slot, "trp_knight_19_1", slot_troop_banner_scene_prop, "spr_banner_l18"),
					(troop_set_slot, "trp_knight_19_2", slot_troop_banner_scene_prop, "spr_banner_l19"),
					(troop_set_slot, "trp_knight_19_3", slot_troop_banner_scene_prop, "spr_banner_l20"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_20"),
					(troop_set_slot, "trp_knight_20_1", slot_troop_banner_scene_prop, "spr_banner_lords_nord08"),
					(troop_set_slot, "trp_knight_20_2", slot_troop_banner_scene_prop, "spr_banner_l21"),
					(troop_set_slot, "trp_knight_20_3", slot_troop_banner_scene_prop, "spr_banner_j01"),
					(troop_set_slot, "trp_knight_20_4", slot_troop_banner_scene_prop, "spr_banner_j01"),
					(troop_set_slot, "trp_knight_20_5", slot_troop_banner_scene_prop, "spr_banner_j01"),
					(troop_set_slot, "trp_knight_20_6", slot_troop_banner_scene_prop, "spr_banner_j02"),
					(troop_set_slot, "trp_knight_20_7", slot_troop_banner_scene_prop, "spr_banner_j03"),
					(troop_set_slot, "trp_knight_20_8", slot_troop_banner_scene_prop, "spr_banner_j04"),
					(troop_set_slot, "trp_knight_20_9", slot_troop_banner_scene_prop, "spr_banner_j05"),
					(troop_set_slot, "trp_knight_20_10", slot_troop_banner_scene_prop, "spr_banner_j06"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_21"),
					(troop_set_slot, "trp_knight_21_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_5", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_7", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_8", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_9", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_10", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_11", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_12", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_13", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_14", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_15", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
					(troop_set_slot, "trp_knight_21_16", slot_troop_banner_scene_prop, "spr_banner_lords_khergit20"),
				(else_try),
					(eq, ":faction_of_troop_troop", "fac_kingdom_22"),
					(troop_set_slot, "trp_knight_22_1", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_2", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_3", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_4", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_5", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_6", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_7", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_8", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_9", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
					(troop_set_slot, "trp_knight_22_10", slot_troop_banner_scene_prop, "spr_banner_lords_khergit21"),
				(try_end),
				(store_character_level, ":character_level_troop", ":troop"),
				(store_mul, ":value_14", ":character_level_troop", ":character_level_troop"),
				(val_div, ":value_14", 4),
				(troop_get_slot, ":troop_age", ":troop", slot_troop_age),
				(store_mul, ":value_15", ":troop_age", ":troop_age"),
				(val_div, ":value_15", 8),
				(val_add, ":value_14", ":value_15"),
				(try_begin),
					(faction_slot_eq, ":faction_of_troop_troop", slot_faction_leader, ":troop"),
					(store_random_in_range, ":random_in_range_350_500", 350, 500),
				(else_try),
					(store_random_in_range, ":random_in_range_350_500", 100, 300),
				(try_end),
				(val_add, ":value_14", ":random_in_range_350_500"),
				(troop_set_slot, ":troop", slot_troop_renown, ":value_14"),
			(try_end),
			(try_for_range, ":troop_2", "trp_player", "trp_merchants_end"),
				(add_troop_note_tableau_mesh, ":troop_2", "tableau_troop_note_mesh"),
			(try_end),
			(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
				(add_party_note_tableau_mesh, ":party_2", "tableau_center_note_mesh"),
			(try_end),
			(try_for_range, ":number_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(is_between, ":number_2", "fac_kingdom_1", "fac_kingdoms_end"),
				(add_faction_note_tableau_mesh, ":number_2", "tableau_faction_note_mesh"),
			(else_try),
				(add_faction_note_tableau_mesh, ":number_2", "tableau_faction_note_mesh_banner"),
			(try_end),
			(call_script, "script_give_center_to_faction_aux", "p_town_1", "fac_kingdom_19"),
			(call_script, "script_give_center_to_faction_aux", "p_town_3", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_town_6", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_town_8", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_town_9", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_town_12", "fac_kingdom_12"),
			(call_script, "script_give_center_to_faction_aux", "p_town_16", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_town_17", "fac_kingdom_4"),
			(call_script, "script_give_center_to_faction_aux", "p_town_18", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_town_19", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_town_20", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_town_23", "fac_kingdom_8"),
			(call_script, "script_give_center_to_faction_aux", "p_town_24", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_town_25", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_town_26", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_town_27", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_town_30", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_town_31", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_town_32", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_town_33", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_town_34", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_town_35", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_town_36", "fac_kingdom_12"),
			(call_script, "script_give_center_to_faction_aux", "p_town_38", "fac_kingdom_18"),
			(call_script, "script_give_center_to_faction_aux", "p_town_40", "fac_kingdom_15"),
			(call_script, "script_give_center_to_faction_aux", "p_town_41", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_town_42", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_town_44", "fac_kingdom_5"),
			(call_script, "script_give_center_to_faction_aux", "p_town_45", "fac_kingdom_14"),
			(call_script, "script_give_center_to_faction_aux", "p_town_46", "fac_kingdom_13"),
			(call_script, "script_give_center_to_faction_aux", "p_town_47", "fac_kingdom_16"),
			(call_script, "script_give_center_to_faction_aux", "p_town_48", "fac_kingdom_16"),
			(call_script, "script_give_center_to_faction_aux", "p_town_49", "fac_kingdom_16"),
			(call_script, "script_give_center_to_faction_aux", "p_town_50", "fac_kingdom_16"),
			(call_script, "script_give_center_to_faction_aux", "p_town_51", "fac_kingdom_17"),
			(call_script, "script_give_center_to_faction_aux", "p_town_52", "fac_kingdom_17"),
			(call_script, "script_give_center_to_faction_aux", "p_town_53", "fac_kingdom_14"),
			(call_script, "script_give_center_to_faction_aux", "p_town_54", "fac_kingdom_15"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_1", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_2", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_3", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_4", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_5", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_6", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_7", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_8", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_9", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_10", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_11", "fac_kingdom_8"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_12", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_13", "fac_kingdom_8"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_14", "fac_kingdom_4"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_15", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_16", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_17", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_18", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_19", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_20", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_21", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_22", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_23", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_24", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_25", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_26", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_27", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_28", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_29", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_30", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_31", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_32", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_33", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_34", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_35", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_36", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_37", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_39", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_40", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_41", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_42", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_43", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_44", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_45", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_46", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_47", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_48", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_49", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_50", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_51", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_52", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_53", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_54", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_55", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_56", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_57", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_59", "fac_kingdom_8"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_60", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_61", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_63", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_64", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_65", "fac_kingdom_8"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_66", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_67", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_68", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_69", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_70", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_71", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_72", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_73", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_74", "fac_kingdom_4"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_75", "fac_kingdom_15"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_76", "fac_kingdom_13"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_77", "fac_kingdom_14"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_78", "fac_kingdom_12"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_79", "fac_kingdom_5"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_80", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_82", "fac_kingdom_4"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_83", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_84", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_85", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_86", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_87", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_88", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_89", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_90", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_91", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_92", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_93", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_95", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_96", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_99", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_100", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_104", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_105", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_106", "fac_kingdom_3"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_107", "fac_kingdom_16"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_108", "fac_kingdom_19"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_109", "fac_kingdom_19"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_110", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_111", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_112", "fac_kingdom_18"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_115", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_119", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_120", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_127", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_128", "fac_kingdom_15"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_129", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_130", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_131", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_132", "fac_kingdom_1"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_133", "fac_kingdom_10"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_134", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_135", "fac_kingdom_6"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_136", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_137", "fac_kingdom_8"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_138", "fac_kingdom_2"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_139", "fac_kingdom_9"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_140", "fac_kingdom_11"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_141", "fac_kingdom_13"),
			(call_script, "script_give_center_to_faction_aux", "p_castle_142", "fac_kingdom_5"),
			(call_script, "script_start_give_center_to_lord", "p_town_1", "trp_knight_19_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_3", "trp_knight_5_16", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_6", "trp_knight_1_18", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_8", "trp_knight_3_10", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_9", "trp_kingdom_2_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_12", "trp_kingdom_12_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_16", "trp_kingdom_9_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_17", "trp_kingdom_4_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_18", "trp_knight_9_15", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_19", "trp_kingdom_6_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_20", "trp_knight_6_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_23", "trp_kingdom_8_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_24", "trp_kingdom_9_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_25", "trp_knight_9_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_26", "trp_knight_5_11", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_27", "trp_knight_9_16", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_30", "trp_knight_10_9", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_31", "trp_knight_2_24", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_32", "trp_knight_10_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_33", "trp_kingdom_9_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_34", "trp_knight_11_9", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_35", "trp_knight_10_13", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_36", "trp_knight_12_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_38", "trp_kingdom_18_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_40", "trp_kingdom_15_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_41", "trp_knight_2_9", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_42", "trp_knight_10_14", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_44", "trp_kingdom_5_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_45", "trp_kingdom_14_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_46", "trp_kingdom_13_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_47", "trp_kingdom_16_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_48", "trp_knight_16_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_49", "trp_knight_16_5", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_50", "trp_knight_16_6", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_51", "trp_kingdom_17_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_52", "trp_knight_17_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_53", "trp_knight_14_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_town_54", "trp_knight_15_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_1", "trp_knight_3_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_2", "trp_knight_2_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_3", "trp_knight_1_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_4", "trp_knight_2_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_5", "trp_knight_9_37", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_6", "trp_knight_2_12", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_7", "trp_knight_5_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_8", "trp_knight_1_7", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_9", "trp_kingdom_2_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_10", "trp_knight_1_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_11", "trp_kingdom_8_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_12", "trp_knight_3_11", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_13", "trp_knight_8_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_14", "trp_knight_4_6", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_15", "trp_knight_2_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_16", "trp_knight_9_35", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_17", "trp_knight_2_5", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_18", "trp_knight_9_13", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_19", "trp_knight_2_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_20", "trp_knight_1_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_21", "trp_knight_3_13", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_22", "trp_knight_2_7", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_23", "trp_knight_3_12", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_24", "trp_knight_3_8", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_25", "trp_knight_1_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_26", "trp_knight_5_8", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_27", "trp_knight_1_16", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_28", "trp_knight_3_9", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_29", "trp_knight_9_42", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_30", "trp_knight_6_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_31", "trp_knight_9_14", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_32", "trp_knight_2_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_33", "trp_knight_3_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_34", "trp_kingdom_3_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_35", "trp_knight_3_5", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_36", "trp_knight_3_23", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_37", "trp_knight_5_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_39", "trp_knight_5_7", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_40", "trp_knight_1_8", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_41", "trp_knight_6_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_42", "trp_knight_6_8", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_43", "trp_knight_6_7", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_44", "trp_knight_6_10", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_45", "trp_knight_6_6", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_46", "trp_knight_6_22", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_47", "trp_knight_6_21", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_48", "trp_knight_6_12", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_49", "trp_knight_6_20", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_50", "trp_knight_1_8", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_51", "trp_knight_9_11", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_52", "trp_kingdom_9_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_53", "trp_knight_9_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_54", "trp_knight_9_9", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_55", "trp_knight_9_7", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_56", "trp_knight_9_6", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_57", "trp_knight_9_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_59", "trp_knight_8_6", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_60", "trp_knight_10_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_61", "trp_knight_10_6", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_63", "trp_knight_10_5", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_64", "trp_knight_10_26", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_65", "trp_knight_8_15", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_66", "trp_knight_10_11", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_67", "trp_knight_10_17", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_68", "trp_knight_10_10", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_69", "trp_knight_10_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_70", "trp_knight_10_12", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_71", "trp_knight_10_7", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_72", "trp_knight_10_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_73", "trp_knight_11_4", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_80", "trp_knight_6_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_82", "trp_kingdom_4_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_83", "trp_knight_1_10", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_84", "trp_knight_1_12", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_85", "trp_knight_1_11", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_86", "trp_knight_5_6", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_87", "trp_knight_9_19", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_88", "trp_knight_2_23", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_89", "trp_knight_5_5", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_90", "trp_knight_9_22", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_91", "trp_knight_11_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_92", "trp_knight_9_26", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_93", "trp_knight_6_11", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_95", "trp_knight_11_12", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_96", "trp_knight_11_14", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_99", "trp_knight_6_19", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_100", "trp_knight_3_25", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_104", "trp_knight_11_8", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_105", "trp_knight_10_24", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_106", "trp_knight_3_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_107", "trp_knight_16_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_108", "trp_knight_19_3", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_109", "trp_knight_19_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_110", "trp_knight_9_33", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_111", "trp_knight_10_21", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_112", "trp_knight_18_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_115", "trp_knight_10_23", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_119", "trp_knight_11_5", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_120", "trp_knight_11_7", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_127", "trp_knight_5_16", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_128", "trp_knight_15_1", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_129", "trp_kingdom_2_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_130", "trp_kingdom_1_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_131", "trp_knight_2_8", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_132", "trp_knight_1_18", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_133", "trp_kingdom_10_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_134", "trp_knight_6_9", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_135", "trp_knight_6_11", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_136", "trp_knight_9_10", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_137", "trp_knight_8_2", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_138", "trp_knight_2_22", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_139", "trp_knight_9_43", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_140", "trp_kingdom_11_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_141", "trp_kingdom_13_lord", 0),
			(call_script, "script_start_give_center_to_lord", "p_castle_142", "trp_kingdom_5_lord", 0),
			(troop_set_slot, "trp_kingdom_1_lord", slot_troop_home, "p_castle_130"),
			(troop_set_slot, "trp_kingdom_2_lord", slot_troop_home, "p_castle_129"),
			(troop_set_slot, "trp_kingdom_3_lord", slot_troop_home, "p_castle_34"),
			(troop_set_slot, "trp_kingdom_4_lord", slot_troop_home, "p_town_17"),
			(troop_set_slot, "trp_kingdom_5_lord", slot_troop_home, "p_town_44"),
			(troop_set_slot, "trp_kingdom_6_lord", slot_troop_home, "p_town_19"),
			(troop_set_slot, "trp_kingdom_8_lord", slot_troop_home, "p_town_23"),
			(troop_set_slot, "trp_kingdom_9_lord", slot_troop_home, "p_castle_52"),
			(troop_set_slot, "trp_kingdom_10_lord", slot_troop_home, "p_castle_133"),
			(troop_set_slot, "trp_kingdom_11_lord", slot_troop_home, "p_castle_140"),
			(troop_set_slot, "trp_kingdom_12_lord", slot_troop_home, "p_town_12"),
			(troop_set_slot, "trp_kingdom_13_lord", slot_troop_home, "p_town_46"),
			(troop_set_slot, "trp_kingdom_14_lord", slot_troop_home, "p_town_45"),
			(troop_set_slot, "trp_kingdom_15_lord", slot_troop_home, "p_town_40"),
			(troop_set_slot, "trp_kingdom_16_lord", slot_troop_home, "p_town_47"),
			(troop_set_slot, "trp_kingdom_17_lord", slot_troop_home, "p_town_51"),
			(troop_set_slot, "trp_kingdom_18_lord", slot_troop_home, "p_town_38"),
			(troop_set_slot, "trp_kingdom_19_lord", slot_troop_home, "p_town_1"),
			(troop_set_slot, "trp_kingdom_20_lord", slot_troop_home, "p_town_16"),
			(troop_set_slot, "trp_kingdom_21_lord", slot_troop_home, "p_town_31"),
			(troop_set_slot, "trp_kingdom_22_lord", slot_troop_home, "p_town_47"),
			(party_set_slot, "p_town_16", slot_center_ex_faction, "fac_kingdom_1"),
			(party_set_slot, "p_castle_29", slot_center_ex_faction, "fac_kingdom_2"),
			(party_set_slot, "p_town_16", slot_center_ex_faction, "fac_kingdom_8"),
			(party_set_slot, "p_town_26", slot_center_ex_faction, "fac_kingdom_9"),
			(party_set_slot, "p_town_25", slot_center_ex_faction, "fac_kingdom_10"),
			(party_set_slot, "p_castle_9", slot_center_ex_faction, "fac_kingdom_11"),
			(party_set_slot, "p_castle_74", slot_center_ex_faction, "fac_kingdom_12"),
			(party_set_slot, "p_castle_75", slot_center_ex_faction, "fac_kingdom_13"),
			(party_set_slot, "p_castle_75", slot_center_ex_faction, "fac_kingdom_14"),
			(party_set_slot, "p_town_46", slot_center_ex_faction, "fac_kingdom_15"),
			(party_set_slot, "p_town_40", slot_center_ex_faction, "fac_kingdom_16"),
			(party_set_slot, "p_town_51", slot_center_ex_faction, "fac_kingdom_18"),
			(party_set_slot, "p_town_16", slot_center_ex_faction, "fac_kingdom_20"),
			(call_script, "script_assign_lords_to_empty_centers"),
			(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
				(faction_get_slot, ":faction_of_party_party_2_culture", ":faction_of_party_party_2", slot_faction_culture),
				(party_set_slot, ":party_2", slot_center_culture, ":faction_of_party_party_2_culture"),
				(party_set_slot, ":party_2", slot_center_original_faction, ":faction_of_party_party_2"),
				(party_set_slot, ":party_2", slot_center_ex_faction, ":faction_of_party_party_2"),
				(party_get_slot, ":party_2_town_lord", ":party_2", slot_town_lord),
				(try_begin),
					(eq, ":party_2_town_lord", "trp_player"),
					(party_set_slot, ":party_2", 401, "trp_kingdom_heroes_including_player_begin"),
					(troop_slot_eq, "trp_player", slot_troop_home, ":party_2"),
					(neg|party_slot_ge, ":party_2", 402, 1),
					(party_set_slot, ":party_2", 402, "trp_kingdom_heroes_including_player_begin"),
				(else_try),
					(party_set_slot, ":party_2", 401, ":party_2_town_lord"),
					(ge, ":party_2_town_lord", 0),
					(troop_slot_eq, ":party_2_town_lord", slot_troop_home, ":party_2"),
					(neg|party_slot_ge, ":party_2", 402, 1),
					(party_set_slot, ":party_2", 402, ":party_2_town_lord"),
				(try_end),
			(try_end),
			(call_script, "script_update_village_market_towns"),
			(try_for_range, ":party_2", "p_town_1", "p_village_1"),
				(try_begin),
					(party_get_slot, ":faction_of_party_party_2", ":party_2", slot_center_original_faction),
					(neg|party_slot_eq, ":party_2", slot_center_ex_faction, ":faction_of_party_party_2"),
					(store_random_in_range, ":random_in_range_1_181", 1, 181),
					(val_mul, ":random_in_range_1_181", -24),
					(party_set_slot, ":party_2", 403, ":random_in_range_1_181"),
				(else_try),
					(party_get_slot, ":party_2_town_lord", ":party_2", slot_town_lord),
					(ge, ":party_2_town_lord", 1),
					(neg|party_slot_ge, ":party_2", 402, 1),
					(neg|troop_slot_ge, ":party_2_town_lord", 60, 1),
					(troop_set_slot, ":party_2_town_lord", slot_troop_home, ":party_2"),
				(try_end),
			(try_end),
			(try_for_range, ":value_5", "trp_npc1", "trp_heroes_end"),
			(try_end),
			(try_for_range, ":party_2", "p_town_1", "p_village_1"),
				(neg|party_slot_ge, ":party_2", 402, 1),
				(party_get_slot, ":faction_of_party_party_2", ":party_2", slot_center_original_faction),
				(party_slot_eq, ":party_2", slot_center_ex_faction, ":faction_of_party_party_2"),
				(party_get_slot, ":party_2_town_lord", ":party_2", slot_town_lord),
				(neg|troop_slot_ge, ":party_2_town_lord", 60, 1),
				(troop_set_slot, ":party_2_town_lord", slot_troop_home, ":party_2"),
			(try_end),
			(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
				(this_or_next|party_slot_eq, ":party_2", slot_party_type, 3),
				(party_slot_eq, ":party_2", slot_party_type, 4),
				(try_for_range, ":number_5", 0, 8),
					(call_script, "script_center_set_walker_to_type", ":party_2", ":number_5", 0),
				(try_end),
			(try_end),
			(call_script, "script_initialize_economic_information"),
			(try_for_range, ":party_7", "p_village_1", "p_salt_mine"),
				(call_script, "script_refresh_village_merchant_inventory", ":party_7"),
			(try_end),
			(try_for_range, ":value_5", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
				(try_begin),
					(store_faction_of_troop, ":faction_of_troop_value_5", ":value_5"),
					(is_between, ":faction_of_troop_value_5", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(troop_set_slot, ":value_5", slot_troop_original_faction, ":faction_of_troop_value_5"),
					(try_begin),
						(is_between, ":value_5", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
						(faction_set_slot, ":faction_of_troop_value_5", slot_faction_instability, 1),
					(try_end),
				(try_end),
				(assign, ":value_16", 6000),
				(try_begin),
					(store_faction_of_troop, ":faction_of_troop_value_5_2", ":value_5"),
					(faction_slot_eq, ":faction_of_troop_value_5_2", slot_faction_leader, ":value_5"),
					(assign, ":value_16", 20000),
				(try_end),
				(troop_set_slot, ":value_5", slot_troop_wealth, ":value_16"),
			(try_end),
			(try_for_range, ":party_2", "p_town_1", "p_village_1"),
				(assign, ":value_16", 2000),
				(try_begin),
					(is_between, ":party_2", "p_town_1", "p_castle_1"),
					(val_mul, ":value_16", 2),
				(try_end),
				(party_set_slot, ":party_2", slot_town_wealth, ":value_16"),
				(assign, ":value_17", 6),
				(try_begin),
					(party_slot_eq, ":party_2", slot_party_type, 3),
					(assign, ":value_17", 16),
				(try_end),
				(try_for_range, ":unused", 0, ":value_17"),
					(call_script, "script_cf_reinforce_party", ":party_2"),
				(try_end),
				(store_div, ":value_18", ":value_17", 5),
				(val_add, ":value_18", 2),
				(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
				(try_begin),
					(eq, ":game_reduce_campaign_ai", 0),
					(assign, ":value_19", 7500),
				(else_try),
					(eq, ":game_reduce_campaign_ai", 1),
					(assign, ":value_19", 5000),
				(else_try),
					(eq, ":game_reduce_campaign_ai", 2),
					(assign, ":value_19", 2500),
				(try_end),
				(try_for_range, ":unused", 0, ":value_18"),
					(party_upgrade_with_xp, ":party_2", ":value_19", 0),
				(try_end),
				(call_script, "script_center_get_food_store_limit", ":party_2"),
				(assign, ":var_61", reg0),
				(val_div, ":var_61", 2),
				(party_set_slot, ":party_2", slot_party_food_store, ":var_61"),
				(party_get_slot, ":party_2_town_lord_2", ":party_2", slot_town_lord),
				(ge, ":party_2_town_lord_2", 1),
				(troop_slot_eq, ":party_2_town_lord_2", slot_troop_leaded_party, 0),
				(assign, "$g_there_is_no_avaliable_centers", 0),
				(call_script, "script_create_kingdom_hero_party", ":party_2_town_lord_2", ":party_2"),
				(assign, ":var_63", "$pout_party"),
				(party_attach_to_party, ":var_63", ":party_2"),
				(party_set_slot, ":party_2", slot_town_player_odds, 1000),
			(try_end),
			(try_for_range, ":troop_3", "trp_npc1", "trp_kingdom_1_lord"),
				(try_for_range, ":troop_4", "trp_npc1", "trp_kingdom_1_lord"),
					(neq, ":troop_4", ":troop_3"),
					(neg|troop_slot_eq, ":troop_3", slot_troop_personalityclash_object, ":troop_4"),
					(neg|troop_slot_eq, ":troop_3", slot_troop_personalityclash2_object, ":troop_4"),
					(call_script, "script_troop_change_relation_with_troop", ":troop_3", ":troop_4", 7),
				(try_end),
			(try_end),
			(try_for_range, ":troop_5", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop_5", slot_troop_occupation, 2),
				(troop_get_slot, ":troop_5_original_faction", ":troop_5", slot_troop_original_faction),
				(try_for_range, ":troop_6", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
					(this_or_next|troop_slot_eq, ":troop_6", slot_troop_occupation, 2),
					(troop_slot_eq, ":troop_6", slot_troop_occupation, 9),
					(troop_get_slot, ":troop_6_original_faction", ":troop_6", slot_troop_original_faction),
					(eq, ":troop_6_original_faction", ":troop_5_original_faction"),
					(call_script, "script_troop_get_family_relation_to_troop", ":troop_5", ":troop_6"),
					(call_script, "script_troop_change_relation_with_troop", ":troop_5", ":troop_6", reg0),
					(store_random_in_range, ":random_in_range_0_11", 0, 11),
					(call_script, "script_troop_change_relation_with_troop", ":troop_5", ":troop_6", ":random_in_range_0_11"),
				(try_end),
			(try_end),
			(try_for_range, ":party_5", "p_town_1", "p_castle_1"),
				(try_for_range, ":number_6", 407, 422),
					(party_slot_eq, ":party_5", ":number_6", 0),
					(store_random_in_range, ":random_in_range_1_841", 1, 841),
					(val_mul, ":random_in_range_1_841", -1),
					(party_get_slot, ":party_5_town_prosperity", ":party_5", slot_town_prosperity),
					(val_clamp, ":party_5_town_prosperity", 0, 101),
					(val_add, ":party_5_town_prosperity", 75),
					(val_mul, ":random_in_range_1_841", 125),
					(val_div, ":random_in_range_1_841", ":party_5_town_prosperity"),
					(party_set_slot, ":party_5", ":number_6", ":random_in_range_1_841"),
				(try_end),
			(try_end),
			(try_for_range, ":party_4", "p_village_1", "p_salt_mine"),
				(party_get_slot, ":party_5_town_prosperity", ":party_5", slot_town_prosperity),
				(val_clamp, ":party_5_town_prosperity", 0, 101),
				(val_add, ":party_5_town_prosperity", 75),
				(store_random_in_range, ":random_in_range_1_841", 1, 169),
				(val_mul, ":random_in_range_1_841", -1),
				(val_mul, ":random_in_range_1_841", 125),
				(val_div, ":random_in_range_1_841", ":party_5_town_prosperity"),
				(party_set_slot, ":party_4", 407, ":random_in_range_1_841"),
				(store_random_in_range, ":random_in_range_1_841", 1, 169),
				(val_mul, ":random_in_range_1_841", -1),
				(val_mul, ":random_in_range_1_841", 125),
				(val_div, ":random_in_range_1_841", ":party_5_town_prosperity"),
				(party_set_slot, ":party_4", 408, ":random_in_range_1_841"),
			(try_end),
			(try_for_range, ":unused", 0, 5000),
				(call_script, "script_cf_random_political_event"),
			(try_end),
			(assign, "$total_random_quarrel_changes", 0),
			(assign, "$total_relation_adds", 0),
			(assign, "$total_relation_subs", 0),
			(try_for_range, ":faction_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(call_script, "script_evaluate_realm_stability", ":faction_2"),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg3, "$cheat_mode"),
				(display_message, "@{!}DEBUG : Completed political events, cheat mode: {reg3}"),
			(try_end),
			(try_for_range, ":troop_7", "trp_knight_1_1", "trp_kingdom_1_pretender"),
				(troop_slot_eq, ":troop_7", slot_troop_spouse, -1),
				(troop_slot_eq, ":troop_7", slot_troop_betrothed, -1),
				(neg|is_between, ":troop_7", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(neg|is_between, ":troop_7", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(call_script, "script_assign_troop_love_interests", ":troop_7"),
			(try_end),
			(store_random_in_range, "$romantic_attraction_seed", 0, 5),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg3, "$romantic_attraction_seed"),
				(display_message, "@{!}DEBUG : Assigned love interests. Attraction seed: {reg3}"),
			(try_end),
			(set_spawn_radius, 5),
			(try_for_range, ":party_4", "p_village_1", "p_salt_mine"),
				(store_random_in_range, ":random_in_range_0_5", 0, 5),
				(eq, ":random_in_range_0_5", 0),
				(spawn_around_party, ":party_4", "pt_looters_e"),
			(try_end),
			(call_script, "script_update_town_specialists"),
			(call_script, "script_update_companion_candidates_in_taverns"),
			(call_script, "script_update_ransom_brokers"),
			(call_script, "script_update_tavern_travellers"),
			(call_script, "script_update_tavern_minstrels"),
			(call_script, "script_update_booksellers"),
			(try_for_range, ":faction_3", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(call_script, "script_update_faction_notes", ":faction_3"),
				(store_random_in_range, ":random_in_range_0_value_6", -60, 0),
				(faction_set_slot, ":number_2", slot_faction_ai_last_offensive_time, ":random_in_range_0_value_6"),
			(try_end),
			(try_for_range, ":troop_7", "trp_kingdom_1_lord", "trp_knight_1_1_wife"),
				(call_script, "script_update_troop_notes", ":troop_7"),
			(try_end),
			(try_for_range, ":party_3", "p_town_1", "p_salt_mine"),
				(party_get_slot, ":faction_of_party_party_2", ":party_2", slot_center_original_faction),
				(try_begin),
					(is_between, ":faction_of_party_party_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(neg|party_slot_eq, ":party_2", slot_center_ex_faction, ":faction_of_party_party_2"),
					(faction_get_slot, reg0, ":faction_of_party_party_2", slot_faction_ai_last_offensive_time),
					(party_set_slot, ":party_2", 403, reg0),
				(try_end),
				(call_script, "script_update_center_notes", ":party_3"),
			(try_end),
			(call_script, "script_update_troop_notes", "trp_player"),
			(try_for_range, ":value_5", "trp_knight_1_1_wife", "trp_heroes_end"),
				(call_script, "script_get_kingdom_lady_social_determinants", ":value_5"),
				(troop_set_slot, ":value_5", slot_troop_cur_center, reg1),
				(ge, reg0, 0),
				(troop_get_slot, ":faction_of_party_party_2", reg0, slot_troop_original_faction),
				(troop_set_slot, ":value_5", slot_troop_original_faction, ":faction_of_party_party_2"),
			(try_end),
			(try_for_range, ":troop_8", "trp_knight_1_1_wife", "trp_heroes_end"),
				(troop_slot_eq, ":troop_8", slot_troop_occupation, 6),
				(troop_get_slot, ":troop_8_original_faction", ":troop_8", slot_troop_original_faction),
				(try_for_range, ":troop_6", "trp_npc1", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":troop_6", slot_troop_occupation, 6),
					(this_or_next|troop_slot_eq, ":troop_6", slot_troop_occupation, 2),
					(troop_slot_eq, ":troop_6", slot_troop_occupation, 9),
					(troop_slot_eq, ":troop_6", slot_troop_original_faction, ":troop_8_original_faction"),
					(neq, ":troop_6", ":troop_8"),
					(try_begin),
						(this_or_next|troop_slot_eq, ":troop_8", slot_troop_spouse, ":troop_6"),
						(troop_slot_eq, ":troop_6", slot_troop_spouse, ":troop_8"),
						(store_random_in_range, reg0, 0, 11),
					(else_try),
						(call_script, "script_troop_get_family_relation_to_troop", ":troop_8", ":troop_6"),
					(try_end),
					(call_script, "script_troop_change_relation_with_troop", ":troop_8", ":troop_6", reg0),
					(troop_slot_eq, ":troop_6", slot_troop_occupation, 6),
					(is_between, ":troop_6", "trp_knight_1_1_wife", "trp_heroes_end"),
					(store_random_in_range, ":random_in_range_0_11", 0, 11),
					(call_script, "script_troop_change_relation_with_troop", ":troop_8", ":troop_6", ":random_in_range_0_11"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg3, "$cheat_mode"),
				(display_message, "@{!}DEBUG : Located kingdom ladies, cheat mode: {reg3}"),
			(try_end),
			(try_for_range, ":number_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(call_script, "script_faction_recalculate_strength", ":number_2"),
			(try_end),
			(faction_set_slot, "fac_kingdom_1", slot_faction_adjective, "str_kingdom_1_adjective"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_adjective, "str_kingdom_2_adjective"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_adjective, "str_kingdom_3_adjective"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_adjective, "str_kingdom_4_adjective"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_adjective, "str_kingdom_5_adjective"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_adjective, "str_kingdom_6_adjective"),
			(faction_set_slot, "fac_kingdom_8", slot_faction_adjective, "str_kingdom_8_adjective"),
			(faction_set_slot, "fac_kingdom_9", slot_faction_adjective, "str_kingdom_9_adjective"),
			(faction_set_slot, "fac_kingdom_10", slot_faction_adjective, "str_kingdom_10_adjective"),
			(faction_set_slot, "fac_kingdom_11", slot_faction_adjective, "str_kingdom_11_adjective"),
			(faction_set_slot, "fac_kingdom_12", slot_faction_adjective, "str_kingdom_12_adjective"),
			(faction_set_slot, "fac_kingdom_13", slot_faction_adjective, "str_kingdom_13_adjective"),
			(faction_set_slot, "fac_kingdom_14", slot_faction_adjective, "str_kingdom_14_adjective"),
			(faction_set_slot, "fac_kingdom_15", slot_faction_adjective, "str_kingdom_15_adjective"),
			(faction_set_slot, "fac_kingdom_16", slot_faction_adjective, "str_kingdom_16_adjective"),
			(faction_set_slot, "fac_kingdom_17", slot_faction_adjective, "str_kingdom_17_adjective"),
			(faction_set_slot, "fac_kingdom_18", slot_faction_adjective, "str_kingdom_18_adjective"),
			(faction_set_slot, "fac_kingdom_19", slot_faction_adjective, "str_kingdom_19_adjective"),
			(faction_set_slot, "fac_kingdom_20", slot_faction_adjective, "str_kingdom_20_adjective"),
			(faction_set_slot, "fac_kingdom_21", slot_faction_adjective, "str_kingdom_21_adjective"),
			(faction_set_slot, "fac_kingdom_22", slot_faction_adjective, "str_kingdom_22_adjective"),
			(call_script, "script_get_player_party_morale_values"),
			(party_set_morale, "p_main_party", reg0),
			(troop_set_note_available, "trp_player", 1),
			(try_for_range, ":troop_2", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(troop_set_note_available, ":troop_2", 1),
			(try_end),
			(try_for_range, ":troop_2", "trp_knight_1_1", "trp_kingdom_1_pretender"),
				(troop_set_note_available, ":troop_2", 1),
			(try_end),
			(try_for_range, ":troop_2", "trp_knight_1_1_wife", "trp_heroes_end"),
				(troop_set_note_available, ":troop_2", 1),
			(try_end),
			(troop_set_note_available, "trp_knight_1_1_wife", 0),
			(try_for_range, ":troop_2", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(troop_set_note_available, ":troop_2", 1),
			(try_end),
			(try_for_range, ":number_2", "fac_kingdom_1", "fac_kingdoms_end"),
				(faction_set_note_available, ":number_2", 1),
			(try_end),
			(faction_set_note_available, "fac_neutral", 0),
			(try_for_range, ":party_8", "p_town_1", "p_salt_mine"),
				(party_set_note_available, ":party_8", 1),
			(try_end),
			(faction_set_note_available, "fac_kingdom_20", 0),
			(faction_set_slot, "fac_kingdom_20", slot_faction_state, 2),
			(faction_set_note_available, "fac_kingdom_21", 0),
			(faction_set_slot, "fac_kingdom_21", slot_faction_state, 2),
			(faction_set_note_available, "fac_kingdom_22", 0),
			(faction_set_slot, "fac_kingdom_22", slot_faction_state, 2),
			(troop_set_faction, "trp_kingdom_20_lord", "fac_kingdom_20"),
			(troop_set_note_available, "trp_kingdom_20_lord", 0),
			(troop_set_faction, "trp_kingdom_21_lord", "fac_kingdom_21"),
			(troop_set_note_available, "trp_kingdom_21_lord", 0),
			(troop_set_faction, "trp_kingdom_22_lord", "fac_kingdom_22"),
			(troop_set_note_available, "trp_kingdom_22_lord", 0),
			(try_for_range, ":troop_2", "trp_knight_20_1", "trp_knight_20_10"),
				(troop_set_faction, ":troop_2", "fac_kingdom_20"),
				(troop_set_note_available, ":troop_2", 0),
				(try_for_range, ":party", "p_town_1", "p_castle_1"),
					(this_or_next|eq, ":party", "p_town_8"),
					(this_or_next|eq, ":party", "p_town_12"),
					(this_or_next|eq, ":party", "p_town_16"),
					(this_or_next|eq, ":party", "p_town_17"),
					(this_or_next|eq, ":party", "p_town_19"),
					(this_or_next|eq, ":party", "p_town_24"),
					(this_or_next|eq, ":party", "p_town_31"),
					(this_or_next|eq, ":party", "p_town_32"),
					(this_or_next|eq, ":party", "p_town_40"),
					(this_or_next|eq, ":party", "p_town_45"),
					(this_or_next|eq, ":party", "p_town_46"),
					(this_or_next|eq, ":party", "p_town_47"),
					(eq, "$current_town", "p_town_52"),
					(store_random_in_range, ":random_in_range_800_4000", 800, 4000),
					(party_set_slot, ":party", 459, ":random_in_range_800_4000"),
					(val_div, ":random_in_range_800_4000", 200),
					(party_set_slot, ":party", 456, ":random_in_range_800_4000"),
				(else_try),
					(store_random_in_range, ":random_in_range_800_4000", 80, 120),
					(party_set_slot, ":party", 459, ":random_in_range_800_4000"),
					(val_div, ":random_in_range_800_4000", 200),
					(party_set_slot, ":party", 456, ":random_in_range_800_4000"),
				(try_end),
				(call_script, "script_init_temp_var"),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":number_2", ":troop_2"),
					(call_script, "script_troop_set_title_according_to_faction", ":troop_2", ":number_2"),
				(try_end)
		]),

	("mtt_troop_slots",
		[
			(troop_set_slot, "trp_troop_tree_0", 601, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 602, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 603, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 604, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 605, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 606, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 607, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 608, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 609, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 610, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 611, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 612, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 613, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 614, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 615, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 616, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 617, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 618, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 619, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 620, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 621, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 622, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 623, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 624, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 625, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 626, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 627, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 628, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 629, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 630, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 631, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_1", 601, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 602, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 603, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 604, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 605, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 606, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 607, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 608, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 609, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 610, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 611, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 612, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 613, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 614, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 615, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 616, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 617, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 618, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 619, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 620, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 621, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 622, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 623, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 624, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 625, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 626, "trp_mercenary_r_townsman"),
			(troop_set_slot, "trp_troop_tree_1", 627, "trp_mercenary_r_extra1"),
			(troop_set_slot, "trp_troop_tree_1", 628, "trp_mercenary_r_extra2"),
			(troop_set_slot, "trp_troop_tree_1", 629, "trp_mercenary_r_extra3"),
			(troop_set_slot, "trp_troop_tree_1", 630, "trp_mercenary_r_extra4"),
			(troop_set_slot, "trp_troop_tree_1", 631, "trp_mercenary_r_extra5"),
			(troop_set_slot, "trp_troop_tree_2", 601, "trp_mercenary_e_townsman"),
			(troop_set_slot, "trp_troop_tree_2", 602, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 603, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 604, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 605, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 606, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 607, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 608, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 609, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 610, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 611, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 612, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 613, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 623, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 615, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 616, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 617, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 618, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 619, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 620, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 621, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 622, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 614, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 624, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 625, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 626, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 627, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 628, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 629, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 630, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 631, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 632, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 633, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 634, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 635, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 636, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 637, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 638, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 639, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 640, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 641, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 642, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 643, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 644, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 645, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 646, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 647, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 648, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 649, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 650, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 651, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 652, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 653, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 654, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 655, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 656, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 657, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 658, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 659, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 660, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 661, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 662, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 632, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 633, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 634, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 635, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 636, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 637, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 638, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 639, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 640, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 641, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 642, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 643, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 644, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 645, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 646, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 647, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 648, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 649, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 650, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 651, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 652, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 653, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 654, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 655, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 656, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 657, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 658, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 659, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 660, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 661, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_1", 662, "trp_swadian_r_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 632, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 633, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 634, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 635, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 636, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 637, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 638, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 639, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 640, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 641, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 642, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 643, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 644, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 645, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 646, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 647, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 648, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 649, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 650, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 651, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 652, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 653, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 654, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 655, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 656, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 657, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 658, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 659, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 660, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 661, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_2", 662, "trp_swadian_e_peasant"),
			(troop_set_slot, "trp_troop_tree_0", 663, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 664, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 665, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 666, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 667, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 668, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 669, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 670, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 671, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 672, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 673, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 674, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 675, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 676, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 677, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 678, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 679, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 680, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 681, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 682, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 683, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 684, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 685, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 686, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 687, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 688, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 689, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 690, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 691, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 692, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 693, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 663, "trp_vaegir_r_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 664, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 665, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 666, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 667, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 668, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 669, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 670, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 671, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 672, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 673, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 674, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 675, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 676, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 677, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 678, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 679, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 680, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 681, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 682, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 683, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 684, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 685, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 686, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 687, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 688, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 689, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 690, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 691, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 692, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_1", 693, "trp_vaegir_n_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 663, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 664, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 665, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 666, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 667, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 668, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 669, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 670, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 671, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 672, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 673, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 674, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 675, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 676, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 677, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 678, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 679, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 680, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 681, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 682, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 683, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 684, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 685, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 686, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 687, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 688, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 689, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 690, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 691, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 692, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_2", 693, "trp_vaegir_e_kholop"),
			(troop_set_slot, "trp_troop_tree_0", 694, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 695, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 696, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 697, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 698, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 699, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 700, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 701, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 702, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 703, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 704, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 705, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 706, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 707, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 708, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 709, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 710, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 711, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 712, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 713, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 714, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 715, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 716, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 717, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 718, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 719, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 720, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 721, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 722, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 723, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 724, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 725, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 694, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 695, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 696, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 697, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 698, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 699, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 700, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 701, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 702, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 703, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 704, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 705, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 706, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 707, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 708, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 709, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 710, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 711, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 712, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 713, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 714, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 715, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 716, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 717, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 718, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 719, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 720, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 721, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 722, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 723, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 724, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_1", 725, "trp_khergit_n_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 694, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 695, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 696, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 697, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 698, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 699, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 700, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 702, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 703, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 704, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 705, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 706, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 707, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 708, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 709, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 701, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 710, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 711, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 712, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 713, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 714, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 715, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 716, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 717, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 718, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 719, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 720, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 721, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 722, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 723, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 724, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_2", 725, "trp_khergit_e_tariachin"),
			(troop_set_slot, "trp_troop_tree_0", 726, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 727, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 728, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 729, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 730, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 731, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 732, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 733, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 734, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 735, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 736, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 737, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 738, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 739, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 740, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 741, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 742, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 743, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 744, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 745, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 746, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 747, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 748, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 749, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 750, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 751, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 752, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 753, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 754, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 755, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 756, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 757, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 758, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 726, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 727, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 728, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 729, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 730, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 731, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 732, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 733, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 734, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 735, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 736, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 737, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 738, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 739, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 740, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 741, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 742, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 743, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 744, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 745, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 746, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 747, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 748, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 749, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 750, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 751, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 752, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 753, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 754, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 755, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 756, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 757, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_1", 758, "trp_nord_n_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 726, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 727, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 728, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 729, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 730, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 731, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 732, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 733, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 734, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 735, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 736, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 737, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 738, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 739, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 740, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 741, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 742, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 743, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 744, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 745, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 746, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 747, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 748, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 749, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 750, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 751, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 752, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 753, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 754, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 755, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 756, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 757, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_2", 758, "trp_nord_e_bondi"),
			(troop_set_slot, "trp_troop_tree_0", 759, "trp_rhodok_n_cittadino"),
			(troop_set_slot, "trp_troop_tree_0", 760, "trp_rhodok_n_novizio"),
			(troop_set_slot, "trp_troop_tree_0", 761, "trp_rhodok_n_recluta_balestriere"),
			(troop_set_slot, "trp_troop_tree_0", 762, "trp_rhodok_n_milizia"),
			(troop_set_slot, "trp_troop_tree_0", 763, "trp_rhodok_n_milizia_balestriere"),
			(troop_set_slot, "trp_troop_tree_0", 764, "trp_rhodok_n_milizia_balestriere"),
			(troop_set_slot, "trp_troop_tree_0", 765, "trp_rhodok_n_milizia"),
			(troop_set_slot, "trp_troop_tree_0", 766, "trp_rhodok_n_fante"),
			(troop_set_slot, "trp_troop_tree_0", 767, "trp_rhodok_n_fante"),
			(troop_set_slot, "trp_troop_tree_0", 768, "trp_rhodok_n_balestriere"),
			(troop_set_slot, "trp_troop_tree_0", 769, "trp_rhodok_n_balestriere"),
			(troop_set_slot, "trp_troop_tree_0", 770, "trp_rhodok_n_fante"),
			(troop_set_slot, "trp_troop_tree_0", 771, "trp_rhodok_n_fante"),
			(troop_set_slot, "trp_troop_tree_0", 772, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 773, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 774, "trp_rhodok_n_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 775, "trp_rhodok_n_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 776, "trp_rhodok_n_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 777, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 778, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 779, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 780, "trp_rhodok_n_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 781, "trp_rhodok_n_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 782, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 783, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 784, "trp_rhodok_n_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 785, "trp_rhodok_n_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_0", 786, "trp_rhodok_n_extra1"),
			(troop_set_slot, "trp_troop_tree_0", 787, "trp_rhodok_n_extra2"),
			(troop_set_slot, "trp_troop_tree_0", 788, "trp_rhodok_n_extra3"),
			(troop_set_slot, "trp_troop_tree_0", 789, "trp_rhodok_n_extra4"),
			(troop_set_slot, "trp_troop_tree_0", 790, "trp_rhodok_n_extra5"),
			(troop_set_slot, "trp_troop_tree_1", 759, "trp_rhodok_r_cittadino"),
			(troop_set_slot, "trp_troop_tree_1", 760, "trp_rhodok_r_novizio"),
			(troop_set_slot, "trp_troop_tree_1", 761, "trp_rhodok_r_recluta"),
			(troop_set_slot, "trp_troop_tree_1", 762, "trp_rhodok_r_lanciere_a_cavallo"),
			(troop_set_slot, "trp_troop_tree_1", 763, "trp_rhodok_r_recluta_balestriere"),
			(troop_set_slot, "trp_troop_tree_1", 764, "trp_rhodok_r_recluta_balestriere"),
			(troop_set_slot, "trp_troop_tree_1", 765, "trp_rhodok_r_lanciere"),
			(troop_set_slot, "trp_troop_tree_1", 766, "trp_rhodok_r_lanza_spezzata"),
			(troop_set_slot, "trp_troop_tree_1", 767, "trp_rhodok_r_fante"),
			(troop_set_slot, "trp_troop_tree_1", 768, "trp_rhodok_r_balestriere"),
			(troop_set_slot, "trp_troop_tree_1", 769, "trp_rhodok_r_balestriere_leggero"),
			(troop_set_slot, "trp_troop_tree_1", 770, "trp_rhodok_r_lanciere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 771, "trp_rhodok_r_lanza_spezzata"),
			(troop_set_slot, "trp_troop_tree_1", 772, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 773, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 774, "trp_rhodok_r_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 775, "trp_rhodok_r_balestriere_d_assedio"),
			(troop_set_slot, "trp_troop_tree_1", 776, "trp_rhodok_r_balestriere_d_assedio"),
			(troop_set_slot, "trp_troop_tree_1", 777, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 778, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 779, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 780, "trp_rhodok_r_capitano_d_assedio"),
			(troop_set_slot, "trp_troop_tree_1", 781, "trp_rhodok_r_capitano_d_assedio"),
			(troop_set_slot, "trp_troop_tree_1", 782, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 783, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 784, "trp_rhodok_r_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_1", 785, "trp_rhodok_r_capitano_d_assedio"),
			(troop_set_slot, "trp_troop_tree_1", 786, "trp_rhodok_r_extra1"),
			(troop_set_slot, "trp_troop_tree_1", 787, "trp_rhodok_r_extra2"),
			(troop_set_slot, "trp_troop_tree_1", 788, "trp_rhodok_r_extra3"),
			(troop_set_slot, "trp_troop_tree_1", 789, "trp_rhodok_r_extra4"),
			(troop_set_slot, "trp_troop_tree_1", 790, "trp_rhodok_r_extra5"),
			(troop_set_slot, "trp_troop_tree_2", 759, "trp_rhodok_e_cittadino"),
			(troop_set_slot, "trp_troop_tree_2", 760, "trp_rhodok_e_novizio"),
			(troop_set_slot, "trp_troop_tree_2", 761, "trp_rhodok_e_recluta"),
			(troop_set_slot, "trp_troop_tree_2", 762, "trp_rhodok_e_milizia"),
			(troop_set_slot, "trp_troop_tree_2", 763, "trp_rhodok_e_milizia_balestriere"),
			(troop_set_slot, "trp_troop_tree_2", 764, "trp_rhodok_e_recluta_balestriere"),
			(troop_set_slot, "trp_troop_tree_2", 765, "trp_rhodok_e_lanciere"),
			(troop_set_slot, "trp_troop_tree_2", 766, "trp_rhodok_e_lanza_spezzata"),
			(troop_set_slot, "trp_troop_tree_2", 767, "trp_rhodok_e_fante"),
			(troop_set_slot, "trp_troop_tree_2", 768, "trp_rhodok_e_balestriere"),
			(troop_set_slot, "trp_troop_tree_2", 769, "trp_rhodok_e_balestriere_leggero"),
			(troop_set_slot, "trp_troop_tree_2", 770, "trp_rhodok_e_lanciere_veterano"),
			(troop_set_slot, "trp_troop_tree_2", 771, "trp_rhodok_e_lanciere_a_cavallo"),
			(troop_set_slot, "trp_troop_tree_2", 772, "trp_rhodok_e_provisionato"),
			(troop_set_slot, "trp_troop_tree_2", 773, "trp_rhodok_e_veterano"),
			(troop_set_slot, "trp_troop_tree_2", 774, "trp_rhodok_e_balestriere_veterano"),
			(troop_set_slot, "trp_troop_tree_2", 775, "trp_rhodok_e_balestriere_d_assedio"),
			(troop_set_slot, "trp_troop_tree_2", 776, "trp_rhodok_e_balestriere_a_cavallo"),
			(troop_set_slot, "trp_troop_tree_2", 777, "trp_rhodok_e_picchiere_veterano"),
			(troop_set_slot, "trp_troop_tree_2", 778, "trp_rhodok_e_guardia"),
			(troop_set_slot, "trp_troop_tree_2", 779, "trp_rhodok_e_capitano_di_ventura"),
			(troop_set_slot, "trp_troop_tree_2", 780, "trp_rhodok_e_balestriere_pesante"),
			(troop_set_slot, "trp_troop_tree_2", 781, "trp_rhodok_e_capitano_d_assedio"),
			(troop_set_slot, "trp_troop_tree_2", 782, "trp_rhodok_e_picchiere_fiammingo"),
			(troop_set_slot, "trp_troop_tree_2", 783, "trp_rhodok_e_guardia_ducale"),
			(troop_set_slot, "trp_troop_tree_2", 784, "trp_rhodok_e_condottiero"),
			(troop_set_slot, "trp_troop_tree_2", 785, "trp_rhodok_e_condottiero_d_assedio"),
			(troop_set_slot, "trp_troop_tree_2", 786, "trp_rhodok_e_extra1"),
			(troop_set_slot, "trp_troop_tree_2", 787, "trp_rhodok_e_extra2"),
			(troop_set_slot, "trp_troop_tree_2", 788, "trp_rhodok_e_extra3"),
			(troop_set_slot, "trp_troop_tree_2", 789, "trp_rhodok_e_extra4"),
			(troop_set_slot, "trp_troop_tree_2", 790, "trp_rhodok_e_extra5"),
			(troop_set_slot, "trp_troop_tree_0", 791, "trp_sarranid_n_millet"),
			(troop_set_slot, "trp_troop_tree_0", 792, "trp_sarranid_n_ajam"),
			(troop_set_slot, "trp_troop_tree_0", 793, "trp_sarranid_n_ajam"),
			(troop_set_slot, "trp_troop_tree_0", 794, "trp_sarranid_n_cemaat"),
			(troop_set_slot, "trp_troop_tree_0", 795, "trp_sarranid_n_cemaat"),
			(troop_set_slot, "trp_troop_tree_0", 796, "trp_sarranid_n_jebelus"),
			(troop_set_slot, "trp_troop_tree_0", 797, "trp_sarranid_n_jebelus"),
			(troop_set_slot, "trp_troop_tree_0", 798, "trp_sarranid_n_timariot"),
			(troop_set_slot, "trp_troop_tree_0", 799, "trp_sarranid_n_timariot"),
			(troop_set_slot, "trp_troop_tree_0", 800, "trp_sarranid_n_yerliyya"),
			(troop_set_slot, "trp_troop_tree_0", 801, "trp_sarranid_n_yerliyya"),
			(troop_set_slot, "trp_troop_tree_0", 802, "trp_sarranid_n_garip"),
			(troop_set_slot, "trp_troop_tree_0", 803, "trp_sarranid_n_timariot"),
			(troop_set_slot, "trp_troop_tree_0", 804, "trp_sarranid_n_garip"),
			(troop_set_slot, "trp_troop_tree_0", 805, "trp_sarranid_n_garip"),
			(troop_set_slot, "trp_troop_tree_0", 806, "trp_sarranid_n_kapikula"),
			(troop_set_slot, "trp_troop_tree_0", 807, "trp_sarranid_n_yeniceri"),
			(troop_set_slot, "trp_troop_tree_0", 808, "trp_sarranid_n_yeniceri"),
			(troop_set_slot, "trp_troop_tree_0", 809, "trp_sarranid_n_uluteci"),
			(troop_set_slot, "trp_troop_tree_0", 810, "trp_sarranid_n_uluteci"),
			(troop_set_slot, "trp_troop_tree_0", 811, "trp_sarranid_n_yeniceri"),
			(troop_set_slot, "trp_troop_tree_0", 812, "trp_sarranid_n_yeniceri"),
			(troop_set_slot, "trp_troop_tree_0", 813, "trp_sarranid_n_kapikula"),
			(troop_set_slot, "trp_troop_tree_0", 814, "trp_sarranid_n_kapikula"),
			(troop_set_slot, "trp_troop_tree_0", 815, "trp_sarranid_n_uluteci"),
			(troop_set_slot, "trp_troop_tree_0", 816, "trp_sarranid_n_uluteci"),
			(troop_set_slot, "trp_troop_tree_0", 817, "trp_sarranid_n_kapikula"),
			(troop_set_slot, "trp_troop_tree_0", 818, "trp_sarranid_n_uluteci"),
			(troop_set_slot, "trp_troop_tree_0", 819, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_0", 820, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_0", 821, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_0", 822, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_0", 823, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_1", 791, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 792, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 793, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 794, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 795, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 796, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 797, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 798, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 799, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 800, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 801, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 802, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 803, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 804, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 805, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 806, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 807, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 808, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 809, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 810, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 811, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 812, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 813, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 814, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 815, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 816, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 817, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 818, "trp_sarranid_n_jebelus23"),
			(troop_set_slot, "trp_troop_tree_1", 819, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_1", 820, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_1", 821, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_1", 822, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_1", 823, "trp_sarranid_n_cemaat22"),
			(troop_set_slot, "trp_troop_tree_2", 791, "trp_sarranid_e_millet"),
			(troop_set_slot, "trp_troop_tree_2", 792, "trp_sarranid_e_ajam"),
			(troop_set_slot, "trp_troop_tree_2", 793, "trp_sarranid_e_oglan"),
			(troop_set_slot, "trp_troop_tree_2", 794, "trp_sarranid_e_azab"),
			(troop_set_slot, "trp_troop_tree_2", 795, "trp_sarranid_e_cemaat"),
			(troop_set_slot, "trp_troop_tree_2", 796, "trp_sarranid_e_jebelus"),
			(troop_set_slot, "trp_troop_tree_2", 797, "trp_sarranid_e_ghulam"),
			(troop_set_slot, "trp_troop_tree_2", 798, "trp_sarranid_e_al_haqa"),
			(troop_set_slot, "trp_troop_tree_2", 799, "trp_sarranid_e_timariot"),
			(troop_set_slot, "trp_troop_tree_2", 800, "trp_sarranid_e_yerliyya"),
			(troop_set_slot, "trp_troop_tree_2", 801, "trp_sarranid_e_kapikulu_savari"),
			(troop_set_slot, "trp_troop_tree_2", 802, "trp_sarranid_e_garip"),
			(troop_set_slot, "trp_troop_tree_2", 803, "trp_sarranid_e_badw"),
			(troop_set_slot, "trp_troop_tree_2", 804, "trp_sarranid_e_serdengecti"),
			(troop_set_slot, "trp_troop_tree_2", 805, "trp_sarranid_e_tabardariyya"),
			(troop_set_slot, "trp_troop_tree_2", 806, "trp_sarranid_e_kapikula"),
			(troop_set_slot, "trp_troop_tree_2", 807, "trp_sarranid_e_yeniceri"),
			(troop_set_slot, "trp_troop_tree_2", 808, "trp_sarranid_e_beylik"),
			(troop_set_slot, "trp_troop_tree_2", 809, "trp_sarranid_e_uluteci"),
			(troop_set_slot, "trp_troop_tree_2", 810, "trp_sarranid_e_akinci"),
			(troop_set_slot, "trp_troop_tree_2", 811, "trp_sarranid_e_terkes_serdengecti"),
			(troop_set_slot, "trp_troop_tree_2", 812, "trp_sarranid_e_qilich_arslan"),
			(troop_set_slot, "trp_troop_tree_2", 813, "trp_sarranid_e_memluk"),
			(troop_set_slot, "trp_troop_tree_2", 814, "trp_sarranid_e_sekban"),
			(troop_set_slot, "trp_troop_tree_2", 815, "trp_sarranid_e_silahtar"),
			(troop_set_slot, "trp_troop_tree_2", 816, "trp_sarranid_e_sipahi"),
			(troop_set_slot, "trp_troop_tree_2", 817, "trp_sarranid_e_hasham"),
			(troop_set_slot, "trp_troop_tree_2", 818, "trp_sarranid_e_iqta_dar"),
			(troop_set_slot, "trp_troop_tree_2", 819, "trp_sarranid_e_extra1"),
			(troop_set_slot, "trp_troop_tree_2", 820, "trp_sarranid_e_extra2"),
			(troop_set_slot, "trp_troop_tree_2", 821, "trp_sarranid_e_extra3"),
			(troop_set_slot, "trp_troop_tree_2", 822, "trp_sarranid_e_extra4"),
			(troop_set_slot, "trp_troop_tree_2", 823, "trp_sarranid_e_extra5"),
			(troop_set_slot, "trp_troop_tree_0", 824, "trp_custom_n_recruit"),
			(troop_set_slot, "trp_troop_tree_0", 825, "trp_custom_n_militia"),
			(troop_set_slot, "trp_troop_tree_0", 826, "trp_custom_n_militia"),
			(troop_set_slot, "trp_troop_tree_0", 827, "trp_custom_n_guard"),
			(troop_set_slot, "trp_troop_tree_0", 828, "trp_custom_n_page"),
			(troop_set_slot, "trp_troop_tree_0", 829, "trp_custom_n_guard"),
			(troop_set_slot, "trp_troop_tree_0", 830, "trp_custom_n_swordman"),
			(troop_set_slot, "trp_troop_tree_0", 831, "trp_custom_n_swordman"),
			(troop_set_slot, "trp_troop_tree_0", 832, "trp_custom_n_squire"),
			(troop_set_slot, "trp_troop_tree_0", 833, "trp_custom_n_archer"),
			(troop_set_slot, "trp_troop_tree_0", 834, "trp_custom_n_archer"),
			(troop_set_slot, "trp_troop_tree_0", 835, "trp_custom_n_swordmaster"),
			(troop_set_slot, "trp_troop_tree_0", 836, "trp_custom_n_swordmaster"),
			(troop_set_slot, "trp_troop_tree_0", 837, "trp_custom_n_knight"),
			(troop_set_slot, "trp_troop_tree_0", 838, "trp_custom_n_expert_archer"),
			(troop_set_slot, "trp_troop_tree_0", 839, "trp_custom_n_expert_archer"),
			(troop_set_slot, "trp_troop_tree_0", 840, "trp_custom_n_expert_archer"),
			(troop_set_slot, "trp_troop_tree_0", 841, "trp_custom_n_knight"),
			(troop_set_slot, "trp_troop_tree_0", 842, "trp_custom_n_expert_archer"),
			(troop_set_slot, "trp_troop_tree_1", 824, "trp_custom_r_recruit"),
			(troop_set_slot, "trp_troop_tree_1", 825, "trp_custom_r_militia"),
			(troop_set_slot, "trp_troop_tree_1", 826, "trp_custom_r_hunter"),
			(troop_set_slot, "trp_troop_tree_1", 827, "trp_custom_r_guard"),
			(troop_set_slot, "trp_troop_tree_1", 828, "trp_custom_r_page"),
			(troop_set_slot, "trp_troop_tree_1", 829, "trp_custom_r_woodsman"),
			(troop_set_slot, "trp_troop_tree_1", 830, "trp_custom_r_swordman"),
			(troop_set_slot, "trp_troop_tree_1", 831, "trp_custom_r_spearman"),
			(troop_set_slot, "trp_troop_tree_1", 832, "trp_custom_r_squire"),
			(troop_set_slot, "trp_troop_tree_1", 833, "trp_custom_r_archer"),
			(troop_set_slot, "trp_troop_tree_1", 834, "trp_custom_r_skirmisher"),
			(troop_set_slot, "trp_troop_tree_1", 835, "trp_custom_r_swordmaster"),
			(troop_set_slot, "trp_troop_tree_1", 836, "trp_custom_r_swordmaster"),
			(troop_set_slot, "trp_troop_tree_1", 837, "trp_custom_r_knight"),
			(troop_set_slot, "trp_troop_tree_1", 838, "trp_custom_r_expert_archer"),
			(troop_set_slot, "trp_troop_tree_1", 839, "trp_custom_r_expert_archer"),
			(troop_set_slot, "trp_troop_tree_1", 840, "trp_custom_r_frontline_skirmisher"),
			(troop_set_slot, "trp_troop_tree_1", 841, "trp_custom_r_knight"),
			(troop_set_slot, "trp_troop_tree_1", 842, "trp_custom_r_expert_archer"),
			(troop_set_slot, "trp_troop_tree_2", 824, "trp_sarranid_n_garip2"),
			(troop_set_slot, "trp_troop_tree_2", 825, "trp_custom_e_militia"),
			(troop_set_slot, "trp_troop_tree_2", 826, "trp_custom_e_hunter"),
			(troop_set_slot, "trp_troop_tree_2", 827, "trp_custom_e_guard"),
			(troop_set_slot, "trp_troop_tree_2", 828, "trp_custom_e_page"),
			(troop_set_slot, "trp_troop_tree_2", 829, "trp_custom_e_woodsman"),
			(troop_set_slot, "trp_troop_tree_2", 830, "trp_custom_e_swordman"),
			(troop_set_slot, "trp_troop_tree_2", 831, "trp_custom_e_spearman"),
			(troop_set_slot, "trp_troop_tree_2", 832, "trp_custom_e_squire"),
			(troop_set_slot, "trp_troop_tree_2", 833, "trp_custom_e_archer"),
			(troop_set_slot, "trp_troop_tree_2", 834, "trp_custom_e_skirmisher"),
			(troop_set_slot, "trp_troop_tree_2", 835, "trp_custom_e_swordmaster"),
			(troop_set_slot, "trp_troop_tree_2", 836, "trp_custom_e_spearmaster"),
			(troop_set_slot, "trp_troop_tree_2", 837, "trp_custom_e_knight"),
			(troop_set_slot, "trp_troop_tree_2", 838, "trp_custom_e_horse_archer"),
			(troop_set_slot, "trp_troop_tree_2", 839, "trp_custom_e_expert_archer"),
			(troop_set_slot, "trp_troop_tree_2", 840, "trp_custom_e_frontline_skirmisher"),
			(troop_set_slot, "trp_troop_tree_2", 841, "trp_custom_e_heavy_knight"),
			(troop_set_slot, "trp_troop_tree_2", 842, "trp_custom_e_heavy_horse_archer"),
			(troop_set_slot, "trp_troop_tree_0", 843, "trp_bandit_n_looter"),
			(troop_set_slot, "trp_troop_tree_0", 844, "trp_bandit_n_bandit"),
			(troop_set_slot, "trp_troop_tree_0", 845, "trp_bandit_n_brigand"),
			(troop_set_slot, "trp_troop_tree_0", 846, "trp_bandit_n_mountain"),
			(troop_set_slot, "trp_troop_tree_0", 847, "trp_bandit_n_forest"),
			(troop_set_slot, "trp_troop_tree_0", 848, "trp_bandit_n_sea_raider"),
			(troop_set_slot, "trp_troop_tree_0", 849, "trp_bandit_n_steppe"),
			(troop_set_slot, "trp_troop_tree_0", 850, "trp_bandit_n_taiga"),
			(troop_set_slot, "trp_troop_tree_0", 851, "trp_bandit_n_desert"),
			(troop_set_slot, "trp_troop_tree_0", 852, "trp_bandit_n_black_khergit_horseman"),
			(troop_set_slot, "trp_troop_tree_0", 853, "trp_bandit_n_manhunter"),
			(troop_set_slot, "trp_troop_tree_0", 854, "trp_bandit_n_slave_driver"),
			(troop_set_slot, "trp_troop_tree_0", 855, "trp_bandit_n_slave_hunter"),
			(troop_set_slot, "trp_troop_tree_0", 856, "trp_bandit_n_slave_crusher"),
			(troop_set_slot, "trp_troop_tree_0", 857, "trp_bandit_n_slaver_chief"),
			(troop_set_slot, "trp_troop_tree_1", 843, "trp_bandit_r_looter"),
			(troop_set_slot, "trp_troop_tree_1", 844, "trp_bandit_r_bandit"),
			(troop_set_slot, "trp_troop_tree_1", 845, "trp_bandit_r_brigand"),
			(troop_set_slot, "trp_troop_tree_1", 846, "trp_bandit_r_mountain"),
			(troop_set_slot, "trp_troop_tree_1", 847, "trp_bandit_r_forest"),
			(troop_set_slot, "trp_troop_tree_1", 848, "trp_bandit_r_sea_raider"),
			(troop_set_slot, "trp_troop_tree_1", 849, "trp_bandit_r_steppe"),
			(troop_set_slot, "trp_troop_tree_1", 850, "trp_bandit_r_taiga"),
			(troop_set_slot, "trp_troop_tree_1", 851, "trp_bandit_r_desert"),
			(troop_set_slot, "trp_troop_tree_1", 852, "trp_bandit_r_black_khergit_horseman"),
			(troop_set_slot, "trp_troop_tree_1", 853, "trp_bandit_r_manhunter"),
			(troop_set_slot, "trp_troop_tree_1", 854, "trp_bandit_r_slave_driver"),
			(troop_set_slot, "trp_troop_tree_1", 855, "trp_bandit_r_slave_hunter"),
			(troop_set_slot, "trp_troop_tree_1", 856, "trp_bandit_r_slave_crusher"),
			(troop_set_slot, "trp_troop_tree_1", 857, "trp_bandit_r_slaver_chief"),
			(troop_set_slot, "trp_troop_tree_2", 843, "trp_bandit_e_looter"),
			(troop_set_slot, "trp_troop_tree_2", 844, "trp_bandit_e_bandit"),
			(troop_set_slot, "trp_troop_tree_2", 845, "trp_bandit_e_brigand"),
			(troop_set_slot, "trp_troop_tree_2", 846, "trp_bandit_e_mountain"),
			(troop_set_slot, "trp_troop_tree_2", 847, "trp_bandit_e_forest"),
			(troop_set_slot, "trp_troop_tree_2", 848, "trp_bandit_e_sea_raider"),
			(troop_set_slot, "trp_troop_tree_2", 849, "trp_bandit_e_steppe"),
			(troop_set_slot, "trp_troop_tree_2", 850, "trp_bandit_e_taiga"),
			(troop_set_slot, "trp_troop_tree_2", 851, "trp_bandit_e_desert"),
			(troop_set_slot, "trp_troop_tree_2", 852, "trp_bandit_e_black_khergit_horseman"),
			(troop_set_slot, "trp_troop_tree_2", 853, "trp_bandit_e_manhunter"),
			(troop_set_slot, "trp_troop_tree_2", 854, "trp_bandit_e_slave_driver"),
			(troop_set_slot, "trp_troop_tree_2", 855, "trp_bandit_e_slave_hunter"),
			(troop_set_slot, "trp_troop_tree_2", 856, "trp_bandit_e_slave_crusher"),
			(troop_set_slot, "trp_troop_tree_2", 857, "trp_bandit_e_slaver_chief"),
			(troop_set_slot, "trp_troop_tree_0", 858, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 859, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 860, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 861, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 862, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 863, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 864, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 865, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 866, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 867, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 868, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 869, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 870, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 871, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 872, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 873, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 874, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 875, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 876, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 877, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 878, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 879, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 880, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 881, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 882, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 883, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 884, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_0", 885, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 886, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 887, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 888, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_0", 889, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_1", 858, "trp_woman_r_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 859, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 860, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 861, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 862, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 863, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 864, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 865, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 866, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 867, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 868, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 869, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 870, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 871, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 872, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 873, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 874, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 875, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 876, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 877, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 878, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 879, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 880, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 881, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 882, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 883, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 884, "trp_woman_n_refugee"),
			(troop_set_slot, "trp_troop_tree_1", 885, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_1", 886, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_1", 887, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_1", 888, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_1", 889, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 858, "trp_woman_e_refugee"),
			(troop_set_slot, "trp_troop_tree_2", 859, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 860, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 861, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 862, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 863, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 864, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 865, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 866, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 867, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 868, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 869, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 870, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 871, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 872, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 873, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 874, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 875, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 876, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 877, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 878, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 879, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 880, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 881, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 882, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 883, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 884, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 885, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 886, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 887, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 888, "trp_mercenary_infantry_1"),
			(troop_set_slot, "trp_troop_tree_2", 889, "trp_mercenary_infantry_1")
		]),

	("initialize_troop_tree_sets",
		[
			(try_for_range, ":unused", 0, 10),
				(call_script, "script_spawn_bandits"),
			(try_end),
			(call_script, "script_update_mercenary_units_of_towns"),
			(call_script, "script_update_ranger_master"),
			(set_relation, "fac_outlaws", "fac_player_faction", -10),
			(set_relation, "fac_outlaws", "fac_player_supporters_faction", -10),
			(try_for_parties, ":value"),
				(party_get_template_id, ":template_id_value", ":value"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(try_begin),
						(eq, ":template_id_value", "pt_village_defenders_e"),
						(spawn_around_party, ":value", "pt_village_defenders"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_looters_e"),
						(spawn_around_party, ":value", "pt_looters"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_forest_bandits_e"),
						(spawn_around_party, ":value", "pt_forest_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_steppe_bandits_e"),
						(spawn_around_party, ":value", "pt_steppe_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_sea_raiders_e"),
						(spawn_around_party, ":value", "pt_sea_raiders_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_mountain_bandits_e"),
						(spawn_around_party, ":value", "pt_mountain_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_desert_bandits_e"),
						(spawn_around_party, ":value", "pt_desert_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_steppe_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_steppe_bandit_lair"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_taiga_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_taiga_bandit_lair"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_desert_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_desert_bandit_lair"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_forest_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_forest_bandit_lair"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_mountain_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_mountain_bandit_lair"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_sea_raider_lair_e"),
						(spawn_around_party, ":value", "pt_sea_raider_lair"),
						(remove_party, ":value"),
					(try_end),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(try_begin),
						(eq, ":template_id_value", "pt_village_defenders_e"),
						(spawn_around_party, ":value", "pt_village_defenders_r"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_looters_e"),
						(spawn_around_party, ":value", "pt_looters_r"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_forest_bandits_e"),
						(spawn_around_party, ":value", "pt_forest_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_steppe_bandits_e"),
						(spawn_around_party, ":value", "pt_steppe_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_sea_raiders_e"),
						(spawn_around_party, ":value", "pt_sea_raiders_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_mountain_bandits_e"),
						(spawn_around_party, ":value", "pt_mountain_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_desert_bandits_e"),
						(spawn_around_party, ":value", "pt_desert_bandits_e"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_steppe_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_steppe_bandit_lair_r"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_taiga_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_taiga_bandit_lair_r"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_desert_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_desert_bandit_lair_r"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_forest_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_forest_bandit_lair_r"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_mountain_bandit_lair_e"),
						(spawn_around_party, ":value", "pt_mountain_bandit_lair_r"),
						(remove_party, ":value"),
					(else_try),
						(eq, ":template_id_value", "pt_sea_raider_lair_e"),
						(spawn_around_party, ":value", "pt_sea_raider_lair_r"),
						(remove_party, ":value"),
					(try_end),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri1"),
				(faction_set_slot, "fac_culture_1", 47, "trp_sarranid_n_kapikula1"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri2"),
				(faction_set_slot, "fac_culture_2", 47, "trp_sarranid_n_kapikula2"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri3"),
				(faction_set_slot, "fac_culture_3", 47, "trp_sarranid_n_kapikula3"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_4", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_5", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri"),
				(faction_set_slot, "fac_culture_6", 47, "trp_sarranid_n_kapikula"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri8"),
				(faction_set_slot, "fac_culture_8", 47, "trp_sarranid_n_kapikula8"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri9"),
				(faction_set_slot, "fac_culture_9", 47, "trp_sarranid_n_kapikula9"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri10"),
				(faction_set_slot, "fac_culture_10", 47, "trp_sarranid_n_kapikula10"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri11"),
				(faction_set_slot, "fac_culture_11", 47, "trp_sarranid_n_kapikula11"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_12", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_13", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_14", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_15", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_16", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_17", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_18", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri19"),
				(faction_set_slot, "fac_culture_19", 47, "trp_sarranid_n_kapikula19"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri20"),
				(faction_set_slot, "fac_culture_20", 47, "trp_sarranid_n_kapikula20"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_jebelus22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_yeniceri22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_kapikula22"),
				(faction_set_slot, "fac_culture_21", 47, "trp_sarranid_n_uluteci22"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_millet23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_ajam23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_cemaat23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_jebelus23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri23"),
				(faction_set_slot, "fac_culture_22", 47, "trp_sarranid_n_yeniceri23"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri21"),
				(faction_set_slot, "fac_culture_7", 47, "trp_sarranid_n_kapikula21"),
				(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_get_slot, ":faction_culture", ":faction", slot_faction_culture),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_infantry),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_infantry, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_2_infantry),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_2_infantry, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_archer),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_archer, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_2_archer),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_2_archer, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_cavalry),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_cavalry, ":faction_culture_quick_battle_tier_1_infantry"),
					(try_begin),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_1"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_stormlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_stormlands_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_stormlands_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_stormlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_1_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_1_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_1_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_1_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_1_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_1_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_2"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_northern_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_northern_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_northern_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_northern_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_2_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_2_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_2_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_2_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_2_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_2_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_3"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_vale_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_vale_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_vale_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_vale_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_3_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_3_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_3_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_3_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_3_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_3_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_4"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_braavosi_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_braavosi_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_braavosi_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_braavosi_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_4_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_4_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_4_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_4_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_4_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_4_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_5"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_riverlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_riverlands_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_riverlands_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_riverlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_5_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_5_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_5_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_5_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_5_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_5_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_6"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dornish_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dornish_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dornish_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dornish_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_6_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_6_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_6_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_6_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_6_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_6_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_8"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dragonstone_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dragonstone_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dragonstone_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dragonstone_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_8_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_8_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_8_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_8_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_8_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_8_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_9"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_westerlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_westerlands_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_westerlands_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_westerlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_9_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_9_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_9_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_9_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_9_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_9_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_10"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_reach_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_reach_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_reach_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_reach_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_10_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_10_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_10_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_10_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_10_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_10_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_11"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_ironborn_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_ironborn_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_ironborn_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_ironborn_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_11_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_11_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_11_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_11_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_11_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_11_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_12"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_pentos_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_pentos_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_12_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_12_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_12_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_12_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_12_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_12_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_13"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_tyrosh_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_tyrosh_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_13_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_13_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_13_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_13_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_13_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_13_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_14"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_myr_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_myr_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_14_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_14_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_14_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_14_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_14_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_14_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_15"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_lys_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_lys_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_15_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_15_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_15_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_15_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_15_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_15_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_16"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_volantis_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_volantis_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_volantis_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_volantis_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_16_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_16_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_16_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_16_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_16_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_16_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_17"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_norvos_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_norvos_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_unsullied"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_17_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_17_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_17_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_17_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_17_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_17_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_18"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_lorath_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_lorath_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_lorath_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_lorath_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_18_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_18_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_18_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_18_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_18_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_18_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_19"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_sister_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_sister_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_sister_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_sister_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_19_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_19_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_19_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_19_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_19_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_19_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_20"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_targaryen_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_targaryen_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_targaryen_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_targaryen_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_20_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_20_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_20_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_20_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_20_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_20_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_21"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_wildling_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_wildling_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_wildling_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_wildling_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_21_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_21_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_21_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_21_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_21_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_21_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_22"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dothraki_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dothraki_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dothraki_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dothraki_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_22_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_22_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_22_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_22_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_22_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_22_reinforcements_f"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_7"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_custom_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_custom_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_custom_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_custom_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_custom_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_7_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_7_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_7_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_7_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_7_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_7_reinforcements_f"),
					(try_end),
				(try_end),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula1"),
				(faction_set_slot, "fac_culture_1", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri1"),
				(faction_set_slot, "fac_culture_1", 47, "trp_sarranid_n_kapikula1"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula2"),
				(faction_set_slot, "fac_culture_2", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri2"),
				(faction_set_slot, "fac_culture_2", 47, "trp_sarranid_n_kapikula2"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula3"),
				(faction_set_slot, "fac_culture_3", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri3"),
				(faction_set_slot, "fac_culture_3", 47, "trp_sarranid_n_kapikula3"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_4", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_4", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_5", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_5", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula"),
				(faction_set_slot, "fac_culture_6", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri"),
				(faction_set_slot, "fac_culture_6", 47, "trp_sarranid_n_kapikula"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula8"),
				(faction_set_slot, "fac_culture_8", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri8"),
				(faction_set_slot, "fac_culture_8", 47, "trp_sarranid_n_kapikula8"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula9"),
				(faction_set_slot, "fac_culture_9", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri9"),
				(faction_set_slot, "fac_culture_9", 47, "trp_sarranid_n_kapikula9"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula10"),
				(faction_set_slot, "fac_culture_10", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri10"),
				(faction_set_slot, "fac_culture_10", 47, "trp_sarranid_n_kapikula10"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula11"),
				(faction_set_slot, "fac_culture_11", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri11"),
				(faction_set_slot, "fac_culture_11", 47, "trp_sarranid_n_kapikula11"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_12", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_12", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_13", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_13", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_14", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_14", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_15", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_15", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_16", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_16", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_17", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_17", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_infantry, "trp_lance_starter"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_infantry, "trp_lance_infantry_2"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_archer, "trp_lance_infantry_3"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_1_cavalry, "trp_lance_infantry_5"),
				(faction_set_slot, "fac_culture_18", slot_faction_quick_battle_tier_2_cavalry, "trp_lance_archer_2"),
				(faction_set_slot, "fac_culture_18", 47, "trp_lance_archer_5"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula19"),
				(faction_set_slot, "fac_culture_19", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri19"),
				(faction_set_slot, "fac_culture_19", 47, "trp_sarranid_n_kapikula19"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula20"),
				(faction_set_slot, "fac_culture_20", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri20"),
				(faction_set_slot, "fac_culture_20", 47, "trp_sarranid_n_kapikula20"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_jebelus22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_yeniceri22"),
				(faction_set_slot, "fac_culture_21", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_kapikula22"),
				(faction_set_slot, "fac_culture_21", 47, "trp_sarranid_n_uluteci22"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_millet23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_ajam23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_cemaat23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_jebelus23"),
				(faction_set_slot, "fac_culture_22", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri23"),
				(faction_set_slot, "fac_culture_22", 47, "trp_sarranid_n_yeniceri23"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_n_millet21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_n_ajam21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_n_cemaat21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_n_timariot21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_n_kapikula21"),
				(faction_set_slot, "fac_culture_7", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_n_yeniceri21"),
				(faction_set_slot, "fac_culture_7", 47, "trp_sarranid_n_kapikula21"),
				(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_get_slot, ":faction_culture", ":faction", slot_faction_culture),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_infantry),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_infantry, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_2_infantry),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_2_infantry, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_archer),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_archer, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_2_archer),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_2_archer, ":faction_culture_quick_battle_tier_1_infantry"),
					(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_cavalry),
					(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_cavalry, ":faction_culture_quick_battle_tier_1_infantry"),
					(try_begin),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_1"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_stormlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_stormlands_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_stormlands_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_stormlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_1_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_1_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_1_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_1_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_1_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_1_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_2"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_northern_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_northern_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_northern_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_northern_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_2_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_2_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_2_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_2_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_2_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_2_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_3"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_vale_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_vale_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_vale_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_vale_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_3_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_3_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_3_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_3_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_3_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_3_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_4"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_braavosi_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_braavosi_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_braavosi_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_braavosi_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_4_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_4_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_4_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_4_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_4_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_4_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_5"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_riverlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_riverlands_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_riverlands_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_riverlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_5_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_5_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_5_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_5_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_5_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_5_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_6"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dornish_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dornish_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dornish_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dornish_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_6_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_6_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_6_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_6_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_6_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_6_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_8"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dragonstone_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dragonstone_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dragonstone_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dragonstone_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_8_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_8_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_8_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_8_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_8_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_8_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_9"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_westerlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_westerlands_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_westerlands_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_westerlands_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_9_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_9_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_9_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_9_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_9_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_9_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_10"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_reach_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_reach_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_reach_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_reach_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_10_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_10_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_10_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_10_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_10_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_10_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_11"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_ironborn_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_ironborn_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_ironborn_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_ironborn_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_11_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_11_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_11_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_11_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_11_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_11_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_12"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_pentos_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_pentos_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_pentos_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_pentos_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_12_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_12_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_12_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_12_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_12_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_12_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_13"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_tyrosh_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_tyrosh_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_tyrosh_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_tyrosh_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_13_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_13_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_13_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_13_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_13_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_13_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_14"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_myr_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_myr_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_myr_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_myr_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_14_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_14_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_14_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_14_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_14_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_14_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_15"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_lys_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_lys_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_lys_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_lys_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_15_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_15_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_15_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_15_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_15_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_15_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_16"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_volantis_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_volantis_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_volantis_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_volantis_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_16_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_16_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_16_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_16_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_16_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_16_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_17"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_norvos_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_norvos_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_norvos_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_norvos_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_17_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_17_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_17_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_17_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_17_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_17_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_18"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_lorath_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_lorath_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_lorath_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_lorath_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_18_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_18_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_18_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_18_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_18_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_18_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_19"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_sister_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_sister_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_sister_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_sister_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_19_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_19_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_19_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_19_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_19_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_19_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_20"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_targaryen_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_targaryen_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_targaryen_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_targaryen_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_20_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_20_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_20_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_20_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_20_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_20_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_21"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_wildling_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_wildling_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_wildling_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_wildling_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_21_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_21_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_21_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_21_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_21_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_21_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_22"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dothraki_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dothraki_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dothraki_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dothraki_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_22_reinforcements_a_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_22_reinforcements_b_r"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_22_reinforcements_c_r"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_22_reinforcements_d_r"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_22_reinforcements_e_r"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_22_reinforcements_f_r"),
					(else_try),
						(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_7"),
						(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_custom_deserter"),
						(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_sarranid_n_yerliyya21"),
						(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_custom_messenger"),
						(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_custom_prison_guard"),
						(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_custom_castle_guard"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_7_reinforcements_a"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_7_reinforcements_b"),
						(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_7_reinforcements_c"),
						(faction_set_slot, ":faction", 106, "pt_kingdom_7_reinforcements_d"),
						(faction_set_slot, ":faction", 107, "pt_kingdom_7_reinforcements_e"),
						(faction_set_slot, ":faction", 108, "pt_kingdom_7_reinforcements_f"),
					(try_end),
				(try_end),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(call_script, "script_update_volunteer_troops_in_village", ":party"),
			(try_end),
			(try_for_range, ":party_2", "p_town_1", "p_castle_1"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(party_set_slot, ":party_2", slot_town_reinforcement_party_template, "pt_center_reinforcements"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(party_set_slot, ":party_2", slot_town_reinforcement_party_template, "pt_center_reinforcements_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(party_set_slot, ":party_2", slot_town_reinforcement_party_template, "pt_center_reinforcements_e"),
				(try_end),
			(try_end),
			(try_for_range, ":party_3", "p_castle_1", "p_village_1"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(party_set_slot, ":party_3", slot_town_reinforcement_party_template, "pt_center_reinforcements"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(party_set_slot, ":party_3", slot_town_reinforcement_party_template, "pt_center_reinforcements_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(party_set_slot, ":party_3", slot_town_reinforcement_party_template, "pt_center_reinforcements_e"),
				(try_end),
			(try_end),
			(try_for_parties, ":value"),
				(party_is_active, ":value"),
				(party_get_num_companion_stacks, ":num_companion_stacks_value", ":value"),
				(try_for_range_backwards, ":value_2", 0, ":num_companion_stacks_value"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(neg|troop_is_hero, ":party_stack_troop_id_value_value_2"),
					(party_stack_get_size, ":party_stack_size_value_value_2", ":value", ":value_2"),
					(try_for_range, ":number", 601, 890),
						(troop_slot_eq, "trp_troop_tree_2", ":number", ":party_stack_troop_id_value_value_2"),
						(troop_get_slot, ":troop_trees_number", "$troop_trees", ":number"),
						(neg|troop_slot_eq, "trp_troop_tree_2", ":number", ":troop_trees_number"),
						(party_remove_members, ":value", ":party_stack_troop_id_value_value_2", ":party_stack_size_value_value_2"),
						(party_add_members, ":value", ":troop_trees_number", ":party_stack_size_value_value_2"),
					(try_end),
				(try_end),
			(try_end),
			(try_for_parties, ":value"),
				(party_get_slot, ":value_type", ":value", slot_party_type),
				(eq, ":value_type", 13),
				(party_get_num_companion_stacks, ":num_companion_stacks_value_2", ":value"),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_2_24"),
					(assign, "$g_wyman_manderly_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_2_12"),
					(assign, "$g_ondrew_locke_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_1_3"),
					(assign, "$g_selwyn_tarth_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_1_18"),
					(assign, "$g_gulian_swann_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_3_lord"),
					(assign, "$g_lysa_tully_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_3_25"),
					(assign, "$g_anya_waynwood_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_2_23"),
					(assign, "$g_donella_hornwood_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_5_11"),
					(assign, "$g_william_mooton_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_6_lord"),
					(assign, "$g_doran_martell_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_6_21"),
					(assign, "$g_delone_allyrion_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_6_20"),
					(assign, "$g_larra_blackmont_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_6_22"),
					(assign, "$g_nymella_toland_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_9_37"),
					(assign, "$g_gyles_rosby_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_9_43"),
					(assign, "$g_tanda_stokeworth_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_10_26"),
					(assign, "$g_arwyn_oakheart_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_10_27"),
					(assign, "$g_leyton_hightower_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_knight_11_4"),
					(assign, "$g_rodrik_harlaw_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_4_lord"),
					(assign, "$g_sealord_ferrego_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_12_lord"),
					(assign, "$g_prince_somothes_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_13_lord"),
					(assign, "$g_archon_qodhrone_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_14_lord"),
					(assign, "$g_archon_coloqo_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_15_lord"),
					(assign, "$g_prince_melenai_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_16_lord"),
					(assign, "$g_triarch_malaquo_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_17_lord"),
					(assign, "$g_king_caltos_lord", ":value"),
				(try_end),
				(try_for_range, ":value_2", 0, ":num_companion_stacks_value_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_value_2", ":value", ":value_2"),
					(eq, ":party_stack_troop_id_value_value_2", "trp_kingdom_18_lord"),
					(assign, "$g_archon_haleq_lord", ":value"),
				(try_end),
			(try_end)
		]),

	("game_get_use_string",
		[
			(store_script_param, ":script_param_1", 1),
			(prop_instance_get_scene_prop_kind, ":prop_instance_scene_prop_kind_script_param_1", ":script_param_1"),
			(try_begin),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_winch_b"),
				(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_winch"),
				(assign, ":value", "spr_portcullis"),
			(else_try),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_door_destructible"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_door_b"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_e_sally_door_a"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_sally_door_a"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_earth_sally_gate_left"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_earth_sally_gate_right"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_viking_keep_destroy_sally_door_left"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_viking_keep_destroy_sally_door_right"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_door_a"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_6m"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_8m"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_10m"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_12m"),
				(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_14m"),
				(assign, ":value", ":prop_instance_scene_prop_kind_script_param_1"),
			(try_end),
			(scene_prop_get_slot, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", ":script_param_1", slot_scene_prop_open_or_close_slot),
			(try_begin),
				(eq, ":value", "spr_portcullis"),
				(try_begin),
					(eq, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", 0),
					(str_store_string, 0, "str_open_gate"),
				(else_try),
					(str_store_string, 0, "str_close_gate"),
				(try_end),
			(else_try),
				(this_or_next|eq, ":value", "spr_door_destructible"),
				(this_or_next|eq, ":value", "spr_castle_f_door_b"),
				(this_or_next|eq, ":value", "spr_castle_e_sally_door_a"),
				(this_or_next|eq, ":value", "spr_castle_f_sally_door_a"),
				(this_or_next|eq, ":value", "spr_earth_sally_gate_left"),
				(this_or_next|eq, ":value", "spr_earth_sally_gate_right"),
				(this_or_next|eq, ":value", "spr_viking_keep_destroy_sally_door_left"),
				(this_or_next|eq, ":value", "spr_viking_keep_destroy_sally_door_right"),
				(eq, ":value", "spr_castle_f_door_a"),
				(try_begin),
					(eq, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", 0),
					(str_store_string, 0, "str_open_door"),
				(else_try),
					(str_store_string, 0, "str_close_door"),
				(try_end),
			(else_try),
				(try_begin),
					(eq, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", 0),
					(str_store_string, 0, "str_raise_ladder"),
				(else_try),
					(str_store_string, 0, "str_drop_ladder"),
				(try_end),
			(try_end)
		]),

	("game_quick_start",
		[
			(assign, "$g_is_quick_battle", 0),
			(assign, "$g_quick_battle_game_type", 0),
			(assign, "$g_quick_battle_troop", "trp_quick_battle_troop_1"),
			(assign, "$g_quick_battle_map", "scn_quick_battle_scene_1"),
			(assign, "$g_quick_battle_team_1_faction", "fac_kingdom_1"),
			(assign, "$g_quick_battle_team_2_faction", "fac_kingdom_2"),
			(assign, "$g_quick_battle_army_1_size", 25),
			(assign, "$g_quick_battle_army_2_size", 25),
			(faction_set_slot, "fac_outlaws", slot_faction_quick_battle_tier_1_infantry, "trp_bandit_e_mountain"),
			(faction_set_slot, "fac_outlaws", slot_faction_quick_battle_tier_2_infantry, "trp_bandit_e_sea_raider"),
			(faction_set_slot, "fac_outlaws", slot_faction_quick_battle_tier_1_archer, "trp_bandit_e_forest"),
			(faction_set_slot, "fac_outlaws", slot_faction_quick_battle_tier_2_archer, "trp_bandit_e_taiga"),
			(faction_set_slot, "fac_outlaws", slot_faction_quick_battle_tier_1_cavalry, "trp_bandit_e_steppe"),
			(faction_set_slot, "fac_outlaws", slot_faction_quick_battle_tier_2_cavalry, "trp_bandit_e_desert"),
			(faction_set_slot, "fac_kingdom_1", slot_faction_quick_battle_tier_1_infantry, "trp_swadian_e_peasant"),
			(faction_set_slot, "fac_kingdom_1", slot_faction_quick_battle_tier_2_infantry, "trp_swadian_e_peasant"),
			(faction_set_slot, "fac_kingdom_1", slot_faction_quick_battle_tier_1_archer, "trp_swadian_e_peasant"),
			(faction_set_slot, "fac_kingdom_1", slot_faction_quick_battle_tier_2_archer, "trp_swadian_e_peasant"),
			(faction_set_slot, "fac_kingdom_1", slot_faction_quick_battle_tier_1_cavalry, "trp_swadian_e_peasant"),
			(faction_set_slot, "fac_kingdom_1", slot_faction_quick_battle_tier_2_cavalry, "trp_swadian_e_peasant"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_quick_battle_tier_1_infantry, "trp_vaegir_e_kholop"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_quick_battle_tier_2_infantry, "trp_vaegir_e_kholop"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_quick_battle_tier_1_archer, "trp_vaegir_e_kholop"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_quick_battle_tier_2_archer, "trp_vaegir_e_kholop"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_quick_battle_tier_1_cavalry, "trp_vaegir_e_kholop"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_quick_battle_tier_2_cavalry, "trp_vaegir_e_kholop"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_quick_battle_tier_1_infantry, "trp_khergit_e_tariachin"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_quick_battle_tier_2_infantry, "trp_khergit_e_tariachin"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_quick_battle_tier_1_archer, "trp_khergit_e_tariachin"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_quick_battle_tier_2_archer, "trp_khergit_e_tariachin"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_quick_battle_tier_1_cavalry, "trp_khergit_e_tariachin"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_quick_battle_tier_2_cavalry, "trp_khergit_e_tariachin"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_quick_battle_tier_1_infantry, "trp_nord_e_bondi"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_quick_battle_tier_2_infantry, "trp_nord_e_bondi"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_quick_battle_tier_1_archer, "trp_nord_e_bondi"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_quick_battle_tier_2_archer, "trp_nord_e_bondi"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_quick_battle_tier_1_cavalry, "trp_nord_e_bondi"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_quick_battle_tier_2_cavalry, "trp_nord_e_bondi"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_quick_battle_tier_1_infantry, "trp_rhodok_e_lanciere"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_quick_battle_tier_2_infantry, "trp_rhodok_e_veterano"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_quick_battle_tier_1_archer, "trp_rhodok_e_milizia_balestriere"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_quick_battle_tier_2_archer, "trp_rhodok_e_balestriere_veterano"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_quick_battle_tier_1_cavalry, "trp_rhodok_e_lanciere_a_cavallo"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_quick_battle_tier_2_cavalry, "trp_rhodok_e_picchiere_fiammingo"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_quick_battle_tier_1_infantry, "trp_sarranid_e_azab"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_quick_battle_tier_2_infantry, "trp_sarranid_e_yeniceri"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_quick_battle_tier_1_archer, "trp_sarranid_e_jebelus"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_quick_battle_tier_2_archer, "trp_sarranid_e_uluteci"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_quick_battle_tier_1_cavalry, "trp_sarranid_e_badw"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_quick_battle_tier_2_cavalry, "trp_sarranid_e_memluk"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_quick_battle_tier_1_infantry, "trp_custom_e_swordman"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_quick_battle_tier_2_infantry, "trp_custom_e_swordmaster"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_quick_battle_tier_1_archer, "trp_custom_e_archer"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_quick_battle_tier_2_archer, "trp_custom_e_expert_archer"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_quick_battle_tier_1_cavalry, "trp_custom_e_squire"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_quick_battle_tier_2_cavalry, "trp_custom_e_knight"),
			(assign, "$g_multiplayer_selected_map", "scn_multi_scene_1"),
			(assign, "$g_multiplayer_respawn_period", 5),
			(assign, "$g_multiplayer_round_max_seconds", 300),
			(assign, "$g_multiplayer_game_max_minutes", 30),
			(assign, "$g_multiplayer_game_max_points", 300),
			(server_get_renaming_server_allowed, "$g_multiplayer_renaming_server_allowed"),
			(server_get_changing_game_type_allowed, "$g_multiplayer_changing_game_type_allowed"),
			(assign, "$g_multiplayer_point_gained_from_flags", 100),
			(assign, "$g_multiplayer_point_gained_from_capturing_flag", 5),
			(assign, "$g_multiplayer_game_type", 0),
			(assign, "$g_multiplayer_team_1_faction", "fac_kingdom_1"),
			(assign, "$g_multiplayer_team_2_faction", "fac_kingdom_2"),
			(assign, "$g_multiplayer_next_team_1_faction", "$g_multiplayer_team_1_faction"),
			(assign, "$g_multiplayer_next_team_2_faction", "$g_multiplayer_team_2_faction"),
			(assign, "$g_multiplayer_num_bots_team_1", 0),
			(assign, "$g_multiplayer_num_bots_team_2", 0),
			(assign, "$g_multiplayer_number_of_respawn_count", 0),
			(assign, "$g_multiplayer_num_bots_voteable", 50),
			(assign, "$g_multiplayer_max_num_bots", 101),
			(assign, "$g_multiplayer_factions_voteable", 1),
			(assign, "$g_multiplayer_maps_voteable", 1),
			(assign, "$g_multiplayer_kick_voteable", 1),
			(assign, "$g_multiplayer_ban_voteable", 1),
			(assign, "$g_multiplayer_valid_vote_ratio", 51),
			(assign, "$g_multiplayer_auto_team_balance_limit", 3),
			(assign, "$g_multiplayer_player_respawn_as_bot", 1),
			(assign, "$g_multiplayer_stats_chart_opened_manually", 0),
			(assign, "$g_multiplayer_mission_end_screen", 0),
			(assign, "$g_multiplayer_ready_for_spawning_agent", 1),
			(assign, "$g_multiplayer_welcome_message_shown", 0),
			(assign, "$g_multiplayer_allow_player_banners", 1),
			(assign, "$g_multiplayer_force_default_armor", 1),
			(assign, "$g_multiplayer_disallow_ranged_weapons", 0),
			(assign, "$g_multiplayer_initial_gold_multiplier", 100),
			(assign, "$g_multiplayer_battle_earnings_multiplier", 100),
			(assign, "$g_multiplayer_round_earnings_multiplier", 100),
			(faction_set_slot, "fac_kingdom_1", slot_faction_banner, "mesh_banner_kingdom_f"),
			(faction_set_slot, "fac_kingdom_2", slot_faction_banner, "mesh_banner_kingdom_b"),
			(faction_set_slot, "fac_kingdom_3", slot_faction_banner, "mesh_banner_kingdom_c"),
			(faction_set_slot, "fac_kingdom_4", slot_faction_banner, "mesh_banner_kingdom_a"),
			(faction_set_slot, "fac_kingdom_5", slot_faction_banner, "mesh_banner_kingdom_d"),
			(faction_set_slot, "fac_kingdom_6", slot_faction_banner, "mesh_banner_kingdom_e"),
			(try_for_range, ":number", 0, "itm_items_end"),
				(try_for_range, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
					(store_sub, ":value", ":faction", "fac_kingdom_1"),
					(val_add, ":value", 30),
					(item_set_slot, ":number", ":value", 100),
				(try_end),
			(try_end),
			(store_sub, ":value_2", "fac_kingdom_1", "fac_kingdom_1"),
			(val_add, ":value_2", 30),
			(store_sub, ":value_3", "fac_kingdom_2", "fac_kingdom_1"),
			(val_add, ":value_3", 30),
			(store_sub, ":value_4", "fac_kingdom_3", "fac_kingdom_1"),
			(val_add, ":value_4", 30),
			(store_sub, ":value_5", "fac_kingdom_4", "fac_kingdom_1"),
			(val_add, ":value_5", 30),
			(store_sub, ":value_6", "fac_kingdom_5", "fac_kingdom_1"),
			(val_add, ":value_6", 30),
			(store_sub, ":value_7", "fac_kingdom_6", "fac_kingdom_1"),
			(val_add, ":value_7", 30),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_nor_mule", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_sar_camel_bactrian", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_ho_swa_saddle_black", slot_item_multiplayer_item_class, 18),
			(item_set_slot, "itm_we_vae_axe_bardiche", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 2),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_we_vae_blunt_maul", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_we_vae_blunt_sledgehammer", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mace_spiral", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mace_spiral", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_mackie_morning_star_long", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_swa_spear_glaive_small", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_swa_spear_glaive", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_swa_spear_bill_english", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_vae_spear_scythe", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_vae_spear_scythe_shortened", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_nagita", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_haftedblade", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_haftedblade", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_rho_spear_fork_pitch", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_rho_spear_fork_military", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_rho_spear_fork_battle", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_haftedblade", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_haftedblade", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_haftedblade", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_vae_spear_polehammer", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_vae_spear_polehammer", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_vae_spear_polehammer", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_khe_spear_staff", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_we_sar_spear_lance", slot_item_multiplayer_item_class, 9),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_vae_sword_sickle", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_we_vae_sword_cleaver_military", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 5),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 5),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 5),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 5),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 5),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 5),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 3),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 7),
			(item_set_slot, "itm_we_rho_sword_rondeldagger", slot_item_multiplayer_item_class, 7),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 7),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 8),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 4),
			(item_set_slot, "itm_we_swa_sword_clamshell_claymore", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_swa_sword_twohanded_claymore", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_vae_sword_cleaverwar", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_khe_sword_sabre", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_nor_sword_danish_great", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_nor_sword_danish_great", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_rho_sword_great", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_we_swa_sword_clamshell_claymore", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 1),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 6),
			(item_set_slot, "itm_we_swa_arrow_gromite", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_normal_arrows", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_normal_arrows", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_we_swa_arrow_gromite", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_we_swa_arrow_gromite", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_we_swa_arrow_gromite", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_we_swa_arrow_gromite", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_normal_arrows", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_normal_arrows", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_bolt_f_simple", slot_item_multiplayer_item_class, 15),
			(item_set_slot, "itm_bolt_f_simple", slot_item_multiplayer_item_class, 15),
			(item_set_slot, "itm_normal_arrows", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_normal_arrows", slot_item_multiplayer_item_class, 14),
			(item_set_slot, "itm_bow_f_hunting_bow", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_bow_f_hunting_bow", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_bow_f_hunting_bow", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_crossbow_f_simple_1", slot_item_multiplayer_item_class, 12),
			(item_set_slot, "itm_we_sar_spear_javelin", slot_item_multiplayer_item_class, 16),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 16),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 16),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 16),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 16),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 17),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 17),
			(item_set_slot, "itm_we_sar_spear_javelin", slot_item_multiplayer_item_class, 17),
			(item_set_slot, "itm_we_sar_spear_javelin", slot_item_multiplayer_item_class, 17),
			(item_set_slot, "itm_we_sar_spear_javelin", slot_item_multiplayer_item_class, 17),
			(item_set_slot, "itm_we_sar_spear_throwing_spears", slot_item_multiplayer_item_class, 17),
			(item_set_slot, "itm_we_sar_spear_jarid", slot_item_multiplayer_item_class, 17),
			(item_set_slot, "itm_ar_swa_tun_tabard", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_pla_t6_heraldic_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_archer_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_vae_t7_elite_b", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_archer_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_khe_t2_armor_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_khe_t6_tunic_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_nor_tun_blue", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_nor_t7_vikingbyrnie_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_archer_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_rho_t4_highlander_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_rho_t4_highlander_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_rho_t4_highlander_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_archer_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_archer_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_archer_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_ar_pla_t6_heraldic_a", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_heraldic_cozur_1", slot_item_multiplayer_item_class, 19),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_swa_t6_mail", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t2_shoes", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t4_shoes", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_khe_t2_boots", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_heraldic_cozur_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_khe_t4_sandal", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_khe_t6_mail", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_nor_t2_shoes", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_rho_t3_highlander", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_rho_t4_greaves", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_rho_t5_greaves", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_sar_t4_camel", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_vae_t3_leather", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_sar_t6_mail", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_bo_sar_t7_greaves", slot_item_multiplayer_item_class, 24),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_swa_a4_plate", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_swa_a6_plate", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_vae_a5_mail", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_vae_a6_black", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_khe_a5_armor", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_khe_a6_lamellar", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a5_bnw", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a6_hourglass", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_swa_a6_plate", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_ga_rho_a2_leather", slot_item_multiplayer_item_class, 26),
			(item_set_slot, "itm_he_swa_t1_common_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_swa_t2_coif_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_swa_t3_helmet_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_swa_t4_bascinet_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_vae_t1_common_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_coif", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_coif", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_coif", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_battered_plainhelm", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_vae_t6_warhelmet_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_vae_t7_warmask_b", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_khe_t2_steppe_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_khe_t3_steppe_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_khe_t4_war_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_khe_t5_neck_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_vae_t7_warmask_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_vae_t7_warmask_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t1_common_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t2_spangen_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t3_valsgarde_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t3_valsgarde_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t5_valsgarde_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t3_valsgarde_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_rho_t2_beret_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_nomad_cap_b_new", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_rho_t5_kettle_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_medium_tier_sword_2", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_conichelm", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t3_valsgarde_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_he_nor_t3_valsgarde_a", slot_item_multiplayer_item_class, 22),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_swa_hea_horseman", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_wildling_square_shield_1", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_khe_rou_old", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_khe_rou_plain", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_khe_rou_heavy", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_nor_rou_large_b", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_nor_rou_large_b", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_nor_rou_large_b", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_nor_rou_large_b", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_rho_pav_deploy_a", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_rho_pav_deploy_b", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_sar_rou_plain", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_sar_rou_round", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_mackie_tomahawk", slot_item_multiplayer_item_class, 10),
			(item_set_slot, "itm_sh_sar_rou_elite", slot_item_multiplayer_item_class, 10),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_arrow_gromite", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_normal_arrows", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bow_f_hunting_bow", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_swa_tun_tabard", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_swa_t4_sandal", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t1_common_a", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t2_coif_a", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t3_helmet_a", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t4_bascinet_a", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_spear_glaive_small", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_spear_glaive", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_spear_bill_english", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_sword_clamshell_claymore", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_sword_twohanded_claymore", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_swa_tun_tabard", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_swa_t4_sandal", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_swa_t6_mail", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_swa_a4_plate", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_swa_a6_plate", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t1_common_a", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t2_coif_a", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t3_helmet_a", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t4_bascinet_a", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_swa_hea_horseman", "trp_swadian_infantry_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_sword_clamshell_claymore", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_swa_tun_tabard", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_swa_t4_sandal", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_swa_t6_mail", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_swa_a4_plate", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_swa_a6_plate", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t1_common_a", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t2_coif_a", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t3_helmet_a", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_swa_t4_bascinet_a", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_swa_hea_horseman", "trp_swadian_man_at_arms_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_sword_sickle", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_normal_arrows", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_arrow_gromite", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_pla_t6_heraldic_a", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t2_shoes", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t4_shoes", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t1_common_a", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_wildling_square_shield_1", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_axe_bardiche", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_spear_scythe", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_spear_scythe_shortened", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_sword_sickle", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_sword_cleaver_military", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_sword_cleaverwar", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_pla_t6_heraldic_a", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t2_shoes", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t4_shoes", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_vae_a5_mail", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_vae_a6_black", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t1_common_a", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_battered_plainhelm", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t6_warhelmet_a", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_wildling_square_shield_1", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_spearman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_blunt_sledgehammer", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_blunt_sledgehammer", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_sword_sickle", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_pla_t6_heraldic_a", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_vae_t7_elite_b", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t2_shoes", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t4_shoes", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_vae_a5_mail", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_vae_a6_black", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t1_common_a", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_coif", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_battered_plainhelm", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t6_warhelmet_a", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t7_warmask_b", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_wildling_square_shield_1", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_vaegir_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_nagita", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_haftedblade", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_arrow_gromite", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_arrow_gromite", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_arrow_gromite", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bow_f_hunting_bow", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_khe_t2_armor_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_khe_t6_tunic_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_khe_t2_boots", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_khe_t4_sandal", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_khe_t6_mail", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t2_steppe_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t3_steppe_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t4_war_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t5_neck_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t7_warmask_a", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_khe_rou_old", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_khe_rou_plain", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_khe_rou_heavy", "trp_khergit_veteran_horse_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_nagita", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_haftedblade", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_haftedblade", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_spear_polehammer", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_spear_polehammer", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_sword_sabre", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_nor_sword_danish_great", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_khe_t2_armor_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_khe_t6_tunic_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_khe_t2_boots", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_khe_t4_sandal", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_khe_t6_mail", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_khe_a5_armor", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_khe_a6_lamellar", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t2_steppe_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t3_steppe_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t4_war_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_khe_t5_neck_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t7_warmask_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_vae_t7_warmask_a", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_khe_rou_old", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_khe_rou_plain", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_khe_rou_heavy", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_khergit_lancer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_normal_arrows", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_normal_arrows", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_nor_tun_blue", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_nor_t2_shoes", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t1_common_a", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t2_spangen_a", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t5_valsgarde_a", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_nor_tun_blue", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_nor_t7_vikingbyrnie_a", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_nor_t2_shoes", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t1_common_a", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t2_spangen_a", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t5_valsgarde_a", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_veteran_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_nor_mule", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_vae_spear_polehammer", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_nor_sword_danish_great", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_nor_tun_blue", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_nor_t2_shoes", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t1_common_a", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t2_spangen_a", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_nor_rou_large_b", "trp_nord_scout_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_sword_rondeldagger", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bolt_f_simple", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bolt_f_simple", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t3_highlander", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t4_greaves", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t5_greaves", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_rho_t2_beret_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_nomad_cap_b_new", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_rho_t5_kettle_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_rho_pav_deploy_a", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_rho_pav_deploy_b", "trp_rhodok_veteran_crossbowman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_spear_fork_pitch", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_spear_fork_military", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_spear_fork_battle", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_haftedblade", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_haftedblade", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_haftedblade", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_sword_rondeldagger", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t3_highlander", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t4_greaves", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t5_greaves", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a5_bnw", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a6_hourglass", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_rho_t2_beret_a", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_nomad_cap_b_new", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_rho_t5_kettle_a", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_rho_pav_deploy_a", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_rho_pav_deploy_b", "trp_rhodok_sergeant_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_spear_fork_pitch", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_spear_fork_military", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_khe_spear_staff", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_sword_rondeldagger", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_rho_sword_great", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_swa_sword_clamshell_claymore", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_rho_t4_highlander_a", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t3_highlander", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_rho_t4_greaves", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a5_bnw", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a6_hourglass", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_rho_t2_beret_a", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_nomad_cap_b_new", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_rhodok_horseman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_spiral", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_spiral", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_normal_arrows", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_normal_arrows", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bow_f_hunting_bow", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_crossbow_f_simple_1", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_sar_t4_camel", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_conichelm", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_plain", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_round", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_sarranid_archer_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_spiral", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_spiral", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_throwing_spears", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_jarid", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_pla_t6_heraldic_a", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_sar_t4_camel", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_sar_t6_mail", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_swa_a6_plate", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_conichelm", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_plain", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_round", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_elite", "trp_sarranid_footman_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_sar_camel_bactrian", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ho_swa_saddle_black", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_spiral", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mace_spiral", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_morning_star_long", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_lance", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_javelin", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_throwing_spears", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_we_sar_spear_jarid", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_archer_a", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ar_pla_t6_heraldic_a", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_heraldic_cozur_1", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_sar_t4_camel", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_vae_t3_leather", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_sar_t6_mail", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_bo_sar_t7_greaves", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_plain", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_round", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_sh_sar_rou_elite", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_swa_a6_plate", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_ga_rho_a2_leather", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_medium_tier_sword_2", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_conichelm", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_mackie_tomahawk", "trp_sarranid_mamluke_multiplayer"),
			(call_script, "script_multiplayer_set_item_available_for_troop", "itm_he_nor_t3_valsgarde_a", "trp_sarranid_mamluke_multiplayer")
		]),

	("get_army_size_from_slider_value",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", ":script_param_1"),
			(try_begin),
				(gt, ":script_param_1", 25),
				(store_sub, ":value", ":script_param_1", 25),
				(val_add, ":var_2", ":value"),
				(try_begin),
					(gt, ":script_param_1", 50),
					(store_sub, ":value", ":script_param_1", 50),
					(val_mul, ":value", 3),
					(val_add, ":var_2", ":value"),
				(try_end),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("spawn_quick_battle_army",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_script_param, ":script_param_6", 6),
			(store_script_param, ":script_param_7", 7),
			(try_begin),
				(eq, ":script_param_7", 1),
				(call_script, "script_get_army_size_from_slider_value", "$g_quick_battle_army_1_size"),
				(assign, ":value", reg0),
				(set_player_troop, "$g_quick_battle_troop"),
				(set_visitor, ":script_param_1", "$g_quick_battle_troop"),
				(try_begin),
					(eq, ":script_param_1", 0),
					(try_begin),
						(is_between, ":script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
						(faction_get_slot, "$g_quick_battle_team_0_banner", ":script_param_2", slot_faction_banner),
					(else_try),
						(assign, "$g_quick_battle_team_0_banner", "mesh_banners_default_b"),
					(try_end),
				(else_try),
					(try_begin),
						(is_between, ":script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
						(faction_get_slot, "$g_quick_battle_team_1_banner", ":script_param_2", slot_faction_banner),
					(else_try),
						(assign, "$g_quick_battle_team_1_banner", "mesh_banners_default_b"),
					(try_end),
				(try_end),
				(val_add, ":script_param_1", 1),
			(else_try),
				(call_script, "script_get_army_size_from_slider_value", "$g_quick_battle_army_2_size"),
				(assign, ":value", reg0),
				(try_begin),
					(eq, ":script_param_1", 0),
					(assign, "$g_quick_battle_team_0_banner", "mesh_banners_default_a"),
				(else_try),
					(assign, "$g_quick_battle_team_1_banner", "mesh_banners_default_a"),
				(try_end),
				(val_add, ":script_param_1", 1),
			(try_end),
			(store_mul, ":value_2", ":script_param_3", ":value"),
			(val_div, ":value_2", 100),
			(store_mul, ":value_3", ":script_param_4", ":value"),
			(val_div, ":value_3", 100),
			(store_mul, ":value_4", ":script_param_5", ":value"),
			(val_div, ":value_4", 100),
			(try_begin),
				(store_add, ":value_5", ":value_2", ":value_3"),
				(val_add, ":value_5", ":value_4"),
				(neq, ":value_5", ":value"),
				(store_sub, ":value_6", ":value", ":value_5"),
				(try_begin),
					(gt, ":script_param_3", ":script_param_4"),
					(gt, ":script_param_3", ":script_param_5"),
					(val_add, ":value_2", ":value_6"),
				(else_try),
					(gt, ":script_param_4", ":script_param_5"),
					(val_add, ":value_3", ":value_6"),
				(else_try),
					(val_add, ":value_4", ":value_6"),
				(try_end),
			(try_end),
			(store_mul, ":value_7", ":value_2", 15),
			(val_div, ":value_7", 100),
			(store_mul, ":value_8", ":value_2", 45),
			(val_div, ":value_8", 100),
			(store_random_in_range, ":random_in_range_value_7_value_8", ":value_7", ":value_8"),
			(store_sub, ":value_9", ":value_2", ":random_in_range_value_7_value_8"),
			(store_mul, ":value_7", ":value_3", 15),
			(val_div, ":value_7", 100),
			(store_mul, ":value_8", ":value_3", 45),
			(val_div, ":value_8", 100),
			(store_random_in_range, ":random_in_range_value_7_value_8_2", ":value_7", ":value_8"),
			(store_sub, ":value_10", ":value_3", ":random_in_range_value_7_value_8_2"),
			(store_mul, ":value_7", ":value_4", 15),
			(val_div, ":value_7", 100),
			(store_mul, ":value_8", ":value_4", 45),
			(val_div, ":value_8", 100),
			(store_random_in_range, ":random_in_range_value_7_value_8_3", ":value_7", ":value_8"),
			(store_sub, ":value_11", ":value_4", ":random_in_range_value_7_value_8_3"),
			(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_2_infantry),
			(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":random_in_range_value_7_value_8"),
			(val_add, ":script_param_1", 1),
			(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_1_infantry),
			(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":value_9"),
			(val_add, ":script_param_1", 1),
			(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_2_cavalry),
			(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":random_in_range_value_7_value_8_3"),
			(val_add, ":script_param_1", 1),
			(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_1_cavalry),
			(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":value_11"),
			(val_add, ":script_param_1", 1),
			(try_begin),
				(eq, ":script_param_6", 0),
				(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_2_archer),
				(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":random_in_range_value_7_value_8_2"),
				(val_add, ":script_param_1", 1),
				(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_1_archer),
				(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":value_10"),
				(val_add, ":script_param_1", 1),
			(else_try),
				(assign, ":script_param_1", 40),
				(store_div, ":value_12", ":value_10", 8),
				(val_mul, ":value_12", 8),
				(try_begin),
					(neq, ":value_12", ":value_10"),
					(val_div, ":value_12", 8),
					(val_add, ":value_12", 1),
					(val_mul, ":value_12", 8),
				(try_end),
				(store_div, ":value_13", ":random_in_range_value_7_value_8_2", 8),
				(val_mul, ":value_13", 8),
				(try_begin),
					(neq, ":value_13", ":random_in_range_value_7_value_8_2"),
					(val_div, ":value_13", 8),
					(val_add, ":value_13", 1),
					(val_mul, ":value_13", 8),
				(try_end),
				(store_add, ":value_14", ":value_12", ":value_13"),
				(store_div, ":value_15", ":value_14", 8),
				(assign, ":var_27", ":value_10"),
				(assign, ":var_28", ":random_in_range_value_7_value_8_2"),
				(assign, ":value_16", 1000),
				(try_for_range, ":unused", 0, ":value_16"),
					(try_begin),
						(gt, ":var_28", 0),
						(assign, ":var_31", ":value_15"),
						(val_min, ":var_31", ":var_28"),
						(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_2_archer),
						(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":var_31"),
						(val_add, ":script_param_1", 1),
						(val_sub, ":var_28", ":var_31"),
					(else_try),
						(gt, ":var_27", 0),
						(assign, ":var_32", ":value_15"),
						(val_min, ":var_32", ":var_27"),
						(faction_get_slot, ":script_param_2_quick_battle_tier_2_infantry", ":script_param_2", slot_faction_quick_battle_tier_1_archer),
						(set_visitors, ":script_param_1", ":script_param_2_quick_battle_tier_2_infantry", ":var_32"),
						(val_add, ":script_param_1", 1),
						(val_sub, ":var_27", ":var_32"),
					(else_try),
						(assign, ":value_16", 0),
					(try_end),
				(try_end),
			(try_end)
		]),

	("player_arrived",
		[
			(assign, ":var_1", "fac_culture_1"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_culture, ":var_1"),
			(faction_set_slot, "fac_player_faction", slot_faction_culture, ":var_1")
		]),

	("game_set_multiplayer_mission_end",
		[
			(assign, "$g_multiplayer_mission_end_screen", 1)
		]),

	("game_enable_cheat_menu",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(eq, ":script_param_1", 0),
				(assign, "$cheat_mode", 0),
			(else_try),
				(eq, ":script_param_1", 1),
				(assign, "$cheat_mode", 1),
			(try_end)
		]),

	("game_get_console_command",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_1", 2),
				(store_script_param, ":script_param_3", 3),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", 1),
				(assign, reg0, ":script_param_2"),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, reg1, "$g_multiplayer_num_bots_team_1"),
					(str_store_string, 0, "str_team_reg0_bot_count_is_reg1"),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, reg1, "$g_multiplayer_num_bots_team_2"),
					(str_store_string, 0, "str_team_reg0_bot_count_is_reg1"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 2),
				(assign, reg0, ":script_param_2"),
				(assign, reg1, ":script_param_3"),
				(try_begin),
					(eq, ":script_param_2", 1),
					(ge, ":script_param_3", 0),
					(assign, "$g_multiplayer_num_bots_team_1", ":script_param_3"),
					(str_store_string, 0, "str_team_reg0_bot_count_is_reg1"),
				(else_try),
					(eq, ":script_param_2", 2),
					(ge, ":script_param_3", 0),
					(assign, "$g_multiplayer_num_bots_team_2", ":script_param_3"),
					(str_store_string, 0, "str_team_reg0_bot_count_is_reg1"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 3),
				(assign, reg0, "$g_multiplayer_round_max_seconds"),
				(str_store_string, 0, "str_maximum_seconds_for_round_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 4),
				(assign, reg0, ":script_param_2"),
				(try_begin),
					(is_between, ":script_param_2", 60, 901),
					(assign, "$g_multiplayer_round_max_seconds", ":script_param_2"),
					(str_store_string, 0, "str_maximum_seconds_for_round_is_reg0"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 59, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 5),
				(assign, reg0, "$g_multiplayer_respawn_period"),
				(str_store_string, 0, "str_respawn_period_is_reg0_seconds"),
			(else_try),
				(eq, ":script_param_1", 6),
				(assign, reg0, ":script_param_2"),
				(try_begin),
					(is_between, ":script_param_2", 3, 31),
					(assign, "$g_multiplayer_respawn_period", ":script_param_2"),
					(str_store_string, 0, "str_respawn_period_is_reg0_seconds"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 7),
				(assign, reg0, "$g_multiplayer_num_bots_voteable"),
				(str_store_string, 0, "str_bots_upper_limit_for_votes_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 8),
				(try_begin),
					(is_between, ":script_param_2", 0, 51),
					(assign, "$g_multiplayer_num_bots_voteable", ":script_param_2"),
					(store_add, "$g_multiplayer_max_num_bots", ":script_param_2", 1),
					(assign, reg0, "$g_multiplayer_num_bots_voteable"),
					(str_store_string, 0, "str_bots_upper_limit_for_votes_is_reg0"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 81, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 9),
				(try_begin),
					(eq, "$g_multiplayer_maps_voteable", 1),
					(str_store_string, 0, "str_map_is_voteable"),
				(else_try),
					(str_store_string, 0, "str_map_is_not_voteable"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 10),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_maps_voteable", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_map_is_voteable"),
					(else_try),
						(str_store_string, 0, "str_map_is_not_voteable"),
					(try_end),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 83, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 11),
				(try_begin),
					(eq, "$g_multiplayer_factions_voteable", 1),
					(str_store_string, 0, "str_factions_are_voteable"),
				(else_try),
					(str_store_string, 0, "str_factions_are_not_voteable"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 12),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_factions_voteable", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_factions_are_voteable"),
					(else_try),
						(str_store_string, 0, "str_factions_are_not_voteable"),
					(try_end),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 82, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 13),
				(try_begin),
					(eq, "$g_multiplayer_player_respawn_as_bot", 1),
					(str_store_string, 0, "str_players_respawn_as_bot"),
				(else_try),
					(str_store_string, 0, "str_players_do_not_respawn_as_bot"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 14),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_player_respawn_as_bot", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_players_respawn_as_bot"),
					(else_try),
						(str_store_string, 0, "str_players_do_not_respawn_as_bot"),
					(try_end),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 85, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 15),
				(try_begin),
					(eq, "$g_multiplayer_kick_voteable", 1),
					(str_store_string, 0, "str_kicking_a_player_is_voteable"),
				(else_try),
					(str_store_string, 0, "str_kicking_a_player_is_not_voteable"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 16),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_kick_voteable", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_kicking_a_player_is_voteable"),
					(else_try),
						(str_store_string, 0, "str_kicking_a_player_is_not_voteable"),
					(try_end),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 90, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 17),
				(try_begin),
					(eq, "$g_multiplayer_ban_voteable", 1),
					(str_store_string, 0, "str_banning_a_player_is_voteable"),
				(else_try),
					(str_store_string, 0, "str_banning_a_player_is_not_voteable"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 18),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_ban_voteable", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_banning_a_player_is_voteable"),
					(else_try),
						(str_store_string, 0, "str_banning_a_player_is_not_voteable"),
					(try_end),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 91, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 19),
				(assign, reg0, "$g_multiplayer_valid_vote_ratio"),
				(str_store_string, 0, "str_percentage_of_yes_votes_required_for_a_poll_to_get_accepted_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 20),
				(try_begin),
					(is_between, ":script_param_2", 50, 101),
					(assign, "$g_multiplayer_valid_vote_ratio", ":script_param_2"),
					(assign, reg0, ":script_param_2"),
					(str_store_string, 0, "str_percentage_of_yes_votes_required_for_a_poll_to_get_accepted_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 21),
				(assign, reg0, "$g_multiplayer_auto_team_balance_limit"),
				(str_store_string, 0, "str_auto_team_balance_threshold_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 22),
				(try_begin),
					(is_between, ":script_param_2", 2, 7),
					(assign, "$g_multiplayer_auto_team_balance_limit", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_auto_team_balance_limit"),
					(str_store_string, 0, "str_auto_team_balance_threshold_is_reg0"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 93, ":script_param_2"),
					(try_end),
				(else_try),
					(ge, ":script_param_2", 7),
					(assign, "$g_multiplayer_auto_team_balance_limit", 1000),
					(assign, reg0, "$g_multiplayer_auto_team_balance_limit"),
					(str_store_string, 0, "str_auto_team_balance_threshold_is_reg0"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 93, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 23),
				(assign, reg0, "$g_multiplayer_initial_gold_multiplier"),
				(str_store_string, 0, "str_starting_gold_ratio_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 24),
				(try_begin),
					(is_between, ":script_param_2", 0, 1001),
					(assign, "$g_multiplayer_initial_gold_multiplier", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_initial_gold_multiplier"),
					(str_store_string, 0, "str_starting_gold_ratio_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 25),
				(assign, reg0, "$g_multiplayer_battle_earnings_multiplier"),
				(str_store_string, 0, "str_combat_gold_bonus_ratio_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 26),
				(try_begin),
					(is_between, ":script_param_2", 0, 1001),
					(assign, "$g_multiplayer_battle_earnings_multiplier", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_battle_earnings_multiplier"),
					(str_store_string, 0, "str_combat_gold_bonus_ratio_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 27),
				(assign, reg0, "$g_multiplayer_round_earnings_multiplier"),
				(str_store_string, 0, "str_round_gold_bonus_ratio_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 28),
				(try_begin),
					(is_between, ":script_param_2", 0, 1001),
					(assign, "$g_multiplayer_round_earnings_multiplier", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_round_earnings_multiplier"),
					(str_store_string, 0, "str_round_gold_bonus_ratio_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 29),
				(try_begin),
					(eq, "$g_multiplayer_allow_player_banners", 1),
					(str_store_string, 0, "str_player_banners_are_allowed"),
				(else_try),
					(str_store_string, 0, "str_player_banners_are_not_allowed"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 30),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_allow_player_banners", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_player_banners_are_allowed"),
					(else_try),
						(str_store_string, 0, "str_player_banners_are_not_allowed"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 31),
				(try_begin),
					(eq, "$g_multiplayer_force_default_armor", 1),
					(str_store_string, 0, "str_default_armor_is_forced"),
				(else_try),
					(str_store_string, 0, "str_default_armor_is_not_forced"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 32),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_force_default_armor", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_default_armor_is_forced"),
					(else_try),
						(str_store_string, 0, "str_default_armor_is_not_forced"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 33),
				(assign, reg0, "$g_multiplayer_point_gained_from_flags"),
				(str_store_string, 0, "str_point_gained_from_flags_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 34),
				(try_begin),
					(is_between, ":script_param_2", 25, 401),
					(assign, "$g_multiplayer_point_gained_from_flags", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_point_gained_from_flags"),
					(str_store_string, 0, "str_point_gained_from_flags_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 35),
				(assign, reg0, "$g_multiplayer_point_gained_from_capturing_flag"),
				(str_store_string, 0, "str_point_gained_from_capturing_flag_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 36),
				(try_begin),
					(is_between, ":script_param_2", 0, 11),
					(assign, "$g_multiplayer_point_gained_from_capturing_flag", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_point_gained_from_capturing_flag"),
					(str_store_string, 0, "str_point_gained_from_capturing_flag_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 37),
				(assign, reg0, "$g_multiplayer_game_max_minutes"),
				(str_store_string, 0, "str_map_time_limit_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 38),
				(try_begin),
					(is_between, ":script_param_2", 5, 121),
					(assign, "$g_multiplayer_game_max_minutes", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_game_max_minutes"),
					(str_store_string, 0, "str_map_time_limit_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 39),
				(assign, reg0, "$g_multiplayer_game_max_points"),
				(str_store_string, 0, "str_team_points_limit_is_reg0"),
			(else_try),
				(eq, ":script_param_1", 40),
				(try_begin),
					(is_between, ":script_param_2", 3, 1001),
					(assign, "$g_multiplayer_game_max_points", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_game_max_points"),
					(str_store_string, 0, "str_team_points_limit_is_reg0"),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 41),
				(assign, reg0, "$g_multiplayer_number_of_respawn_count"),
				(try_begin),
					(eq, reg0, 0),
					(str_store_string, 1, "str_unlimited"),
				(else_try),
					(str_store_string, 1, "str_reg0"),
				(try_end),
				(str_store_string, 0, "str_defender_spawn_count_limit_is_s1"),
			(else_try),
				(eq, ":script_param_1", 42),
				(try_begin),
					(is_between, ":script_param_2", 0, 6),
					(assign, "$g_multiplayer_number_of_respawn_count", ":script_param_2"),
					(assign, reg0, "$g_multiplayer_number_of_respawn_count"),
					(try_begin),
						(eq, reg0, 0),
						(str_store_string, 1, "str_unlimited"),
					(else_try),
						(str_store_string, 1, "str_reg0"),
					(try_end),
					(str_store_string, 0, "str_defender_spawn_count_limit_is_s1"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_int_to_player, ":number", 88, ":script_param_2"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 43),
				(try_begin),
					(eq, "$g_multiplayer_disallow_ranged_weapons", 1),
					(str_store_string, 0, "str_ranged_weapons_are_disallowed"),
				(else_try),
					(str_store_string, 0, "str_ranged_weapons_are_allowed"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 44),
				(try_begin),
					(is_between, ":script_param_2", 0, 2),
					(assign, "$g_multiplayer_disallow_ranged_weapons", ":script_param_2"),
					(try_begin),
						(eq, ":script_param_2", 1),
						(str_store_string, 0, "str_ranged_weapons_are_disallowed"),
					(else_try),
						(str_store_string, 0, "str_ranged_weapons_are_allowed"),
					(try_end),
				(else_try),
					(str_store_string, 0, "str_input_is_not_correct_for_the_command_type_help_for_more_information"),
				(try_end),
			(else_try),
				(str_store_string, 0, "@{!}DEBUG : SYSTEM ERROR!"),
			(try_end)
		]),

	("game_event_party_encounter",
		[
			(store_script_param_1, "$g_encountered_party"),
			(store_script_param_2, "$g_encountered_party_2"),
			(store_faction_of_party, "$g_encountered_party_faction", "$g_encountered_party"),
			(store_relation, "$g_encountered_party_relation", "$g_encountered_party_faction", "fac_player_faction"),
			(party_get_slot, "$g_encountered_party_type", "$g_encountered_party", slot_party_type),
			(party_get_template_id, "$g_encountered_party_template", "$g_encountered_party"),
			(call_script, "script_party_count_fit_regulars", "p_main_party"),
			(assign, "$playerparty_prebattle_regulars", reg0),
			(assign, "$g_last_rest_center", -1),
			(assign, "$talk_context", 0),
			(assign, "$g_player_surrenders", 0),
			(assign, "$g_enemy_surrenders", 0),
			(assign, "$g_leave_encounter", 0),
			(assign, "$g_engaged_enemy", 0),
			(try_begin),
				(neg|is_between, "$g_encountered_party", "p_town_1", "p_salt_mine"),
				(rest_for_hours, 0),
				(assign, "$g_infinite_camping", 0),
			(try_end),
			(assign, "$new_encounter", 1),
			(try_begin),
				(lt, "$g_encountered_party_2", 0),
				(try_begin),
					(party_slot_eq, "$g_encountered_party", slot_party_type, 3),
					(jump_to_menu, "mnu_castle_outside"),
				(else_try),
					(party_slot_eq, "$g_encountered_party", slot_party_type, 2),
					(jump_to_menu, "mnu_castle_outside"),
				(else_try),
					(party_slot_eq, "$g_encountered_party", slot_party_type, 16),
					(jump_to_menu, "mnu_ship_reembark"),
				(else_try),
					(party_slot_eq, "$g_encountered_party", slot_party_type, 4),
					(jump_to_menu, "mnu_village"),
				(else_try),
					(party_slot_eq, "$g_encountered_party", slot_party_type, 17),
					(jump_to_menu, "mnu_cattle_herd"),
				(else_try),
					(is_between, "$g_encountered_party", "p_training_ground_1", "p_bridge_1"),
					(jump_to_menu, "mnu_training_ground"),
				(else_try),
					(party_slot_eq, "$g_encountered_party", slot_party_type, 18),
					(party_get_template_id, ":template_id_l_g_encountered_party", "$g_encountered_party"),
					(try_begin),
						(eq, "$troop_trees", "trp_troop_tree_0"),
						(ge, ":template_id_l_g_encountered_party", "pt_steppe_bandit_lair"),
						(lt, ":template_id_l_g_encountered_party", "pt_bandit_lair_templates_end"),
						(assign, "$loot_screen_shown", 0),
						(jump_to_menu, "mnu_bandit_lair"),
					(else_try),
						(eq, "$troop_trees", "trp_troop_tree_1"),
						(ge, ":template_id_l_g_encountered_party", "pt_steppe_bandit_lair_r"),
						(lt, ":template_id_l_g_encountered_party", "pt_bandit_lair_templates_end_r"),
						(assign, "$loot_screen_shown", 0),
						(jump_to_menu, "mnu_bandit_lair"),
					(else_try),
						(eq, "$troop_trees", "trp_troop_tree_2"),
						(ge, ":template_id_l_g_encountered_party", "pt_steppe_bandit_lair_e"),
						(lt, ":template_id_l_g_encountered_party", "pt_bandit_lair_templates_end_e"),
						(assign, "$loot_screen_shown", 0),
						(jump_to_menu, "mnu_bandit_lair"),
					(try_end),
				(else_try),
					(eq, "$g_encountered_party", "p_zendar"),
					(jump_to_menu, "mnu_zendar"),
				(else_try),
					(eq, "$g_encountered_party", "p_salt_mine"),
					(jump_to_menu, "mnu_salt_mine"),
				(else_try),
					(eq, "$g_encountered_party", "p_four_ways_inn"),
					(jump_to_menu, "mnu_four_ways_inn"),
				(else_try),
					(eq, "$g_encountered_party", "p_test_scene"),
					(jump_to_menu, "mnu_test_scene"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlefields"),
					(jump_to_menu, "mnu_battlefields"),
				(else_try),
					(eq, "$g_encountered_party", "p_tower_of_joy"),
					(jump_to_menu, "mnu_tower_of_joy"),
				(else_try),
					(eq, "$g_encountered_party", "p_naggas_hill"),
					(jump_to_menu, "mnu_naggas_hill"),
				(else_try),
					(eq, "$g_encountered_party", "p_rodgars_hut"),
					(jump_to_menu, "mnu_rodgars_hut"),
				(else_try),
					(eq, "$g_encountered_party", "p_donation_septry"),
					(jump_to_menu, "mnu_donation_septry"),
				(else_try),
					(eq, "$g_encountered_party", "p_hillhall"),
					(jump_to_menu, "mnu_hillhall"),
				(else_try),
					(eq, "$g_encountered_party", "p_bloodstone"),
					(jump_to_menu, "mnu_bloodstone"),
				(else_try),
					(eq, "$g_encountered_party", "p_bloodstone_haunt"),
					(jump_to_menu, "mnu_bloodstone_haunt"),
				(else_try),
					(eq, "$g_encountered_party", "p_harrentown"),
					(jump_to_menu, "mnu_harrentown"),
				(else_try),
					(eq, "$g_encountered_party", "p_illyrios_manse"),
					(jump_to_menu, "mnu_illyrios_manse"),
				(else_try),
					(eq, "$g_encountered_party", "p_water_gardens"),
					(jump_to_menu, "mnu_water_gardens"),
				(else_try),
					(eq, "$g_encountered_party", "p_castle_black"),
					(jump_to_menu, "mnu_castle_black"),
				(else_try),
					(eq, "$g_encountered_party", "p_renly_quest_shore"),
					(jump_to_menu, "mnu_renly_quest_shore"),
				(else_try),
					(eq, "$g_encountered_party", "p_renly_quest_rainwood"),
					(jump_to_menu, "mnu_renly_quest_rainwood"),
				(else_try),
					(eq, "$g_encountered_party", "p_citadel_septry"),
					(jump_to_menu, "mnu_citadel_septry"),
				(else_try),
					(eq, "$g_encountered_party", "p_citadel_holdings"),
					(jump_to_menu, "mnu_citadel_holdings"),
				(else_try),
					(eq, "$g_encountered_party", "p_citadel_barrow"),
					(jump_to_menu, "mnu_citadel_barrow"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_1"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_2"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_3"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_4"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_5"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_6"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_7"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_dothraki_sea_8"),
					(jump_to_menu, "mnu_battlemap_dothraki_sea"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_1"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_2"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_3"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_4"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_5"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_6"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_7"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_8"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_9"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_10"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_11"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_12"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_13"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_forest_bog_14"),
					(jump_to_menu, "mnu_battlemap_forest_bog"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_abandoned_village_1"),
					(jump_to_menu, "mnu_battlemap_abandoned_village"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_abandoned_village_2"),
					(jump_to_menu, "mnu_battlemap_abandoned_village"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_abandoned_village_3"),
					(jump_to_menu, "mnu_battlemap_abandoned_village"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_abandoned_village_4"),
					(jump_to_menu, "mnu_battlemap_abandoned_village"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_abandoned_village_5"),
					(jump_to_menu, "mnu_battlemap_abandoned_village"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_abandoned_village_6"),
					(jump_to_menu, "mnu_battlemap_abandoned_village"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_poleboat_1"),
					(jump_to_menu, "mnu_battlemap_poleboat"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_poleboat_2"),
					(jump_to_menu, "mnu_battlemap_poleboat"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_poleboat_3"),
					(jump_to_menu, "mnu_battlemap_poleboat"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_1"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_2"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_3"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_4"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_5"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_6"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_7"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_8"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_old_mill_9"),
					(jump_to_menu, "mnu_battlemap_old_mill"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_weirwood_north_1"),
					(jump_to_menu, "mnu_battlemap_weirwood_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_weirwood_north_2"),
					(jump_to_menu, "mnu_battlemap_weirwood_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_weirwood_north_3"),
					(jump_to_menu, "mnu_battlemap_weirwood_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_weirwood_north_4"),
					(jump_to_menu, "mnu_battlemap_weirwood_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_weirwood_north_5"),
					(jump_to_menu, "mnu_battlemap_weirwood_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_weirwood_north_6"),
					(jump_to_menu, "mnu_battlemap_weirwood_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_barrow_1"),
					(jump_to_menu, "mnu_battlemap_barrow"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_barrow_2"),
					(jump_to_menu, "mnu_battlemap_barrow"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_barrow_3"),
					(jump_to_menu, "mnu_battlemap_barrow"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_barrow_4"),
					(jump_to_menu, "mnu_battlemap_barrow"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_barrow_5"),
					(jump_to_menu, "mnu_battlemap_barrow"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_westerlands_mine_1"),
					(jump_to_menu, "mnu_battlemap_mine_westerlands"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_westerlands_mine_2"),
					(jump_to_menu, "mnu_battlemap_mine_westerlands"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_westerlands_mine_3"),
					(jump_to_menu, "mnu_battlemap_mine_westerlands"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_westerlands_mine_4"),
					(jump_to_menu, "mnu_battlemap_mine_westerlands"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_westerlands_mine_5"),
					(jump_to_menu, "mnu_battlemap_mine_westerlands"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_lumber_camp_north_1"),
					(jump_to_menu, "mnu_battlemap_lumber_camp_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_lumber_camp_north_2"),
					(jump_to_menu, "mnu_battlemap_lumber_camp_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_lumber_camp_north_3"),
					(jump_to_menu, "mnu_battlemap_lumber_camp_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_lumber_camp_north_4"),
					(jump_to_menu, "mnu_battlemap_lumber_camp_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_lumber_camp_north_5"),
					(jump_to_menu, "mnu_battlemap_lumber_camp_north"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_1"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_2"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_3"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_4"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_5"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_6"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_7"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_farmland_reach_8"),
					(jump_to_menu, "mnu_battlemap_farmland_reach"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_orchard_essos_1"),
					(jump_to_menu, "mnu_battlemap_orchard_essos"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_orchard_essos_2"),
					(jump_to_menu, "mnu_battlemap_orchard_essos"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_orchard_essos_3"),
					(jump_to_menu, "mnu_battlemap_orchard_essos"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_orchard_essos_4"),
					(jump_to_menu, "mnu_battlemap_orchard_essos"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_orchard_essos_5"),
					(jump_to_menu, "mnu_battlemap_orchard_essos"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_orchard_essos_6"),
					(jump_to_menu, "mnu_battlemap_orchard_essos"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_orchard_essos_7"),
					(jump_to_menu, "mnu_battlemap_orchard_essos"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_ruined_fort_1"),
					(jump_to_menu, "mnu_battlemap_ruined_fort"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_ruined_fort_2"),
					(jump_to_menu, "mnu_battlemap_ruined_fort"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_ruined_fort_3"),
					(jump_to_menu, "mnu_battlemap_ruined_fort"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_ruined_fort_4"),
					(jump_to_menu, "mnu_battlemap_ruined_fort"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_rhoynar_ruins_1"),
					(jump_to_menu, "mnu_battlemap_rhoynar_ruins"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_rhoynar_ruins_2"),
					(jump_to_menu, "mnu_battlemap_rhoynar_ruins"),
				(else_try),
					(eq, "$g_encountered_party", "p_battlemap_rhoynar_ruins_3"),
					(jump_to_menu, "mnu_battlemap_rhoynar_ruins"),
				(else_try),
					(eq, "$g_encountered_party", "p_ninestars_1"),
					(jump_to_menu, "mnu_ninestars_1"),
				(else_try),
					(eq, "$g_encountered_party", "p_nightfort"),
					(jump_to_menu, "mnu_nightfort"),
				(else_try),
					(eq, "$g_encountered_party", "p_castle_black2"),
					(jump_to_menu, "mnu_castle_black2"),
				(else_try),
					(eq, "$g_encountered_party", "p_castle_black3"),
					(jump_to_menu, "mnu_castle_black3"),
				(else_try),
					(eq, "$g_encountered_party", "p_castle_black4"),
					(jump_to_menu, "mnu_castle_black4"),
				(else_try),
					(eq, "$g_encountered_party", "p_castle_black5"),
					(jump_to_menu, "mnu_castle_black5"),
				(else_try),
					(eq, "$g_encountered_party", "p_shadow_tower"),
					(jump_to_menu, "mnu_shadow_tower"),
				(else_try),
					(eq, "$g_encountered_party", "p_shadow_tower2"),
					(jump_to_menu, "mnu_shadow_tower2"),
				(else_try),
					(eq, "$g_encountered_party", "p_eastwatch"),
					(jump_to_menu, "mnu_eastwatch"),
				(else_try),
					(eq, "$g_encountered_party", "p_odin_cave"),
					(jump_to_menu, "mnu_odin_cave"),
				(else_try),
					(eq, "$g_encountered_party", "p_horror_cave"),
					(jump_to_menu, "mnu_horror_cave"),
				(else_try),
					(eq, "$g_encountered_party", "p_haldon_bath"),
					(jump_to_menu, "mnu_haldon_bath"),
				(else_try),
					(eq, "$g_encountered_party", "p_golden_company_camp"),
					(jump_to_menu, "mnu_golden_company_camp"),
				(else_try),
					(eq, "$g_encountered_party", "p_brookwater_keep"),
					(jump_to_menu, "mnu_brookwater_keep"),
				(else_try),
					(eq, "$g_encountered_party", "p_dragonstone_village"),
					(jump_to_menu, "mnu_dragonstone_village"),
				(else_try),
					(eq, "$g_encountered_party", "p_mole_town"),
					(jump_to_menu, "mnu_mole_town"),
				(else_try),
					(eq, "$g_encountered_party", "p_bridge_of_skulls"),
					(jump_to_menu, "mnu_bridge_of_skulls"),
				(else_try),
					(eq, "$g_encountered_party", "p_wall_tunnel"),
					(jump_to_menu, "mnu_wall_tunnel"),
				(else_try),
					(eq, "$g_encountered_party", "p_abandoned_holdfast"),
					(jump_to_menu, "mnu_abandoned_holdfast"),
				(else_try),
					(eq, "$g_encountered_party", "p_isle_of_faces"),
					(jump_to_menu, "mnu_isle_of_faces"),
				(else_try),
					(eq, "$g_encountered_party", "p_saltpans_isles"),
					(jump_to_menu, "mnu_saltpans_isles"),
				(else_try),
					(eq, "$g_encountered_party", "p_summerhall"),
					(jump_to_menu, "mnu_summerhall"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_1"),
					(jump_to_menu, "mnu_port_1"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_2"),
					(jump_to_menu, "mnu_port_2"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_3"),
					(jump_to_menu, "mnu_port_3"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_4"),
					(jump_to_menu, "mnu_port_4"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_5"),
					(jump_to_menu, "mnu_port_5"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_6"),
					(jump_to_menu, "mnu_port_6"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_7"),
					(jump_to_menu, "mnu_port_7"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_8"),
					(jump_to_menu, "mnu_port_8"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_9"),
					(jump_to_menu, "mnu_port_9"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_10"),
					(jump_to_menu, "mnu_port_10"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_11"),
					(jump_to_menu, "mnu_port_11"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_12"),
					(jump_to_menu, "mnu_port_12"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_1"),
					(jump_to_menu, "mnu_port_1"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_13"),
					(jump_to_menu, "mnu_port_13"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_14"),
					(jump_to_menu, "mnu_port_14"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_15"),
					(jump_to_menu, "mnu_port_15"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_16"),
					(jump_to_menu, "mnu_port_16"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_17"),
					(jump_to_menu, "mnu_port_17"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_18"),
					(jump_to_menu, "mnu_port_18"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_19"),
					(jump_to_menu, "mnu_port_19"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_20"),
					(jump_to_menu, "mnu_port_20"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_21"),
					(jump_to_menu, "mnu_port_21"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_22"),
					(jump_to_menu, "mnu_port_22"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_23"),
					(jump_to_menu, "mnu_port_23"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_24"),
					(jump_to_menu, "mnu_port_24"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_25"),
					(jump_to_menu, "mnu_port_25"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_26"),
					(jump_to_menu, "mnu_port_26"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_27"),
					(jump_to_menu, "mnu_port_27"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_28"),
					(jump_to_menu, "mnu_port_28"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_29"),
					(jump_to_menu, "mnu_port_29"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_30"),
					(jump_to_menu, "mnu_port_30"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_31"),
					(jump_to_menu, "mnu_port_31"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_32"),
					(jump_to_menu, "mnu_port_32"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_33"),
					(jump_to_menu, "mnu_port_33"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_34"),
					(jump_to_menu, "mnu_port_34"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_35"),
					(jump_to_menu, "mnu_port_35"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_36"),
					(jump_to_menu, "mnu_port_36"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_37"),
					(jump_to_menu, "mnu_port_37"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_38"),
					(jump_to_menu, "mnu_port_38"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_39"),
					(jump_to_menu, "mnu_port_39"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_40"),
					(jump_to_menu, "mnu_port_40"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_41"),
					(jump_to_menu, "mnu_port_41"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_42"),
					(jump_to_menu, "mnu_port_42"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_43"),
					(jump_to_menu, "mnu_port_43"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_44"),
					(jump_to_menu, "mnu_port_44"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_45"),
					(jump_to_menu, "mnu_port_45"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_46"),
					(jump_to_menu, "mnu_port_46"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_47"),
					(jump_to_menu, "mnu_port_47"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_48"),
					(jump_to_menu, "mnu_port_48"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_49"),
					(jump_to_menu, "mnu_port_49"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_50"),
					(jump_to_menu, "mnu_port_50"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_51"),
					(jump_to_menu, "mnu_port_51"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_52"),
					(jump_to_menu, "mnu_port_52"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_53"),
					(jump_to_menu, "mnu_port_53"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_54"),
					(jump_to_menu, "mnu_port_54"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_55"),
					(jump_to_menu, "mnu_port_55"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_56"),
					(jump_to_menu, "mnu_port_56"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_57"),
					(jump_to_menu, "mnu_port_57"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_58"),
					(jump_to_menu, "mnu_port_58"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_59"),
					(jump_to_menu, "mnu_port_59"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_60"),
					(jump_to_menu, "mnu_port_60"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_61"),
					(jump_to_menu, "mnu_port_61"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_62"),
					(jump_to_menu, "mnu_port_62"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_63"),
					(jump_to_menu, "mnu_port_63"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_64"),
					(jump_to_menu, "mnu_port_64"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_65"),
					(jump_to_menu, "mnu_port_65"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_66"),
					(jump_to_menu, "mnu_port_66"),
				(else_try),
					(eq, "$g_encountered_party", "p_port_67"),
					(jump_to_menu, "mnu_port_67"),
				(else_try),
					(eq, "$g_encountered_party", "p_nunns_deep"),
					(jump_to_menu, "mnu_nunns_deep"),
				(else_try),
					(eq, "$g_encountered_party", "p_oldstones"),
					(jump_to_menu, "mnu_oldstones"),
				(else_try),
					(eq, "$g_encountered_party", "p_sorrows"),
					(jump_to_menu, "mnu_sorrows"),
				(else_try),
					(eq, "$g_encountered_party", "p_cairn_hall"),
					(jump_to_menu, "mnu_cairn_hall"),
				(else_try),
					(eq, "$g_encountered_party", "p_dragonmont"),
					(jump_to_menu, "mnu_dragonmont"),
				(else_try),
					(eq, "$g_encountered_party", "p_relic_septry"),
					(jump_to_menu, "mnu_relic_septry"),
				(else_try),
					(eq, "$g_encountered_party", "p_training_ground"),
					(jump_to_menu, "mnu_tutorial"),
				(else_try),
					(eq, "$g_encountered_party", "p_camp_bandits"),
					(jump_to_menu, "mnu_camp"),
				(else_try),
					(jump_to_menu, "mnu_simple_encounter"),
				(try_end),
			(else_try),
				(try_begin),
					(this_or_next|party_slot_eq, "$g_encountered_party", slot_party_type, 3),
					(party_slot_eq, "$g_encountered_party", slot_party_type, 2),
					(try_begin),
						(eq, "$auto_enter_town", "$g_encountered_party"),
						(jump_to_menu, "mnu_town"),
					(else_try),
						(eq, "$auto_besiege_town", "$g_encountered_party"),
						(jump_to_menu, "mnu_besiegers_camp_with_allies"),
					(else_try),
						(jump_to_menu, "mnu_join_siege_outside"),
					(try_end),
				(else_try),
					(jump_to_menu, "mnu_pre_join"),
				(try_end),
			(try_end),
			(assign, "$auto_enter_town", 0),
			(assign, "$auto_besiege_town", 0)
		]),

	("game_event_simulate_battle",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, "$marshall_defeated_in_battle", -1),
			(store_current_hours, ":current_hours"),
			(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
			(try_for_parties, ":var_5"),
				(party_get_battle_opponent, ":battle_opponent_var_5", ":var_5"),
				(gt, ":battle_opponent_var_5", 0),
				(party_set_slot, ":var_5", slot_party_last_in_combat, ":current_hours"),
			(try_end),
			(assign, ":value", 1),
			(try_begin),
				(ge, ":script_param_1", 0),
				(ge, ":script_param_2", 0),
				(party_is_active, ":script_param_1"),
				(party_is_active, ":script_param_2"),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
				(store_relation, ":relation_faction_of_party_script_param_1_faction_of_party_script_param_2", ":faction_of_party_script_param_1", ":faction_of_party_script_param_2"),
				(lt, ":relation_faction_of_party_script_param_1_faction_of_party_script_param_2", 0),
				(assign, ":value", 0),
				(try_begin),
					(this_or_next|eq, "$g_battle_simulation_cancel_for_party", ":script_param_1"),
					(eq, "$g_battle_simulation_cancel_for_party", ":script_param_2"),
					(assign, "$g_battle_simulation_cancel_for_party", -1),
					(assign, "$auto_enter_town", "$g_battle_simulation_auto_enter_town_after_battle"),
					(assign, ":value", 1),
				(else_try),
					(try_begin),
						(this_or_next|party_slot_eq, ":script_param_1", slot_party_retreat_flag, 1),
						(party_slot_eq, ":script_param_2", slot_party_retreat_flag, 1),
						(assign, ":value", 1),
					(try_end),
					(party_set_slot, ":script_param_2", slot_party_retreat_flag, 0),
					(party_collect_attachments_to_party, ":script_param_1", "p_collective_ally"),
					(party_collect_attachments_to_party, ":script_param_2", "p_collective_enemy"),
					(assign, ":value_2", -1),
					(try_begin),
						(eq, "$g_dplmc_terrain_advantage", 0),
						(call_script, "script_dplmc_get_terrain_code_for_battle", ":script_param_2", ":script_param_1"),
						(assign, ":value_2", reg0),
						(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_collective_ally", ":value_2", 0, 1),
						(assign, ":value_3", reg0),
						(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_collective_enemy", ":value_2", 0, 1),
						(assign, ":value_4", reg0),
					(else_try),
						(call_script, "script_party_calculate_strength", "p_collective_ally", 0),
						(assign, ":value_3", reg0),
						(call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
						(assign, ":value_4", reg0),
					(try_end),
					(store_div, ":value_3", ":value_3", 20),
					(val_min, ":value_3", 50),
					(val_max, ":value_3", 1),
					(store_div, ":value_4", ":value_4", 20),
					(val_min, ":value_4", 50),
					(val_add, ":value_4", 1),
					(try_begin),
						(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 2),
						(party_slot_eq, ":script_param_1", slot_party_type, 3),
						(val_mul, ":value_3", 123),
						(val_div, ":value_3", 100),
						(val_mul, ":value_4", 100),
						(val_div, ":value_4", 123),
					(try_end),
					(assign, ":var_14", 100),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_203", ":faction_of_party_script_param_1", 203),
						(neq, ":faction_of_party_script_param_1_203", 0),
						(val_mul, ":faction_of_party_script_param_1_203", -2),
						(val_add, ":var_14", ":faction_of_party_script_param_1_203"),
					(try_end),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_204", ":faction_of_party_script_param_1", 204),
						(neq, ":faction_of_party_script_param_1_204", 0),
						(val_mul, ":faction_of_party_script_param_1_204", 4),
						(val_add, ":var_14", ":faction_of_party_script_param_1_204"),
					(try_end),
					(val_mul, ":value_3", ":var_14"),
					(val_div, ":value_3", 100),
					(assign, ":var_17", 100),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_203", ":faction_of_party_script_param_2", 203),
						(neq, ":faction_of_party_script_param_1_203", 0),
						(val_mul, ":faction_of_party_script_param_1_203", -2),
						(val_add, ":var_17", ":faction_of_party_script_param_1_203"),
					(try_end),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_204", ":faction_of_party_script_param_2", 204),
						(neq, ":faction_of_party_script_param_1_204", 0),
						(val_mul, ":faction_of_party_script_param_1_204", 4),
						(val_add, ":var_17", ":faction_of_party_script_param_1_204"),
					(try_end),
					(val_mul, ":value_4", ":var_17"),
					(val_div, ":value_4", 100),
					(call_script, "script_party_count_fit_for_battle", "p_collective_ally", 0),
					(assign, ":var_18", reg0),
					(val_max, "$g_speed_ai_battles", 1),
					(try_for_range, ":unused", 0, "$g_speed_ai_battles"),
						(try_begin),
							(neg|is_currently_night),
							(inflict_casualties_to_party_group, ":script_param_2", ":value_3", "p_temp_casualties"),
							(party_collect_attachments_to_party, ":script_param_2", "p_collective_enemy"),
						(try_end),
						(call_script, "script_party_count_fit_for_battle", "p_collective_enemy", 0),
						(assign, ":value_5", reg0),
						(try_begin),
							(gt, ":value_5", 0),
							(neg|is_currently_night),
							(inflict_casualties_to_party_group, ":script_param_1", ":value_4", "p_temp_casualties"),
							(party_collect_attachments_to_party, ":script_param_1", "p_collective_ally"),
						(try_end),
						(call_script, "script_party_count_fit_for_battle", "p_collective_ally", 0),
						(assign, ":value_6", reg0),
					(try_end),
					(try_begin),
						(neg|is_currently_night),
						(inflict_casualties_to_party_group, ":script_param_2", ":value_3", "p_temp_casualties"),
						(party_collect_attachments_to_party, ":script_param_2", "p_collective_enemy"),
					(try_end),
					(call_script, "script_party_count_fit_for_battle", "p_collective_enemy", 0),
					(assign, ":value_5", reg0),
					(try_begin),
						(gt, ":value_5", 0),
						(neg|is_currently_night),
						(inflict_casualties_to_party_group, ":script_param_1", ":value_4", "p_temp_casualties"),
						(party_collect_attachments_to_party, ":script_param_1", "p_collective_ally"),
					(try_end),
					(call_script, "script_party_count_fit_for_battle", "p_collective_ally", 0),
					(assign, ":value_6", reg0),
					(try_begin),
						(this_or_next|eq, ":value_5", 0),
						(eq, ":value_6", 0),
						(assign, ":value_7", 0),
						(try_begin),
							(neg|troop_is_wounded, "trp_player"),
							(eq, ":value_6", 0),
							(eq, "$auto_enter_town", "$g_encountered_party"),
							(eq, ":var_18", ":value_6"),
							(assign, ":value_7", 1),
						(try_end),
						(eq, ":value_7", 0),
						(try_begin),
							(eq, ":value_5", 0),
							(eq, ":value_6", 0),
							(assign, ":value_8", -1),
							(assign, ":value_9", -1),
							(assign, ":value_10", -1),
						(else_try),
							(eq, ":value_5", 0),
							(assign, ":value_8", ":script_param_1"),
							(assign, ":value_9", ":script_param_2"),
							(assign, ":value_10", "p_collective_enemy"),
						(else_try),
							(assign, ":value_8", ":script_param_2"),
							(assign, ":value_9", ":script_param_1"),
							(assign, ":value_10", "p_collective_ally"),
						(try_end),
						(try_begin),
							(gt, ":value_9", -1),
							(party_slot_eq, ":value_9", slot_party_type, 11),
							(party_get_slot, ":value_9_town_trade_good_productions_begin", ":value_9", slot_town_trade_good_productions_begin),
							(party_set_slot, ":value_9", slot_town_wealth, 0),
							(party_set_slot, ":value_9", slot_town_prosperity, 0),
							(gt, ":value_9_town_trade_good_productions_begin", 0),
							(val_add, ":value_9_town_trade_good_productions_begin", 1),
							(try_for_range, ":number", 1, ":value_9_town_trade_good_productions_begin"),
								(store_add, ":value_11", 500, ":number"),
								(party_set_slot, ":value_9", ":value_11", 0),
							(try_end),
						(try_end),
						(try_begin),
							(gt, ":value_9", -1),
							(assign, ":value_12", 1000000),
							(try_for_range, ":party", "p_town_1", "p_salt_mine"),
								(store_distance_to_party_from_party, ":distance_to_party_from_party_value_9_party", ":value_9", ":party"),
								(try_begin),
									(lt, ":distance_to_party_from_party_value_9_party", ":value_12"),
									(assign, ":value_12", ":distance_to_party_from_party_value_9_party"),
									(assign, ":var_32", ":party"),
								(try_end),
							(try_end),
							(str_clear, 10),
							(try_begin),
								(gt, ":var_32", 0),
								(str_store_party_name, 10, ":var_32"),
								(str_store_string, 10, "@ near {s10}"),
							(try_end),
							(try_begin),
								(party_slot_eq, ":value_9", slot_party_type, 12),
								(party_get_slot, reg10, ":value_9", slot_production_sources_end),
								(party_get_slot, ":value_9_234", ":value_9", 234),
								(str_store_party_name_link, 13, ":value_9_234"),
								(display_log_message, "@Your recruiter who was commissioned to recruit {reg10} recruits to {s13} has been defeated{s10}!", 0x00ff0000),
							(try_end),
							(try_begin),
								(party_slot_eq, ":value_9", slot_party_type, 21),
								(party_get_slot, ":value_9_263", ":value_9", 263),
								(party_get_slot, ":value_9_ai_object", ":value_9", slot_party_ai_object),
								(try_begin),
									(gt, ":value_9_263", 0),
									(str_store_troop_name, 13, ":value_9_263"),
								(else_try),
									(str_store_party_name, 13, ":value_9_ai_object"),
								(try_end),
								(party_get_slot, ":value_9_300", ":value_9", 300),
								(str_store_item_name, 12, ":value_9_300"),
								(display_log_message, "@Your caravan sending {s12} to {s13} has been defeated{s10}!", 0x00ff0000),
							(try_end),
							(try_begin),
								(party_slot_eq, ":value_9", slot_party_type, 8),
								(party_get_slot, ":value_9_ai_object", ":value_9", 263),
								(party_stack_get_troop_id, ":party_stack_troop_id_value_9_ai_object_0", ":value_9_ai_object", 0),
								(str_store_troop_name, 13, ":party_stack_troop_id_value_9_ai_object_0"),
								(display_log_message, "@Your messenger on the way to {s13} has been defeated{s10}!", 0x00ff0000),
							(try_end),
							(try_begin),
								(party_slot_eq, ":value_9", slot_party_type, 7),
								(store_faction_of_party, ":faction_of_party_value_9", ":value_9"),
								(eq, ":faction_of_party_value_9", "fac_player_faction"),
								(party_get_slot, ":value_9_ai_object", ":value_9", slot_party_ai_object),
								(str_store_party_name, 13, ":value_9_ai_object"),
								(display_log_message, "@Your soldiers patrolling {s13} have been defeated{s10}!", 0x00ff0000),
							(try_end),
							(try_begin),
								(party_slot_eq, ":value_9", slot_party_type, 10),
								(store_faction_of_party, ":faction_of_party_value_9", ":value_9"),
								(eq, ":faction_of_party_value_9", "$players_kingdom"),
								(party_get_slot, ":value_9_ai_object", ":value_9", 263),
								(str_store_party_name, 13, ":value_9_ai_object"),
								(display_log_message, "@A scout trying to gather information about {s13} has been slain{s10}!", 0x00ff0000),
							(try_end),
						(try_end),
						(try_begin),
							(ge, ":value_8", 0),
							(call_script, "script_get_nonempty_party_in_group", ":value_8"),
							(assign, ":value_13", reg0),
							(store_faction_of_party, ":faction_of_party_value_13", ":value_13"),
							(store_faction_of_party, ":faction_of_party_value_9_2", ":value_9"),
						(else_try),
							(assign, ":value_13", -1),
						(try_end),
						(try_begin),
							(ge, ":value_10", 0),
							(party_get_num_companion_stacks, ":num_companion_stacks_value_10", ":value_10"),
						(else_try),
							(assign, ":num_companion_stacks_value_10", 0),
						(try_end),
						(try_for_range, ":number_2", 0, ":num_companion_stacks_value_10"),
							(party_stack_get_troop_id, ":party_stack_troop_id_value_10_number_2", ":value_10", ":number_2"),
							(troop_is_hero, ":party_stack_troop_id_value_10_number_2"),
							(gt, ":party_stack_troop_id_value_10_number_2", 0),
							(try_begin),
								(check_quest_active, "qst_lend_surgeon"),
								(quest_slot_eq, "qst_lend_surgeon", slot_quest_giver_troop, ":party_stack_troop_id_value_10_number_2"),
								(call_script, "script_abort_quest", "qst_lend_surgeon", 0),
							(try_end),
							(call_script, "script_remove_troop_from_prison", ":party_stack_troop_id_value_10_number_2"),
							(troop_set_slot, ":party_stack_troop_id_value_10_number_2", slot_troop_leaded_party, -1),
							(store_random_in_range, ":random_in_range_0_100", 0, 100),
							(str_store_troop_name_link, 1, ":party_stack_troop_id_value_10_number_2"),
							(str_store_faction_name_link, 2, ":faction_of_party_value_13"),
							(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_value_10_number_2", ":party_stack_troop_id_value_10_number_2"),
							(str_store_faction_name_link, 3, ":faction_of_troop_party_stack_troop_id_value_10_number_2"),
							(try_begin),
								(ge, ":random_in_range_0_100", 60),
								(neq, ":faction_of_troop_party_stack_troop_id_value_10_number_2", "fac_outlaws"),
								(party_stack_get_troop_id, ":party_stack_troop_id_value_13_0", ":value_13", 0),
								(this_or_next|is_between, ":party_stack_troop_id_value_13_0", "trp_knight_1_1_wife", "trp_heroes_end"),
								(is_between, ":party_stack_troop_id_value_13_0", "trp_npc1", "trp_knight_1_1_wife"),
								(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_13_0", slot_troop_occupation, 2),
								(is_between, ":party_stack_troop_id_value_13_0", "trp_npc1", "trp_knight_1_1_wife"),
								(party_add_prisoners, ":value_13", ":party_stack_troop_id_value_10_number_2", 1),
								(gt, reg0, 0),
								(troop_set_slot, ":party_stack_troop_id_value_10_number_2", slot_troop_prisoner_of_party, ":value_13"),
								(display_log_message, "str_hero_taken_prisoner"),
								(try_begin),
									(call_script, "script_cf_prisoner_offered_parole", ":party_stack_troop_id_value_10_number_2"),
									(try_begin),
										(eq, "$cheat_mode", 1),
										(display_message, "@{!}DEBUG : Prisoner granted parole"),
									(try_end),
									(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_value_13_0", ":party_stack_troop_id_value_10_number_2", 3),
									(val_add, "$total_battle_enemy_changes", 3),
								(else_try),
									(try_begin),
										(eq, "$cheat_mode", 1),
										(display_message, "@{!}DEBUG : Prisoner not offered parole"),
									(try_end),
									(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_value_13_0", ":party_stack_troop_id_value_10_number_2", -5),
									(val_add, "$total_battle_enemy_changes", -5),
								(try_end),
								(store_faction_of_party, ":faction_of_party_value_13_2", ":value_13"),
								(call_script, "script_update_troop_location_notes_prisoned", ":party_stack_troop_id_value_10_number_2", ":faction_of_party_value_13_2"),
							(else_try),
								(neq, ":party_stack_troop_id_value_10_number_2", "trp_player"),
								(display_message, "@{s1} of {s3} was defeated in battle but managed to escape."),
								(try_begin),
									(is_between, ":party_stack_troop_id_value_10_number_2", "trp_forest_bandit_hero", "trp_xerina"),
									(try_begin),
										(eq, "$troop_trees", "trp_troop_tree_0"),
										(assign, ":value_14", "pt_forest_bandits_e"),
										(assign, ":value_15", "pt_deserters"),
									(else_try),
										(eq, "$troop_trees", "trp_troop_tree_1"),
										(assign, ":value_14", "pt_forest_bandits_e"),
										(assign, ":value_15", "pt_deserters"),
									(else_try),
										(eq, "$troop_trees", "trp_troop_tree_2"),
										(assign, ":value_14", "pt_forest_bandits_e"),
										(assign, ":value_15", "pt_deserters"),
									(try_end),
									(try_for_range, ":var_51", ":value_14", ":value_15"),
										(party_template_slot_eq, ":var_51", 8, ":party_stack_troop_id_value_10_number_2"),
										(party_template_set_slot, ":var_51", 6, 0),
										(party_template_set_slot, ":var_51", 10, -1),
									(try_end),
								(try_end),
							(try_end),
							(try_begin),
								(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_value_10_number_2_2", ":party_stack_troop_id_value_10_number_2"),
								(is_between, ":faction_of_troop_party_stack_troop_id_value_10_number_2_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
								(faction_slot_eq, ":faction_of_troop_party_stack_troop_id_value_10_number_2_2", slot_faction_marshall, ":party_stack_troop_id_value_10_number_2"),
								(is_between, ":faction_of_troop_party_stack_troop_id_value_10_number_2_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
								(assign, "$marshall_defeated_in_battle", ":party_stack_troop_id_value_10_number_2"),
								(assign, "$g_recalculate_ais", 1),
							(try_end),
							(try_begin),
								(call_script, "script_dplmc_is_affiliated_family_member", ":party_stack_troop_id_value_10_number_2"),
								(eq, reg0, 1),
								(eq, "$g_player_is_captive", 0),
								(neg|troop_slot_ge, "trp_player", 8, 1),
								(neg|troop_is_wounded, "trp_player"),
								(assign, ":value_16", 0),
								(try_begin),
									(store_relation, reg0, "$players_kingdom", ":faction_of_troop_party_stack_troop_id_value_10_number_2_2"),
									(lt, reg0, 0),
									(neq, "$players_kingdom", "fac_player_supporters_faction"),
									(neg|faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
									(assign, ":value_16", 1),
								(try_end),
								(try_for_range, ":troop", "trp_knight_1_1", "trp_heroes_end"),
									(neg|troop_slot_ge, ":troop", 2, 11),
									(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
									(store_relation, reg0, ":faction_of_troop_troop", ":faction_of_troop_party_stack_troop_id_value_10_number_2_2"),
									(this_or_next|eq, ":faction_of_troop_troop", ":faction_of_troop_party_stack_troop_id_value_10_number_2_2"),
									(ge, reg0, 0),
									(call_script, "script_dplmc_is_affiliated_family_member", ":troop"),
									(gt, reg0, 0),
									(assign, reg0, -2),
									(try_begin),
										(eq, ":game_reduce_campaign_ai", 0),
										(assign, reg0, -1),
									(else_try),
										(eq, ":game_reduce_campaign_ai", 1),
										(store_random_in_range, reg0, -1, 1),
									(else_try),
										(eq, ":game_reduce_campaign_ai", 2),
										(assign, reg0, 0),
									(try_end),
									(val_add, reg0, ":value_16"),
									(lt, reg0, 0),
									(call_script, "script_change_player_relation_with_troop", ":troop", reg0),
								(try_end),
							(try_end),
						(try_end),
						(try_begin),
							(ge, ":value_10", 0),
							(party_get_num_prisoner_stacks, ":num_companion_stacks_value_10", ":value_10"),
						(else_try),
							(assign, ":num_companion_stacks_value_10", 0),
						(try_end),
						(try_for_range, ":number_2", 0, ":num_companion_stacks_value_10"),
							(party_prisoner_stack_get_troop_id, ":party_stack_troop_id_value_10_number_2", ":value_10", ":number_2"),
							(troop_is_hero, ":party_stack_troop_id_value_10_number_2"),
							(call_script, "script_remove_troop_from_prison", ":party_stack_troop_id_value_10_number_2"),
							(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_value_10_number_2_2", ":party_stack_troop_id_value_10_number_2"),
							(str_store_troop_name_link, 1, ":party_stack_troop_id_value_10_number_2"),
							(str_store_faction_name_link, 2, ":faction_of_party_value_13"),
							(str_store_faction_name_link, 3, ":faction_of_troop_party_stack_troop_id_value_10_number_2_2"),
							(display_log_message, "str_hero_freed"),
						(try_end),
						(try_begin),
							(ge, ":value_10", 0),
							(party_clear, "p_temp_party"),
							(assign, "$g_move_heroes", 0),
							(call_script, "script_party_add_party_prisoners", "p_temp_party", ":value_10"),
							(call_script, "script_party_prisoners_add_party_companions", "p_temp_party", ":value_10"),
							(distribute_party_among_party_group, "p_temp_party", ":value_8"),
							(call_script, "script_battle_political_consequences", ":value_9", ":value_8"),
							(call_script, "script_clear_party_group", ":value_9"),
						(try_end),
						(assign, ":value", 1),
						(try_begin),
							(ge, ":value_10", 0),
							(party_get_slot, ":value_9_type", ":value_9", slot_party_type),
							(this_or_next|eq, ":value_9_type", 3),
							(eq, ":value_9_type", 2),
							(assign, "$g_recalculate_ais", 1),
							(store_faction_of_party, ":faction_of_party_value_8", ":value_8"),
							(store_faction_of_party, ":faction_of_party_value_9_2", ":value_9"),
							(str_store_party_name, 1, ":value_9"),
							(str_store_faction_name, 2, ":faction_of_party_value_8"),
							(str_store_faction_name, 3, ":faction_of_party_value_9_2"),
							(display_log_message, "str_center_captured"),
							(store_current_hours, ":current_hours"),
							(faction_set_slot, ":faction_of_party_value_8", slot_faction_ai_last_decisive_event, ":current_hours"),
							(try_begin),
								(eq, "$g_encountered_party", ":value_9"),
								(call_script, "script_add_log_entry", 18, "trp_player", "$g_encountered_party", 0, "$g_encountered_party_faction"),
							(try_end),
							(try_begin),
								(party_get_num_companion_stacks, ":num_companion_stacks_value_10", ":value_8"),
								(gt, ":num_companion_stacks_value_10", 0),
								(party_stack_get_troop_id, ":party_stack_troop_id_value_8_0", ":value_8", 0),
								(is_between, ":party_stack_troop_id_value_8_0", "trp_npc1", "trp_heroes_end"),
								(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_8_0", slot_troop_occupation, 2),
								(is_between, ":party_stack_troop_id_value_8_0", "trp_npc1", "trp_knight_1_1_wife"),
								(party_set_slot, ":value_9", slot_center_last_taken_by_troop, ":party_stack_troop_id_value_8_0"),
							(else_try),
								(party_set_slot, ":value_9", slot_center_last_taken_by_troop, -1),
							(try_end),
							(call_script, "script_lift_siege", ":value_9", 0),
							(store_faction_of_party, ":faction_of_party_value_9_3", ":value_9"),
							(try_begin),
								(is_between, ":value_9", "p_town_1", "p_castle_1"),
								(assign, ":value_17", 40),
							(else_try),
								(assign, ":value_17", 20),
							(try_end),
							(call_script, "script_faction_inflict_war_damage_on_faction", ":faction_of_party_value_8", ":faction_of_party_value_9_3", ":value_17"),
							(call_script, "script_give_center_to_faction", ":value_9", ":faction_of_party_value_8"),
							(try_begin),
								(assign, ":value_18", 0),
								(try_begin),
									(eq, ":faction_of_party_value_9_2", "$players_kingdom"),
									(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
									(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
									(ge, reg0, 50),
									(assign, ":value_18", 1),
								(try_end),
								(this_or_next|eq, ":value_18", 1),
								(eq, ":faction_of_party_value_9_2", "fac_player_supporters_faction"),
								(call_script, "script_add_notification_menu", "mnu_notification_center_lost", ":value_9", ":faction_of_party_value_8"),
							(try_end),
							(party_get_num_attached_parties, ":num_attached_parties_script_param_2", ":script_param_2"),
							(try_for_range, ":number_3", 0, ":num_attached_parties_script_param_2"),
								(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_2_number_3", ":script_param_2", ":number_3"),
								(party_get_num_companion_stacks, ":num_companion_stacks_value_10", ":attached_party_with_rank_script_param_2_number_3"),
								(assign, ":var_65", 0),
								(try_for_range, ":number_4", 0, ":num_companion_stacks_value_10"),
									(party_stack_get_size, ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4", ":attached_party_with_rank_script_param_2_number_3", ":number_4"),
									(val_add, ":var_65", ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4"),
								(try_end),
								(try_begin),
									(ge, ":var_65", 10),
									(assign, ":var_68", 0),
									(assign, ":value_19", -1),
									(assign, ":value_20", 10),
									(try_for_range, ":unused", 0, ":value_20"),
										(store_random_in_range, ":random_in_range_1_num_companion_stacks_value_10", 1, ":num_companion_stacks_value_10"),
										(party_stack_get_troop_id, ":party_stack_troop_id_attached_party_with_rank_script_param_2_number_3_random_in_range_1_num_companion_stacks_value_10", ":attached_party_with_rank_script_param_2_number_3", ":random_in_range_1_num_companion_stacks_value_10"),
										(party_stack_get_size, ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4", ":attached_party_with_rank_script_param_2_number_3", ":random_in_range_1_num_companion_stacks_value_10"),
										(ge, ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4", 4),
										(neq, ":random_in_range_1_num_companion_stacks_value_10", ":value_19"),
										(store_mul, ":value_21", ":var_65", 2),
										(assign, ":var_74", ":value_21"),
										(val_min, ":var_74", 100),
										(val_mul, ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4", ":var_74"),
										(val_div, ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4", 100),
										(party_stack_get_troop_id, ":party_stack_troop_id_value_9_ai_object_0", ":attached_party_with_rank_script_param_2_number_3", 0),
										(try_begin),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 21),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 23),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 22),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 6),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 7),
											(troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 1),
											(assign, reg2, 0),
											(store_random_in_range, ":random_in_range_40_50", 40, 50),
										(else_try),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 24),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 2),
											(troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 4),
											(assign, reg2, 1),
											(store_random_in_range, ":random_in_range_40_50", 30, 40),
										(else_try),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 3),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 8),
											(troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 5),
											(assign, reg2, 2),
											(store_random_in_range, ":random_in_range_40_50", 20, 30),
										(else_try),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 25),
											(this_or_next|troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 9),
											(troop_slot_eq, ":party_stack_troop_id_value_9_ai_object_0", slot_lord_reputation_type, 10),
											(assign, reg2, 3),
											(store_random_in_range, ":random_in_range_40_50", 50, 60),
										(try_end),
										(val_min, ":random_in_range_40_50", 100),
										(val_mul, ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4", ":random_in_range_40_50"),
										(val_div, ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4", 100),
										(party_add_members, ":script_param_1", ":party_stack_troop_id_attached_party_with_rank_script_param_2_number_3_random_in_range_1_num_companion_stacks_value_10", ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4"),
										(party_remove_members, ":attached_party_with_rank_script_param_2_number_3", ":party_stack_troop_id_attached_party_with_rank_script_param_2_number_3_random_in_range_1_num_companion_stacks_value_10", ":party_stack_size_attached_party_with_rank_script_param_2_number_3_number_4"),
										(val_add, ":var_68", 1),
										(assign, ":value_19", ":random_in_range_1_num_companion_stacks_value_10"),
										(try_begin),
											(eq, ":var_68", 3),
											(assign, ":value_20", 0),
										(try_end),
									(try_end),
								(try_end),
							(try_end),
							(try_begin),
								(neg|is_between, ":value_9", "p_castle_1", "p_village_1"),
								(call_script, "script_change_center_prosperity", ":value_9", -5),
								(val_add, "$newglob_total_prosperity_from_townloot", -5),
							(try_end),
							(call_script, "script_order_best_besieger_party_to_guard_center", ":value_9", ":faction_of_party_value_8"),
							(call_script, "script_move_prisoners_to_defeated_center", ":value_9", ":faction_of_party_value_8"),
							(call_script, "script_cf_reinforce_party", ":value_9"),
							(call_script, "script_cf_reinforce_party", ":value_9"),
						(try_end),
					(try_end),
					(try_begin),
						(party_slot_eq, ":script_param_2", slot_party_type, 13),
						(assign, ":var_76", 200),
						(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
						(store_faction_of_party, ":faction_of_party_script_param_2_2", ":script_param_2"),
						(try_begin),
							(this_or_next|eq, ":script_param_2", "p_main_party"),
							(this_or_next|eq, ":faction_of_party_script_param_2_2", "fac_player_supporters_faction"),
							(eq, ":faction_of_party_script_param_2_2", "$players_kingdom"),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 0),
							(val_mul, ":var_76", 3),
							(val_div, ":var_76", 2),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 1),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 2),
							(val_div, ":var_76", 2),
						(try_end),
						(gt, ":value_5", 0),
						(call_script, "script_upgrade_hero_party", ":script_param_2", ":var_76"),
					(try_end),
					(try_begin),
						(party_slot_eq, ":script_param_1", slot_party_type, 13),
						(assign, ":var_78", 200),
						(store_faction_of_party, ":faction_of_party_script_param_1_2", ":script_param_1"),
						(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
						(try_begin),
							(this_or_next|eq, ":script_param_1", "p_main_party"),
							(this_or_next|eq, ":faction_of_party_script_param_1_2", "fac_player_supporters_faction"),
							(eq, ":faction_of_party_script_param_1_2", "$players_kingdom"),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 0),
							(val_mul, ":var_78", 3),
							(val_div, ":var_78", 2),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 1),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 2),
							(val_div, ":var_78", 2),
						(try_end),
						(gt, ":value_6", 0),
						(call_script, "script_upgrade_hero_party", ":script_param_1", ":var_78"),
					(try_end),
					(try_begin),
						(neg|party_slot_eq, ":script_param_1", slot_party_type, 2),
						(neg|party_slot_eq, ":script_param_1", slot_party_type, 3),
						(party_get_slot, ":script_param_2_cached_strength", ":script_param_2", slot_party_cached_strength),
						(party_get_slot, ":script_param_2_nearby_friend_strength", ":script_param_2", slot_party_nearby_friend_strength),
						(party_get_slot, ":script_param_2_follower_strength", ":script_param_2", slot_party_follower_strength),
						(store_add, ":value_22", ":script_param_2_cached_strength", ":script_param_2_nearby_friend_strength"),
						(val_add, ":value_22", ":script_param_2_follower_strength"),
						(party_get_slot, ":script_param_1_cached_strength", ":script_param_1", slot_party_cached_strength),
						(party_get_slot, ":script_param_1_nearby_friend_strength", ":script_param_1", slot_party_nearby_friend_strength),
						(party_get_slot, ":script_param_1_follower_strength", ":script_param_1", slot_party_follower_strength),
						(store_add, ":value_23", ":script_param_1_cached_strength", ":script_param_1_nearby_friend_strength"),
						(val_add, ":value_22", ":script_param_1_follower_strength"),
						(store_random_in_range, ":random_in_range_0_100_2", 0, 100),
						(try_begin),
							(lt, ":random_in_range_0_100_2", 10),
							(assign, ":value", 1),
						(try_end),
					(else_try),
						(party_get_slot, ":script_param_2_cached_strength", ":script_param_2", slot_party_cached_strength),
						(party_get_slot, ":script_param_2_nearby_friend_strength", ":script_param_2", slot_party_nearby_friend_strength),
						(party_get_slot, ":script_param_2_follower_strength_2", ":script_param_2", slot_party_follower_strength),
						(store_add, ":value_22", ":script_param_2_cached_strength", ":script_param_2_nearby_friend_strength"),
						(val_add, ":value_22", ":script_param_2_follower_strength_2"),
						(party_get_slot, ":script_param_1_cached_strength", ":script_param_1", slot_party_cached_strength),
						(party_get_slot, ":script_param_1_nearby_friend_strength", ":script_param_1", slot_party_nearby_friend_strength),
						(store_add, ":value_23", ":script_param_1_cached_strength", ":script_param_1_nearby_friend_strength"),
						(val_mul, ":value_23", 13),
						(val_div, ":value_23", 10),
						(gt, ":value_23", ":value_22"),
						(gt, ":value_23", 3),
						(store_random_in_range, ":random_in_range_0_100_2", 0, 100),
						(try_begin),
							(lt, ":random_in_range_0_100_2", 15),
							(assign, ":value", 1),
							(assign, "$g_recalculate_ais", 1),
							(try_begin),
								(eq, "$cheat_mode", 1),
								(display_message, "@{!}DEBUG : Siege attackers are running away"),
							(try_end),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(set_trigger_result, ":value")
		]),

	("game_event_battle_end",
		[
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(troop_get_slot, ":troop_prisoner_of_party", ":troop", slot_troop_prisoner_of_party),
				(try_begin),
					(ge, ":troop_leaded_party", 0),
					(assign, ":value", 0),
					(try_begin),
						(neg|party_is_active, ":troop_leaded_party"),
						(assign, ":value", 1),
					(else_try),
						(party_count_companions_of_type, ":value_2", ":troop_leaded_party", ":troop"),
						(le, ":value_2", 0),
						(assign, ":value", 1),
					(try_end),
					(eq, ":value", 1),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 1, ":troop"),
						(display_message, "@{!}DEBUG: {s1} no longer leads a party."),
					(try_end),
					(troop_set_slot, ":troop", slot_troop_leaded_party, -1),
				(try_end),
				(try_begin),
					(ge, ":troop_prisoner_of_party", 0),
					(assign, ":value", 0),
					(try_begin),
						(neg|party_is_active, ":troop_prisoner_of_party"),
						(assign, ":value", 1),
					(else_try),
						(party_count_prisoners_of_type, ":value_2", ":troop_prisoner_of_party", ":troop"),
						(le, ":value_2", 0),
						(assign, ":value", 1),
					(try_end),
					(eq, ":value", 1),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 1, ":troop"),
						(display_message, "@{!}DEBUG: {s1} is no longer a prisoner."),
					(try_end),
					(call_script, "script_remove_troop_from_prison", ":troop"),
					(try_begin),
						(party_count_prisoners_of_type, ":value_2", "p_main_party", ":troop"),
						(gt, ":value_2", 0),
						(troop_set_slot, ":troop", slot_troop_prisoner_of_party, "p_main_party"),
						(assign, ":value", 0),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 1, ":troop"),
							(display_message, "@{!}DEBUG: {s1} is now a prisoner of player."),
						(try_end),
					(try_end),
					(eq, ":value", 1),
					(call_script, "script_dplmc_store_troop_is_eligible_for_affiliate_messages", ":troop"),
					(assign, ":var_6", reg0),
					(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
						(troop_slot_eq, ":troop_2", slot_troop_occupation, 2),
						(eq, ":value", 1),
						(troop_get_slot, ":troop_2_leaded_party", ":troop_2", slot_troop_leaded_party),
						(party_is_active, ":troop_2_leaded_party"),
						(party_count_prisoners_of_type, ":value_2", ":troop_2_leaded_party", ":troop"),
						(gt, ":value_2", 0),
						(troop_set_slot, ":troop", slot_troop_prisoner_of_party, ":troop_2_leaded_party"),
						(assign, ":value", 0),
						(try_begin),
							(ge, ":var_6", 1),
							(str_store_troop_name, 1, ":troop"),
							(str_store_party_name, 2, ":troop_2_leaded_party"),
							(display_message, "@{s1} is now a prisoner of {s2}."),
						(else_try),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 1, ":troop"),
							(str_store_party_name, 2, ":troop_2_leaded_party"),
							(display_message, "@{!}DEBUG: {s1} is now a prisoner of {s2}."),
						(try_end),
					(try_end),
					(try_for_range, ":troop_2_leaded_party", "p_town_1", "p_village_1"),
						(eq, ":value", 1),
						(party_count_prisoners_of_type, ":value_2", ":troop_2_leaded_party", ":troop"),
						(gt, ":value_2", 0),
						(troop_set_slot, ":troop", slot_troop_prisoner_of_party, ":troop_2_leaded_party"),
						(assign, ":value", 0),
						(try_begin),
							(ge, ":var_6", 1),
							(str_store_troop_name, 1, ":troop"),
							(str_store_party_name, 2, ":troop_2_leaded_party"),
							(display_message, "@{s1} is now a prisoner of {s2}."),
						(else_try),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 1, ":troop"),
							(str_store_party_name, 2, ":troop_2_leaded_party"),
							(display_message, "@{!}DEBUG: {s1} is now a prisoner of {s2}."),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("order_best_besieger_party_to_guard_center",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(gt, ":troop_leaded_party", 0),
				(party_is_active, ":troop_leaded_party"),
				(store_faction_of_party, ":faction_of_party_troop_leaded_party", ":troop_leaded_party"),
				(eq, ":script_param_2", ":faction_of_party_troop_leaded_party"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_troop_leaded_party_script_param_1", ":troop_leaded_party", ":script_param_1"),
				(lt, ":distance_to_party_from_party_troop_leaded_party_script_param_1", 5),
				(neg|faction_slot_eq, ":script_param_2", slot_faction_marshall, ":troop"),
				(assign, ":value_3", 0),
				(try_begin),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 1),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_object, ":script_param_1"),
					(assign, ":value_3", 1),
				(else_try),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
					(party_get_slot, ":troop_leaded_party_ai_object", ":troop_leaded_party", slot_party_ai_object),
					(party_slot_eq, ":troop_leaded_party_ai_object", slot_party_ai_state, 1),
					(party_slot_eq, ":troop_leaded_party_ai_object", slot_party_ai_object, ":script_param_1"),
					(assign, ":value_3", 1),
				(try_end),
				(eq, ":value_3", 1),
				(party_get_slot, ":troop_leaded_party_cached_strength", ":troop_leaded_party", slot_party_cached_strength),
				(gt, ":troop_leaded_party_cached_strength", ":value_2"),
				(assign, ":value_2", ":troop_leaded_party_cached_strength"),
				(assign, ":value", ":troop_leaded_party"),
			(try_end),
			(try_begin),
				(gt, ":value", 0),
				(call_script, "script_party_set_ai_state", ":value", 7, ":script_param_1"),
				(party_set_flags, ":value", 65536, 1),
			(try_end)
		]),

	("game_get_item_buy_price_factor",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 100),
			(call_script, "script_get_trade_penalty", ":script_param_1"),
			(assign, ":var_3", reg0),
			(try_begin),
				(is_between, "$g_encountered_party", "p_town_1", "p_salt_mine"),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value_2", ":script_param_1", "itm_trade_spice"),
				(val_add, ":value_2", 267),
				(party_get_slot, ":value", "$g_encountered_party", ":value_2"),
				(val_mul, ":value", 100),
				(val_div, ":value", 1000),
			(try_end),
			(store_add, ":value_3", 100, ":var_3"),
			(val_mul, ":value", ":value_3"),
			(val_div, ":value", 100),
			(assign, reg0, ":value"),
			(set_trigger_result, reg0)
		]),

	("game_get_item_sell_price_factor",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 100),
			(call_script, "script_get_trade_penalty", ":script_param_1"),
			(assign, ":var_3", reg0),
			(try_begin),
				(is_between, "$g_encountered_party", "p_town_1", "p_salt_mine"),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value_2", ":script_param_1", "itm_trade_spice"),
				(val_add, ":value_2", 267),
				(party_get_slot, ":value", "$g_encountered_party", ":value_2"),
				(val_mul, ":value", 100),
				(val_div, ":value", 1000),
			(else_try),
				(val_mul, ":var_3", 4),
			(try_end),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 0),
				(is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
				(gt, "$g_talk_troop", "trp_player"),
				(try_begin),
					(party_slot_eq, "$g_encountered_party", slot_town_weaponsmith, "$g_talk_troop"),
					(this_or_next|is_between, ":script_param_1", "itm_we_swa_axe_hatchet", "itm_ar_swa_ban_scale_a"),
					(this_or_next|is_between, ":script_param_1", "itm_sh_swa_rou_bandit_a", "itm_items_end"),
					(is_between, ":script_param_1", "itm_we_swa_arrow_gromite", "itm_ar_swa_ban_scale_a"),
					(val_mul, ":var_3", 9),
					(val_div, ":var_3", 10),
				(else_try),
					(party_slot_eq, "$g_encountered_party", slot_town_armorer, "$g_talk_troop"),
					(is_between, ":script_param_1", "itm_ar_swa_ban_scale_a", "itm_bo_gen_t0_bride_shoes"),
					(val_mul, ":var_3", 9),
					(val_div, ":var_3", 10),
				(else_try),
					(party_slot_eq, "$g_encountered_party", slot_town_horse_merchant, "$g_talk_troop"),
					(is_between, ":script_param_1", "itm_ho_swa_saddle_black", "itm_we_swa_axe_hatchet"),
					(val_mul, ":var_3", 9),
					(val_div, ":var_3", 10),
				(try_end),
			(try_end),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 0),
				(is_between, "$g_encountered_party", "p_town_1", "p_salt_mine"),
				(is_between, ":script_param_1", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(this_or_next|party_slot_eq, "$g_encountered_party", slot_party_type, 3),
				(party_slot_eq, "$g_encountered_party", slot_party_type, 2),
				(party_slot_eq, "$g_encountered_party", slot_village_state, 5),
				(party_slot_ge, "$g_encountered_party", 54, 1),
				(party_get_slot, ":g_encountered_party_center_siege_begin_hours", "$g_encountered_party", slot_center_siege_begin_hours),
				(store_current_hours, ":current_hours"),
				(store_sub, reg0, ":current_hours", ":g_encountered_party_center_siege_begin_hours"),
				(ge, reg0, 48),
				(store_sub, ":value_3", ":current_hours", 1344),
				(val_min, ":value_3", ":g_encountered_party_center_siege_begin_hours"),
				(try_for_range, ":party", "p_village_1", "p_salt_mine"),
					(party_slot_eq, ":party", slot_village_market_town, "$g_encountered_party"),
					(party_get_slot, reg0, ":party", 408),
					(val_min, reg0, ":current_hours"),
					(val_max, ":value_3", reg0),
				(try_end),
				(try_for_range, ":number", 407, 422),
					(party_get_slot, reg0, "$g_encountered_party", ":number"),
					(val_min, reg0, ":current_hours"),
					(val_max, ":value_3", reg0),
				(try_end),
				(store_sub, ":value_4", ":current_hours", ":g_encountered_party_center_siege_begin_hours"),
				(store_mul, ":value_5", ":value_4", 10),
				(val_add, ":value_5", 36),
				(val_div, ":value_5", 72),
				(val_max, ":value_5", 5),
				(val_add, ":value_5", 100),
				(val_mul, ":value", ":value_5"),
				(val_add, ":value", 50),
				(val_div, ":value", 100),
			(try_end),
			(store_add, ":value_6", 100, ":var_3"),
			(val_mul, ":value", 100),
			(try_begin),
				(gt, ":value_6", 0),
				(store_div, reg0, ":value_6", 2),
				(val_add, ":value", reg0),
			(try_end),
			(val_div, ":value", ":value_6"),
			(assign, reg0, ":value"),
			(set_trigger_result, reg0)
		]),

	("get_trade_penalty",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_dplmc_get_trade_penalty", ":script_param_1", "$g_encountered_party", "trp_player", "$g_talk_troop")
		]),

	("game_event_buy_item",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value", ":script_param_1", "itm_trade_spice"),
				(val_add, ":value", 267),
				(party_get_slot, ":g_encountered_party_value", "$g_encountered_party", ":value"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(val_add, ":g_encountered_party_value", 10),
				(else_try),
					(val_add, ":g_encountered_party_value", 15),
				(try_end),
				(store_item_value, ":item_value_script_param_1", ":script_param_1"),
				(try_begin),
					(ge, ":item_value_script_param_1", 100),
					(store_sub, ":value_2", ":item_value_script_param_1", 100),
					(store_div, ":value_3", ":value_2", 8),
					(val_add, ":g_encountered_party_value", ":value_3"),
				(try_end),
				(val_min, ":g_encountered_party_value", 10000),
				(party_set_slot, "$g_encountered_party", ":value", ":g_encountered_party_value"),
			(try_end)
		]),

	("game_event_sell_item",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value", ":script_param_1", "itm_trade_spice"),
				(val_add, ":value", 267),
				(party_get_slot, ":g_encountered_party_value", "$g_encountered_party", ":value"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(val_sub, ":g_encountered_party_value", 30),
				(else_try),
					(val_sub, ":g_encountered_party_value", 20),
				(try_end),
				(store_item_value, ":item_value_script_param_1", ":script_param_1"),
				(try_begin),
					(ge, ":item_value_script_param_1", 100),
					(store_sub, ":value_2", ":item_value_script_param_1", 100),
					(store_div, ":value_3", ":value_2", 8),
					(val_sub, ":g_encountered_party_value", ":value_3"),
				(try_end),
				(val_max, ":g_encountered_party_value", 100),
				(party_set_slot, "$g_encountered_party", ":value", ":g_encountered_party_value"),
			(try_end)
		]),

	("start_wedding_cutscene",
		[
			(store_script_param, "$g_wedding_groom_troop", 1),
			(store_script_param, "$g_wedding_bride_troop", 2),
			(assign, ":var_1", reg0),
			(assign, ":var_2", reg1),
			(call_script, "script_dplmc_store_is_female_troop_1_troop_2", "$g_wedding_groom_troop", "$g_wedding_bride_troop"),
			(assign, ":var_3", reg0),
			(assign, ":var_4", reg1),
			(try_begin),
				(eq, ":var_4", 0),
				(neq, ":var_3", 0),
				(assign, reg0, "$g_wedding_bride_troop"),
				(assign, "$g_wedding_bride_troop", "$g_wedding_groom_troop"),
				(assign, "$g_wedding_groom_troop", reg0),
			(else_try),
				(eq, ":var_4", ":var_3"),
				(eq, "$g_wedding_bride_troop", "trp_player"),
				(assign, "$g_wedding_bride_troop", "$g_wedding_groom_troop"),
				(assign, "$g_wedding_groom_troop", "trp_player"),
			(try_end),
			(assign, "$g_wedding_bishop_troop", "trp_temporary_minister"),
			(try_begin),
				(is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neg|faction_slot_eq, "$players_kingdom", slot_faction_leader, "$g_wedding_groom_troop"),
				(neg|faction_slot_eq, "$players_kingdom", slot_faction_leader, "$g_wedding_bride_troop"),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(neq, ":players_kingdom_leader", "$g_wedding_bride_troop"),
				(neq, ":players_kingdom_leader", "$g_wedding_groom_troop"),
				(call_script, "script_dplmc_store_troop_is_female", ":players_kingdom_leader"),
				(this_or_next|eq, reg0, 0),
				(this_or_next|eq, ":var_3", ":var_4"),
				(ge, "$g_disable_condescending_comments", 2),
				(neq, ":players_kingdom_leader", "$g_wedding_bride_troop"),
				(neg|troop_slot_eq, "$g_wedding_bride_troop", slot_troop_father, ":players_kingdom_leader"),
				(neg|troop_slot_eq, "$g_wedding_bride_troop", slot_troop_mother, ":players_kingdom_leader"),
				(neq, ":players_kingdom_leader", "$g_wedding_groom_troop"),
				(assign, "$g_wedding_bishop_troop", ":players_kingdom_leader"),
			(else_try),
				(eq, "$players_kingdom", "fac_player_supporters_faction"),
				(faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
				(gt, "$g_player_minister", 0),
				(call_script, "script_dplmc_store_troop_is_female", "$g_player_minister"),
				(this_or_next|eq, reg0, 0),
				(this_or_next|eq, ":var_3", ":var_4"),
				(ge, "$g_disable_condescending_comments", 2),
				(neq, "$g_player_minister", "$g_wedding_groom_troop"),
				(assign, "$g_wedding_bishop_troop", "$g_player_minister"),
			(try_end),
			(assign, "$g_wedding_brides_dad_troop", "trp_temporary_minister"),
			(try_begin),
				(neq, "$g_wedding_bride_troop", "trp_player"),
				(try_begin),
					(troop_get_slot, ":g_wedding_bride_troop_father", "$g_wedding_bride_troop", slot_troop_father),
					(gt, ":g_wedding_bride_troop_father", 0),
					(neg|troop_slot_ge, ":g_wedding_bride_troop_father", 2, 11),
					(call_script, "script_dplmc_store_troop_is_female", ":g_wedding_bride_troop_father"),
					(this_or_next|eq, ":var_4", 0),
					(eq, reg0, 0),
					(neq, ":g_wedding_bride_troop_father", "$g_wedding_groom_troop"),
					(neq, ":g_wedding_bride_troop_father", "$g_wedding_bishop_troop"),
					(assign, "$g_wedding_brides_dad_troop", ":g_wedding_bride_troop_father"),
				(else_try),
					(troop_get_slot, ":g_wedding_bride_troop_guardian", "$g_wedding_bride_troop", slot_troop_guardian),
					(gt, ":g_wedding_bride_troop_guardian", 0),
					(neg|troop_slot_ge, ":g_wedding_bride_troop_guardian", 2, 11),
					(call_script, "script_dplmc_store_troop_is_female", ":g_wedding_bride_troop_guardian"),
					(this_or_next|eq, ":var_4", 0),
					(eq, reg0, 0),
					(call_script, "script_dplmc_store_troop_is_female", ":g_wedding_bride_troop_guardian"),
					(neq, ":g_wedding_bride_troop_guardian", "$g_wedding_groom_troop"),
					(neq, ":g_wedding_bride_troop_guardian", "$g_wedding_bishop_troop"),
					(assign, "$g_wedding_brides_dad_troop", ":g_wedding_bride_troop_guardian"),
				(else_try),
					(troop_get_slot, ":g_wedding_bride_troop_mother", "$g_wedding_bride_troop", slot_troop_mother),
					(gt, ":g_wedding_bride_troop_mother", 0),
					(neg|troop_slot_ge, ":g_wedding_bride_troop_mother", 2, 11),
					(neq, ":g_wedding_bride_troop_mother", "$g_wedding_groom_troop"),
					(neq, ":g_wedding_bride_troop_mother", "$g_wedding_bride_troop"),
					(neq, ":g_wedding_bride_troop_mother", "$g_wedding_bishop_troop"),
					(assign, "$g_wedding_brides_dad_troop", ":g_wedding_bride_troop_mother"),
				(else_try),
					(is_between, "$g_wedding_bride_troop", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_get_slot, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bride_troop", slot_troop_personalitymatch_object),
					(ge, ":g_wedding_bride_troop_personalitymatch_object", "trp_npc1"),
					(troop_slot_ge, ":g_wedding_bride_troop_personalitymatch_object", 5, 1),
					(neg|troop_slot_ge, ":g_wedding_bride_troop_personalitymatch_object", 2, 11),
					(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 2),
					(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 5),
					(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 7),
					(troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 6),
					(neg|troop_slot_ge, ":g_wedding_bride_troop_personalitymatch_object", 2, 11),
					(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_groom_troop"),
					(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bride_troop"),
					(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bishop_troop"),
					(this_or_next|neg|troop_slot_ge, ":g_wedding_bride_troop_personalitymatch_object", 52, 8),
					(this_or_next|troop_slot_ge, ":g_wedding_bride_troop_personalitymatch_object", 52, 21),
					(assign, "$g_wedding_brides_dad_troop", ":g_wedding_bride_troop_personalitymatch_object"),
				(else_try),
					(assign, ":value", 0),
					(try_for_range, ":g_wedding_bride_troop_personalitymatch_object", "trp_npc1", "trp_heroes_end"),
						(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_groom_troop"),
						(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bride_troop"),
						(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bishop_troop"),
						(neq, ":g_wedding_bride_troop_personalitymatch_object", "trp_knight_1_1_wife"),
						(neq, ":g_wedding_bride_troop_personalitymatch_object", "trp_kingdom_heroes_including_player_begin"),
						(neg|troop_slot_ge, ":g_wedding_bride_troop_personalitymatch_object", 2, 11),
						(call_script, "script_troop_get_relation_with_troop", ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bride_troop"),
						(assign, ":var_11", reg0),
						(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bride_troop"),
						(assign, ":var_12", reg0),
						(store_add, ":value_2", ":var_11", ":var_12"),
						(gt, ":value_2", ":value"),
						(assign, ":value", ":value_2"),
						(assign, "$g_wedding_brides_dad_troop", ":g_wedding_bride_troop_personalitymatch_object"),
					(try_end),
				(try_end),
			(else_try),
				(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 5),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(call_script, "script_dplmc_store_troop_is_female", ":troop"),
					(this_or_next|eq, reg0, 0),
					(eq, ":var_4", 0),
					(neq, ":troop", "$g_wedding_groom_troop"),
					(neq, ":troop", "$g_wedding_bishop_troop"),
					(assign, "$g_wedding_brides_dad_troop", ":troop"),
				(try_end),
				(eq, "$g_wedding_brides_dad_troop", "trp_temporary_minister"),
				(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 5),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(neq, ":troop", "$g_wedding_groom_troop"),
					(neq, ":troop", "$g_wedding_bishop_troop"),
					(assign, "$g_wedding_brides_dad_troop", ":troop"),
				(try_end),
				(eq, "$g_wedding_brides_dad_troop", "trp_temporary_minister"),
				(assign, ":value", -100),
				(try_for_range, ":g_wedding_bride_troop_personalitymatch_object", "trp_npc1", "trp_heroes_end"),
					(neg|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_met, 0),
					(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 7),
					(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 5),
					(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 6),
					(troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 2),
					(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_groom_troop"),
					(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bishop_troop"),
					(neq, ":g_wedding_bride_troop_personalitymatch_object", "trp_knight_1_1_wife"),
					(neq, ":g_wedding_bride_troop_personalitymatch_object", "trp_kingdom_heroes_including_player_begin"),
					(call_script, "script_troop_get_player_relation", ":g_wedding_bride_troop_personalitymatch_object"),
					(assign, ":value_2", reg0),
					(ge, ":value_2", 0),
					(call_script, "script_dplmc_is_affiliated_family_member", ":g_wedding_bride_troop_personalitymatch_object"),
					(this_or_next|ge, ":value_2", 20),
					(ge, reg0, 1),
					(gt, ":value_2", ":value"),
					(assign, ":value", ":value_2"),
					(assign, "$g_wedding_brides_dad_troop", ":g_wedding_bride_troop_personalitymatch_object"),
				(try_end),
			(try_end),
			(modify_visitors_at_site, "scn_wedding"),
			(reset_visitors, 0),
			(set_visitor, 0, "$g_wedding_groom_troop"),
			(set_visitor, 1, "$g_wedding_bride_troop"),
			(set_visitor, 2, "$g_wedding_brides_dad_troop"),
			(set_visitor, 3, "$g_wedding_bishop_troop"),
			(assign, ":var_15", 4),
			(assign, ":var_16", 0),
			(store_faction_of_troop, ":faction_of_troop_g_wedding_groom_troop", "$g_wedding_groom_troop"),
			(store_faction_of_troop, ":faction_of_troop_g_wedding_bride_troop", "$g_wedding_bride_troop"),
			(try_for_range, ":g_wedding_bride_troop_personalitymatch_object", "trp_npc1", "trp_heroes_end"),
				(lt, ":var_15", 32),
				(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_groom_troop"),
				(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bride_troop"),
				(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_brides_dad_troop"),
				(neq, ":g_wedding_bride_troop_personalitymatch_object", "$g_wedding_bishop_troop"),
				(store_faction_of_troop, ":faction_of_troop_g_wedding_bride_troop_personalitymatch_object", ":g_wedding_bride_troop_personalitymatch_object"),
				(this_or_next|eq, ":faction_of_troop_g_wedding_groom_troop", ":faction_of_troop_g_wedding_bride_troop_personalitymatch_object"),
				(eq, ":faction_of_troop_g_wedding_bride_troop", ":faction_of_troop_g_wedding_bride_troop_personalitymatch_object"),
				(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 5),
				(this_or_next|troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 2),
				(troop_slot_eq, ":g_wedding_bride_troop_personalitymatch_object", slot_troop_occupation, 6),
				(call_script, "script_dplmc_store_troop_is_female", ":g_wedding_bride_troop_personalitymatch_object"),
				(assign, ":var_20", reg0),
				(assign, ":value_3", 1),
				(try_begin),
					(eq, ":var_20", 0),
					(assign, ":value_3", 0),
					(lt, ":var_16", 16),
					(assign, ":value_3", 1),
					(val_add, ":var_16", 1),
				(try_end),
				(eq, ":value_3", 1),
				(set_visitor, ":var_15", ":g_wedding_bride_troop_personalitymatch_object"),
				(val_add, ":var_15", 1),
			(try_end),
			(assign, reg0, ":var_1"),
			(assign, reg1, ":var_2"),
			(set_jump_mission, "mt_wedding"),
			(jump_to_scene, "scn_wedding"),
			(change_screen_mission)
		]),

	("game_get_troop_wage",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":unused"),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "trp_player"),
				(eq, ":script_param_1", "trp_kidnapped_girl"),
			(else_try),
				(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
			(else_try),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 7),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 6),
			(else_try),
				(store_character_level, ":character_level_script_param_1", ":script_param_1"),
				(assign, ":value", ":character_level_script_param_1"),
				(val_add, ":value", 1),
				(val_mul, ":value", ":value"),
				(val_div, ":value", 11),
			(try_end),
			(try_begin),
				(neg|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_is_mounted, ":script_param_1"),
				(val_mul, ":value", 5),
				(val_div, ":value", 3),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "trp_mercenary_e_townsman", "trp_mercenaries_end"),
				(val_mul, ":value", 9),
				(val_div, ":value", 3),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(val_mul, ":value", 2),
			(try_end),
			(store_skill_level, ":skill_level_leadership_player", "skl_leadership", "trp_player"),
			(store_mul, ":value_2", 5, ":skill_level_leadership_player"),
			(store_sub, ":value_3", 100, ":value_2"),
			(val_mul, ":value", ":value_3"),
			(val_div, ":value", 100),
			(try_begin),
				(neq, ":script_param_1", "trp_player"),
				(neq, ":script_param_1", "trp_kidnapped_girl"),
				(neq, ":script_param_1", "trp_kidnapped_wife"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(neg|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 7),
				(neg|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(neg|is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(val_max, ":value", 1),
			(try_end),
			(assign, reg0, ":value"),
			(set_trigger_result, reg0)
		]),

	("game_get_total_wage",
		[
			(assign, ":var_1", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(party_stack_get_size, ":party_stack_size_main_party_number", "p_main_party", ":number"),
				(call_script, "script_game_get_troop_wage", ":party_stack_troop_id_main_party_number", 0),
				(val_mul, reg0, ":party_stack_size_main_party_number"),
				(val_add, ":var_1", reg0),
			(try_end),
			(faction_get_slot, ":players_kingdom_201", "$players_kingdom", 201),
			(try_begin),
				(neq, ":players_kingdom_201", 0),
				(assign, reg0, 0),
				(try_begin),
					(is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
					(ge, ":players_kingdom_leader", 0),
					(this_or_next|eq, ":players_kingdom_leader", "trp_player"),
					(this_or_next|troop_slot_eq, ":players_kingdom_leader", slot_troop_spouse, "trp_player"),
					(troop_slot_eq, "trp_player", slot_troop_spouse, reg0),
					(assign, reg0, 1),
				(try_end),
				(this_or_next|eq, reg0, 1),
				(eq, "$players_kingdom", "fac_player_supporters_faction"),
				(faction_slot_eq, "$players_kingdom", slot_faction_state, 0),
				(val_clamp, ":players_kingdom_201", -3, 4),
				(faction_get_slot, ":players_kingdom_num_towns", "$players_kingdom", slot_faction_num_towns),
				(faction_get_slot, reg0, "$players_kingdom", slot_faction_num_castles),
				(val_add, ":players_kingdom_num_towns", reg0),
				(val_max, ":players_kingdom_num_towns", 0),
				(val_min, ":players_kingdom_201", ":players_kingdom_num_towns"),
				(val_mul, ":players_kingdom_num_towns", -1),
				(val_max, ":players_kingdom_201", ":players_kingdom_num_towns"),
				(store_mul, reg0, ":players_kingdom_201", -5),
				(val_add, reg0, 100),
				(val_mul, reg0, ":var_1"),
				(val_add, reg0, 50),
				(val_div, reg0, 100),
			(try_end),
			(assign, reg0, ":var_1"),
			(set_trigger_result, reg0)
		]),

	("game_get_join_cost",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
			(else_try),
				(store_character_level, ":character_level_script_param_1", ":script_param_1"),
				(assign, ":value", ":character_level_script_param_1"),
				(val_add, ":value", 5),
				(val_mul, ":value", ":value"),
				(val_add, ":value", 40),
				(val_div, ":value", 5),
				(try_begin),
					(troop_is_mounted, ":script_param_1"),
					(val_mul, ":value", 2),
				(try_end),
			(try_end),
			(assign, reg0, ":value"),
			(set_trigger_result, reg0)
		]),

	("game_get_upgrade_xp",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(store_character_level, ":character_level_script_param_1", ":script_param_1"),
			(store_mul, ":value", ":character_level_script_param_1", 3),
			(val_div, ":value", 2),
			(get_level_boundary, reg0, ":value"),
			(val_mul, reg0, 6),
			(val_div, reg0, 1000),
			(val_add, reg0, 30),
			(try_begin),
				(ge, ":script_param_1", "trp_bandit_e_mountain"),
				(lt, ":script_param_1", "trp_bandit_e_black_khergit_horseman"),
				(val_mul, reg0, 2),
			(try_end),
			(set_trigger_result, reg0)
		]),

	("game_get_upgrade_cost",
		[
			(store_script_param_1, ":script_param_1"),
			(store_character_level, ":character_level_script_param_1", ":script_param_1"),
			(assign, ":var_3", ":character_level_script_param_1"),
			(val_add, ":var_3", 3),
			(val_mul, ":var_3", ":var_3"),
			(val_div, ":var_3", 5),
			(try_begin),
				(this_or_next|troop_is_guarantee_horse, ":script_param_1"),
				(is_between, ":script_param_1", "trp_custom_n_recruit", "trp_custom_end"),
				(val_mul, ":var_3", 3),
				(val_div, ":var_3", 2),
			(try_end),
			(assign, reg0, ":var_3"),
			(set_trigger_result, reg0)
		]),

	("game_get_prisoner_price",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(is_between, "$g_talk_troop", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
				(store_character_level, ":character_level_script_param_1", ":script_param_1"),
				(assign, ":value", ":character_level_script_param_1"),
				(val_add, ":value", 10),
				(val_mul, ":value", ":value"),
				(val_div, ":value", 6),
			(else_try),
				(assign, ":value", 50),
			(try_end),
			(assign, reg0, ":value"),
			(set_trigger_result, reg0)
		]),

	("game_check_prisoner_can_be_sold",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, reg0, 0),
			(try_begin),
				(neg|troop_is_hero, ":script_param_1"),
				(assign, reg0, 1),
			(try_end),
			(set_trigger_result, reg0)
		]),

	("game_get_morale_of_troops_from_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(try_begin),
				(ge, ":faction_of_troop_script_param_1", "fac_kingdom_1"),
				(lt, ":faction_of_troop_script_param_1", "fac_kingdoms_end"),
				(faction_get_slot, reg0, ":faction_of_troop_script_param_1", slot_faction_morale_of_player_troops),
			(else_try),
				(assign, reg0, 0),
			(try_end),
			(try_begin),
				(eq, reg0, 0),
				(is_between, "$g_player_culture", "fac_kingdom_1", "fac_kingdoms_end"),
				(eq, "$g_player_culture", ":faction_of_troop_script_param_1"),
				(assign, reg0, 100),
			(try_end),
			(val_div, reg0, 100),
			(party_get_morale, reg1, "p_main_party"),
			(val_add, reg0, reg1),
			(set_trigger_result, reg0)
		]),

	("game_event_detect_party",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 13),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
				(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":party_stack_troop_id_script_param_1_0", slot_troop_occupation, 2),
				(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_knight_1_1_wife"),
				(call_script, "script_update_troop_location_notes", ":party_stack_troop_id_script_param_1_0", 0),
			(else_try),
				(is_between, ":script_param_1", "p_town_1", "p_village_1"),
				(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
				(try_for_range, ":number", 0, ":num_attached_parties_script_param_1"),
					(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number", ":script_param_1", ":number"),
					(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":attached_party_with_rank_script_param_1_number", 0),
					(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":party_stack_troop_id_script_param_1_0", slot_troop_occupation, 2),
					(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_knight_1_1_wife"),
					(call_script, "script_update_troop_location_notes", ":party_stack_troop_id_script_param_1_0", 0),
				(try_end),
			(try_end)
		]),

	("game_event_undetect_party",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 13),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
				(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":party_stack_troop_id_script_param_1_0", slot_troop_occupation, 2),
				(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_knight_1_1_wife"),
				(call_script, "script_update_troop_location_notes", ":party_stack_troop_id_script_param_1_0", 0),
			(try_end)
		]),

	("game_get_statistics_line",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(eq, ":script_param_1", 0),
				(get_player_agent_kill_count, reg1),
				(str_store_string, 1, "str_number_of_troops_killed_reg1"),
				(set_result_string, 1),
			(else_try),
				(eq, ":script_param_1", 1),
				(get_player_agent_kill_count, reg1, 1),
				(str_store_string, 1, "str_number_of_troops_wounded_reg1"),
				(set_result_string, 1),
			(else_try),
				(eq, ":script_param_1", 2),
				(get_player_agent_own_troop_kill_count, reg1),
				(str_store_string, 1, "str_number_of_own_troops_killed_reg1"),
				(set_result_string, 1),
			(else_try),
				(eq, ":script_param_1", 3),
				(get_player_agent_own_troop_kill_count, reg1, 1),
				(str_store_string, 1, "str_number_of_own_troops_wounded_reg1"),
				(set_result_string, 1),
			(try_end)
		]),

	("game_get_date_text",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_div, ":value", ":script_param_2", 24),
			(store_add, ":value_2", ":value", 23),
			(assign, ":var_5", 3),
			(assign, ":var_6", 299),
			(assign, ":value_3", 99999),
			(try_for_range, ":unused", 0, ":value_3"),
				(try_begin),
					(this_or_next|eq, ":var_5", 1),
					(this_or_next|eq, ":var_5", 3),
					(this_or_next|eq, ":var_5", 5),
					(this_or_next|eq, ":var_5", 7),
					(this_or_next|eq, ":var_5", 8),
					(this_or_next|eq, ":var_5", 10),
					(eq, ":var_5", 12),
					(assign, ":value_4", 31),
				(else_try),
					(this_or_next|eq, ":var_5", 4),
					(this_or_next|eq, ":var_5", 6),
					(this_or_next|eq, ":var_5", 9),
					(eq, ":var_5", 11),
					(assign, ":value_4", 30),
				(else_try),
					(try_begin),
						(store_div, ":value_5", ":var_6", 4),
						(val_mul, ":value_5", 4),
						(eq, ":value_5", ":var_6"),
						(assign, ":value_4", 29),
					(else_try),
						(assign, ":value_4", 28),
					(try_end),
				(try_end),
				(try_begin),
					(gt, ":value_2", ":value_4"),
					(val_sub, ":value_2", ":value_4"),
					(val_add, ":var_5", 1),
					(try_begin),
						(gt, ":var_5", 12),
						(val_sub, ":var_5", 12),
						(val_add, ":var_6", 1),
					(try_end),
				(else_try),
					(assign, ":value_3", 0),
				(try_end),
			(try_end),
			(assign, reg1, ":value_2"),
			(assign, reg2, ":var_6"),
			(store_time_of_day, reg3),
			(try_begin),
				(this_or_next|eq, ":script_param_1", 1),
				(eq, "$g_date", 1),
				(try_begin),
					(eq, ":var_5", 1),
					(str_store_string, 1, "str_january_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 2),
					(str_store_string, 1, "str_february_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 3),
					(str_store_string, 1, "str_march_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 4),
					(str_store_string, 1, "str_april_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 5),
					(str_store_string, 1, "str_may_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 6),
					(str_store_string, 1, "str_june_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 7),
					(str_store_string, 1, "str_july_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 8),
					(str_store_string, 1, "str_august_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 9),
					(str_store_string, 1, "str_september_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 10),
					(str_store_string, 1, "str_october_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 11),
					(str_store_string, 1, "str_november_reg1_reg2_v2"),
				(else_try),
					(eq, ":var_5", 12),
					(str_store_string, 1, "str_december_reg1_reg2_v2"),
				(try_end),
			(else_try),
				(try_begin),
					(eq, ":var_5", 1),
					(str_store_string, 1, "str_january_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 2),
					(str_store_string, 1, "str_february_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 3),
					(str_store_string, 1, "str_march_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 4),
					(str_store_string, 1, "str_april_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 5),
					(str_store_string, 1, "str_may_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 6),
					(str_store_string, 1, "str_june_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 7),
					(str_store_string, 1, "str_july_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 8),
					(str_store_string, 1, "str_august_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 9),
					(str_store_string, 1, "str_september_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 10),
					(str_store_string, 1, "str_october_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 11),
					(str_store_string, 1, "str_november_reg1_reg2"),
				(else_try),
					(eq, ":var_5", 12),
					(str_store_string, 1, "str_december_reg1_reg2"),
				(try_end),
			(try_end),
			(set_result_string, 1)
		]),

	("game_get_money_text",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(eq, ":script_param_1", 1),
				(str_store_string, 1, "str_1_denar"),
			(else_try),
				(assign, reg1, ":script_param_1"),
				(str_store_string, 1, "str_reg1_denars"),
			(try_end),
			(set_result_string, 1)
		]),

	("game_get_party_companion_limit",
		[
			(assign, ":var_1", "trp_player"),
			(assign, ":var_2", 30),
			(store_skill_level, ":skill_level_leadership_var_1", "skl_leadership", ":var_1"),
			(store_attribute_level, ":attribute_level_var_1_3", ":var_1", 3),
			(val_mul, ":skill_level_leadership_var_1", 8),
			(val_add, ":var_2", ":skill_level_leadership_var_1"),
			(val_add, ":var_2", ":attribute_level_var_1_3"),
			(troop_get_slot, ":var_1_renown", ":var_1", slot_troop_renown),
			(store_div, ":value", ":var_1_renown", 30),
			(val_add, ":var_2", ":value"),
			(try_begin),
				(gt, "$players_kingdom", 0),
				(faction_slot_eq, "$players_kingdom", slot_faction_leader, ":var_1"),
				(val_add, ":var_2", 100),
				(assign, reg6, 100),
			(else_try),
				(assign, reg6, 0),
			(try_end),
			(try_begin),
				(gt, "$players_kingdom", 0),
				(faction_slot_eq, "$players_kingdom", slot_faction_marshall, ":var_1"),
				(val_add, ":var_2", 20),
				(assign, reg7, 20),
			(else_try),
				(assign, reg7, 0),
			(try_end),
			(assign, ":var_7", 0),
			(assign, ":value_2", ":var_2"),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_town_lord, ":var_1"),
				(val_add, ":var_7", 1),
				(party_slot_eq, ":party", slot_party_type, 2),
				(val_add, ":var_2", 20),
			(try_end),
			(store_sub, ":value_2", ":var_2", ":value_2"),
			(assign, reg8, ":value_2"),
			(try_begin),
				(gt, ":var_7", 0),
				(val_add, ":var_2", 10),
				(assign, reg9, 10),
			(else_try),
				(assign, reg9, 0),
			(try_end),
			(assign, reg0, ":var_2"),
			(set_trigger_result, reg0)
		]),

	("game_reset_player_party_name",
		[
			(try_begin),
				(party_slot_eq, 0, 1, 0),
				(str_store_troop_name, 5, "trp_player"),
				(party_set_name, "p_main_party", 5),
			(try_end)
		]),

	("game_get_troop_note",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(set_trigger_result, 0),
			(str_store_troop_name, 54, ":script_param_1"),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(this_or_next|eq, "$player_has_homage", 1),
				(eq, "$players_kingdom", "fac_player_supporters_faction"),
				(assign, ":var_3", "$players_kingdom"),
			(else_try),
				(store_faction_of_troop, ":var_3", ":script_param_1"),
			(try_end),
			(str_clear, 49),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "trp_player"),
				(this_or_next|is_between, ":script_param_1", "trp_knight_1_1", "trp_heroes_end"),
				(is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(assign, ":var_4", 0),
				(try_begin),
					(call_script, "script_troop_get_family_relation_to_troop", "trp_player", ":script_param_1"),
					(gt, reg0, 0),
					(val_add, ":var_4", 1),
				(try_end),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(this_or_next|is_between, ":troop", "trp_knight_1_1", "trp_heroes_end"),
					(is_between, ":troop", "trp_kingdom_1_lord", "trp_knight_1_1"),
					(call_script, "script_troop_get_family_relation_to_troop", ":troop", ":script_param_1"),
					(gt, reg0, 0),
					(val_add, ":var_4", 1),
				(try_end),
				(try_begin),
					(gt, ":var_4", 0),
					(try_begin),
						(eq, ":script_param_1", "trp_player"),
						(str_store_string, 49, "str__family_"),
					(else_try),
						(troop_get_slot, reg1, ":script_param_1", slot_troop_age),
						(str_store_string, 49, "str__age_reg1_family_"),
					(try_end),
					(try_begin),
						(call_script, "script_troop_get_family_relation_to_troop", "trp_player", ":script_param_1"),
						(gt, reg0, 0),
						(str_store_troop_name_link, 12, "trp_player"),
						(val_sub, ":var_4", 1),
						(try_begin),
							(eq, ":var_4", 0),
							(str_store_string, 49, "str_s49_s12_s11_end"),
						(else_try),
							(str_store_string, 49, "str_s49_s12_s11"),
						(try_end),
					(try_end),
					(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
						(this_or_next|is_between, ":troop", "trp_knight_1_1", "trp_heroes_end"),
						(is_between, ":troop", "trp_kingdom_1_lord", "trp_knight_1_1"),
						(call_script, "script_troop_get_family_relation_to_troop", ":troop", ":script_param_1"),
						(gt, reg0, 0),
						(try_begin),
							(neg|is_between, ":troop", "trp_knight_1_1_wife", "trp_heroes_end"),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name_link, 12, ":troop"),
							(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
							(str_store_string, 49, "str_s49_s12_s11_rel_reg0"),
						(else_try),
							(str_store_troop_name_link, 12, ":troop"),
							(val_sub, ":var_4", 1),
							(try_begin),
								(eq, ":var_4", 0),
								(str_store_string, 49, "str_s49_s12_s11_end"),
							(else_try),
								(str_store_string, 49, "str_s49_s12_s11"),
							(try_end),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":script_param_1", "trp_player"),
				(neg|is_between, ":var_3", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neg|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(str_store_string, 0, "str_s54_has_left_the_realm"),
					(try_begin),
						(troop_slot_eq, ":script_param_1", slot_troop_occupation, 15),
						(str_store_string, 0, "str_s54_is_deceased"),
					(try_end),
					(set_trigger_result, 1),
				(else_try),
					(str_clear, 0),
					(this_or_next|eq, ":script_param_2", 1),
					(eq, ":script_param_2", 2),
					(set_trigger_result, 1),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(neg|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(eq, ":script_param_2", 0),
				(set_trigger_result, 1),
				(str_clear, 0),
				(assign, ":var_6", ":script_param_1"),
				(str_store_troop_name, 4, ":var_6"),
				(try_begin),
					(troop_get_slot, ":var_6_days_on_mission", ":var_6", slot_troop_days_on_mission),
					(this_or_next|main_party_has_troop, ":var_6"),
					(this_or_next|troop_slot_ge, ":var_6", 151, 1),
					(eq, "$g_player_minister", ":var_6"),
					(try_begin),
						(troop_slot_eq, ":var_6", slot_troop_current_mission, 1),
						(str_store_string, 8, "str_gathering_support"),
						(try_begin),
							(eq, ":var_6_days_on_mission", 1),
							(str_store_string, 5, "str_expected_back_imminently"),
						(else_try),
							(assign, reg3, ":var_6_days_on_mission"),
							(str_store_string, 5, "str_expected_back_in_approximately_reg3_days"),
						(try_end),
					(else_try),
						(troop_slot_eq, ":var_6", slot_troop_current_mission, 2),
						(troop_get_slot, ":var_6_town_with_contacts", ":var_6", slot_troop_town_with_contacts),
						(str_store_party_name, 11, ":var_6_town_with_contacts"),
						(str_store_string, 8, "str_gathering_intelligence"),
						(try_begin),
							(eq, ":var_6_days_on_mission", 1),
							(str_store_string, 5, "str_expected_back_imminently"),
						(else_try),
							(assign, reg3, ":var_6_days_on_mission"),
							(str_store_string, 5, "str_expected_back_in_approximately_reg3_days"),
						(try_end),
					(else_try),
						(troop_slot_ge, ":var_6", 151, 3),
						(neg|troop_slot_ge, ":var_6", 151, 8),
						(troop_get_slot, ":var_6_mission_object", ":var_6", slot_troop_mission_object),
						(str_store_faction_name, 9, ":var_6_mission_object"),
						(str_store_string, 8, "str_diplomatic_embassy_to_s9"),
						(try_begin),
							(eq, ":var_6_days_on_mission", 1),
							(str_store_string, 5, "str_expected_back_imminently"),
						(else_try),
							(assign, reg3, ":var_6_days_on_mission"),
							(str_store_string, 5, "str_expected_back_in_approximately_reg3_days"),
						(try_end),
					(else_try),
						(eq, ":var_6", "$g_player_minister"),
						(str_store_string, 8, "str_serving_as_minister"),
						(str_store_party_name, 9, "$g_player_court"),
						(is_between, "$g_player_court", "p_town_1", "p_salt_mine"),
						(str_store_string, 5, "str_in_your_court_at_s9"),
					(else_try),
						(eq, ":var_6", "$g_player_minister"),
						(str_store_string, 8, "str_serving_as_minister"),
						(str_store_string, 5, "str_awaiting_the_capture_of_a_fortress_which_can_serve_as_your_court"),
					(else_try),
						(main_party_has_troop, ":var_6"),
						(str_store_string, 8, "str_under_arms"),
						(str_store_string, 5, "str_in_your_party"),
					(try_end),
					(str_store_string, 0, "str_s4_s8_s5"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 15),
					(str_store_string, 0, "str_s54_is_deceased"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 14),
					(str_store_string, 0, "str_s54_has_left_the_realm"),
				(else_try),
					(str_store_string, 0, "str_whereabouts_unknown"),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(neg|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(neq, ":script_param_1", "$supported_pretender"),
				(troop_get_slot, ":script_param_1_original_faction", ":script_param_1", slot_troop_original_faction),
				(try_begin),
					(faction_slot_eq, ":script_param_1_original_faction", slot_faction_state, 0),
					(faction_slot_eq, ":script_param_1_original_faction", slot_faction_instability, 1),
					(try_begin),
						(eq, ":script_param_2", 0),
						(str_store_faction_name_link, 56, ":script_param_1_original_faction"),
						(str_store_string, 0, "@{s54} is a claimant to the throne of {s56}."),
						(set_trigger_result, 1),
					(try_end),
				(else_try),
					(try_begin),
						(str_clear, 0),
						(this_or_next|eq, ":script_param_2", 0),
						(this_or_next|eq, ":script_param_2", 1),
						(eq, ":script_param_2", 2),
						(set_trigger_result, 1),
					(try_end),
				(try_end),
			(else_try),
				(try_begin),
					(eq, ":script_param_2", 0),
					(faction_get_slot, ":var_3_leader", ":var_3", slot_faction_leader),
					(str_store_troop_name_link, 55, ":var_3_leader"),
					(str_store_faction_name_link, 56, ":var_3"),
					(assign, ":value", 0),
					(assign, ":value_2", 0),
					(try_begin),
						(eq, ":var_3", "fac_player_faction"),
						(assign, ":value", 1),
					(else_try),
						(eq, ":var_3_leader", ":script_param_1"),
						(assign, ":value_2", 1),
					(try_end),
					(assign, ":var_14", 0),
					(str_store_string, 58, "@nowhere"),
					(try_for_range_backwards, ":var_15", "p_town_1", "p_salt_mine"),
						(party_slot_eq, ":var_15", slot_town_lord, ":script_param_1"),
						(try_begin),
							(eq, ":var_14", 0),
							(str_store_party_name_link, 58, ":var_15"),
						(else_try),
							(eq, ":var_14", 1),
							(str_store_party_name_link, 57, ":var_15"),
							(str_store_string, 58, "@{s57} and {s58}"),
						(else_try),
							(str_store_party_name_link, 57, ":var_15"),
							(str_store_string, 58, "@{!}{s57}, {s58}"),
						(try_end),
						(val_add, ":var_14", 1),
					(try_end),
					(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 3),
					(troop_get_slot, reg5, ":script_param_1", slot_troop_renown),
					(troop_get_slot, reg15, ":script_param_1", slot_troop_days_on_mission),
					(str_clear, 59),
					(try_begin),
						(call_script, "script_troop_get_player_relation", ":script_param_1"),
						(assign, ":var_16", reg0),
						(store_add, ":value_3", ":var_16", 100),
						(val_add, ":value_3", 5),
						(store_div, ":value_4", ":value_3", 10),
						(val_clamp, ":value_4", 0, 20),
						(store_add, ":value_5", "str_relation_mnus_100_ns", ":value_4"),
						(neq, ":value_5", "str_relation_plus_0_ns"),
						(str_store_string, 60, "@{reg3?She:He}"),
						(str_store_string, 59, ":value_5"),
						(str_store_string, 59, "@{!}^{s59}"),
					(try_end),
					(assign, reg9, ":var_14"),
					(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 3),
					(troop_get_slot, reg5, ":script_param_1", slot_troop_renown),
					(assign, reg4, ":value_2"),
					(assign, reg6, ":value"),
					(troop_get_slot, reg17, ":script_param_1", slot_troop_wealth),
					(str_store_string, 0, "str_lord_info_string"),
					(add_troop_note_tableau_mesh, ":script_param_1", "tableau_troop_note_mesh"),
					(set_trigger_result, 1),
				(try_end),
			(try_end)
		]),

	("game_get_center_note",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(set_trigger_result, 0),
			(try_begin),
				(eq, ":script_param_2", 0),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(try_begin),
					(ge, ":script_param_1_town_lord", 0),
					(store_faction_of_troop, ":faction_of_troop_script_param_1_town_lord", ":script_param_1_town_lord"),
					(str_store_troop_name_link, 1, ":script_param_1_town_lord"),
					(try_begin),
						(eq, ":script_param_1_town_lord", "trp_player"),
						(gt, "$players_kingdom", 0),
						(str_store_faction_name_link, 2, "$players_kingdom"),
					(else_try),
						(str_store_faction_name_link, 2, ":faction_of_troop_script_param_1_town_lord"),
					(try_end),
					(str_store_party_name, 50, ":script_param_1"),
					(try_begin),
						(party_slot_eq, ":script_param_1", slot_party_type, 3),
						(str_store_string, 51, "@The town of {s50}"),
					(else_try),
						(party_slot_eq, ":script_param_1", slot_party_type, 4),
						(party_get_slot, ":script_param_1_village_bound_center", ":script_param_1", slot_village_bound_center),
						(str_store_party_name_link, 52, ":script_param_1_village_bound_center"),
						(str_store_string, 51, "@The village of {s50} near {s52}"),
					(else_try),
						(str_store_string, 51, "@{!}{s50}"),
					(try_end),
					(assign, ":script_param_1_village_bound_center", reg0),
					(try_begin),
						(eq, "$g_player_court", ":script_param_1"),
						(str_store_string, 2, "@{s51} belongs to {s1} of {s2}, and is where you make your court.^"),
					(else_try),
						(neq, ":script_param_1_town_lord", "trp_player"),
						(neg|is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
						(call_script, "script_lord_get_home_center", ":script_param_1_town_lord"),
						(eq, reg0, ":script_param_1"),
						(call_script, "script_dplmc_get_troop_standing_in_faction", ":script_param_1_town_lord", ":faction_of_troop_script_param_1_town_lord"),
						(try_begin),
							(ge, reg0, 50),
							(call_script, "script_dplmc_store_troop_is_female", ":script_param_1_town_lord"),
							(str_store_string, 2, "@{s51} belongs to {s1} of {s2}, and is where {reg0?she:he} makes {reg0?her:his} court.^"),
						(else_try),
							(call_script, "script_dplmc_store_troop_is_female", ":script_param_1_town_lord"),
							(str_store_string, 2, "@{s51} belongs to {s1} of {s2}, and is where {reg0?she:he} makes {reg0?her:his} home.^"),
						(try_end),
					(else_try),
						(str_store_string, 2, "@{s51} belongs to {s1} of {s2}.^"),
					(try_end),
					(assign, reg0, ":script_param_1_village_bound_center"),
				(else_try),
					(str_clear, 2),
					(store_faction_of_party, ":faction_of_troop_script_param_1_town_lord", ":script_param_1"),
					(str_store_string, 1, "str_noone"),
					(try_begin),
						(ge, ":faction_of_troop_script_param_1_town_lord", 1),
						(str_store_faction_name_link, 2, ":faction_of_troop_script_param_1_town_lord"),
					(else_try),
						(str_store_string, 2, "str_noone"),
					(try_end),
					(str_store_party_name, 50, ":script_param_1"),
					(try_begin),
						(party_slot_eq, ":script_param_1", slot_party_type, 3),
						(str_store_string, 51, "@The town of {s50}"),
					(else_try),
						(party_slot_eq, ":script_param_1", slot_party_type, 4),
						(party_get_slot, ":script_param_1_village_bound_center", ":script_param_1", slot_village_bound_center),
						(str_store_party_name_link, 52, ":script_param_1_village_bound_center"),
						(str_store_string, 51, "@The village of {s50} near {s52}"),
					(else_try),
						(str_store_string, 51, "@{!}{s50}"),
					(try_end),
					(try_begin),
						(is_between, ":faction_of_troop_script_param_1_town_lord", "fac_player_supporters_faction", "fac_kingdoms_end"),
						(faction_slot_eq, ":faction_of_troop_script_param_1_town_lord", slot_faction_state, 0),
						(str_store_string, 2, "@{s51} belongs to {s2} but has not yet been granted to a lord.^"),
					(else_try),
						(str_store_string, 2, "@{s51} belongs to {s2}.^"),
					(try_end),
				(try_end),
				(try_begin),
					(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
					(party_get_slot, ":script_param_1_village_market_town", ":script_param_1", slot_village_market_town),
					(try_begin),
						(is_between, ":script_param_1_village_market_town", "p_town_1", "p_salt_mine"),
						(neq, ":script_param_1_village_market_town", ":script_param_1"),
						(neg|party_slot_eq, ":script_param_1", slot_village_bound_center, ":script_param_1_village_market_town"),
						(str_store_party_name_link, 8, ":script_param_1_village_market_town"),
						(str_store_string, 2, "@{s2}Its market town is {s8}.^"),
					(try_end),
				(else_try),
					(assign, ":var_7", 0),
					(try_for_range_backwards, ":var_8", "p_village_1", "p_salt_mine"),
						(party_slot_eq, ":var_8", slot_village_bound_center, ":script_param_1"),
						(try_begin),
							(eq, ":var_7", 0),
							(str_store_party_name_link, 8, ":var_8"),
						(else_try),
							(eq, ":var_7", 1),
							(str_store_party_name_link, 7, ":var_8"),
							(str_store_string, 8, "@{s7} and {s8}"),
						(else_try),
							(str_store_party_name_link, 7, ":var_8"),
							(str_store_string, 8, "@{!}{s7}, {s8}"),
						(try_end),
						(val_add, ":var_7", 1),
					(try_end),
					(try_begin),
						(eq, ":var_7", 0),
						(str_store_string, 2, "@{s2}It has no villages.^"),
					(else_try),
						(store_sub, reg0, ":var_7", 1),
						(str_store_string, 2, "@{s2}{reg0?Its villages are:Its village is} {s8}.^"),
					(try_end),
				(try_end),
				(call_script, "script_get_prosperity_text_to_s50", ":script_param_1"),
				(str_store_string, 0, "@{s2}Its prosperity is: {s50}", 0),
				(set_trigger_result, 1),
			(try_end)
		]),

	("game_get_faction_note",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(set_trigger_result, 0),
			(try_begin),
				(is_between, ":script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":script_param_1", slot_faction_state, 0),
				(try_begin),
					(eq, ":script_param_2", 0),
					(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
					(str_store_faction_name, 5, ":script_param_1"),
					(try_begin),
						(lt, ":script_param_1_leader", 0),
						(str_store_string, 6, "str_noone"),
					(else_try),
						(eq, ":script_param_1_leader", "trp_kingdom_heroes_including_player_begin"),
						(assign, ":script_param_1_leader", "trp_player"),
						(str_store_troop_name_link, 6, ":script_param_1_leader"),
					(else_try),
						(str_store_troop_name_link, 6, ":script_param_1_leader"),
					(try_end),
					(assign, ":var_4", 0),
					(str_store_string, 8, "@nowhere"),
					(try_for_range_backwards, ":var_5", "p_town_1", "p_salt_mine"),
						(store_faction_of_party, ":faction_of_party_var_5", ":var_5"),
						(eq, ":faction_of_party_var_5", ":script_param_1"),
						(try_begin),
							(eq, ":var_4", 0),
							(str_store_party_name_link, 8, ":var_5"),
						(else_try),
							(eq, ":var_4", 1),
							(str_store_party_name_link, 7, ":var_5"),
							(str_store_string, 8, "@{s7} and {s8}"),
						(else_try),
							(str_store_party_name_link, 7, ":var_5"),
							(str_store_string, 8, "@{s7}, {s8}"),
						(try_end),
						(val_add, ":var_4", 1),
					(try_end),
					(assign, ":var_7", 0),
					(str_store_string, 10, "@noone"),
					(try_for_range_backwards, ":var_8", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
						(assign, ":value", ":var_8"),
						(try_begin),
							(eq, ":var_8", "trp_kingdom_heroes_including_player_begin"),
							(assign, ":value", "trp_player"),
							(assign, ":var_10", "$players_kingdom"),
						(else_try),
							(store_faction_of_troop, ":var_10", ":value"),
						(try_end),
						(eq, ":var_10", ":script_param_1"),
						(neq, ":value", ":script_param_1_leader"),
						(troop_slot_eq, ":value", slot_troop_occupation, 2),
						(try_begin),
							(eq, ":var_7", 0),
							(str_store_troop_name_link, 10, ":value"),
						(else_try),
							(eq, ":var_7", 1),
							(str_store_troop_name_link, 9, ":value"),
							(str_store_string, 10, "@{s9} and {s10}"),
						(else_try),
							(str_store_troop_name_link, 9, ":value"),
							(str_store_string, 10, "@{s9}, {s10}"),
						(try_end),
						(val_add, ":var_7", 1),
					(try_end),
					(str_store_string, 12, "@noone"),
					(str_store_string, 21, "str_foreign_relations__"),
					(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
						(faction_slot_eq, ":faction", slot_faction_state, 0),
						(neq, ":script_param_1", ":faction"),
						(str_store_faction_name_link, 14, ":faction"),
						(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":script_param_1", ":faction"),
						(assign, ":var_12", reg0),
						(assign, ":var_13", reg1),
						(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":faction", ":script_param_1"),
						(assign, ":var_14", reg0),
						(try_begin),
							(eq, ":var_12", -2),
							(str_store_string, 21, "str_s21__the_s5_is_at_war_with_the_s14"),
							(store_add, ":value_2", ":faction", 140),
							(val_sub, ":value_2", "fac_player_supporters_faction"),
							(faction_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
							(store_mul, ":value_3", ":script_param_1_value_2", 2),
							(store_add, ":value_4", ":script_param_1", 140),
							(val_sub, ":value_4", "fac_player_supporters_faction"),
							(faction_get_slot, ":faction_value_4", ":faction", ":value_4"),
							(store_mul, ":value_5", ":faction_value_4", 2),
							(assign, ":value_6", 0),
							(assign, ":value_7", 0),
							(try_for_range, ":number", 0, "$num_log_entries"),
								(troop_get_slot, ":log_array_entry_type_number", "trp_log_array_entry_type", ":number"),
								(is_between, ":log_array_entry_type_number", 91, 96),
								(troop_get_slot, ":log_array_actor_number", "trp_log_array_actor", ":number"),
								(troop_get_slot, ":log_array_faction_object_number", "trp_log_array_faction_object", ":number"),
								(try_begin),
									(eq, ":log_array_actor_number", ":faction"),
									(eq, ":log_array_faction_object_number", ":script_param_1"),
									(assign, ":value_6", ":log_array_entry_type_number"),
									(assign, ":value_7", ":log_array_actor_number"),
								(else_try),
									(eq, ":log_array_actor_number", ":script_param_1"),
									(eq, ":log_array_faction_object_number", ":faction"),
									(assign, ":value_6", ":log_array_entry_type_number"),
									(assign, ":value_7", ":log_array_actor_number"),
								(try_end),
							(try_end),
							(str_store_string, 25, 8),
							(try_begin),
								(gt, ":value_6", 0),
								(str_store_faction_name, 8, ":value_7"),
								(try_begin),
									(eq, ":value_6", 91),
									(str_store_string, 21, "str_s21_the_s8_declared_war_out_of_personal_enmity"),
								(else_try),
									(eq, ":value_6", 94),
									(str_store_string, 21, "str_s21_the_s8_declared_war_in_response_to_border_provocations"),
								(else_try),
									(eq, ":value_6", 93),
									(str_store_string, 21, "str_s21_the_s8_declared_war_to_curb_the_other_realms_power"),
								(else_try),
									(eq, ":value_6", 92),
									(str_store_string, 21, "str_s21_the_s8_declared_war_to_regain_lost_territory"),
								(else_try),
									(eq, ":value_6", 95),
									(str_store_string, 21, "str_dplmc_s21_the_s8_declared_war_to_fulfil_pact"),
								(else_try),
									(eq, ":value_6", 90),
									(neq, ":value_7", "fac_player_supporters_faction"),
									(str_store_string, 21, "str_s21_the_s8_declared_war_as_part_of_a_bid_to_conquer_all_calradia"),
								(try_end),
							(try_end),
							(str_store_string, 8, 25),
							(try_begin),
								(gt, ":script_param_1_value_2", ":value_5"),
								(str_store_string, 21, "str_s21_the_s5_has_had_the_upper_hand_in_the_fighting"),
							(else_try),
								(gt, ":faction_value_4", ":value_3"),
								(str_store_string, 21, "str_s21_the_s5_has_gotten_the_worst_of_the_fighting"),
							(else_try),
								(gt, ":script_param_1_value_2", 100),
								(gt, ":script_param_1_value_2", 100),
								(str_store_string, 21, "str_s21_the_fighting_has_gone_on_for_some_time_and_the_war_may_end_soon_with_a_truce"),
							(else_try),
								(str_store_string, 21, "str_s21_the_fighting_has_begun_relatively_recently_and_the_war_may_continue_for_some_time"),
							(try_end),
							(try_begin),
								(eq, "$cheat_mode", 1),
								(assign, reg4, ":script_param_1_value_2"),
								(assign, reg5, ":faction_value_4"),
								(str_store_string, 21, "str_s21_reg4reg5"),
							(try_end),
						(else_try),
							(eq, ":var_12", 1),
							(str_clear, 18),
							(try_begin),
								(neq, ":var_14", 1),
								(str_store_string, 18, "str__however_the_truce_is_no_longer_binding_on_the_s14"),
							(try_end),
							(assign, reg1, ":var_13"),
							(try_begin),
								(is_between, ":var_13", 1, 31),
								(str_store_string, 21, "str_s21__the_s5_is_bound_by_truce_not_to_attack_the_s14s18_the_truce_will_expire_in_reg1_days"),
							(else_try),
								(is_between, ":var_13", 31, 31),
								(val_sub, reg1, 30),
								(str_store_string, 21, "str_dplmc_s21__the_s5_is_bound_by_trade_not_to_attack_the_s14s18_it_will_expire_in_reg1_days"),
							(else_try),
								(is_between, ":var_13", 31, 31),
								(val_sub, reg1, 30),
								(str_store_string, 21, "str_dplmc_s21__the_s5_is_bound_by_defensive_not_to_attack_the_s14s18_it_will_expire_in_reg1_days"),
							(else_try),
								(is_between, ":var_13", 31, 31),
								(val_sub, reg1, 30),
								(str_store_string, 21, "str_dplmc_s21__the_s5_is_bound_by_alliance_not_to_attack_the_s14s18_it_will_expire_in_reg1_days"),
							(try_end),
						(else_try),
							(eq, ":var_12", -1),
							(str_store_string, 21, "str_s21__the_s5_has_recently_suffered_provocation_by_subjects_of_the_s14_and_there_is_a_risk_of_war"),
						(else_try),
							(eq, ":var_12", 0),
							(str_store_string, 21, "str_s21__the_s5_has_no_outstanding_issues_with_the_s14"),
						(try_end),
						(try_begin),
							(eq, ":var_14", -1),
							(str_store_string, 21, "str_s21_the_s14_was_recently_provoked_by_subjects_of_the_s5_and_there_is_a_risk_of_war_"),
						(try_end),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(call_script, "script_npc_decision_checklist_peace_or_war", ":script_param_1", ":faction", -1),
							(str_store_string, 21, "@{!}DEBUG : {s21}.^CHEAT MODE ASSESSMENT: {s14}^"),
						(try_end),
					(try_end),
					(str_store_string, 0, "str_the_s5_is_ruled_by_s6_it_occupies_s8_its_vassals_are_s10__s21", 0),
					(set_trigger_result, 1),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":script_param_1", slot_faction_state, 1),
				(try_begin),
					(eq, ":script_param_2", 0),
					(str_store_faction_name, 5, ":script_param_1"),
					(str_store_string, 0, "@{s5} has ceased to exist.", 0),
					(set_trigger_result, 1),
				(else_try),
					(eq, ":script_param_2", 1),
					(str_clear, 0),
					(set_trigger_result, 1),
				(try_end),
			(else_try),
				(try_begin),
					(this_or_next|eq, ":script_param_2", 0),
					(eq, ":script_param_2", 1),
					(str_clear, 0),
					(set_trigger_result, 1),
				(try_end),
			(try_end)
		]),

	("game_get_quest_note",
		[
			(set_trigger_result, 0)
		]),

	("game_get_info_page_note",
		[
			(set_trigger_result, 0)
		]),

	("game_get_scene_name",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(is_between, ":script_param_1", "scn_multi_scene_1", "scn_multiplayer_maps_end"),
				(store_sub, ":value", ":script_param_1", "scn_multi_scene_1"),
				(val_add, ":value", "str_multi_scene_1"),
				(str_store_string, 0, ":value"),
			(try_end)
		]),

	("game_get_mission_template_name",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_multiplayer_get_mission_template_game_type", ":script_param_1"),
			(assign, ":var_2", reg0),
			(try_begin),
				(is_between, ":var_2", 0, 8),
				(store_add, ":value", ":var_2", "str_multi_game_type_1"),
				(str_store_string, 0, ":value"),
			(try_end)
		]),

	("add_kill_death_counts",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(ge, ":script_param_1", 0),
				(agent_get_team, ":team_script_param_1", ":script_param_1"),
			(else_try),
				(assign, ":team_script_param_1", -1),
			(try_end),
			(try_begin),
				(ge, ":script_param_2", 0),
				(agent_get_team, ":team_script_param_2", ":script_param_2"),
			(else_try),
				(assign, ":team_script_param_2", -1),
			(try_end),
			(try_begin),
				(try_begin),
					(ge, ":script_param_1", 0),
					(ge, ":script_param_2", 0),
					(agent_is_human, ":script_param_1"),
					(agent_is_human, ":script_param_2"),
					(neq, ":script_param_1", ":script_param_2"),
					(this_or_next|neq, ":team_script_param_1", ":team_script_param_2"),
					(this_or_next|eq, "$g_multiplayer_game_type", 0),
					(eq, "$g_multiplayer_game_type", 7),
					(agent_get_player_id, ":player_id_script_param_1", ":script_param_1"),
					(try_begin),
						(agent_is_non_player, ":script_param_1"),
						(agent_get_team, ":team_script_param_1", ":script_param_1"),
						(team_get_bot_kill_count, ":bot_kill_count_team_script_param_1", ":team_script_param_1"),
						(val_add, ":bot_kill_count_team_script_param_1", 1),
						(team_set_bot_kill_count, ":team_script_param_1", ":bot_kill_count_team_script_param_1"),
					(else_try),
						(player_is_active, ":player_id_script_param_1"),
						(player_get_kill_count, ":kill_count_player_id_script_param_1", ":player_id_script_param_1"),
						(val_add, ":kill_count_player_id_script_param_1", 1),
						(player_set_kill_count, ":player_id_script_param_1", ":kill_count_player_id_script_param_1"),
					(try_end),
				(try_end),
				(try_begin),
					(ge, ":script_param_2", 0),
					(agent_is_human, ":script_param_2"),
					(try_begin),
						(agent_is_non_player, ":script_param_2"),
						(agent_get_team, ":team_script_param_2", ":script_param_2"),
						(team_get_bot_death_count, ":bot_death_count_team_script_param_2", ":team_script_param_2"),
						(val_add, ":bot_death_count_team_script_param_2", 1),
						(team_set_bot_death_count, ":team_script_param_2", ":bot_death_count_team_script_param_2"),
					(else_try),
						(agent_get_player_id, ":player_id_script_param_2", ":script_param_2"),
						(player_is_active, ":player_id_script_param_2"),
						(player_get_death_count, ":death_count_player_id_script_param_2", ":player_id_script_param_2"),
						(val_add, ":death_count_player_id_script_param_2", 1),
						(player_set_death_count, ":player_id_script_param_2", ":death_count_player_id_script_param_2"),
					(try_end),
					(try_begin),
						(assign, ":value", 0),
						(try_begin),
							(this_or_next|lt, ":script_param_1", 0),
							(eq, ":script_param_1", ":script_param_2"),
							(assign, ":value", 1),
						(try_end),
						(try_begin),
							(eq, ":team_script_param_1", ":team_script_param_2"),
							(neq, "$g_multiplayer_game_type", 0),
							(neq, "$g_multiplayer_game_type", 7),
							(assign, ":value", 1),
						(try_end),
						(eq, ":value", 1),
						(try_begin),
							(ge, ":script_param_1", 0),
							(assign, ":value_2", ":script_param_1"),
						(else_try),
							(assign, ":value_2", ":script_param_2"),
						(try_end),
						(try_begin),
							(ge, ":value_2", 0),
							(neg|agent_is_non_player, ":value_2"),
							(agent_get_player_id, ":player_id_value_2", ":value_2"),
							(ge, ":player_id_value_2", 0),
							(player_get_kill_count, ":kill_count_player_id_value_2", ":player_id_value_2"),
							(val_add, ":kill_count_player_id_value_2", -1),
							(player_set_kill_count, ":player_id_value_2", ":kill_count_player_id_value_2"),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("warn_player_about_auto_team_balance",
		[
			(assign, "$g_multiplayer_message_type", 3),
			(start_presentation, "prsnt_multiplayer_message_2")
		]),

	("check_team_balance",
		[
			(try_begin),
				(multiplayer_is_server),
				(assign, ":var_1", 0),
				(assign, ":var_2", 0),
				(get_max_players, ":max_players"),
				(try_for_range, ":number", 0, ":max_players"),
					(player_is_active, ":number"),
					(player_get_team_no, ":team_no_number", ":number"),
					(try_begin),
						(eq, ":team_no_number", 0),
						(val_add, ":var_1", 1),
					(else_try),
						(eq, ":team_no_number", 1),
						(val_add, ":var_2", 1),
					(try_end),
				(try_end),
				(store_sub, ":value", ":var_1", ":var_2"),
				(assign, ":value_2", 0),
				(try_begin),
					(try_begin),
						(store_mul, ":value_3", "$g_multiplayer_auto_team_balance_limit", -1),
						(le, ":value", ":value_3"),
						(store_div, ":value_2", ":value", -2),
						(assign, ":value_4", 1),
						(assign, ":value_5", 0),
					(else_try),
						(ge, ":value", "$g_multiplayer_auto_team_balance_limit"),
						(store_div, ":value_2", ":value", 2),
						(assign, ":value_4", 0),
						(assign, ":value_5", 1),
					(try_end),
				(try_end),
				(try_begin),
					(gt, ":value_2", 0),
					(try_begin),
						(eq, "$g_team_balance_next_round", 1),
						(try_for_range, ":unused", 0, ":value_2"),
							(assign, ":value_6", 0),
							(assign, ":value_7", -1),
							(get_max_players, ":max_players"),
							(try_for_range, ":number_2", 0, ":max_players"),
								(player_is_active, ":number_2"),
								(player_get_team_no, ":team_no_number", ":number_2"),
								(eq, ":team_no_number", ":value_4"),
								(player_get_slot, ":number_2_join_time", ":number_2", slot_player_join_time),
								(try_begin),
									(gt, ":number_2_join_time", ":value_6"),
									(assign, ":value_6", ":number_2_join_time"),
									(assign, ":value_7", ":number_2"),
								(try_end),
							(try_end),
							(try_begin),
								(ge, ":value_7", 0),
								(try_begin),
									(player_get_agent_id, ":agent_id_value_7", ":value_7"),
									(ge, ":agent_id_value_7", 0),
									(agent_is_alive, ":agent_id_value_7"),
									(player_get_kill_count, ":kill_count_value_7", ":value_7"),
									(val_add, ":kill_count_value_7", 1),
									(player_set_kill_count, ":value_7", ":kill_count_value_7"),
									(player_get_death_count, ":death_count_value_7", ":value_7"),
									(val_sub, ":death_count_value_7", 1),
									(player_set_death_count, ":value_7", ":death_count_value_7"),
									(player_get_score, ":score_value_7", ":value_7"),
									(val_add, ":score_value_7", 1),
									(player_set_score, ":value_7", ":score_value_7"),
									(try_for_range, ":number_2", 1, ":max_players"),
										(player_is_active, ":number_2"),
										(multiplayer_send_4_int_to_player, ":number_2", 86, ":value_7", ":score_value_7", ":kill_count_value_7", ":death_count_value_7"),
									(try_end),
									(player_get_value_of_original_items, ":value_of_original_items_value_7", ":value_7"),
									(player_get_gold, ":gold_value_7", ":value_7"),
									(val_add, ":gold_value_7", ":value_of_original_items_value_7"),
									(player_set_gold, ":value_7", ":gold_value_7", 15000),
								(try_end),
								(player_set_troop_id, ":value_7", -1),
								(player_set_team_no, ":value_7", ":value_5"),
								(multiplayer_send_message_to_player, ":value_7", 79),
							(try_end),
						(try_end),
						(call_script, "script_show_multiplayer_message", 2, 0),
						(get_max_players, ":max_players"),
						(try_for_range, ":number_2", 1, ":max_players"),
							(player_is_active, ":number_2"),
							(multiplayer_send_int_to_player, ":number_2", 68, 2),
						(try_end),
						(assign, "$g_team_balance_next_round", 0),
					(else_try),
						(assign, "$g_team_balance_next_round", 1),
						(call_script, "script_show_multiplayer_message", 3, 0),
						(get_max_players, ":max_players"),
						(try_for_range, ":number_2", 1, ":max_players"),
							(player_is_active, ":number_2"),
							(multiplayer_send_int_to_player, ":number_2", 68, 3),
						(try_end),
					(try_end),
				(else_try),
					(assign, "$g_team_balance_next_round", 0),
				(try_end),
			(try_end)
		]),

	("check_creating_ladder_dust_effect",
		[
			(store_trigger_param_1, ":trigger_param_1"),
			(store_trigger_param_2, ":trigger_param_2"),
			(try_begin),
				(lt, ":trigger_param_2", 15),
				(gt, ":trigger_param_2", 3),
				(scene_prop_get_slot, ":scene_prop_slot_trigger_param_1_scene_prop_smoke_effect_done", ":trigger_param_1", slot_scene_prop_smoke_effect_done),
				(scene_prop_get_slot, ":scene_prop_slot_trigger_param_1_scene_prop_open_or_close_slot", ":trigger_param_1", slot_scene_prop_open_or_close_slot),
				(try_begin),
					(eq, ":scene_prop_slot_trigger_param_1_scene_prop_smoke_effect_done", 0),
					(eq, ":scene_prop_slot_trigger_param_1_scene_prop_open_or_close_slot", 0),
					(prop_instance_get_position, 0, ":trigger_param_1"),
					(assign, ":value", -1),
					(try_for_range, ":number", 100, 110),
						(entry_point_get_position, 1, ":number"),
						(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
						(this_or_next|eq, ":value", -1),
						(lt, ":sq_distance_between_positions_0_1", ":value"),
						(assign, ":value", ":sq_distance_between_positions_0_1"),
						(assign, ":var_8", ":number"),
					(try_end),
					(try_begin),
						(set_fixed_point_multiplier, 100),
						(ge, ":value", 0),
						(lt, ":value", 22500),
						(entry_point_get_position, 1, ":var_8"),
						(position_rotate_x, 1, -90),
						(prop_instance_get_scene_prop_kind, ":prop_instance_scene_prop_kind_trigger_param_1", ":trigger_param_1"),
						(try_begin),
							(eq, ":prop_instance_scene_prop_kind_trigger_param_1", "spr_siege_ladder_move_6m"),
							(init_position, 2),
							(position_set_z, 2, 300),
							(position_transform_position_to_parent, 3, 1, 2),
							(particle_system_burst, "psys_ladder_dust_6m", 3, 100),
							(particle_system_burst, "psys_ladder_straw_6m", 3, 100),
						(else_try),
							(eq, ":prop_instance_scene_prop_kind_trigger_param_1", "spr_siege_ladder_move_8m"),
							(init_position, 2),
							(position_set_z, 2, 400),
							(position_transform_position_to_parent, 3, 1, 2),
							(particle_system_burst, "psys_ladder_dust_8m", 3, 100),
							(particle_system_burst, "psys_ladder_straw_8m", 3, 100),
						(else_try),
							(eq, ":prop_instance_scene_prop_kind_trigger_param_1", "spr_siege_ladder_move_10m"),
							(init_position, 2),
							(position_set_z, 2, 500),
							(position_transform_position_to_parent, 3, 1, 2),
							(particle_system_burst, "psys_ladder_dust_10m", 3, 100),
							(particle_system_burst, "psys_ladder_straw_10m", 3, 100),
						(else_try),
							(eq, ":prop_instance_scene_prop_kind_trigger_param_1", "spr_siege_ladder_move_12m"),
							(init_position, 2),
							(position_set_z, 2, 600),
							(position_transform_position_to_parent, 3, 1, 2),
							(particle_system_burst, "psys_ladder_dust_12m", 3, 100),
							(particle_system_burst, "psys_ladder_straw_12m", 3, 100),
						(else_try),
							(eq, ":prop_instance_scene_prop_kind_trigger_param_1", "spr_siege_ladder_move_14m"),
							(init_position, 2),
							(position_set_z, 2, 700),
							(position_transform_position_to_parent, 3, 1, 2),
							(particle_system_burst, "psys_ladder_dust_14m", 3, 100),
							(particle_system_burst, "psys_ladder_straw_14m", 3, 100),
						(try_end),
						(scene_prop_set_slot, ":trigger_param_1", slot_scene_prop_smoke_effect_done, 1),
					(try_end),
				(try_end),
			(try_end)
		]),

	("money_management_after_agent_death",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(try_begin),
				(multiplayer_is_server),
				(ge, ":script_param_1", 0),
				(ge, ":script_param_2", 0),
				(agent_is_human, ":script_param_2"),
				(agent_is_human, ":script_param_1"),
				(agent_get_team, ":team_script_param_1", ":script_param_1"),
				(agent_get_team, ":team_script_param_2", ":script_param_2"),
				(this_or_next|eq, "$g_multiplayer_game_type", 0),
				(this_or_next|eq, "$g_multiplayer_game_type", 7),
				(neq, ":team_script_param_1", ":team_script_param_2"),
				(neq, ":script_param_2", ":script_param_1"),
				(try_begin),
					(neg|agent_is_non_player, ":script_param_2"),
					(agent_get_player_id, ":player_id_script_param_2", ":script_param_2"),
					(player_get_slot, ":player_id_script_param_2_total_equipment_value", ":player_id_script_param_2", slot_player_total_equipment_value),
				(else_try),
					(assign, ":player_id_script_param_2_total_equipment_value", 0),
				(try_end),
				(assign, ":var_8", 0),
				(get_max_players, ":max_players"),
				(try_for_range, ":number", 0, ":max_players"),
					(player_is_active, ":number"),
					(player_get_team_no, ":team_no_number", ":number"),
					(eq, ":team_no_number", ":team_script_param_2"),
					(val_add, ":var_8", 1),
				(try_end),
				(try_for_range, ":number", 0, ":max_players"),
					(player_is_active, ":number"),
					(try_begin),
						(this_or_next|eq, "$g_multiplayer_game_type", 2),
						(eq, "$g_multiplayer_game_type", 3),
						(assign, ":value_2", 1),
					(else_try),
						(assign, ":value_2", 0),
					(try_end),
					(this_or_next|eq, ":value_2", 0),
					(this_or_next|player_slot_eq, ":number", slot_player_spawned_this_round, 0),
					(player_slot_eq, ":number", slot_player_spawned_this_round, 1),
					(player_get_agent_id, ":agent_id_number", ":number"),
					(try_begin),
						(eq, ":agent_id_number", ":script_param_2"),
						(player_get_gold, ":gold_number", ":number"),
						(assign, ":value", ":number"),
						(store_mul, ":value_3", ":player_id_script_param_2_total_equipment_value", 48),
						(val_div, ":value_3", 100),
						(val_mul, ":value_3", "$g_multiplayer_battle_earnings_multiplier"),
						(val_div, ":value_3", 100),
						(try_begin),
							(this_or_next|eq, "$g_multiplayer_game_type", 0),
							(this_or_next|eq, "$g_multiplayer_game_type", 7),
							(this_or_next|eq, "$g_multiplayer_game_type", 1),
							(this_or_next|eq, "$g_multiplayer_game_type", 4),
							(eq, "$g_multiplayer_game_type", 5),
							(val_mul, ":value_3", 4),
							(val_div, ":value_3", 3),
							(val_add, ":gold_number", ":value_3"),
						(else_try),
							(this_or_next|eq, "$g_multiplayer_game_type", 2),
							(eq, "$g_multiplayer_game_type", 3),
							(val_mul, ":value_3", 2),
							(val_div, ":value_3", 3),
							(val_add, ":gold_number", ":value_3"),
						(else_try),
							(val_add, ":gold_number", ":value_3"),
						(try_end),
						(player_set_gold, ":number", ":gold_number", 15000),
					(else_try),
						(eq, ":agent_id_number", ":script_param_1"),
						(player_get_gold, ":gold_number", ":number"),
						(assign, ":var_16", 150),
						(val_mul, ":var_16", "$g_multiplayer_battle_earnings_multiplier"),
						(val_div, ":var_16", 100),
						(try_begin),
							(this_or_next|eq, "$g_multiplayer_game_type", 0),
							(this_or_next|eq, "$g_multiplayer_game_type", 7),
							(this_or_next|eq, "$g_multiplayer_game_type", 1),
							(this_or_next|eq, "$g_multiplayer_game_type", 4),
							(eq, "$g_multiplayer_game_type", 5),
							(val_mul, ":var_16", 4),
							(val_div, ":var_16", 3),
							(val_add, ":gold_number", ":var_16"),
						(else_try),
							(this_or_next|eq, "$g_multiplayer_game_type", 2),
							(eq, "$g_multiplayer_game_type", 3),
							(val_mul, ":var_16", 2),
							(val_div, ":var_16", 3),
							(val_add, ":gold_number", ":var_16"),
						(else_try),
							(val_add, ":gold_number", ":var_16"),
						(try_end),
						(store_mul, ":value_4", ":player_id_script_param_2_total_equipment_value", 12),
						(val_div, ":value_4", 100),
						(val_mul, ":value_4", "$g_multiplayer_battle_earnings_multiplier"),
						(val_div, ":value_4", 100),
						(try_begin),
							(this_or_next|eq, "$g_multiplayer_game_type", 0),
							(this_or_next|eq, "$g_multiplayer_game_type", 7),
							(this_or_next|eq, "$g_multiplayer_game_type", 1),
							(this_or_next|eq, "$g_multiplayer_game_type", 4),
							(eq, "$g_multiplayer_game_type", 5),
							(val_mul, ":value_4", 4),
							(val_div, ":value_4", 3),
							(val_add, ":gold_number", ":value_4"),
						(else_try),
							(this_or_next|eq, "$g_multiplayer_game_type", 2),
							(eq, "$g_multiplayer_game_type", 3),
							(val_mul, ":value_4", 2),
							(val_div, ":value_4", 3),
							(val_add, ":gold_number", ":value_4"),
						(else_try),
							(val_add, ":gold_number", ":value_4"),
						(try_end),
						(player_set_gold, ":number", ":gold_number", 15000),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(multiplayer_is_server),
				(neq, "$g_multiplayer_game_type", 2),
				(neq, "$g_multiplayer_game_type", 3),
				(ge, ":script_param_2", 0),
				(agent_is_human, ":script_param_2"),
				(agent_get_player_id, ":value", ":script_param_2"),
				(ge, ":value", 0),
				(player_get_gold, ":gold_number", ":value"),
				(try_begin),
					(store_mul, ":value_5", "$g_multiplayer_initial_gold_multiplier", 10),
					(lt, ":gold_number", ":value_5"),
					(assign, ":gold_number", ":value_5"),
				(try_end),
				(player_set_gold, ":value", ":gold_number"),
			(try_end)
		]),

	("initialize_aristocracy",
		[
			(try_for_range, ":troop", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(troop_set_slot, ":troop", slot_troop_occupation, 2),
				(troop_set_slot, "trp_kingdom_1_lord", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_2_lord", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_3_lord", slot_troop_age, 43),
				(troop_set_slot, "trp_kingdom_4_lord", slot_troop_age, 71),
				(troop_set_slot, "trp_kingdom_5_lord", slot_troop_age, 27),
				(troop_set_slot, "trp_kingdom_6_lord", slot_troop_age, 56),
				(troop_set_slot, "trp_kingdom_8_lord", slot_troop_age, 35),
				(troop_set_slot, "trp_kingdom_9_lord", slot_troop_age, 58),
				(troop_set_slot, "trp_kingdom_10_lord", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_11_lord", slot_troop_age, 59),
				(troop_set_slot, "trp_kingdom_12_lord", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_13_lord", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_14_lord", slot_troop_age, 42),
				(troop_set_slot, "trp_kingdom_15_lord", slot_troop_age, 45),
				(troop_set_slot, "trp_kingdom_16_lord", slot_troop_age, 54),
				(troop_set_slot, "trp_kingdom_17_lord", slot_troop_age, 29),
				(troop_set_slot, "trp_kingdom_18_lord", slot_troop_age, 61),
				(troop_set_slot, "trp_kingdom_19_lord", slot_troop_age, 43),
				(troop_set_slot, "trp_kingdom_20_lord", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_21_lord", slot_troop_age, 51),
				(troop_set_slot, "trp_kingdom_22_lord", slot_troop_age, 31),
			(try_end),
			(try_for_range, ":troop_2", "trp_knight_1_1_wife", "trp_heroes_end"),
				(troop_set_slot, ":troop_2", slot_troop_occupation, 6),
				(troop_set_slot, "trp_kingdom_1_lady_1", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_1_lady_5", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_1_lady_6", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_1_lady_7", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_1_lady_8", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_1_lady_9", slot_troop_age, 13),
				(troop_set_slot, "trp_kingdom_1_lady_10", slot_troop_age, 37),
				(troop_set_slot, "trp_kingdom_1_lady_11", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_1_lady_12", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_1_lady_13", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_1_lady_14", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_1_lady_15", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_1_lady_16", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_1_lady_17", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_1_lady_18", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_1_lady_19", slot_troop_age, 51),
				(troop_set_slot, "trp_kingdom_1_lady_20", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_1_lady_21", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_1_lady_22", slot_troop_age, 34),
				(troop_set_slot, "trp_kingdom_1_lady_23", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_1_lady_24", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_1", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_2_lady_2", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_3", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_2_lady_4", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_2_lady_5", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_2_lady_6", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_7", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_2_lady_8", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_9", slot_troop_age, 13),
				(troop_set_slot, "trp_kingdom_2_lady_10", slot_troop_age, 37),
				(troop_set_slot, "trp_kingdom_2_lady_11", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_2_lady_12", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_2_lady_13", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_14", slot_troop_age, 13),
				(troop_set_slot, "trp_kingdom_2_lady_15", slot_troop_age, 56),
				(troop_set_slot, "trp_kingdom_2_lady_16", slot_troop_age, 33),
				(troop_set_slot, "trp_kingdom_2_lady_17", slot_troop_age, 28),
				(troop_set_slot, "trp_kingdom_2_lady_18", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_2_lady_19", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_20", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_2_lady_21", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_2_lady_22", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_2_lady_23", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_2_lady_24", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_2_lady_25", slot_troop_age, 32),
				(troop_set_slot, "trp_kingdom_2_lady_26", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_2_lady_27", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_28", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_2_lady_33", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_2_lady_34", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_3_lady_1", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_3_lady_2", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_3_lady_3", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_3_lady_4", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_3_lady_5", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_3_lady_6", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_3_lady_7", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_3_lady_8", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_3_lady_9", slot_troop_age, 13),
				(troop_set_slot, "trp_kingdom_3_lady_13", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_3_lady_14", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_3_lady_15", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_3_lady_16", slot_troop_age, 33),
				(troop_set_slot, "trp_kingdom_3_lady_17", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_3_lady_18", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_3_lady_19", slot_troop_age, 31),
				(troop_set_slot, "trp_kingdom_3_lady_20", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_3_lady_21", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_3_lady_22", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_3_lady_23", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_3_lady_24", slot_troop_age, 51),
				(troop_set_slot, "trp_kingdom_3_lady_25", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_3_lady_26", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_4_lady_1", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_4_lady_2", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_4_lady_3", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_4_lady_4", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_4_lady_5", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_4_lady_6", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_4_lady_7", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_4_lady_8", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_4_lady_9", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_4_lady_10", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_4_lady_11", slot_troop_age, 35),
				(troop_set_slot, "trp_kingdom_4_lady_12", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_4_lady_13", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_4_lady_14", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_4_lady_15", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_5_lady_3", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_5_lady_4", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_5_lady_5", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_5_lady_6", slot_troop_age, 33),
				(troop_set_slot, "trp_kingdom_5_lady_7", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_5_lady_8", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_5_lady_9", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_5_lady_10", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_5_lady_11", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_5_lady_12", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_5_lady_13", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_5_lady_14", slot_troop_age, 51),
				(troop_set_slot, "trp_kingdom_5_lady_15", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_5_lady_16", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_5_lady_17", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_5_lady_18", slot_troop_age, 34),
				(troop_set_slot, "trp_kingdom_5_lady_19", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_5_lady_32", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_5_lady_33", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_5_lady_34", slot_troop_age, 64),
				(troop_set_slot, "trp_kingdom_5_lady_35", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_5_lady_36", slot_troop_age, 32),
				(troop_set_slot, "trp_kingdom_5_lady_37", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_5_lady_38", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_5_lady_39", slot_troop_age, 27),
				(troop_set_slot, "trp_kingdom_5_lady_40", slot_troop_age, 37),
				(troop_set_slot, "trp_kingdom_5_lady_41", slot_troop_age, 27),
				(troop_set_slot, "trp_kingdom_5_lady_42", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_5_lady_43", slot_troop_age, 37),
				(troop_set_slot, "trp_kingdom_6_lady_1", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_6_lady_2", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_6_lady_3", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_6_lady_4", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_6_lady_5", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_6_lady_6", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_6_lady_7", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_6_lady_8", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_6_lady_9", slot_troop_age, 45),
				(troop_set_slot, "trp_kingdom_6_lady_10", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_6_lady_11", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_6_lady_12", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_6_lady_13", slot_troop_age, 37),
				(troop_set_slot, "trp_kingdom_6_lady_14", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_6_lady_15", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_6_lady_16", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_6_lady_17", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_6_lady_20", slot_troop_age, 51),
				(troop_set_slot, "trp_kingdom_6_lady_21", slot_troop_age, 28),
				(troop_set_slot, "trp_kingdom_6_lady_22", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_6_lady_23", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_6_lady_24", slot_troop_age, 30),
				(troop_set_slot, "trp_kingdom_6_lady_25", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_6_lady_26", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_6_lady_33", slot_troop_age, 37),
				(troop_set_slot, "trp_kingdom_6_lady_34", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_6_lady_35", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_8_lady_1", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_8_lady_2", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_8_lady_3", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_8_lady_8", slot_troop_age, 34),
				(troop_set_slot, "trp_kingdom_8_lady_9", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_8_lady_10", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_8_lady_14", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_8_lady_18", slot_troop_age, 34),
				(troop_set_slot, "trp_kingdom_8_lady_18", slot_troop_age, 56),
				(troop_set_slot, "trp_kingdom_8_lady_18", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_8_lady_18", slot_troop_age, 27),
				(troop_set_slot, "trp_kingdom_9_lady_1", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_9_lady_2", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_9_lady_3", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_9_lady_4", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_9_lady_5", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_9_lady_6", slot_troop_age, 56),
				(troop_set_slot, "trp_kingdom_9_lady_7", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_9_lady_8", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_9_lady_9", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_9_lady_10", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_9_lady_11", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_9_lady_12", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_9_lady_13", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_9_lady_14", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_9_lady_15", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_9_lady_16", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_9_lady_17", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_9_lady_18", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_9_lady_19", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_9_lady_20", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_9_lady_21", slot_troop_age, 33),
				(troop_set_slot, "trp_kingdom_9_lady_22", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_9_lady_23", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_9_lady_24", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_9_lady_25", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_9_lady_26", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_9_lady_27", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_9_lady_28", slot_troop_age, 35),
				(troop_set_slot, "trp_kingdom_9_lady_29", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_9_lady_30", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_9_lady_31", slot_troop_age, 40),
				(troop_set_slot, "trp_kingdom_9_lady_32", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_9_lady_33", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_9_lady_34", slot_troop_age, 43),
				(troop_set_slot, "trp_kingdom_9_lady_35", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_9_lady_36", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_9_lady_37", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_9_lady_38", slot_troop_age, 51),
				(troop_set_slot, "trp_kingdom_9_lady_39", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_9_lady_40", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_9_lady_41", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_10_lady_1", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_10_lady_2", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_10_lady_3", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_10_lady_4", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_10_lady_5", slot_troop_age, 42),
				(troop_set_slot, "trp_kingdom_10_lady_6", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_10_lady_7", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_10_lady_8", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_10_lady_9", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_10_lady_10", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_10_lady_11", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_10_lady_12", slot_troop_age, 40),
				(troop_set_slot, "trp_kingdom_10_lady_13", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_10_lady_14", slot_troop_age, 32),
				(troop_set_slot, "trp_kingdom_10_lady_15", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_10_lady_16", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_10_lady_17", slot_troop_age, 35),
				(troop_set_slot, "trp_kingdom_10_lady_18", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_10_lady_19", slot_troop_age, 44),
				(troop_set_slot, "trp_kingdom_10_lady_20", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_10_lady_21", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_10_lady_22", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_10_lady_27", slot_troop_age, 35),
				(troop_set_slot, "trp_kingdom_10_lady_28", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_10_lady_29", slot_troop_age, 40),
				(troop_set_slot, "trp_kingdom_10_lady_30", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_10_lady_32", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_10_lady_33", slot_troop_age, 38),
				(troop_set_slot, "trp_kingdom_10_lady_35", slot_troop_age, 45),
				(troop_set_slot, "trp_kingdom_11_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_11_lady_2", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_11_lady_3", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_11_lady_4", slot_troop_age, 42),
				(troop_set_slot, "trp_kingdom_11_lady_5", slot_troop_age, 30),
				(troop_set_slot, "trp_kingdom_11_lady_6", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_11_lady_7", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_11_lady_8", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_11_lady_9", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_11_lady_10", slot_troop_age, 32),
				(troop_set_slot, "trp_kingdom_11_lady_11", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_11_lady_12", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_11_lady_13", slot_troop_age, 51),
				(troop_set_slot, "trp_kingdom_11_lady_14", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_11_lady_15", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_12_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_12_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_12_lady_3", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_12_lady_4", slot_troop_age, 42),
				(troop_set_slot, "trp_kingdom_12_lady_5", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_12_lady_6", slot_troop_age, 24),
				(troop_set_slot, "trp_kingdom_12_lady_7", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_12_lady_8", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_12_lady_9", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_12_lady_10", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_13_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_13_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_13_lady_3", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_13_lady_4", slot_troop_age, 26),
				(troop_set_slot, "trp_kingdom_13_lady_5", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_13_lady_6", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_13_lady_7", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_13_lady_8", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_13_lady_9", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_13_lady_10", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_14_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_14_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_14_lady_3", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_14_lady_4", slot_troop_age, 26),
				(troop_set_slot, "trp_kingdom_14_lady_5", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_14_lady_6", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_14_lady_7", slot_troop_age, 35),
				(troop_set_slot, "trp_kingdom_14_lady_8", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_14_lady_9", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_15_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_15_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_15_lady_3", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_15_lady_4", slot_troop_age, 56),
				(troop_set_slot, "trp_kingdom_15_lady_5", slot_troop_age, 31),
				(troop_set_slot, "trp_kingdom_15_lady_6", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_15_lady_7", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_15_lady_8", slot_troop_age, 20),
				(troop_set_slot, "trp_kingdom_15_lady_10", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_15_lady_11", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_15_lady_12", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_15_lady_13", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_16_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_16_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_16_lady_3", slot_troop_age, 17),
				(troop_set_slot, "trp_kingdom_16_lady_4", slot_troop_age, 56),
				(troop_set_slot, "trp_kingdom_16_lady_5", slot_troop_age, 31),
				(troop_set_slot, "trp_kingdom_16_lady_6", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_16_lady_7", slot_troop_age, 49),
				(troop_set_slot, "trp_kingdom_16_lady_8", slot_troop_age, 27),
				(troop_set_slot, "trp_kingdom_16_lady_9", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_17_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_17_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_17_lady_3", slot_troop_age, 64),
				(troop_set_slot, "trp_kingdom_17_lady_4", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_17_lady_5", slot_troop_age, 39),
				(troop_set_slot, "trp_kingdom_17_lady_6", slot_troop_age, 31),
				(troop_set_slot, "trp_kingdom_17_lady_7", slot_troop_age, 27),
				(troop_set_slot, "trp_kingdom_17_lady_8", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_17_lady_9", slot_troop_age, 26),
				(troop_set_slot, "trp_kingdom_17_lady_10", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_17_lady_11", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_17_lady_12", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_17_lady_13", slot_troop_age, 16),
				(troop_set_slot, "trp_kingdom_18_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_18_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_qohor_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_qohor_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_qohor_lady_3", slot_troop_age, 18),
				(troop_set_slot, "trp_kingdom_qohor_lady_4", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_19_lady_1", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_19_lady_2", slot_troop_age, 45),
				(troop_set_slot, "trp_kingdom_19_lady_3", slot_troop_age, 23),
				(troop_set_slot, "trp_kingdom_19_lady_4", slot_troop_age, 22),
				(troop_set_slot, "trp_kingdom_19_lady_5", slot_troop_age, 15),
				(troop_set_slot, "trp_kingdom_19_lady_6", slot_troop_age, 31),
				(troop_set_slot, "trp_kingdom_21_lady_1", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_21_lady_2", slot_troop_age, 19),
				(troop_set_slot, "trp_kingdom_21_lady_3", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_21_lady_4", slot_troop_age, 13),
				(troop_set_slot, "trp_kingdom_21_lady_5", slot_troop_age, 14),
				(troop_set_slot, "trp_kingdom_21_lady_6", slot_troop_age, 15),
				(troop_set_slot, "trp_knight_6_20", slot_troop_age, 37),
				(troop_set_slot, "trp_kingdom_6_lady_28", slot_troop_age, 17),
				(troop_set_slot, "trp_knight_6_21", slot_troop_age, 61),
				(troop_set_slot, "trp_knight_6_22", slot_troop_age, 42),
				(troop_set_slot, "trp_kingdom_6_lady_31", slot_troop_age, 21),
				(troop_set_slot, "trp_kingdom_6_lady_32", slot_troop_age, 16),
				(troop_set_slot, "trp_knight_9_43", slot_troop_age, 54),
				(troop_set_slot, "trp_knight_10_26", slot_troop_age, 53),
				(troop_set_slot, "trp_knight_3_25", slot_troop_age, 55),
				(troop_set_slot, "trp_knight_2_22", slot_troop_age, 41),
				(troop_set_slot, "trp_kingdom_2_lady_35", slot_troop_age, 25),
				(troop_set_slot, "trp_kingdom_2_lady_36", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_2_23", slot_troop_age, 50),
				(store_random_in_range, ":random_in_range_20_26", 20, 26),
				(try_begin),
					(eq, ":random_in_range_20_26", 20),
					(assign, ":random_in_range_20_26", 25),
				(else_try),
					(eq, ":random_in_range_20_26", 21),
					(assign, ":random_in_range_20_26", 24),
				(else_try),
					(eq, ":random_in_range_20_26", 22),
					(assign, ":random_in_range_20_26", 22),
				(else_try),
					(eq, ":random_in_range_20_26", 23),
					(assign, ":random_in_range_20_26", 23),
				(else_try),
					(eq, ":random_in_range_20_26", 24),
					(assign, ":random_in_range_20_26", 24),
				(else_try),
					(assign, ":random_in_range_20_26", 21),
				(try_end),
				(troop_set_slot, ":troop_2", slot_lord_reputation_type, ":random_in_range_20_26"),
			(try_end),
			(try_for_range, ":troop", "trp_knight_1_1", "trp_kingdom_1_pretender"),
				(troop_set_slot, ":troop", slot_troop_occupation, 2),
				(troop_set_slot, "trp_knight_1_1", slot_troop_age, 36),
				(troop_set_slot, "trp_knight_1_2", slot_troop_age, 46),
				(troop_set_slot, "trp_knight_1_3", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_1_4", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_1_5", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_1_7", slot_troop_age, 39),
				(troop_set_slot, "trp_knight_1_8", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_1_9", slot_troop_age, 17),
				(troop_set_slot, "trp_knight_1_10", slot_troop_age, 27),
				(troop_set_slot, "trp_knight_1_11", slot_troop_age, 72),
				(troop_set_slot, "trp_knight_1_12", slot_troop_age, 46),
				(troop_set_slot, "trp_knight_1_14", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_1_15", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_1_16", slot_troop_age, 35),
				(troop_set_slot, "trp_knight_1_18", slot_troop_age, 47),
				(troop_set_slot, "trp_knight_2_1", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_2_2", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_2_3", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_2_4", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_2_5", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_2_6", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_2_7", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_2_8", slot_troop_age, 58),
				(troop_set_slot, "trp_knight_2_9", slot_troop_age, 62),
				(troop_set_slot, "trp_knight_2_11", slot_troop_age, 34),
				(troop_set_slot, "trp_knight_2_12", slot_troop_age, 67),
				(troop_set_slot, "trp_knight_2_13", slot_troop_age, 21),
				(troop_set_slot, "trp_knight_2_14", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_2_15", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_2_18", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_2_21", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_2_24", slot_troop_age, 62),
				(troop_set_slot, "trp_knight_sellsword_1", slot_troop_age, 64),
				(troop_set_slot, "trp_knight_sellsword_2", slot_troop_age, 36),
				(troop_set_slot, "trp_knight_3_1", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_3_2", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_3_3", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_3_4", slot_troop_age, 39),
				(troop_set_slot, "trp_knight_3_5", slot_troop_age, 63),
				(troop_set_slot, "trp_knight_3_6", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_3_7", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_3_8", slot_troop_age, 35),
				(troop_set_slot, "trp_knight_3_9", slot_troop_age, 55),
				(troop_set_slot, "trp_knight_3_10", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_3_11", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_3_12", slot_troop_age, 49),
				(troop_set_slot, "trp_knight_3_13", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_3_14", slot_troop_age, 18),
				(troop_set_slot, "trp_knight_3_15", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_3_22", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_3_23", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_3_24", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_4_1", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_4_2", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_4_3", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_4_4", slot_troop_age, 71),
				(troop_set_slot, "trp_knight_4_5", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_4_6", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_4_7", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_4_8", slot_troop_age, 61),
				(troop_set_slot, "trp_knight_4_9", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_4_10", slot_troop_age, 46),
				(troop_set_slot, "trp_knight_4_11", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_4_12", slot_troop_age, 55),
				(troop_set_slot, "trp_knight_5_1", slot_troop_age, 66),
				(troop_set_slot, "trp_knight_5_2", slot_troop_age, 30),
				(troop_set_slot, "trp_knight_5_3", slot_troop_age, 32),
				(troop_set_slot, "trp_knight_5_4", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_5_5", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_5_6", slot_troop_age, 40),
				(troop_set_slot, "trp_knight_5_7", slot_troop_age, 48),
				(troop_set_slot, "trp_knight_5_8", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_5_9", slot_troop_age, 26),
				(troop_set_slot, "trp_knight_5_10", slot_troop_age, 60),
				(troop_set_slot, "trp_knight_5_11", slot_troop_age, 35),
				(troop_set_slot, "trp_knight_5_13", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_5_14", slot_troop_age, 63),
				(troop_set_slot, "trp_knight_5_15", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_5_16", slot_troop_age, 28),
				(troop_set_slot, "trp_knight_qohor_1", slot_troop_age, 66),
				(troop_set_slot, "trp_knight_qohor_2", slot_troop_age, 30),
				(troop_set_slot, "trp_knight_qohor_3", slot_troop_age, 28),
				(troop_set_slot, "trp_knight_qohor_4", slot_troop_age, 27),
				(troop_set_slot, "trp_knight_6_2", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_6_3", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_6_4", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_6_5", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_6_6", slot_troop_age, 40),
				(troop_set_slot, "trp_knight_6_7", slot_troop_age, 48),
				(troop_set_slot, "trp_knight_6_8", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_6_9", slot_troop_age, 63),
				(troop_set_slot, "trp_knight_6_10", slot_troop_age, 52),
				(troop_set_slot, "trp_knight_6_11", slot_troop_age, 32),
				(troop_set_slot, "trp_knight_6_12", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_6_13", slot_troop_age, 25),
				(troop_set_slot, "trp_knight_6_14", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_6_15", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_6_17", slot_troop_age, 17),
				(troop_set_slot, "trp_knight_6_18", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_6_19", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_6_20", slot_troop_age, 54),
				(troop_set_slot, "trp_knight_6_21", slot_troop_age, 64),
				(troop_set_slot, "trp_knight_6_22", slot_troop_age, 34),
				(troop_set_slot, "trp_knight_8_1", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_8_2", slot_troop_age, 46),
				(troop_set_slot, "trp_knight_8_3", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_8_6", slot_troop_age, 67),
				(troop_set_slot, "trp_knight_8_7", slot_troop_age, 56),
				(troop_set_slot, "trp_knight_8_12", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_8_13", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_8_1", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_8_15", slot_troop_age, 25),
				(troop_set_slot, "trp_knight_9_1", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_9_2", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_9_3", slot_troop_age, 47),
				(troop_set_slot, "trp_knight_9_4", slot_troop_age, 59),
				(troop_set_slot, "trp_knight_9_5", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_9_6", slot_troop_age, 40),
				(troop_set_slot, "trp_knight_9_7", slot_troop_age, 48),
				(troop_set_slot, "trp_knight_9_8", slot_troop_age, 52),
				(troop_set_slot, "trp_knight_9_9", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_9_10", slot_troop_age, 39),
				(troop_set_slot, "trp_knight_9_11", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_9_12", slot_troop_age, 27),
				(troop_set_slot, "trp_knight_9_13", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_9_14", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_9_15", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_9_16", slot_troop_age, 17),
				(troop_set_slot, "trp_knight_9_17", slot_troop_age, 34),
				(troop_set_slot, "trp_knight_9_18", slot_troop_age, 32),
				(troop_set_slot, "trp_knight_9_19", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_9_20", slot_troop_age, 21),
				(troop_set_slot, "trp_knight_9_21", slot_troop_age, 18),
				(troop_set_slot, "trp_knight_9_22", slot_troop_age, 48),
				(troop_set_slot, "trp_knight_9_23", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_9_24", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_9_25", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_9_26", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_9_27", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_9_28", slot_troop_age, 71),
				(troop_set_slot, "trp_knight_9_29", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_9_30", slot_troop_age, 39),
				(troop_set_slot, "trp_knight_9_31", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_9_32", slot_troop_age, 18),
				(troop_set_slot, "trp_knight_9_33", slot_troop_age, 35),
				(troop_set_slot, "trp_knight_9_34", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_9_35", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_9_36", slot_troop_age, 47),
				(troop_set_slot, "trp_knight_9_37", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_9_38", slot_troop_age, 35),
				(troop_set_slot, "trp_knight_9_39", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_9_40", slot_troop_age, 49),
				(troop_set_slot, "trp_knight_9_41", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_9_42", slot_troop_age, 35),
				(troop_set_slot, "trp_knight_10_1", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_10_2", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_10_3", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_10_4", slot_troop_age, 46),
				(troop_set_slot, "trp_knight_10_5", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_10_6", slot_troop_age, 40),
				(troop_set_slot, "trp_knight_10_7", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_10_8", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_10_9", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_10_10", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_10_11", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_10_12", slot_troop_age, 21),
				(troop_set_slot, "trp_knight_10_13", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_10_14", slot_troop_age, 52),
				(troop_set_slot, "trp_knight_10_17", slot_troop_age, 18),
				(troop_set_slot, "trp_knight_10_21", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_10_23", slot_troop_age, 47),
				(troop_set_slot, "trp_knight_10_24", slot_troop_age, 57),
				(troop_set_slot, "trp_knight_10_25", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_10_27", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_11_1", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_11_2", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_11_3", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_11_4", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_11_5", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_11_6", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_11_7", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_11_8", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_11_9", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_11_10", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_11_11", slot_troop_age, 21),
				(troop_set_slot, "trp_knight_11_12", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_11_13", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_11_14", slot_troop_age, 37),
				(troop_set_slot, "trp_knight_11_15", slot_troop_age, 25),
				(troop_set_slot, "trp_knight_12_1", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_12_2", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_12_3", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_12_4", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_12_5", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_12_6", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_12_7", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_12_8", slot_troop_age, 25),
				(troop_set_slot, "trp_knight_12_9", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_13_1", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_13_2", slot_troop_age, 47),
				(troop_set_slot, "trp_knight_13_3", slot_troop_age, 48),
				(troop_set_slot, "trp_knight_13_4", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_13_5", slot_troop_age, 29),
				(troop_set_slot, "trp_knight_14_1", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_14_2", slot_troop_age, 47),
				(troop_set_slot, "trp_knight_14_3", slot_troop_age, 61),
				(troop_set_slot, "trp_knight_14_4", slot_troop_age, 29),
				(troop_set_slot, "trp_knight_14_5", slot_troop_age, 26),
				(troop_set_slot, "trp_knight_14_6", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_15_1", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_15_2", slot_troop_age, 32),
				(troop_set_slot, "trp_knight_15_3", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_15_4", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_15_5", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_15_6", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_15_7", slot_troop_age, 21),
				(troop_set_slot, "trp_knight_16_1", slot_troop_age, 49),
				(troop_set_slot, "trp_knight_16_2", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_16_3", slot_troop_age, 25),
				(troop_set_slot, "trp_knight_16_4", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_16_5", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_16_6", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_16_7", slot_troop_age, 20),
				(troop_set_slot, "trp_knight_17_1", slot_troop_age, 21),
				(troop_set_slot, "trp_knight_17_2", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_17_3", slot_troop_age, 44),
				(troop_set_slot, "trp_knight_17_4", slot_troop_age, 24),
				(troop_set_slot, "trp_knight_17_5", slot_troop_age, 68),
				(troop_set_slot, "trp_knight_17_6", slot_troop_age, 52),
				(troop_set_slot, "trp_knight_17_7", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_18_1", slot_troop_age, 49),
				(troop_set_slot, "trp_knight_18_2", slot_troop_age, 34),
				(troop_set_slot, "trp_knight_18_3", slot_troop_age, 29),
				(troop_set_slot, "trp_knight_19_1", slot_troop_age, 41),
				(troop_set_slot, "trp_knight_19_2", slot_troop_age, 51),
				(troop_set_slot, "trp_knight_19_3", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_20_1", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_20_2", slot_troop_age, 38),
				(troop_set_slot, "trp_knight_20_3", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_20_4", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_20_5", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_20_6", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_20_7", slot_troop_age, 34),
				(troop_set_slot, "trp_knight_20_8", slot_troop_age, 36),
				(troop_set_slot, "trp_knight_20_9", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_20_10", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_21_1", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_21_2", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_21_3", slot_troop_age, 34),
				(troop_set_slot, "trp_knight_21_4", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_21_5", slot_troop_age, 29),
				(troop_set_slot, "trp_knight_21_6", slot_troop_age, 21),
				(troop_set_slot, "trp_knight_21_7", slot_troop_age, 33),
				(troop_set_slot, "trp_knight_21_8", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_21_9", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_21_10", slot_troop_age, 27),
				(troop_set_slot, "trp_knight_21_11", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_21_12", slot_troop_age, 42),
				(troop_set_slot, "trp_knight_21_13", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_21_14", slot_troop_age, 66),
				(troop_set_slot, "trp_knight_21_15", slot_troop_age, 23),
				(troop_set_slot, "trp_knight_21_16", slot_troop_age, 35),
				(troop_set_slot, "trp_knight_22_1", slot_troop_age, 16),
				(troop_set_slot, "trp_knight_22_2", slot_troop_age, 15),
				(troop_set_slot, "trp_knight_22_3", slot_troop_age, 45),
				(troop_set_slot, "trp_knight_22_4", slot_troop_age, 22),
				(troop_set_slot, "trp_knight_22_5", slot_troop_age, 43),
				(troop_set_slot, "trp_knight_22_6", slot_troop_age, 19),
				(troop_set_slot, "trp_knight_22_7", slot_troop_age, 34),
				(troop_set_slot, "trp_knight_22_8", slot_troop_age, 36),
				(troop_set_slot, "trp_knight_22_9", slot_troop_age, 31),
				(troop_set_slot, "trp_knight_22_10", slot_troop_age, 19),
				(store_random_in_range, ":random_in_range_20_26_2", 20, 26),
				(try_begin),
					(eq, ":random_in_range_20_26_2", 20),
					(assign, ":random_in_range_20_26_2", 1),
				(else_try),
					(eq, ":random_in_range_20_26_2", 21),
					(assign, ":random_in_range_20_26_2", 2),
				(else_try),
					(eq, ":random_in_range_20_26_2", 22),
					(assign, ":random_in_range_20_26_2", 3),
				(else_try),
					(eq, ":random_in_range_20_26_2", 23),
					(assign, ":random_in_range_20_26_2", 4),
				(else_try),
					(eq, ":random_in_range_20_26_2", 24),
					(assign, ":random_in_range_20_26_2", 7),
				(else_try),
					(assign, ":random_in_range_20_26_2", 5),
				(try_end),
				(troop_set_slot, ":troop", slot_lord_reputation_type, ":random_in_range_20_26_2"),
			(try_end),
			(troop_set_slot, "trp_kingdom_1_lady_1", slot_troop_guardian, "trp_knight_9_37"),
			(troop_set_slot, "trp_knight_3_5", slot_troop_guardian, "trp_knight_3_6"),
			(troop_set_slot, "trp_kingdom_6_lady_1", slot_troop_guardian, "trp_knight_6_8"),
			(troop_set_slot, "trp_kingdom_1_lady_7", slot_troop_guardian, "trp_knight_1_5"),
			(troop_set_slot, "trp_kingdom_1_lady_13", slot_troop_guardian, "trp_knight_6_10"),
			(troop_set_slot, "trp_kingdom_1_lady_13", slot_troop_guardian, "trp_knight_6_10"),
			(troop_set_slot, "trp_kingdom_1_lady_19", slot_troop_guardian, "trp_knight_6_10"),
			(troop_set_slot, "trp_knight_9_37", slot_troop_guardian, "trp_kingdom_1_lady_22"),
			(troop_set_slot, "trp_knight_2_2", slot_troop_guardian, "trp_kingdom_2_lady_1"),
			(troop_set_slot, "trp_kingdom_2_lady_4", slot_troop_guardian, "trp_knight_2_11"),
			(troop_set_slot, "trp_kingdom_2_lady_10", slot_troop_guardian, "trp_kingdom_2_lady_7"),
			(troop_set_slot, "trp_knight_5_4", slot_troop_guardian, "trp_kingdom_2_lady_20"),
			(troop_set_slot, "trp_knight_5_5", slot_troop_guardian, "trp_kingdom_2_lady_25"),
			(troop_set_slot, "trp_knight_3_3", slot_troop_guardian, "trp_kingdom_3_lady_1"),
			(troop_set_slot, "trp_knight_9_11", slot_troop_guardian, "trp_kingdom_3_lady_4"),
			(troop_set_slot, "trp_knight_5_11", slot_troop_guardian, "trp_kingdom_3_lady_7"),
			(troop_set_slot, "trp_kingdom_3_lady_13", slot_troop_guardian, "trp_kingdom_3_lady_16"),
			(troop_set_slot, "trp_knight_3_13", slot_troop_guardian, "trp_kingdom_3_lady_19"),
			(troop_set_slot, "trp_knight_3_13", slot_troop_guardian, "trp_kingdom_3_lady_21"),
			(troop_set_slot, "trp_knight_9_7", slot_troop_guardian, "trp_kingdom_3_lady_24"),
			(troop_set_slot, "trp_knight_5_8", slot_troop_guardian, "trp_kingdom_5_lady_3"),
			(troop_set_slot, "trp_knight_9_19", slot_troop_guardian, "trp_kingdom_5_lady_6"),
			(troop_set_slot, "trp_knight_8_2", slot_troop_guardian, "trp_kingdom_5_lady_11"),
			(troop_set_slot, "trp_knight_1_5", slot_troop_guardian, "trp_kingdom_5_lady_14"),
			(troop_set_slot, "trp_knight_9_14", slot_troop_guardian, "trp_kingdom_5_lady_32"),
			(troop_set_slot, "trp_knight_6_8", slot_troop_guardian, "trp_kingdom_6_lady_1"),
			(troop_set_slot, "trp_knight_6_8", slot_troop_guardian, "trp_kingdom_6_lady_5"),
			(troop_set_slot, "trp_knight_6_10", slot_troop_guardian, "trp_kingdom_6_lady_9"),
			(troop_set_slot, "trp_knight_6_11", slot_troop_guardian, "trp_kingdom_6_lady_13"),
			(troop_set_slot, "trp_knight_10_17", slot_troop_guardian, "trp_kingdom_6_lady_20"),
			(troop_set_slot, "trp_knight_8_1", slot_troop_guardian, "trp_kingdom_6_lady_24"),
			(troop_set_slot, "trp_knight_8_1", slot_troop_guardian, "trp_kingdom_8_lady_1"),
			(troop_set_slot, "trp_kingdom_5_lady_39", slot_troop_guardian, "trp_knight_5_1"),
			(troop_set_slot, "trp_kingdom_5_lady_40", slot_troop_guardian, "trp_knight_5_1"),
			(troop_set_slot, "trp_kingdom_5_lady_41", slot_troop_guardian, "trp_knight_5_1"),
			(troop_set_slot, "trp_kingdom_5_lady_42", slot_troop_guardian, "trp_knight_5_1"),
			(troop_set_slot, "trp_kingdom_5_lady_43", slot_troop_guardian, "trp_knight_5_1"),
			(troop_set_slot, "trp_knight_5_1", slot_troop_guardian, "trp_kingdom_8_lady_8"),
			(troop_set_slot, "trp_knight_9_37", slot_troop_guardian, "trp_kingdom_9_lady_1"),
			(troop_set_slot, "trp_knight_9_37", slot_troop_guardian, "trp_kingdom_9_lady_3"),
			(troop_set_slot, "trp_knight_9_10", slot_troop_guardian, "trp_kingdom_9_lady_6"),
			(troop_set_slot, "trp_knight_9_16", slot_troop_guardian, "trp_kingdom_9_lady_8"),
			(troop_set_slot, "trp_knight_9_31", slot_troop_guardian, "trp_kingdom_9_lady_11"),
			(troop_set_slot, "trp_knight_9_35", slot_troop_guardian, "trp_kingdom_9_lady_19"),
			(troop_set_slot, "trp_knight_9_35", slot_troop_guardian, "trp_kingdom_9_lady_21"),
			(troop_set_slot, "trp_knight_9_35", slot_troop_guardian, "trp_kingdom_9_lady_23"),
			(troop_set_slot, "trp_knight_9_22", slot_troop_guardian, "trp_kingdom_9_lady_28"),
			(troop_set_slot, "trp_knight_9_13", slot_troop_guardian, "trp_kingdom_9_lady_31"),
			(troop_set_slot, "trp_knight_9_38", slot_troop_guardian, "trp_kingdom_9_lady_34"),
			(troop_set_slot, "trp_knight_9_38", slot_troop_guardian, "trp_kingdom_10_lady_3"),
			(troop_set_slot, "trp_knight_10_1", slot_troop_guardian, "trp_kingdom_10_lady_5"),
			(troop_set_slot, "trp_knight_10_14", slot_troop_guardian, "trp_kingdom_10_lady_7"),
			(troop_set_slot, "trp_knight_10_14", slot_troop_guardian, "trp_kingdom_10_lady_9"),
			(troop_set_slot, "trp_knight_10_24", slot_troop_guardian, "trp_kingdom_10_lady_12"),
			(troop_set_slot, "trp_knight_1_7", slot_troop_guardian, "trp_kingdom_10_lady_16"),
			(troop_set_slot, "trp_knight_10_23", slot_troop_guardian, "trp_kingdom_10_lady_29"),
			(troop_set_slot, "trp_knight_11_3", slot_troop_guardian, "trp_kingdom_11_lady_1"),
			(troop_set_slot, "trp_knight_11_9", slot_troop_guardian, "trp_kingdom_11_lady_4"),
			(troop_set_slot, "trp_knight_11_10", slot_troop_guardian, "trp_kingdom_11_lady_6"),
			(troop_set_slot, "trp_knight_11_10", slot_troop_guardian, "trp_kingdom_19_lady_1"),
			(troop_set_slot, "trp_kingdom_8_lord", slot_troop_guardian, "trp_kingdom_1_lord"),
			(troop_set_slot, "trp_kingdom_1_lord", slot_troop_spouse, "trp_kingdom_1_lady_29"),
			(troop_set_slot, "trp_kingdom_1_lady_29", slot_troop_spouse, "trp_kingdom_1_lord"),
			(troop_set_slot, "trp_kingdom_6_lady_34", slot_troop_father, "trp_kingdom_6_lord"),
			(troop_set_slot, "trp_kingdom_6_lady_34", slot_troop_mother, "trp_kingdom_6_lady_33"),
			(troop_set_slot, "trp_kingdom_6_lady_35", slot_troop_father, "trp_kingdom_6_lord"),
			(troop_set_slot, "trp_kingdom_6_lady_35", slot_troop_mother, "trp_kingdom_6_lady_33"),
			(troop_set_slot, "trp_kingdom_8_lord", slot_troop_spouse, "trp_kingdom_8_lady_18"),
			(troop_set_slot, "trp_kingdom_8_lady_18", slot_troop_spouse, "trp_kingdom_8_lord"),
			(troop_set_slot, "trp_knight_8_2", slot_troop_guardian, "trp_kingdom_8_lady_19"),
			(troop_set_slot, "trp_knight_8_6", slot_troop_spouse, "trp_kingdom_8_lady_19"),
			(troop_set_slot, "trp_kingdom_8_lady_19", slot_troop_spouse, "trp_knight_8_6"),
			(troop_set_slot, "trp_kingdom_8_lady_20", slot_troop_father, "trp_knight_8_6"),
			(troop_set_slot, "trp_kingdom_8_lady_20", slot_troop_mother, "trp_kingdom_8_lady_19"),
			(troop_set_slot, "trp_kingdom_8_lady_21", slot_troop_father, "trp_knight_8_6"),
			(troop_set_slot, "trp_kingdom_8_lady_21", slot_troop_mother, "trp_kingdom_8_lady_19"),
			(troop_set_slot, "trp_kingdom_10_lord", slot_troop_spouse, "trp_kingdom_10_lady_7"),
			(troop_set_slot, "trp_kingdom_10_lady_7", slot_troop_spouse, "trp_kingdom_10_lord"),
			(troop_set_slot, "trp_knight_1_9", slot_troop_father, "trp_kingdom_10_lord"),
			(troop_set_slot, "trp_knight_1_9", slot_troop_mother, "trp_kingdom_10_lady_7"),
			(troop_set_slot, "trp_knight_10_8", slot_troop_father, "trp_kingdom_10_lord"),
			(troop_set_slot, "trp_knight_10_8", slot_troop_mother, "trp_kingdom_10_lady_7"),
			(troop_set_slot, "trp_knight_11_15", slot_troop_father, "trp_kingdom_11_lord"),
			(troop_set_slot, "trp_knight_11_6", slot_troop_father, "trp_kingdom_11_lord"),
			(troop_set_slot, "trp_knight_9_43", slot_troop_spouse, "trp_kingdom_9_lady_41"),
			(troop_set_slot, "trp_kingdom_9_lady_41", slot_troop_spouse, "trp_knight_9_43"),
			(troop_set_slot, "trp_knight_9_2", slot_troop_spouse, "trp_kingdom_9_lady_38"),
			(troop_set_slot, "trp_kingdom_9_lady_38", slot_troop_spouse, "trp_knight_9_2"),
			(troop_set_slot, "trp_knight_9_15", slot_troop_father, "trp_knight_9_2"),
			(troop_set_slot, "trp_knight_9_15", slot_troop_mother, "trp_kingdom_9_lady_38"),
			(troop_set_slot, "trp_kingdom_9_lady_39", slot_troop_father, "trp_knight_9_2"),
			(troop_set_slot, "trp_kingdom_9_lady_39", slot_troop_mother, "trp_kingdom_9_lady_38"),
			(troop_set_slot, "trp_kingdom_9_lady_40", slot_troop_father, "trp_knight_9_2"),
			(troop_set_slot, "trp_kingdom_9_lady_40", slot_troop_mother, "trp_kingdom_9_lady_38"),
			(troop_set_slot, "trp_knight_6_13", slot_troop_guardian, "trp_knight_6_12"),
			(troop_set_slot, "trp_knight_9_8", slot_troop_guardian, "trp_kingdom_9_lord"),
			(troop_set_slot, "trp_knight_8_7", slot_troop_guardian, "trp_knight_10_24"),
			(troop_set_slot, "trp_knight_8_13", slot_troop_guardian, "trp_knight_1_11"),
			(troop_set_slot, "trp_knight_11_1", slot_troop_guardian, "trp_kingdom_11_lord"),
			(troop_set_slot, "trp_knight_2_6", slot_troop_father, "trp_knight_2_24"),
			(troop_set_slot, "trp_knight_2_15", slot_troop_father, "trp_knight_2_24"),
			(troop_set_slot, "trp_knight_2_11", slot_troop_guardian, "trp_knight_2_7"),
			(troop_set_slot, "trp_knight_2_11", slot_troop_spouse, "trp_kingdom_2_lady_34"),
			(troop_set_slot, "trp_kingdom_2_lady_34", slot_troop_spouse, "trp_knight_2_11"),
			(troop_set_slot, "trp_knight_1_2", slot_troop_spouse, "trp_kingdom_1_lady_1"),
			(troop_set_slot, "trp_kingdom_1_lady_1", slot_troop_spouse, "trp_knight_1_2"),
			(troop_set_slot, "trp_kingdom_1_lady_5", slot_troop_father, "trp_knight_1_2"),
			(troop_set_slot, "trp_kingdom_1_lady_5", slot_troop_mother, "trp_kingdom_1_lady_1"),
			(troop_set_slot, "trp_kingdom_1_lady_6", slot_troop_father, "trp_knight_1_2"),
			(troop_set_slot, "trp_kingdom_1_lady_6", slot_troop_mother, "trp_kingdom_1_lady_1"),
			(troop_set_slot, "trp_knight_1_4", slot_troop_spouse, "trp_kingdom_1_lady_7"),
			(troop_set_slot, "trp_kingdom_1_lady_7", slot_troop_spouse, "trp_knight_1_4"),
			(troop_set_slot, "trp_kingdom_1_lady_8", slot_troop_father, "trp_knight_1_4"),
			(troop_set_slot, "trp_kingdom_1_lady_8", slot_troop_mother, "trp_kingdom_1_lady_7"),
			(troop_set_slot, "trp_kingdom_1_lady_9", slot_troop_father, "trp_knight_1_4"),
			(troop_set_slot, "trp_kingdom_1_lady_9", slot_troop_mother, "trp_kingdom_1_lady_7"),
			(troop_set_slot, "trp_knight_1_15", slot_troop_guardian, "trp_knight_1_4"),
			(troop_set_slot, "trp_knight_1_5", slot_troop_spouse, "trp_kingdom_1_lady_10"),
			(troop_set_slot, "trp_kingdom_1_lady_10", slot_troop_spouse, "trp_knight_1_5"),
			(troop_set_slot, "trp_kingdom_1_lady_11", slot_troop_father, "trp_knight_1_5"),
			(troop_set_slot, "trp_kingdom_1_lady_11", slot_troop_mother, "trp_kingdom_1_lady_10"),
			(troop_set_slot, "trp_kingdom_1_lady_12", slot_troop_father, "trp_knight_1_5"),
			(troop_set_slot, "trp_kingdom_1_lady_12", slot_troop_mother, "trp_kingdom_1_lady_10"),
			(troop_set_slot, "trp_knight_1_18", slot_troop_spouse, "trp_kingdom_1_lady_13"),
			(troop_set_slot, "trp_kingdom_1_lady_13", slot_troop_spouse, "trp_knight_1_18"),
			(troop_set_slot, "trp_kingdom_1_lady_14", slot_troop_father, "trp_knight_1_18"),
			(troop_set_slot, "trp_kingdom_1_lady_14", slot_troop_mother, "trp_kingdom_1_lady_13"),
			(troop_set_slot, "trp_kingdom_1_lady_15", slot_troop_father, "trp_knight_1_18"),
			(troop_set_slot, "trp_kingdom_1_lady_15", slot_troop_mother, "trp_kingdom_1_lady_13"),
			(troop_set_slot, "trp_knight_1_14", slot_troop_father, "trp_knight_1_18"),
			(troop_set_slot, "trp_knight_1_14", slot_troop_mother, "trp_kingdom_1_lady_13"),
			(troop_set_slot, "trp_knight_1_10", slot_troop_spouse, "trp_kingdom_1_lady_16"),
			(troop_set_slot, "trp_kingdom_1_lady_16", slot_troop_spouse, "trp_knight_1_10"),
			(troop_set_slot, "trp_kingdom_1_lady_17", slot_troop_father, "trp_knight_1_10"),
			(troop_set_slot, "trp_kingdom_1_lady_17", slot_troop_mother, "trp_kingdom_1_lady_16"),
			(troop_set_slot, "trp_kingdom_1_lady_18", slot_troop_father, "trp_knight_1_10"),
			(troop_set_slot, "trp_kingdom_1_lady_18", slot_troop_mother, "trp_kingdom_1_lady_16"),
			(troop_set_slot, "trp_knight_1_11", slot_troop_spouse, "trp_kingdom_1_lady_19"),
			(troop_set_slot, "trp_kingdom_1_lady_19", slot_troop_spouse, "trp_knight_1_11"),
			(troop_set_slot, "trp_kingdom_1_lady_20", slot_troop_father, "trp_knight_1_11"),
			(troop_set_slot, "trp_kingdom_1_lady_20", slot_troop_mother, "trp_kingdom_1_lady_19"),
			(troop_set_slot, "trp_kingdom_1_lady_21", slot_troop_father, "trp_knight_1_11"),
			(troop_set_slot, "trp_kingdom_1_lady_21", slot_troop_mother, "trp_kingdom_1_lady_19"),
			(troop_set_slot, "trp_knight_1_12", slot_troop_spouse, "trp_kingdom_1_lady_22"),
			(troop_set_slot, "trp_kingdom_1_lady_22", slot_troop_spouse, "trp_knight_1_12"),
			(troop_set_slot, "trp_kingdom_1_lady_23", slot_troop_father, "trp_knight_1_12"),
			(troop_set_slot, "trp_kingdom_1_lady_23", slot_troop_mother, "trp_kingdom_1_lady_22"),
			(troop_set_slot, "trp_kingdom_1_lady_24", slot_troop_father, "trp_knight_1_12"),
			(troop_set_slot, "trp_kingdom_1_lady_24", slot_troop_mother, "trp_kingdom_1_lady_22"),
			(troop_set_slot, "trp_knight_2_1", slot_troop_spouse, "trp_kingdom_2_lady_1"),
			(troop_set_slot, "trp_kingdom_2_lady_1", slot_troop_spouse, "trp_knight_2_1"),
			(troop_set_slot, "trp_kingdom_2_lady_2", slot_troop_father, "trp_knight_2_1"),
			(troop_set_slot, "trp_kingdom_2_lady_2", slot_troop_mother, "trp_kingdom_2_lady_1"),
			(troop_set_slot, "trp_kingdom_2_lady_3", slot_troop_father, "trp_knight_2_1"),
			(troop_set_slot, "trp_kingdom_2_lady_3", slot_troop_mother, "trp_kingdom_2_lady_1"),
			(troop_set_slot, "trp_knight_2_13", slot_troop_father, "trp_knight_2_1"),
			(troop_set_slot, "trp_knight_2_13", slot_troop_mother, "trp_kingdom_2_lady_1"),
			(troop_set_slot, "trp_knight_2_2", slot_troop_spouse, "trp_kingdom_2_lady_4"),
			(troop_set_slot, "trp_kingdom_2_lady_4", slot_troop_spouse, "trp_knight_2_2"),
			(troop_set_slot, "trp_kingdom_2_lady_5", slot_troop_father, "trp_knight_2_2"),
			(troop_set_slot, "trp_kingdom_2_lady_5", slot_troop_mother, "trp_kingdom_2_lady_4"),
			(troop_set_slot, "trp_kingdom_2_lady_6", slot_troop_father, "trp_knight_2_2"),
			(troop_set_slot, "trp_kingdom_2_lady_6", slot_troop_mother, "trp_kingdom_2_lady_4"),
			(troop_set_slot, "trp_kingdom_2_lady_33", slot_troop_father, "trp_knight_2_2"),
			(troop_set_slot, "trp_kingdom_2_lady_33", slot_troop_mother, "trp_kingdom_2_lady_4"),
			(troop_set_slot, "trp_knight_2_14", slot_troop_father, "trp_knight_2_2"),
			(troop_set_slot, "trp_knight_2_14", slot_troop_mother, "trp_kingdom_2_lady_4"),
			(troop_set_slot, "trp_knight_2_6", slot_troop_spouse, "trp_kingdom_2_lady_7"),
			(troop_set_slot, "trp_kingdom_2_lady_7", slot_troop_spouse, "trp_knight_2_6"),
			(troop_set_slot, "trp_kingdom_2_lady_8", slot_troop_father, "trp_knight_2_6"),
			(troop_set_slot, "trp_kingdom_2_lady_8", slot_troop_mother, "trp_kingdom_2_lady_7"),
			(troop_set_slot, "trp_kingdom_2_lady_9", slot_troop_father, "trp_knight_2_6"),
			(troop_set_slot, "trp_kingdom_2_lady_9", slot_troop_mother, "trp_kingdom_2_lady_7"),
			(troop_set_slot, "trp_knight_2_8", slot_troop_spouse, "trp_kingdom_2_lady_10"),
			(troop_set_slot, "trp_kingdom_2_lady_10", slot_troop_spouse, "trp_knight_2_8"),
			(troop_set_slot, "trp_kingdom_2_lady_11", slot_troop_father, "trp_knight_2_8"),
			(troop_set_slot, "trp_kingdom_2_lady_11", slot_troop_mother, "trp_kingdom_2_lady_10"),
			(troop_set_slot, "trp_kingdom_2_lady_12", slot_troop_father, "trp_knight_2_8"),
			(troop_set_slot, "trp_kingdom_2_lady_12", slot_troop_mother, "trp_kingdom_2_lady_10"),
			(troop_set_slot, "trp_kingdom_2_lady_13", slot_troop_father, "trp_knight_2_8"),
			(troop_set_slot, "trp_kingdom_2_lady_13", slot_troop_mother, "trp_kingdom_2_lady_10"),
			(troop_set_slot, "trp_kingdom_2_lady_14", slot_troop_father, "trp_knight_2_8"),
			(troop_set_slot, "trp_kingdom_2_lady_14", slot_troop_mother, "trp_kingdom_2_lady_10"),
			(troop_set_slot, "trp_knight_2_21", slot_troop_father, "trp_knight_2_8"),
			(troop_set_slot, "trp_knight_2_21", slot_troop_mother, "trp_kingdom_2_lady_10"),
			(troop_set_slot, "trp_knight_2_9", slot_troop_spouse, "trp_kingdom_2_lady_15"),
			(troop_set_slot, "trp_kingdom_2_lady_15", slot_troop_spouse, "trp_knight_2_9"),
			(troop_set_slot, "trp_kingdom_2_lady_16", slot_troop_father, "trp_knight_2_9"),
			(troop_set_slot, "trp_kingdom_2_lady_16", slot_troop_mother, "trp_kingdom_2_lady_15"),
			(troop_set_slot, "trp_kingdom_2_lady_17", slot_troop_father, "trp_knight_2_9"),
			(troop_set_slot, "trp_kingdom_2_lady_17", slot_troop_mother, "trp_kingdom_2_lady_15"),
			(troop_set_slot, "trp_knight_2_18", slot_troop_father, "trp_knight_2_9"),
			(troop_set_slot, "trp_knight_2_18", slot_troop_mother, "trp_kingdom_2_lady_15"),
			(troop_set_slot, "trp_knight_2_18", slot_troop_spouse, "trp_kingdom_2_lady_18"),
			(troop_set_slot, "trp_kingdom_2_lady_18", slot_troop_spouse, "trp_knight_2_18"),
			(troop_set_slot, "trp_kingdom_2_lady_19", slot_troop_father, "trp_knight_2_18"),
			(troop_set_slot, "trp_kingdom_2_lady_19", slot_troop_mother, "trp_kingdom_2_lady_18"),
			(troop_set_slot, "trp_knight_2_4", slot_troop_spouse, "trp_kingdom_2_lady_20"),
			(troop_set_slot, "trp_kingdom_2_lady_20", slot_troop_spouse, "trp_knight_2_4"),
			(troop_set_slot, "trp_kingdom_2_lady_21", slot_troop_father, "trp_knight_2_4"),
			(troop_set_slot, "trp_kingdom_2_lady_21", slot_troop_mother, "trp_kingdom_2_lady_20"),
			(troop_set_slot, "trp_kingdom_2_lady_22", slot_troop_father, "trp_knight_2_4"),
			(troop_set_slot, "trp_kingdom_2_lady_22", slot_troop_mother, "trp_kingdom_2_lady_20"),
			(troop_set_slot, "trp_kingdom_2_lady_23", slot_troop_father, "trp_knight_2_4"),
			(troop_set_slot, "trp_kingdom_2_lady_23", slot_troop_mother, "trp_kingdom_2_lady_20"),
			(troop_set_slot, "trp_kingdom_2_lady_24", slot_troop_father, "trp_knight_2_4"),
			(troop_set_slot, "trp_kingdom_2_lady_24", slot_troop_mother, "trp_kingdom_2_lady_20"),
			(troop_set_slot, "trp_knight_2_12", slot_troop_spouse, "trp_kingdom_2_lady_25"),
			(troop_set_slot, "trp_kingdom_2_lady_25", slot_troop_spouse, "trp_knight_2_12"),
			(troop_set_slot, "trp_kingdom_2_lady_26", slot_troop_father, "trp_knight_2_12"),
			(troop_set_slot, "trp_kingdom_2_lady_26", slot_troop_mother, "trp_kingdom_2_lady_25"),
			(troop_set_slot, "trp_kingdom_2_lady_27", slot_troop_father, "trp_knight_2_12"),
			(troop_set_slot, "trp_kingdom_2_lady_27", slot_troop_mother, "trp_kingdom_2_lady_25"),
			(troop_set_slot, "trp_kingdom_2_lady_28", slot_troop_father, "trp_knight_2_12"),
			(troop_set_slot, "trp_kingdom_2_lady_28", slot_troop_mother, "trp_kingdom_2_lady_25"),
			(troop_set_slot, "trp_kingdom_2_lady_34", slot_troop_father, "trp_knight_2_12"),
			(troop_set_slot, "trp_kingdom_2_lady_34", slot_troop_mother, "trp_kingdom_2_lady_25"),
			(troop_set_slot, "trp_knight_3_1", slot_troop_spouse, "trp_kingdom_3_lady_1"),
			(troop_set_slot, "trp_kingdom_3_lady_1", slot_troop_spouse, "trp_knight_3_1"),
			(troop_set_slot, "trp_kingdom_3_lady_2", slot_troop_father, "trp_knight_3_1"),
			(troop_set_slot, "trp_kingdom_3_lady_2", slot_troop_mother, "trp_kingdom_3_lady_1"),
			(troop_set_slot, "trp_kingdom_3_lady_3", slot_troop_father, "trp_knight_3_1"),
			(troop_set_slot, "trp_kingdom_3_lady_3", slot_troop_mother, "trp_kingdom_3_lady_1"),
			(troop_set_slot, "trp_knight_3_22", slot_troop_father, "trp_knight_3_1"),
			(troop_set_slot, "trp_knight_3_22", slot_troop_mother, "trp_kingdom_3_lady_1"),
			(troop_set_slot, "trp_knight_3_2", slot_troop_spouse, "trp_kingdom_3_lady_4"),
			(troop_set_slot, "trp_kingdom_3_lady_4", slot_troop_spouse, "trp_knight_3_2"),
			(troop_set_slot, "trp_kingdom_3_lady_5", slot_troop_father, "trp_knight_3_2"),
			(troop_set_slot, "trp_kingdom_3_lady_5", slot_troop_mother, "trp_kingdom_3_lady_4"),
			(troop_set_slot, "trp_kingdom_3_lady_6", slot_troop_father, "trp_knight_3_2"),
			(troop_set_slot, "trp_kingdom_3_lady_6", slot_troop_mother, "trp_kingdom_3_lady_4"),
			(troop_set_slot, "trp_knight_3_3", slot_troop_spouse, "trp_kingdom_3_lady_7"),
			(troop_set_slot, "trp_kingdom_3_lady_7", slot_troop_spouse, "trp_knight_3_3"),
			(troop_set_slot, "trp_kingdom_3_lady_8", slot_troop_father, "trp_knight_3_3"),
			(troop_set_slot, "trp_kingdom_3_lady_8", slot_troop_mother, "trp_kingdom_3_lady_7"),
			(troop_set_slot, "trp_kingdom_3_lady_9", slot_troop_father, "trp_knight_3_3"),
			(troop_set_slot, "trp_kingdom_3_lady_9", slot_troop_mother, "trp_kingdom_3_lady_7"),
			(troop_set_slot, "trp_knight_3_9", slot_troop_spouse, "trp_kingdom_3_lady_13"),
			(troop_set_slot, "trp_kingdom_3_lady_13", slot_troop_spouse, "trp_knight_3_9"),
			(troop_set_slot, "trp_kingdom_3_lady_14", slot_troop_father, "trp_knight_3_9"),
			(troop_set_slot, "trp_kingdom_3_lady_14", slot_troop_mother, "trp_kingdom_3_lady_13"),
			(troop_set_slot, "trp_kingdom_3_lady_15", slot_troop_father, "trp_knight_3_9"),
			(troop_set_slot, "trp_kingdom_3_lady_15", slot_troop_mother, "trp_kingdom_3_lady_13"),
			(troop_set_slot, "trp_knight_3_10", slot_troop_spouse, "trp_kingdom_3_lady_16"),
			(troop_set_slot, "trp_kingdom_3_lady_16", slot_troop_spouse, "trp_knight_3_10"),
			(troop_set_slot, "trp_kingdom_3_lady_17", slot_troop_father, "trp_knight_3_10"),
			(troop_set_slot, "trp_kingdom_3_lady_17", slot_troop_mother, "trp_kingdom_3_lady_16"),
			(troop_set_slot, "trp_kingdom_3_lady_18", slot_troop_father, "trp_knight_3_10"),
			(troop_set_slot, "trp_kingdom_3_lady_18", slot_troop_mother, "trp_kingdom_3_lady_16"),
			(troop_set_slot, "trp_knight_3_11", slot_troop_spouse, "trp_kingdom_3_lady_19"),
			(troop_set_slot, "trp_kingdom_3_lady_19", slot_troop_spouse, "trp_knight_3_11"),
			(troop_set_slot, "trp_kingdom_3_lady_20", slot_troop_father, "trp_knight_3_11"),
			(troop_set_slot, "trp_kingdom_3_lady_20", slot_troop_mother, "trp_kingdom_3_lady_19"),
			(troop_set_slot, "trp_knight_3_12", slot_troop_spouse, "trp_kingdom_3_lady_21"),
			(troop_set_slot, "trp_kingdom_3_lady_21", slot_troop_spouse, "trp_knight_3_12"),
			(troop_set_slot, "trp_kingdom_3_lady_22", slot_troop_father, "trp_knight_3_12"),
			(troop_set_slot, "trp_kingdom_3_lady_22", slot_troop_mother, "trp_kingdom_3_lady_21"),
			(troop_set_slot, "trp_kingdom_3_lady_23", slot_troop_father, "trp_knight_3_12"),
			(troop_set_slot, "trp_kingdom_3_lady_23", slot_troop_mother, "trp_kingdom_3_lady_21"),
			(troop_set_slot, "trp_knight_3_15", slot_troop_father, "trp_knight_3_12"),
			(troop_set_slot, "trp_knight_3_15", slot_troop_mother, "trp_kingdom_3_lady_21"),
			(troop_set_slot, "trp_knight_3_13", slot_troop_spouse, "trp_kingdom_3_lady_24"),
			(troop_set_slot, "trp_kingdom_3_lady_24", slot_troop_spouse, "trp_knight_3_13"),
			(troop_set_slot, "trp_kingdom_3_lady_25", slot_troop_father, "trp_knight_3_13"),
			(troop_set_slot, "trp_kingdom_3_lady_25", slot_troop_mother, "trp_kingdom_3_lady_24"),
			(troop_set_slot, "trp_kingdom_3_lady_26", slot_troop_father, "trp_knight_3_13"),
			(troop_set_slot, "trp_kingdom_3_lady_26", slot_troop_mother, "trp_kingdom_3_lady_24"),
			(troop_set_slot, "trp_knight_3_14", slot_troop_father, "trp_knight_3_13"),
			(troop_set_slot, "trp_knight_3_14", slot_troop_mother, "trp_kingdom_3_lady_24"),
			(troop_set_slot, "trp_knight_4_10", slot_troop_spouse, "trp_kingdom_4_lady_1"),
			(troop_set_slot, "trp_kingdom_4_lady_1", slot_troop_spouse, "trp_knight_4_10"),
			(troop_set_slot, "trp_kingdom_4_lady_2", slot_troop_father, "trp_knight_4_10"),
			(troop_set_slot, "trp_kingdom_4_lady_2", slot_troop_mother, "trp_kingdom_4_lady_1"),
			(troop_set_slot, "trp_kingdom_4_lady_3", slot_troop_father, "trp_knight_4_10"),
			(troop_set_slot, "trp_kingdom_4_lady_3", slot_troop_mother, "trp_kingdom_4_lady_1"),
			(troop_set_slot, "trp_knight_4_9", slot_troop_father, "trp_knight_4_10"),
			(troop_set_slot, "trp_knight_4_9", slot_troop_mother, "trp_kingdom_4_lady_1"),
			(troop_set_slot, "trp_knight_4_8", slot_troop_father, "trp_knight_4_10"),
			(troop_set_slot, "trp_knight_4_8", slot_troop_mother, "trp_kingdom_4_lady_1"),
			(troop_set_slot, "trp_knight_4_4", slot_troop_spouse, "trp_kingdom_4_lady_4"),
			(troop_set_slot, "trp_kingdom_4_lady_4", slot_troop_spouse, "trp_knight_4_4"),
			(troop_set_slot, "trp_kingdom_4_lady_5", slot_troop_father, "trp_knight_4_4"),
			(troop_set_slot, "trp_kingdom_4_lady_5", slot_troop_mother, "trp_kingdom_4_lady_4"),
			(troop_set_slot, "trp_kingdom_4_lady_6", slot_troop_father, "trp_knight_4_4"),
			(troop_set_slot, "trp_kingdom_4_lady_6", slot_troop_mother, "trp_kingdom_4_lady_4"),
			(troop_set_slot, "trp_knight_4_12", slot_troop_father, "trp_knight_4_4"),
			(troop_set_slot, "trp_knight_4_12", slot_troop_mother, "trp_kingdom_4_lady_4"),
			(troop_set_slot, "trp_knight_4_2", slot_troop_spouse, "trp_kingdom_4_lady_7"),
			(troop_set_slot, "trp_kingdom_4_lady_7", slot_troop_spouse, "trp_knight_4_2"),
			(troop_set_slot, "trp_kingdom_4_lady_8", slot_troop_father, "trp_knight_4_2"),
			(troop_set_slot, "trp_kingdom_4_lady_8", slot_troop_mother, "trp_kingdom_4_lady_7"),
			(troop_set_slot, "trp_kingdom_4_lady_9", slot_troop_father, "trp_knight_4_2"),
			(troop_set_slot, "trp_kingdom_4_lady_9", slot_troop_mother, "trp_kingdom_4_lady_7"),
			(troop_set_slot, "trp_kingdom_4_lady_10", slot_troop_father, "trp_knight_4_2"),
			(troop_set_slot, "trp_kingdom_4_lady_10", slot_troop_mother, "trp_kingdom_4_lady_7"),
			(troop_set_slot, "trp_knight_4_5", slot_troop_spouse, "trp_kingdom_4_lady_11"),
			(troop_set_slot, "trp_kingdom_4_lady_11", slot_troop_spouse, "trp_knight_4_5"),
			(troop_set_slot, "trp_kingdom_4_lady_12", slot_troop_father, "trp_knight_4_5"),
			(troop_set_slot, "trp_kingdom_4_lady_12", slot_troop_mother, "trp_kingdom_4_lady_11"),
			(troop_set_slot, "trp_kingdom_4_lady_13", slot_troop_father, "trp_knight_4_5"),
			(troop_set_slot, "trp_kingdom_4_lady_13", slot_troop_mother, "trp_kingdom_4_lady_11"),
			(troop_set_slot, "trp_kingdom_4_lady_14", slot_troop_father, "trp_knight_4_5"),
			(troop_set_slot, "trp_kingdom_4_lady_14", slot_troop_mother, "trp_kingdom_4_lady_11"),
			(troop_set_slot, "trp_kingdom_4_lady_15", slot_troop_father, "trp_knight_4_5"),
			(troop_set_slot, "trp_kingdom_4_lady_15", slot_troop_mother, "trp_kingdom_4_lady_11"),
			(troop_set_slot, "trp_knight_4_6", slot_troop_father, "trp_knight_4_5"),
			(troop_set_slot, "trp_knight_4_6", slot_troop_mother, "trp_kingdom_4_lady_11"),
			(troop_set_slot, "trp_kingdom_5_lady_34", slot_troop_spouse, "trp_knight_5_1"),
			(troop_set_slot, "trp_knight_5_13", slot_troop_father, "trp_knight_5_1"),
			(troop_set_slot, "trp_knight_5_13", slot_troop_mother, "trp_kingdom_5_lady_34"),
			(troop_set_slot, "trp_knight_5_13", slot_troop_spouse, "trp_kingdom_5_lady_35"),
			(troop_set_slot, "trp_kingdom_5_lady_35", slot_troop_spouse, "trp_knight_5_13"),
			(troop_set_slot, "trp_knight_5_3", slot_troop_father, "trp_knight_5_13"),
			(troop_set_slot, "trp_knight_5_3", slot_troop_mother, "trp_kingdom_5_lady_35"),
			(troop_set_slot, "trp_knight_5_2", slot_troop_father, "trp_knight_5_13"),
			(troop_set_slot, "trp_knight_5_2", slot_troop_mother, "trp_kingdom_5_lady_35"),
			(troop_set_slot, "trp_knight_5_3", slot_troop_spouse, "trp_kingdom_5_lady_36"),
			(troop_set_slot, "trp_kingdom_5_lady_36", slot_troop_spouse, "trp_knight_5_3"),
			(troop_set_slot, "trp_kingdom_5_lady_37", slot_troop_guardian, "trp_knight_5_1"),
			(troop_set_slot, "trp_kingdom_5_lady_38", slot_troop_father, "trp_knight_5_3"),
			(troop_set_slot, "trp_kingdom_5_lady_38", slot_troop_mother, "trp_kingdom_5_lady_36"),
			(troop_set_slot, "trp_knight_5_4", slot_troop_spouse, "trp_kingdom_5_lady_3"),
			(troop_set_slot, "trp_kingdom_5_lady_3", slot_troop_spouse, "trp_knight_5_4"),
			(troop_set_slot, "trp_kingdom_5_lady_4", slot_troop_father, "trp_knight_5_4"),
			(troop_set_slot, "trp_kingdom_5_lady_4", slot_troop_mother, "trp_kingdom_5_lady_3"),
			(troop_set_slot, "trp_kingdom_5_lady_5", slot_troop_father, "trp_knight_5_4"),
			(troop_set_slot, "trp_kingdom_5_lady_5", slot_troop_mother, "trp_kingdom_5_lady_3"),
			(troop_set_slot, "trp_knight_5_6", slot_troop_spouse, "trp_kingdom_5_lady_6"),
			(troop_set_slot, "trp_kingdom_5_lady_6", slot_troop_spouse, "trp_knight_5_6"),
			(troop_set_slot, "trp_kingdom_5_lady_7", slot_troop_father, "trp_knight_5_6"),
			(troop_set_slot, "trp_kingdom_5_lady_7", slot_troop_mother, "trp_kingdom_5_lady_6"),
			(troop_set_slot, "trp_kingdom_5_lady_8", slot_troop_father, "trp_knight_5_6"),
			(troop_set_slot, "trp_kingdom_5_lady_8", slot_troop_mother, "trp_kingdom_5_lady_6"),
			(troop_set_slot, "trp_kingdom_5_lady_9", slot_troop_father, "trp_knight_5_6"),
			(troop_set_slot, "trp_kingdom_5_lady_9", slot_troop_mother, "trp_kingdom_5_lady_6"),
			(troop_set_slot, "trp_kingdom_5_lady_10", slot_troop_father, "trp_knight_5_6"),
			(troop_set_slot, "trp_kingdom_5_lady_10", slot_troop_mother, "trp_kingdom_5_lady_6"),
			(troop_set_slot, "trp_knight_5_7", slot_troop_spouse, "trp_kingdom_5_lady_11"),
			(troop_set_slot, "trp_kingdom_5_lady_11", slot_troop_spouse, "trp_knight_5_7"),
			(troop_set_slot, "trp_kingdom_5_lady_12", slot_troop_father, "trp_knight_5_7"),
			(troop_set_slot, "trp_kingdom_5_lady_12", slot_troop_mother, "trp_kingdom_5_lady_11"),
			(troop_set_slot, "trp_kingdom_5_lady_13", slot_troop_father, "trp_knight_5_7"),
			(troop_set_slot, "trp_kingdom_5_lady_13", slot_troop_mother, "trp_kingdom_5_lady_11"),
			(troop_set_slot, "trp_knight_5_8", slot_troop_spouse, "trp_kingdom_5_lady_14"),
			(troop_set_slot, "trp_kingdom_5_lady_14", slot_troop_spouse, "trp_knight_5_8"),
			(troop_set_slot, "trp_kingdom_5_lady_15", slot_troop_father, "trp_knight_5_8"),
			(troop_set_slot, "trp_kingdom_5_lady_15", slot_troop_mother, "trp_kingdom_5_lady_14"),
			(troop_set_slot, "trp_kingdom_5_lady_16", slot_troop_father, "trp_knight_5_8"),
			(troop_set_slot, "trp_kingdom_5_lady_16", slot_troop_mother, "trp_kingdom_5_lady_14"),
			(troop_set_slot, "trp_kingdom_5_lady_17", slot_troop_father, "trp_knight_5_8"),
			(troop_set_slot, "trp_kingdom_5_lady_17", slot_troop_mother, "trp_kingdom_5_lady_14"),
			(troop_set_slot, "trp_knight_5_9", slot_troop_father, "trp_knight_5_8"),
			(troop_set_slot, "trp_knight_5_9", slot_troop_mother, "trp_kingdom_5_lady_14"),
			(troop_set_slot, "trp_knight_5_11", slot_troop_spouse, "trp_kingdom_5_lady_18"),
			(troop_set_slot, "trp_kingdom_5_lady_18", slot_troop_spouse, "trp_knight_5_11"),
			(troop_set_slot, "trp_kingdom_5_lady_19", slot_troop_father, "trp_knight_5_11"),
			(troop_set_slot, "trp_kingdom_5_lady_19", slot_troop_mother, "trp_kingdom_5_lady_18"),
			(troop_set_slot, "trp_knight_5_5", slot_troop_spouse, "trp_kingdom_5_lady_32"),
			(troop_set_slot, "trp_kingdom_5_lady_32", slot_troop_spouse, "trp_knight_5_5"),
			(troop_set_slot, "trp_kingdom_5_lady_33", slot_troop_father, "trp_knight_5_5"),
			(troop_set_slot, "trp_kingdom_5_lady_33", slot_troop_mother, "trp_kingdom_5_lady_32"),
			(troop_set_slot, "trp_knight_6_3", slot_troop_spouse, "trp_kingdom_6_lady_1"),
			(troop_set_slot, "trp_kingdom_6_lady_1", slot_troop_spouse, "trp_knight_6_3"),
			(troop_set_slot, "trp_kingdom_6_lady_2", slot_troop_father, "trp_knight_6_3"),
			(troop_set_slot, "trp_kingdom_6_lady_2", slot_troop_mother, "trp_kingdom_6_lady_1"),
			(troop_set_slot, "trp_kingdom_6_lady_3", slot_troop_father, "trp_knight_6_3"),
			(troop_set_slot, "trp_kingdom_6_lady_3", slot_troop_mother, "trp_kingdom_6_lady_1"),
			(troop_set_slot, "trp_kingdom_6_lady_4", slot_troop_father, "trp_knight_6_3"),
			(troop_set_slot, "trp_kingdom_6_lady_4", slot_troop_mother, "trp_kingdom_6_lady_1"),
			(troop_set_slot, "trp_knight_6_4", slot_troop_spouse, "trp_kingdom_6_lady_5"),
			(troop_set_slot, "trp_kingdom_6_lady_5", slot_troop_spouse, "trp_knight_6_4"),
			(troop_set_slot, "trp_kingdom_6_lady_6", slot_troop_father, "trp_knight_6_4"),
			(troop_set_slot, "trp_kingdom_6_lady_6", slot_troop_mother, "trp_kingdom_6_lady_5"),
			(troop_set_slot, "trp_kingdom_6_lady_7", slot_troop_father, "trp_knight_6_4"),
			(troop_set_slot, "trp_kingdom_6_lady_7", slot_troop_mother, "trp_kingdom_6_lady_5"),
			(troop_set_slot, "trp_kingdom_6_lady_8", slot_troop_father, "trp_knight_6_4"),
			(troop_set_slot, "trp_kingdom_6_lady_8", slot_troop_mother, "trp_kingdom_6_lady_5"),
			(troop_set_slot, "trp_knight_6_8", slot_troop_spouse, "trp_kingdom_6_lady_9"),
			(troop_set_slot, "trp_kingdom_6_lady_9", slot_troop_spouse, "trp_knight_6_8"),
			(troop_set_slot, "trp_kingdom_6_lady_10", slot_troop_father, "trp_knight_6_8"),
			(troop_set_slot, "trp_kingdom_6_lady_10", slot_troop_mother, "trp_kingdom_6_lady_9"),
			(troop_set_slot, "trp_kingdom_6_lady_11", slot_troop_father, "trp_knight_6_8"),
			(troop_set_slot, "trp_kingdom_6_lady_11", slot_troop_mother, "trp_kingdom_6_lady_9"),
			(troop_set_slot, "trp_kingdom_6_lady_12", slot_troop_father, "trp_knight_6_8"),
			(troop_set_slot, "trp_kingdom_6_lady_12", slot_troop_mother, "trp_kingdom_6_lady_9"),
			(troop_set_slot, "trp_knight_6_9", slot_troop_spouse, "trp_kingdom_6_lady_13"),
			(troop_set_slot, "trp_kingdom_6_lady_13", slot_troop_spouse, "trp_knight_6_9"),
			(troop_set_slot, "trp_kingdom_6_lady_14", slot_troop_father, "trp_knight_6_9"),
			(troop_set_slot, "trp_kingdom_6_lady_14", slot_troop_mother, "trp_kingdom_6_lady_13"),
			(troop_set_slot, "trp_kingdom_6_lady_15", slot_troop_father, "trp_knight_6_9"),
			(troop_set_slot, "trp_kingdom_6_lady_15", slot_troop_mother, "trp_kingdom_6_lady_13"),
			(troop_set_slot, "trp_kingdom_6_lady_16", slot_troop_father, "trp_knight_6_9"),
			(troop_set_slot, "trp_kingdom_6_lady_16", slot_troop_mother, "trp_kingdom_6_lady_13"),
			(troop_set_slot, "trp_kingdom_6_lady_17", slot_troop_father, "trp_knight_6_9"),
			(troop_set_slot, "trp_kingdom_6_lady_17", slot_troop_mother, "trp_kingdom_6_lady_13"),
			(troop_set_slot, "trp_knight_6_18", slot_troop_father, "trp_knight_6_9"),
			(troop_set_slot, "trp_knight_6_18", slot_troop_mother, "trp_kingdom_6_lady_13"),
			(troop_set_slot, "trp_kingdom_6_lady_33", slot_troop_father, "trp_knight_6_9"),
			(troop_set_slot, "trp_knight_6_14", slot_troop_spouse, "trp_kingdom_6_lady_20"),
			(troop_set_slot, "trp_kingdom_6_lady_20", slot_troop_spouse, "trp_knight_6_14"),
			(troop_set_slot, "trp_kingdom_6_lady_21", slot_troop_father, "trp_knight_6_14"),
			(troop_set_slot, "trp_kingdom_6_lady_21", slot_troop_mother, "trp_kingdom_6_lady_20"),
			(troop_set_slot, "trp_kingdom_6_lady_22", slot_troop_father, "trp_knight_6_14"),
			(troop_set_slot, "trp_kingdom_6_lady_22", slot_troop_mother, "trp_kingdom_6_lady_20"),
			(troop_set_slot, "trp_kingdom_6_lady_23", slot_troop_father, "trp_knight_6_14"),
			(troop_set_slot, "trp_kingdom_6_lady_23", slot_troop_mother, "trp_kingdom_6_lady_20"),
			(troop_set_slot, "trp_knight_6_19", slot_troop_spouse, "trp_kingdom_6_lady_24"),
			(troop_set_slot, "trp_kingdom_6_lady_24", slot_troop_spouse, "trp_knight_6_19"),
			(troop_set_slot, "trp_kingdom_6_lady_25", slot_troop_father, "trp_knight_6_19"),
			(troop_set_slot, "trp_kingdom_6_lady_25", slot_troop_mother, "trp_kingdom_6_lady_24"),
			(troop_set_slot, "trp_knight_6_10", slot_troop_spouse, "trp_kingdom_6_lady_26"),
			(troop_set_slot, "trp_kingdom_6_lady_26", slot_troop_spouse, "trp_knight_6_10"),
			(troop_set_slot, "trp_knight_6_15", slot_troop_father, "trp_knight_6_10"),
			(troop_set_slot, "trp_knight_6_15", slot_troop_mother, "trp_kingdom_6_lady_26"),
			(troop_set_slot, "trp_knight_6_17", slot_troop_father, "trp_knight_6_10"),
			(troop_set_slot, "trp_knight_6_17", slot_troop_mother, "trp_kingdom_6_lady_26"),
			(troop_set_slot, "trp_knight_8_2", slot_troop_spouse, "trp_kingdom_8_lady_1"),
			(troop_set_slot, "trp_kingdom_8_lady_1", slot_troop_spouse, "trp_knight_8_2"),
			(troop_set_slot, "trp_kingdom_8_lady_2", slot_troop_father, "trp_knight_8_2"),
			(troop_set_slot, "trp_kingdom_8_lady_2", slot_troop_mother, "trp_kingdom_8_lady_1"),
			(troop_set_slot, "trp_kingdom_8_lady_3", slot_troop_father, "trp_knight_8_2"),
			(troop_set_slot, "trp_kingdom_8_lady_3", slot_troop_mother, "trp_kingdom_8_lady_1"),
			(troop_set_slot, "trp_knight_8_13", slot_troop_spouse, "trp_kingdom_8_lady_8"),
			(troop_set_slot, "trp_kingdom_8_lady_8", slot_troop_spouse, "trp_knight_8_13"),
			(troop_set_slot, "trp_kingdom_8_lady_9", slot_troop_father, "trp_knight_8_13"),
			(troop_set_slot, "trp_kingdom_8_lady_9", slot_troop_mother, "trp_kingdom_8_lady_8"),
			(troop_set_slot, "trp_kingdom_8_lady_10", slot_troop_father, "trp_knight_8_13"),
			(troop_set_slot, "trp_kingdom_8_lady_10", slot_troop_mother, "trp_kingdom_8_lady_8"),
			(troop_set_slot, "trp_knight_8_12", slot_troop_father, "trp_knight_8_13"),
			(troop_set_slot, "trp_knight_8_12", slot_troop_mother, "trp_kingdom_8_lady_8"),
			(troop_set_slot, "trp_knight_8_3", slot_troop_spouse, "trp_kingdom_8_lady_14"),
			(troop_set_slot, "trp_kingdom_8_lady_14", slot_troop_spouse, "trp_knight_8_3"),
			(troop_set_slot, "trp_knight_9_1", slot_troop_spouse, "trp_kingdom_9_lady_1"),
			(troop_set_slot, "trp_kingdom_9_lady_1", slot_troop_spouse, "trp_knight_9_1"),
			(troop_set_slot, "trp_kingdom_9_lady_2", slot_troop_father, "trp_knight_9_1"),
			(troop_set_slot, "trp_kingdom_9_lady_2", slot_troop_mother, "trp_kingdom_9_lady_1"),
			(troop_set_slot, "trp_knight_9_3", slot_troop_spouse, "trp_kingdom_9_lady_3"),
			(troop_set_slot, "trp_kingdom_9_lady_3", slot_troop_spouse, "trp_knight_9_3"),
			(troop_set_slot, "trp_kingdom_9_lady_4", slot_troop_father, "trp_knight_9_3"),
			(troop_set_slot, "trp_kingdom_9_lady_4", slot_troop_mother, "trp_kingdom_9_lady_3"),
			(troop_set_slot, "trp_kingdom_9_lady_5", slot_troop_father, "trp_knight_9_3"),
			(troop_set_slot, "trp_kingdom_9_lady_5", slot_troop_mother, "trp_kingdom_9_lady_3"),
			(troop_set_slot, "trp_knight_9_17", slot_troop_father, "trp_knight_9_3"),
			(troop_set_slot, "trp_knight_9_17", slot_troop_mother, "trp_kingdom_9_lady_3"),
			(troop_set_slot, "trp_knight_9_18", slot_troop_father, "trp_knight_9_3"),
			(troop_set_slot, "trp_knight_9_18", slot_troop_mother, "trp_kingdom_9_lady_3"),
			(troop_set_slot, "trp_knight_9_4", slot_troop_spouse, "trp_kingdom_9_lady_6"),
			(troop_set_slot, "trp_kingdom_9_lady_6", slot_troop_spouse, "trp_knight_9_4"),
			(troop_set_slot, "trp_kingdom_9_lady_7", slot_troop_father, "trp_knight_9_4"),
			(troop_set_slot, "trp_kingdom_9_lady_7", slot_troop_mother, "trp_kingdom_9_lady_6"),
			(troop_set_slot, "trp_knight_9_5", slot_troop_father, "trp_knight_9_4"),
			(troop_set_slot, "trp_knight_9_5", slot_troop_mother, "trp_kingdom_9_lady_6"),
			(troop_set_slot, "trp_knight_9_8", slot_troop_spouse, "trp_kingdom_9_lady_7"),
			(troop_set_slot, "trp_kingdom_9_lady_7", slot_troop_spouse, "trp_knight_9_8"),
			(troop_set_slot, "trp_kingdom_9_lady_37", slot_troop_father, "trp_knight_9_8"),
			(troop_set_slot, "trp_kingdom_9_lady_37", slot_troop_mother, "trp_kingdom_9_lady_7"),
			(troop_set_slot, "trp_knight_9_7", slot_troop_spouse, "trp_kingdom_9_lady_8"),
			(troop_set_slot, "trp_kingdom_9_lady_8", slot_troop_spouse, "trp_knight_9_7"),
			(troop_set_slot, "trp_kingdom_9_lady_9", slot_troop_father, "trp_knight_9_7"),
			(troop_set_slot, "trp_kingdom_9_lady_9", slot_troop_mother, "trp_kingdom_9_lady_8"),
			(troop_set_slot, "trp_kingdom_9_lady_10", slot_troop_father, "trp_knight_9_7"),
			(troop_set_slot, "trp_kingdom_9_lady_10", slot_troop_mother, "trp_kingdom_9_lady_8"),
			(troop_set_slot, "trp_knight_9_21", slot_troop_father, "trp_knight_9_7"),
			(troop_set_slot, "trp_knight_9_21", slot_troop_mother, "trp_kingdom_9_lady_8"),
			(troop_set_slot, "trp_knight_9_27", slot_troop_father, "trp_knight_9_7"),
			(troop_set_slot, "trp_knight_9_27", slot_troop_mother, "trp_kingdom_9_lady_8"),
			(troop_set_slot, "trp_knight_9_10", slot_troop_spouse, "trp_kingdom_9_lady_11"),
			(troop_set_slot, "trp_kingdom_9_lady_11", slot_troop_spouse, "trp_knight_9_10"),
			(troop_set_slot, "trp_kingdom_9_lady_12", slot_troop_father, "trp_knight_9_10"),
			(troop_set_slot, "trp_kingdom_9_lady_12", slot_troop_mother, "trp_kingdom_9_lady_11"),
			(troop_set_slot, "trp_kingdom_9_lady_13", slot_troop_father, "trp_knight_9_10"),
			(troop_set_slot, "trp_kingdom_9_lady_13", slot_troop_mother, "trp_kingdom_9_lady_11"),
			(troop_set_slot, "trp_kingdom_9_lady_14", slot_troop_father, "trp_knight_9_10"),
			(troop_set_slot, "trp_kingdom_9_lady_14", slot_troop_mother, "trp_kingdom_9_lady_11"),
			(troop_set_slot, "trp_knight_9_24", slot_troop_father, "trp_knight_9_10"),
			(troop_set_slot, "trp_knight_9_24", slot_troop_mother, "trp_kingdom_9_lady_11"),
			(troop_set_slot, "trp_knight_9_13", slot_troop_spouse, "trp_kingdom_9_lady_15"),
			(troop_set_slot, "trp_kingdom_9_lady_15", slot_troop_spouse, "trp_knight_9_13"),
			(troop_set_slot, "trp_kingdom_9_lady_16", slot_troop_father, "trp_knight_9_13"),
			(troop_set_slot, "trp_kingdom_9_lady_16", slot_troop_mother, "trp_kingdom_9_lady_15"),
			(troop_set_slot, "trp_kingdom_9_lady_17", slot_troop_father, "trp_knight_9_13"),
			(troop_set_slot, "trp_kingdom_9_lady_17", slot_troop_mother, "trp_kingdom_9_lady_15"),
			(troop_set_slot, "trp_kingdom_9_lady_18", slot_troop_father, "trp_knight_9_13"),
			(troop_set_slot, "trp_kingdom_9_lady_18", slot_troop_mother, "trp_kingdom_9_lady_15"),
			(troop_set_slot, "trp_knight_9_16", slot_troop_spouse, "trp_kingdom_9_lady_19"),
			(troop_set_slot, "trp_kingdom_9_lady_19", slot_troop_spouse, "trp_knight_9_16"),
			(troop_set_slot, "trp_kingdom_9_lady_20", slot_troop_father, "trp_knight_9_16"),
			(troop_set_slot, "trp_kingdom_9_lady_20", slot_troop_mother, "trp_kingdom_9_lady_19"),
			(troop_set_slot, "trp_knight_9_19", slot_troop_spouse, "trp_kingdom_9_lady_21"),
			(troop_set_slot, "trp_kingdom_9_lady_21", slot_troop_spouse, "trp_knight_9_19"),
			(troop_set_slot, "trp_kingdom_9_lady_22", slot_troop_father, "trp_knight_9_19"),
			(troop_set_slot, "trp_kingdom_9_lady_22", slot_troop_mother, "trp_kingdom_9_lady_21"),
			(troop_set_slot, "trp_knight_9_28", slot_troop_spouse, "trp_kingdom_9_lady_23"),
			(troop_set_slot, "trp_kingdom_9_lady_23", slot_troop_spouse, "trp_knight_9_28"),
			(troop_set_slot, "trp_kingdom_9_lady_24", slot_troop_father, "trp_knight_9_28"),
			(troop_set_slot, "trp_kingdom_9_lady_24", slot_troop_mother, "trp_kingdom_9_lady_23"),
			(troop_set_slot, "trp_kingdom_9_lady_25", slot_troop_father, "trp_knight_9_28"),
			(troop_set_slot, "trp_kingdom_9_lady_25", slot_troop_mother, "trp_kingdom_9_lady_23"),
			(troop_set_slot, "trp_kingdom_9_lady_26", slot_troop_father, "trp_knight_9_28"),
			(troop_set_slot, "trp_kingdom_9_lady_26", slot_troop_mother, "trp_kingdom_9_lady_23"),
			(troop_set_slot, "trp_kingdom_9_lady_27", slot_troop_father, "trp_knight_9_28"),
			(troop_set_slot, "trp_kingdom_9_lady_27", slot_troop_mother, "trp_kingdom_9_lady_23"),
			(troop_set_slot, "trp_knight_9_29", slot_troop_father, "trp_knight_9_28"),
			(troop_set_slot, "trp_knight_9_29", slot_troop_mother, "trp_kingdom_9_lady_23"),
			(troop_set_slot, "trp_knight_9_31", slot_troop_spouse, "trp_kingdom_9_lady_28"),
			(troop_set_slot, "trp_kingdom_9_lady_28", slot_troop_spouse, "trp_knight_9_31"),
			(troop_set_slot, "trp_kingdom_9_lady_29", slot_troop_father, "trp_knight_9_31"),
			(troop_set_slot, "trp_kingdom_9_lady_29", slot_troop_mother, "trp_kingdom_9_lady_28"),
			(troop_set_slot, "trp_kingdom_9_lady_30", slot_troop_father, "trp_knight_9_31"),
			(troop_set_slot, "trp_kingdom_9_lady_30", slot_troop_mother, "trp_kingdom_9_lady_28"),
			(troop_set_slot, "trp_knight_9_32", slot_troop_father, "trp_knight_9_31"),
			(troop_set_slot, "trp_knight_9_32", slot_troop_mother, "trp_kingdom_9_lady_28"),
			(troop_set_slot, "trp_knight_9_39", slot_troop_spouse, "trp_kingdom_9_lady_34"),
			(troop_set_slot, "trp_kingdom_9_lady_34", slot_troop_spouse, "trp_knight_9_39"),
			(troop_set_slot, "trp_kingdom_9_lady_35", slot_troop_father, "trp_knight_9_39"),
			(troop_set_slot, "trp_kingdom_9_lady_35", slot_troop_mother, "trp_kingdom_9_lady_34"),
			(troop_set_slot, "trp_kingdom_9_lady_36", slot_troop_father, "trp_knight_9_39"),
			(troop_set_slot, "trp_kingdom_9_lady_36", slot_troop_mother, "trp_kingdom_9_lady_34"),
			(troop_set_slot, "trp_knight_9_40", slot_troop_spouse, "trp_kingdom_9_lady_31"),
			(troop_set_slot, "trp_kingdom_9_lady_31", slot_troop_spouse, "trp_knight_9_40"),
			(troop_set_slot, "trp_kingdom_9_lady_32", slot_troop_father, "trp_knight_9_40"),
			(troop_set_slot, "trp_kingdom_9_lady_32", slot_troop_mother, "trp_kingdom_9_lady_31"),
			(troop_set_slot, "trp_kingdom_9_lady_33", slot_troop_father, "trp_knight_9_40"),
			(troop_set_slot, "trp_kingdom_9_lady_33", slot_troop_mother, "trp_kingdom_9_lady_31"),
			(troop_set_slot, "trp_kingdom_10_lady_33", slot_troop_guardian, "trp_kingdom_10_lord"),
			(troop_set_slot, "trp_kingdom_10_lady_32", slot_troop_guardian, "trp_kingdom_10_lord"),
			(troop_set_slot, "trp_knight_10_1", slot_troop_spouse, "trp_kingdom_10_lady_33"),
			(troop_set_slot, "trp_kingdom_10_lady_33", slot_troop_spouse, "trp_knight_10_1"),
			(troop_set_slot, "trp_kingdom_10_lady_1", slot_troop_father, "trp_knight_10_1"),
			(troop_set_slot, "trp_kingdom_10_lady_1", slot_troop_mother, "trp_kingdom_10_lady_33"),
			(troop_set_slot, "trp_kingdom_10_lady_2", slot_troop_father, "trp_knight_10_1"),
			(troop_set_slot, "trp_kingdom_10_lady_2", slot_troop_mother, "trp_kingdom_10_lady_33"),
			(troop_set_slot, "trp_knight_10_2", slot_troop_spouse, "trp_kingdom_10_lady_3"),
			(troop_set_slot, "trp_kingdom_10_lady_3", slot_troop_spouse, "trp_knight_10_2"),
			(troop_set_slot, "trp_kingdom_10_lady_4", slot_troop_father, "trp_knight_10_2"),
			(troop_set_slot, "trp_kingdom_10_lady_4", slot_troop_mother, "trp_kingdom_10_lady_3"),
			(troop_set_slot, "trp_knight_10_14", slot_troop_spouse, "trp_kingdom_10_lady_5"),
			(troop_set_slot, "trp_kingdom_10_lady_5", slot_troop_spouse, "trp_knight_10_14"),
			(troop_set_slot, "trp_kingdom_10_lady_6", slot_troop_father, "trp_knight_10_14"),
			(troop_set_slot, "trp_kingdom_10_lady_6", slot_troop_mother, "trp_kingdom_10_lady_5"),
			(troop_set_slot, "trp_knight_10_4", slot_troop_spouse, "trp_kingdom_10_lady_35"),
			(troop_set_slot, "trp_kingdom_10_lady_35", slot_troop_spouse, "trp_knight_10_4"),
			(troop_set_slot, "trp_kingdom_10_lady_8", slot_troop_father, "trp_knight_10_4"),
			(troop_set_slot, "trp_kingdom_10_lady_8", slot_troop_mother, "trp_kingdom_10_lady_35"),
			(troop_set_slot, "trp_knight_10_27", slot_troop_guardian, "trp_knight_10_4"),
			(troop_set_slot, "trp_knight_10_6", slot_troop_spouse, "trp_kingdom_10_lady_9"),
			(troop_set_slot, "trp_kingdom_10_lady_9", slot_troop_spouse, "trp_knight_10_6"),
			(troop_set_slot, "trp_kingdom_10_lady_10", slot_troop_father, "trp_knight_10_6"),
			(troop_set_slot, "trp_kingdom_10_lady_10", slot_troop_mother, "trp_kingdom_10_lady_9"),
			(troop_set_slot, "trp_kingdom_10_lady_11", slot_troop_father, "trp_knight_10_6"),
			(troop_set_slot, "trp_kingdom_10_lady_11", slot_troop_mother, "trp_kingdom_10_lady_9"),
			(troop_set_slot, "trp_knight_10_7", slot_troop_spouse, "trp_kingdom_10_lady_12"),
			(troop_set_slot, "trp_kingdom_10_lady_12", slot_troop_spouse, "trp_knight_10_7"),
			(troop_set_slot, "trp_kingdom_10_lady_13", slot_troop_father, "trp_knight_10_7"),
			(troop_set_slot, "trp_kingdom_10_lady_13", slot_troop_mother, "trp_kingdom_10_lady_12"),
			(troop_set_slot, "trp_knight_10_25", slot_troop_spouse, "trp_kingdom_10_lady_32"),
			(troop_set_slot, "trp_kingdom_10_lady_32", slot_troop_spouse, "trp_knight_10_25"),
			(troop_set_slot, "trp_kingdom_10_lady_14", slot_troop_father, "trp_knight_10_25"),
			(troop_set_slot, "trp_kingdom_10_lady_14", slot_troop_mother, "trp_kingdom_10_lady_32"),
			(troop_set_slot, "trp_kingdom_10_lady_15", slot_troop_father, "trp_knight_10_25"),
			(troop_set_slot, "trp_kingdom_10_lady_15", slot_troop_mother, "trp_kingdom_10_lady_32"),
			(troop_set_slot, "trp_kingdom_10_lady_19", slot_troop_father, "trp_knight_10_25"),
			(troop_set_slot, "trp_kingdom_10_lady_19", slot_troop_mother, "trp_kingdom_10_lady_32"),
			(troop_set_slot, "trp_kingdom_10_lady_20", slot_troop_father, "trp_knight_10_25"),
			(troop_set_slot, "trp_kingdom_10_lady_20", slot_troop_mother, "trp_kingdom_10_lady_32"),
			(troop_set_slot, "trp_kingdom_10_lady_21", slot_troop_father, "trp_knight_10_25"),
			(troop_set_slot, "trp_kingdom_10_lady_21", slot_troop_mother, "trp_kingdom_10_lady_32"),
			(troop_set_slot, "trp_kingdom_10_lady_22", slot_troop_father, "trp_knight_10_25"),
			(troop_set_slot, "trp_kingdom_10_lady_22", slot_troop_mother, "trp_kingdom_10_lady_32"),
			(troop_set_slot, "trp_knight_10_9", slot_troop_spouse, "trp_kingdom_10_lady_16"),
			(troop_set_slot, "trp_kingdom_10_lady_16", slot_troop_spouse, "trp_knight_10_9"),
			(troop_set_slot, "trp_knight_10_10", slot_troop_spouse, "trp_kingdom_10_lady_17"),
			(troop_set_slot, "trp_kingdom_10_lady_17", slot_troop_spouse, "trp_knight_10_10"),
			(troop_set_slot, "trp_kingdom_10_lady_18", slot_troop_father, "trp_knight_10_10"),
			(troop_set_slot, "trp_kingdom_10_lady_18", slot_troop_mother, "trp_kingdom_10_lady_17"),
			(troop_set_slot, "trp_knight_10_23", slot_troop_spouse, "trp_kingdom_10_lady_27"),
			(troop_set_slot, "trp_kingdom_10_lady_27", slot_troop_spouse, "trp_knight_10_23"),
			(troop_set_slot, "trp_kingdom_10_lady_28", slot_troop_father, "trp_knight_10_23"),
			(troop_set_slot, "trp_kingdom_10_lady_28", slot_troop_mother, "trp_kingdom_10_lady_27"),
			(troop_set_slot, "trp_knight_10_24", slot_troop_spouse, "trp_kingdom_10_lady_29"),
			(troop_set_slot, "trp_kingdom_10_lady_29", slot_troop_spouse, "trp_knight_10_24"),
			(troop_set_slot, "trp_kingdom_10_lady_30", slot_troop_father, "trp_knight_10_24"),
			(troop_set_slot, "trp_kingdom_10_lady_30", slot_troop_mother, "trp_kingdom_10_lady_29"),
			(troop_set_slot, "trp_knight_11_5", slot_troop_spouse, "trp_kingdom_11_lady_1"),
			(troop_set_slot, "trp_kingdom_11_lady_1", slot_troop_spouse, "trp_knight_11_5"),
			(troop_set_slot, "trp_kingdom_11_lady_2", slot_troop_father, "trp_knight_11_5"),
			(troop_set_slot, "trp_kingdom_11_lady_2", slot_troop_mother, "trp_kingdom_11_lady_1"),
			(troop_set_slot, "trp_knight_11_3", slot_troop_spouse, "trp_kingdom_11_lady_3"),
			(troop_set_slot, "trp_kingdom_11_lady_3", slot_troop_spouse, "trp_knight_11_3"),
			(troop_set_slot, "trp_knight_11_7", slot_troop_spouse, "trp_kingdom_11_lady_4"),
			(troop_set_slot, "trp_kingdom_11_lady_4", slot_troop_spouse, "trp_knight_11_7"),
			(troop_set_slot, "trp_kingdom_11_lady_5", slot_troop_father, "trp_knight_11_7"),
			(troop_set_slot, "trp_kingdom_11_lady_5", slot_troop_mother, "trp_kingdom_11_lady_4"),
			(troop_set_slot, "trp_knight_11_9", slot_troop_spouse, "trp_kingdom_11_lady_6"),
			(troop_set_slot, "trp_kingdom_11_lady_6", slot_troop_spouse, "trp_knight_11_9"),
			(troop_set_slot, "trp_kingdom_11_lady_7", slot_troop_father, "trp_knight_11_9"),
			(troop_set_slot, "trp_kingdom_11_lady_7", slot_troop_mother, "trp_kingdom_11_lady_6"),
			(troop_set_slot, "trp_kingdom_11_lady_8", slot_troop_father, "trp_knight_11_9"),
			(troop_set_slot, "trp_kingdom_11_lady_8", slot_troop_mother, "trp_kingdom_11_lady_6"),
			(troop_set_slot, "trp_kingdom_11_lady_9", slot_troop_father, "trp_knight_11_9"),
			(troop_set_slot, "trp_kingdom_11_lady_9", slot_troop_mother, "trp_kingdom_11_lady_6"),
			(troop_set_slot, "trp_knight_11_12", slot_troop_spouse, "trp_kingdom_11_lady_10"),
			(troop_set_slot, "trp_kingdom_11_lady_10", slot_troop_spouse, "trp_knight_11_12"),
			(troop_set_slot, "trp_kingdom_11_lady_11", slot_troop_father, "trp_knight_11_12"),
			(troop_set_slot, "trp_kingdom_11_lady_11", slot_troop_mother, "trp_kingdom_11_lady_10"),
			(troop_set_slot, "trp_kingdom_11_lady_12", slot_troop_father, "trp_knight_11_12"),
			(troop_set_slot, "trp_kingdom_11_lady_12", slot_troop_mother, "trp_kingdom_11_lady_10"),
			(troop_set_slot, "trp_knight_11_13", slot_troop_father, "trp_knight_11_12"),
			(troop_set_slot, "trp_knight_11_13", slot_troop_mother, "trp_kingdom_11_lady_10"),
			(troop_set_slot, "trp_knight_11_8", slot_troop_spouse, "trp_kingdom_11_lady_13"),
			(troop_set_slot, "trp_kingdom_11_lady_13", slot_troop_spouse, "trp_knight_11_8"),
			(troop_set_slot, "trp_kingdom_11_lady_14", slot_troop_father, "trp_knight_11_8"),
			(troop_set_slot, "trp_kingdom_11_lady_14", slot_troop_mother, "trp_kingdom_11_lady_13"),
			(troop_set_slot, "trp_kingdom_11_lady_15", slot_troop_father, "trp_knight_11_8"),
			(troop_set_slot, "trp_kingdom_11_lady_15", slot_troop_mother, "trp_kingdom_11_lady_13"),
			(troop_set_slot, "trp_knight_12_1", slot_troop_spouse, "trp_kingdom_12_lady_1"),
			(troop_set_slot, "trp_kingdom_12_lady_1", slot_troop_spouse, "trp_knight_12_1"),
			(troop_set_slot, "trp_kingdom_12_lady_2", slot_troop_father, "trp_knight_12_1"),
			(troop_set_slot, "trp_kingdom_12_lady_2", slot_troop_mother, "trp_kingdom_12_lady_1"),
			(troop_set_slot, "trp_kingdom_12_lady_3", slot_troop_father, "trp_knight_12_1"),
			(troop_set_slot, "trp_kingdom_12_lady_3", slot_troop_mother, "trp_kingdom_12_lady_1"),
			(troop_set_slot, "trp_knight_12_8", slot_troop_father, "trp_knight_12_1"),
			(troop_set_slot, "trp_knight_12_8", slot_troop_mother, "trp_kingdom_12_lady_1"),
			(troop_set_slot, "trp_knight_12_9", slot_troop_father, "trp_knight_12_1"),
			(troop_set_slot, "trp_knight_12_9", slot_troop_mother, "trp_kingdom_12_lady_1"),
			(troop_set_slot, "trp_knight_12_2", slot_troop_spouse, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_kingdom_12_lady_4", slot_troop_spouse, "trp_knight_12_2"),
			(troop_set_slot, "trp_kingdom_12_lady_5", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_kingdom_12_lady_5", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_kingdom_12_lady_6", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_kingdom_12_lady_6", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_kingdom_12_lady_7", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_kingdom_12_lady_7", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_kingdom_12_lady_8", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_kingdom_12_lady_8", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_kingdom_12_lady_9", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_kingdom_12_lady_9", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_kingdom_12_lady_10", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_kingdom_12_lady_10", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_knight_12_6", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_knight_12_6", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_knight_12_7", slot_troop_father, "trp_knight_12_2"),
			(troop_set_slot, "trp_knight_12_7", slot_troop_mother, "trp_kingdom_12_lady_4"),
			(troop_set_slot, "trp_knight_13_1", slot_troop_spouse, "trp_kingdom_13_lady_1"),
			(troop_set_slot, "trp_kingdom_13_lady_1", slot_troop_spouse, "trp_knight_13_1"),
			(troop_set_slot, "trp_kingdom_13_lady_2", slot_troop_father, "trp_knight_13_1"),
			(troop_set_slot, "trp_kingdom_13_lady_2", slot_troop_mother, "trp_kingdom_13_lady_1"),
			(troop_set_slot, "trp_knight_13_2", slot_troop_spouse, "trp_kingdom_13_lady_3"),
			(troop_set_slot, "trp_kingdom_13_lady_3", slot_troop_spouse, "trp_knight_13_2"),
			(troop_set_slot, "trp_kingdom_13_lady_4", slot_troop_father, "trp_knight_13_2"),
			(troop_set_slot, "trp_kingdom_13_lady_4", slot_troop_mother, "trp_kingdom_13_lady_3"),
			(troop_set_slot, "trp_kingdom_13_lady_5", slot_troop_father, "trp_knight_13_2"),
			(troop_set_slot, "trp_kingdom_13_lady_5", slot_troop_mother, "trp_kingdom_13_lady_3"),
			(troop_set_slot, "trp_knight_13_3", slot_troop_spouse, "trp_kingdom_13_lady_6"),
			(troop_set_slot, "trp_kingdom_13_lady_6", slot_troop_spouse, "trp_knight_13_3"),
			(troop_set_slot, "trp_kingdom_13_lady_7", slot_troop_father, "trp_knight_13_3"),
			(troop_set_slot, "trp_kingdom_13_lady_7", slot_troop_mother, "trp_kingdom_13_lady_6"),
			(troop_set_slot, "trp_kingdom_13_lady_8", slot_troop_father, "trp_knight_13_3"),
			(troop_set_slot, "trp_kingdom_13_lady_8", slot_troop_mother, "trp_kingdom_13_lady_6"),
			(troop_set_slot, "trp_kingdom_13_lady_9", slot_troop_father, "trp_knight_13_3"),
			(troop_set_slot, "trp_kingdom_13_lady_9", slot_troop_mother, "trp_kingdom_13_lady_6"),
			(troop_set_slot, "trp_kingdom_13_lady_10", slot_troop_father, "trp_knight_13_3"),
			(troop_set_slot, "trp_kingdom_13_lady_10", slot_troop_mother, "trp_kingdom_13_lady_6"),
			(troop_set_slot, "trp_knight_13_4", slot_troop_father, "trp_knight_13_3"),
			(troop_set_slot, "trp_knight_13_4", slot_troop_mother, "trp_kingdom_13_lady_6"),
			(troop_set_slot, "trp_knight_14_1", slot_troop_spouse, "trp_kingdom_14_lady_1"),
			(troop_set_slot, "trp_kingdom_14_lady_1", slot_troop_spouse, "trp_knight_14_1"),
			(troop_set_slot, "trp_kingdom_14_lady_2", slot_troop_father, "trp_knight_14_1"),
			(troop_set_slot, "trp_kingdom_14_lady_2", slot_troop_mother, "trp_kingdom_14_lady_1"),
			(troop_set_slot, "trp_knight_14_2", slot_troop_spouse, "trp_kingdom_14_lady_3"),
			(troop_set_slot, "trp_kingdom_14_lady_3", slot_troop_spouse, "trp_knight_14_2"),
			(troop_set_slot, "trp_kingdom_14_lady_4", slot_troop_father, "trp_knight_14_2"),
			(troop_set_slot, "trp_kingdom_14_lady_4", slot_troop_mother, "trp_kingdom_14_lady_3"),
			(troop_set_slot, "trp_kingdom_14_lady_5", slot_troop_father, "trp_knight_14_2"),
			(troop_set_slot, "trp_kingdom_14_lady_5", slot_troop_mother, "trp_kingdom_14_lady_3"),
			(troop_set_slot, "trp_kingdom_14_lady_6", slot_troop_father, "trp_knight_14_2"),
			(troop_set_slot, "trp_kingdom_14_lady_6", slot_troop_mother, "trp_kingdom_14_lady_3"),
			(troop_set_slot, "trp_knight_14_6", slot_troop_father, "trp_knight_14_2"),
			(troop_set_slot, "trp_knight_14_6", slot_troop_mother, "trp_kingdom_14_lady_3"),
			(troop_set_slot, "trp_knight_14_3", slot_troop_spouse, "trp_kingdom_14_lady_7"),
			(troop_set_slot, "trp_kingdom_14_lady_7", slot_troop_spouse, "trp_knight_14_3"),
			(troop_set_slot, "trp_kingdom_14_lady_8", slot_troop_father, "trp_knight_14_3"),
			(troop_set_slot, "trp_kingdom_14_lady_8", slot_troop_mother, "trp_kingdom_14_lady_7"),
			(troop_set_slot, "trp_kingdom_14_lady_9", slot_troop_father, "trp_knight_14_3"),
			(troop_set_slot, "trp_kingdom_14_lady_9", slot_troop_mother, "trp_kingdom_14_lady_7"),
			(troop_set_slot, "trp_knight_14_4", slot_troop_father, "trp_knight_14_3"),
			(troop_set_slot, "trp_knight_14_4", slot_troop_mother, "trp_kingdom_14_lady_7"),
			(troop_set_slot, "trp_knight_14_5", slot_troop_father, "trp_knight_14_3"),
			(troop_set_slot, "trp_knight_14_5", slot_troop_mother, "trp_kingdom_14_lady_7"),
			(troop_set_slot, "trp_knight_15_5", slot_troop_spouse, "trp_kingdom_15_lady_1"),
			(troop_set_slot, "trp_kingdom_15_lady_1", slot_troop_spouse, "trp_knight_15_5"),
			(troop_set_slot, "trp_kingdom_15_lady_2", slot_troop_father, "trp_knight_15_5"),
			(troop_set_slot, "trp_kingdom_15_lady_2", slot_troop_mother, "trp_kingdom_15_lady_1"),
			(troop_set_slot, "trp_kingdom_15_lady_3", slot_troop_father, "trp_knight_15_5"),
			(troop_set_slot, "trp_kingdom_15_lady_3", slot_troop_mother, "trp_kingdom_15_lady_1"),
			(troop_set_slot, "trp_knight_15_6", slot_troop_father, "trp_knight_15_5"),
			(troop_set_slot, "trp_knight_15_6", slot_troop_mother, "trp_kingdom_15_lady_1"),
			(troop_set_slot, "trp_knight_15_1", slot_troop_spouse, "trp_kingdom_15_lady_4"),
			(troop_set_slot, "trp_kingdom_15_lady_4", slot_troop_spouse, "trp_knight_15_1"),
			(troop_set_slot, "trp_kingdom_15_lady_5", slot_troop_father, "trp_knight_15_1"),
			(troop_set_slot, "trp_kingdom_15_lady_5", slot_troop_mother, "trp_kingdom_15_lady_4"),
			(troop_set_slot, "trp_kingdom_15_lady_6", slot_troop_father, "trp_knight_15_1"),
			(troop_set_slot, "trp_kingdom_15_lady_6", slot_troop_mother, "trp_kingdom_15_lady_4"),
			(troop_set_slot, "trp_kingdom_15_lady_7", slot_troop_father, "trp_knight_15_1"),
			(troop_set_slot, "trp_kingdom_15_lady_7", slot_troop_mother, "trp_kingdom_15_lady_4"),
			(troop_set_slot, "trp_kingdom_15_lady_8", slot_troop_father, "trp_knight_15_1"),
			(troop_set_slot, "trp_kingdom_15_lady_8", slot_troop_mother, "trp_kingdom_15_lady_4"),
			(troop_set_slot, "trp_knight_15_2", slot_troop_father, "trp_knight_15_1"),
			(troop_set_slot, "trp_knight_15_2", slot_troop_mother, "trp_kingdom_15_lady_4"),
			(troop_set_slot, "trp_knight_15_3", slot_troop_father, "trp_knight_15_1"),
			(troop_set_slot, "trp_knight_15_3", slot_troop_mother, "trp_kingdom_15_lady_4"),
			(troop_set_slot, "trp_knight_15_4", slot_troop_spouse, "trp_kingdom_15_lady_10"),
			(troop_set_slot, "trp_kingdom_15_lady_10", slot_troop_spouse, "trp_knight_15_4"),
			(troop_set_slot, "trp_kingdom_15_lady_11", slot_troop_father, "trp_knight_15_4"),
			(troop_set_slot, "trp_kingdom_15_lady_11", slot_troop_mother, "trp_kingdom_15_lady_10"),
			(troop_set_slot, "trp_kingdom_15_lady_12", slot_troop_father, "trp_knight_15_4"),
			(troop_set_slot, "trp_kingdom_15_lady_12", slot_troop_mother, "trp_kingdom_15_lady_10"),
			(troop_set_slot, "trp_kingdom_15_lady_13", slot_troop_father, "trp_knight_15_4"),
			(troop_set_slot, "trp_kingdom_15_lady_13", slot_troop_mother, "trp_kingdom_15_lady_10"),
			(troop_set_slot, "trp_knight_16_1", slot_troop_spouse, "trp_kingdom_16_lady_1"),
			(troop_set_slot, "trp_kingdom_16_lady_1", slot_troop_spouse, "trp_knight_16_1"),
			(troop_set_slot, "trp_kingdom_16_lady_2", slot_troop_father, "trp_knight_16_1"),
			(troop_set_slot, "trp_kingdom_16_lady_2", slot_troop_mother, "trp_kingdom_16_lady_1"),
			(troop_set_slot, "trp_kingdom_16_lady_3", slot_troop_father, "trp_knight_16_1"),
			(troop_set_slot, "trp_kingdom_16_lady_3", slot_troop_mother, "trp_kingdom_16_lady_1"),
			(troop_set_slot, "trp_knight_16_5", slot_troop_father, "trp_knight_16_1"),
			(troop_set_slot, "trp_knight_16_5", slot_troop_mother, "trp_kingdom_16_lady_1"),
			(troop_set_slot, "trp_knight_16_2", slot_troop_spouse, "trp_kingdom_16_lady_4"),
			(troop_set_slot, "trp_kingdom_16_lady_4", slot_troop_spouse, "trp_knight_16_2"),
			(troop_set_slot, "trp_kingdom_16_lady_5", slot_troop_father, "trp_knight_16_2"),
			(troop_set_slot, "trp_kingdom_16_lady_5", slot_troop_mother, "trp_kingdom_16_lady_4"),
			(troop_set_slot, "trp_kingdom_16_lady_6", slot_troop_father, "trp_knight_16_2"),
			(troop_set_slot, "trp_kingdom_16_lady_6", slot_troop_mother, "trp_kingdom_16_lady_4"),
			(troop_set_slot, "trp_knight_16_3", slot_troop_father, "trp_knight_16_2"),
			(troop_set_slot, "trp_knight_16_3", slot_troop_mother, "trp_kingdom_16_lady_4"),
			(troop_set_slot, "trp_knight_16_4", slot_troop_father, "trp_knight_16_2"),
			(troop_set_slot, "trp_knight_16_4", slot_troop_mother, "trp_kingdom_16_lady_4"),
			(troop_set_slot, "trp_knight_16_6", slot_troop_spouse, "trp_kingdom_16_lady_7"),
			(troop_set_slot, "trp_kingdom_16_lady_7", slot_troop_spouse, "trp_knight_16_6"),
			(troop_set_slot, "trp_kingdom_16_lady_8", slot_troop_father, "trp_knight_16_6"),
			(troop_set_slot, "trp_kingdom_16_lady_8", slot_troop_mother, "trp_kingdom_16_lady_7"),
			(troop_set_slot, "trp_kingdom_16_lady_9", slot_troop_father, "trp_knight_16_6"),
			(troop_set_slot, "trp_kingdom_16_lady_9", slot_troop_mother, "trp_kingdom_16_lady_7"),
			(troop_set_slot, "trp_knight_17_1", slot_troop_spouse, "trp_kingdom_17_lady_1"),
			(troop_set_slot, "trp_kingdom_17_lady_1", slot_troop_spouse, "trp_knight_17_1"),
			(troop_set_slot, "trp_kingdom_17_lady_2", slot_troop_father, "trp_knight_17_1"),
			(troop_set_slot, "trp_kingdom_17_lady_2", slot_troop_mother, "trp_kingdom_17_lady_1"),
			(troop_set_slot, "trp_knight_17_2", slot_troop_father, "trp_knight_17_1"),
			(troop_set_slot, "trp_knight_17_2", slot_troop_mother, "trp_kingdom_17_lady_1"),
			(troop_set_slot, "trp_knight_17_3", slot_troop_spouse, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_3", slot_troop_spouse, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_4", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_4", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_5", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_5", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_6", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_6", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_7", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_7", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_8", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_8", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_9", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_9", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_10", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_10", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_11", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_11", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_12", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_12", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_kingdom_17_lady_13", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_kingdom_17_lady_13", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_knight_17_4", slot_troop_father, "trp_knight_17_3"),
			(troop_set_slot, "trp_knight_17_4", slot_troop_mother, "trp_kingdom_17_lady_3"),
			(troop_set_slot, "trp_knight_18_1", slot_troop_spouse, "trp_kingdom_18_lady_1"),
			(troop_set_slot, "trp_kingdom_18_lady_1", slot_troop_spouse, "trp_knight_18_1"),
			(troop_set_slot, "trp_kingdom_18_lady_2", slot_troop_father, "trp_knight_18_1"),
			(troop_set_slot, "trp_kingdom_18_lady_2", slot_troop_mother, "trp_kingdom_18_lady_1"),
			(troop_set_slot, "trp_knight_18_1", slot_troop_guardian, "trp_knight_18_2"),
			(troop_set_slot, "trp_knight_qohor_3", slot_troop_guardian, "trp_knight_qohor_4"),
			(troop_set_slot, "trp_knight_qohor_1", slot_troop_spouse, "trp_kingdom_qohor_lady_1"),
			(troop_set_slot, "trp_kingdom_qohor_lady_1", slot_troop_spouse, "trp_knight_qohor_1"),
			(troop_set_slot, "trp_kingdom_qohor_lady_2", slot_troop_father, "trp_knight_qohor_1"),
			(troop_set_slot, "trp_kingdom_qohor_lady_2", slot_troop_mother, "trp_kingdom_qohor_lady_1"),
			(troop_set_slot, "trp_kingdom_qohor_lady_3", slot_troop_father, "trp_knight_qohor_1"),
			(troop_set_slot, "trp_kingdom_qohor_lady_3", slot_troop_mother, "trp_kingdom_qohor_lady_1"),
			(troop_set_slot, "trp_kingdom_qohor_lady_4", slot_troop_father, "trp_knight_qohor_1"),
			(troop_set_slot, "trp_kingdom_qohor_lady_4", slot_troop_mother, "trp_kingdom_qohor_lady_1"),
			(troop_set_slot, "trp_kingdom_19_lord", slot_troop_spouse, "trp_kingdom_19_lady_1"),
			(troop_set_slot, "trp_kingdom_19_lady_1", slot_troop_spouse, "trp_kingdom_19_lord"),
			(troop_set_slot, "trp_knight_19_1", slot_troop_spouse, "trp_kingdom_19_lady_2"),
			(troop_set_slot, "trp_kingdom_19_lady_2", slot_troop_spouse, "trp_knight_19_1"),
			(troop_set_slot, "trp_kingdom_19_lady_3", slot_troop_father, "trp_knight_19_1"),
			(troop_set_slot, "trp_kingdom_19_lady_3", slot_troop_mother, "trp_kingdom_19_lady_2"),
			(troop_set_slot, "trp_kingdom_19_lady_4", slot_troop_father, "trp_knight_19_1"),
			(troop_set_slot, "trp_kingdom_19_lady_4", slot_troop_mother, "trp_kingdom_19_lady_2"),
			(troop_set_slot, "trp_kingdom_19_lady_5", slot_troop_father, "trp_knight_19_1"),
			(troop_set_slot, "trp_kingdom_19_lady_5", slot_troop_mother, "trp_kingdom_19_lady_2"),
			(troop_set_slot, "trp_knight_19_2", slot_troop_spouse, "trp_kingdom_19_lady_6"),
			(troop_set_slot, "trp_kingdom_19_lady_6", slot_troop_spouse, "trp_knight_19_2"),
			(troop_set_slot, "trp_kingdom_21_lord", slot_troop_spouse, "trp_kingdom_21_lady_1"),
			(troop_set_slot, "trp_kingdom_21_lady_1", slot_troop_spouse, "trp_kingdom_21_lord"),
			(troop_set_slot, "trp_kingdom_21_lady_1", slot_troop_guardian, "trp_kingdom_21_lady_2"),
			(troop_set_slot, "trp_knight_21_2", slot_troop_spouse, "trp_kingdom_21_lady_7"),
			(troop_set_slot, "trp_kingdom_21_lady_7", slot_troop_spouse, "trp_knight_21_2"),
			(troop_set_slot, "trp_kingdom_21_lady_3", slot_troop_father, "trp_knight_21_2"),
			(troop_set_slot, "trp_kingdom_21_lady_3", slot_troop_mother, "trp_kingdom_21_lady_7"),
			(troop_set_slot, "trp_knight_21_8", slot_troop_father, "trp_knight_21_2"),
			(troop_set_slot, "trp_knight_21_8", slot_troop_mother, "trp_kingdom_21_lady_7"),
			(troop_set_slot, "trp_knight_21_16", slot_troop_spouse, "trp_kingdom_21_lady_8"),
			(troop_set_slot, "trp_kingdom_21_lady_8", slot_troop_spouse, "trp_knight_21_16"),
			(troop_set_slot, "trp_kingdom_21_lady_4", slot_troop_father, "trp_knight_21_16"),
			(troop_set_slot, "trp_kingdom_21_lady_4", slot_troop_mother, "trp_kingdom_21_lady_8"),
			(troop_set_slot, "trp_kingdom_21_lady_5", slot_troop_father, "trp_knight_21_16"),
			(troop_set_slot, "trp_kingdom_21_lady_5", slot_troop_mother, "trp_kingdom_21_lady_8"),
			(troop_set_slot, "trp_kingdom_21_lady_6", slot_troop_father, "trp_knight_21_16"),
			(troop_set_slot, "trp_kingdom_21_lady_6", slot_troop_mother, "trp_kingdom_21_lady_8"),
			(troop_set_slot, "trp_knight_21_3", slot_troop_guardian, "trp_knight_21_7"),
			(troop_set_slot, "trp_knight_21_11", slot_troop_guardian, "trp_knight_21_12"),
			(troop_set_slot, "trp_knight_22_1", slot_troop_father, "trp_kingdom_22_lord"),
			(troop_set_slot, "trp_knight_22_2", slot_troop_father, "trp_kingdom_22_lord"),
			(troop_set_slot, "trp_knight_22_3", slot_troop_father, "trp_knight_22_4"),
			(troop_set_slot, "trp_kingdom_6_lady_28", slot_troop_mother, "trp_knight_6_20"),
			(troop_set_slot, "trp_kingdom_6_lady_28", slot_troop_mother, "trp_knight_6_20"),
			(troop_set_slot, "trp_knight_6_5", slot_troop_mother, "trp_knight_6_21"),
			(troop_set_slot, "trp_kingdom_6_lady_31", slot_troop_mother, "trp_knight_6_22"),
			(troop_set_slot, "trp_kingdom_6_lady_32", slot_troop_mother, "trp_knight_6_22"),
			(troop_set_slot, "trp_knight_3_7", slot_troop_mother, "trp_knight_3_25"),
			(troop_set_slot, "trp_knight_3_8", slot_troop_mother, "trp_knight_3_25"),
			(troop_set_slot, "trp_kingdom_2_lady_35", slot_troop_mother, "trp_knight_2_22"),
			(troop_set_slot, "trp_kingdom_2_lady_36", slot_troop_mother, "trp_knight_2_22"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg3, "$cheat_mode"),
				(display_message, "@{!}DEBUG -- Assigned lord reputation and relations"),
			(try_end),
			(try_for_range, ":troop", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(troop_set_slot, ":troop", slot_troop_occupation, 9),
				(store_random_in_range, ":random_in_range_15_40", 15, 40),
				(troop_set_slot, ":troop", slot_troop_age, ":random_in_range_15_40"),
				(eq, ":troop", "trp_kingdom_5_pretender"),
				(troop_set_slot, ":troop", slot_troop_age, 45),
			(try_end)
		]),

	("initialize_trade_routes",
		[
			(call_script, "script_set_trade_route_between_centers", "p_town_1", "p_town_16"),
			(call_script, "script_set_trade_route_between_centers", "p_town_1", "p_town_25"),
			(call_script, "script_set_trade_route_between_centers", "p_town_1", "p_town_42"),
			(call_script, "script_set_trade_route_between_centers", "p_town_31", "p_town_1"),
			(call_script, "script_set_trade_route_between_centers", "p_town_31", "p_town_41"),
			(call_script, "script_set_trade_route_between_centers", "p_town_31", "p_town_3"),
			(call_script, "script_set_trade_route_between_centers", "p_town_31", "p_town_9"),
			(call_script, "script_set_trade_route_between_centers", "p_town_3", "p_town_9"),
			(call_script, "script_set_trade_route_between_centers", "p_town_35", "p_town_8"),
			(call_script, "script_set_trade_route_between_centers", "p_town_35", "p_town_26"),
			(call_script, "script_set_trade_route_between_centers", "p_town_8", "p_town_26"),
			(call_script, "script_set_trade_route_between_centers", "p_town_8", "p_town_16"),
			(call_script, "script_set_trade_route_between_centers", "p_town_8", "p_town_25"),
			(call_script, "script_set_trade_route_between_centers", "p_town_8", "p_town_31"),
			(call_script, "script_set_trade_route_between_centers", "p_town_8", "p_town_1"),
			(call_script, "script_set_trade_route_between_centers", "p_town_17", "p_town_8"),
			(call_script, "script_set_trade_route_between_centers", "p_town_17", "p_town_12"),
			(call_script, "script_set_trade_route_between_centers", "p_town_17", "p_town_51"),
			(call_script, "script_set_trade_route_between_centers", "p_town_17", "p_town_38"),
			(call_script, "script_set_trade_route_between_centers", "p_town_17", "p_town_36"),
			(call_script, "script_set_trade_route_between_centers", "p_town_17", "p_town_52"),
			(call_script, "script_set_trade_route_between_centers", "p_town_26", "p_town_17"),
			(call_script, "script_set_trade_route_between_centers", "p_town_26", "p_town_12"),
			(call_script, "script_set_trade_route_between_centers", "p_town_26", "p_town_18"),
			(call_script, "script_set_trade_route_between_centers", "p_town_19", "p_town_17"),
			(call_script, "script_set_trade_route_between_centers", "p_town_19", "p_town_16"),
			(call_script, "script_set_trade_route_between_centers", "p_town_19", "p_town_32"),
			(call_script, "script_set_trade_route_between_centers", "p_town_23", "p_town_25"),
			(call_script, "script_set_trade_route_between_centers", "p_town_23", "p_town_26"),
			(call_script, "script_set_trade_route_between_centers", "p_town_25", "p_town_16"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_24"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_27"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_18"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_32"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_42"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_30"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_17"),
			(call_script, "script_set_trade_route_between_centers", "p_town_16", "p_town_12"),
			(call_script, "script_set_trade_route_between_centers", "p_town_24", "p_town_32"),
			(call_script, "script_set_trade_route_between_centers", "p_town_24", "p_town_25"),
			(call_script, "script_set_trade_route_between_centers", "p_town_30", "p_town_25"),
			(call_script, "script_set_trade_route_between_centers", "p_town_30", "p_town_32"),
			(call_script, "script_set_trade_route_between_centers", "p_town_32", "p_town_25"),
			(call_script, "script_set_trade_route_between_centers", "p_town_32", "p_town_42"),
			(call_script, "script_set_trade_route_between_centers", "p_town_32", "p_town_20"),
			(call_script, "script_set_trade_route_between_centers", "p_town_32", "p_town_45"),
			(call_script, "script_set_trade_route_between_centers", "p_town_32", "p_town_46"),
			(call_script, "script_set_trade_route_between_centers", "p_town_33", "p_town_34"),
			(call_script, "script_set_trade_route_between_centers", "p_town_33", "p_town_24"),
			(call_script, "script_set_trade_route_between_centers", "p_town_46", "p_town_45"),
			(call_script, "script_set_trade_route_between_centers", "p_town_46", "p_town_44"),
			(call_script, "script_set_trade_route_between_centers", "p_town_46", "p_town_47"),
			(call_script, "script_set_trade_route_between_centers", "p_town_46", "p_town_40"),
			(call_script, "script_set_trade_route_between_centers", "p_town_45", "p_town_44"),
			(call_script, "script_set_trade_route_between_centers", "p_town_45", "p_town_47"),
			(call_script, "script_set_trade_route_between_centers", "p_town_45", "p_town_40"),
			(call_script, "script_set_trade_route_between_centers", "p_town_45", "p_town_12"),
			(call_script, "script_set_trade_route_between_centers", "p_town_40", "p_town_47"),
			(call_script, "script_set_trade_route_between_centers", "p_town_40", "p_town_48"),
			(call_script, "script_set_trade_route_between_centers", "p_town_40", "p_town_49"),
			(call_script, "script_set_trade_route_between_centers", "p_town_40", "p_town_50"),
			(call_script, "script_set_trade_route_between_centers", "p_town_47", "p_town_48"),
			(call_script, "script_set_trade_route_between_centers", "p_town_47", "p_town_49"),
			(call_script, "script_set_trade_route_between_centers", "p_town_47", "p_town_50"),
			(call_script, "script_set_trade_route_between_centers", "p_town_47", "p_town_12"),
			(call_script, "script_set_trade_route_between_centers", "p_town_47", "p_town_17"),
			(call_script, "script_set_trade_route_between_centers", "p_town_47", "p_town_51"),
			(call_script, "script_set_trade_route_between_centers", "p_town_51", "p_town_52"),
			(call_script, "script_set_trade_route_between_centers", "p_town_51", "p_town_38"),
			(call_script, "script_set_trade_route_between_centers", "p_town_51", "p_town_36"),
			(call_script, "script_set_trade_route_between_centers", "p_town_53", "p_town_54")
		]),

	("initialize_sea_trade_routes",
		[
			(call_script, "script_set_trade_route_between_centers", "p_town_19", "p_town_40"),
			(call_script, "script_set_trade_route_between_centers", "p_town_32", "p_town_24"),
			(call_script, "script_set_trade_route_between_centers", "p_town_8", "p_town_12")
		]),

	("initialize_faction_troop_types",
		[
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_get_slot, ":faction_culture", ":faction", slot_faction_culture),
				(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_infantry),
				(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_infantry, ":faction_culture_quick_battle_tier_1_infantry"),
				(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_2_infantry),
				(faction_set_slot, ":faction", slot_faction_quick_battle_tier_2_infantry, ":faction_culture_quick_battle_tier_1_infantry"),
				(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_archer),
				(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_archer, ":faction_culture_quick_battle_tier_1_infantry"),
				(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_2_archer),
				(faction_set_slot, ":faction", slot_faction_quick_battle_tier_2_archer, ":faction_culture_quick_battle_tier_1_infantry"),
				(faction_get_slot, ":faction_culture_quick_battle_tier_1_infantry", ":faction_culture", slot_faction_quick_battle_tier_1_cavalry),
				(faction_set_slot, ":faction", slot_faction_quick_battle_tier_1_cavalry, ":faction_culture_quick_battle_tier_1_infantry"),
				(try_begin),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_1"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_stormlands_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_stormlands_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_stormlands_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_stormlands_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_1_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_1_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_1_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_1_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_1_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_1_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_2"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_northern_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_northern_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_northern_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_northern_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_2_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_2_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_2_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_2_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_2_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_2_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_3"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_vale_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_vale_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_vale_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_vale_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_3_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_3_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_3_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_3_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_3_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_3_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_4"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_braavosi_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_braavosi_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_braavosi_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_braavosi_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_4_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_4_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_4_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_4_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_4_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_4_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_5"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_riverlands_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_riverlands_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_riverlands_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_riverlands_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_5_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_5_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_5_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_5_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_5_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_5_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_6"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dornish_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dornish_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dornish_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dornish_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_6_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_6_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_6_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_6_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_6_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_6_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_8"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dragonstone_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dragonstone_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dragonstone_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dragonstone_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_8_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_8_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_8_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_8_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_8_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_8_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_9"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_westerlands_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_westerlands_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_westerlands_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_westerlands_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_9_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_9_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_9_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_9_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_9_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_9_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_10"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_reach_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_reach_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_reach_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_reach_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_10_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_10_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_10_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_10_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_10_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_10_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_11"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_ironborn_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_ironborn_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_ironborn_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_ironborn_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_11_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_11_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_11_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_11_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_11_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_11_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_12"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_pentos_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_pentos_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_pentos_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_pentos_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_12_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_12_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_12_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_12_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_12_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_12_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_13"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_tyrosh_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_tyrosh_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_tyrosh_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_tyrosh_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_13_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_13_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_13_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_13_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_13_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_13_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_14"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_myr_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_myr_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_myr_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_myr_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_14_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_14_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_14_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_14_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_14_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_14_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_15"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_lys_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_lys_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_lys_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_lys_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_15_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_15_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_15_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_15_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_15_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_15_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_16"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_volantis_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_volantis_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_volantis_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_volantis_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_16_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_16_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_16_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_16_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_16_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_16_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_17"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_norvos_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_norvos_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_norvos_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_norvos_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_17_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_17_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_17_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_17_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_17_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_17_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_18"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_lorath_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_lorath_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_lorath_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_lorath_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_18_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_18_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_18_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_18_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_18_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_18_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_19"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_sister_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_sister_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_sister_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_sister_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_19_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_19_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_19_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_19_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_19_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_19_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_20"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_targaryen_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_targaryen_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_targaryen_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_targaryen_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_20_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_20_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_20_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_20_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_20_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_20_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_21"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_wildling_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_wildling_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_wildling_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_wildling_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_21_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_21_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_21_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_21_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_21_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_21_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_22"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_sarranid_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_dothraki_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_dothraki_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_dothraki_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_dothraki_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_22_reinforcements_a_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_22_reinforcements_b_e"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_22_reinforcements_c_e"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_22_reinforcements_d_e"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_22_reinforcements_e_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_22_reinforcements_f_e"),
				(else_try),
					(faction_slot_eq, ":faction", slot_faction_culture, "fac_culture_7"),
					(faction_set_slot, ":faction", slot_faction_guard_troop, "trp_custom_deserter"),
					(faction_set_slot, ":faction", slot_faction_messenger_troop, "trp_sarranid_n_yerliyya21"),
					(faction_set_slot, ":faction", slot_faction_prison_guard_troop, "trp_custom_messenger"),
					(faction_set_slot, ":faction", slot_faction_castle_guard_troop, "trp_custom_prison_guard"),
					(faction_set_slot, ":faction", slot_faction_town_walker_male_troop, "trp_custom_castle_guard"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_a, "pt_kingdom_7_reinforcements_a"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_b, "pt_kingdom_7_reinforcements_b"),
					(faction_set_slot, ":faction", slot_faction_reinforcements_c, "pt_kingdom_7_reinforcements_c"),
					(faction_set_slot, ":faction", 106, "pt_kingdom_7_reinforcements_d"),
					(faction_set_slot, ":faction", 107, "pt_kingdom_7_reinforcements_e"),
					(faction_set_slot, ":faction", 108, "pt_kingdom_7_reinforcements_f"),
				(try_end),
			(try_end)
		]),

	("initialize_item_info",
		[
			(item_set_slot, "itm_trade_bread", slot_item_food_bonus, 8),
			(item_set_slot, "itm_trade_grain", slot_item_food_bonus, 2),
			(item_set_slot, "itm_trade_smoked_fish", slot_item_food_bonus, 4),
			(item_set_slot, "itm_trade_dried_meat", slot_item_food_bonus, 5),
			(item_set_slot, "itm_trade_cheese", slot_item_food_bonus, 5),
			(item_set_slot, "itm_trade_sausages", slot_item_food_bonus, 5),
			(item_set_slot, "itm_trade_butter", slot_item_food_bonus, 4),
			(item_set_slot, "itm_trade_chicken", slot_item_food_bonus, 8),
			(item_set_slot, "itm_trade_cattle_meat", slot_item_food_bonus, 7),
			(item_set_slot, "itm_trade_pork", slot_item_food_bonus, 6),
			(item_set_slot, "itm_trade_raw_olives", slot_item_food_bonus, 1),
			(item_set_slot, "itm_trade_cabbages", slot_item_food_bonus, 2),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_food_bonus, 3),
			(item_set_slot, "itm_trade_apples", slot_item_food_bonus, 4),
			(item_set_slot, "itm_trade_raw_date_fruit", slot_item_food_bonus, 4),
			(item_set_slot, "itm_trade_honey", slot_item_food_bonus, 6),
			(item_set_slot, "itm_trade_wine", slot_item_food_bonus, 5),
			(item_set_slot, "itm_trade_ale", slot_item_food_bonus, 4),
			(item_set_slot, "itm_trade_grain", slot_item_urban_demand, 20),
			(item_set_slot, "itm_trade_grain", slot_item_rural_demand, 20),
			(item_set_slot, "itm_trade_grain", slot_item_desert_demand, 20),
			(item_set_slot, "itm_trade_grain", slot_item_production_slot, 209),
			(item_set_slot, "itm_trade_grain", slot_item_production_string, "str_acres_grain"),
			(item_set_slot, "itm_trade_grain", slot_item_base_price, 30),
			(item_set_slot, "itm_trade_bread", slot_item_urban_demand, 30),
			(item_set_slot, "itm_trade_bread", slot_item_rural_demand, 30),
			(item_set_slot, "itm_trade_bread", slot_item_desert_demand, 30),
			(item_set_slot, "itm_trade_bread", slot_item_production_slot, 221),
			(item_set_slot, "itm_trade_bread", slot_item_production_string, "str_mills"),
			(item_set_slot, "itm_trade_bread", slot_item_primary_raw_material, "itm_trade_grain"),
			(item_set_slot, "itm_trade_bread", slot_item_input_number, 6),
			(item_set_slot, "itm_trade_bread", slot_item_output_per_run, 6),
			(item_set_slot, "itm_trade_bread", slot_item_overhead_per_run, 30),
			(item_set_slot, "itm_trade_bread", slot_item_base_price, 50),
			(item_set_slot, "itm_trade_bread", slot_item_enterprise_building_cost, 1500),
			(item_set_slot, "itm_trade_ale", slot_item_urban_demand, 10),
			(item_set_slot, "itm_trade_ale", slot_item_rural_demand, 15),
			(item_set_slot, "itm_trade_ale", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_ale", slot_item_production_slot, 222),
			(item_set_slot, "itm_trade_ale", slot_item_production_string, "str_breweries"),
			(item_set_slot, "itm_trade_ale", slot_item_base_price, 120),
			(item_set_slot, "itm_trade_ale", slot_item_primary_raw_material, "itm_trade_grain"),
			(item_set_slot, "itm_trade_ale", slot_item_input_number, 1),
			(item_set_slot, "itm_trade_ale", slot_item_output_per_run, 2),
			(item_set_slot, "itm_trade_ale", slot_item_overhead_per_run, 50),
			(item_set_slot, "itm_trade_ale", slot_item_base_price, 120),
			(item_set_slot, "itm_trade_ale", slot_item_enterprise_building_cost, 2500),
			(item_set_slot, "itm_trade_wine", slot_item_urban_demand, 15),
			(item_set_slot, "itm_trade_wine", slot_item_rural_demand, 10),
			(item_set_slot, "itm_trade_wine", slot_item_desert_demand, 25),
			(item_set_slot, "itm_trade_wine", slot_item_production_slot, 223),
			(item_set_slot, "itm_trade_wine", slot_item_production_string, "str_presses"),
			(item_set_slot, "itm_trade_wine", slot_item_primary_raw_material, "itm_trade_raw_grapes"),
			(item_set_slot, "itm_trade_wine", slot_item_input_number, 4),
			(item_set_slot, "itm_trade_wine", slot_item_output_per_run, 2),
			(item_set_slot, "itm_trade_wine", slot_item_overhead_per_run, 60),
			(item_set_slot, "itm_trade_wine", slot_item_base_price, 220),
			(item_set_slot, "itm_trade_wine", slot_item_enterprise_building_cost, 5000),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_urban_demand, 0),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_production_slot, 211),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_is_raw_material_only_for, "itm_trade_wine"),
			(item_set_slot, "itm_trade_raw_grapes", slot_item_base_price, 75),
			(item_set_slot, "itm_trade_apples", slot_item_urban_demand, 4),
			(item_set_slot, "itm_trade_apples", slot_item_rural_demand, 4),
			(item_set_slot, "itm_trade_apples", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_apples", slot_item_production_slot, 211),
			(item_set_slot, "itm_trade_apples", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_trade_apples", slot_item_base_price, 44),
			(item_set_slot, "itm_trade_smoked_fish", slot_item_urban_demand, 16),
			(item_set_slot, "itm_trade_smoked_fish", slot_item_rural_demand, 16),
			(item_set_slot, "itm_trade_smoked_fish", slot_item_desert_demand, 16),
			(item_set_slot, "itm_trade_smoked_fish", slot_item_production_slot, 214),
			(item_set_slot, "itm_trade_smoked_fish", slot_item_production_string, "str_boats"),
			(item_set_slot, "itm_trade_salt", slot_item_urban_demand, 5),
			(item_set_slot, "itm_trade_salt", slot_item_rural_demand, 3),
			(item_set_slot, "itm_trade_salt", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_salt", slot_item_production_slot, 215),
			(item_set_slot, "itm_trade_salt", slot_item_production_string, "str_pans"),
			(item_set_slot, "itm_trade_dried_meat", slot_item_urban_demand, 20),
			(item_set_slot, "itm_trade_dried_meat", slot_item_rural_demand, 5),
			(item_set_slot, "itm_trade_dried_meat", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_dried_meat", slot_item_production_slot, 205),
			(item_set_slot, "itm_trade_dried_meat", slot_item_production_string, "str_head_cattle"),
			(item_set_slot, "itm_trade_cattle_meat", slot_item_urban_demand, 12),
			(item_set_slot, "itm_trade_cattle_meat", slot_item_rural_demand, 3),
			(item_set_slot, "itm_trade_cattle_meat", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_cattle_meat", slot_item_production_slot, 205),
			(item_set_slot, "itm_trade_cattle_meat", slot_item_production_string, "str_head_cattle"),
			(item_set_slot, "itm_trade_cheese", slot_item_urban_demand, 10),
			(item_set_slot, "itm_trade_cheese", slot_item_rural_demand, 10),
			(item_set_slot, "itm_trade_cheese", slot_item_desert_demand, 10),
			(item_set_slot, "itm_trade_cheese", slot_item_production_slot, 205),
			(item_set_slot, "itm_trade_cheese", slot_item_production_string, "str_head_cattle"),
			(item_set_slot, "itm_trade_butter", slot_item_urban_demand, 2),
			(item_set_slot, "itm_trade_butter", slot_item_rural_demand, 2),
			(item_set_slot, "itm_trade_butter", slot_item_desert_demand, 2),
			(item_set_slot, "itm_trade_butter", slot_item_production_slot, 205),
			(item_set_slot, "itm_trade_butter", slot_item_production_string, "str_head_cattle"),
			(item_set_slot, "itm_trade_leatherwork", slot_item_urban_demand, 10),
			(item_set_slot, "itm_trade_leatherwork", slot_item_rural_demand, 10),
			(item_set_slot, "itm_trade_leatherwork", slot_item_desert_demand, 10),
			(item_set_slot, "itm_trade_leatherwork", slot_item_production_slot, 230),
			(item_set_slot, "itm_trade_leatherwork", slot_item_production_string, "str_tanneries"),
			(item_set_slot, "itm_trade_leatherwork", slot_item_primary_raw_material, "itm_trade_raw_leather"),
			(item_set_slot, "itm_trade_leatherwork", slot_item_input_number, 3),
			(item_set_slot, "itm_trade_leatherwork", slot_item_output_per_run, 3),
			(item_set_slot, "itm_trade_leatherwork", slot_item_overhead_per_run, 50),
			(item_set_slot, "itm_trade_leatherwork", slot_item_base_price, 220),
			(item_set_slot, "itm_trade_leatherwork", slot_item_enterprise_building_cost, 8000),
			(item_set_slot, "itm_trade_raw_leather", slot_item_urban_demand, 0),
			(item_set_slot, "itm_trade_raw_leather", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_raw_leather", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_raw_leather", slot_item_production_slot, 205),
			(item_set_slot, "itm_trade_raw_leather", slot_item_production_string, "str_head_cattle"),
			(item_set_slot, "itm_trade_raw_leather", slot_item_is_raw_material_only_for, "itm_trade_leatherwork"),
			(item_set_slot, "itm_trade_raw_leather", slot_item_base_price, 120),
			(item_set_slot, "itm_trade_sausages", slot_item_urban_demand, 12),
			(item_set_slot, "itm_trade_sausages", slot_item_rural_demand, 3),
			(item_set_slot, "itm_trade_sausages", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_sausages", slot_item_production_slot, 206),
			(item_set_slot, "itm_trade_sausages", slot_item_production_string, "str_head_sheep"),
			(item_set_slot, "itm_trade_wool", slot_item_urban_demand, 0),
			(item_set_slot, "itm_trade_wool", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_wool", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_wool", slot_item_production_slot, 206),
			(item_set_slot, "itm_trade_wool", slot_item_production_string, "str_head_sheep"),
			(item_set_slot, "itm_trade_wool", slot_item_is_raw_material_only_for, "itm_trade_wool_cloth"),
			(item_set_slot, "itm_trade_wool", slot_item_base_price, 130),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_urban_demand, 15),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_rural_demand, 20),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_desert_demand, 5),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_production_slot, 227),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_production_string, "str_looms"),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_primary_raw_material, "itm_trade_wool"),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_input_number, 2),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_output_per_run, 2),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_overhead_per_run, 120),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_base_price, 250),
			(item_set_slot, "itm_trade_wool_cloth", slot_item_enterprise_building_cost, 6000),
			(item_set_slot, "itm_trade_raw_flax", slot_item_urban_demand, 0),
			(item_set_slot, "itm_trade_raw_flax", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_raw_flax", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_raw_flax", slot_item_production_slot, 212),
			(item_set_slot, "itm_trade_raw_flax", slot_item_production_string, "str_acres_flax"),
			(item_set_slot, "itm_trade_raw_flax", slot_item_is_raw_material_only_for, "itm_trade_linen"),
			(item_set_slot, "itm_trade_raw_flax", slot_item_base_price, 150),
			(item_set_slot, "itm_trade_linen", slot_item_urban_demand, 7),
			(item_set_slot, "itm_trade_linen", slot_item_rural_demand, 3),
			(item_set_slot, "itm_trade_linen", slot_item_desert_demand, 15),
			(item_set_slot, "itm_trade_linen", slot_item_production_slot, 225),
			(item_set_slot, "itm_trade_linen", slot_item_production_string, "str_looms"),
			(item_set_slot, "itm_trade_linen", slot_item_primary_raw_material, "itm_trade_raw_flax"),
			(item_set_slot, "itm_trade_linen", slot_item_input_number, 2),
			(item_set_slot, "itm_trade_linen", slot_item_output_per_run, 2),
			(item_set_slot, "itm_trade_linen", slot_item_overhead_per_run, 120),
			(item_set_slot, "itm_trade_linen", slot_item_base_price, 250),
			(item_set_slot, "itm_trade_linen", slot_item_enterprise_building_cost, 6000),
			(item_set_slot, "itm_trade_iron", slot_item_urban_demand, 0),
			(item_set_slot, "itm_trade_iron", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_iron", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_iron", slot_item_production_slot, 219),
			(item_set_slot, "itm_trade_iron", slot_item_production_string, "str_deposits"),
			(item_set_slot, "itm_trade_iron", slot_item_is_raw_material_only_for, "itm_trade_tools"),
			(item_set_slot, "itm_trade_iron", slot_item_base_price, 264),
			(item_set_slot, "itm_trade_tools", slot_item_urban_demand, 7),
			(item_set_slot, "itm_trade_tools", slot_item_rural_demand, 7),
			(item_set_slot, "itm_trade_tools", slot_item_desert_demand, 7),
			(item_set_slot, "itm_trade_tools", slot_item_production_slot, 229),
			(item_set_slot, "itm_trade_tools", slot_item_production_string, "str_smithies"),
			(item_set_slot, "itm_trade_tools", slot_item_primary_raw_material, "itm_trade_iron"),
			(item_set_slot, "itm_trade_tools", slot_item_input_number, 2),
			(item_set_slot, "itm_trade_tools", slot_item_output_per_run, 2),
			(item_set_slot, "itm_trade_tools", slot_item_overhead_per_run, 60),
			(item_set_slot, "itm_trade_tools", slot_item_base_price, 410),
			(item_set_slot, "itm_trade_tools", slot_item_enterprise_building_cost, 3500),
			(item_set_slot, "itm_trade_pottery", slot_item_urban_demand, 5),
			(item_set_slot, "itm_trade_pottery", slot_item_rural_demand, 5),
			(item_set_slot, "itm_trade_pottery", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_pottery", slot_item_production_slot, 228),
			(item_set_slot, "itm_trade_pottery", slot_item_production_string, "str_kilns"),
			(item_set_slot, "itm_trade_oil", slot_item_urban_demand, 10),
			(item_set_slot, "itm_trade_oil", slot_item_rural_demand, 5),
			(item_set_slot, "itm_trade_oil", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_oil", slot_item_production_slot, 224),
			(item_set_slot, "itm_trade_oil", slot_item_production_string, "str_presses"),
			(item_set_slot, "itm_trade_oil", slot_item_primary_raw_material, "itm_trade_raw_olives"),
			(item_set_slot, "itm_trade_oil", slot_item_input_number, 6),
			(item_set_slot, "itm_trade_oil", slot_item_output_per_run, 2),
			(item_set_slot, "itm_trade_oil", slot_item_overhead_per_run, 80),
			(item_set_slot, "itm_trade_oil", slot_item_base_price, 450),
			(item_set_slot, "itm_trade_oil", slot_item_enterprise_building_cost, 4500),
			(item_set_slot, "itm_trade_raw_olives", slot_item_urban_demand, 0),
			(item_set_slot, "itm_trade_raw_olives", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_raw_olives", slot_item_desert_demand, 0),
			(item_set_slot, "itm_trade_raw_olives", slot_item_production_slot, 210),
			(item_set_slot, "itm_trade_raw_olives", slot_item_production_string, "str_olive_groves"),
			(item_set_slot, "itm_trade_raw_olives", slot_item_is_raw_material_only_for, "itm_trade_oil"),
			(item_set_slot, "itm_trade_raw_olives", slot_item_base_price, 100),
			(item_set_slot, "itm_trade_velvet", slot_item_urban_demand, 5),
			(item_set_slot, "itm_trade_velvet", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_velvet", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_velvet", slot_item_production_slot, 226),
			(item_set_slot, "itm_trade_velvet", slot_item_production_string, "str_looms"),
			(item_set_slot, "itm_trade_velvet", slot_item_primary_raw_material, "itm_trade_raw_silk"),
			(item_set_slot, "itm_trade_velvet", slot_item_input_number, 2),
			(item_set_slot, "itm_trade_velvet", slot_item_output_per_run, 2),
			(item_set_slot, "itm_trade_velvet", slot_item_overhead_per_run, 160),
			(item_set_slot, "itm_trade_velvet", slot_item_base_price, 1025),
			(item_set_slot, "itm_trade_velvet", slot_item_secondary_raw_material, "itm_trade_raw_dyes"),
			(item_set_slot, "itm_trade_velvet", slot_item_enterprise_building_cost, 10000),
			(item_set_slot, "itm_trade_raw_silk", slot_item_urban_demand, 0),
			(item_set_slot, "itm_trade_raw_silk", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_raw_silk", slot_item_production_slot, 217),
			(item_set_slot, "itm_trade_raw_silk", slot_item_production_string, "str_mulberry_groves"),
			(item_set_slot, "itm_trade_raw_silk", slot_item_is_raw_material_only_for, "itm_trade_velvet"),
			(item_set_slot, "itm_trade_raw_silk", slot_item_base_price, 600),
			(item_set_slot, "itm_trade_raw_dyes", slot_item_urban_demand, 3),
			(item_set_slot, "itm_trade_raw_dyes", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_raw_dyes", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_raw_dyes", slot_item_production_string, "str_caravans"),
			(item_set_slot, "itm_trade_raw_dyes", slot_item_base_price, 200),
			(item_set_slot, "itm_trade_spice", slot_item_urban_demand, 5),
			(item_set_slot, "itm_trade_spice", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_spice", slot_item_desert_demand, 5),
			(item_set_slot, "itm_trade_spice", slot_item_production_string, "str_caravans"),
			(item_set_slot, "itm_trade_furs", slot_item_urban_demand, 5),
			(item_set_slot, "itm_trade_furs", slot_item_rural_demand, 0),
			(item_set_slot, "itm_trade_furs", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_furs", slot_item_production_slot, 220),
			(item_set_slot, "itm_trade_furs", slot_item_production_string, "str_traps"),
			(item_set_slot, "itm_trade_honey", slot_item_urban_demand, 12),
			(item_set_slot, "itm_trade_honey", slot_item_rural_demand, 3),
			(item_set_slot, "itm_trade_honey", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_honey", slot_item_production_slot, 216),
			(item_set_slot, "itm_trade_honey", slot_item_production_string, "str_hives"),
			(item_set_slot, "itm_trade_cabbages", slot_item_urban_demand, 7),
			(item_set_slot, "itm_trade_cabbages", slot_item_rural_demand, 7),
			(item_set_slot, "itm_trade_cabbages", slot_item_desert_demand, 7),
			(item_set_slot, "itm_trade_cabbages", slot_item_production_slot, 232),
			(item_set_slot, "itm_trade_cabbages", slot_item_production_string, "str_gardens"),
			(item_set_slot, "itm_trade_raw_date_fruit", slot_item_urban_demand, 7),
			(item_set_slot, "itm_trade_raw_date_fruit", slot_item_rural_demand, 7),
			(item_set_slot, "itm_trade_raw_date_fruit", slot_item_desert_demand, 7),
			(item_set_slot, "itm_trade_raw_date_fruit", slot_item_production_slot, 213),
			(item_set_slot, "itm_trade_raw_date_fruit", slot_item_production_string, "str_acres_oasis"),
			(item_set_slot, "itm_trade_chicken", slot_item_urban_demand, 40),
			(item_set_slot, "itm_trade_chicken", slot_item_rural_demand, 10),
			(item_set_slot, "itm_trade_chicken", slot_item_desert_demand, -1),
			(item_set_slot, "itm_trade_pork", slot_item_urban_demand, 40),
			(item_set_slot, "itm_trade_pork", slot_item_rural_demand, 10),
			(item_set_slot, "itm_trade_pork", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_gold_chalice", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_gold_chalice", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_gold_chalice", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_gold_chalice", slot_item_production_slot, 236),
			(item_set_slot, "itm_market_gold_chalice", slot_item_production_string, "str_goldmine"),
			(item_set_slot, "itm_market_lemon_basket", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_lemon_basket", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_lemon_basket", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_lemon_basket", slot_item_production_slot, 237),
			(item_set_slot, "itm_market_lemon_basket", slot_item_production_string, "str_lemons"),
			(item_set_slot, "itm_market_plum_basket", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_plum_basket", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_plum_basket", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_plum_basket", slot_item_production_slot, 238),
			(item_set_slot, "itm_market_plum_basket", slot_item_production_string, "str_plums"),
			(item_set_slot, "itm_market_dornish_wine", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_dornish_wine", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_dornish_wine", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_dornish_wine", slot_item_production_slot, 239),
			(item_set_slot, "itm_market_dornish_wine", slot_item_production_string, "str_dornish_wine"),
			(item_set_slot, "itm_market_apple_basket", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_apple_basket", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_apple_basket", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_apple_basket", slot_item_production_slot, 240),
			(item_set_slot, "itm_market_apple_basket", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_pear_basket", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_pear_basket", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_pear_basket", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_pear_basket", slot_item_production_slot, 241),
			(item_set_slot, "itm_market_pear_basket", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_arbor_red", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_arbor_red", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_arbor_red", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_arbor_red", slot_item_production_slot, 242),
			(item_set_slot, "itm_market_arbor_red", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_candles", slot_item_urban_demand, 40),
			(item_set_slot, "itm_market_candles", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_candles", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_candles", slot_item_production_slot, 243),
			(item_set_slot, "itm_market_candles", slot_item_production_string, "str_candles"),
			(item_set_slot, "itm_market_silver_chalice", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_silver_chalice", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_silver_chalice", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_silver_chalice", slot_item_production_slot, 244),
			(item_set_slot, "itm_market_silver_chalice", slot_item_production_string, "str_deposits"),
			(item_set_slot, "itm_market_lead", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_lead", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_lead", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_lead", slot_item_production_slot, 245),
			(item_set_slot, "itm_market_lead", slot_item_production_string, "str_deposits"),
			(item_set_slot, "itm_market_tin", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_tin", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_tin", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_tin", slot_item_production_slot, 246),
			(item_set_slot, "itm_market_tin", slot_item_production_string, "str_deposits"),
			(item_set_slot, "itm_market_coal", slot_item_urban_demand, 25),
			(item_set_slot, "itm_market_coal", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_coal", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_coal", slot_item_production_slot, 247),
			(item_set_slot, "itm_market_coal", slot_item_production_string, "str_deposits"),
			(item_set_slot, "itm_market_pumpkins", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_pumpkins", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_pumpkins", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_pumpkins", slot_item_production_slot, 248),
			(item_set_slot, "itm_market_pumpkins", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_pentoshi_wine", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_pentoshi_wine", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_pentoshi_wine", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_pentoshi_wine", slot_item_production_slot, 249),
			(item_set_slot, "itm_market_pentoshi_wine", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_lyseni_wine", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_lyseni_wine", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_lyseni_wine", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_lyseni_wine", slot_item_production_slot, 250),
			(item_set_slot, "itm_market_lyseni_wine", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_qohorik_carpets", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_qohorik_carpets", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_qohorik_carpets", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_qohorik_carpets", slot_item_production_slot, 251),
			(item_set_slot, "itm_market_qohorik_carpets", slot_item_production_string, "str_mulberry_groves"),
			(item_set_slot, "itm_market_bronzewood", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_bronzewood", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_bronzewood", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_bronzewood", slot_item_production_slot, 252),
			(item_set_slot, "itm_market_bronzewood", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_myrish_carpets", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_myrish_carpets", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_myrish_carpets", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_myrish_carpets", slot_item_production_slot, 253),
			(item_set_slot, "itm_market_myrish_carpets", slot_item_production_string, "str_mulberry_groves"),
			(item_set_slot, "itm_market_tyroshi_pear_brandy", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_tyroshi_pear_brandy", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_tyroshi_pear_brandy", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_tyroshi_pear_brandy", slot_item_production_slot, 254),
			(item_set_slot, "itm_market_tyroshi_pear_brandy", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_volantene_wine", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_volantene_wine", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_volantene_wine", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_volantene_wine", slot_item_production_slot, 255),
			(item_set_slot, "itm_market_volantene_wine", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_persimmon_wine", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_persimmon_wine", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_persimmon_wine", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_persimmon_wine", slot_item_production_slot, 256),
			(item_set_slot, "itm_market_persimmon_wine", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_perfume", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_perfume", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_perfume", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_perfume", slot_item_production_slot, 257),
			(item_set_slot, "itm_market_perfume", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_market_ironwood", slot_item_urban_demand, 20),
			(item_set_slot, "itm_market_ironwood", slot_item_rural_demand, 1),
			(item_set_slot, "itm_market_ironwood", slot_item_desert_demand, -1),
			(item_set_slot, "itm_market_ironwood", slot_item_production_slot, 258),
			(item_set_slot, "itm_market_ironwood", slot_item_production_string, "str_acres_orchard"),
			(item_set_slot, "itm_book_tactics", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_persuasion", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_leadership", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_intelligence", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_trade", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_weapon_mastery", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_engineering", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_prisoner_management", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_spotting_reference", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_first_aid_reference", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_pathfinding_reference", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_wound_treatment_reference", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_training_reference", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_surgery_reference", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_bible", slot_item_intelligence_requirement, 10),
			(item_set_slot, "itm_book_necronomicon", slot_item_intelligence_requirement, 10)
		]),

	("initialize_town_arena_info",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_town_tournament_max_teams, 4),
				(party_set_slot, ":party", slot_town_tournament_max_team_size, 8),
			(try_end),
			(party_set_slot, "p_town_1", slot_town_tournament_max_team_size, 2),
			(party_set_slot, "p_town_1", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_1", slot_town_arena_melee_1_team_size, 4),
			(party_set_slot, "p_town_1", slot_town_arena_melee_2_num_teams, 4),
			(party_set_slot, "p_town_1", slot_town_arena_melee_2_team_size, 6),
			(party_set_slot, "p_town_1", slot_town_arena_melee_3_num_teams, 4),
			(party_set_slot, "p_town_1", slot_town_arena_melee_3_team_size, 8),
			(party_set_slot, "p_town_3", slot_town_arena_melee_1_num_teams, 2),
			(party_set_slot, "p_town_3", slot_town_arena_melee_1_team_size, 8),
			(party_set_slot, "p_town_3", slot_town_arena_melee_2_num_teams, 2),
			(party_set_slot, "p_town_3", slot_town_arena_melee_2_team_size, 8),
			(party_set_slot, "p_town_3", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_3", slot_town_arena_melee_3_team_size, 8),
			(party_set_slot, "p_town_6", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_6", slot_town_arena_melee_1_team_size, 4),
			(party_set_slot, "p_town_6", slot_town_arena_melee_2_num_teams, 4),
			(party_set_slot, "p_town_6", slot_town_arena_melee_2_team_size, 6),
			(party_set_slot, "p_town_6", slot_town_arena_melee_3_num_teams, 4),
			(party_set_slot, "p_town_6", slot_town_arena_melee_3_team_size, 8),
			(party_set_slot, "p_town_8", slot_town_arena_melee_1_num_teams, 3),
			(party_set_slot, "p_town_8", slot_town_arena_melee_1_team_size, 1),
			(party_set_slot, "p_town_8", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_8", slot_town_arena_melee_2_team_size, 3),
			(party_set_slot, "p_town_8", slot_town_arena_melee_3_num_teams, 3),
			(party_set_slot, "p_town_8", slot_town_arena_melee_3_team_size, 7),
			(party_set_slot, "p_town_9", slot_town_arena_melee_1_num_teams, 2),
			(party_set_slot, "p_town_9", slot_town_arena_melee_1_team_size, 2),
			(party_set_slot, "p_town_9", slot_town_arena_melee_2_num_teams, 2),
			(party_set_slot, "p_town_9", slot_town_arena_melee_2_team_size, 5),
			(party_set_slot, "p_town_9", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_9", slot_town_arena_melee_3_team_size, 8),
			(party_set_slot, "p_town_12", slot_town_arena_melee_1_num_teams, 3),
			(party_set_slot, "p_town_12", slot_town_arena_melee_1_team_size, 8),
			(party_set_slot, "p_town_12", slot_town_arena_melee_2_num_teams, 4),
			(party_set_slot, "p_town_12", slot_town_arena_melee_2_team_size, 6),
			(party_set_slot, "p_town_12", slot_town_arena_melee_3_num_teams, 4),
			(party_set_slot, "p_town_12", slot_town_arena_melee_3_team_size, 5),
			(party_set_slot, "p_town_16", slot_town_arena_melee_1_num_teams, 3),
			(party_set_slot, "p_town_16", slot_town_arena_melee_1_team_size, 8),
			(party_set_slot, "p_town_16", slot_town_arena_melee_2_num_teams, 4),
			(party_set_slot, "p_town_16", slot_town_arena_melee_2_team_size, 6),
			(party_set_slot, "p_town_16", slot_town_arena_melee_3_num_teams, 4),
			(party_set_slot, "p_town_16", slot_town_arena_melee_3_team_size, 5),
			(party_set_slot, "p_town_17", slot_town_arena_melee_1_num_teams, 2),
			(party_set_slot, "p_town_17", slot_town_arena_melee_1_team_size, 8),
			(party_set_slot, "p_town_17", slot_town_arena_melee_2_num_teams, 4),
			(party_set_slot, "p_town_17", slot_town_arena_melee_2_team_size, 5),
			(party_set_slot, "p_town_17", slot_town_arena_melee_3_num_teams, 4),
			(party_set_slot, "p_town_17", slot_town_arena_melee_3_team_size, 7),
			(party_set_slot, "p_town_18", slot_town_arena_melee_1_num_teams, 2),
			(party_set_slot, "p_town_18", slot_town_arena_melee_1_team_size, 4),
			(party_set_slot, "p_town_18", slot_town_arena_melee_2_num_teams, 2),
			(party_set_slot, "p_town_18", slot_town_arena_melee_2_team_size, 5),
			(party_set_slot, "p_town_18", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_18", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_19", slot_town_arena_melee_1_num_teams, 2),
			(party_set_slot, "p_town_19", slot_town_arena_melee_1_team_size, 8),
			(party_set_slot, "p_town_19", slot_town_arena_melee_2_num_teams, 4),
			(party_set_slot, "p_town_19", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_19", slot_town_arena_melee_3_num_teams, 4),
			(party_set_slot, "p_town_19", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_20", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_20", slot_town_arena_melee_1_team_size, 2),
			(party_set_slot, "p_town_20", slot_town_arena_melee_2_num_teams, 4),
			(party_set_slot, "p_town_20", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_20", slot_town_arena_melee_3_num_teams, 4),
			(party_set_slot, "p_town_20", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_23", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_23", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_23", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_23", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_23", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_23", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_24", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_24", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_24", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_24", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_24", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_24", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_25", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_25", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_25", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_25", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_25", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_25", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_26", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_26", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_26", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_26", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_26", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_26", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_27", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_27", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_27", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_27", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_27", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_27", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_30", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_30", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_30", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_30", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_30", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_30", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_31", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_31", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_31", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_31", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_31", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_31", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_32", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_32", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_32", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_32", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_32", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_32", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_33", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_33", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_33", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_33", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_33", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_33", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_34", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_34", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_34", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_34", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_34", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_34", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_35", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_35", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_35", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_35", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_35", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_35", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_36", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_36", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_36", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_36", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_36", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_36", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_38", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_38", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_38", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_38", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_38", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_38", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_40", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_40", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_40", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_40", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_40", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_40", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_41", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_41", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_41", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_41", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_41", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_41", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_42", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_42", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_42", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_42", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_42", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_42", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_44", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_44", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_44", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_44", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_44", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_44", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_45", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_45", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_45", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_45", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_45", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_45", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_46", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_46", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_46", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_46", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_46", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_46", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_47", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_47", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_47", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_47", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_47", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_47", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_48", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_48", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_48", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_48", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_48", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_48", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_49", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_49", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_49", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_49", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_49", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_49", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_50", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_50", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_50", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_50", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_50", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_50", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_51", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_51", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_51", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_51", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_51", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_51", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_52", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_52", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_52", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_52", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_52", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_52", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_53", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_53", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_53", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_53", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_53", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_53", slot_town_arena_melee_3_team_size, 6),
			(party_set_slot, "p_town_54", slot_town_arena_melee_1_num_teams, 4),
			(party_set_slot, "p_town_54", slot_town_arena_melee_1_team_size, 3),
			(party_set_slot, "p_town_54", slot_town_arena_melee_2_num_teams, 3),
			(party_set_slot, "p_town_54", slot_town_arena_melee_2_team_size, 4),
			(party_set_slot, "p_town_54", slot_town_arena_melee_3_num_teams, 2),
			(party_set_slot, "p_town_54", slot_town_arena_melee_3_team_size, 6)
		]),

	("initialize_banner_info",
		[
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_set_slot, ":troop", slot_troop_custom_banner_flag_type, -1),
				(troop_set_slot, ":troop", slot_troop_custom_banner_map_flag_type, -1),
			(try_end),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_flag_type, -1),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_map_flag_type, -1),
			(store_random_in_range, "$g_election_date", 0, 45),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_bg_color_1, 4294967295),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_bg_color_2, 4294967295),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_charge_color_1, 4294967295),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_charge_color_2, 4294967295),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_charge_color_3, 4294967295),
			(troop_set_slot, "trp_player", slot_troop_custom_banner_charge_color_4, 4294967295),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_relations_begin, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_occupation, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_state, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_last_talk_time, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_met, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_party_template, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_renown, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_prisoner_of_party, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_present_at_event, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_leaded_party, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_wealth, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_cur_center, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_banner_scene_prop, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_original_faction, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 15, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_player_order_state, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_player_order_object, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_age, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_age_appearance, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_does_not_give_quest, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_player_debt, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_player_relation, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 23, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_last_quest, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_last_quest_betrayed, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_last_persuasion_time, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_last_comment_time, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_spawned_before, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_last_comment_slot, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_spouse, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_father, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_mother, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_guardian, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_betrothed, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_love_interest_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_love_interest_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_love_interest_3, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_love_interests_end, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_betrothal_time, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_lady_used_tournament, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 41, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 42, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 43, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 44, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_current_rumor, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_temp_slot, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_promised_fief, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_set_decision_seed, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_temp_decision_seed, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_recruitment_random, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_intrigue_impatience, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_lord_reputation_type, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_lord_recruitment_argument, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_lord_recruitment_candidate, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_change_to_faction, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 56, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 57, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 58, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_first_encountered, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_home, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_morality_state, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_morality_type, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_morality_value, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_2ary_morality_type, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_2ary_morality_state, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_2ary_morality_value, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_town_with_contacts, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_town_contact_type, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_morality_penalties, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 70, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash_object, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash_state, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash2_object, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash2_state, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalitymatch_object, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalitymatch_state, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash_penalties, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_home_speech_delivered, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 79, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_met_previously, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_turned_down_twice, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_playerparty_history, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_playerparty_history_string, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_return_renown, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_bg_color_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_bg_color_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_color_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_color_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_color_3, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_color_4, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_bg_type, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_type_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_type_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_type_3, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_charge_type_4, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_flag_type, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_num_charges, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_positioning, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_custom_banner_map_flag_type, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", 100, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_intro, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_intro_response_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_intro_response_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_backstory_a, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_backstory_b, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_backstory_c, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_backstory_delayed, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_backstory_response_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_backstory_response_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_signup, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_signup_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_signup_response_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_signup_response_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_mentions_payment, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_payment_response, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_morality_speech, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_2ary_morality_speech, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash_speech, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash_speech_b, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash2_speech, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalityclash2_speech_b, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalitymatch_speech, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_personalitymatch_speech_b, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_retirement_speech, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_rehire_speech, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_home_intro, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_home_description, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_home_description_2, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_home_recap, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_honorific, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_kingsupport_string_1, 14207158),
			(troop_set_slot, "trp_banner_background_color_array", slot_troop_kingsupport_string_2, 14207158)
		]),

	("initialize_economic_information",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_random_in_range, ":random_in_range_1_4", 1, 4),
				(party_set_slot, ":party", slot_center_breweries, ":random_in_range_1_4"),
				(store_random_in_range, ":random_in_range_3_9", 3, 9),
				(party_set_slot, ":party", slot_center_pottery_kilns, ":random_in_range_3_9"),
				(store_random_in_range, ":random_in_range_6_25", 6, 25),
				(party_set_slot, ":party", slot_center_smithies, ":random_in_range_6_25"),
				(store_random_in_range, ":random_in_range_3_9", 3, 9),
				(party_set_slot, ":party", slot_center_mills, ":random_in_range_3_9"),
				(store_random_in_range, ":random_in_range_0_2001", 0, 2001),
				(party_set_slot, ":party", slot_production_sources_begin, ":random_in_range_0_2001"),
			(try_end),
			(party_set_slot, "p_town_8", slot_center_mills, 20),
			(party_set_slot, "p_town_8", 243, 50),
			(party_set_slot, "p_town_8", slot_party_temp_slot_1, 50),
			(party_set_slot, "p_town_50", slot_center_linen_looms, 100),
			(party_set_slot, "p_town_12", slot_center_mills, 20),
			(party_set_slot, "p_town_12", slot_center_wine_presses, 100),
			(party_set_slot, "p_town_12", slot_party_under_player_suggestion, 50),
			(party_set_slot, "p_town_49", slot_center_linen_looms, 100),
			(party_set_slot, "p_town_31", slot_center_mills, 20),
			(party_set_slot, "p_town_31", slot_center_breweries, 100),
			(party_set_slot, "p_town_31", slot_party_following_orders_of_troop, 50),
			(party_set_slot, "p_town_31", 258, 50),
			(party_set_slot, "p_town_16", slot_center_mills, 20),
			(party_set_slot, "p_town_16", slot_center_tanneries, 100),
			(party_set_slot, "p_town_16", slot_center_wool_looms, 100),
			(party_set_slot, "p_town_32", slot_center_olive_presses, 100),
			(party_set_slot, "p_town_40", slot_center_mills, 20),
			(party_set_slot, "p_town_40", slot_center_silk_looms, 100),
			(party_set_slot, "p_town_40", slot_town_trade_good_prices_begin, 50),
			(party_set_slot, "p_town_40", 257, 50),
			(party_set_slot, "p_town_32", slot_center_olive_presses, 100),
			(party_set_slot, "p_town_17", slot_center_mills, 20),
			(party_set_slot, "p_town_17", slot_center_breweries, 100),
			(party_set_slot, "p_town_25", slot_center_wool_looms, 100),
			(party_set_slot, "p_town_38", slot_center_wool_looms, 100),
			(party_set_slot, "p_town_24", slot_center_mills, 20),
			(party_set_slot, "p_town_24", slot_center_smithies, 100),
			(party_set_slot, "p_town_24", 236, 50),
			(party_set_slot, "p_town_34", slot_center_mills, 20),
			(party_set_slot, "p_town_34", slot_center_breweries, 100),
			(party_set_slot, "p_town_34", slot_center_smithies, 100),
			(party_set_slot, "p_town_34", slot_party_orders_type, 50),
			(party_set_slot, "p_town_34", slot_party_orders_object, 50),
			(party_set_slot, "p_town_34", slot_party_orders_time, 50),
			(party_set_slot, "p_town_27", slot_center_smithies, 100),
			(party_set_slot, "p_town_26", slot_center_wool_looms, 100),
			(party_set_slot, "p_town_48", slot_center_linen_looms, 100),
			(party_set_slot, "p_town_51", slot_center_linen_looms, 100),
			(party_set_slot, "p_town_51", slot_party_orders_type, 50),
			(party_set_slot, "p_town_51", slot_party_orders_object, 50),
			(party_set_slot, "p_town_51", slot_party_orders_time, 50),
			(party_set_slot, "p_town_47", slot_center_mills, 20),
			(party_set_slot, "p_town_47", slot_center_silk_looms, 100),
			(party_set_slot, "p_town_47", 255, 50),
			(party_set_slot, "p_town_47", 256, 50),
			(party_set_slot, "p_town_45", slot_center_mills, 20),
			(party_set_slot, "p_town_45", slot_center_linen_looms, 100),
			(party_set_slot, "p_town_45", slot_center_smithies, 100),
			(party_set_slot, "p_town_45", 253, 50),
			(party_set_slot, "p_town_46", slot_center_mills, 20),
			(party_set_slot, "p_town_46", slot_center_linen_looms, 100),
			(party_set_slot, "p_town_46", slot_center_smithies, 100),
			(party_set_slot, "p_town_46", 254, 50),
			(party_set_slot, "p_town_18", slot_center_tanneries, 100),
			(party_set_slot, "p_town_18", slot_center_wool_looms, 100),
			(party_set_slot, "p_town_6", slot_center_tanneries, 40),
			(party_set_slot, "p_town_19", slot_center_mills, 20),
			(party_set_slot, "p_town_19", slot_center_wine_presses, 100),
			(party_set_slot, "p_town_19", 237, 50),
			(party_set_slot, "p_town_19", 238, 50),
			(party_set_slot, "p_town_19", 239, 50),
			(party_set_slot, "p_town_30", slot_center_olive_presses, 100),
			(party_set_slot, "p_town_30", slot_center_wine_presses, 100),
			(party_set_slot, "p_town_30", slot_town_last_nearby_fire_time, 50),
			(party_set_slot, "p_town_30", 241, 50),
			(party_set_slot, "p_town_32", slot_center_mills, 20),
			(party_set_slot, "p_town_32", slot_center_wine_presses, 100),
			(party_set_slot, "p_town_32", slot_center_olive_presses, 100),
			(party_set_slot, "p_town_32", 242, 50),
			(party_set_slot, "p_town_44", slot_center_smithies, 20),
			(party_set_slot, "p_town_44", 251, 50),
			(party_set_slot, "p_town_44", 252, 50),
			(party_set_slot, "p_town_20", slot_center_silk_looms, 100),
			(party_set_slot, "p_town_20", 237, 50),
			(party_set_slot, "p_town_20", 238, 50),
			(party_set_slot, "p_town_20", 239, 50),
			(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
				(try_begin),
					(this_or_next|eq, ":party_2", "p_village_58"),
					(this_or_next|eq, ":party_2", "p_village_60"),
					(this_or_next|eq, ":party_2", "p_village_66"),
					(this_or_next|eq, ":party_2", "p_village_61"),
					(this_or_next|eq, ":party_2", "p_village_72"),
					(this_or_next|eq, ":party_2", "p_village_65"),
					(this_or_next|eq, ":party_2", "p_village_62"),
					(this_or_next|eq, ":party_2", "p_village_67"),
					(this_or_next|eq, ":party_2", "p_village_64"),
					(this_or_next|eq, ":party_2", "p_village_183"),
					(this_or_next|eq, ":party_2", "p_village_63"),
					(this_or_next|eq, ":party_2", "p_village_70"),
					(this_or_next|eq, ":party_2", "p_village_169"),
					(this_or_next|eq, ":party_2", "p_village_155"),
					(this_or_next|eq, ":party_2", "p_village_124"),
					(this_or_next|eq, ":party_2", "p_village_78"),
					(this_or_next|eq, ":party_2", "p_village_71"),
					(this_or_next|eq, ":party_2", "p_village_165"),
					(this_or_next|eq, ":party_2", "p_village_135"),
					(this_or_next|eq, ":party_2", "p_village_180"),
					(eq, ":party_2", "p_village_132"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(store_random_in_range, ":random_in_range_20_100", 20, 100),
				(try_begin),
					(eq, ":value", 1),
					(val_div, ":random_in_range_20_100", 5),
				(try_end),
				(party_set_slot, ":party_2", slot_village_number_of_cattle, ":random_in_range_20_100"),
				(store_random_in_range, ":random_in_range_40_200", 40, 200),
				(try_begin),
					(eq, ":value", 1),
					(val_div, ":random_in_range_40_200", 5),
				(try_end),
				(party_set_slot, ":party_2", slot_center_head_sheep, ":random_in_range_40_200"),
				(store_random_in_range, ":random_in_range_0_40000", 0, 40000),
				(store_random_in_range, ":random_in_range_0_random_in_range_0_40000", 0, ":random_in_range_0_40000"),
				(try_begin),
					(eq, ":value", 1),
					(val_div, ":random_in_range_0_random_in_range_0_40000", 5),
				(try_end),
				(party_set_slot, ":party_2", slot_production_sources_begin, ":random_in_range_0_random_in_range_0_40000"),
				(store_random_in_range, ":random_in_range_0_2000", 0, 2000),
				(store_random_in_range, ":random_in_range_0_random_in_range_0_2000", 0, ":random_in_range_0_2000"),
				(try_begin),
					(eq, ":value", 1),
					(val_div, ":random_in_range_0_random_in_range_0_2000", 5),
				(try_end),
				(party_set_slot, ":party_2", slot_center_acres_vineyard, ":random_in_range_0_random_in_range_0_2000"),
				(store_random_in_range, ":random_in_range_0_2000", 0, 2000),
				(store_random_in_range, ":random_in_range_0_random_in_range_0_2000", 0, ":random_in_range_0_2000"),
				(try_begin),
					(eq, ":value", 1),
					(val_div, ":random_in_range_0_random_in_range_0_2000", 5),
				(try_end),
				(party_set_slot, ":party_2", slot_center_acres_olives, ":random_in_range_0_random_in_range_0_2000"),
				(store_random_in_range, ":random_in_range_0_3", 0, 3),
				(try_begin),
					(eq, ":value", 1),
					(assign, ":random_in_range_0_3", 0),
				(try_end),
				(party_set_slot, ":party_2", slot_center_apiaries, ":random_in_range_0_3"),
				(store_random_in_range, ":random_in_range_0_5", 0, 5),
				(try_begin),
					(eq, ":value", 1),
					(assign, ":random_in_range_0_5", 0),
				(try_end),
				(party_set_slot, ":party_2", slot_center_household_gardens, ":random_in_range_0_5"),
				(store_random_in_range, ":random_in_range_0_3", 0, 3),
				(party_set_slot, ":party_2", slot_center_mills, ":random_in_range_0_3"),
				(store_random_in_range, ":random_in_range_0_5", 0, 5),
				(try_begin),
					(eq, ":value", 1),
					(val_mul, ":random_in_range_0_5", 5),
				(try_end),
				(party_set_slot, ":party_2", slot_center_pottery_kilns, ":random_in_range_0_5"),
				(try_begin),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_1"),
					(party_set_slot, ":party_2", slot_center_salt_pans, 3),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_3"),
					(party_set_slot, ":party_2", slot_center_salt_pans, 5),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_6"),
					(party_set_slot, ":party_2", slot_center_fur_traps, 5),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_8"),
					(party_set_slot, ":party_2", slot_center_household_gardens, 10),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_9"),
					(party_set_slot, ":party_2", slot_center_household_gardens, 10),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_12"),
					(party_set_slot, ":party_2", slot_center_acres_vineyard, 2000),
					(party_set_slot, ":party_2", slot_center_acres_flax, 2500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_16"),
					(party_set_slot, ":party_2", slot_production_sources_begin, 8000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_17"),
					(party_set_slot, ":party_2", slot_center_iron_deposits, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_18"),
					(party_set_slot, ":party_2", slot_center_household_gardens, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_19"),
					(party_set_slot, ":party_2", slot_center_acres_olives, 5000),
					(party_set_slot, ":party_2", slot_center_pottery_kilns, 20),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_20"),
					(party_set_slot, ":party_2", slot_center_acres_olives, 5000),
					(party_set_slot, ":party_2", slot_center_pottery_kilns, 20),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_23"),
					(party_set_slot, ":party_2", slot_center_iron_deposits, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_24"),
					(party_set_slot, ":party_2", slot_center_iron_deposits, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_25"),
					(party_set_slot, ":party_2", slot_production_sources_begin, 8000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_26"),
					(party_set_slot, ":party_2", slot_production_sources_begin, 8000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_27"),
					(party_set_slot, ":party_2", slot_center_iron_deposits, 10),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_30"),
					(party_set_slot, ":party_2", slot_center_acres_vineyard, 2000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_31"),
					(party_set_slot, ":party_2", slot_center_head_sheep, 2000),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_32"),
					(party_set_slot, ":party_2", slot_center_acres_vineyard, 2000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_33"),
					(party_set_slot, ":party_2", slot_center_household_gardens, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_34"),
					(party_set_slot, ":party_2", slot_center_iron_deposits, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_35"),
					(party_set_slot, ":party_2", slot_center_fur_traps, 5),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_36"),
					(party_set_slot, ":party_2", slot_production_sources_begin, 8000),
					(party_set_slot, ":party_2", slot_center_acres_flax, 2500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_38"),
					(party_set_slot, ":party_2", slot_center_salt_pans, 3),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_40"),
					(party_set_slot, ":party_2", slot_center_acres_olives, 5000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_41"),
					(party_set_slot, ":party_2", slot_center_head_sheep, 2000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_42"),
					(party_set_slot, ":party_2", slot_center_acres_vineyard, 2000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_44"),
					(party_set_slot, ":party_2", slot_center_fur_traps, 5),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_45"),
					(party_set_slot, ":party_2", slot_center_acres_vineyard, 8000),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_46"),
					(party_set_slot, ":party_2", slot_center_apiaries, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_47"),
					(party_set_slot, ":party_2", slot_center_silk_farms, 1000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_48"),
					(party_set_slot, ":party_2", slot_center_apiaries, 10),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_49"),
					(party_set_slot, ":party_2", slot_center_acres_dates, 5000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_50"),
					(party_set_slot, ":party_2", slot_center_acres_dates, 5000),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_51"),
					(party_set_slot, ":party_2", slot_center_acres_vineyard, 2000),
					(party_set_slot, ":party_2", slot_center_acres_flax, 2500),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_52"),
					(party_set_slot, ":party_2", slot_production_sources_begin, 8000),
					(party_set_slot, ":party_2", slot_center_acres_flax, 2500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_53"),
					(party_set_slot, ":party_2", slot_production_sources_begin, 8000),
					(party_set_slot, ":party_2", slot_center_pottery_kilns, 20),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(else_try),
					(party_slot_eq, ":party_2", slot_village_market_town, "p_town_54"),
					(party_set_slot, ":party_2", slot_production_sources_begin, 8000),
					(party_set_slot, ":party_2", slot_village_number_of_cattle, 500),
				(try_end),
			(try_end),
			(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
				(party_get_slot, ":party_2_village_bound_center", ":party_2", slot_village_bound_center),
				(is_between, ":party_2_village_bound_center", "p_castle_1", "p_village_1"),
				(try_for_range, ":number", 209, 259),
					(assign, ":var_18", 0),
					(try_for_range, ":party_3", "p_village_1", "p_salt_mine"),
						(party_get_slot, ":party_2_village_bound_center", ":party_3", slot_village_bound_center),
						(is_between, ":party_2_village_bound_center", "p_town_1", "p_castle_1"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_party_2_party_3", ":party_2", ":party_3"),
						(le, ":distance_to_party_from_party_party_2_party_3", 72),
						(party_get_slot, ":party_2_number", ":party_2", ":number"),
						(store_add, ":value_2", ":distance_to_party_from_party_party_2_party_3", 24),
						(store_mul, ":value_3", ":party_2_number", 12),
						(store_div, ":value_4", ":value_3", ":value_2"),
						(val_div, ":value_4", 2),
						(val_add, ":var_18", ":value_4"),
					(try_end),
					(party_set_slot, ":party_2", ":number", ":var_18"),
				(try_end),
			(try_end),
			(party_set_slot, "p_village_180", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_181", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_165", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_138", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_191", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_192", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_32", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_72", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_67", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_69", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_105", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_92", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_25", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_77", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_169", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_163", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_136", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_157", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_88", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_44", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_193", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_13", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_10", slot_center_fishing_fleet, 15),
			(party_set_slot, "p_village_122", slot_center_fishing_fleet, 15),
			(try_for_range, ":party_4", "p_town_1", "p_salt_mine"),
				(party_get_slot, ":party_4_village_number_of_cattle", ":party_4", slot_village_number_of_cattle),
				(party_get_slot, ":party_4_center_head_sheep", ":party_4", slot_center_head_sheep),
				(store_mul, ":value_5", ":party_4_village_number_of_cattle", 4),
				(val_add, ":value_5", ":party_4_center_head_sheep"),
				(val_add, ":value_5", ":party_4_center_head_sheep"),
				(val_mul, ":value_5", 6),
				(val_div, ":value_5", 5),
				(store_random_in_range, ":random_in_range_60_150", 60, 150),
				(val_mul, ":value_5", ":random_in_range_60_150"),
				(val_div, ":value_5", 100),
				(party_set_slot, ":party_4", slot_center_acres_pasture, ":value_5"),
			(try_end),
			(try_for_range, ":unused", 0, 3),
				(call_script, "script_update_trade_good_prices"),
			(try_end),
			(try_for_range, ":party_5", "p_town_1", "p_salt_mine"),
				(neg|is_between, ":party_5", "p_castle_1", "p_village_1"),
				(store_random_in_range, ":random_in_range_-10_10", -10, 10),
				(call_script, "script_get_center_ideal_prosperity", ":party_5"),
				(assign, ":var_33", reg0),
				(val_add, ":var_33", ":random_in_range_-10_10"),
				(val_clamp, ":var_33", 0, 100),
				(party_set_slot, ":party_5", slot_town_prosperity, ":var_33"),
			(try_end),
			(call_script, "script_calculate_castle_prosperities_by_using_its_villages")
		]),

	("initialize_all_scene_prop_slots",
		[
			(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_6m"),
			(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_8m"),
			(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_10m"),
			(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_12m"),
			(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_14m"),
			(call_script, "script_initialize_scene_prop_slots", "spr_castle_e_sally_door_a"),
			(call_script, "script_initialize_scene_prop_slots", "spr_castle_f_sally_door_a"),
			(call_script, "script_initialize_scene_prop_slots", "spr_earth_sally_gate_left"),
			(call_script, "script_initialize_scene_prop_slots", "spr_earth_sally_gate_right"),
			(call_script, "script_initialize_scene_prop_slots", "spr_viking_keep_destroy_sally_door_left"),
			(call_script, "script_initialize_scene_prop_slots", "spr_viking_keep_destroy_sally_door_right"),
			(call_script, "script_initialize_scene_prop_slots", "spr_castle_f_door_a"),
			(call_script, "script_initialize_scene_prop_slots", "spr_belfry_a"),
			(call_script, "script_initialize_scene_prop_slots", "spr_belfry_b"),
			(call_script, "script_initialize_scene_prop_slots", "spr_winch_b")
		]),

	("initialize_scene_prop_slots",
		[
			(store_script_param, ":script_param_1", 1),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_script_param_1"),
				(scene_prop_get_instance, ":scene_prop_instance_script_param_1_number", ":script_param_1", ":number"),
				(try_for_range, ":number_2", 0, 6),
					(scene_prop_set_slot, ":scene_prop_instance_script_param_1_number", ":number_2", 0),
				(try_end),
			(try_end)
		]),

	("use_item",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(game_in_multiplayer_mode),
				(prop_instance_get_scene_prop_kind, ":prop_instance_scene_prop_kind_script_param_1", ":script_param_1"),
				(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_winch_b"),
				(multiplayer_get_my_player, ":multiplayer_my_player"),
				(this_or_next|gt, ":multiplayer_my_player", 0),
				(neg|multiplayer_is_dedicated_server),
				(ge, ":multiplayer_my_player", 0),
				(player_get_agent_id, ":agent_id_multiplayer_my_player", ":multiplayer_my_player"),
				(ge, ":agent_id_multiplayer_my_player", 0),
				(agent_is_active, ":agent_id_multiplayer_my_player"),
				(agent_get_team, ":team_agent_id_multiplayer_my_player", ":agent_id_multiplayer_my_player"),
				(eq, ":team_agent_id_multiplayer_my_player", 0),
				(scene_prop_get_slot, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", ":script_param_1", slot_scene_prop_open_or_close_slot),
				(ge, ":script_param_2", 0),
				(agent_is_active, ":script_param_2"),
				(agent_get_player_id, ":player_id_script_param_2", ":script_param_2"),
				(str_store_player_username, 7, ":player_id_script_param_2"),
				(try_begin),
					(eq, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", 0),
					(display_message, "@{s7} opened the gate"),
				(else_try),
					(display_message, "@{s7} closed the gate"),
				(try_end),
			(try_end),
			(prop_instance_get_scene_prop_kind, ":prop_instance_scene_prop_kind_script_param_1", ":script_param_1"),
			(try_begin),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_winch_b"),
				(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_winch"),
				(assign, ":value", "spr_portcullis"),
			(else_try),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_door_destructible"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_door_b"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_e_sally_door_a"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_sally_door_a"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_earth_sally_gate_left"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_earth_sally_gate_right"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_viking_keep_destroy_sally_door_left"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_viking_keep_destroy_sally_door_right"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_door_a"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_6m"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_8m"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_10m"),
				(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_12m"),
				(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_siege_ladder_move_14m"),
				(assign, ":value", ":prop_instance_scene_prop_kind_script_param_1"),
			(try_end),
			(assign, ":value_2", -1),
			(prop_instance_get_position, 0, ":script_param_1"),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_value", ":value"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_value"),
				(scene_prop_get_instance, ":scene_prop_instance_value_number", ":value", ":number"),
				(prop_instance_get_position, 1, ":scene_prop_instance_value_number"),
				(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
				(this_or_next|eq, ":value_2", -1),
				(lt, ":sq_distance_between_positions_0_1", ":value_2"),
				(assign, ":value_2", ":sq_distance_between_positions_0_1"),
				(assign, ":value_3", ":scene_prop_instance_value_number"),
			(try_end),
			(try_begin),
				(ge, ":script_param_1", 0),
				(ge, ":value_2", 0),
				(try_begin),
					(eq, ":value", "spr_portcullis"),
					(scene_prop_get_slot, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", ":script_param_1", slot_scene_prop_open_or_close_slot),
					(try_begin),
						(eq, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", 0),
						(scene_prop_enable_after_time, ":script_param_1", 400),
						(try_begin),
							(this_or_next|multiplayer_is_server),
							(neg|game_in_multiplayer_mode),
							(prop_instance_get_position, 0, ":value_3"),
							(position_move_z, 0, 375),
							(prop_instance_animate_to_position, ":value_3", 0, 400),
						(try_end),
						(scene_prop_set_slot, ":script_param_1", slot_scene_prop_open_or_close_slot, 1),
						(try_begin),
							(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_winch_b"),
							(this_or_next|multiplayer_is_server),
							(neg|game_in_multiplayer_mode),
							(prop_instance_get_position, 1, ":script_param_1"),
							(prop_instance_rotate_to_position, ":script_param_1", 1, 400, 72000),
						(try_end),
					(else_try),
						(scene_prop_enable_after_time, ":script_param_1", 400),
						(try_begin),
							(this_or_next|multiplayer_is_server),
							(neg|game_in_multiplayer_mode),
							(prop_instance_get_position, 0, ":value_3"),
							(position_move_z, 0, -375),
							(prop_instance_animate_to_position, ":value_3", 0, 400),
						(try_end),
						(scene_prop_set_slot, ":script_param_1", slot_scene_prop_open_or_close_slot, 0),
						(try_begin),
							(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_winch_b"),
							(this_or_next|multiplayer_is_server),
							(neg|game_in_multiplayer_mode),
							(prop_instance_get_position, 1, ":script_param_1"),
							(prop_instance_rotate_to_position, ":script_param_1", 1, 400, -72000),
						(try_end),
					(try_end),
				(else_try),
					(this_or_next|eq, ":value", "spr_siege_ladder_move_6m"),
					(this_or_next|eq, ":value", "spr_siege_ladder_move_8m"),
					(this_or_next|eq, ":value", "spr_siege_ladder_move_10m"),
					(this_or_next|eq, ":value", "spr_siege_ladder_move_12m"),
					(eq, ":value", "spr_siege_ladder_move_14m"),
					(try_begin),
						(eq, ":value", "spr_siege_ladder_move_6m"),
						(assign, ":value_4", 120),
						(assign, ":value_5", 240),
					(else_try),
						(eq, ":value", "spr_siege_ladder_move_8m"),
						(assign, ":value_4", 140),
						(assign, ":value_5", 280),
					(else_try),
						(eq, ":value", "spr_siege_ladder_move_10m"),
						(assign, ":value_4", 160),
						(assign, ":value_5", 320),
					(else_try),
						(eq, ":value", "spr_siege_ladder_move_12m"),
						(assign, ":value_4", 190),
						(assign, ":value_5", 360),
					(else_try),
						(eq, ":value", "spr_siege_ladder_move_14m"),
						(assign, ":value_4", 230),
						(assign, ":value_5", 400),
					(try_end),
					(scene_prop_get_slot, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", ":script_param_1", slot_scene_prop_open_or_close_slot),
					(try_begin),
						(scene_prop_enable_after_time, ":value_3", ":value_5"),
						(eq, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", 0),
						(prop_instance_get_starting_position, 0, ":value_3"),
						(prop_instance_enable_physics, ":value_3", 0),
						(prop_instance_animate_to_position, ":value_3", 0, 300),
						(scene_prop_set_slot, ":value_3", slot_scene_prop_open_or_close_slot, 1),
					(else_try),
						(scene_prop_enable_after_time, ":value_3", ":value_4"),
						(prop_instance_get_position, 0, ":script_param_1"),
						(assign, ":value_2", -1),
						(try_for_range, ":number_2", 100, 110),
							(entry_point_get_position, 1, ":number_2"),
							(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
							(this_or_next|eq, ":value_2", -1),
							(lt, ":sq_distance_between_positions_0_1", ":value_2"),
							(assign, ":value_2", ":sq_distance_between_positions_0_1"),
							(assign, ":var_19", ":number_2"),
						(try_end),
						(try_begin),
							(ge, ":value_2", 0),
							(lt, ":value_2", 22500),
							(entry_point_get_position, 1, ":var_19"),
							(position_rotate_x, 1, -90),
							(scene_prop_set_slot, ":value_3", slot_scene_prop_smoke_effect_done, 0),
							(prop_instance_enable_physics, ":value_3", 0),
							(prop_instance_animate_to_position, ":value_3", 1, 130),
						(try_end),
						(scene_prop_set_slot, ":value_3", slot_scene_prop_open_or_close_slot, 0),
					(try_end),
				(else_try),
					(this_or_next|eq, ":value", "spr_door_destructible"),
					(this_or_next|eq, ":value", "spr_castle_f_door_b"),
					(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_e_sally_door_a"),
					(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_sally_door_a"),
					(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_earth_sally_gate_left"),
					(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_earth_sally_gate_right"),
					(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_viking_keep_destroy_sally_door_left"),
					(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_viking_keep_destroy_sally_door_right"),
					(eq, ":prop_instance_scene_prop_kind_script_param_1", "spr_castle_f_door_a"),
					(assign, ":value_3", ":script_param_1"),
					(scene_prop_get_slot, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", ":value_3", slot_scene_prop_open_or_close_slot),
					(try_begin),
						(eq, ":scene_prop_slot_script_param_1_scene_prop_open_or_close_slot", 0),
						(prop_instance_get_starting_position, 0, ":value_3"),
						(scene_prop_enable_after_time, ":value_3", 100),
						(try_begin),
							(neq, ":prop_instance_scene_prop_kind_script_param_1", "spr_viking_keep_destroy_sally_door_left"),
							(neq, ":prop_instance_scene_prop_kind_script_param_1", "spr_earth_sally_gate_left"),
							(position_rotate_z, 0, -85),
						(else_try),
							(position_rotate_z, 0, 85),
						(try_end),
						(prop_instance_animate_to_position, ":value_3", 0, 100),
						(scene_prop_set_slot, ":value_3", slot_scene_prop_open_or_close_slot, 1),
					(else_try),
						(prop_instance_get_starting_position, 0, ":value_3"),
						(scene_prop_enable_after_time, ":value_3", 100),
						(prop_instance_animate_to_position, ":value_3", 0, 100),
						(scene_prop_set_slot, ":value_3", slot_scene_prop_open_or_close_slot, 0),
					(try_end),
				(try_end),
			(try_end)
		]),

	("determine_team_flags",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(eq, "$g_multiplayer_game_type", 4),
				(try_begin),
					(eq, ":script_param_1", 0),
					(team_get_faction, ":faction_0", 0),
					(try_begin),
						(eq, ":faction_0", "fac_kingdom_1"),
						(assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_1"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_2"),
						(assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_2"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_3"),
						(assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_3"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_4"),
						(assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_4"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_5"),
						(assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_5"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_6"),
						(assign, "$team_1_flag_scene_prop", "spr_ctf_flag_kingdom_6"),
					(try_end),
				(else_try),
					(team_get_faction, ":faction_0", 1),
					(try_begin),
						(eq, ":faction_0", "fac_kingdom_1"),
						(assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_1"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_2"),
						(assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_2"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_3"),
						(assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_3"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_4"),
						(assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_4"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_5"),
						(assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_5"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_6"),
						(assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_6"),
					(try_end),
					(try_begin),
						(eq, "$team_1_flag_scene_prop", "$team_2_flag_scene_prop"),
						(assign, "$team_2_flag_scene_prop", "spr_ctf_flag_kingdom_7"),
					(try_end),
				(try_end),
			(else_try),
				(try_begin),
					(eq, ":script_param_1", 0),
					(team_get_faction, ":faction_0", 0),
					(try_begin),
						(eq, ":faction_0", "fac_kingdom_1"),
						(assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_swadian"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_2"),
						(assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_vaegir"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_3"),
						(assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_khergit"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_4"),
						(assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_nord"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_5"),
						(assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_rhodok"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_6"),
						(assign, "$team_1_flag_scene_prop", "spr_headquarters_flag_sarranid"),
					(try_end),
				(else_try),
					(team_get_faction, ":faction_0", 1),
					(try_begin),
						(eq, ":faction_0", "fac_kingdom_1"),
						(assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_swadian"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_2"),
						(assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_vaegir"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_3"),
						(assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_khergit"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_4"),
						(assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_nord"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_5"),
						(assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_rhodok"),
					(else_try),
						(eq, ":faction_0", "fac_kingdom_6"),
						(assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_sarranid"),
					(try_end),
					(try_begin),
						(eq, "$team_1_flag_scene_prop", "$team_2_flag_scene_prop"),
						(assign, "$team_2_flag_scene_prop", "spr_headquarters_flag_rebel"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("calculate_flag_move_time",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_1", 0),
				(store_mul, reg0, ":script_param_2", 2500),
			(else_try),
				(eq, ":script_param_1", 1),
				(store_mul, reg0, ":script_param_2", 500),
			(else_try),
				(eq, ":script_param_1", 2),
				(store_mul, reg0, ":script_param_2", 300),
			(else_try),
				(eq, ":script_param_1", 3),
				(store_mul, reg0, ":script_param_2", 195),
			(else_try),
				(eq, ":script_param_1", 4),
				(store_mul, reg0, ":script_param_2", 137),
			(else_try),
				(eq, ":script_param_1", 5),
				(store_mul, reg0, ":script_param_2", 102),
			(else_try),
				(eq, ":script_param_1", 6),
				(store_mul, reg0, ":script_param_2", 82),
			(else_try),
				(eq, ":script_param_1", 7),
				(store_mul, reg0, ":script_param_2", 66),
			(else_try),
				(eq, ":script_param_1", 8),
				(store_mul, reg0, ":script_param_2", 59),
			(else_try),
				(store_mul, reg0, ":script_param_2", 56),
			(try_end),
			(assign, ":var_3", 0),
			(get_max_players, ":max_players"),
			(try_for_range, ":number", 0, ":max_players"),
				(player_is_active, ":number"),
				(val_add, ":var_3", 1),
			(try_end),
			(try_begin),
				(lt, ":var_3", 10),
				(val_mul, reg0, 50),
			(else_try),
				(lt, ":var_3", 35),
				(store_sub, ":value", 35, ":var_3"),
				(val_mul, ":value", 2),
				(store_sub, ":value", 100, ":value"),
				(val_mul, reg0, ":value"),
			(else_try),
				(val_mul, reg0, 100),
			(try_end),
			(try_begin),
				(eq, "$g_multiplayer_game_type", 6),
				(val_mul, reg0, 2),
			(try_end),
			(val_div, reg0, 10000)
		]),

	("move_death_mode_flags_down",
		[
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_0", "spr_headquarters_pole_code_only", 0),
				(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_0"),
				(position_move_z, 0, -2000),
				(prop_instance_set_position, ":scene_prop_instance_headquarters_pole_code_only_0", 0),
			(try_end),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_1", "spr_headquarters_pole_code_only", 1),
				(prop_instance_get_position, 1, ":scene_prop_instance_headquarters_pole_code_only_1"),
				(position_move_z, 1, -2000),
				(prop_instance_set_position, ":scene_prop_instance_headquarters_pole_code_only_1", 1),
			(try_end),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_0", "spr_headquarters_pole_code_only", 0),
				(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_0"),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_0", "$team_1_flag_scene_prop", 0),
				(prop_instance_stop_animating, ":scene_prop_instance_team_1_flag_scene_prop_0"),
				(position_move_z, 0, 100),
				(prop_instance_set_position, ":scene_prop_instance_team_1_flag_scene_prop_0", 0),
			(try_end),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_1", "spr_headquarters_pole_code_only", 1),
				(prop_instance_get_position, 1, ":scene_prop_instance_headquarters_pole_code_only_1"),
				(scene_prop_get_instance, ":scene_prop_instance_team_2_flag_scene_prop_0", "$team_2_flag_scene_prop", 0),
				(prop_instance_stop_animating, ":scene_prop_instance_team_2_flag_scene_prop_0"),
				(position_move_z, 1, 100),
				(prop_instance_set_position, ":scene_prop_instance_team_2_flag_scene_prop_0", 1),
			(try_end)
		]),

	("move_flag",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(multiplayer_is_server),
				(try_begin),
					(eq, ":script_param_2", 0),
					(prop_instance_stop_animating, ":script_param_1"),
				(else_try),
					(prop_instance_animate_to_position, ":script_param_1", 0, ":script_param_2"),
				(try_end),
			(try_end)
		]),

	("move_headquarters_flags",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_add, ":value", 146, ":script_param_1"),
			(troop_get_slot, ":multiplayer_data_value", "trp_multiplayer_data", ":value"),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_headquarters_flag_gray_code_only", "spr_headquarters_flag_gray_code_only"),
			(try_begin),
				(assign, ":value_2", 0),
				(lt, ":script_param_1", ":scene_prop_num_instances_headquarters_flag_gray_code_only"),
				(scene_prop_get_instance, ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1", "spr_headquarters_flag_gray_code_only", ":script_param_1"),
				(scene_prop_get_visibility, ":value_2", ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1"),
			(try_end),
			(try_begin),
				(eq, ":value_2", 1),
				(assign, ":value_3", 0),
				(assign, ":value_4", ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1"),
			(else_try),
				(scene_prop_get_num_instances, ":scene_prop_num_instances_headquarters_flag_gray_code_only", "$team_1_flag_scene_prop"),
				(try_begin),
					(assign, ":value_2", 0),
					(lt, ":script_param_1", ":scene_prop_num_instances_headquarters_flag_gray_code_only"),
					(scene_prop_get_instance, ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1", "$team_1_flag_scene_prop", ":script_param_1"),
					(scene_prop_get_visibility, ":value_2", ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1"),
				(try_end),
				(try_begin),
					(eq, ":value_2", 1),
					(assign, ":value_3", 1),
					(assign, ":value_4", ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1"),
				(else_try),
					(scene_prop_get_num_instances, ":scene_prop_num_instances_headquarters_flag_gray_code_only", "$team_2_flag_scene_prop"),
					(try_begin),
						(assign, ":value_2", 0),
						(lt, ":script_param_1", ":scene_prop_num_instances_headquarters_flag_gray_code_only"),
						(scene_prop_get_instance, ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1", "$team_2_flag_scene_prop", ":script_param_1"),
						(scene_prop_get_visibility, ":value_2", ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1"),
					(try_end),
					(try_begin),
						(eq, ":value_2", 1),
						(assign, ":value_3", 2),
						(assign, ":value_4", ":scene_prop_instance_headquarters_flag_gray_code_only_script_param_1"),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_script_param_1", "spr_headquarters_pole_code_only", ":script_param_1"),
			(try_end),
			(try_begin),
				(eq, ":value_3", ":multiplayer_data_value"),
				(try_begin),
					(ge, ":script_param_2", 1),
					(ge, ":script_param_3", 1),
					(assign, ":value_5", 0),
				(else_try),
					(eq, ":script_param_2", 0),
					(eq, ":script_param_3", 0),
					(assign, ":value_5", 1),
				(else_try),
					(try_begin),
						(ge, ":script_param_2", 1),
						(eq, ":script_param_3", 0),
						(eq, ":multiplayer_data_value", 1),
						(assign, ":value_5", 1),
					(else_try),
						(eq, ":script_param_2", 0),
						(ge, ":script_param_3", 1),
						(eq, ":multiplayer_data_value", 2),
						(assign, ":value_5", 1),
					(else_try),
						(assign, ":value_5", -1),
					(try_end),
				(try_end),
			(else_try),
				(try_begin),
					(ge, ":script_param_2", 1),
					(ge, ":script_param_3", 1),
					(assign, ":value_5", 0),
				(else_try),
					(eq, ":script_param_2", 0),
					(eq, ":script_param_3", 0),
					(assign, ":value_5", -1),
				(else_try),
					(try_begin),
						(ge, ":script_param_2", 1),
						(eq, ":script_param_3", 0),
						(try_begin),
							(eq, ":value_3", 1),
							(assign, ":value_5", 1),
						(else_try),
							(neq, ":multiplayer_data_value", 1),
							(assign, ":value_5", -1),
						(try_end),
					(else_try),
						(eq, ":script_param_2", 0),
						(ge, ":script_param_3", 1),
						(try_begin),
							(eq, ":value_3", 2),
							(assign, ":value_5", 1),
						(else_try),
							(neq, ":multiplayer_data_value", 2),
							(assign, ":value_5", -1),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(store_add, ":value_6", ":script_param_2", ":script_param_3"),
			(try_begin),
				(eq, ":value_5", 0),
				(assign, reg0, 0),
			(else_try),
				(eq, ":value_5", 1),
				(prop_instance_get_position, 1, ":value_4"),
				(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_script_param_1"),
				(position_move_z, 0, 900),
				(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
				(call_script, "script_calculate_flag_move_time", ":value_6", ":distance_between_positions_0_1"),
			(else_try),
				(eq, ":value_5", -1),
				(prop_instance_get_position, 1, ":value_4"),
				(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_script_param_1"),
				(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
				(call_script, "script_calculate_flag_move_time", ":value_6", ":distance_between_positions_0_1"),
			(try_end),
			(call_script, "script_move_flag", ":value_4", reg0)
		]),

	("set_num_agents_around_flag",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_div, ":value", ":script_param_2", 100),
			(store_mod, ":value_2", ":script_param_2", 100),
			(store_add, ":value_3", 156, ":script_param_1"),
			(troop_set_slot, "trp_multiplayer_data", ":value_3", ":script_param_2"),
			(call_script, "script_move_headquarters_flags", ":script_param_1", ":value", ":value_2")
		]),

	("change_flag_owner",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(lt, ":script_param_2", 0),
				(val_add, ":script_param_2", 1),
				(val_mul, ":script_param_2", -1),
			(try_end),
			(store_div, ":value", ":script_param_2", 100),
			(store_mod, ":value_2", ":script_param_2", 100),
			(store_add, ":value_3", 146, ":script_param_1"),
			(troop_get_slot, ":multiplayer_data_value_3", "trp_multiplayer_data", ":value_3"),
			(store_add, ":value_3", 146, ":script_param_1"),
			(troop_set_slot, "trp_multiplayer_data", ":value_3", ":value"),
			(try_begin),
				(multiplayer_is_server),
				(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_script_param_1", "spr_headquarters_pole_code_only", ":script_param_1"),
				(try_begin),
					(eq, ":value", 0),
					(neq, ":multiplayer_data_value_3", -1),
					(assign, ":value_4", 1),
					(try_begin),
						(multiplayer_is_server),
						(eq, "$g_placing_initial_flags", 1),
						(assign, ":value_4", 0),
					(try_end),
					(eq, ":value_4", 1),
					(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_script_param_1"),
					(position_move_z, 0, 200),
				(else_try),
					(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_script_param_1"),
					(position_move_z, 0, 900),
				(try_end),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_1_flag_scene_prop", ":script_param_1"),
				(prop_instance_stop_animating, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1"),
				(prop_instance_set_position, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_2_flag_scene_prop", ":script_param_1"),
				(prop_instance_stop_animating, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1"),
				(prop_instance_set_position, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "spr_headquarters_flag_gray_code_only", ":script_param_1"),
				(prop_instance_stop_animating, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1"),
				(prop_instance_set_position, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
			(try_end),
			(try_begin),
				(eq, ":value_2", 0),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_1_flag_scene_prop", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_2_flag_scene_prop", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "spr_headquarters_flag_gray_code_only", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 1),
			(else_try),
				(eq, ":value_2", 1),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_1_flag_scene_prop", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 1),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_2_flag_scene_prop", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "spr_headquarters_flag_gray_code_only", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
			(else_try),
				(eq, ":value_2", 2),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_1_flag_scene_prop", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "$team_2_flag_scene_prop", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 1),
				(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", "spr_headquarters_flag_gray_code_only", ":script_param_1"),
				(scene_prop_set_visibility, ":scene_prop_instance_team_1_flag_scene_prop_script_param_1", 0),
			(try_end),
			(store_add, ":value_5", 156, ":script_param_1"),
			(troop_get_slot, ":multiplayer_data_value_5", "trp_multiplayer_data", ":value_5"),
			(store_div, ":value_6", ":multiplayer_data_value_5", 100),
			(store_mod, ":value_7", ":multiplayer_data_value_5", 100),
			(call_script, "script_move_headquarters_flags", ":script_param_1", ":value_6", ":value_7")
		]),

	("move_object_to_nearest_entry_point",
		[
			(store_script_param, ":script_param_1", 1),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_script_param_1"),
				(scene_prop_get_instance, ":scene_prop_instance_script_param_1_number", ":script_param_1", ":number"),
				(prop_instance_get_position, 0, ":scene_prop_instance_script_param_1_number"),
				(assign, ":value", -1),
				(try_for_range, ":number_2", 100, 110),
					(entry_point_get_position, 1, ":number_2"),
					(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
					(this_or_next|eq, ":value", -1),
					(lt, ":sq_distance_between_positions_0_1", ":value"),
					(assign, ":value", ":sq_distance_between_positions_0_1"),
					(assign, ":var_8", ":number_2"),
				(try_end),
				(try_begin),
					(ge, ":value", 0),
					(lt, ":value", 22500),
					(entry_point_get_position, 1, ":var_8"),
					(position_rotate_x, 1, -90),
					(prop_instance_animate_to_position, ":scene_prop_instance_script_param_1_number", 1, 1),
				(try_end),
			(try_end)
		]),

	("multiplayer_server_on_agent_spawn_common",
		[
			(store_script_param, ":script_param_1", 1),
			(agent_set_slot, ":script_param_1", slot_agent_in_duel_with, -1),
			(try_begin),
				(agent_is_non_player, ":script_param_1"),
				(assign, "$g_multiplayer_ready_for_spawning_agent", 1),
			(try_end)
		]),

	("multiplayer_server_player_joined_common",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(this_or_next|player_is_active, ":script_param_1"),
				(eq, ":script_param_1", 0),
				(call_script, "script_multiplayer_init_player_slots", ":script_param_1"),
				(store_mission_timer_a, ":mission_timer_a"),
				(player_set_slot, ":script_param_1", slot_player_join_time, ":mission_timer_a"),
				(player_set_slot, ":script_param_1", slot_player_first_spawn, 1),
				(player_set_slot, ":script_param_1", slot_player_damage_given_to_target_1, 0),
				(player_set_slot, ":script_param_1", slot_player_damage_given_to_target_2, 0),
				(try_begin),
					(multiplayer_is_server),
					(assign, ":var_3", 1000),
					(val_mul, ":var_3", "$g_multiplayer_initial_gold_multiplier"),
					(val_div, ":var_3", 100),
					(player_set_gold, ":script_param_1", ":var_3"),
					(call_script, "script_multiplayer_send_initial_information", ":script_param_1"),
				(try_end),
			(try_end)
		]),

	("multiplayer_server_before_mission_start_common",
		[
			(try_begin),
				(scene_allows_mounted_units),
				(assign, "$g_horses_are_avaliable", 1),
			(else_try),
				(assign, "$g_horses_are_avaliable", 0),
			(try_end),
			(scene_set_day_time, 15),
			(assign, "$g_multiplayer_mission_end_screen", 0),
			(get_max_players, ":max_players"),
			(try_for_range, ":number", 0, ":max_players"),
				(player_is_active, ":number"),
				(call_script, "script_multiplayer_init_player_slots", ":number"),
				(assign, ":var_3", 1000),
				(val_mul, ":var_3", "$g_multiplayer_initial_gold_multiplier"),
				(val_div, ":var_3", 100),
				(player_set_gold, ":number", ":var_3"),
				(player_set_slot, ":number", slot_player_first_spawn, 1),
			(try_end)
		]),

	("multiplayer_server_on_agent_killed_or_wounded_common",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_multiplayer_event_agent_killed_or_wounded", ":script_param_1", ":script_param_2"),
			(try_begin),
				(multiplayer_is_server),
				(try_begin),
					(lt, ":script_param_2", 0),
					(ge, ":script_param_1", 0),
					(neg|agent_is_non_player, ":script_param_1"),
					(agent_get_player_id, ":player_id_script_param_1", ":script_param_1"),
					(player_is_active, ":player_id_script_param_1"),
					(player_get_score, ":score_player_id_script_param_1", ":player_id_script_param_1"),
					(val_add, ":score_player_id_script_param_1", -1),
					(player_set_score, ":player_id_script_param_1", ":score_player_id_script_param_1"),
				(else_try),
					(ge, ":script_param_2", 0),
					(ge, ":script_param_1", 0),
					(agent_get_team, ":team_script_param_2", ":script_param_2"),
					(agent_get_team, ":team_script_param_1", ":script_param_1"),
					(eq, ":team_script_param_2", ":team_script_param_1"),
					(neg|agent_is_non_player, ":script_param_2"),
					(agent_get_player_id, ":player_id_script_param_2", ":script_param_2"),
					(player_is_active, ":player_id_script_param_2"),
					(player_get_score, ":score_player_id_script_param_2", ":player_id_script_param_2"),
					(val_add, ":score_player_id_script_param_2", -1),
					(player_set_score, ":player_id_script_param_2", ":score_player_id_script_param_2"),
				(else_try),
					(ge, ":script_param_2", 0),
					(ge, ":script_param_1", 0),
					(agent_is_human, ":script_param_1"),
					(agent_is_human, ":script_param_2"),
					(try_begin),
						(eq, "$g_multiplayer_game_type", 2),
						(try_begin),
							(eq, "$g_battle_death_mode_started", 1),
							(neq, ":script_param_1", ":script_param_2"),
							(call_script, "script_calculate_new_death_waiting_time_at_death_mod"),
						(try_end),
					(try_end),
					(try_begin),
						(this_or_next|eq, "$g_multiplayer_game_type", 2),
						(eq, "$g_multiplayer_game_type", 3),
						(agent_get_player_id, ":player_id_script_param_1_2", ":script_param_1"),
						(try_begin),
							(ge, ":player_id_script_param_1_2", 0),
							(player_is_active, ":player_id_script_param_1_2"),
							(neg|agent_is_non_player, ":script_param_1"),
							(try_for_agents, ":var_10"),
								(agent_is_non_player, ":var_10"),
								(agent_is_human, ":var_10"),
								(agent_is_alive, ":var_10"),
								(agent_get_group, ":group_var_10", ":var_10"),
								(try_begin),
									(eq, ":player_id_script_param_1_2", ":group_var_10"),
									(agent_set_group, ":var_10", -1),
								(try_end),
							(try_end),
						(try_end),
					(try_end),
					(neg|agent_is_non_player, ":script_param_2"),
					(agent_get_player_id, ":player_id_script_param_2", ":script_param_2"),
					(player_is_active, ":player_id_script_param_2"),
					(player_get_score, ":score_player_id_script_param_2", ":player_id_script_param_2"),
					(agent_get_team, ":team_script_param_2_2", ":script_param_2"),
					(agent_get_team, ":team_script_param_1_2", ":script_param_1"),
					(try_begin),
						(neq, ":team_script_param_2_2", ":team_script_param_1_2"),
						(val_add, ":score_player_id_script_param_2", 1),
					(else_try),
						(val_add, ":score_player_id_script_param_2", -1),
					(try_end),
					(player_set_score, ":player_id_script_param_2", ":score_player_id_script_param_2"),
				(try_end),
			(try_end),
			(call_script, "script_add_kill_death_counts", ":script_param_2", ":script_param_1"),
			(call_script, "script_money_management_after_agent_death", ":script_param_2", ":script_param_1")
		]),

	("multiplayer_close_gate_if_it_is_open",
		[
			(scene_prop_get_num_instances, ":scene_prop_num_instances_winch_b", "spr_winch_b"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_winch_b"),
				(scene_prop_get_instance, ":scene_prop_instance_winch_b_number", "spr_winch_b", ":number"),
				(scene_prop_slot_eq, ":scene_prop_instance_winch_b_number", slot_scene_prop_open_or_close_slot, 1),
				(scene_prop_get_instance, ":scene_prop_instance_portcullis_number", "spr_portcullis", ":number"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_portcullis_number"),
				(prop_instance_animate_to_position, ":scene_prop_instance_portcullis_number", 0, 1),
			(try_end)
		]),

	("multiplayer_move_moveable_objects_initial_positions",
		[
			(call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_6m"),
			(call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_8m"),
			(call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_10m"),
			(call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_12m"),
			(call_script, "script_move_object_to_nearest_entry_point", "spr_siege_ladder_move_14m")
		]),

	("move_belfries_to_their_first_entry_point",
		[
			(store_script_param, ":script_param_1", 1),
			(set_fixed_point_multiplier, 100),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_script_param_1"),
				(scene_prop_get_instance, ":scene_prop_instance_script_param_1_number", ":script_param_1", ":number"),
				(prop_instance_get_position, 0, ":scene_prop_instance_script_param_1_number"),
				(try_begin),
					(eq, ":script_param_1", "spr_belfry_a"),
					(scene_prop_get_instance, ":scene_prop_instance_belfry_platform_a_number", "spr_belfry_platform_a", ":number"),
					(scene_prop_get_instance, ":scene_prop_instance_belfry_platform_b_number", "spr_belfry_platform_b", ":number"),
				(else_try),
					(scene_prop_get_instance, ":scene_prop_instance_belfry_platform_a_number", "spr_belfry_b_platform_a", ":number"),
				(try_end),
				(store_mul, ":value", ":number", 3),
				(try_begin),
					(eq, ":script_param_1", "spr_belfry_b"),
					(scene_prop_get_num_instances, ":scene_prop_num_instances_belfry_a", "spr_belfry_a"),
					(store_mul, ":value_2", ":scene_prop_num_instances_belfry_a", 3),
					(val_add, ":value", ":value_2"),
				(try_end),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_wheel_value", "spr_belfry_wheel", ":value"),
				(val_add, ":value", 1),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_wheel_value_2", "spr_belfry_wheel", ":value"),
				(val_add, ":value", 1),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_wheel_value_3", "spr_belfry_wheel", ":value"),
				(store_add, ":value_3", 11, ":number"),
				(try_begin),
					(eq, ":script_param_1", "spr_belfry_b"),
					(scene_prop_get_num_instances, ":scene_prop_num_instances_belfry_a", "spr_belfry_a"),
					(val_add, ":value_3", ":scene_prop_num_instances_belfry_a"),
				(try_end),
				(val_mul, ":value_3", 10),
				(entry_point_get_position, 1, ":value_3"),
				(init_position, 9),
				(position_set_y, 9, -500),
				(position_set_x, 9, -300),
				(position_transform_position_to_parent, 10, 1, 9),
				(position_get_distance_to_terrain, ":position_distance_to_terrain_10", 10),
				(init_position, 9),
				(position_set_y, 9, -500),
				(position_set_x, 9, 300),
				(position_transform_position_to_parent, 10, 1, 9),
				(position_get_distance_to_terrain, ":position_distance_to_terrain_10_2", 10),
				(store_add, ":value_4", ":position_distance_to_terrain_10", ":position_distance_to_terrain_10_2"),
				(val_mul, ":value_4", 100),
				(store_div, ":value_5", ":value_4", 24),
				(init_position, 20),
				(position_rotate_x_floating, 20, ":value_5"),
				(position_transform_position_to_parent, 23, 1, 20),
				(init_position, 9),
				(position_set_x, 9, -300),
				(position_transform_position_to_parent, 10, 1, 9),
				(position_get_distance_to_terrain, ":position_distance_to_terrain_10_3", 10),
				(init_position, 9),
				(position_set_x, 9, 300),
				(position_transform_position_to_parent, 10, 1, 9),
				(position_get_distance_to_terrain, ":position_distance_to_terrain_10_4", 10),
				(store_sub, ":position_distance_to_terrain_10", ":position_distance_to_terrain_10_3", ":position_distance_to_terrain_10_4"),
				(init_position, 9),
				(position_set_x, 9, -300),
				(position_set_y, 9, -500),
				(position_transform_position_to_parent, 10, 1, 9),
				(position_get_distance_to_terrain, ":position_distance_to_terrain_10_3", 10),
				(init_position, 9),
				(position_set_x, 9, 300),
				(position_set_y, 9, -500),
				(position_transform_position_to_parent, 10, 1, 9),
				(position_get_distance_to_terrain, ":position_distance_to_terrain_10_4", 10),
				(store_sub, ":position_distance_to_terrain_10_2", ":position_distance_to_terrain_10_3", ":position_distance_to_terrain_10_4"),
				(store_add, ":value_4", ":position_distance_to_terrain_10", ":position_distance_to_terrain_10_2"),
				(val_mul, ":value_4", 100),
				(store_div, ":value_5", ":value_4", 24),
				(val_mul, ":value_5", -1),
				(init_position, 20),
				(position_rotate_y_floating, 20, ":value_5"),
				(position_transform_position_to_parent, 22, 23, 20),
				(copy_position, 1, 22),
				(prop_instance_stop_animating, ":scene_prop_instance_script_param_1_number"),
				(prop_instance_set_position, ":scene_prop_instance_script_param_1_number", 1),
				(try_begin),
					(eq, ":script_param_1", "spr_belfry_a"),
					(prop_instance_get_position, 6, ":scene_prop_instance_belfry_platform_a_number"),
					(position_transform_position_to_local, 7, 0, 6),
					(position_transform_position_to_parent, 8, 1, 7),
					(try_begin),
						(neg|scene_prop_slot_eq, ":scene_prop_instance_script_param_1_number", slot_scene_prop_belfry_platform_moved, 0),
						(init_position, 20),
						(position_rotate_x, 20, 90),
						(position_transform_position_to_parent, 8, 8, 20),
					(try_end),
					(prop_instance_stop_animating, ":scene_prop_instance_belfry_platform_a_number"),
					(prop_instance_set_position, ":scene_prop_instance_belfry_platform_a_number", 8),
					(prop_instance_get_position, 6, ":scene_prop_instance_belfry_platform_b_number"),
					(position_transform_position_to_local, 7, 0, 6),
					(position_transform_position_to_parent, 8, 1, 7),
					(prop_instance_stop_animating, ":scene_prop_instance_belfry_platform_b_number"),
					(prop_instance_set_position, ":scene_prop_instance_belfry_platform_b_number", 8),
				(else_try),
					(prop_instance_get_position, 6, ":scene_prop_instance_belfry_platform_a_number"),
					(position_transform_position_to_local, 7, 0, 6),
					(position_transform_position_to_parent, 8, 1, 7),
					(try_begin),
						(neg|scene_prop_slot_eq, ":scene_prop_instance_script_param_1_number", slot_scene_prop_belfry_platform_moved, 0),
						(init_position, 20),
						(position_rotate_x, 20, 50),
						(position_transform_position_to_parent, 8, 8, 20),
					(try_end),
					(prop_instance_stop_animating, ":scene_prop_instance_belfry_platform_a_number"),
					(prop_instance_set_position, ":scene_prop_instance_belfry_platform_a_number", 8),
				(try_end),
				(store_mul, ":value", ":number", 3),
				(try_begin),
					(eq, ":script_param_1", "spr_belfry_b"),
					(scene_prop_get_num_instances, ":scene_prop_num_instances_belfry_a", "spr_belfry_a"),
					(store_mul, ":value_2", ":scene_prop_num_instances_belfry_a", 3),
					(val_add, ":value", ":value_2"),
				(try_end),
				(prop_instance_get_position, 6, ":scene_prop_instance_belfry_wheel_value"),
				(position_transform_position_to_local, 7, 0, 6),
				(position_transform_position_to_parent, 8, 1, 7),
				(prop_instance_stop_animating, ":scene_prop_instance_belfry_wheel_value"),
				(prop_instance_set_position, ":scene_prop_instance_belfry_wheel_value", 8),
				(prop_instance_get_position, 6, ":scene_prop_instance_belfry_wheel_value_2"),
				(position_transform_position_to_local, 7, 0, 6),
				(position_transform_position_to_parent, 8, 1, 7),
				(prop_instance_stop_animating, ":scene_prop_instance_belfry_wheel_value_2"),
				(prop_instance_set_position, ":scene_prop_instance_belfry_wheel_value_2", 8),
				(prop_instance_get_position, 6, ":scene_prop_instance_belfry_wheel_value_3"),
				(position_transform_position_to_local, 7, 0, 6),
				(position_transform_position_to_parent, 8, 1, 7),
				(prop_instance_stop_animating, ":scene_prop_instance_belfry_wheel_value_3"),
				(prop_instance_set_position, ":scene_prop_instance_belfry_wheel_value_3", 8),
			(try_end)
		]),

	("team_set_score",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(team_set_score, ":script_param_1", ":script_param_2")
		]),

	("player_set_score",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(player_set_score, ":script_param_1", ":script_param_2")
		]),

	("player_set_kill_count",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(player_set_kill_count, ":script_param_1", ":script_param_2")
		]),

	("player_set_death_count",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(player_set_death_count, ":script_param_1", ":script_param_2")
		]),

	("set_attached_scene_prop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_tutorial_flag_red_0", "spr_tutorial_flag_red", 0),
				(scene_prop_get_instance, ":scene_prop_instance_tutorial_flag_blue_0", "spr_tutorial_flag_blue", 0),
				(assign, ":value", -1),
				(try_begin),
					(ge, ":scene_prop_instance_tutorial_flag_red_0", 0),
					(eq, ":script_param_2", ":scene_prop_instance_tutorial_flag_red_0"),
					(assign, ":value", 0),
				(else_try),
					(ge, ":scene_prop_instance_tutorial_flag_blue_0", 0),
					(eq, ":script_param_2", ":scene_prop_instance_tutorial_flag_blue_0"),
					(assign, ":value", 1),
				(try_end),
				(ge, ":value", 0),
				(team_set_slot, ":value", slot_team_flag_situation, 1),
			(try_end),
			(agent_set_attached_scene_prop, ":script_param_1", ":script_param_2"),
			(agent_set_attached_scene_prop_x, ":script_param_1", 20),
			(agent_set_attached_scene_prop_z, ":script_param_1", 50)
		]),

	("set_team_flag_situation",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(team_set_slot, ":script_param_1", slot_team_flag_situation, ":script_param_2")
		]),

	("start_death_mode",
		[
			(assign, "$g_multiplayer_message_type", 18),
			(start_presentation, "prsnt_multiplayer_message_1")
		]),

	("calculate_new_death_waiting_time_at_death_mod",
		[
			(assign, ":value", 0),
			(try_begin),
				(try_for_agents, ":var_2"),
					(agent_is_human, ":var_2"),
					(agent_is_alive, ":var_2"),
					(val_add, ":value", 1),
				(try_end),
			(try_end),
			(val_add, ":value", 15),
			(set_fixed_point_multiplier, 100),
			(store_mul, ":value", ":value", 100),
			(store_sqrt, ":value_2", ":value"),
			(store_div, "$g_battle_waiting_seconds", 18000, ":value_2"),
			(store_mission_timer_a, "$g_death_mode_part_1_start_time")
		]),

	("calculate_number_of_targets_destroyed",
		[
			(assign, "$g_number_of_targets_destroyed", 0),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_catapult_destructible"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number", "spr_catapult_destructible", ":number"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number"),
				(prop_instance_get_position, 1, ":scene_prop_instance_catapult_destructible_number"),
				(get_sq_distance_between_positions_in_meters, ":sq_distance_between_positions_in_meters_0_1", 0, 1),
				(gt, ":sq_distance_between_positions_in_meters_0_1", 2),
				(val_add, "$g_number_of_targets_destroyed", 1),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_trebuchet_destructible"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number", "spr_trebuchet_destructible", ":number"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number"),
				(prop_instance_get_position, 1, ":scene_prop_instance_catapult_destructible_number"),
				(get_sq_distance_between_positions_in_meters, ":sq_distance_between_positions_in_meters_0_1", 0, 1),
				(gt, ":sq_distance_between_positions_in_meters_0_1", 2),
				(val_add, "$g_number_of_targets_destroyed", 1),
			(try_end)
		]),

	("initialize_objects",
		[
			(assign, ":value", 0),
			(get_max_players, ":max_players"),
			(try_for_range, ":number", 0, ":max_players"),
				(player_is_active, ":number"),
				(val_add, ":value", 1),
			(try_end),
			(set_fixed_point_multiplier, 100),
			(val_mul, ":value", 100),
			(store_sqrt, ":value", ":value"),
			(val_sub, ":value", 100),
			(val_max, ":value", 0),
			(store_mul, ":value_2", ":value", 2),
			(store_add, ":value_3", 1200, ":value_2"),
			(store_mul, ":value_4", ":value_3", 15),
			(val_div, ":value_4", 10),
			(store_mul, ":value_5", ":value_3", 18),
			(val_div, ":value_5", 10),
			(store_mul, ":value_6", ":value_5", 2),
			(assign, "$g_number_of_targets_destroyed", 0),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_catapult_destructible"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_catapult_destructible", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_3"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_trebuchet_destructible"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_trebuchet_destructible", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_4"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_e_sally_door_a"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_e_sally_door_a", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_f_sally_door_a"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_f_sally_door_a", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_earth_sally_gate_left"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_earth_sally_gate_left", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_6"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_earth_sally_gate_right"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_earth_sally_gate_right", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_6"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_viking_keep_destroy_sally_door_left"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_viking_keep_destroy_sally_door_left", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_viking_keep_destroy_sally_door_right"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_viking_keep_destroy_sally_door_right", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(store_div, ":value_7", ":value_5", 3),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_f_door_a"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_f_door_a", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_7"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_f_door_b"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_f_door_b", ":number_2"),
				(prop_instance_get_starting_position, 0, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_stop_animating, ":scene_prop_instance_catapult_destructible_number_2"),
				(prop_instance_set_position, ":scene_prop_instance_catapult_destructible_number_2", 0),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_7"),
			(try_end)
		]),

	("initialize_objects_clients",
		[
			(assign, ":value", 0),
			(get_max_players, ":max_players"),
			(try_for_range, ":number", 0, ":max_players"),
				(player_is_active, ":number"),
				(val_add, ":value", 1),
			(try_end),
			(set_fixed_point_multiplier, 100),
			(val_mul, ":value", 100),
			(store_sqrt, ":value", ":value"),
			(val_sub, ":value", 100),
			(val_max, ":value", 0),
			(store_mul, ":value_2", ":value", 2),
			(store_add, ":value_3", 1200, ":value_2"),
			(store_mul, ":value_4", ":value_3", 15),
			(val_div, ":value_4", 10),
			(store_mul, ":value_5", ":value_3", 18),
			(val_div, ":value_5", 10),
			(store_mul, ":value_6", ":value_5", 2),
			(assign, "$g_number_of_targets_destroyed", 0),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_catapult_destructible"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_catapult_destructible", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_3"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_trebuchet_destructible"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_trebuchet_destructible", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_4"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_e_sally_door_a"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_e_sally_door_a", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_f_sally_door_a"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_f_sally_door_a", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_earth_sally_gate_left"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_earth_sally_gate_left", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_6"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_earth_sally_gate_right"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_earth_sally_gate_right", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_6"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_viking_keep_destroy_sally_door_left"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_viking_keep_destroy_sally_door_left", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_viking_keep_destroy_sally_door_right"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_viking_keep_destroy_sally_door_right", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_5"),
			(try_end),
			(store_div, ":value_7", ":value_5", 3),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_f_door_a"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_f_door_a", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_7"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_catapult_destructible", "spr_castle_f_door_b"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_catapult_destructible"),
				(scene_prop_get_instance, ":scene_prop_instance_catapult_destructible_number_2", "spr_castle_f_door_b", ":number_2"),
				(prop_instance_enable_physics, ":scene_prop_instance_catapult_destructible_number_2", 1),
				(scene_prop_set_hit_points, ":scene_prop_instance_catapult_destructible_number_2", ":value_7"),
			(try_end)
		]),

	("show_multiplayer_message",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, "$g_multiplayer_message_type", ":script_param_1"),
			(try_begin),
				(eq, ":script_param_1", 12),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
				(try_begin),
					(neg|multiplayer_is_server),
					(assign, "$g_battle_death_mode_started", 0),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 2),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_2"),
				(assign, "$g_team_balance_next_round", 0),
			(else_try),
				(eq, ":script_param_1", 3),
				(assign, "$g_team_balance_next_round", 1),
				(call_script, "script_warn_player_about_auto_team_balance"),
			(else_try),
				(eq, ":script_param_1", 11),
				(assign, "$g_team_balance_next_round", 0),
			(else_try),
				(eq, ":script_param_1", 4),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 5),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 6),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 7),
				(assign, "$g_multiplayer_message_value_3", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_3"),
			(else_try),
				(eq, ":script_param_1", 8),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 9),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 10),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 14),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 15),
				(try_begin),
					(eq, "$g_defender_team", 0),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(team_get_score, ":score_value", ":value"),
				(val_add, ":score_value", 1),
				(call_script, "script_team_set_score", ":value", ":score_value"),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 16),
				(assign, "$g_multiplayer_message_value_1", ":script_param_2"),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 17),
				(try_begin),
					(eq, "$g_defender_team", 0),
					(assign, "$g_multiplayer_message_value_1", 1),
				(else_try),
					(assign, "$g_multiplayer_message_value_1", 0),
				(try_end),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(try_end)
		]),

	("get_headquarters_scores",
		[
			(assign, ":var_1", 0),
			(assign, ":var_2", 0),
			(try_for_range, ":number", 0, "$g_number_of_flags"),
				(store_add, ":value", 146, ":number"),
				(troop_get_slot, ":multiplayer_data_value", "trp_multiplayer_data", ":value"),
				(neq, ":multiplayer_data_value", 0),
				(try_begin),
					(eq, ":multiplayer_data_value", 1),
					(val_add, ":var_1", 1),
				(else_try),
					(val_add, ":var_2", 1),
				(try_end),
			(try_end),
			(assign, reg0, ":var_1"),
			(assign, reg1, ":var_2")
		]),

	("draw_this_round",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(eq, ":script_param_1", -9),
				(assign, "$g_round_ended", 1),
				(store_mission_timer_a, "$g_round_finish_time"),
			(else_try),
				(eq, ":script_param_1", -1),
				(assign, "$g_round_ended", 1),
				(store_mission_timer_a, "$g_round_finish_time"),
				(assign, "$g_multiplayer_message_value_1", -1),
				(assign, "$g_multiplayer_message_type", 14),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 0),
				(try_begin),
					(eq, "$g_multiplayer_game_type", 6),
					(multiplayer_get_my_player, ":multiplayer_my_player"),
					(is_between, ":multiplayer_my_player", 0, 1000),
					(player_get_agent_id, ":agent_id_multiplayer_my_player", ":multiplayer_my_player"),
					(ge, ":agent_id_multiplayer_my_player", 0),
					(agent_is_alive, ":agent_id_multiplayer_my_player"),
					(agent_get_team, ":team_agent_id_multiplayer_my_player", ":agent_id_multiplayer_my_player"),
					(eq, ":team_agent_id_multiplayer_my_player", 0),
					(unlock_achievement, 56),
				(try_end),
				(assign, "$g_round_ended", 1),
				(store_mission_timer_a, "$g_round_finish_time"),
				(team_get_faction, ":faction_0", 0),
				(team_get_score, ":score_0", 0),
				(val_add, ":score_0", 1),
				(team_set_score, 0, ":score_0"),
				(assign, "$g_winner_team", 0),
				(str_store_faction_name, 1, ":faction_0"),
				(assign, "$g_multiplayer_message_value_1", ":script_param_1"),
				(try_begin),
					(neq, "$g_multiplayer_game_type", 2),
					(neq, "$g_multiplayer_game_type", 3),
					(assign, "$g_multiplayer_message_type", 13),
				(else_try),
					(assign, "$g_multiplayer_message_type", 12),
				(try_end),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(else_try),
				(eq, ":script_param_1", 1),
				(assign, "$g_round_ended", 1),
				(store_mission_timer_a, "$g_round_finish_time"),
				(team_get_faction, ":faction_0", 1),
				(team_get_score, ":score_1", 1),
				(val_add, ":score_1", 1),
				(team_set_score, 1, ":score_1"),
				(assign, "$g_winner_team", 1),
				(str_store_faction_name, 1, ":faction_0"),
				(assign, "$g_multiplayer_message_value_1", ":script_param_1"),
				(try_begin),
					(neq, "$g_multiplayer_game_type", 2),
					(neq, "$g_multiplayer_game_type", 3),
					(assign, "$g_multiplayer_message_type", 13),
				(else_try),
					(assign, "$g_multiplayer_message_type", 12),
				(try_end),
				(start_presentation, "prsnt_multiplayer_message_1"),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", 0, 2),
				(try_begin),
					(eq, "$g_multiplayer_game_type", 2),
					(multiplayer_get_my_player, ":multiplayer_my_player"),
					(is_between, ":multiplayer_my_player", 0, 1000),
					(player_get_agent_id, ":agent_id_multiplayer_my_player", ":multiplayer_my_player"),
					(ge, ":agent_id_multiplayer_my_player", 0),
					(agent_is_alive, ":agent_id_multiplayer_my_player"),
					(agent_get_team, ":team_agent_id_multiplayer_my_player", ":agent_id_multiplayer_my_player"),
					(eq, ":team_agent_id_multiplayer_my_player", ":script_param_1"),
					(unlock_achievement, 62),
				(try_end),
			(try_end)
		]),

	("check_achievement_last_man_standing",
		[
			(try_begin),
				(store_script_param, ":script_param_1", 1),
				(is_between, ":script_param_1", 0, 2),
				(try_begin),
					(eq, "$g_multiplayer_game_type", 2),
					(multiplayer_get_my_player, ":multiplayer_my_player"),
					(is_between, ":multiplayer_my_player", 0, 1000),
					(player_get_agent_id, ":agent_id_multiplayer_my_player", ":multiplayer_my_player"),
					(ge, ":agent_id_multiplayer_my_player", 0),
					(agent_is_alive, ":agent_id_multiplayer_my_player"),
					(agent_get_team, ":team_agent_id_multiplayer_my_player", ":agent_id_multiplayer_my_player"),
					(eq, ":team_agent_id_multiplayer_my_player", ":script_param_1"),
					(unlock_achievement, 62),
				(try_end),
			(try_end)
		]),

	("find_most_suitable_bot_to_control",
		[
			(set_fixed_point_multiplier, 100),
			(store_script_param, ":script_param_1", 1),
			(player_get_team_no, ":team_no_script_param_1", ":script_param_1"),
			(player_get_slot, ":script_param_1_death_pos_x", ":script_param_1", slot_player_death_pos_x),
			(player_get_slot, ":script_param_1_death_pos_y", ":script_param_1", slot_player_death_pos_y),
			(player_get_slot, ":script_param_1_death_pos_z", ":script_param_1", slot_player_death_pos_z),
			(init_position, 0),
			(position_set_x, 0, ":script_param_1_death_pos_x"),
			(position_set_y, 0, ":script_param_1_death_pos_y"),
			(position_set_z, 0, ":script_param_1_death_pos_z"),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(try_for_agents, ":var_8"),
				(agent_is_alive, ":var_8"),
				(agent_is_human, ":var_8"),
				(agent_is_non_player, ":var_8"),
				(agent_get_team, ":team_var_8", ":var_8"),
				(eq, ":team_var_8", ":team_no_script_param_1"),
				(agent_get_position, 1, ":var_8"),
				(get_distance_between_positions_in_meters, ":distance_between_positions_in_meters_0_1", 0, 1),
				(try_begin),
					(lt, ":distance_between_positions_in_meters_0_1", 500),
					(store_sub, ":value_3", 500, ":distance_between_positions_in_meters_0_1"),
				(else_try),
					(assign, ":value_3", 0),
				(try_end),
				(val_mul, ":value_3", 6),
				(try_for_agents, ":var_12"),
					(agent_is_alive, ":var_12"),
					(agent_is_human, ":var_12"),
					(neq, ":var_8", ":var_12"),
					(agent_get_team, ":team_var_12", ":var_12"),
					(try_begin),
						(neq, ":team_var_12", ":team_no_script_param_1"),
						(agent_get_position, 1, ":var_12"),
						(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
						(try_begin),
							(lt, ":distance_between_positions_0_1", 300),
							(assign, ":value_4", ":distance_between_positions_0_1"),
						(else_try),
							(assign, ":value_4", 300),
						(try_end),
						(val_add, ":value_3", ":value_4"),
					(else_try),
						(agent_get_position, 1, ":var_12"),
						(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
						(try_begin),
							(lt, ":distance_between_positions_0_1", 300),
							(assign, ":value_5", 300, ":distance_between_positions_0_1"),
						(else_try),
							(assign, ":value_5", 0),
						(try_end),
						(val_add, ":value_3", ":value_5"),
					(try_end),
				(try_end),
				(store_agent_hit_points, ":agent_hit_points_var_8", ":var_8"),
				(val_mul, ":agent_hit_points_var_8", 2),
				(val_add, ":value_3", ":agent_hit_points_var_8"),
				(ge, ":value_3", ":value_2"),
				(assign, ":value_2", ":value_3"),
				(assign, ":value", ":var_8"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("game_receive_url_response",
		[]),

	("game_get_cheat_mode",
		[
			(assign, reg0, "$cheat_mode")
		]),

	("game_receive_network_message",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_2", 0),
				(store_script_param, ":script_param_3", 3),
				(store_script_param, ":script_param_4", 4),
				(try_begin),
					(is_between, ":script_param_3", 2, 11),
					(assign, ":value", 0),
					(try_begin),
						(eq, ":script_param_4", -1),
						(assign, ":value", 1),
					(else_try),
						(ge, ":script_param_4", 0),
						(player_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
						(is_between, ":troop_id_script_param_1", "trp_swadian_crossbowman_multiplayer", "trp_multiplayer_end"),
						(store_sub, ":value_2", ":troop_id_script_param_1", "trp_swadian_crossbowman_multiplayer"),
						(val_add, ":value_2", 61),
						(item_get_slot, ":script_param_4_value_2", ":script_param_4", ":value_2"),
						(gt, ":script_param_4_value_2", 0),
						(assign, ":value", 1),
						(try_begin),
							(neq, "$g_horses_are_avaliable", 1),
							(item_get_slot, ":script_param_4_multiplayer_class", ":script_param_4", slot_item_multiplayer_item_class),
							(is_between, ":script_param_4_multiplayer_class", 18, 19),
							(assign, ":value", 0),
						(try_end),
						(try_begin),
							(eq, "$g_multiplayer_disallow_ranged_weapons", 1),
							(item_get_slot, ":script_param_4_multiplayer_class", ":script_param_4", slot_item_multiplayer_item_class),
							(is_between, ":script_param_4_multiplayer_class", 12, 18),
							(assign, ":value", 0),
						(try_end),
					(try_end),
					(eq, ":value", 1),
					(player_set_slot, ":script_param_1", ":script_param_3", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 1),
				(store_script_param, ":script_param_3", 3),
				(store_script_param, ":script_param_4", 4),
				(try_begin),
					(is_between, ":script_param_3", 35, 39),
					(is_between, ":script_param_4", 0, 2),
					(player_set_slot, ":script_param_1", ":script_param_3", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 19),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_get_team_no, ":team_no_script_param_1", ":script_param_1"),
					(neq, ":team_no_script_param_1", ":script_param_4"),
					(try_begin),
						(call_script, "script_cf_multiplayer_team_is_available", ":script_param_1", ":script_param_4"),
						(player_set_troop_id, ":script_param_1", -1),
						(player_set_team_no, ":script_param_1", ":script_param_4"),
						(try_begin),
							(neq, ":script_param_4", 2),
							(neq, ":script_param_4", 3),
							(store_mission_timer_a, ":mission_timer_a"),
							(player_set_slot, ":script_param_1", slot_player_last_team_select_time, ":mission_timer_a"),
							(multiplayer_send_message_to_player, ":script_param_1", 66),
						(try_end),
					(else_try),
						(multiplayer_send_message_to_player, ":script_param_1", 67),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 20),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(eq, ":script_param_4", -1),
					(player_set_troop_id, ":script_param_1", -1),
				(else_try),
					(is_between, ":script_param_4", "trp_swadian_crossbowman_multiplayer", "trp_multiplayer_end"),
					(player_get_team_no, ":team_no_script_param_1", ":script_param_1"),
					(is_between, ":team_no_script_param_1", 0, 2),
					(team_get_faction, ":faction_team_no_script_param_1", ":team_no_script_param_1"),
					(store_faction_of_troop, ":faction_of_troop_script_param_4", ":script_param_4"),
					(eq, ":faction_of_troop_script_param_4", ":faction_team_no_script_param_1"),
					(player_set_troop_id, ":script_param_1", ":script_param_4"),
					(call_script, "script_multiplayer_clear_player_selected_items", ":script_param_1"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 2),
				(store_script_param, ":script_param_4", 3),
				(store_script_param, ":script_param_4_2", 4),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", "scn_multi_scene_1", "scn_multiplayer_maps_end"),
					(is_between, ":script_param_4_2", 0, 8),
					(server_get_changing_game_type_allowed, "$g_multiplayer_changing_game_type_allowed"),
					(this_or_next|eq, "$g_multiplayer_changing_game_type_allowed", 1),
					(eq, "$g_multiplayer_game_type", ":script_param_4_2"),
					(call_script, "script_multiplayer_fill_map_game_types", ":script_param_4_2"),
					(assign, ":value_3", reg0),
					(assign, ":value_4", 0),
					(store_add, ":value_5", 0, ":value_3"),
					(try_for_range, ":number", 0, ":value_5"),
						(troop_slot_eq, "trp_multiplayer_data", ":number", ":script_param_4"),
						(assign, ":value_4", 1),
						(assign, ":value_5", 0),
					(try_end),
					(eq, ":value_4", 1),
					(assign, "$g_multiplayer_game_type", ":script_param_4_2"),
					(assign, "$g_multiplayer_selected_map", ":script_param_4"),
					(team_set_faction, 0, "$g_multiplayer_next_team_1_faction"),
					(team_set_faction, 1, "$g_multiplayer_next_team_2_faction"),
					(call_script, "script_game_multiplayer_get_game_type_mission_template", "$g_multiplayer_game_type"),
					(start_multiplayer_mission, reg0, "$g_multiplayer_selected_map", 1),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 3),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 2, 65),
					(server_set_max_num_players, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 4),
				(store_script_param, ":script_param_4", 3),
				(store_script_param, ":script_param_4_2", 4),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 1, 3),
					(is_between, ":script_param_4_2", 0, "$g_multiplayer_max_num_bots"),
					(try_begin),
						(eq, ":script_param_4", 1),
						(assign, "$g_multiplayer_num_bots_team_1", ":script_param_4_2"),
					(else_try),
						(assign, "$g_multiplayer_num_bots_team_2", ":script_param_4_2"),
					(try_end),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_2_int_to_player, ":number_2", 51, ":script_param_4", ":script_param_4_2"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 44),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(server_set_anti_cheat, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 5),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(server_set_friendly_fire, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 39),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(server_set_melee_friendly_fire, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 40),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 101),
					(server_set_friendly_fire_damage_self_ratio, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 41),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 101),
					(server_set_friendly_fire_damage_friend_ratio, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 6),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 4),
					(server_set_ghost_mode, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 7),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(server_set_control_block_dir, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 29),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 5),
					(server_set_combat_speed, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 30),
				(store_script_param, ":script_param_4", 3),
				(player_is_admin, ":script_param_1"),
				(is_between, ":script_param_4", 0, 6),
				(assign, "$g_multiplayer_number_of_respawn_count", ":script_param_4"),
				(get_max_players, ":max_players"),
				(try_for_range, ":number_2", 1, ":max_players"),
					(player_is_active, ":number_2"),
					(multiplayer_send_int_to_player, ":number_2", 88, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 8),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(server_set_add_to_game_servers_list, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 9),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 3, 31),
					(assign, "$g_multiplayer_respawn_period", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 57, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 10),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 5, 121),
					(assign, "$g_multiplayer_game_max_minutes", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 11),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 60, 901),
					(assign, "$g_multiplayer_round_max_seconds", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 59, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 28),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_player_respawn_as_bot", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 85, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 12),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 3, 1001),
					(assign, "$g_multiplayer_game_max_points", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 13),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 25, 401),
					(assign, "$g_multiplayer_point_gained_from_flags", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 14),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 11),
					(assign, "$g_multiplayer_point_gained_from_capturing_flag", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 36),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 1001),
					(assign, "$g_multiplayer_initial_gold_multiplier", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 37),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 1001),
					(assign, "$g_multiplayer_battle_earnings_multiplier", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 38),
				(store_script_param, ":script_param_4", 3),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 1001),
					(assign, "$g_multiplayer_round_earnings_multiplier", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 15),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(server_get_renaming_server_allowed, "$g_multiplayer_renaming_server_allowed"),
					(eq, "$g_multiplayer_renaming_server_allowed", 1),
					(server_set_name, 0),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 16),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(server_set_password, 0),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 35),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(server_set_welcome_message, 0),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 17),
				(store_script_param, ":script_param_4", 3),
				(store_script_param, ":script_param_4_2", 4),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 1, 3),
					(is_between, ":script_param_4_2", "fac_kingdom_1", "fac_kingdoms_end"),
					(try_begin),
						(eq, ":script_param_4", 1),
						(assign, "$g_multiplayer_next_team_1_faction", ":script_param_4_2"),
					(else_try),
						(assign, "$g_multiplayer_next_team_2_faction", ":script_param_4_2"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 45),
				(try_begin),
					(server_get_max_num_players, ":server_max_num_players"),
					(multiplayer_send_int_to_player, ":script_param_1", 50, ":server_max_num_players"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 84, 1, "$g_multiplayer_next_team_1_faction"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 84, 2, "$g_multiplayer_next_team_2_faction"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 51, 1, "$g_multiplayer_num_bots_team_1"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 51, 2, "$g_multiplayer_num_bots_team_2"),
					(server_get_anti_cheat, ":server_anti_cheat"),
					(multiplayer_send_int_to_player, ":script_param_1", 104, ":server_anti_cheat"),
					(server_get_friendly_fire, ":server_friendly_fire"),
					(multiplayer_send_int_to_player, ":script_param_1", 52, ":server_friendly_fire"),
					(server_get_melee_friendly_fire, ":server_melee_friendly_fire"),
					(multiplayer_send_int_to_player, ":script_param_1", 99, ":server_melee_friendly_fire"),
					(server_get_friendly_fire_damage_self_ratio, ":server_friendly_fire_damage_self_ratio"),
					(multiplayer_send_int_to_player, ":script_param_1", 100, ":server_friendly_fire_damage_self_ratio"),
					(server_get_friendly_fire_damage_friend_ratio, ":server_friendly_fire_damage_friend_ratio"),
					(multiplayer_send_int_to_player, ":script_param_1", 101, ":server_friendly_fire_damage_friend_ratio"),
					(server_get_ghost_mode, ":server_ghost_mode"),
					(multiplayer_send_int_to_player, ":script_param_1", 53, ":server_ghost_mode"),
					(server_get_control_block_dir, ":server_control_block_dir"),
					(multiplayer_send_int_to_player, ":script_param_1", 54, ":server_control_block_dir"),
					(server_get_combat_speed, ":server_combat_speed"),
					(multiplayer_send_int_to_player, ":script_param_1", 55, ":server_combat_speed"),
					(server_get_add_to_game_servers_list, ":server_add_to_game_servers_list"),
					(multiplayer_send_int_to_player, ":script_param_1", 56, ":server_add_to_game_servers_list"),
					(multiplayer_send_int_to_player, ":script_param_1", 57, "$g_multiplayer_respawn_period"),
					(multiplayer_send_int_to_player, ":script_param_1", 58, "$g_multiplayer_game_max_minutes"),
					(multiplayer_send_int_to_player, ":script_param_1", 59, "$g_multiplayer_round_max_seconds"),
					(multiplayer_send_int_to_player, ":script_param_1", 85, "$g_multiplayer_player_respawn_as_bot"),
					(multiplayer_send_int_to_player, ":script_param_1", 60, "$g_multiplayer_game_max_points"),
					(multiplayer_send_int_to_player, ":script_param_1", 61, "$g_multiplayer_point_gained_from_flags"),
					(multiplayer_send_int_to_player, ":script_param_1", 62, "$g_multiplayer_point_gained_from_capturing_flag"),
					(multiplayer_send_int_to_player, ":script_param_1", 94, "$g_multiplayer_initial_gold_multiplier"),
					(multiplayer_send_int_to_player, ":script_param_1", 95, "$g_multiplayer_battle_earnings_multiplier"),
					(multiplayer_send_int_to_player, ":script_param_1", 96, "$g_multiplayer_round_earnings_multiplier"),
					(multiplayer_send_int_to_player, ":script_param_1", 92, "$g_multiplayer_valid_vote_ratio"),
					(str_store_server_name, 0),
					(multiplayer_send_string_to_player, ":script_param_1", 63, 0),
					(multiplayer_send_message_to_player, ":script_param_1", 105),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 18),
				(try_begin),
					(player_is_admin, ":script_param_1"),
					(server_get_renaming_server_allowed, "$g_multiplayer_renaming_server_allowed"),
					(multiplayer_send_int_to_player, ":script_param_1", 97, "$g_multiplayer_renaming_server_allowed"),
					(server_get_changing_game_type_allowed, "$g_multiplayer_changing_game_type_allowed"),
					(multiplayer_send_int_to_player, ":script_param_1", 98, "$g_multiplayer_changing_game_type_allowed"),
					(server_get_max_num_players, ":server_max_num_players"),
					(multiplayer_send_int_to_player, ":script_param_1", 50, ":server_max_num_players"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 84, 1, "$g_multiplayer_next_team_1_faction"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 84, 2, "$g_multiplayer_next_team_2_faction"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 51, 1, "$g_multiplayer_num_bots_team_1"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 51, 2, "$g_multiplayer_num_bots_team_2"),
					(server_get_anti_cheat, ":server_anti_cheat"),
					(multiplayer_send_int_to_player, ":script_param_1", 104, ":server_anti_cheat"),
					(server_get_friendly_fire, ":server_friendly_fire"),
					(multiplayer_send_int_to_player, ":script_param_1", 52, ":server_friendly_fire"),
					(server_get_melee_friendly_fire, ":server_melee_friendly_fire"),
					(multiplayer_send_int_to_player, ":script_param_1", 99, ":server_melee_friendly_fire"),
					(server_get_friendly_fire_damage_self_ratio, ":server_friendly_fire_damage_self_ratio"),
					(multiplayer_send_int_to_player, ":script_param_1", 100, ":server_friendly_fire_damage_self_ratio"),
					(server_get_friendly_fire_damage_friend_ratio, ":server_friendly_fire_damage_friend_ratio"),
					(multiplayer_send_int_to_player, ":script_param_1", 101, ":server_friendly_fire_damage_friend_ratio"),
					(server_get_ghost_mode, ":server_ghost_mode"),
					(multiplayer_send_int_to_player, ":script_param_1", 53, ":server_ghost_mode"),
					(server_get_control_block_dir, ":server_control_block_dir"),
					(multiplayer_send_int_to_player, ":script_param_1", 54, ":server_control_block_dir"),
					(server_get_combat_speed, ":server_combat_speed"),
					(multiplayer_send_int_to_player, ":script_param_1", 55, ":server_combat_speed"),
					(server_get_add_to_game_servers_list, ":server_add_to_game_servers_list"),
					(multiplayer_send_int_to_player, ":script_param_1", 56, ":server_add_to_game_servers_list"),
					(multiplayer_send_int_to_player, ":script_param_1", 57, "$g_multiplayer_respawn_period"),
					(multiplayer_send_int_to_player, ":script_param_1", 58, "$g_multiplayer_game_max_minutes"),
					(multiplayer_send_int_to_player, ":script_param_1", 59, "$g_multiplayer_round_max_seconds"),
					(multiplayer_send_int_to_player, ":script_param_1", 85, "$g_multiplayer_player_respawn_as_bot"),
					(multiplayer_send_int_to_player, ":script_param_1", 60, "$g_multiplayer_game_max_points"),
					(multiplayer_send_int_to_player, ":script_param_1", 61, "$g_multiplayer_point_gained_from_flags"),
					(multiplayer_send_int_to_player, ":script_param_1", 62, "$g_multiplayer_point_gained_from_capturing_flag"),
					(multiplayer_send_int_to_player, ":script_param_1", 94, "$g_multiplayer_initial_gold_multiplier"),
					(multiplayer_send_int_to_player, ":script_param_1", 95, "$g_multiplayer_battle_earnings_multiplier"),
					(multiplayer_send_int_to_player, ":script_param_1", 96, "$g_multiplayer_round_earnings_multiplier"),
					(multiplayer_send_int_to_player, ":script_param_1", 92, "$g_multiplayer_valid_vote_ratio"),
					(multiplayer_send_int_to_player, ":script_param_1", 106, "$g_multiplayer_max_num_bots"),
					(str_store_server_name, 0),
					(multiplayer_send_string_to_player, ":script_param_1", 63, 0),
					(str_store_server_password, 0),
					(multiplayer_send_string_to_player, ":script_param_1", 64, 0),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 21),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(eq, "$g_multiplayer_poll_running", 0),
					(store_mission_timer_a, ":mission_timer_a_2"),
					(player_get_slot, ":script_param_1_poll_disabled_until_time", ":script_param_1", slot_player_poll_disabled_until_time),
					(ge, ":mission_timer_a_2", ":script_param_1_poll_disabled_until_time"),
					(assign, ":value_6", 0),
					(try_begin),
						(eq, ":script_param_4", 1),
						(try_begin),
							(eq, "$g_multiplayer_kick_voteable", 1),
							(player_is_active, ":script_param_4_2"),
							(assign, ":value_6", 1),
						(try_end),
					(else_try),
						(eq, ":script_param_4", 2),
						(try_begin),
							(eq, "$g_multiplayer_ban_voteable", 1),
							(player_is_active, ":script_param_4_2"),
							(save_ban_info_of_player, ":script_param_4_2"),
							(assign, ":value_6", 1),
						(try_end),
					(else_try),
						(eq, ":script_param_4", 0),
						(try_begin),
							(eq, "$g_multiplayer_maps_voteable", 1),
							(call_script, "script_multiplayer_fill_map_game_types", "$g_multiplayer_game_type"),
							(assign, ":value_3", reg0),
							(try_for_range, ":number", 0, ":value_3"),
								(store_add, ":value_7", ":number", 0),
								(troop_slot_eq, "trp_multiplayer_data", ":value_7", ":script_param_4_2"),
								(assign, ":value_6", 1),
								(assign, ":value_3", 0),
							(try_end),
						(try_end),
					(else_try),
						(eq, ":script_param_4", 3),
						(try_begin),
							(eq, "$g_multiplayer_factions_voteable", 1),
							(store_script_param, ":script_param_5", 5),
							(store_script_param, ":script_param_6", 6),
							(call_script, "script_multiplayer_fill_map_game_types", "$g_multiplayer_game_type"),
							(assign, ":value_3", reg0),
							(try_for_range, ":number", 0, ":value_3"),
								(store_add, ":value_7", ":number", 0),
								(troop_slot_eq, "trp_multiplayer_data", ":value_7", ":script_param_4_2"),
								(assign, ":value_6", 1),
								(assign, ":value_3", 0),
							(try_end),
							(try_begin),
								(eq, ":value_6", 1),
								(this_or_next|neg|is_between, ":script_param_5", "fac_kingdom_1", "fac_kingdoms_end"),
								(this_or_next|neg|is_between, ":script_param_6", "fac_kingdom_1", "fac_kingdoms_end"),
								(eq, ":script_param_5", ":script_param_6"),
								(assign, ":value_6", 0),
							(try_end),
						(try_end),
					(else_try),
						(eq, ":script_param_4", 4),
						(store_script_param, ":script_param_5", 5),
						(store_add, ":value_8", "$g_multiplayer_num_bots_voteable", 1),
						(is_between, ":script_param_4_2", 0, ":value_8"),
						(is_between, ":script_param_5", 0, ":value_8"),
						(assign, ":value_6", 1),
					(try_end),
					(eq, ":value_6", 1),
					(str_store_player_username, 0, ":script_param_1"),
					(try_begin),
						(eq, ":script_param_4", 1),
						(str_store_player_username, 1, ":script_param_4_2"),
						(server_add_message_to_log, "str_poll_kick_player_s1_by_s0"),
					(else_try),
						(eq, ":script_param_4", 2),
						(str_store_player_username, 1, ":script_param_4_2"),
						(server_add_message_to_log, "str_poll_ban_player_s1_by_s0"),
					(else_try),
						(eq, ":script_param_4", 0),
						(store_sub, ":value_9", ":script_param_4_2", "scn_multi_scene_1"),
						(val_add, ":value_9", "str_multi_scene_1"),
						(str_store_string, 1, ":value_9"),
						(server_add_message_to_log, "str_poll_change_map_to_s1_by_s0"),
					(else_try),
						(eq, ":script_param_4", 3),
						(store_sub, ":value_9", ":script_param_4_2", "scn_multi_scene_1"),
						(val_add, ":value_9", "str_multi_scene_1"),
						(str_store_string, 1, ":value_9"),
						(str_store_faction_name, 2, ":script_param_5"),
						(str_store_faction_name, 3, ":script_param_6"),
						(server_add_message_to_log, "str_poll_change_map_to_s1_and_factions_to_s2_and_s3_by_s0"),
					(else_try),
						(eq, ":script_param_4", 4),
						(assign, reg0, ":script_param_4_2"),
						(assign, reg1, ":script_param_5"),
						(server_add_message_to_log, "str_poll_change_number_of_bots_to_reg0_and_reg1_by_s0"),
					(try_end),
					(assign, "$g_multiplayer_poll_running", 1),
					(assign, "$g_multiplayer_poll_ended", 0),
					(assign, "$g_multiplayer_poll_num_sent", 0),
					(assign, "$g_multiplayer_poll_yes_count", 0),
					(assign, "$g_multiplayer_poll_no_count", 0),
					(assign, "$g_multiplayer_poll_to_show", ":script_param_4"),
					(assign, "$g_multiplayer_poll_value_to_show", ":script_param_4_2"),
					(try_begin),
						(eq, ":script_param_4", 3),
						(assign, "$g_multiplayer_poll_value_2_to_show", ":script_param_5"),
						(assign, "$g_multiplayer_poll_value_3_to_show", ":script_param_6"),
					(else_try),
						(eq, ":script_param_4", 4),
						(assign, "$g_multiplayer_poll_value_2_to_show", ":script_param_5"),
						(assign, "$g_multiplayer_poll_value_3_to_show", -1),
					(else_try),
						(assign, "$g_multiplayer_poll_value_2_to_show", -1),
						(assign, "$g_multiplayer_poll_value_3_to_show", -1),
					(try_end),
					(store_add, ":value_10", ":mission_timer_a_2", 900),
					(player_set_slot, ":script_param_1", slot_player_poll_disabled_until_time, ":value_10"),
					(store_add, "$g_multiplayer_poll_end_time", ":mission_timer_a_2", 60),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 0, ":max_players"),
						(player_is_active, ":number_2"),
						(player_set_slot, ":number_2", slot_player_can_answer_poll, 1),
						(val_add, "$g_multiplayer_poll_num_sent", 1),
						(multiplayer_send_4_int_to_player, ":number_2", 74, "$g_multiplayer_poll_to_show", "$g_multiplayer_poll_value_to_show", "$g_multiplayer_poll_value_2_to_show", "$g_multiplayer_poll_value_3_to_show"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 22),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(eq, "$g_multiplayer_poll_running", 1),
					(is_between, ":script_param_4", 0, 2),
					(player_slot_eq, ":script_param_1", slot_player_can_answer_poll, 1),
					(player_set_slot, ":script_param_1", slot_player_can_answer_poll, 0),
					(try_begin),
						(eq, ":script_param_4", 0),
						(val_add, "$g_multiplayer_poll_no_count", 1),
					(else_try),
						(eq, ":script_param_4", 1),
						(val_add, "$g_multiplayer_poll_yes_count", 1),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 23),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(player_is_active, ":script_param_4"),
					(kick_player, ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 24),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(player_is_active, ":script_param_4"),
					(ban_player, ":script_param_4", 0, ":script_param_1"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 33),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 50, 101),
					(assign, "$g_multiplayer_valid_vote_ratio", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 34),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(this_or_next|is_between, ":script_param_4", 2, 7),
					(eq, ":script_param_4", 1000),
					(assign, "$g_multiplayer_auto_team_balance_limit", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 93, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 25),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 51),
					(is_between, ":script_param_4", 0, "$g_multiplayer_max_num_bots"),
					(assign, "$g_multiplayer_num_bots_voteable", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 81, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 26),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_factions_voteable", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 82, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 27),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_maps_voteable", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 83, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 31),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_kick_voteable", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 90, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 32),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_ban_voteable", ":script_param_4"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number_2", 1, ":max_players"),
						(player_is_active, ":number_2"),
						(multiplayer_send_int_to_player, ":number_2", 91, ":script_param_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 42),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_allow_player_banners", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 43),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_force_default_armor", ":script_param_4"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 46),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(eq, "$g_multiplayer_game_type", 7),
					(agent_is_active, ":script_param_4"),
					(agent_is_alive, ":script_param_4"),
					(agent_is_human, ":script_param_4"),
					(player_get_agent_id, ":agent_id_script_param_1", ":script_param_1"),
					(agent_is_active, ":agent_id_script_param_1"),
					(agent_is_alive, ":agent_id_script_param_1"),
					(agent_get_position, 0, ":agent_id_script_param_1"),
					(agent_get_position, 1, ":script_param_4"),
					(get_sq_distance_between_positions_in_meters, ":sq_distance_between_positions_in_meters_0_1", 0, 1),
					(le, ":sq_distance_between_positions_in_meters_0_1", 49),
					(this_or_next|agent_check_offer_from_agent, ":agent_id_script_param_1", ":script_param_4"),
					(agent_slot_eq, ":agent_id_script_param_1", slot_agent_in_duel_with, -1),
					(neg|agent_slot_eq, ":agent_id_script_param_1", slot_agent_in_duel_with, ":script_param_4"),
					(try_begin),
						(agent_check_offer_from_agent, ":agent_id_script_param_1", ":script_param_4"),
						(call_script, "script_multiplayer_accept_duel", ":agent_id_script_param_1", ":script_param_4"),
					(else_try),
						(assign, ":value_11", 1),
						(try_begin),
							(agent_check_offer_from_agent, ":script_param_4", ":agent_id_script_param_1"),
							(assign, ":value_11", 0),
						(try_end),
						(agent_add_offer_with_timeout, ":script_param_4", ":agent_id_script_param_1", 10000),
						(agent_get_player_id, ":player_id_script_param_4", ":script_param_4"),
						(try_begin),
							(player_is_active, ":player_id_script_param_4"),
							(try_begin),
								(eq, ":value_11", 1),
								(multiplayer_send_int_to_player, ":player_id_script_param_4", 108, ":agent_id_script_param_1"),
							(try_end),
						(else_try),
							(call_script, "script_multiplayer_accept_duel", ":script_param_4", ":agent_id_script_param_1"),
						(try_end),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 47),
				(try_begin),
					(store_script_param, ":script_param_4", 3),
					(player_is_admin, ":script_param_1"),
					(is_between, ":script_param_4", 0, 2),
					(assign, "$g_multiplayer_disallow_ranged_weapons", ":script_param_4"),
				(try_end),
			(else_try),
				(neg|multiplayer_is_dedicated_server),
				(try_begin),
					(eq, ":script_param_2", 97),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_renaming_server_allowed", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 98),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_changing_game_type_allowed", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 50),
					(store_script_param, ":script_param_4", 3),
					(server_set_max_num_players, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 84),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(try_begin),
						(eq, ":script_param_4", 1),
						(assign, "$g_multiplayer_next_team_1_faction", ":script_param_4_2"),
					(else_try),
						(assign, "$g_multiplayer_next_team_2_faction", ":script_param_4_2"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 51),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(try_begin),
						(eq, ":script_param_4", 1),
						(assign, "$g_multiplayer_num_bots_team_1", ":script_param_4_2"),
					(else_try),
						(assign, "$g_multiplayer_num_bots_team_2", ":script_param_4_2"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 104),
					(store_script_param, ":script_param_4", 3),
					(server_set_anti_cheat, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 52),
					(store_script_param, ":script_param_4", 3),
					(server_set_friendly_fire, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 99),
					(store_script_param, ":script_param_4", 3),
					(server_set_melee_friendly_fire, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 100),
					(store_script_param, ":script_param_4", 3),
					(server_set_friendly_fire_damage_self_ratio, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 101),
					(store_script_param, ":script_param_4", 3),
					(server_set_friendly_fire_damage_friend_ratio, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 53),
					(store_script_param, ":script_param_4", 3),
					(server_set_ghost_mode, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 54),
					(store_script_param, ":script_param_4", 3),
					(server_set_control_block_dir, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 56),
					(store_script_param, ":script_param_4", 3),
					(server_set_add_to_game_servers_list, ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 57),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_respawn_period", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 58),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_game_max_minutes", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 59),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_round_max_seconds", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 85),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_player_respawn_as_bot", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 60),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_game_max_points", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 61),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_point_gained_from_flags", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 62),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_point_gained_from_capturing_flag", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 94),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_initial_gold_multiplier", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 95),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_battle_earnings_multiplier", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 96),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_round_earnings_multiplier", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 88),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_number_of_respawn_count", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 63),
					(server_set_name, 0),
				(else_try),
					(eq, ":script_param_2", 64),
					(server_set_password, 0),
					(start_presentation, "prsnt_game_multiplayer_admin_panel"),
				(else_try),
					(eq, ":script_param_2", 105),
					(assign, "$g_multiplayer_show_server_rules", 1),
					(start_presentation, "prsnt_multiplayer_welcome_message"),
				(else_try),
					(eq, ":script_param_2", 65),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_game_type", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 92),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_valid_vote_ratio", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 106),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_max_num_bots", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 107),
					(store_script_param, ":script_param_4", 3),
					(assign, "$server_mission_timer_while_player_joined", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 93),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_auto_team_balance_limit", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 81),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_num_bots_voteable", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 82),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_factions_voteable", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 83),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_maps_voteable", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 90),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_kick_voteable", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 91),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_ban_voteable", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 102),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_allow_player_banners", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 103),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_force_default_armor", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 112),
					(store_script_param, ":script_param_4", 3),
					(assign, "$g_multiplayer_disallow_ranged_weapons", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 66),
					(assign, "$g_confirmation_result", 1),
				(else_try),
					(eq, ":script_param_2", 67),
					(assign, "$g_confirmation_result", -1),
				(else_try),
					(eq, ":script_param_2", 68),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(call_script, "script_show_multiplayer_message", ":script_param_4", ":script_param_4_2"),
				(else_try),
					(eq, ":script_param_2", 69),
					(store_script_param, ":script_param_4", 3),
					(call_script, "script_draw_this_round", ":script_param_4"),
				(else_try),
					(eq, ":script_param_2", 70),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(call_script, "script_set_attached_scene_prop", ":script_param_4", ":script_param_4_2"),
					(try_begin),
						(eq, "$g_multiplayer_game_type", 4),
						(try_begin),
							(neq, ":script_param_4_2", -1),
							(agent_set_horse_speed_factor, ":script_param_4", 75),
						(else_try),
							(agent_set_horse_speed_factor, ":script_param_4", 100),
						(try_end),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 71),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(call_script, "script_set_team_flag_situation", ":script_param_4", ":script_param_4_2"),
				(else_try),
					(eq, ":script_param_2", 72),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(call_script, "script_team_set_score", ":script_param_4", ":script_param_4_2"),
				(else_try),
					(eq, ":script_param_2", 86),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(store_script_param, ":script_param_5", 5),
					(store_script_param, ":script_param_6", 6),
					(call_script, "script_player_set_score", ":script_param_4", ":script_param_4_2"),
					(call_script, "script_player_set_kill_count", ":script_param_4", ":script_param_5"),
					(call_script, "script_player_set_death_count", ":script_param_4", ":script_param_6"),
				(else_try),
					(eq, ":script_param_2", 73),
					(store_script_param, ":script_param_3_2", 3),
					(store_script_param, ":script_param_4_3", 4),
					(call_script, "script_set_num_agents_around_flag", ":script_param_3_2", ":script_param_4_3"),
				(else_try),
					(eq, ":script_param_2", 74),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(store_script_param, ":script_param_5", 5),
					(store_script_param, ":script_param_6", 6),
					(assign, ":value_12", 0),
					(try_begin),
						(this_or_next|eq, ":script_param_4", 1),
						(eq, ":script_param_4", 2),
						(player_is_active, ":script_param_4_2"),
						(assign, ":value_12", 1),
					(else_try),
						(assign, ":value_12", 1),
					(try_end),
					(try_begin),
						(eq, ":value_12", 1),
						(assign, "$g_multiplayer_poll_to_show", ":script_param_4"),
						(assign, "$g_multiplayer_poll_value_to_show", ":script_param_4_2"),
						(assign, "$g_multiplayer_poll_value_2_to_show", ":script_param_5"),
						(assign, "$g_multiplayer_poll_value_3_to_show", ":script_param_6"),
						(store_mission_timer_a, ":mission_timer_a_2"),
						(store_add, "$g_multiplayer_poll_client_end_time", ":mission_timer_a_2", 60),
						(start_presentation, "prsnt_multiplayer_poll"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 75),
					(store_script_param, ":script_param_3_2", 3),
					(store_script_param, ":script_param_4_4", 4),
					(call_script, "script_change_flag_owner", ":script_param_3_2", ":script_param_4_4"),
				(else_try),
					(eq, ":script_param_2", 76),
					(store_script_param, ":script_param_4", 3),
					(store_script_param, ":script_param_4_2", 4),
					(call_script, "script_use_item", ":script_param_4", ":script_param_4_2"),
				(else_try),
					(eq, ":script_param_2", 77),
					(store_script_param, ":script_param_3_3", 3),
					(scene_prop_set_slot, ":script_param_3_3", slot_scene_prop_open_or_close_slot, 1),
					(prop_instance_get_scene_prop_kind, ":prop_instance_scene_prop_kind_script_param_3_3", ":script_param_3_3"),
					(try_begin),
						(eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_winch_b"),
						(assign, ":value_13", "spr_portcullis"),
					(else_try),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_e_sally_door_a"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_f_sally_door_a"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_earth_sally_gate_left"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_earth_sally_gate_right"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_viking_keep_destroy_sally_door_left"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_viking_keep_destroy_sally_door_right"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_f_door_a"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_door_destructible"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_f_door_b"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_siege_ladder_move_6m"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_siege_ladder_move_8m"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_siege_ladder_move_10m"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_siege_ladder_move_12m"),
						(eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_siege_ladder_move_14m"),
						(assign, ":value_13", ":prop_instance_scene_prop_kind_script_param_3_3"),
					(try_end),
					(try_begin),
						(eq, ":value_13", "spr_portcullis"),
						(assign, ":value_14", -1),
						(prop_instance_get_position, 0, ":script_param_3_3"),
						(scene_prop_get_num_instances, ":scene_prop_num_instances_value_13", ":value_13"),
						(try_for_range, ":number_3", 0, ":scene_prop_num_instances_value_13"),
							(scene_prop_get_instance, ":scene_prop_instance_value_13_number_3", ":value_13", ":number_3"),
							(prop_instance_get_position, 1, ":scene_prop_instance_value_13_number_3"),
							(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
							(this_or_next|eq, ":value_14", -1),
							(lt, ":sq_distance_between_positions_0_1", ":value_14"),
							(assign, ":value_14", ":sq_distance_between_positions_0_1"),
							(assign, ":value_15", ":scene_prop_instance_value_13_number_3"),
						(try_end),
						(ge, ":value_14", 0),
						(prop_instance_is_animating, ":value_16", ":value_15"),
						(eq, ":value_16", 0),
						(prop_instance_get_starting_position, 0, ":value_15"),
						(position_move_z, 0, 375),
						(prop_instance_animate_to_position, ":value_15", 0, 1),
					(else_try),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_e_sally_door_a"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_f_sally_door_a"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_earth_sally_gate_left"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_earth_sally_gate_right"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_viking_keep_destroy_sally_door_left"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_viking_keep_destroy_sally_door_right"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_f_door_a"),
						(this_or_next|eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_door_destructible"),
						(eq, ":prop_instance_scene_prop_kind_script_param_3_3", "spr_castle_f_door_b"),
						(assign, ":value_15", ":script_param_3_3"),
						(prop_instance_get_starting_position, 0, ":value_15"),
						(position_rotate_z, 0, -80),
						(prop_instance_animate_to_position, ":value_15", 0, 1),
					(else_try),
						(assign, ":value_15", ":script_param_3_3"),
						(prop_instance_is_animating, ":value_16", ":value_15"),
						(eq, ":value_16", 0),
						(prop_instance_get_starting_position, 0, ":value_15"),
						(prop_instance_animate_to_position, ":value_15", 0, 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 78),
					(store_script_param, ":script_param_4", 3),
					(try_begin),
						(neq, ":script_param_4", -9999),
						(assign, "$g_round_start_time", ":script_param_4"),
					(else_try),
						(store_mission_timer_a, "$g_round_start_time"),
						(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_6m"),
						(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_8m"),
						(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_10m"),
						(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_12m"),
						(call_script, "script_initialize_scene_prop_slots", "spr_siege_ladder_move_14m"),
						(call_script, "script_initialize_scene_prop_slots", "spr_winch_b"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 79),
					(try_begin),
						(is_presentation_active, "prsnt_multiplayer_item_select"),
						(assign, "$g_close_equipment_selection", 1),
					(try_end),
					(start_presentation, "prsnt_multiplayer_troop_select"),
				(else_try),
					(eq, ":script_param_2", 80),
					(assign, "$g_battle_death_mode_started", 2),
					(start_presentation, "prsnt_multiplayer_flag_projection_display_bt"),
					(call_script, "script_start_death_mode"),
				(else_try),
					(eq, ":script_param_2", 89),
					(store_script_param, ":script_param_4", 3),
					(try_begin),
						(gt, "$g_my_spawn_count", 0),
						(store_add, "$g_my_spawn_count", "$g_my_spawn_count", ":script_param_4"),
					(else_try),
						(assign, "$g_my_spawn_count", ":script_param_4"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 108),
					(store_script_param, ":script_param_4", 3),
					(try_begin),
						(agent_is_active, ":script_param_4"),
						(agent_get_player_id, ":player_id_script_param_4_2", ":script_param_4"),
						(try_begin),
							(player_is_active, ":player_id_script_param_4_2"),
							(str_store_player_username, 0, ":player_id_script_param_4_2"),
						(else_try),
							(str_store_agent_name, 0, ":script_param_4"),
						(try_end),
						(display_message, "str_s0_offers_a_duel_with_you"),
						(try_begin),
							(get_player_agent_no, ":player_agent_no"),
							(agent_is_active, ":player_agent_no"),
							(agent_add_offer_with_timeout, ":player_agent_no", ":script_param_4", 10000),
						(try_end),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 109),
					(store_script_param, ":script_param_4", 3),
					(store_mission_timer_a, ":mission_timer_a_2"),
					(try_begin),
						(agent_is_active, ":script_param_4"),
						(get_player_agent_no, ":player_agent_no"),
						(agent_is_active, ":player_agent_no"),
						(agent_get_player_id, ":player_id_script_param_4_2", ":script_param_4"),
						(try_begin),
							(player_is_active, ":player_id_script_param_4_2"),
							(str_store_player_username, 0, ":player_id_script_param_4_2"),
						(else_try),
							(str_store_agent_name, 0, ":script_param_4"),
						(try_end),
						(display_message, "str_a_duel_between_you_and_s0_will_start_in_3_seconds"),
						(assign, "$g_multiplayer_duel_start_time", ":mission_timer_a_2"),
						(start_presentation, "prsnt_multiplayer_duel_start_counter"),
						(agent_set_slot, ":player_agent_no", slot_agent_in_duel_with, ":script_param_4"),
						(agent_set_slot, ":script_param_4", slot_agent_in_duel_with, ":player_agent_no"),
						(agent_set_slot, ":player_agent_no", slot_agent_duel_start_time, ":mission_timer_a_2"),
						(agent_set_slot, ":script_param_4", slot_agent_duel_start_time, ":mission_timer_a_2"),
						(agent_clear_relations_with_agents, ":player_agent_no"),
						(agent_clear_relations_with_agents, ":script_param_4"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 110),
					(store_script_param, ":script_param_4", 3),
					(try_begin),
						(agent_is_active, ":script_param_4"),
						(agent_get_player_id, ":player_id_script_param_4_2", ":script_param_4"),
						(try_begin),
							(player_is_active, ":player_id_script_param_4_2"),
							(str_store_player_username, 0, ":player_id_script_param_4_2"),
						(else_try),
							(str_store_agent_name, 0, ":script_param_4"),
						(try_end),
						(display_message, "str_your_duel_with_s0_is_cancelled"),
					(try_end),
					(try_begin),
						(get_player_agent_no, ":player_agent_no"),
						(agent_is_active, ":player_agent_no"),
						(agent_set_slot, ":player_agent_no", slot_agent_in_duel_with, -1),
						(agent_clear_relations_with_agents, ":player_agent_no"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 111),
					(display_message, "str_server_s0", 0xffff6666),
				(try_end)
		]),

	("cf_multiplayer_evaluate_poll",
		[
			(assign, ":value", 0),
			(assign, "$g_multiplayer_poll_ended", 1),
			(store_add, ":value_2", "$g_multiplayer_poll_yes_count", "$g_multiplayer_poll_no_count"),
			(store_sub, ":value_3", "$g_multiplayer_poll_num_sent", ":value_2"),
			(store_mul, ":value_4", 3, ":value_3"),
			(val_div, ":value_4", 10),
			(val_add, ":value_2", ":value_4"),
			(val_max, ":value_2", 1),
			(store_mul, ":value_5", 100, "$g_multiplayer_poll_yes_count"),
			(val_div, ":value_5", ":value_2"),
			(try_begin),
				(ge, ":value_5", "$g_multiplayer_valid_vote_ratio"),
				(assign, ":value", 1),
				(try_begin),
					(eq, "$g_multiplayer_poll_to_show", 1),
					(try_begin),
						(player_is_active, "$g_multiplayer_poll_value_to_show"),
						(kick_player, "$g_multiplayer_poll_value_to_show"),
					(try_end),
				(else_try),
					(eq, "$g_multiplayer_poll_to_show", 2),
					(ban_player_using_saved_ban_info),
				(else_try),
					(eq, "$g_multiplayer_poll_to_show", 3),
					(team_set_faction, 0, "$g_multiplayer_poll_value_2_to_show"),
					(team_set_faction, 1, "$g_multiplayer_poll_value_3_to_show"),
				(else_try),
					(eq, "$g_multiplayer_poll_to_show", 4),
					(assign, "$g_multiplayer_num_bots_team_1", "$g_multiplayer_poll_value_to_show"),
					(assign, "$g_multiplayer_num_bots_team_2", "$g_multiplayer_poll_value_2_to_show"),
					(get_max_players, ":max_players"),
					(try_for_range, ":number", 1, ":max_players"),
						(player_is_active, ":number"),
						(multiplayer_send_2_int_to_player, ":number", 51, 1, "$g_multiplayer_num_bots_team_1"),
						(multiplayer_send_2_int_to_player, ":number", 51, 2, "$g_multiplayer_num_bots_team_2"),
					(try_end),
				(try_end),
			(else_try),
				(assign, "$g_multiplayer_poll_running", 0),
			(try_end),
			(get_max_players, ":max_players"),
			(call_script, "script_show_multiplayer_message", 7, ":value"),
			(try_for_range, ":number", 1, ":max_players"),
				(player_is_active, ":number"),
				(multiplayer_send_2_int_to_player, ":number", 68, 7, ":value"),
			(try_end),
			(eq, ":value", 1)
		]),

	("multiplayer_accept_duel",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(agent_slot_ge, ":script_param_1", 21, 0),
				(agent_get_slot, ":script_param_1_in_duel_with", ":script_param_1", slot_agent_in_duel_with),
				(agent_is_active, ":script_param_1_in_duel_with"),
				(agent_clear_relations_with_agents, ":script_param_1_in_duel_with"),
				(agent_set_slot, ":script_param_1_in_duel_with", slot_agent_in_duel_with, -1),
				(agent_get_player_id, ":player_id_script_param_1_in_duel_with", ":script_param_1_in_duel_with"),
				(try_begin),
					(player_is_active, ":player_id_script_param_1_in_duel_with"),
					(multiplayer_send_int_to_player, ":player_id_script_param_1_in_duel_with", 110, ":script_param_1"),
				(else_try),
					(agent_force_rethink, ":script_param_1_in_duel_with"),
				(try_end),
			(try_end),
			(try_begin),
				(agent_slot_ge, ":script_param_2", 21, 0),
				(agent_get_slot, ":script_param_1_in_duel_with", ":script_param_2", slot_agent_in_duel_with),
				(agent_is_active, ":script_param_1_in_duel_with"),
				(agent_clear_relations_with_agents, ":script_param_1_in_duel_with"),
				(agent_set_slot, ":script_param_1_in_duel_with", slot_agent_in_duel_with, -1),
				(try_begin),
					(player_is_active, ":player_id_script_param_1_in_duel_with"),
					(multiplayer_send_int_to_player, ":player_id_script_param_1_in_duel_with", 110, ":script_param_2"),
				(else_try),
					(agent_force_rethink, ":script_param_1_in_duel_with"),
				(try_end),
			(try_end),
			(agent_set_slot, ":script_param_1", slot_agent_in_duel_with, ":script_param_2"),
			(agent_set_slot, ":script_param_2", slot_agent_in_duel_with, ":script_param_1"),
			(agent_clear_relations_with_agents, ":script_param_1"),
			(agent_clear_relations_with_agents, ":script_param_2"),
			(agent_get_player_id, ":player_id_script_param_1_in_duel_with", ":script_param_1"),
			(store_mission_timer_a, ":mission_timer_a"),
			(try_begin),
				(player_is_active, ":player_id_script_param_1_in_duel_with"),
				(multiplayer_send_int_to_player, ":player_id_script_param_1_in_duel_with", 109, ":script_param_2"),
			(else_try),
				(agent_force_rethink, ":script_param_1"),
			(try_end),
			(agent_set_slot, ":script_param_1", slot_agent_duel_start_time, ":mission_timer_a"),
			(agent_get_player_id, ":player_id_script_param_2", ":script_param_2"),
			(try_begin),
				(player_is_active, ":player_id_script_param_2"),
				(multiplayer_send_int_to_player, ":player_id_script_param_2", 109, ":script_param_1"),
			(else_try),
				(agent_force_rethink, ":script_param_2"),
			(try_end),
			(agent_set_slot, ":script_param_2", slot_agent_duel_start_time, ":mission_timer_a")
		]),

	("game_get_multiplayer_server_option_for_mission_template",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_2", 0),
				(assign, reg0, "$g_multiplayer_team_1_faction"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 1),
				(assign, reg0, "$g_multiplayer_team_2_faction"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 2),
				(assign, reg0, "$g_multiplayer_num_bots_team_1"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 3),
				(assign, reg0, "$g_multiplayer_num_bots_team_2"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 4),
				(server_get_friendly_fire, reg0),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 5),
				(server_get_melee_friendly_fire, reg0),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 6),
				(server_get_friendly_fire_damage_self_ratio, reg0),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 7),
				(server_get_friendly_fire_damage_friend_ratio, reg0),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 8),
				(server_get_ghost_mode, reg0),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 9),
				(server_get_control_block_dir, reg0),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 10),
				(server_get_combat_speed, reg0),
				(set_trigger_result, 1),
			(else_try),
				(try_begin),
					(eq, ":script_param_1", "mt_multiplayer_hq"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 11),
				(assign, reg0, "$g_multiplayer_game_max_minutes"),
				(set_trigger_result, 1),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_bt"),
					(neq, ":script_param_1", "mt_multiplayer_fd"),
					(neq, ":script_param_1", "mt_multiplayer_sg"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 12),
				(assign, reg0, "$g_multiplayer_round_max_seconds"),
				(set_trigger_result, 1),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_bt"),
					(neq, ":script_param_1", "mt_multiplayer_fd"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 13),
				(assign, reg0, "$g_multiplayer_player_respawn_as_bot"),
				(set_trigger_result, 1),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_sg"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 14),
				(assign, reg0, "$g_multiplayer_number_of_respawn_count"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 15),
				(assign, reg0, "$g_multiplayer_game_max_points"),
				(set_trigger_result, 1),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_hq"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 16),
				(assign, reg0, "$g_multiplayer_point_gained_from_flags"),
				(set_trigger_result, 1),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_cf"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 17),
				(assign, reg0, "$g_multiplayer_point_gained_from_capturing_flag"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 18),
				(assign, reg0, "$g_multiplayer_respawn_period"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 19),
				(assign, reg0, "$g_multiplayer_initial_gold_multiplier"),
				(set_trigger_result, 1),
			(else_try),
				(eq, ":script_param_2", 20),
				(assign, reg0, "$g_multiplayer_battle_earnings_multiplier"),
				(set_trigger_result, 1),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_bt"),
					(neq, ":script_param_1", "mt_multiplayer_fd"),
					(neq, ":script_param_1", "mt_multiplayer_sg"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 21),
				(assign, reg0, "$g_multiplayer_round_earnings_multiplier"),
				(set_trigger_result, 1),
			(try_end)
		]),

	("game_multiplayer_server_option_for_mission_template_to_string",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(str_clear, 0),
			(try_begin),
				(eq, ":script_param_2", 0),
				(assign, reg1, 1),
				(str_store_string, 0, "str_team_reg1_faction"),
				(str_store_faction_name, 1, ":script_param_3"),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(eq, ":script_param_2", 1),
				(assign, reg1, 2),
				(str_store_string, 0, "str_team_reg1_faction"),
				(str_store_faction_name, 1, ":script_param_3"),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(eq, ":script_param_2", 2),
				(assign, reg1, 1),
				(str_store_string, 0, "str_number_of_bots_in_team_reg1"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(eq, ":script_param_2", 3),
				(assign, reg1, 2),
				(str_store_string, 0, "str_number_of_bots_in_team_reg1"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(eq, ":script_param_2", 4),
				(str_store_string, 0, "str_allow_friendly_fire"),
				(try_begin),
					(eq, ":script_param_3", 0),
					(str_store_string, 1, "str_no_wo_dot"),
				(else_try),
					(str_store_string, 1, "str_yes_wo_dot"),
				(try_end),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(eq, ":script_param_2", 5),
				(str_store_string, 0, "str_allow_melee_friendly_fire"),
				(try_begin),
					(eq, ":script_param_3", 0),
					(str_store_string, 1, "str_no_wo_dot"),
				(else_try),
					(str_store_string, 1, "str_yes_wo_dot"),
				(try_end),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(eq, ":script_param_2", 6),
				(str_store_string, 0, "str_friendly_fire_damage_self_ratio"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(eq, ":script_param_2", 7),
				(str_store_string, 0, "str_friendly_fire_damage_friend_ratio"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(eq, ":script_param_2", 8),
				(str_store_string, 0, "str_spectator_camera"),
				(try_begin),
					(eq, ":script_param_3", 0),
					(str_store_string, 1, "str_free"),
				(else_try),
					(eq, ":script_param_3", 1),
					(str_store_string, 1, "str_stick_to_any_player"),
				(else_try),
					(eq, ":script_param_3", 2),
					(str_store_string, 1, "str_stick_to_team_members"),
				(else_try),
					(str_store_string, 1, "str_stick_to_team_members_view"),
				(try_end),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(eq, ":script_param_2", 9),
				(str_store_string, 0, "str_control_block_direction"),
				(try_begin),
					(eq, ":script_param_3", 0),
					(str_store_string, 1, "str_automatic"),
				(else_try),
					(str_store_string, 1, "str_by_mouse_movement"),
				(try_end),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(eq, ":script_param_2", 10),
				(str_store_string, 0, "str_combat_speed"),
				(try_begin),
					(eq, ":script_param_3", 0),
					(str_store_string, 1, "str_combat_speed_0"),
				(else_try),
					(eq, ":script_param_3", 1),
					(str_store_string, 1, "str_combat_speed_1"),
				(else_try),
					(eq, ":script_param_3", 2),
					(str_store_string, 1, "str_combat_speed_2"),
				(else_try),
					(eq, ":script_param_3", 3),
					(str_store_string, 1, "str_combat_speed_3"),
				(else_try),
					(str_store_string, 1, "str_combat_speed_4"),
				(try_end),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(try_begin),
					(eq, ":script_param_1", "mt_multiplayer_hq"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 11),
				(str_store_string, 0, "str_map_time_limit"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_bt"),
					(neq, ":script_param_1", "mt_multiplayer_fd"),
					(neq, ":script_param_1", "mt_multiplayer_sg"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 12),
				(str_store_string, 0, "str_round_time_limit"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_bt"),
					(neq, ":script_param_1", "mt_multiplayer_fd"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 13),
				(str_store_string, 0, "str_players_take_control_of_a_bot_after_death"),
				(try_begin),
					(eq, ":script_param_3", 0),
					(str_store_string, 1, "str_no_wo_dot"),
				(else_try),
					(str_store_string, 1, "str_yes_wo_dot"),
				(try_end),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_sg"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 14),
				(str_store_string, 0, "str_defender_spawn_count_limit"),
				(try_begin),
					(eq, ":script_param_3", 0),
					(str_store_string, 1, "str_unlimited"),
				(else_try),
					(assign, reg1, ":script_param_3"),
					(str_store_string, 1, "str_reg1"),
				(try_end),
				(str_store_string, 0, "str_s0_s1"),
			(else_try),
				(eq, ":script_param_2", 15),
				(str_store_string, 0, "str_team_points_limit"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_hq"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 16),
				(str_store_string, 0, "str_point_gained_from_flags"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_cf"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 17),
				(str_store_string, 0, "str_point_gained_from_capturing_flag"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(eq, ":script_param_2", 18),
				(str_store_string, 0, "str_respawn_period"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(eq, ":script_param_2", 19),
				(str_store_string, 0, "str_initial_gold_multiplier"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(eq, ":script_param_2", 20),
				(str_store_string, 0, "str_battle_earnings_multiplier"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(else_try),
				(try_begin),
					(neq, ":script_param_1", "mt_multiplayer_bt"),
					(neq, ":script_param_1", "mt_multiplayer_fd"),
					(neq, ":script_param_1", "mt_multiplayer_sg"),
					(val_add, ":script_param_2", 1),
				(try_end),
				(eq, ":script_param_2", 21),
				(str_store_string, 0, "str_round_earnings_multiplier"),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 0, "str_s0_reg0"),
			(try_end)
		]),

	("cf_multiplayer_team_is_available",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 1),
			(try_begin),
				(neq, "$g_multiplayer_game_type", 0),
				(neq, "$g_multiplayer_game_type", 7),
				(is_between, ":script_param_2", 0, 2),
				(neg|teams_are_enemies, ":script_param_2", ":script_param_2"),
				(assign, ":value", 0),
				(assign, ":var_4", 0),
				(assign, ":var_5", 0),
				(get_max_players, ":max_players"),
				(try_for_range, ":number", 0, ":max_players"),
					(player_is_active, ":number"),
					(neq, ":number", ":script_param_1"),
					(player_get_team_no, ":team_no_number", ":number"),
					(try_begin),
						(eq, ":team_no_number", 0),
						(val_add, ":var_4", 1),
					(else_try),
						(eq, ":team_no_number", 1),
						(val_add, ":var_5", 1),
					(try_end),
				(try_end),
				(store_sub, ":value_2", ":var_4", ":var_5"),
				(try_begin),
					(ge, ":value_2", 0),
					(val_add, ":value_2", 1),
				(else_try),
					(val_add, ":value_2", -1),
				(try_end),
				(try_begin),
					(eq, ":script_param_2", 0),
					(lt, ":value_2", "$g_multiplayer_auto_team_balance_limit"),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_2", 1),
					(store_mul, ":value_3", "$g_multiplayer_auto_team_balance_limit", -1),
					(gt, ":value_2", ":value_3"),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(eq, ":value", 1)
		]),

	("find_number_of_agents_constant",
		[
			(assign, ":var_1", 0),
			(try_for_agents, ":var_2"),
				(agent_is_human, ":var_2"),
				(val_add, ":var_1", 1),
			(try_end),
			(try_begin),
				(le, ":var_1", 2),
				(assign, reg0, 100),
			(else_try),
				(le, ":var_1", 4),
				(assign, reg0, 140),
			(else_try),
				(le, ":var_1", 7),
				(assign, reg0, 180),
			(else_try),
				(le, ":var_1", 11),
				(assign, reg0, 220),
			(else_try),
				(le, ":var_1", 17),
				(assign, reg0, 260),
			(else_try),
				(le, ":var_1", 25),
				(assign, reg0, 300),
			(else_try),
				(le, ":var_1", 36),
				(assign, reg0, 340),
			(else_try),
				(le, ":var_1", 50),
				(assign, reg0, 380),
			(else_try),
				(le, ":var_1", 68),
				(assign, reg0, 420),
			(else_try),
				(le, ":var_1", 91),
				(assign, reg0, 460),
			(else_try),
				(assign, reg0, 500),
			(try_end)
		]),

	("game_multiplayer_event_duel_offered",
		[
			(store_script_param, ":script_param_1", 1),
			(get_player_agent_no, ":player_agent_no"),
			(try_begin),
				(agent_is_active, ":player_agent_no"),
				(this_or_next|agent_slot_eq, ":player_agent_no", slot_agent_in_duel_with, -1),
				(agent_check_offer_from_agent, ":player_agent_no", ":script_param_1"),
				(neg|agent_slot_eq, ":player_agent_no", slot_agent_in_duel_with, ":script_param_1"),
				(multiplayer_send_int_to_server, 46, ":script_param_1"),
				(agent_get_player_id, ":player_id_script_param_1", ":script_param_1"),
				(try_begin),
					(player_is_active, ":player_id_script_param_1"),
					(str_store_player_username, 0, ":player_id_script_param_1"),
				(else_try),
					(str_store_agent_name, 0, ":script_param_1"),
				(try_end),
				(display_message, "str_a_duel_request_is_sent_to_s0"),
			(try_end)
		]),

	("game_get_multiplayer_game_type_enum",
		[
			(assign, reg0, 0),
			(assign, reg1, 8)
		]),

	("game_multiplayer_get_game_type_mission_template",
		[
			(assign, ":value", -1),
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(eq, ":script_param_1", 0),
				(assign, ":value", "mt_multiplayer_dm"),
			(else_try),
				(eq, ":script_param_1", 1),
				(assign, ":value", "mt_multiplayer_tdm"),
			(else_try),
				(eq, ":script_param_1", 2),
				(assign, ":value", "mt_multiplayer_bt"),
			(else_try),
				(eq, ":script_param_1", 3),
				(assign, ":value", "mt_multiplayer_fd"),
			(else_try),
				(eq, ":script_param_1", 4),
				(assign, ":value", "mt_multiplayer_cf"),
			(else_try),
				(eq, ":script_param_1", 5),
				(assign, ":value", "mt_multiplayer_hq"),
			(else_try),
				(eq, ":script_param_1", 6),
				(assign, ":value", "mt_multiplayer_sg"),
			(else_try),
				(eq, ":script_param_1", 7),
				(assign, ":value", "mt_multiplayer_duel"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("multiplayer_get_mission_template_game_type",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", -1),
			(try_begin),
				(eq, ":script_param_1", "mt_multiplayer_dm"),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_1", "mt_multiplayer_tdm"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_1", "mt_multiplayer_bt"),
				(assign, ":value", 2),
			(else_try),
				(eq, ":script_param_1", "mt_multiplayer_fd"),
				(assign, ":value", 3),
			(else_try),
				(eq, ":script_param_1", "mt_multiplayer_cf"),
				(assign, ":value", 4),
			(else_try),
				(eq, ":script_param_1", "mt_multiplayer_hq"),
				(assign, ":value", 5),
			(else_try),
				(eq, ":script_param_1", "mt_multiplayer_sg"),
				(assign, ":value", 6),
			(else_try),
				(eq, ":script_param_1", "mt_multiplayer_duel"),
				(assign, ":value", 7),
			(try_end),
			(assign, reg0, ":value")
		]),

	("multiplayer_fill_available_factions_combo_button",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_range, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
				(str_store_faction_name, 0, ":faction"),
				(overlay_add_item, ":script_param_1", 0),
			(try_end),
			(val_sub, ":script_param_2", "fac_kingdom_1"),
			(overlay_set_val, ":script_param_1", ":script_param_2")
		]),

	("multiplayer_get_troop_class",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "trp_vaegir_archer_multiplayer"),
				(this_or_next|eq, ":script_param_1", "trp_nord_archer_multiplayer"),
				(eq, ":script_param_1", "trp_sarranid_archer_multiplayer"),
				(assign, ":value", 4),
			(else_try),
				(this_or_next|eq, ":script_param_1", "trp_swadian_man_at_arms_multiplayer"),
				(this_or_next|eq, ":script_param_1", "trp_nord_scout_multiplayer"),
				(this_or_next|eq, ":script_param_1", "trp_rhodok_horseman_multiplayer"),
				(this_or_next|eq, ":script_param_1", "trp_sarranid_mamluke_multiplayer"),
				(eq, ":script_param_1", "trp_vaegir_horseman_multiplayer"),
				(assign, ":value", 3),
			(else_try),
				(eq, ":script_param_1", "trp_khergit_veteran_horse_archer_multiplayer"),
				(assign, ":value", 6),
			(else_try),
				(this_or_next|eq, ":script_param_1", "trp_swadian_crossbowman_multiplayer"),
				(eq, ":script_param_1", "trp_rhodok_veteran_crossbowman_multiplayer"),
				(assign, ":value", 5),
			(else_try),
				(this_or_next|eq, ":script_param_1", "trp_swadian_infantry_multiplayer"),
				(this_or_next|eq, ":script_param_1", "trp_sarranid_footman_multiplayer"),
				(eq, ":script_param_1", "trp_nord_veteran_multiplayer"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_1", "trp_vaegir_spearman_multiplayer"),
				(assign, ":value", 2),
			(try_end),
			(assign, reg0, ":value")
		]),

	("multiplayer_clear_player_selected_items",
		[
			(store_script_param, ":script_param_1", 1),
			(try_for_range, ":number", 2, 11),
				(player_set_slot, ":script_param_1", ":number", -1),
			(try_end)
		]),

	("multiplayer_init_player_slots",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_multiplayer_clear_player_selected_items", ":script_param_1"),
			(player_set_slot, ":script_param_1", slot_player_spawned_this_round, 0),
			(player_set_slot, ":script_param_1", slot_player_last_rounds_used_item_earnings, 0),
			(player_set_slot, ":script_param_1", slot_player_poll_disabled_until_time, 0),
			(player_set_slot, ":script_param_1", slot_player_bot_type_1_wanted, 0),
			(player_set_slot, ":script_param_1", slot_player_bot_type_2_wanted, 0),
			(player_set_slot, ":script_param_1", slot_player_bot_type_3_wanted, 0),
			(player_set_slot, ":script_param_1", slot_player_bot_type_4_wanted, 0)
		]),

	("multiplayer_initialize_belfry_wheel_rotations",
		[
			(scene_prop_get_num_instances, ":scene_prop_num_instances_belfry_wheel", "spr_belfry_wheel"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_belfry_wheel"),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_wheel_number", "spr_belfry_wheel", ":number"),
				(prop_instance_initialize_rotation_angles, ":scene_prop_instance_belfry_wheel_number"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_winch", "spr_winch"),
			(try_for_range, ":number_2", 0, ":scene_prop_num_instances_winch"),
				(scene_prop_get_instance, ":scene_prop_instance_winch_number_2", "spr_winch", ":number_2"),
				(prop_instance_initialize_rotation_angles, ":scene_prop_instance_winch_number_2"),
			(try_end),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_winch_b", "spr_winch_b"),
			(try_for_range, ":number_3", 0, ":scene_prop_num_instances_winch_b"),
				(scene_prop_get_instance, ":scene_prop_instance_winch_b_number_3", "spr_winch_b", ":number_3"),
				(prop_instance_initialize_rotation_angles, ":scene_prop_instance_winch_b_number_3"),
			(try_end)
		]),

	("send_open_close_information_of_object",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(scene_prop_get_num_instances, ":scene_prop_num_instances_script_param_2", ":script_param_2"),
			(try_for_range, ":number", 0, ":scene_prop_num_instances_script_param_2"),
				(scene_prop_get_instance, ":scene_prop_instance_script_param_2_number", ":script_param_2", ":number"),
				(scene_prop_get_slot, ":scene_prop_slot_scene_prop_instance_script_param_2_number_scene_prop_open_or_close_slot", ":scene_prop_instance_script_param_2_number", slot_scene_prop_open_or_close_slot),
				(try_begin),
					(eq, ":scene_prop_slot_scene_prop_instance_script_param_2_number_scene_prop_open_or_close_slot", 1),
					(multiplayer_send_int_to_player, ":script_param_1", 77, ":scene_prop_instance_script_param_2_number"),
				(try_end),
			(try_end)
		]),

	("multiplayer_send_initial_information",
		[
			(store_script_param, ":script_param_1", 1),
			(multiplayer_send_2_int_to_player, ":script_param_1", 51, 1, "$g_multiplayer_num_bots_team_1"),
			(multiplayer_send_2_int_to_player, ":script_param_1", 51, 2, "$g_multiplayer_num_bots_team_2"),
			(multiplayer_send_int_to_player, ":script_param_1", 93, "$g_multiplayer_auto_team_balance_limit"),
			(multiplayer_send_int_to_player, ":script_param_1", 81, "$g_multiplayer_num_bots_voteable"),
			(multiplayer_send_int_to_player, ":script_param_1", 82, "$g_multiplayer_factions_voteable"),
			(multiplayer_send_int_to_player, ":script_param_1", 83, "$g_multiplayer_maps_voteable"),
			(multiplayer_send_int_to_player, ":script_param_1", 90, "$g_multiplayer_kick_voteable"),
			(multiplayer_send_int_to_player, ":script_param_1", 91, "$g_multiplayer_ban_voteable"),
			(multiplayer_send_int_to_player, ":script_param_1", 102, "$g_multiplayer_allow_player_banners"),
			(multiplayer_send_int_to_player, ":script_param_1", 103, "$g_multiplayer_force_default_armor"),
			(multiplayer_send_int_to_player, ":script_param_1", 112, "$g_multiplayer_disallow_ranged_weapons"),
			(multiplayer_send_int_to_player, ":script_param_1", 57, "$g_multiplayer_respawn_period"),
			(multiplayer_send_int_to_player, ":script_param_1", 59, "$g_multiplayer_round_max_seconds"),
			(multiplayer_send_int_to_player, ":script_param_1", 65, "$g_multiplayer_game_type"),
			(multiplayer_send_int_to_player, ":script_param_1", 85, "$g_multiplayer_player_respawn_as_bot"),
			(store_mission_timer_a, ":mission_timer_a"),
			(multiplayer_send_int_to_player, ":script_param_1", 107, ":mission_timer_a"),
			(try_begin),
				(eq, "$g_multiplayer_game_type", 6),
				(multiplayer_send_int_to_player, ":script_param_1", 88, "$g_multiplayer_number_of_respawn_count"),
			(try_end),
			(try_for_agents, ":value"),
				(agent_is_human, ":value"),
				(agent_get_attached_scene_prop, ":attached_scene_prop_value", ":value"),
				(ge, ":attached_scene_prop_value", 0),
				(multiplayer_send_2_int_to_player, ":script_param_1", 70, ":value", ":attached_scene_prop_value"),
			(try_end),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_siege_ladder_move_6m"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_siege_ladder_move_8m"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_siege_ladder_move_10m"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_siege_ladder_move_12m"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_siege_ladder_move_14m"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_winch_b"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_castle_e_sally_door_a"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_castle_f_sally_door_a"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_earth_sally_gate_left"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_earth_sally_gate_right"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_viking_keep_destroy_sally_door_left"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_viking_keep_destroy_sally_door_right"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_castle_f_door_a"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_door_destructible"),
			(call_script, "script_send_open_close_information_of_object", ":script_param_1", "spr_castle_f_door_b"),
			(try_begin),
				(this_or_next|eq, "$g_multiplayer_game_type", 2),
				(this_or_next|eq, "$g_multiplayer_game_type", 3),
				(eq, "$g_multiplayer_game_type", 6),
				(store_mission_timer_a, ":mission_timer_a_2"),
				(val_sub, ":mission_timer_a_2", "$g_round_start_time"),
				(val_mul, ":mission_timer_a_2", -1),
				(multiplayer_send_int_to_player, ":script_param_1", 78, ":mission_timer_a_2"),
			(else_try),
				(eq, "$g_multiplayer_game_type", 4),
				(team_get_slot, ":0_flag_situation", 0, slot_team_flag_situation),
				(multiplayer_send_2_int_to_player, ":script_param_1", 71, 0, ":0_flag_situation"),
				(team_get_slot, ":1_flag_situation", 1, slot_team_flag_situation),
				(multiplayer_send_2_int_to_player, ":script_param_1", 71, 1, ":1_flag_situation"),
			(else_try),
				(this_or_next|eq, "$g_multiplayer_game_type", 5),
				(eq, "$g_multiplayer_game_type", 6),
				(try_for_range, ":number", 0, "$g_number_of_flags"),
					(assign, ":var_9", 0),
					(assign, ":var_10", 0),
					(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_number", "spr_headquarters_pole_code_only", ":number"),
					(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_number"),
					(try_for_agents, ":value"),
						(agent_is_human, ":value"),
						(agent_is_alive, ":value"),
						(neg|agent_is_non_player, ":value"),
						(agent_get_team, ":team_value", ":value"),
						(agent_get_position, 1, ":value"),
						(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
						(get_sq_distance_between_position_heights, ":sq_distance_between_position_heights_0_1", 0, 1),
						(val_add, ":sq_distance_between_positions_0_1", ":sq_distance_between_position_heights_0_1"),
						(lt, ":sq_distance_between_positions_0_1", 1600),
						(try_begin),
							(eq, ":team_value", 0),
							(val_add, ":var_9", 1),
						(else_try),
							(eq, ":team_value", 1),
							(val_add, ":var_10", 1),
						(try_end),
					(try_end),
					(store_mul, ":value_2", ":var_9", 100),
					(val_add, ":value_2", ":var_10"),
					(multiplayer_send_2_int_to_player, ":script_param_1", 73, ":number", ":value_2"),
				(try_end),
				(assign, "$g_placing_initial_flags", 1),
				(try_for_range, ":number_2", 0, "$g_number_of_flags"),
					(store_add, ":value_3", 146, ":number_2"),
					(troop_get_slot, ":multiplayer_data_value_3", "trp_multiplayer_data", ":value_3"),
					(store_mul, ":value_4", ":multiplayer_data_value_3", 100),
					(val_add, ":value_4", ":multiplayer_data_value_3"),
					(val_add, ":value_4", 1),
					(val_mul, ":value_4", -1),
					(multiplayer_send_2_int_to_player, ":script_param_1", 75, ":number_2", ":value_4"),
				(try_end),
				(assign, "$g_placing_initial_flags", 0),
			(try_end)
		]),

	("multiplayer_remove_headquarters_flags",
		[
			(store_add, ":value", "spr_headquarters_flag_gray", 1),
			(try_for_range, ":sceneprop", "spr_headquarters_flag_red", ":value"),
				(replace_scene_props, ":sceneprop", "spr_empty"),
			(try_end)
		]),

	("multiplayer_remove_destroy_mod_targets",
		[
			(replace_scene_props, "spr_catapult_destructible", "spr_empty"),
			(replace_scene_props, "spr_trebuchet_destructible", "spr_empty")
		]),

	("multiplayer_init_mission_variables",
		[
			(assign, "$g_multiplayer_team_1_first_spawn", 1),
			(assign, "$g_multiplayer_team_2_first_spawn", 1),
			(assign, "$g_multiplayer_poll_running", 0),
			(assign, "$g_waiting_for_confirmation_to_terminate", 0),
			(assign, "$g_confirmation_result", 0),
			(assign, "$g_team_balance_next_round", 0),
			(team_get_faction, "$g_multiplayer_team_1_faction", 0),
			(team_get_faction, "$g_multiplayer_team_2_faction", 1),
			(assign, "$g_multiplayer_next_team_1_faction", "$g_multiplayer_team_1_faction"),
			(assign, "$g_multiplayer_next_team_2_faction", "$g_multiplayer_team_2_faction"),
			(assign, "$g_multiplayer_bot_type_1_wanted", 0),
			(assign, "$g_multiplayer_bot_type_2_wanted", 0),
			(assign, "$g_multiplayer_bot_type_3_wanted", 0),
			(assign, "$g_multiplayer_bot_type_4_wanted", 0),
			(call_script, "script_music_set_situation_with_culture", 2048)
		]),

	("multiplayer_event_mission_end",
		[
			(try_begin),
				(multiplayer_get_my_player, ":multiplayer_my_player"),
				(is_between, ":multiplayer_my_player", 0, 1000),
				(player_get_kill_count, ":kill_count_multiplayer_my_player", ":multiplayer_my_player"),
				(player_get_death_count, ":death_count_multiplayer_my_player", ":multiplayer_my_player"),
				(gt, ":kill_count_multiplayer_my_player", ":death_count_multiplayer_my_player"),
				(unlock_achievement, 63),
			(try_end)
		]),

	("multiplayer_event_agent_killed_or_wounded",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(multiplayer_get_my_player, ":multiplayer_my_player"),
			(try_begin),
				(is_between, ":multiplayer_my_player", 0, 1000),
				(player_get_agent_id, ":agent_id_multiplayer_my_player", ":multiplayer_my_player"),
				(ge, ":agent_id_multiplayer_my_player", 0),
				(try_begin),
					(eq, ":agent_id_multiplayer_my_player", ":script_param_1"),
					(store_mission_timer_a, "$g_multiplayer_respawn_start_time"),
				(try_end),
				(try_begin),
					(eq, ":agent_id_multiplayer_my_player", ":script_param_2"),
					(neq, ":agent_id_multiplayer_my_player", ":script_param_1"),
					(agent_is_human, ":script_param_1"),
					(agent_is_alive, ":agent_id_multiplayer_my_player"),
					(neg|agent_is_ally, ":script_param_1"),
					(agent_get_horse, ":horse_agent_id_multiplayer_my_player", ":agent_id_multiplayer_my_player"),
					(agent_get_wielded_item, ":wielded_item_agent_id_multiplayer_my_player_0", ":agent_id_multiplayer_my_player", 0),
					(assign, ":value", -1),
					(try_begin),
						(ge, ":wielded_item_agent_id_multiplayer_my_player_0", 0),
						(item_get_slot, ":value", ":wielded_item_agent_id_multiplayer_my_player_0", slot_item_multiplayer_item_class),
					(try_end),
					(try_begin),
						(lt, ":horse_agent_id_multiplayer_my_player", 0),
						(agent_get_horse, ":horse_script_param_1", ":script_param_1"),
						(ge, ":horse_script_param_1", 0),
						(get_achievement_stat, ":achievement_stat_57_0", 57, 0),
						(lt, ":achievement_stat_57_0", 50),
						(val_add, ":achievement_stat_57_0", 1),
						(set_achievement_stat, 57, 0, ":achievement_stat_57_0"),
						(ge, ":achievement_stat_57_0", 50),
						(unlock_achievement, 57),
					(try_end),
					(try_begin),
						(ge, ":horse_agent_id_multiplayer_my_player", 0),
						(this_or_next|eq, ":value", 12),
						(this_or_next|eq, ":value", 13),
						(this_or_next|eq, ":value", 16),
						(eq, ":value", 17),
						(get_achievement_stat, ":achievement_stat_57_0", 58, 0),
						(lt, ":achievement_stat_57_0", 100),
						(val_add, ":achievement_stat_57_0", 1),
						(set_achievement_stat, 58, 0, ":achievement_stat_57_0"),
						(ge, ":achievement_stat_57_0", 100),
						(unlock_achievement, 58),
					(try_end),
					(try_begin),
						(this_or_next|eq, ":value", 16),
						(eq, ":value", 17),
						(get_achievement_stat, ":achievement_stat_57_0", 59, 0),
						(lt, ":achievement_stat_57_0", 25),
						(val_add, ":achievement_stat_57_0", 1),
						(set_achievement_stat, 59, 0, ":achievement_stat_57_0"),
						(ge, ":achievement_stat_57_0", 25),
						(unlock_achievement, 59),
					(try_end),
					(try_begin),
						(ge, ":horse_agent_id_multiplayer_my_player", 0),
						(eq, ":value", 9),
						(get_achievement_stat, ":achievement_stat_57_0", 60, 0),
						(lt, ":achievement_stat_57_0", 25),
						(val_add, ":achievement_stat_57_0", 1),
						(set_achievement_stat, 60, 0, ":achievement_stat_57_0"),
						(ge, ":achievement_stat_57_0", 25),
						(unlock_achievement, 60),
					(try_end),
					(try_begin),
						(this_or_next|eq, ":value", 1),
						(this_or_next|eq, ":value", 2),
						(this_or_next|eq, ":value", 5),
						(this_or_next|eq, ":value", 6),
						(this_or_next|eq, ":value", 7),
						(this_or_next|eq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mackie_tomahawk"),
						(this_or_next|eq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mackie_tomahawk"),
						(eq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mackie_tomahawk"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_medium_tier_sword_2"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mackie_tomahawk"),
						(get_achievement_stat, ":achievement_stat_57_0", 64, 0),
						(lt, ":achievement_stat_57_0", 50),
						(val_add, ":achievement_stat_57_0", 1),
						(set_achievement_stat, 64, 0, ":achievement_stat_57_0"),
						(ge, ":achievement_stat_57_0", 50),
						(unlock_achievement, 64),
					(try_end),
					(try_begin),
						(this_or_next|eq, ":value", 3),
						(eq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mackie_morning_star_long"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mackie_morning_star_long"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mace_spiral"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mace_spiral"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mace_spiral"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_medium_tier_sword_2"),
						(neq, ":wielded_item_agent_id_multiplayer_my_player_0", "itm_mackie_morning_star_long"),
						(get_achievement_stat, ":achievement_stat_57_0", 65, 0),
						(lt, ":achievement_stat_57_0", 25),
						(val_add, ":achievement_stat_57_0", 1),
						(set_achievement_stat, 65, 0, ":achievement_stat_57_0"),
						(ge, ":achievement_stat_57_0", 25),
						(unlock_achievement, 65),
					(try_end),
					(try_begin),
						(eq, ":value", 17),
						(get_achievement_stat, ":achievement_stat_57_0", 66, 0),
						(lt, ":achievement_stat_57_0", 50),
						(val_add, ":achievement_stat_57_0", 1),
						(set_achievement_stat, 66, 0, ":achievement_stat_57_0"),
						(ge, ":achievement_stat_57_0", 50),
						(unlock_achievement, 66),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(is_between, ":multiplayer_my_player", 0, 1000),
				(player_get_agent_id, ":agent_id_multiplayer_my_player_2", ":multiplayer_my_player"),
				(eq, ":script_param_1", ":agent_id_multiplayer_my_player_2"),
				(assign, ":value_2", 0),
				(try_begin),
					(neq, "$g_multiplayer_game_type", 2),
					(neq, "$g_multiplayer_game_type", 3),
					(assign, ":value_2", 1),
				(else_try),
					(eq, "$g_multiplayer_player_respawn_as_bot", 1),
					(player_get_team_no, ":team_no_multiplayer_my_player", ":multiplayer_my_player"),
					(assign, ":value_3", 0),
					(try_for_agents, ":var_14"),
						(eq, ":value_3", 0),
						(agent_is_alive, ":var_14"),
						(agent_is_human, ":var_14"),
						(agent_is_non_player, ":var_14"),
						(agent_get_team, ":team_var_14", ":var_14"),
						(eq, ":team_var_14", ":team_no_multiplayer_my_player"),
						(assign, ":value_3", 1),
					(try_end),
					(eq, ":value_3", 1),
					(assign, ":value_2", 1),
				(try_end),
				(try_begin),
					(eq, "$g_multiplayer_game_type", 6),
					(gt, "$g_multiplayer_number_of_respawn_count", 0),
					(ge, "$g_my_spawn_count", "$g_multiplayer_number_of_respawn_count"),
					(multiplayer_get_my_player, ":multiplayer_my_player"),
					(player_get_team_no, ":team_no_multiplayer_my_player", ":multiplayer_my_player"),
					(this_or_next|eq, ":team_no_multiplayer_my_player", 0),
					(ge, "$g_my_spawn_count", 999),
					(assign, "$g_show_no_more_respawns_remained", 1),
				(else_try),
					(assign, "$g_show_no_more_respawns_remained", 0),
				(try_end),
				(eq, ":value_2", 1),
				(start_presentation, "prsnt_multiplayer_respawn_time_counter"),
			(try_end)
		]),

	("multiplayer_get_item_value_for_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(call_script, "script_cf_multiplayer_is_item_default_for_troop", ":script_param_1", ":script_param_2"),
				(assign, ":value", 0),
			(else_try),
				(store_item_value, ":value", ":script_param_1"),
				(store_faction_of_troop, ":faction_of_troop_script_param_2", ":script_param_2"),
				(store_sub, ":value_2", ":faction_of_troop_script_param_2", "fac_kingdom_1"),
				(val_add, ":value_2", 30),
				(item_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
				(val_mul, ":value", ":script_param_1_value_2"),
				(val_div, ":value", 100),
			(try_end),
			(assign, reg0, ":value")
		]),

	("multiplayer_get_previous_item_for_item_and_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(item_get_slot, ":script_param_1_multiplayer_class", ":script_param_1", slot_item_multiplayer_item_class),
			(call_script, "script_multiplayer_get_item_value_for_troop", ":script_param_1", ":script_param_2"),
			(assign, ":var_4", reg0),
			(store_sub, ":value", ":script_param_2", "trp_swadian_crossbowman_multiplayer"),
			(val_add, ":value", 61),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(try_for_range, ":number", 0, "itm_items_end"),
				(item_slot_eq, ":number", slot_item_multiplayer_item_class, ":script_param_1_multiplayer_class"),
				(item_slot_ge, ":number", ":value", 1),
				(call_script, "script_multiplayer_get_item_value_for_troop", ":number", ":script_param_2"),
				(assign, ":var_9", reg0),
				(try_begin),
					(eq, ":var_9", 0),
					(eq, ":value_3", 0),
					(store_item_value, ":item_value_number", ":number"),
					(store_item_value, ":item_value_value_2", ":value_2"),
					(try_begin),
						(gt, ":item_value_number", ":item_value_value_2"),
						(assign, ":value_3", ":var_9"),
						(assign, ":value_2", ":number"),
					(try_end),
				(else_try),
					(gt, ":var_9", ":value_3"),
					(lt, ":var_9", ":var_4"),
					(assign, ":value_3", ":var_9"),
					(assign, ":value_2", ":number"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_2", -1),
				(assign, ":value_4", -1),
				(try_begin),
					(is_between, ":script_param_1_multiplayer_class", 1, 10),
					(assign, ":value_4", 0),
				(else_try),
					(is_between, ":script_param_1_multiplayer_class", 10, 12),
					(assign, ":value_4", 1),
				(else_try),
					(eq, ":script_param_1_multiplayer_class", 12),
					(assign, ":value_4", 2),
				(else_try),
					(eq, ":script_param_1_multiplayer_class", 13),
					(assign, ":value_4", 3),
				(else_try),
					(eq, ":script_param_1_multiplayer_class", 14),
					(assign, ":value_4", 4),
				(else_try),
					(eq, ":script_param_1_multiplayer_class", 15),
					(assign, ":value_4", 5),
				(else_try),
					(eq, ":script_param_1_multiplayer_class", 16),
					(assign, ":value_4", 6),
				(else_try),
					(is_between, ":script_param_1_multiplayer_class", 22, 24),
					(assign, ":value_4", 7),
				(else_try),
					(is_between, ":script_param_1_multiplayer_class", 19, 22),
					(assign, ":value_4", 8),
				(else_try),
					(is_between, ":script_param_1_multiplayer_class", 24, 26),
					(assign, ":value_4", 9),
				(else_try),
					(is_between, ":script_param_1_multiplayer_class", 26, 27),
					(assign, ":value_4", 10),
				(else_try),
					(is_between, ":script_param_1_multiplayer_class", 18, 19),
					(assign, ":value_4", 11),
				(try_end),
				(neq, ":value_4", 0),
				(assign, ":value_5", "itm_items_end"),
				(try_for_range, ":number", 0, ":value_5"),
					(item_slot_ge, ":number", ":value", 1),
					(item_get_slot, ":number_multiplayer_class", ":number", slot_item_multiplayer_item_class),
					(try_begin),
						(is_between, ":number_multiplayer_class", 1, 10),
						(assign, ":value_6", 0),
					(else_try),
						(is_between, ":number_multiplayer_class", 10, 12),
						(assign, ":value_6", 1),
					(else_try),
						(eq, ":number_multiplayer_class", 12),
						(assign, ":value_6", 2),
					(else_try),
						(eq, ":number_multiplayer_class", 13),
						(assign, ":value_6", 3),
					(else_try),
						(eq, ":number_multiplayer_class", 14),
						(assign, ":value_6", 4),
					(else_try),
						(eq, ":number_multiplayer_class", 15),
						(assign, ":value_6", 5),
					(else_try),
						(eq, ":number_multiplayer_class", 16),
						(assign, ":value_6", 6),
					(else_try),
						(is_between, ":number_multiplayer_class", 22, 24),
						(assign, ":value_6", 7),
					(else_try),
						(is_between, ":number_multiplayer_class", 19, 22),
						(assign, ":value_6", 8),
					(else_try),
						(is_between, ":number_multiplayer_class", 24, 26),
						(assign, ":value_6", 9),
					(else_try),
						(is_between, ":number_multiplayer_class", 26, 27),
						(assign, ":value_6", 10),
					(else_try),
						(is_between, ":number_multiplayer_class", 18, 19),
						(assign, ":value_6", 11),
					(try_end),
					(eq, ":value_6", ":value_4"),
					(call_script, "script_cf_multiplayer_is_item_default_for_troop", ":number", ":script_param_2"),
					(assign, ":value_2", ":number"),
					(assign, ":value_5", 0),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("cf_multiplayer_is_item_default_for_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(try_begin),
				(neg|is_between, ":script_param_1", "itm_ho_swa_saddle_black", "itm_we_swa_axe_hatchet"),
				(troop_get_inventory_capacity, ":inventory_capacity_script_param_2", ":script_param_2"),
				(try_for_range, ":number", 0, ":inventory_capacity_script_param_2"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_2_number", ":script_param_2", ":number"),
					(eq, ":script_param_1", ":inventory_slot_script_param_2_number"),
					(assign, ":value", 1),
					(assign, ":inventory_capacity_script_param_2", 0),
				(try_end),
			(try_end),
			(eq, ":value", 1)
		]),

	("multiplayer_calculate_cur_selected_items_cost",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", 0),
			(player_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":script_param_2", 0),
				(assign, ":value", 11),
				(assign, ":value_2", 20),
			(else_try),
				(assign, ":value", 2),
				(assign, ":value_2", 11),
			(try_end),
			(try_for_range, ":var_7", ":value", ":value_2"),
				(player_get_slot, ":script_param_1_var_7", ":script_param_1", ":var_7"),
				(ge, ":script_param_1_var_7", 0),
				(call_script, "script_multiplayer_get_item_value_for_troop", ":script_param_1_var_7", ":troop_id_script_param_1"),
				(val_add, ":var_3", reg0),
			(try_end),
			(assign, reg0, ":var_3")
		]),

	("multiplayer_set_item_available_for_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_sub, ":value", ":script_param_2", "trp_swadian_crossbowman_multiplayer"),
			(val_add, ":value", 61),
			(item_set_slot, ":script_param_1", ":value", 1)
		]),

	("multiplayer_send_item_selections",
		[
			(multiplayer_get_my_player, ":multiplayer_my_player"),
			(try_for_range, ":number", 2, 11),
				(player_get_slot, ":multiplayer_my_player_number", ":multiplayer_my_player", ":number"),
				(multiplayer_send_2_int_to_server, 0, ":number", ":multiplayer_my_player_number"),
			(try_end)
		]),

	("multiplayer_set_default_item_selections_for_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(multiplayer_get_my_player, ":multiplayer_my_player"),
			(call_script, "script_multiplayer_clear_player_selected_items", ":multiplayer_my_player"),
			(assign, ":var_3", 0),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(ge, ":inventory_slot_script_param_1_number", 0),
				(item_get_slot, ":inventory_slot_script_param_1_number_multiplayer_class", ":inventory_slot_script_param_1_number", slot_item_multiplayer_item_class),
				(try_begin),
					(is_between, ":inventory_slot_script_param_1_number_multiplayer_class", 1, 18),
					(this_or_next|eq, "$g_multiplayer_disallow_ranged_weapons", 0),
					(neg|is_between, ":inventory_slot_script_param_1_number_multiplayer_class", 12, 18),
					(store_add, ":value", 2, ":var_3"),
					(player_set_slot, ":multiplayer_my_player", ":value", ":inventory_slot_script_param_1_number"),
					(val_add, ":var_3", 1),
				(else_try),
					(is_between, ":inventory_slot_script_param_1_number_multiplayer_class", 22, 24),
					(store_add, ":value", 2, 4),
					(player_set_slot, ":multiplayer_my_player", ":value", ":inventory_slot_script_param_1_number"),
				(else_try),
					(is_between, ":inventory_slot_script_param_1_number_multiplayer_class", 19, 22),
					(store_add, ":value", 2, 5),
					(player_set_slot, ":multiplayer_my_player", ":value", ":inventory_slot_script_param_1_number"),
				(else_try),
					(is_between, ":inventory_slot_script_param_1_number_multiplayer_class", 24, 26),
					(store_add, ":value", 2, 6),
					(player_set_slot, ":multiplayer_my_player", ":value", ":inventory_slot_script_param_1_number"),
				(else_try),
					(is_between, ":inventory_slot_script_param_1_number_multiplayer_class", 26, 27),
					(store_add, ":value", 2, 7),
					(player_set_slot, ":multiplayer_my_player", ":value", ":inventory_slot_script_param_1_number"),
				(else_try),
					(is_between, ":inventory_slot_script_param_1_number_multiplayer_class", 18, 19),
					(eq, "$g_horses_are_avaliable", 1),
					(store_add, ":value", 2, 8),
					(player_set_slot, ":multiplayer_my_player", ":value", ":inventory_slot_script_param_1_number"),
				(try_end),
			(try_end)
		]),

	("multiplayer_display_available_items_for_troop_and_item_classes",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(assign, ":value", 100),
			(try_begin),
				(gt, ":script_param_4", 500),
				(assign, ":value", -100),
			(try_end),
			(store_sub, ":value_2", ":script_param_1", "trp_swadian_crossbowman_multiplayer"),
			(val_add, ":value_2", 61),
			(try_for_range, ":number", 46, 146),
				(troop_set_slot, "trp_multiplayer_data", ":number", -1),
			(try_end),
			(assign, ":var_9", 0),
			(try_for_range, ":number_2", 0, "itm_items_end"),
				(item_get_slot, ":number_2_multiplayer_class", ":number_2", slot_item_multiplayer_item_class),
				(is_between, ":number_2_multiplayer_class", ":script_param_2", ":script_param_3"),
				(this_or_next|eq, "$g_multiplayer_disallow_ranged_weapons", 0),
				(neg|is_between, ":number_2_multiplayer_class", 12, 18),
				(item_slot_ge, ":number_2", ":value_2", 1),
				(store_add, ":value_3", ":var_9", 46),
				(troop_set_slot, "trp_multiplayer_data", ":value_3", ":number_2"),
				(val_add, ":var_9", 1),
			(try_end),
			(store_add, ":value_4", ":var_9", 46),
			(store_sub, ":value_5", ":value_4", 1),
			(try_for_range, ":number", 46, ":value_5"),
				(store_add, ":value_6", ":number", 1),
				(try_for_range, ":var_16", ":value_6", ":value_4"),
					(troop_get_slot, ":multiplayer_data_number", "trp_multiplayer_data", ":number"),
					(troop_get_slot, ":multiplayer_data_var_16", "trp_multiplayer_data", ":var_16"),
					(call_script, "script_multiplayer_get_item_value_for_troop", ":multiplayer_data_number", ":script_param_1"),
					(assign, ":var_19", reg0),
					(call_script, "script_multiplayer_get_item_value_for_troop", ":multiplayer_data_var_16", ":script_param_1"),
					(assign, ":var_20", reg0),
					(item_get_slot, ":multiplayer_data_number_multiplayer_class", ":multiplayer_data_number", slot_item_multiplayer_item_class),
					(item_get_slot, ":multiplayer_data_var_16_multiplayer_class", ":multiplayer_data_var_16", slot_item_multiplayer_item_class),
					(val_mul, ":multiplayer_data_number_multiplayer_class", 1000000),
					(val_mul, ":multiplayer_data_var_16_multiplayer_class", 1000000),
					(val_add, ":var_19", ":multiplayer_data_number_multiplayer_class"),
					(val_add, ":var_20", ":multiplayer_data_var_16_multiplayer_class"),
					(lt, ":var_20", ":var_19"),
					(troop_set_slot, "trp_multiplayer_data", ":number", ":multiplayer_data_var_16"),
					(troop_set_slot, "trp_multiplayer_data", ":var_16", ":multiplayer_data_number"),
				(try_end),
			(try_end),
			(troop_get_slot, ":multiplayer_data_temp_slot", "trp_multiplayer_data", slot_troop_temp_slot),
			(assign, ":var_24", 0),
			(try_begin),
				(ge, ":multiplayer_data_temp_slot", 0),
				(item_get_slot, ":multiplayer_data_temp_slot_multiplayer_class", ":multiplayer_data_temp_slot", slot_item_multiplayer_item_class),
				(try_for_range, ":number", 46, ":value_4"),
					(troop_get_slot, ":number_2", "trp_multiplayer_data", ":number"),
					(item_get_slot, ":number_2_multiplayer_class", ":number_2", slot_item_multiplayer_item_class),
					(neq, ":number_2_multiplayer_class", ":multiplayer_data_temp_slot_multiplayer_class"),
					(val_add, ":var_24", 1),
					(assign, ":multiplayer_data_temp_slot_multiplayer_class", ":number_2_multiplayer_class"),
				(try_end),
				(try_begin),
					(store_mul, ":value_7", ":var_24", 100),
					(gt, ":value_7", ":script_param_5"),
					(store_sub, ":value_8", ":value_7", ":script_param_5"),
					(val_div, ":value_8", 100),
					(val_add, ":value_8", 1),
					(val_mul, ":value_8", 100),
					(val_add, ":script_param_5", ":value_8"),
				(try_end),
				(item_get_slot, ":multiplayer_data_temp_slot_multiplayer_class", ":multiplayer_data_temp_slot", slot_item_multiplayer_item_class),
			(try_end),
			(assign, ":value_9", ":script_param_4"),
			(assign, ":var_29", ":script_param_5"),
			(try_for_range, ":number", 46, ":value_4"),
				(troop_get_slot, ":number_2", "trp_multiplayer_data", ":number"),
				(item_get_slot, ":number_2_multiplayer_class", ":number_2", slot_item_multiplayer_item_class),
				(try_begin),
					(neq, ":number_2_multiplayer_class", ":multiplayer_data_temp_slot_multiplayer_class"),
					(val_sub, ":var_29", 100),
					(assign, ":value_9", ":script_param_4"),
					(assign, ":multiplayer_data_temp_slot_multiplayer_class", ":number_2_multiplayer_class"),
				(try_end),
				(create_image_button_overlay, ":var_30", "mesh_mp_inventory_choose", "mesh_mp_inventory_choose"),
				(position_set_x, 1, 800),
				(position_set_y, 1, 800),
				(overlay_set_size, ":var_30", 1),
				(position_set_x, 1, ":value_9"),
				(position_set_y, 1, ":var_29"),
				(overlay_set_position, ":var_30", 1),
				(create_mesh_overlay_with_item_id, reg0, ":number_2"),
				(store_add, ":value_10", ":value_9", 50),
				(store_add, ":value_11", ":var_29", 50),
				(position_set_x, 1, ":value_10"),
				(position_set_y, 1, ":value_11"),
				(overlay_set_position, reg0, 1),
				(val_add, ":value_9", ":value"),
			(try_end)
		]),

	("multiplayer_fill_map_game_types",
		[
			(store_script_param, ":script_param_1", 1),
			(try_for_range, ":number", 0, 30),
				(troop_set_slot, "trp_multiplayer_data", ":number", -1),
			(try_end),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|eq, ":script_param_1", 0),
				(this_or_next|eq, ":script_param_1", 7),
				(eq, ":script_param_1", 1),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_relations_begin, "scn_multi_scene_1"),
				(troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_occupation, "scn_multi_scene_4"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_state, "scn_multi_scene_7"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_last_talk_time, "scn_multi_scene_9"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_met, "scn_multi_scene_11"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_party_template, "scn_multi_scene_12"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_renown, "scn_multi_scene_14"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_prisoner_of_party, "scn_multi_scene_17"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_present_at_event, "scn_multi_scene_18"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_leaded_party, "scn_random_multi_plain_medium"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_wealth, "scn_random_multi_plain_large"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_cur_center, "scn_random_multi_steppe_medium"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_banner_scene_prop, "scn_random_multi_steppe_large"),
				(assign, ":value", 14),
			(else_try),
				(eq, ":script_param_1", 2),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_relations_begin, "scn_multi_scene_1"),
				(troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_occupation, "scn_multi_scene_4"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_state, "scn_multi_scene_7"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_last_talk_time, "scn_multi_scene_9"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_met, "scn_multi_scene_11"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_party_template, "scn_multi_scene_12"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_renown, "scn_multi_scene_14"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_prisoner_of_party, "scn_multi_scene_17"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_present_at_event, "scn_multi_scene_18"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_leaded_party, "scn_random_multi_plain_medium"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_wealth, "scn_random_multi_plain_large"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_cur_center, "scn_random_multi_steppe_medium"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_banner_scene_prop, "scn_random_multi_steppe_large"),
				(assign, ":value", 14),
			(else_try),
				(eq, ":script_param_1", 3),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_relations_begin, "scn_multi_scene_1"),
				(troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_occupation, "scn_multi_scene_4"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_state, "scn_multi_scene_7"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_last_talk_time, "scn_multi_scene_9"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_met, "scn_multi_scene_12"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_party_template, "scn_multi_scene_14"),
				(assign, ":value", 7),
			(else_try),
				(eq, ":script_param_1", 4),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_relations_begin, "scn_multi_scene_1"),
				(troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_occupation, "scn_multi_scene_4"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_state, "scn_multi_scene_7"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_last_talk_time, "scn_multi_scene_9"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_met, "scn_multi_scene_11"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_party_template, "scn_multi_scene_12"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_renown, "scn_multi_scene_14"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_prisoner_of_party, "scn_multi_scene_17"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_present_at_event, "scn_multi_scene_18"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_leaded_party, "scn_random_multi_plain_medium"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_wealth, "scn_random_multi_plain_large"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_cur_center, "scn_random_multi_steppe_medium"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_banner_scene_prop, "scn_random_multi_steppe_large"),
				(assign, ":value", 14),
			(else_try),
				(eq, ":script_param_1", 5),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_relations_begin, "scn_multi_scene_1"),
				(troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_2"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_occupation, "scn_multi_scene_4"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_state, "scn_multi_scene_7"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_last_talk_time, "scn_multi_scene_9"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_met, "scn_multi_scene_11"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_party_template, "scn_multi_scene_12"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_renown, "scn_multi_scene_14"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_prisoner_of_party, "scn_multi_scene_17"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_present_at_event, "scn_multi_scene_18"),
				(assign, ":value", 10),
			(else_try),
				(eq, ":script_param_1", 6),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_relations_begin, "scn_multi_scene_3"),
				(troop_set_slot, "trp_multiplayer_data", 1, "scn_multi_scene_8"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_occupation, "scn_multi_scene_10"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_state, "scn_multi_scene_13"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_last_talk_time, "scn_multi_scene_15"),
				(troop_set_slot, "trp_multiplayer_data", slot_troop_met, "scn_multi_scene_16"),
				(assign, ":value", 6),
			(try_end),
			(assign, reg0, ":value")
		]),

	("multiplayer_count_players_bots",
		[
			(get_max_players, ":max_players"),
			(try_for_range, ":number", 0, ":max_players"),
				(player_is_active, ":number"),
				(player_set_slot, ":number", slot_player_last_bot_count, 0),
			(try_end),
			(try_for_agents, ":var_3"),
				(agent_is_human, ":var_3"),
				(agent_is_alive, ":var_3"),
				(agent_get_player_id, ":player_id_var_3", ":var_3"),
				(lt, ":player_id_var_3", 0),
				(agent_get_group, ":group_var_3", ":var_3"),
				(player_is_active, ":group_var_3"),
				(player_get_slot, ":group_var_3_last_bot_count", ":group_var_3", slot_player_last_bot_count),
				(val_add, ":group_var_3_last_bot_count", 1),
				(player_set_slot, ":group_var_3", slot_player_last_bot_count, ":group_var_3_last_bot_count"),
			(try_end)
		]),

	("multiplayer_find_player_leader_for_bot",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(team_get_faction, ":faction_script_param_1", ":script_param_1"),
			(assign, ":var_4", 0),
			(try_for_range, ":troop", "trp_swadian_crossbowman_multiplayer_ai", "trp_swadian_crossbowman_multiplayer"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":faction_script_param_1"),
				(val_add, ":var_4", 1),
			(try_end),
			(call_script, "script_multiplayer_count_players_bots"),
			(assign, ":var_7", 0),
			(get_max_players, ":max_players"),
			(try_for_range, ":number", 0, ":max_players"),
				(assign, ":value", 0),
				(player_is_active, ":number"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(assign, ":value", 1),
				(else_try),
					(neq, ":script_param_2", 0),
					(player_get_agent_id, ":agent_id_number", ":number"),
					(ge, ":agent_id_number", 0),
					(agent_is_alive, ":agent_id_number"),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(player_get_team_no, ":team_no_number", ":number"),
				(eq, ":script_param_1", ":team_no_number"),
				(val_add, ":var_7", 1),
			(try_end),
			(assign, ":value_2", -1),
			(try_begin),
				(gt, ":var_7", 0),
				(assign, ":value_3", "$g_multiplayer_num_bots_team_1"),
				(try_begin),
					(eq, ":script_param_1", 1),
					(assign, ":value_3", "$g_multiplayer_num_bots_team_2"),
				(try_end),
				(store_div, ":value_4", ":value_3", ":var_7"),
				(store_mul, ":value_5", ":value_4", ":var_7"),
				(try_begin),
					(lt, ":value_5", ":value_3"),
					(val_add, ":value_4", 1),
				(try_end),
				(assign, ":var_17", 0),
				(try_for_range, ":number", 0, ":max_players"),
					(player_is_active, ":number"),
					(player_get_agent_id, ":agent_id_number", ":number"),
					(ge, ":agent_id_number", 0),
					(agent_is_alive, ":agent_id_number"),
					(player_get_team_no, ":team_no_number", ":number"),
					(eq, ":script_param_1", ":team_no_number"),
					(assign, ":value_6", 0),
					(store_add, ":value_7", 35, ":var_4"),
					(try_for_range, ":number_2", 35, ":value_7"),
						(player_slot_ge, ":number", ":number_2", 1),
						(assign, ":value_6", 1),
						(assign, ":value_7", 0),
					(try_end),
					(eq, ":value_6", 1),
					(player_get_slot, ":number_last_bot_count", ":number", slot_player_last_bot_count),
					(lt, ":number_last_bot_count", ":value_4"),
					(val_add, ":var_17", ":value_4"),
					(val_sub, ":var_17", ":number_last_bot_count"),
				(try_end),
				(gt, ":var_17", 0),
				(store_random_in_range, ":random_in_range_0_var_17", 0, ":var_17"),
				(try_for_range, ":number", 0, ":max_players"),
					(player_is_active, ":number"),
					(player_get_agent_id, ":agent_id_number", ":number"),
					(ge, ":agent_id_number", 0),
					(agent_is_alive, ":agent_id_number"),
					(player_get_team_no, ":team_no_number", ":number"),
					(eq, ":script_param_1", ":team_no_number"),
					(assign, ":value_6", 0),
					(store_add, ":value_7", 35, ":var_4"),
					(try_for_range, ":number_2", 35, ":value_7"),
						(player_slot_ge, ":number", ":number_2", 1),
						(assign, ":value_6", 1),
						(assign, ":value_7", 0),
					(try_end),
					(eq, ":value_6", 1),
					(player_get_slot, ":number_last_bot_count", ":number", slot_player_last_bot_count),
					(lt, ":number_last_bot_count", ":value_4"),
					(val_sub, ":random_in_range_0_var_17", ":value_4"),
					(val_add, ":random_in_range_0_var_17", ":number_last_bot_count"),
					(lt, ":random_in_range_0_var_17", 0),
					(assign, ":value_2", ":number"),
					(assign, ":max_players", 0),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("multiplayer_find_bot_troop_and_group_for_spawn",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_multiplayer_find_player_leader_for_bot", ":script_param_1", ":script_param_2"),
			(assign, ":var_3", reg0),
			(assign, ":value", 0),
			(assign, ":var_5", 0),
			(team_get_faction, ":faction_script_param_1", ":script_param_1"),
			(try_for_range, ":troop", "trp_swadian_crossbowman_multiplayer_ai", "trp_swadian_crossbowman_multiplayer"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":faction_script_param_1"),
				(store_add, ":value_2", 35, ":value"),
				(val_add, ":value", 1),
				(try_begin),
					(this_or_next|lt, ":var_3", 0),
					(player_slot_ge, ":var_3", ":value_2", 1),
					(val_add, ":var_5", 1),
				(try_end),
			(try_end),
			(assign, ":value", 0),
			(store_random_in_range, ":random_in_range_0_var_5", 0, ":var_5"),
			(assign, ":value_3", "trp_swadian_crossbowman_multiplayer"),
			(try_for_range, ":troop", "trp_swadian_crossbowman_multiplayer_ai", ":value_3"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":faction_script_param_1"),
				(store_add, ":value_2", 35, ":value"),
				(val_add, ":value", 1),
				(this_or_next|lt, ":var_3", 0),
				(player_slot_ge, ":var_3", ":value_2", 1),
				(val_sub, ":random_in_range_0_var_5", 1),
				(lt, ":random_in_range_0_var_5", 0),
				(assign, ":value_3", 0),
				(assign, ":var_12", ":troop"),
			(try_end),
			(assign, reg0, ":var_12"),
			(assign, reg1, ":var_3")
		]),

	("multiplayer_change_leader_of_bot",
		[
			(store_script_param, ":script_param_1", 1),
			(agent_get_team, ":team_script_param_1", ":script_param_1"),
			(call_script, "script_multiplayer_find_player_leader_for_bot", ":team_script_param_1", 1),
			(assign, ":var_3", reg0),
			(agent_set_group, ":script_param_1", ":var_3")
		]),

	("multiplayer_find_spawn_point",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(set_fixed_point_multiplier, 100),
			(assign, ":var_4", 0),
			(try_begin),
				(eq, ":script_param_2", 1),
				(val_or, ":var_4", 4),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(val_or, ":var_4", 2),
			(try_end),
			(try_begin),
				(eq, "$g_multiplayer_game_type", 0),
				(eq, "$g_multiplayer_game_type", 7),
				(val_or, ":var_4", 1),
				(val_or, ":var_4", 2048),
			(else_try),
				(eq, "$g_multiplayer_game_type", 1),
				(val_or, ":var_4", 2048),
			(else_try),
				(eq, "$g_multiplayer_game_type", 6),
				(val_or, ":var_4", 32),
				(val_or, ":var_4", 512),
				(val_or, ":var_4", 128),
				(val_or, ":var_4", 4096),
			(else_try),
				(eq, "$g_multiplayer_game_type", 4),
				(val_or, ":var_4", 16),
				(val_or, ":var_4", 8),
				(val_or, ":var_4", 2048),
			(else_try),
				(eq, "$g_multiplayer_game_type", 5),
				(assign, ":var_5", 0),
				(store_sub, ":value", 900, 50),
				(store_mul, ":value_2", ":value", ":value"),
				(val_div, ":value_2", 100),
				(try_for_range, ":number", 0, "$g_number_of_flags"),
					(store_add, ":value_3", 146, ":number"),
					(troop_get_slot, ":multiplayer_data_value_3", "trp_multiplayer_data", ":value_3"),
					(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_number", "spr_headquarters_pole_code_only", ":number"),
					(prop_instance_get_position, 0, ":scene_prop_instance_headquarters_pole_code_only_number"),
					(try_begin),
						(eq, ":multiplayer_data_value_3", 1),
						(scene_prop_get_instance, ":scene_prop_instance_team_1_flag_scene_prop_number", "$team_1_flag_scene_prop", ":number"),
						(prop_instance_get_position, 1, ":scene_prop_instance_team_1_flag_scene_prop_number"),
						(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
						(ge, ":sq_distance_between_positions_0_1", ":value_2"),
						(set_spawn_effector_scene_prop_id, ":var_5", ":scene_prop_instance_team_1_flag_scene_prop_number"),
						(val_add, ":var_5", 1),
					(else_try),
						(eq, ":multiplayer_data_value_3", 2),
						(scene_prop_get_instance, ":scene_prop_instance_team_2_flag_scene_prop_number", "$team_2_flag_scene_prop", ":number"),
						(prop_instance_get_position, 1, ":scene_prop_instance_team_2_flag_scene_prop_number"),
						(get_sq_distance_between_positions, ":sq_distance_between_positions_0_1", 0, 1),
						(ge, ":sq_distance_between_positions_0_1", ":value_2"),
						(set_spawn_effector_scene_prop_id, ":var_5", ":scene_prop_instance_team_2_flag_scene_prop_number"),
						(val_add, ":var_5", 1),
					(try_end),
				(try_end),
				(set_spawn_effector_scene_prop_id, ":var_5", -1),
			(try_end),
			(multiplayer_find_spawn_point, reg0, ":script_param_1", ":var_4")
		]),

	("multiplayer_find_spawn_point_2",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", -10000000),
			(assign, ":value_2", 0),
			(assign, ":var_6", 0),
			(assign, ":var_7", 0),
			(try_begin),
				(this_or_next|eq, "$g_multiplayer_game_type", 4),
				(this_or_next|eq, "$g_multiplayer_game_type", 5),
				(eq, "$g_multiplayer_game_type", 6),
				(try_for_agents, ":value_3"),
					(agent_is_alive, ":value_3"),
					(agent_is_human, ":value_3"),
					(val_add, ":var_7", 1),
				(try_end),
			(try_end),
			(assign, ":var_9", ":var_7"),
			(try_begin),
				(le, ":var_9", 4),
				(assign, ":value_4", 2),
			(else_try),
				(le, ":var_9", 8),
				(assign, ":value_4", 2),
			(else_try),
				(le, ":var_9", 16),
				(assign, ":value_4", 3),
			(else_try),
				(le, ":var_9", 24),
				(assign, ":value_4", 4),
			(else_try),
				(le, ":var_9", 32),
				(assign, ":value_4", 5),
			(else_try),
				(le, ":var_9", 40),
				(assign, ":value_4", 6),
			(else_try),
				(assign, ":value_4", 7),
			(try_end),
			(val_div, ":var_7", 3),
			(val_add, ":var_7", 1),
			(store_mul, ":value_5", ":var_7", -1),
			(try_begin),
				(eq, ":script_param_2", 1),
				(assign, ":value_4", 1),
			(try_end),
			(try_begin),
				(eq, "$g_multiplayer_game_type", 5),
				(assign, ":var_12", 0),
				(assign, ":var_13", 0),
				(try_for_range, ":number", 0, "$g_number_of_flags"),
					(store_add, ":value_6", 146, ":number"),
					(troop_get_slot, ":multiplayer_data_value_6", "trp_multiplayer_data", ":value_6"),
					(neq, ":multiplayer_data_value_6", 0),
					(val_sub, ":multiplayer_data_value_6", 1),
					(try_begin),
						(eq, ":multiplayer_data_value_6", ":script_param_1"),
						(val_add, ":var_12", 1),
					(else_try),
						(val_add, ":var_13", 1),
					(try_end),
				(try_end),
			(try_end),
			(assign, ":value_7", 0),
			(try_begin),
				(this_or_next|eq, "$g_multiplayer_game_type", 1),
				(this_or_next|eq, "$g_multiplayer_game_type", 4),
				(eq, "$g_multiplayer_game_type", 5),
				(try_begin),
					(eq, ":script_param_1", 0),
					(eq, "$g_multiplayer_team_1_first_spawn", 1),
					(assign, ":value_7", 1),
					(assign, "$g_multiplayer_team_1_first_spawn", 0),
				(else_try),
					(eq, ":script_param_1", 1),
					(eq, "$g_multiplayer_team_2_first_spawn", 1),
					(assign, ":value_7", 1),
					(assign, "$g_multiplayer_team_2_first_spawn", 0),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_7", 1),
				(store_mul, ":value_2", ":script_param_1", 32),
			(else_try),
				(try_for_range, ":number_2", 0, 64),
					(assign, ":value_8", 3000),
					(assign, ":value_9", 3000),
					(assign, ":value_10", 0),
					(store_random_in_range, ":random_in_range_0_value_4", 0, ":value_4"),
					(eq, ":random_in_range_0_value_4", 0),
					(entry_point_get_position, 0, ":number_2"),
					(try_for_agents, ":value_3"),
						(agent_is_alive, ":value_3"),
						(agent_is_human, ":value_3"),
						(agent_get_team, ":team_value_3", ":value_3"),
						(try_begin),
							(this_or_next|eq, "$g_multiplayer_game_type", 1),
							(this_or_next|eq, "$g_multiplayer_game_type", 4),
							(this_or_next|eq, "$g_multiplayer_game_type", 5),
							(eq, "$g_multiplayer_game_type", 6),
							(try_begin),
								(teams_are_enemies, ":script_param_1", ":team_value_3"),
								(assign, ":value_11", -2),
							(else_try),
								(assign, ":value_11", 1),
							(try_end),
						(else_try),
							(this_or_next|eq, "$g_multiplayer_game_type", 0),
							(eq, "$g_multiplayer_game_type", 7),
							(assign, ":value_11", -1),
						(try_end),
						(agent_get_position, 1, ":value_3"),
						(get_distance_between_positions_in_meters, ":distance_between_positions_in_meters_0_1", 0, 1),
						(val_add, ":var_6", 1),
						(try_begin),
							(try_begin),
								(lt, ":value_11", 0),
								(try_begin),
									(lt, ":distance_between_positions_in_meters_0_1", ":value_8"),
									(assign, ":value_9", ":value_8"),
									(assign, ":value_8", ":distance_between_positions_in_meters_0_1"),
								(else_try),
									(lt, ":distance_between_positions_in_meters_0_1", ":value_9"),
									(assign, ":value_9", ":distance_between_positions_in_meters_0_1"),
								(try_end),
							(try_end),
							(lt, ":distance_between_positions_in_meters_0_1", 100),
							(try_begin),
								(lt, ":distance_between_positions_in_meters_0_1", 3),
								(try_begin),
									(this_or_next|eq, ":script_param_2", 0),
									(this_or_next|lt, ":value_11", 0),
									(neq, "$g_multiplayer_game_type", 6),
									(try_begin),
										(lt, ":distance_between_positions_in_meters_0_1", 1),
										(assign, ":value_12", -1000000),
									(else_try),
										(lt, ":distance_between_positions_in_meters_0_1", 2),
										(try_begin),
											(lt, ":value_11", 0),
											(assign, ":value_12", -20000),
										(else_try),
											(assign, ":value_12", -2000),
										(try_end),
									(else_try),
										(try_begin),
											(lt, ":value_11", 0),
											(assign, ":value_12", -10000),
										(else_try),
											(assign, ":value_12", -1000),
										(try_end),
									(try_end),
								(else_try),
									(try_begin),
										(lt, ":distance_between_positions_in_meters_0_1", 1),
										(assign, ":value_12", -20000),
									(else_try),
										(lt, ":distance_between_positions_in_meters_0_1", 2),
										(assign, ":value_12", -2000),
									(else_try),
										(assign, ":value_12", -1000),
									(try_end),
								(try_end),
								(val_mul, ":value_12", ":var_7"),
							(else_try),
								(assign, ":value_12", 0),
								(this_or_next|neq, "$g_multiplayer_game_type", 6),
								(this_or_next|lt, ":value_11", 0),
								(eq, ":script_param_1", 1),
								(try_begin),
									(this_or_next|eq, "$g_multiplayer_game_type", 6),
									(this_or_next|eq, "$g_multiplayer_game_type", 0),
									(this_or_next|eq, "$g_multiplayer_game_type", 7),
									(eq, "$g_multiplayer_game_type", 1),
									(store_sub, ":value_12", 45, ":distance_between_positions_in_meters_0_1"),
									(val_max, ":value_12", 0),
									(val_mul, ":value_12", ":value_12"),
								(else_try),
									(store_mul, ":value_13", 45, 3),
									(val_div, ":value_13", 2),
									(store_sub, ":value_12", ":value_13", ":distance_between_positions_in_meters_0_1"),
									(val_mul, ":value_12", ":value_12"),
								(try_end),
								(val_mul, ":value_12", ":value_11"),
							(try_end),
							(val_add, ":value_10", ":value_12"),
						(try_end),
					(try_end),
					(try_begin),
						(eq, "$g_multiplayer_game_type", 6),
						(store_mul, ":value_14", 1000, ":var_7"),
						(ge, ":value_10", ":value_14"),
						(assign, ":value_10", ":value_14"),
					(try_end),
					(try_begin),
						(neq, "$g_multiplayer_game_type", 6),
						(try_begin),
							(lt, ":value_8", 3000),
							(try_begin),
								(gt, ":value_8", 32),
								(val_sub, ":value_8", 32),
								(store_mul, ":value_15", ":value_8", -50),
								(val_mul, ":value_15", ":var_7"),
								(val_add, ":value_10", ":value_15"),
							(try_end),
						(try_end),
						(try_begin),
							(lt, ":value_9", 3000),
							(try_begin),
								(gt, ":value_9", 32),
								(val_sub, ":value_9", 32),
								(store_mul, ":value_16", ":value_9", -50),
								(val_mul, ":value_16", ":var_7"),
								(val_add, ":value_10", ":value_16"),
							(try_end),
						(try_end),
					(try_end),
					(try_begin),
						(neq, ":script_param_3", -1),
						(position_get_distance_to_terrain, ":position_distance_to_terrain_0", 0),
						(val_max, ":position_distance_to_terrain_0", 0),
						(val_min, ":position_distance_to_terrain_0", 300),
						(ge, ":position_distance_to_terrain_0", 40),
						(store_mul, ":value_17", ":position_distance_to_terrain_0", ":var_7"),
						(try_begin),
							(eq, "$g_multiplayer_game_type", 1),
							(val_mul, ":value_17", 16),
						(else_try),
							(val_mul, ":value_17", 4),
						(try_end),
						(try_begin),
							(eq, ":script_param_3", 0),
							(try_begin),
								(eq, "$g_multiplayer_game_type", 6),
								(eq, ":script_param_1", 0),
								(val_add, ":value_10", ":value_17"),
							(try_end),
						(else_try),
							(val_mul, ":value_17", 5),
							(val_sub, ":value_10", ":value_17"),
						(try_end),
					(try_end),
					(try_begin),
						(this_or_next|eq, "$g_multiplayer_game_type", 6),
						(this_or_next|eq, "$g_multiplayer_game_type", 0),
						(this_or_next|eq, "$g_multiplayer_game_type", 7),
						(this_or_next|eq, "$g_multiplayer_game_type", 4),
						(eq, "$g_multiplayer_game_type", 1),
						(try_begin),
							(neq, "$g_multiplayer_game_type", 6),
							(store_random_in_range, ":random_in_range_0_value_4", 0, 400),
							(try_begin),
								(eq, "$g_multiplayer_game_type", 4),
								(val_mul, ":random_in_range_0_value_4", 5),
							(try_end),
						(else_try),
							(eq, ":script_param_1", 1),
							(store_random_in_range, ":random_in_range_0_value_4", 0, 600),
						(else_try),
							(store_random_in_range, ":random_in_range_0_value_4", 0, 200),
						(try_end),
						(val_mul, ":random_in_range_0_value_4", ":var_7"),
						(val_add, ":value_10", ":random_in_range_0_value_4"),
					(try_end),
					(try_begin),
						(this_or_next|eq, "$g_multiplayer_game_type", 4),
						(eq, "$g_multiplayer_game_type", 6),
						(try_begin),
							(eq, "$g_multiplayer_game_type", 4),
							(try_begin),
								(eq, ":script_param_1", 0),
								(entry_point_get_position, 1, 64),
								(entry_point_get_position, 2, 65),
							(else_try),
								(entry_point_get_position, 1, 65),
								(entry_point_get_position, 2, 64),
							(try_end),
						(else_try),
							(try_begin),
								(eq, ":script_param_1", 0),
								(entry_point_get_position, 1, 66),
								(entry_point_get_position, 2, 32),
							(else_try),
								(entry_point_get_position, 1, 32),
								(entry_point_get_position, 2, 66),
							(try_end),
						(try_end),
						(try_begin),
							(eq, "$g_multiplayer_game_type", 6),
							(position_get_z, ":position_z_0", 0),
							(position_set_z, 1, ":position_z_0"),
							(position_set_z, 2, ":position_z_0"),
						(try_end),
						(get_sq_distance_between_positions_in_meters, ":sq_distance_between_positions_in_meters_0_1", 0, 1),
						(get_sq_distance_between_positions_in_meters, ":sq_distance_between_positions_in_meters_0_2", 0, 2),
						(get_distance_between_positions_in_meters, ":distance_between_positions_in_meters_0_2", 0, 2),
						(assign, ":value_18", 0),
						(try_begin),
							(eq, "$g_multiplayer_game_type", 4),
							(get_distance_between_positions_in_meters, ":distance_between_positions_in_meters_0_1_2", 0, 1),
							(lt, ":distance_between_positions_in_meters_0_1_2", 100),
							(store_sub, ":value_18", 100, ":distance_between_positions_in_meters_0_1_2"),
							(try_begin),
								(gt, ":value_18", 75),
								(assign, ":value_18", 75),
							(try_end),
							(val_mul, ":value_18", 50),
							(val_mul, ":value_18", ":var_7"),
						(else_try),
							(lt, ":sq_distance_between_positions_in_meters_0_1", 10000),
							(try_begin),
								(eq, ":script_param_1", 0),
								(try_begin),
									(lt, ":sq_distance_between_positions_in_meters_0_1", 2500),
									(assign, ":sq_distance_between_positions_in_meters_0_1", 0),
								(else_try),
									(val_sub, ":sq_distance_between_positions_in_meters_0_1", 2500),
									(val_mul, ":sq_distance_between_positions_in_meters_0_1", 2),
								(try_end),
							(try_end),
							(store_sub, ":value_18", 10000, ":sq_distance_between_positions_in_meters_0_1"),
							(val_add, ":value_18", 5000),
							(try_begin),
								(eq, ":script_param_1", 0),
							(else_try),
								(val_div, ":value_18", 45),
							(try_end),
							(val_mul, ":value_18", ":var_7"),
						(try_end),
						(val_add, ":value_10", ":value_18"),
						(assign, ":value_19", 0),
						(try_begin),
							(eq, "$g_multiplayer_game_type", 4),
							(lt, ":distance_between_positions_in_meters_0_2", 150),
							(store_sub, ":value_19", 150, ":distance_between_positions_in_meters_0_2"),
							(try_begin),
								(gt, ":value_19", 50),
								(store_sub, ":value_20", ":value_19", 50),
								(val_mul, ":value_20", 2),
								(val_add, ":value_19", ":value_20"),
							(try_end),
							(val_mul, ":value_19", -50),
							(val_mul, ":value_19", ":var_7"),
						(else_try),
							(this_or_next|neq, "$g_multiplayer_game_type", 6),
							(eq, ":script_param_1", 1),
							(assign, ":value_19", 0),
							(try_begin),
								(neq, "$g_multiplayer_game_type", 6),
								(try_begin),
									(lt, ":sq_distance_between_positions_in_meters_0_2", 10000),
									(store_sub, ":value_19", 10000, ":sq_distance_between_positions_in_meters_0_2"),
									(val_div, ":value_19", 4),
									(val_mul, ":value_19", ":value_5"),
								(try_end),
							(else_try),
								(val_max, ":distance_between_positions_in_meters_0_2", 60),
								(try_begin),
									(eq, ":script_param_3", 1),
									(assign, ":value_21", 120),
								(else_try),
									(assign, ":value_21", 80),
								(try_end),
								(try_begin),
									(le, ":distance_between_positions_in_meters_0_2", ":value_21"),
									(store_sub, ":value_19", ":value_21", ":distance_between_positions_in_meters_0_2"),
									(val_mul, ":value_19", 180),
								(else_try),
									(store_sub, ":value_19", ":distance_between_positions_in_meters_0_2", ":value_21"),
									(val_mul, ":value_19", 30),
								(try_end),
								(val_sub, ":value_19", 600),
								(val_max, ":value_19", 0),
								(val_mul, ":value_19", ":value_5"),
							(try_end),
						(try_end),
						(val_add, ":value_10", ":value_19"),
					(else_try),
						(eq, "$g_multiplayer_game_type", 5),
						(try_for_range, ":number", 0, "$g_number_of_flags"),
							(store_add, ":value_6", 146, ":number"),
							(troop_get_slot, ":multiplayer_data_value_6", "trp_multiplayer_data", ":value_6"),
							(neq, ":multiplayer_data_value_6", 0),
							(val_sub, ":multiplayer_data_value_6", 1),
							(scene_prop_get_instance, ":scene_prop_instance_headquarters_pole_code_only_number", "spr_headquarters_pole_code_only", ":number"),
							(prop_instance_get_position, 1, ":scene_prop_instance_headquarters_pole_code_only_number"),
							(get_sq_distance_between_positions_in_meters, ":sq_distance_between_positions_in_meters_0_1_2", 0, 1),
							(lt, ":sq_distance_between_positions_in_meters_0_1_2", 6400),
							(try_begin),
								(eq, ":multiplayer_data_value_6", ":script_param_1"),
								(store_sub, ":value_22", 6400, ":sq_distance_between_positions_in_meters_0_1_2"),
								(val_mul, ":value_22", 2),
								(val_div, ":value_22", ":var_12"),
								(val_mul, ":value_22", ":var_7"),
							(else_try),
								(store_sub, ":value_22", 6400, ":sq_distance_between_positions_in_meters_0_1_2"),
								(val_mul, ":value_22", 2),
								(val_div, ":value_22", ":var_13"),
								(val_mul, ":value_22", ":value_5"),
							(try_end),
							(val_add, ":value_10", ":value_22"),
						(try_end),
					(try_end),
					(gt, ":value_10", ":value"),
					(assign, ":value", ":value_10"),
					(assign, ":value_2", ":number_2"),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("multiplayer_buy_agent_equipment",
		[
			(store_script_param, ":script_param_1", 1),
			(player_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
			(player_get_gold, ":gold_script_param_1", ":script_param_1"),
			(player_get_slot, ":script_param_1_last_rounds_used_item_earnings", ":script_param_1", slot_player_last_rounds_used_item_earnings),
			(player_set_slot, ":script_param_1", slot_player_last_rounds_used_item_earnings, 0),
			(val_add, ":gold_script_param_1", ":script_param_1_last_rounds_used_item_earnings"),
			(assign, ":value", 0),
			(try_for_range, ":number", 2, 11),
				(player_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
				(store_sub, ":value_2", ":number", 2),
				(try_begin),
					(player_item_slot_is_picked_up, ":script_param_1", ":value_2"),
					(assign, ":script_param_1_number", -1),
				(try_end),
				(val_add, ":value_2", 11),
				(player_set_slot, ":script_param_1", ":value_2", ":script_param_1_number"),
			(try_end),
			(assign, ":value_3", 1000),
			(try_for_range, ":unused", 0, ":value_3"),
				(call_script, "script_multiplayer_calculate_cur_selected_items_cost", ":script_param_1", 0),
				(assign, ":var_11", reg0),
				(try_begin),
					(gt, ":var_11", ":gold_script_param_1"),
					(call_script, "script_multiplayer_get_troop_class", ":troop_id_script_param_1"),
					(assign, ":var_12", reg0),
					(assign, ":value_4", 0),
					(assign, ":value_5", -1),
					(try_for_range, ":number", 11, 20),
						(player_get_slot, ":script_param_1_number_2", ":script_param_1", ":number"),
						(ge, ":script_param_1_number_2", 0),
						(call_script, "script_multiplayer_get_item_value_for_troop", ":script_param_1_number_2", ":troop_id_script_param_1"),
						(assign, ":var_16", reg0),
						(store_sub, ":value_6", ":number", 11),
						(try_begin),
							(this_or_next|eq, ":value_6", 0),
							(this_or_next|eq, ":value_6", 1),
							(this_or_next|eq, ":value_6", 2),
							(eq, ":value_6", 3),
							(val_mul, ":var_16", 5),
						(else_try),
							(eq, ":value_6", 4),
							(val_mul, ":var_16", 4),
						(else_try),
							(eq, ":value_6", 5),
							(val_mul, ":var_16", 2),
						(else_try),
							(eq, ":value_6", 6),
							(val_mul, ":var_16", 8),
						(else_try),
							(eq, ":value_6", 7),
							(val_mul, ":var_16", 8),
						(else_try),
						(try_end),
						(item_get_slot, ":script_param_1_number_2_multiplayer_class", ":script_param_1_number_2", slot_item_multiplayer_item_class),
						(try_begin),
							(eq, ":var_12", 1),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 1),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 2),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 3),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 4),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 6),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 10),
							(eq, ":script_param_1_number_2_multiplayer_class", 7),
							(val_div, ":var_16", 2),
						(else_try),
							(eq, ":var_12", 2),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 8),
							(eq, ":script_param_1_number_2_multiplayer_class", 11),
							(val_div, ":var_16", 2),
						(else_try),
							(eq, ":var_12", 3),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 9),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 1),
							(eq, ":script_param_1_number_2_multiplayer_class", 18),
							(val_div, ":var_16", 2),
						(else_try),
							(eq, ":var_12", 4),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 12),
							(eq, ":script_param_1_number_2_multiplayer_class", 14),
							(val_div, ":var_16", 2),
						(else_try),
							(eq, ":var_12", 5),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 13),
							(eq, ":script_param_1_number_2_multiplayer_class", 15),
							(val_div, ":var_16", 2),
						(else_try),
							(eq, ":var_12", 6),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 12),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 14),
							(eq, ":script_param_1_number_2_multiplayer_class", 18),
							(val_div, ":var_16", 2),
						(else_try),
							(eq, ":var_12", 7),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 13),
							(this_or_next|eq, ":script_param_1_number_2_multiplayer_class", 15),
							(eq, ":script_param_1_number_2_multiplayer_class", 18),
							(val_div, ":var_16", 2),
						(try_end),
						(try_begin),
							(gt, ":var_16", ":value_4"),
							(assign, ":value_4", ":var_16"),
							(assign, ":value_5", ":number"),
						(try_end),
					(try_end),
					(player_get_slot, ":script_param_1_number_2", ":script_param_1", ":value_5"),
					(call_script, "script_multiplayer_get_previous_item_for_item_and_troop", ":script_param_1_number_2", ":troop_id_script_param_1"),
					(assign, ":script_param_1_number_2", reg0),
					(player_set_slot, ":script_param_1", ":value_5", ":script_param_1_number_2"),
				(else_try),
					(assign, ":value_3", 0),
					(val_sub, ":gold_script_param_1", ":var_11"),
					(player_set_gold, ":script_param_1", ":gold_script_param_1", 15000),
					(try_for_range, ":number", 11, 20),
						(player_get_slot, ":script_param_1_number_2", ":script_param_1", ":number"),
						(try_begin),
							(ge, ":script_param_1_number_2", 0),
						(else_try),
							(store_sub, ":value_7", ":number", 11),
							(store_add, ":value_8", ":value_7", 2),
							(player_get_slot, ":script_param_1_number", ":script_param_1", ":value_8"),
							(this_or_next|eq, ":script_param_1_number", -1),
							(player_item_slot_is_picked_up, ":script_param_1", ":value_7"),
						(else_try),
							(item_get_slot, ":script_param_1_number_2_multiplayer_class", ":script_param_1_number", slot_item_multiplayer_item_class),
							(is_between, ":script_param_1_number_2_multiplayer_class", 1, 18),
							(assign, ":value_9", -1),
							(try_for_range, ":number_2", 1, 10),
								(lt, ":value_9", 0),
								(assign, ":value_10", 0),
								(try_for_range, ":number_3", 11, 20),
									(player_get_slot, ":script_param_1_number_3", ":script_param_1", ":number_3"),
									(ge, ":script_param_1_number_3", 0),
									(item_get_slot, ":script_param_1_number_3_multiplayer_class", ":script_param_1_number_3", slot_item_multiplayer_item_class),
									(eq, ":script_param_1_number_3_multiplayer_class", ":number_2"),
									(assign, ":value_10", 1),
								(try_end),
								(eq, ":value_10", 0),
								(assign, ":value_11", "itm_items_end"),
								(try_for_range, ":number_4", 0, ":value_11"),
									(item_slot_eq, ":number_4", slot_item_multiplayer_item_class, ":number_2"),
									(call_script, "script_cf_multiplayer_is_item_default_for_troop", ":number_4", ":troop_id_script_param_1"),
									(assign, ":value_11", 0),
									(assign, ":value_9", ":number_4"),
								(try_end),
							(try_end),
							(ge, ":value_9", 0),
							(player_set_slot, ":script_param_1", ":number", ":value_9"),
							(assign, ":script_param_1_number_2", ":value_9"),
						(try_end),
						(try_begin),
							(ge, ":script_param_1_number_2", 0),
							(store_sub, ":value_12", ":number", 11),
							(player_add_spawn_item, ":script_param_1", ":value_12", ":script_param_1_number_2"),
							(try_begin),
								(eq, ":value_12", 5),
								(assign, ":value", 1),
							(try_end),
						(try_end),
					(try_end),
					(player_set_slot, ":script_param_1", slot_player_total_equipment_value, ":var_11"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(eq, "$g_multiplayer_force_default_armor", 1),
				(assign, ":value_3", "itm_items_end"),
				(try_for_range, ":number_5", 0, ":value_3"),
					(this_or_next|item_slot_eq, ":number_5", slot_item_multiplayer_item_class, 19),
					(this_or_next|item_slot_eq, ":number_5", slot_item_multiplayer_item_class, 20),
					(item_slot_eq, ":number_5", slot_item_multiplayer_item_class, 21),
					(call_script, "script_cf_multiplayer_is_item_default_for_troop", ":number_5", ":troop_id_script_param_1"),
					(assign, ":value_3", 0),
					(player_add_spawn_item, ":script_param_1", 5, ":number_5"),
				(try_end),
			(try_end)
		]),

	("party_get_ideal_size",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 30),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 13),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(assign, ":value", 10),
				(store_skill_level, ":skill_level_leadership_party_stack_troop_id_script_param_1_0", "skl_leadership", ":party_stack_troop_id_script_param_1_0"),
				(store_attribute_level, ":attribute_level_party_stack_troop_id_script_param_1_0_3", ":party_stack_troop_id_script_param_1_0", 3),
				(val_mul, ":skill_level_leadership_party_stack_troop_id_script_param_1_0", 5),
				(val_add, ":value", ":skill_level_leadership_party_stack_troop_id_script_param_1_0"),
				(val_add, ":value", ":attribute_level_party_stack_troop_id_script_param_1_0_3"),
				(troop_get_slot, ":party_stack_troop_id_script_param_1_0_renown", ":party_stack_troop_id_script_param_1_0", slot_troop_renown),
				(store_div, ":value_2", ":party_stack_troop_id_script_param_1_0_renown", 25),
				(val_add, ":value", ":value_2"),
				(try_begin),
					(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_leader, ":party_stack_troop_id_script_param_1_0"),
					(faction_get_slot, ":faction_of_party_script_param_1_num_castles", ":faction_of_party_script_param_1", slot_faction_num_castles),
					(faction_get_slot, ":faction_of_party_script_param_1_num_towns", ":faction_of_party_script_param_1", slot_faction_num_towns),
					(val_mul, ":faction_of_party_script_param_1_num_castles", 5),
					(val_mul, ":faction_of_party_script_param_1_num_towns", 10),
					(val_add, ":faction_of_party_script_param_1_num_towns", ":faction_of_party_script_param_1_num_castles"),
					(val_add, ":value", ":faction_of_party_script_param_1_num_towns"),
				(try_end),
				(assign, ":var_11", 100),
				(assign, ":value_3", -3),
				(assign, ":value_4", 4),
				(try_begin),
					(this_or_next|eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
					(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_leader, "trp_player"),
					(faction_get_slot, ":value_4", ":faction_of_party_script_param_1", slot_faction_num_towns),
					(faction_get_slot, reg0, ":faction_of_party_script_param_1", slot_faction_num_castles),
					(val_add, ":value_4", reg0),
					(val_clamp, ":value_4", 0, 4),
					(store_mul, ":value_3", ":value_4", -1),
					(val_add, ":value_4", 1),
				(try_end),
				(try_begin),
					(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_leader, ":party_stack_troop_id_script_param_1_0"),
					(val_add, ":value", 100),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_201", ":faction_of_party_script_param_1", 201),
						(neq, ":faction_of_party_script_param_1_201", 0),
						(val_clamp, ":faction_of_party_script_param_1_201", ":value_3", ":value_4"),
						(val_mul, ":faction_of_party_script_param_1_201", 10),
						(val_add, ":var_11", ":faction_of_party_script_param_1_201"),
					(try_end),
				(else_try),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_201", ":faction_of_party_script_param_1", 201),
						(neq, ":faction_of_party_script_param_1_201", 0),
						(val_clamp, ":faction_of_party_script_param_1_201", ":value_3", ":value_4"),
						(val_mul, ":faction_of_party_script_param_1_201", -3),
						(val_add, ":var_11", ":faction_of_party_script_param_1_201"),
					(try_end),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_202", ":faction_of_party_script_param_1", 202),
						(neq, ":faction_of_party_script_param_1_202", 0),
						(val_clamp, ":faction_of_party_script_param_1_202", ":value_3", ":value_4"),
						(val_mul, ":faction_of_party_script_param_1_202", 3),
						(val_add, ":var_11", ":faction_of_party_script_param_1_202"),
					(try_end),
					(try_begin),
						(faction_get_slot, ":faction_of_party_script_param_1_204", ":faction_of_party_script_param_1", 204),
						(neq, ":faction_of_party_script_param_1_204", 0),
						(val_clamp, ":faction_of_party_script_param_1_204", ":value_3", ":value_4"),
						(val_mul, ":faction_of_party_script_param_1_204", -4),
						(val_add, ":var_11", ":faction_of_party_script_param_1_204"),
					(try_end),
				(try_end),
				(try_begin),
					(faction_get_slot, ":faction_of_party_script_param_1_203", ":faction_of_party_script_param_1", 203),
					(neq, ":faction_of_party_script_param_1_203", 0),
					(val_clamp, ":faction_of_party_script_param_1_203", ":value_3", ":value_4"),
					(val_mul, ":faction_of_party_script_param_1_203", 3),
					(val_add, ":var_11", ":faction_of_party_script_param_1_203"),
				(try_end),
				(val_mul, ":value", ":var_11"),
				(val_add, ":value", 50),
				(val_div, ":value", 100),
				(try_begin),
					(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_marshall, ":party_stack_troop_id_script_param_1_0"),
					(val_add, ":value", 20),
				(try_end),
				(try_for_range, ":party", "p_castle_1", "p_village_1"),
					(party_slot_eq, ":party", slot_town_lord, ":party_stack_troop_id_script_param_1_0"),
					(val_add, ":value", 20),
				(try_end),
			(else_try),
				(party_slot_eq, ":script_param_1", slot_party_type, 3),
				(assign, ":value", 380),
			(else_try),
				(this_or_next|is_between, ":script_param_1", "p_town_1", "p_village_1"),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(assign, ":value", 142),
			(try_end),
			(store_character_level, ":character_level_player", "trp_player"),
			(store_add, ":value_5", 80, ":character_level_player"),
			(val_mul, ":value", ":value_5"),
			(val_div, ":value", 80),
			(assign, reg0, ":value")
		]),

	("game_get_party_prisoner_limit",
		[
			(assign, ":var_1", "trp_player"),
			(assign, ":value", 0),
			(store_skill_level, ":skill_level_prisoner_management_var_1", "skl_prisoner_management", ":var_1"),
			(store_mul, ":value", ":skill_level_prisoner_management_var_1", 5),
			(assign, reg0, ":value"),
			(set_trigger_result, reg0)
		]),

	("game_get_item_extra_text",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(item_get_type, ":type_script_param_1", ":script_param_1"),
			(try_begin),
				(is_between, ":script_param_1", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(assign, ":value", 1),
					(try_begin),
						(this_or_next|eq, ":script_param_1", "itm_trade_cattle_meat"),
						(this_or_next|eq, ":script_param_1", "itm_trade_pork"),
						(eq, ":script_param_1", "itm_trade_chicken"),
						(eq, ":script_param_3", 41),
						(assign, ":value", 0),
					(try_end),
					(eq, ":value", 1),
					(item_get_slot, ":script_param_1_food_bonus", ":script_param_1", slot_item_food_bonus),
					(store_add, ":value_2", "$g_twice_consum_food", 1),
					(val_mul, ":script_param_1_food_bonus", ":value_2"),
					(try_begin),
						(eq, ":script_param_3", 9),
						(val_sub, ":script_param_1_food_bonus", 2),
					(else_try),
						(eq, ":script_param_3", 10),
						(val_add, ":script_param_1_food_bonus", 1),
					(else_try),
						(eq, ":script_param_3", 11),
						(val_add, ":script_param_1_food_bonus", 2),
					(else_try),
						(eq, ":script_param_3", 19),
						(val_add, ":script_param_1_food_bonus", 3),
					(else_try),
						(eq, ":script_param_3", 29),
						(val_add, ":script_param_1_food_bonus", 5),
					(else_try),
						(eq, ":script_param_3", 16),
						(val_add, ":script_param_1_food_bonus", 6),
					(try_end),
					(val_max, ":script_param_1_food_bonus", 0),
					(assign, reg1, ":script_param_1_food_bonus"),
					(try_begin),
						(ge, reg1, 0),
						(set_result_string, "@+{reg1} to party morale"),
						(set_trigger_result, 4474111),
					(else_try),
						(set_result_string, "@{reg1} to party morale"),
						(set_trigger_result, 16729156),
					(try_end),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "itm_book_tactics", "itm_book_wound_treatment_reference"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(try_begin),
						(eq, ":script_param_1", "itm_book_tactics"),
						(str_store_string, 1, "@tactics"),
					(else_try),
						(eq, ":script_param_1", "itm_book_persuasion"),
						(str_store_string, 1, "@persuasion"),
					(else_try),
						(eq, ":script_param_1", "itm_book_leadership"),
						(str_store_string, 1, "@leadership"),
					(else_try),
						(eq, ":script_param_1", "itm_book_intelligence"),
						(str_store_string, 1, "@intelligence"),
					(else_try),
						(eq, ":script_param_1", "itm_book_prisoner_management"),
						(str_store_string, 1, "@prisoner management"),
					(else_try),
						(eq, ":script_param_1", "itm_book_trade"),
						(str_store_string, 1, "@trade"),
					(else_try),
						(eq, ":script_param_1", "itm_book_weapon_mastery"),
						(str_store_string, 1, "@weapon mastery"),
					(else_try),
						(eq, ":script_param_1", "itm_book_engineering"),
						(str_store_string, 1, "@engineer"),
					(else_try),
						(eq, ":script_param_1", "itm_book_bible"),
						(str_store_string, 1, "@charisma"),
					(else_try),
						(eq, ":script_param_1", "itm_book_necronomicon"),
						(str_store_string, 1, "@looting"),
					(else_try),
						(eq, ":script_param_1", "itm_book_first_aid_reference"),
						(str_store_string, 1, "@first aid"),
					(else_try),
						(eq, ":script_param_1", "itm_book_spotting_reference"),
						(str_store_string, 1, "@spotting"),
					(else_try),
						(eq, ":script_param_1", "itm_book_pathfinding_reference"),
						(str_store_string, 1, "@path-finding"),
					(try_end),
					(set_result_string, "@+1 to {s1} after reading"),
					(set_trigger_result, 4474111),
				(else_try),
					(eq, ":script_param_2", 1),
					(item_get_slot, reg1, ":script_param_1", slot_item_intelligence_requirement),
					(set_result_string, "@Requires {reg1} intelligence to read"),
					(store_attribute_level, ":attribute_level_player_2", "trp_player", 2),
					(try_begin),
						(lt, ":attribute_level_player_2", reg1),
						(set_trigger_result, 16729156),
					(else_try),
						(set_trigger_result, 4521796),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 2),
					(item_get_slot, ":script_param_1_book_reading_progress", ":script_param_1", slot_item_book_reading_progress),
					(store_div, reg1, ":script_param_1_book_reading_progress", 10),
					(store_mod, reg2, ":script_param_1_book_reading_progress", 10),
					(str_store_string, 0, "@Reading Progress:^{playername}:{reg1}.{reg2}%"),
					(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
						(main_party_has_troop, ":troop"),
						(str_store_troop_name, 1, ":troop"),
						(call_script, "script_get_book_read_slot", ":troop", ":script_param_1"),
						(assign, ":var_11", reg0),
						(troop_get_slot, ":book_reading_progress_var_11", "trp_book_reading_progress", ":var_11"),
						(store_div, reg1, ":book_reading_progress_var_11", 10),
						(store_mod, reg2, ":book_reading_progress_var_11", 10),
						(str_store_string, 0, "@{s0}^{s1}:{reg1}.{reg2}%"),
					(try_end),
					(set_result_string, 0),
					(set_trigger_result, 16772829),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "itm_book_wound_treatment_reference", "itm_trade_spice"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(try_begin),
						(eq, ":script_param_1", "itm_book_wound_treatment_reference"),
						(str_store_string, 1, "@wound treament"),
					(else_try),
						(eq, ":script_param_1", "itm_book_training_reference"),
						(str_store_string, 1, "@trainer"),
					(else_try),
						(eq, ":script_param_1", "itm_book_surgery_reference"),
						(str_store_string, 1, "@surgery"),
					(else_try),
						(eq, ":script_param_1", "itm_book_spotting_reference"),
						(str_store_string, 1, "@spotting"),
					(else_try),
						(eq, ":script_param_1", "itm_book_first_aid_reference"),
						(str_store_string, 1, "@first aid"),
					(else_try),
						(eq, ":script_param_1", "itm_book_pathfinding_reference"),
						(str_store_string, 1, "@pathfinding"),
					(try_end),
					(neq, ":script_param_1", "itm_book_trade_ledger"),
					(set_result_string, "@+1 to {s1} while in inventory"),
					(set_trigger_result, 4474111),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_ring_1"),
				(set_result_string, "@A fine, well-crafted, ring. A merchant would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_ring_2"),
				(set_result_string, "@A fine, well-crafted, ring. A merchant would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_ring_3"),
				(set_result_string, "@A fine, well-crafted, ring. A merchant would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_ring_4"),
				(set_result_string, "@A fine, well-crafted, ring. A merchant would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_ring_5"),
				(set_result_string, "@A fine, well-crafted, ring. A merchant would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_asshai_saffron"),
				(set_result_string, "@A very valuable spice from the Shadow Lands.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_asshai_myrrh"),
				(set_result_string, "@A very valuable spice from the Shadow Lands.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_asshai_cinnamon"),
				(set_result_string, "@A very valuable spice from the Shadow Lands.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_qarth_saffron"),
				(set_result_string, "@A very valuable spice from the city of Qarth.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_qarth_pepper"),
				(set_result_string, "@A very valuable spice from the city of Qarth.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_qarth_cardamom"),
				(set_result_string, "@A very valuable spice from the city of Qarth.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_zamettar_nutmeg"),
				(set_result_string, "@A very valuable spice from the port of Zamettar.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_zamettar_curry"),
				(set_result_string, "@A very valuable spice from the port of Zamettar.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_zamettar_anise"),
				(set_result_string, "@A very valuable spice from the port of Zamettar.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_moraq_cloves"),
				(set_result_string, "@A very valuable spice from the island of Great Moraq.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_moraq_spiceflower"),
				(set_result_string, "@A very valuable spice from the island of Great Moraq.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_moraq_persimmon_seeds"),
				(set_result_string, "@A very valuable spice from the island of Great Moraq.^Merchants in Westeros and the Free Cities would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_mysterious_spices1"),
				(set_result_string, "@Upon closer inspection, it would appear that these spices are^nothing but dung and crushed pinecones, mixed with sawdust."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_mysterious_spices2"),
				(set_result_string, "@Upon closer inspection, it would appear that these spices are^nothing but dung and crushed pinecones, mixed with sawdust."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_mysterious_spices3"),
				(set_result_string, "@Upon closer inspection, it would appear that these spices are^nothing but dung and crushed pinecones, mixed with sawdust."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_mysterious_sword1"),
				(set_result_string, "@Upon closer inspection, it would appear that this is not,^as you thought, a valyrian steel sword, but rather a poorly made replica."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_mysterious_sword2"),
				(set_result_string, "@Upon closer inspection, it would appear that this is not,^as you thought, a valyrian steel sword, but rather a poorly made replica."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_mysterious_sword3"),
				(set_result_string, "@Upon closer inspection, it would appear that this is not,^as you thought, a valyrian steel sword, but rather a poorly made replica."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_huge_ruby"),
				(set_result_string, "@A huge ruby. A merchant would pay well for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_carved_tusk"),
				(set_result_string, "@A carved mammoth tusk. Perhaps a merchant would pay good coin for it."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_gold_goblet"),
				(set_result_string, "@A gold goblet. Very valuable."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_gold_nugget"),
				(set_result_string, "@A gold nugget. Very valuable."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_event_rabbit"),
				(set_result_string, "@The carcass of a rabbit."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_ho_sar_camel_bactrian"),
				(set_result_string, "@The camels, originating in far away Qarth, are used mainly as pack animals."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_orphanmaker"),
				(set_result_string, "@Orphan-Maker is the ancestral valyrian steel sword of House Roxton.^Bold Jon Roxton used it to kill one of the Betrayers, Hard Hugh Hammer."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_sword_repent"),
				(set_result_string, "@Originally wielded by Visenya Targaryen, the fabled^valyrian steel sword Dark Sister later passed to the illegitimate son^of Aegon the Unworthy, Brynden Rivers."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_credits_book"),
				(set_result_string, "@James Gunderson^Craig Robinson^D3500^Burnout888^Bioshokarr^Comrade135^Ben Cook^Dorin21"),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_coldbringer"),
				(set_result_string, "@This mysterious mace is made from a metal whose origin is unknown to you..."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_fi_lowlander_sword"),
				(set_result_string, "@A well-made Great Sword, the edge exquisitely sharp."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_kingsguard_armor_quest"),
				(set_result_string, "@The intricate, white enameled, suit of armor worn by the^members of the Kingsguard, sworn to protect the life of the king, with their^own if the need arises."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_kingsguard_helm_quest"),
				(set_result_string, "@The helmet worn by the members of the Kingsguard, often adorned^with various crests."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_player_grenade"),
				(set_result_string, "@A clay pot filled with wildfire, a volatile fiery substance made^by the pyromancers of King's Landing.^The substance is highly unstable, and might easily cause damage^to friends and foes alike."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_unsullied_shield"),
				(set_result_string, "@A sturdy shield, usually used by the Unsullied."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_shortsword1"),
				(set_result_string, "@A short sword, usually wielded by the Unsullied."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_crossbow_f_myrish"),
				(set_result_string, "@A well-made crossbow, crafted in Myr."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_westerland_goldcloak"),
				(set_result_string, "@The golden armor worn by the City Watch of King's Landing."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_westerland_goldcloak_cloaked"),
				(set_result_string, "@The golden armor worn by the City Watch of King's Landing."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_goldcloak_helm"),
				(set_result_string, "@The golden helmet worn by the City Watch of King's Landing."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_stark_shield"),
				(set_result_string, "@A round steel shield, carried by men trained at Winterfell."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_loki_sword"),
				(set_result_string, "@A very old arming sword, from the time of the Andals."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_aemonds_armor"),
				(set_result_string, "@The rusty plate armor worn by Aemond One-Eye."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_aemonds_boots"),
				(set_result_string, "@The rusty plate boots worn by Aemond One-Eye."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_aemonds_helmet"),
				(set_result_string, "@The rusty helmet worn by Aemond One-Eye."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_brego_nord_helmet"),
				(set_result_string, "@An ancient helmet, from the time of the Andals."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_fi_lance"),
				(set_result_string, "@Lances are likely to break on impact.^You should always carry a secondary weapon."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_bb_rus_pike"),
				(set_result_string, "@Lances are likely to break on impact.^You should always carry a secondary weapon."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_we_khe_spear_haftedblade"),
				(set_result_string, "@Light spears are likely to crack, splinter and break in combat.^You should always carry a secondary weapon."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_we_khe_spear_nagita"),
				(set_result_string, "@Light spears are likely to crack, splinter and break in combat.^You should always carry a secondary weapon."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_we_khe_spear_bamboolong"),
				(set_result_string, "@Light spears are likely to crack, splinter and break in combat.^You should always carry a secondary weapon."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_we_khe_spear_staff"),
				(set_result_string, "@Light spears are likely to crack, splinter and break in combat.^You should always carry a secondary weapon."),
				(set_trigger_result, 16772829),
			(else_try),
				(eq, ":script_param_2", 0),
				(eq, ":script_param_1", "itm_we_vae_spear_polehammer"),
				(set_result_string, "@Light spears are likely to crack, splinter and break in combat.^You should always carry a secondary weapon."),
				(set_trigger_result, 16772829),
			(else_try),
				(neq, ":script_param_3", 0),
				(try_begin),
					(eq, ":script_param_2", 0),
					(set_result_string, "@ ^"),
					(set_trigger_result, 16777215),
				(else_try),
					(eq, ":script_param_2", 1),
					(item_get_slot, ":script_param_3_72", ":script_param_3", 72),
					(store_div, reg1, ":script_param_3_72", 100),
					(store_mod, reg2, ":script_param_3_72", 100),
					(set_result_string, "@price: base price*{reg1}.{reg2}"),
					(set_trigger_result, 16777215),
				(else_try),
					(eq, ":script_param_2", 2),
					(try_begin),
						(eq, ":type_script_param_1", 1),
						(try_begin),
							(eq, ":script_param_3", 31),
							(set_result_string, "@-2 speed^-2 maneuver"),
						(else_try),
							(eq, ":script_param_3", 30),
							(set_result_string, "@-5 speed^-5 maneuver"),
						(else_try),
							(eq, ":script_param_3", 18),
							(set_result_string, "@+3 armor^+4 charge^+10 hit points"),
						(else_try),
							(eq, ":script_param_3", 33),
							(set_result_string, "@-1 requirement of riding"),
						(else_try),
							(eq, ":script_param_3", 32),
							(set_result_string, "@+1 requirement of riding^+5 hit points"),
						(else_try),
							(eq, ":script_param_3", 35),
							(set_result_string, "@+1 speed^+1 armor^+1 charge"),
						(else_try),
							(eq, ":script_param_3", 36),
							(set_result_string, "@+2 requirement of riding^+2 speed^+2 armor^+2 charge"),
						(try_end),
					(else_try),
						(eq, ":type_script_param_1", 7),
						(try_begin),
							(eq, ":script_param_3", 1),
							(set_result_string, "@-56 hit points^-4 resistance"),
						(else_try),
							(eq, ":script_param_3", 5),
							(set_result_string, "@-26 hit points^-2 resistance"),
						(else_try),
							(eq, ":script_param_3", 25),
							(set_result_string, "@+47 hit points^+2 resistance"),
						(else_try),
							(eq, ":script_param_3", 27),
							(set_result_string, "@+83 hit points^+4 resistance"),
						(try_end),
					(else_try),
						(this_or_next|eq, ":type_script_param_1", 12),
						(this_or_next|eq, ":type_script_param_1", 13),
						(this_or_next|eq, ":type_script_param_1", 14),
						(eq, ":type_script_param_1", 15),
						(item_get_slot, ":script_param_1_41", ":script_param_1", 41),
						(item_get_slot, ":script_param_1_44", ":script_param_1", 44),
						(item_get_slot, ":script_param_1_45", ":script_param_1", 45),
						(assign, reg1, 0),
						(assign, reg2, 0),
						(assign, reg3, 0),
						(try_begin),
							(gt, ":script_param_1_41", 0),
							(assign, reg1, 1),
						(try_end),
						(try_begin),
							(gt, ":script_param_1_44", 0),
							(assign, reg2, 1),
						(try_end),
						(try_begin),
							(gt, ":script_param_1_45", 0),
							(assign, reg3, 1),
						(try_end),
						(try_begin),
							(eq, ":script_param_3", 1),
							(str_store_string, 1, "@ -"),
							(assign, reg4, 4),
						(else_try),
							(eq, ":script_param_3", 2),
							(str_store_string, 1, "@ -"),
							(assign, reg4, 3),
						(else_try),
							(eq, ":script_param_3", 5),
							(str_store_string, 1, "@ -"),
							(assign, reg4, 2),
						(else_try),
							(eq, ":script_param_3", 7),
							(str_store_string, 1, "@ -"),
							(assign, reg4, 1),
						(else_try),
							(eq, ":script_param_3", 21),
							(str_store_string, 1, "@ -"),
							(assign, reg4, 3),
						(else_try),
							(eq, ":script_param_3", 22),
							(str_store_string, 1, "@ -"),
							(assign, reg4, 2),
						(else_try),
							(eq, ":script_param_3", 24),
							(str_store_string, 1, "@ +"),
							(assign, reg4, 1),
						(else_try),
							(eq, ":script_param_3", 25),
							(str_store_string, 1, "@ +"),
							(assign, reg4, 2),
						(else_try),
							(eq, ":script_param_3", 26),
							(str_store_string, 1, "@ +"),
							(assign, reg4, 3),
						(else_try),
							(eq, ":script_param_3", 27),
							(str_store_string, 1, "@ +"),
							(assign, reg4, 4),
						(else_try),
							(eq, ":script_param_3", 29),
							(str_store_string, 1, "@ +"),
							(assign, reg4, 6),
						(try_end),
						(set_result_string, "@{reg1?{s1}{reg4} to head armor^:}{reg2?{s1}{reg4} to body armor^:}{reg3?{s1}{reg4} to leg armor:}"),
					(else_try),
						(this_or_next|eq, ":type_script_param_1", 2),
						(this_or_next|eq, ":type_script_param_1", 3),
						(this_or_next|eq, ":type_script_param_1", 4),
						(eq, ":type_script_param_1", 9),
						(item_get_slot, ":script_param_1_45_2", ":script_param_1", 45),
						(item_get_slot, ":script_param_1_44_2", ":script_param_1", 44),
						(store_mod, reg1, ":script_param_1_45_2", 256),
						(store_mod, reg2, ":script_param_1_44_2", 256),
						(item_get_slot, reg3, ":script_param_1", 65),
						(try_begin),
							(eq, ":script_param_3", 1),
							(set_result_string, "@{reg1?-5 swing damage^:}{reg2?-5 thrust damage^:}"),
						(else_try),
							(eq, ":script_param_3", 2),
							(set_result_string, "@{reg1?-3 swing damage^:}{reg2?-3 thrust damage^:}"),
						(else_try),
							(eq, ":script_param_3", 3),
							(set_result_string, "@{reg1?-3 swing damage^:}{reg2?-3 thrust damage^:}-3 speed"),
						(else_try),
							(eq, ":script_param_3", 4),
							(set_result_string, "@{reg1?-1 swing damage^:}{reg2?-1 thrust damage^:}"),
						(else_try),
							(eq, ":script_param_3", 13),
							(set_result_string, "@{reg1?+3 swing damage^:}{reg2?+3 thrust damage^:}+3 speed"),
						(else_try),
							(eq, ":script_param_3", 14),
							(set_result_string, "@{reg1?+4 swing damage^:}{reg2?+4 thrust damage^:}"),
						(else_try),
							(eq, ":script_param_3", 17),
							(set_result_string, "@{reg1?+5 swing damage^:}{reg2?+5 thrust damage^:}+1 speed{reg3?^+4 requirement of strength:}"),
						(else_try),
							(eq, ":script_param_3", 18),
							(set_result_string, "@{reg1?+2 swing damage^:}{reg2?+2 thrust damage^:}-2 speed{reg3?^+1 requirement of strength:}"),
						(try_end),
					(else_try),
						(eq, ":type_script_param_1", 8),
						(item_get_slot, reg3, ":script_param_1", 65),
						(try_begin),
							(eq, ":script_param_3", 1),
							(set_result_string, "@-5 damage"),
						(else_try),
							(eq, ":script_param_3", 3),
							(set_result_string, "@-3 damage^-3 speed"),
						(else_try),
							(eq, ":script_param_3", 19),
							(set_result_string, "@+3 damage^-3 speed{reg3?^+2 requirement of power draw:}"),
						(else_try),
							(eq, ":script_param_3", 17),
							(set_result_string, "@+5 damage^+1 speed{reg3?^+4 requirement of power draw:}"),
						(try_end),
					(else_try),
						(eq, ":type_script_param_1", 10),
						(item_get_slot, reg3, ":script_param_1", 65),
						(try_begin),
							(eq, ":script_param_3", 42),
							(set_result_string, "@+13% max ammo"),
						(else_try),
							(eq, ":script_param_3", 3),
							(set_result_string, "@-3 damage^-3 speed"),
						(else_try),
							(eq, ":script_param_3", 18),
							(set_result_string, "@+2 damage^-2 speed{reg3?^+1 requirement of power throw:}"),
						(else_try),
							(eq, ":script_param_3", 13),
							(set_result_string, "@+3 damage^+3 speed"),
						(try_end),
					(else_try),
						(this_or_next|eq, ":type_script_param_1", 5),
						(eq, ":type_script_param_1", 6),
						(try_begin),
							(eq, ":script_param_3", 42),
							(set_result_string, "@+13% max ammo"),
						(else_try),
							(eq, ":script_param_3", 3),
							(set_result_string, "@-3 damage"),
						(try_end),
					(try_end),
					(set_trigger_result, 8421631),
				(try_end),
			(try_end)
		]),

	("game_on_disembark",
		[
			(jump_to_menu, "mnu_disembark")
		]),

	("game_context_menu_get_buttons",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(neq, ":script_param_1", "p_main_party"),
				(context_menu_add_item, "@Move here", -7),
				(assign, "$g_camp_mode", 1),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "p_town_1", "p_salt_mine"),
				(context_menu_add_item, "@View notes", 1),
			(else_try),
				(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
				(gt, ":num_companion_stacks_script_param_1", 0),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
				(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":party_stack_troop_id_script_param_1_0", slot_troop_occupation, 2),
				(is_between, ":party_stack_troop_id_script_param_1_0", "trp_npc1", "trp_knight_1_1_wife"),
				(context_menu_add_item, "@View notes", 2),
			(try_end),
			(try_begin),
				(neq, ":script_param_1", "p_main_party"),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(this_or_next|eq, ":faction_of_party_script_param_1", "$players_kingdom"),
				(this_or_next|eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(party_slot_eq, ":script_param_1", slot_party_type, 11),
				(neg|is_between, ":script_param_1", "p_town_1", "p_salt_mine"),
				(context_menu_add_item, "@Accompany", -6),
			(try_end)
		]),

	("game_event_context_menu_button_clicked",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_2", 1),
				(change_screen_notes, 3, ":script_param_1"),
			(else_try),
				(eq, ":script_param_2", 2),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
				(change_screen_notes, 1, ":party_stack_troop_id_script_param_1_0"),
			(try_end)
		]),

	("game_get_skill_modifier_for_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(try_begin),
				(eq, ":script_param_2", "skl_wound_treatment"),
				(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_book_wound_treatment_reference"),
				(gt, reg0, 0),
				(val_add, ":value", 1),
			(else_try),
				(eq, ":script_param_2", "skl_trainer"),
				(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_book_training_reference"),
				(gt, reg0, 0),
				(val_add, ":value", 1),
			(else_try),
				(eq, ":script_param_2", "skl_surgery"),
				(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_book_surgery_reference"),
				(gt, reg0, 0),
				(val_add, ":value", 1),
			(else_try),
				(eq, ":script_param_2", "skl_pathfinding"),
				(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_book_pathfinding_reference"),
				(gt, reg0, 0),
				(val_add, ":value", 1),
			(else_try),
				(eq, ":script_param_2", "skl_spotting"),
				(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_book_spotting_reference"),
				(gt, reg0, 0),
				(val_add, ":value", 1),
			(else_try),
				(eq, ":script_param_2", "skl_first_aid"),
				(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_book_first_aid_reference"),
				(gt, reg0, 0),
				(val_add, ":value", 1),
			(else_try),
				(eq, ":script_param_2", "skl_riding"),
				(eq, "$g_encumbrance_penalty", 1),
				(this_or_next|eq, ":script_param_1", "trp_player"),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(store_attribute_level, ":attribute_level_script_param_1_1", ":script_param_1", 1),
				(call_script, "script_get_total_equipment_weight", ":script_param_1"),
				(assign, ":value_2", reg0),
				(val_sub, ":value_2", 10),
				(val_sub, ":value_2", ":attribute_level_script_param_1_1"),
				(val_div, ":value_2", 10),
				(store_sub, ":value", 0, ":value_2"),
				(val_min, ":value", 0),
			(else_try),
				(eq, ":script_param_2", "skl_power_draw"),
				(eq, "$g_encumbrance_penalty", 1),
				(this_or_next|eq, ":script_param_1", "trp_player"),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(store_attribute_level, ":attribute_level_script_param_1_0", ":script_param_1", 0),
				(call_script, "script_get_total_equipment_weight", ":script_param_1"),
				(assign, ":value_2", reg0),
				(val_sub, ":value_2", 10),
				(val_sub, ":value_2", ":attribute_level_script_param_1_0"),
				(val_div, ":value_2", 10),
				(store_sub, ":value", 0, ":value_2"),
				(val_min, ":value", 0),
			(else_try),
				(eq, ":script_param_2", "skl_horse_archery"),
				(eq, "$g_encumbrance_penalty", 1),
				(this_or_next|eq, ":script_param_1", "trp_player"),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(store_attribute_level, ":attribute_level_script_param_1_1", ":script_param_1", 1),
				(store_attribute_level, ":attribute_level_script_param_1_0", ":script_param_1", 0),
				(call_script, "script_get_total_equipment_weight", ":script_param_1"),
				(assign, ":value_2", reg0),
				(val_mul, ":value_2", 2),
				(val_sub, ":value_2", 20),
				(val_sub, ":value_2", ":attribute_level_script_param_1_1"),
				(val_sub, ":value_2", ":attribute_level_script_param_1_0"),
				(val_div, ":value_2", 10),
				(store_sub, ":value", 0, ":value_2"),
				(val_min, ":value", 0),
			(try_end),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
				(assign, ":value_3", -1),
				(try_begin),
					(neg|main_party_has_troop, ":script_param_1"),
					(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
					(ge, ":script_param_1_leaded_party", 1),
					(assign, ":value_3", ":script_param_1_leaded_party"),
				(else_try),
					(main_party_has_troop, ":script_param_1"),
					(assign, ":value_3", "p_main_party"),
				(try_end),
				(ge, ":value_3", 0),
				(party_is_active, ":value_3"),
				(try_begin),
					(eq, ":script_param_2", "skl_foraging"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_merchant"),
					(try_begin),
						(gt, reg0, 7),
						(val_add, ":value", 3),
					(else_try),
						(gt, reg0, 4),
						(val_add, ":value", 2),
					(else_try),
						(gt, reg0, 0),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_wound_treatment"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_monk"),
					(assign, ":value_4", reg0),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_priest"),
					(val_add, ":value_4", reg0),
					(try_begin),
						(gt, ":value_4", 9),
						(val_add, ":value", 3),
					(else_try),
						(gt, ":value_4", 4),
						(val_add, ":value", 2),
					(else_try),
						(gt, ":value_4", 0),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_surgery"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_surgeon"),
					(try_begin),
						(gt, reg0, 9),
						(val_add, ":value", 3),
					(else_try),
						(gt, reg0, 4),
						(val_add, ":value", 2),
					(else_try),
						(gt, reg0, 0),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_leadership"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_bishop"),
					(try_begin),
						(gt, reg0, 0),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_foraging"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_hunter"),
					(gt, reg0, 0),
					(try_begin),
						(gt, reg0, 9),
						(val_add, ":value", 3),
					(else_try),
						(gt, reg0, 4),
						(val_add, ":value", 2),
					(else_try),
						(gt, reg0, 0),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_tracking"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_hunter"),
					(try_begin),
						(gt, reg0, 4),
						(val_add, ":value", 2),
					(else_try),
						(gt, reg0, 0),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_spotting"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_skill_scout"),
					(gt, reg0, 10),
					(try_begin),
						(gt, reg0, 9),
						(val_add, ":value", 2),
					(else_try),
						(gt, reg0, 4),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_looting"),
					(troop_get_slot, ":troop_trees_843", "$troop_trees", 843),
					(call_script, "script_get_party_troop_count", ":value_3", ":troop_trees_843"),
					(try_begin),
						(gt, reg0, 29),
						(val_add, ":value", 3),
					(else_try),
						(gt, reg0, 19),
						(val_add, ":value", 2),
					(else_try),
						(gt, reg0, 9),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_prisoner_management"),
					(troop_get_slot, ":troop_trees_854", "$troop_trees", 854),
					(call_script, "script_get_party_troop_count", ":value_3", ":troop_trees_854"),
					(assign, ":value_5", reg0),
					(troop_get_slot, ":troop_trees_855", "$troop_trees", 855),
					(call_script, "script_get_party_troop_count", ":value_3", ":troop_trees_855"),
					(assign, ":value_6", reg0),
					(troop_get_slot, ":troop_trees_856", "$troop_trees", 856),
					(call_script, "script_get_party_troop_count", ":value_3", ":troop_trees_856"),
					(assign, ":value_7", reg0),
					(troop_get_slot, ":troop_trees_857", "$troop_trees", 857),
					(call_script, "script_get_party_troop_count", ":value_3", ":troop_trees_857"),
					(assign, ":value_8", reg0),
					(troop_get_slot, ":troop_trees_853", "$troop_trees", 853),
					(call_script, "script_get_party_troop_count", ":value_3", ":troop_trees_853"),
					(assign, ":value_9", reg0),
					(assign, ":value_4", 0),
					(val_add, ":value_4", ":value_5"),
					(val_add, ":value_4", ":value_6"),
					(val_add, ":value_4", ":value_7"),
					(val_add, ":value_4", ":value_8"),
					(val_add, ":value_4", ":value_9"),
					(try_begin),
						(gt, ":value_4", 39),
						(val_add, ":value", 3),
					(else_try),
						(gt, ":value_4", 24),
						(val_add, ":value", 2),
					(else_try),
						(gt, ":value_4", 9),
						(val_add, ":value", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_2", "skl_inventory_management"),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_slave_swadian"),
					(assign, ":value_5", reg0),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_slave_vaegir"),
					(assign, ":value_6", reg0),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_slave_khergit"),
					(assign, ":value_7", reg0),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_slave_nord"),
					(assign, ":value_8", reg0),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_slave_rhodok"),
					(assign, ":value_9", reg0),
					(call_script, "script_get_party_troop_count", ":value_3", "trp_slave_sarranid"),
					(assign, ":var_21", reg0),
					(assign, ":value_4", 0),
					(val_add, ":value_4", ":value_5"),
					(val_add, ":value_4", ":value_6"),
					(val_add, ":value_4", ":value_7"),
					(val_add, ":value_4", ":value_8"),
					(val_add, ":value_4", ":value_9"),
					(val_add, ":value_4", ":var_21"),
					(try_begin),
						(gt, ":value_4", 29),
						(val_add, ":value", 3),
					(else_try),
						(gt, ":value_4", 19),
						(val_add, ":value", 2),
					(else_try),
						(gt, ":value_4", 9),
						(val_add, ":value", 1),
					(try_end),
				(try_end),
			(try_end),
			(set_trigger_result, ":value")
		]),

	("game_check_party_sees_party",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 1),
			(assign, ":var_4", reg0),
			(try_begin),
				(gt, ":script_param_1", "p_spawn_points_end"),
				(gt, ":script_param_2", "p_spawn_points_end"),
				(party_slot_eq, ":script_param_1", slot_party_type, 13),
				(call_script, "script_get_relation_between_parties", ":script_param_1", ":script_param_2"),
				(lt, reg0, 0),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 11),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 21),
				(party_slot_eq, ":script_param_2", slot_party_type, 15),
				(party_get_battle_opponent, reg0, ":script_param_2"),
				(lt, reg0, 0),
				(neg|party_slot_eq, ":script_param_2", slot_party_ai_state, 1),
				(neg|party_slot_eq, ":script_param_2", slot_party_ai_state, 5),
				(neg|party_slot_eq, ":script_param_2", slot_party_ai_state, 10),
				(neg|party_slot_eq, ":script_param_2", slot_party_ai_state, 11),
				(neg|party_slot_eq, ":script_param_2", slot_party_ai_state, 12),
				(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
				(ge, ":num_companion_stacks_script_param_1", 1),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
				(ge, ":party_stack_troop_id_script_param_1_0", 1),
				(troop_is_hero, ":party_stack_troop_id_script_param_1_0"),
				(call_script, "script_dplmc_get_troop_morality_value", ":party_stack_troop_id_script_param_1_0", 3),
				(ge, reg0, 0),
				(this_or_next|ge, reg0, 1),
				(this_or_next|troop_slot_eq, ":party_stack_troop_id_script_param_1_0", slot_lord_reputation_type, 9),
				(troop_slot_eq, ":party_stack_troop_id_script_param_1_0", slot_lord_reputation_type, 25),
				(assign, ":value", 0),
			(try_end),
			(assign, reg0, ":var_4"),
			(set_trigger_result, ":value")
		]),

	("game_get_party_speed_multiplier",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "p_main_party"),
				(party_slot_eq, ":script_param_1", slot_party_type, 13),
				(party_get_skill_level, ":skill_level_script_param_1_14", ":script_param_1", 14),
				(val_mul, ":skill_level_script_param_1_14", 3),
				(val_add, ":skill_level_script_param_1_14", 100),
			(else_try),
				(assign, ":skill_level_script_param_1_14", 100),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_main_party"),
				(call_script, "script_get_inventory_weight_of_whole_party"),
				(assign, ":var_3", reg0),
				(val_div, ":var_3", 100),
				(val_sub, ":skill_level_script_param_1_14", ":var_3"),
			(try_end),
			(val_max, ":skill_level_script_param_1_14", 0),
			(set_trigger_result, ":skill_level_script_param_1_14")
		]),

	("npc_get_troop_wage",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
			(else_try),
				(store_character_level, ":value", ":script_param_1"),
				(val_mul, ":value", ":value"),
				(val_add, ":value", 50),
				(val_div, ":value", 30),
				(troop_is_mounted, ":script_param_1"),
				(val_mul, ":value", 5),
				(val_div, ":value", 4),
			(try_end),
			(assign, reg0, ":value")
		]),

	("setup_talk_info",
		[
			(try_begin),
				(call_script, "script_cf_dplmc_troop_is_female", "trp_player"),
				(assign, "$character_gender", 1),
			(else_try),
				(assign, "$character_gender", 0),
			(try_end),
			(talk_info_set_relation_bar, "$g_talk_troop_relation"),
			(str_store_troop_name, 61, "$g_talk_troop"),
			(str_store_string, 61, "@{!} {s61}"),
			(assign, reg1, "$g_talk_troop_relation"),
			(str_store_string, 62, "str_relation_reg1"),
			(talk_info_set_line, 0, 61),
			(talk_info_set_line, 1, 62),
			(call_script, "script_describe_relation_to_s63", "$g_talk_troop_relation"),
			(talk_info_set_line, 3, 63)
		]),

	("setup_talk_info_companions",
		[
			(try_begin),
				(call_script, "script_cf_dplmc_troop_is_female", "trp_player"),
				(assign, "$character_gender", 1),
			(else_try),
				(assign, "$character_gender", 0),
			(try_end),
			(call_script, "script_npc_morale", "$g_talk_troop"),
			(assign, ":var_1", reg0),
			(talk_info_set_relation_bar, ":var_1"),
			(str_store_troop_name, 61, "$g_talk_troop"),
			(assign, reg1, ":var_1"),
			(str_store_string, 62, "str_morale_reg1"),
			(str_store_string, 61, "@ {s61}({s62})"),
			(troop_get_slot, reg1, "$g_talk_troop", 326),
			(str_store_string, 11, "str_number_of_troops_killed_reg1"),
			(troop_get_slot, reg1, "$g_talk_troop", 327),
			(str_store_string, 12, "str_number_of_troops_wounded_reg1"),
			(talk_info_set_line, 0, 61),
			(talk_info_set_line, 1, 11),
			(talk_info_set_line, 2, 12),
			(talk_info_set_line, 3, 63)
		]),

	("update_party_creation_random_limits",
		[
			(store_character_level, ":character_level_player", "trp_player"),
			(store_mul, ":value", ":character_level_player", 3),
			(val_add, ":value", 25),
			(val_min, ":value", 100),
			(set_party_creation_random_limits, 0, ":value"),
			(assign, reg0, ":value")
		]),

	("set_trade_route_between_centers",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(try_for_range, ":number", 190, 205),
				(try_begin),
					(eq, ":value", 0),
					(party_slot_eq, ":script_param_1", ":number", 0),
					(party_set_slot, ":script_param_1", ":number", ":script_param_2"),
					(assign, ":value", 1),
				(try_end),
				(try_begin),
					(eq, ":value_2", 0),
					(party_slot_eq, ":script_param_2", ":number", 0),
					(party_set_slot, ":script_param_2", ":number", ":script_param_1"),
					(assign, ":value_2", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(str_store_party_name, 1, ":script_param_1"),
				(display_message, "@{!}DEBUG -- ERROR: More than 15 trade routes are given for {s1}."),
			(try_end),
			(try_begin),
				(eq, ":value_2", 0),
				(str_store_party_name, 1, ":script_param_2"),
				(display_message, "@{!}DEBUG -- ERROR: More than 15 trade routes are given for {s1}."),
			(try_end)
		]),

	("average_trade_good_prices",
		[
			(store_sub, ":value", 267, "itm_trade_spice"),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
				(is_between, ":party", "p_village_1", "p_salt_mine"),
				(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
					(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
					(is_between, ":party", "p_village_1", "p_salt_mine"),
					(neq, ":party_2", ":party"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_party_party_2", ":party", ":party_2"),
					(lt, ":distance_to_party_from_party_party_party_2", 50),
					(store_sub, ":value_2", 50, ":distance_to_party_from_party_party_party_2"),
					(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
						(store_add, ":value_3", ":item", ":value"),
						(party_get_slot, ":party_value_3", ":party", ":value_3"),
						(party_get_slot, ":party_2_value_3", ":party_2", ":value_3"),
						(store_sub, ":value_4", ":party_value_3", ":party_2_value_3"),
						(assign, ":var_11", ":value_4"),
						(val_mul, ":var_11", ":value_2"),
						(val_div, ":var_11", 1000),
						(val_add, ":party_2_value_3", ":var_11"),
						(party_set_slot, ":party_2", ":value_3", ":party_2_value_3"),
						(val_sub, ":party_value_3", ":var_11"),
						(party_set_slot, ":party", ":value_3", ":party_value_3"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("average_trade_good_prices_2",
		[
			(store_sub, ":value", 267, "itm_trade_spice"),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
					(this_or_next|is_between, ":party_2", "p_town_1", "p_castle_1"),
					(is_between, ":party_2", "p_village_1", "p_salt_mine"),
					(this_or_next|party_slot_eq, ":party_2", slot_village_market_town, ":party"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_1, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_2, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_3, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_4, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_5, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_6, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_7, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_8, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_9, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_10, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_11, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_12, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_13, ":party_2"),
					(this_or_next|party_slot_eq, ":party", slot_town_trade_route_14, ":party_2"),
					(party_slot_eq, ":party", slot_town_trade_route_15, ":party_2"),
					(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
						(store_add, ":value_2", ":item", ":value"),
						(party_get_slot, ":party_value_2", ":party", ":value_2"),
						(party_get_slot, ":party_2_value_2", ":party_2", ":value_2"),
						(store_sub, ":value_3", ":party_value_2", ":party_2_value_2"),
						(store_div, ":value_4", ":value_3", 5),
						(val_add, ":party_2_value_2", ":value_4"),
						(party_set_slot, ":party_2", ":value_2", ":party_2_value_2"),
						(val_sub, ":party_value_2", ":value_4"),
						(party_set_slot, ":party", ":value_2", ":party_value_2"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("average_trade_good_productions",
		[
			(store_sub, ":value", 500, "itm_trade_spice"),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
				(is_between, ":party", "p_village_1", "p_salt_mine"),
				(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
					(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
					(is_between, ":party", "p_village_1", "p_salt_mine"),
					(neq, ":party_2", ":party"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_party_party_2", ":party", ":party_2"),
					(lt, ":distance_to_party_from_party_party_party_2", 110),
					(store_sub, ":value_2", 110, ":distance_to_party_from_party_party_party_2"),
					(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
						(store_add, ":value_3", ":item", ":value"),
						(party_get_slot, ":party_value_3", ":party", ":value_3"),
						(party_get_slot, ":party_2_value_3", ":party_2", ":value_3"),
						(store_sub, ":value_4", ":party_value_3", ":party_2_value_3"),
						(gt, ":value_4", 0),
						(store_mul, ":value_5", ":value_4", 1),
						(val_mul, ":value_5", ":value_2"),
						(val_div, ":value_5", 110),
						(val_add, ":party_2_value_3", ":value_5"),
						(party_set_slot, ":party_2", ":value_3", ":party_2_value_3"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("normalize_trade_good_productions",
		[
			(store_sub, ":value", 500, "itm_trade_spice"),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(assign, ":var_3", 0),
				(assign, ":var_4", 0),
				(store_add, ":value_2", ":item", ":value"),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(val_add, ":var_4", 1),
					(try_begin),
						(is_between, ":party", "p_town_1", "p_castle_1"),
						(val_add, ":var_4", 4),
					(try_end),
					(party_get_slot, ":party_value_2", ":party", ":value_2"),
					(val_add, ":var_3", ":party_value_2"),
				(try_end),
				(store_div, ":value_3", ":var_3", ":var_4"),
				(neq, ":value_3", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
					(is_between, ":party", "p_village_1", "p_salt_mine"),
					(party_get_slot, ":party_value_2", ":party", ":value_2"),
					(val_sub, ":party_value_2", ":value_3"),
					(party_set_slot, ":party", ":value_2", ":party_value_2"),
				(try_end),
			(try_end)
		]),

	("update_trade_good_prices",
		[
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
				(is_between, ":party", "p_village_1", "p_salt_mine"),
				(call_script, "script_update_trade_good_price_for_party", ":party"),
			(try_end),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(assign, ":var_3", 0),
				(assign, ":var_4", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
					(is_between, ":party", "p_village_1", "p_salt_mine"),
					(store_sub, ":value", ":item", "itm_trade_spice"),
					(val_add, ":value", 267),
					(party_get_slot, ":party_value", ":party", ":value"),
					(try_begin),
						(is_between, ":party", "p_town_1", "p_castle_1"),
						(assign, ":value_2", 5),
					(else_try),
						(assign, ":value_2", 1),
					(try_end),
					(val_mul, ":party_value", ":value_2"),
					(val_add, ":var_3", ":party_value"),
					(val_add, ":var_4", ":value_2"),
				(try_end),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(this_or_next|is_between, ":party", "p_town_1", "p_castle_1"),
					(is_between, ":party", "p_village_1", "p_salt_mine"),
					(store_sub, ":value", ":item", "itm_trade_spice"),
					(val_add, ":value", 267),
					(party_get_slot, ":party_value", ":party", ":value"),
					(val_mul, ":party_value", 1000),
					(val_mul, ":party_value", ":var_4"),
					(val_div, ":party_value", ":var_3"),
					(val_clamp, ":party_value", 100, 10000),
					(party_set_slot, ":party", ":value", ":party_value"),
				(try_end),
			(try_end)
		]),

	("update_trade_good_price_for_party",
		[
			(store_script_param, ":script_param_1", 1),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value", ":item", "itm_trade_spice"),
				(val_add, ":value", 267),
				(party_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
				(call_script, "script_center_get_production", ":script_param_1", ":item"),
				(assign, ":var_5", reg0),
				(call_script, "script_center_get_consumption", ":script_param_1", ":item"),
				(assign, ":var_6", reg0),
				(val_sub, ":var_5", ":var_6"),
				(try_begin),
					(gt, ":var_5", 0),
					(store_mul, ":value_2", ":var_5", 1),
					(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
					(val_add, ":random_in_range_0_value_2", ":value_2"),
					(val_add, ":random_in_range_0_value_2", ":value_2"),
					(store_sub, ":value_3", ":script_param_1_value", ":random_in_range_0_value_2"),
					(val_clamp, ":value_3", 100, 10000),
					(try_begin),
						(lt, ":value_3", 1000),
						(store_add, ":value_4", ":value_3", 300),
						(val_mul, ":random_in_range_0_value_2", ":value_4"),
						(val_div, ":random_in_range_0_value_2", 1300),
					(try_end),
					(val_sub, ":script_param_1_value", ":random_in_range_0_value_2"),
				(else_try),
					(lt, ":var_5", 0),
					(store_sub, ":value_2", 0, ":var_5"),
					(val_mul, ":value_2", 1),
					(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
					(val_add, ":random_in_range_0_value_2", ":value_2"),
					(val_add, ":random_in_range_0_value_2", ":value_2"),
					(val_add, ":script_param_1_value", ":random_in_range_0_value_2"),
				(try_end),
				(try_begin),
					(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
					(store_sub, ":value_5", ":script_param_1_value", 1000),
					(val_mul, ":value_5", 96),
					(val_div, ":value_5", 100),
					(store_add, ":value_6", 1000, ":value_5"),
				(else_try),
					(store_sub, ":value_5", ":script_param_1_value", 1000),
					(val_mul, ":value_5", 96),
					(val_div, ":value_5", 100),
					(store_add, ":value_6", 1000, ":value_5"),
				(try_end),
				(try_begin),
					(item_get_slot, ":item_primary_raw_material", ":item", slot_item_primary_raw_material),
					(neq, ":item_primary_raw_material", 0),
					(store_sub, ":value_7", ":item_primary_raw_material", "itm_trade_spice"),
					(val_add, ":value_7", 267),
					(party_get_slot, ":script_param_1_value_7", ":script_param_1", ":value_7"),
					(val_mul, ":script_param_1_value_7", 3),
					(assign, ":var_16", 3),
					(try_for_range, ":party", "p_village_1", "p_salt_mine"),
						(party_slot_eq, ":party", slot_village_bound_center, ":script_param_1"),
						(party_get_slot, ":party_value_7", ":party", ":value_7"),
						(val_add, ":script_param_1_value_7", ":party_value_7"),
						(val_add, ":var_16", 1),
					(try_end),
					(store_div, ":value_8", ":script_param_1_value_7", ":var_16"),
					(gt, ":value_8", ":value_6"),
					(store_sub, ":value_9", ":value_8", ":value_6"),
					(val_div, ":value_9", 10),
					(val_add, ":value_6", ":value_9"),
				(try_end),
				(val_clamp, ":value_6", 100, 10000),
				(party_set_slot, ":script_param_1", ":value", ":value_6"),
			(try_end)
		]),

	("center_get_production",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 0),
			(try_begin),
				(eq, ":script_param_2", "itm_trade_bread"),
				(party_get_slot, ":value", ":script_param_1", slot_center_mills),
				(val_mul, ":value", 20),
			(else_try),
				(eq, ":script_param_2", "itm_trade_grain"),
				(party_get_slot, ":value", ":script_param_1", slot_production_sources_begin),
				(val_div, ":value", 125),
			(else_try),
				(eq, ":script_param_2", "itm_trade_ale"),
				(party_get_slot, ":value", ":script_param_1", slot_center_breweries),
				(val_mul, ":value", 25),
			(else_try),
				(eq, ":script_param_2", "itm_trade_smoked_fish"),
				(party_get_slot, ":value", ":script_param_1", slot_center_fishing_fleet),
				(val_mul, ":value", 4),
			(else_try),
				(eq, ":script_param_2", "itm_trade_salt"),
				(party_get_slot, ":value", ":script_param_1", slot_center_salt_pans),
				(val_mul, ":value", 35),
			(else_try),
				(eq, ":script_param_2", "itm_trade_cattle_meat"),
				(party_get_slot, ":value", ":script_param_1", slot_village_number_of_cattle),
				(val_div, ":value", 4),
			(else_try),
				(eq, ":script_param_2", "itm_trade_dried_meat"),
				(party_get_slot, ":value", ":script_param_1", slot_village_number_of_cattle),
				(val_div, ":value", 2),
			(else_try),
				(eq, ":script_param_2", "itm_trade_cheese"),
				(party_get_slot, ":value", ":script_param_1", slot_village_number_of_cattle),
				(val_div, ":value", 3),
			(else_try),
				(eq, ":script_param_2", "itm_trade_butter"),
				(party_get_slot, ":value", ":script_param_1", slot_village_number_of_cattle),
				(val_div, ":value", 8),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_leather"),
				(party_get_slot, ":value", ":script_param_1", slot_village_number_of_cattle),
				(val_div, ":value", 6),
				(party_get_slot, ":script_param_1_center_head_sheep", ":script_param_1", slot_center_head_sheep),
				(val_div, ":script_param_1_center_head_sheep", 12),
				(val_add, ":value", ":script_param_1_center_head_sheep"),
			(else_try),
				(eq, ":script_param_2", "itm_trade_leatherwork"),
				(party_get_slot, ":value", ":script_param_1", slot_center_tanneries),
				(val_mul, ":value", 20),
			(else_try),
				(eq, ":script_param_2", "itm_trade_honey"),
				(party_get_slot, ":value", ":script_param_1", slot_center_apiaries),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_trade_cabbages"),
				(party_get_slot, ":value", ":script_param_1", slot_center_household_gardens),
				(val_mul, ":value", 10),
			(else_try),
				(eq, ":script_param_2", "itm_trade_apples"),
				(party_get_slot, ":value", ":script_param_1", slot_center_household_gardens),
				(val_mul, ":value", 10),
			(else_try),
				(eq, ":script_param_2", "itm_trade_sausages"),
				(party_get_slot, ":value", ":script_param_1", slot_center_head_sheep),
				(val_div, ":value", 15),
			(else_try),
				(eq, ":script_param_2", "itm_trade_wool"),
				(party_get_slot, ":value", ":script_param_1", slot_center_head_sheep),
				(val_div, ":value", 5),
			(else_try),
				(eq, ":script_param_2", "itm_trade_wool_cloth"),
				(party_get_slot, ":value", ":script_param_1", slot_center_wool_looms),
				(val_mul, ":value", 5),
			(else_try),
				(this_or_next|eq, ":script_param_2", "itm_trade_pork"),
				(eq, ":script_param_2", "itm_trade_chicken"),
				(try_begin),
					(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
					(assign, ":value", 30),
				(else_try),
					(assign, ":value", 0),
				(try_end),
			(else_try),
				(eq, ":script_param_2", "itm_trade_iron"),
				(party_get_slot, ":value", ":script_param_1", slot_center_iron_deposits),
				(val_mul, ":value", 10),
			(else_try),
				(eq, ":script_param_2", "itm_trade_tools"),
				(party_get_slot, ":value", ":script_param_1", slot_center_smithies),
				(val_mul, ":value", 3),
			(else_try),
				(eq, ":script_param_2", "itm_trade_pottery"),
				(party_get_slot, ":value", ":script_param_1", slot_center_pottery_kilns),
				(val_mul, ":value", 5),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_grapes"),
				(party_get_slot, ":value", ":script_param_1", slot_center_acres_vineyard),
				(val_div, ":value", 100),
			(else_try),
				(eq, ":script_param_2", "itm_trade_wine"),
				(party_get_slot, ":value", ":script_param_1", slot_center_wine_presses),
				(val_mul, ":value", 25),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_olives"),
				(party_get_slot, ":value", ":script_param_1", slot_center_acres_olives),
				(val_div, ":value", 150),
			(else_try),
				(eq, ":script_param_2", "itm_trade_oil"),
				(party_get_slot, ":value", ":script_param_1", slot_center_olive_presses),
				(val_mul, ":value", 12),
			(else_try),
				(eq, ":script_param_2", "itm_trade_linen"),
				(party_get_slot, ":value", ":script_param_1", slot_center_linen_looms),
				(val_mul, ":value", 5),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_flax"),
				(party_get_slot, ":value", ":script_param_1", slot_center_acres_flax),
				(val_div, ":value", 80),
			(else_try),
				(eq, ":script_param_2", "itm_trade_velvet"),
				(party_get_slot, ":value", ":script_param_1", slot_center_silk_looms),
				(val_mul, ":value", 5),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_silk"),
				(party_get_slot, ":value", ":script_param_1", slot_center_silk_farms),
				(val_div, ":value", 20),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_dyes"),
				(party_get_slot, ":value", ":script_param_1", slot_center_kirmiz_farms),
				(val_div, ":value", 20),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_date_fruit"),
				(party_get_slot, ":value", ":script_param_1", slot_center_acres_dates),
				(val_div, ":value", 120),
			(else_try),
				(eq, ":script_param_2", "itm_market_gold_chalice"),
				(party_get_slot, ":value", ":script_param_1", 236),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_perfume"),
				(party_get_slot, ":value", ":script_param_1", 257),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_persimmon_wine"),
				(party_get_slot, ":value", ":script_param_1", 256),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_ironwood"),
				(party_get_slot, ":value", ":script_param_1", 258),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_lemon_basket"),
				(party_get_slot, ":value", ":script_param_1", 237),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_pear_basket"),
				(party_get_slot, ":value", ":script_param_1", 241),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_apple_basket"),
				(party_get_slot, ":value", ":script_param_1", slot_town_last_nearby_fire_time),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_arbor_red"),
				(party_get_slot, ":value", ":script_param_1", 242),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_lead"),
				(party_get_slot, ":value", ":script_param_1", slot_party_orders_type),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_tin"),
				(party_get_slot, ":value", ":script_param_1", slot_party_orders_object),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_silver_chalice"),
				(party_get_slot, ":value", ":script_param_1", slot_party_following_orders_of_troop),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_coal"),
				(party_get_slot, ":value", ":script_param_1", slot_party_orders_time),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_pumpkins"),
				(party_get_slot, ":value", ":script_param_1", slot_party_temp_slot_1),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_pentoshi_wine"),
				(party_get_slot, ":value", ":script_param_1", slot_party_under_player_suggestion),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_lyseni_wine"),
				(party_get_slot, ":value", ":script_param_1", slot_town_trade_good_prices_begin),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_qohorik_carpets"),
				(party_get_slot, ":value", ":script_param_1", 251),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_bronzewood"),
				(party_get_slot, ":value", ":script_param_1", 252),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_myrish_carpets"),
				(party_get_slot, ":value", ":script_param_1", 253),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_tyroshi_pear_brandy"),
				(party_get_slot, ":value", ":script_param_1", 254),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_volantene_wine"),
				(party_get_slot, ":value", ":script_param_1", 255),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_candles"),
				(party_get_slot, ":value", ":script_param_1", 243),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_plum_basket"),
				(party_get_slot, ":value", ":script_param_1", 238),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_market_dornish_wine"),
				(party_get_slot, ":value", ":script_param_1", 239),
				(val_mul, ":value", 6),
			(else_try),
				(eq, ":script_param_2", "itm_trade_furs"),
				(party_get_slot, ":value", ":script_param_1", slot_center_fur_traps),
				(val_mul, ":value", 25),
			(else_try),
				(eq, ":script_param_2", "itm_trade_spice"),
				(try_begin),
					(eq, ":script_param_1", "p_town_44"),
					(assign, ":value", 100),
				(else_try),
					(eq, ":script_param_1", "p_town_47"),
					(assign, ":value", 50),
				(else_try),
					(eq, ":script_param_1", "p_town_40"),
					(assign, ":value", 50),
				(else_try),
					(eq, ":script_param_1", "p_town_46"),
					(assign, ":value", 50),
				(try_end),
			(try_end),
			(assign, ":value_2", ":value"),
			(try_begin),
				(eq, ":script_param_2", "itm_trade_bread"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_grain", ":value", 1),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_ale"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_grain", ":value", 2),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_dried_meat"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_salt", ":value", 2),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_smoked_fish"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_salt", ":value", 2),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_tools"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_iron", ":value", 1),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_wool_cloth"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_wool", ":value", 1),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_wine"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_raw_grapes", ":value", 1),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_oil"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_raw_olives", ":value", 1),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_velvet"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_raw_silk", ":value", 1),
				(assign, ":var_6", reg0),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_raw_dyes", ":var_6", 2),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_leatherwork"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_raw_leather", ":value", 1),
				(assign, ":value_2", reg0),
			(else_try),
				(eq, ":script_param_2", "itm_trade_linen"),
				(call_script, "script_good_price_affects_good_production", ":script_param_1", "itm_trade_raw_flax", ":value", 1),
				(assign, ":value_2", reg0),
			(try_end),
			(assign, ":var_7", ":value_2"),
			(try_begin),
				(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
				(val_add, ":script_param_1_town_prosperity", 75),
				(val_mul, ":value_2", ":script_param_1_town_prosperity"),
				(val_div, ":value_2", 125),
			(try_end),
			(try_begin),
				(this_or_next|party_slot_eq, ":script_param_1", slot_village_state, 1),
				(party_slot_eq, ":script_param_1", slot_village_state, 2),
				(assign, ":value_2", 0),
			(try_end),
			(assign, reg0, ":value_2"),
			(assign, reg1, ":var_7"),
			(assign, reg2, ":value")
		]),

	("center_get_consumption",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|is_between, ":script_param_1", "p_town_19", "p_town_20"),
				(ge, ":script_param_1", "p_village_91"),
				(item_slot_ge, ":script_param_2", 13, 0),
				(item_get_slot, ":value", ":script_param_2", slot_item_desert_demand),
			(else_try),
				(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
				(item_get_slot, ":value", ":script_param_2", slot_item_rural_demand),
			(else_try),
				(is_between, ":script_param_1", "p_town_1", "p_castle_1"),
				(item_get_slot, ":value", ":script_param_2", slot_item_urban_demand),
			(try_end),
			(assign, ":value_2", 0),
			(try_begin),
				(eq, ":script_param_2", "itm_trade_grain"),
				(party_get_slot, ":script_param_1_center_mills", ":script_param_1", slot_center_mills),
				(val_mul, ":script_param_1_center_mills", 20),
				(party_get_slot, ":script_param_1_center_breweries", ":script_param_1", slot_center_breweries),
				(val_mul, ":script_param_1_center_breweries", 5),
				(store_add, ":value_2", ":script_param_1_center_mills", ":script_param_1_center_breweries"),
			(else_try),
				(eq, ":script_param_2", "itm_trade_iron"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_smithies),
				(val_mul, ":value_2", 3),
			(else_try),
				(eq, ":script_param_2", "itm_trade_wool"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_wool_looms),
				(val_mul, ":value_2", 5),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_flax"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_linen_looms),
				(val_mul, ":value_2", 5),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_leather"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_tanneries),
				(val_mul, ":value_2", 20),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_grapes"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_wine_presses),
				(val_mul, ":value_2", 30),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_olives"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_olive_presses),
				(val_mul, ":value_2", 12),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_dyes"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_silk_looms),
				(val_mul, ":value_2", 1),
			(else_try),
				(eq, ":script_param_2", "itm_trade_raw_silk"),
				(party_get_slot, ":value_2", ":script_param_1", slot_center_silk_looms),
				(val_mul, ":value_2", 5),
			(else_try),
				(eq, ":script_param_2", "itm_trade_salt"),
				(party_get_slot, ":script_param_1_village_number_of_cattle", ":script_param_1", slot_village_number_of_cattle),
				(val_div, ":script_param_1_village_number_of_cattle", 10),
				(party_get_slot, ":script_param_1_center_fishing_fleet", ":script_param_1", slot_center_fishing_fleet),
				(val_div, ":script_param_1_center_fishing_fleet", 5),
				(store_add, ":value_2", ":script_param_1_village_number_of_cattle", ":script_param_1_center_fishing_fleet"),
			(try_end),
			(try_begin),
				(gt, ":value_2", 0),
				(store_sub, ":value_3", 267, "itm_trade_spice"),
				(store_add, ":value_4", ":script_param_2", ":value_3"),
				(party_get_slot, ":script_param_1_value_4", ":script_param_1", ":value_4"),
				(gt, ":script_param_1_value_4", 1000),
				(val_mul, ":value_2", 1000),
				(val_div, ":value_2", ":script_param_1_value_4"),
			(try_end),
			(store_add, ":value_5", ":value", ":value_2"),
			(try_begin),
				(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
				(val_add, ":script_param_1_town_prosperity", 75),
				(val_mul, ":value_5", ":script_param_1_town_prosperity"),
				(val_div, ":value_5", 125),
			(try_end),
			(assign, reg0, ":value_5"),
			(assign, reg1, ":value_2"),
			(assign, reg2, ":value")
		]),

	("get_enterprise_name",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", "str_bread_site"),
			(try_begin),
				(eq, ":script_param_1", "itm_trade_bread"),
				(assign, ":value", "str_bread_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_ale"),
				(assign, ":value", "str_ale_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_oil"),
				(assign, ":value", "str_oil_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_wine"),
				(assign, ":value", "str_wine_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_leatherwork"),
				(assign, ":value", "str_leather_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_wool_cloth"),
				(assign, ":value", "str_wool_cloth_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_linen"),
				(assign, ":value", "str_linen_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_velvet"),
				(assign, ":value", "str_velvet_site"),
			(else_try),
				(eq, ":script_param_1", "itm_trade_tools"),
				(assign, ":value", "str_tool_site"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("do_merchant_town_trade",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_last_traded_center", ":script_param_1", slot_party_last_traded_center),
			(try_begin),
				(eq, "$cheat_mode", 2),
				(str_store_party_name, 4, ":script_param_2"),
				(str_store_party_name, 5, ":script_param_1_last_traded_center"),
				(display_message, "@{!}DEBUG -- Caravan trades in {s4}, originally from {s5}"),
			(try_end),
			(call_script, "script_add_log_entry", 5, ":script_param_1", ":script_param_1_last_traded_center", ":script_param_2", -1),
			(call_script, "script_do_party_center_trade", ":script_param_1", ":script_param_2", 4),
			(assign, ":var_4", reg0),
			(val_div, ":var_4", 2),
			(str_store_party_name, 1, ":script_param_1"),
			(str_store_party_name, 2, ":script_param_2"),
			(assign, reg1, ":var_4"),
			(party_get_slot, ":script_param_2_center_accumulated_tariffs", ":script_param_2", slot_center_accumulated_tariffs),
			(party_get_slot, ":script_param_2_town_prosperity", ":script_param_2", slot_town_prosperity),
			(assign, ":var_7", ":var_4"),
			(val_mul, ":var_7", ":script_param_2_town_prosperity"),
			(assign, ":var_8", 100),
			(try_begin),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
				(store_add, ":value", ":faction_of_party_script_param_1", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_get_slot, ":faction_of_party_script_param_2_value", ":faction_of_party_script_param_2", ":value"),
				(gt, ":faction_of_party_script_param_2_value", 30),
				(val_add, ":var_8", 30),
			(try_end),
			(assign, ":value_2", 0),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 0),
				(ge, ":script_param_1_last_traded_center", 0),
				(this_or_next|is_between, ":script_param_1_last_traded_center", "p_town_1", "p_castle_1"),
				(this_or_next|is_between, ":script_param_1_last_traded_center", "p_village_1", "p_salt_mine"),
				(this_or_next|party_slot_eq, ":script_param_1_last_traded_center", slot_party_type, 3),
				(party_slot_eq, ":script_param_1_last_traded_center", slot_party_type, 4),
				(ge, ":var_7", 0),
				(party_get_slot, ":script_param_1_last_traded_center_center_accumulated_tariffs", ":script_param_1_last_traded_center", slot_center_accumulated_tariffs),
				(store_div, ":value_2", ":var_7", 2),
				(val_sub, ":var_7", ":value_2"),
				(store_faction_of_party, ":faction_of_party_script_param_2_2", ":script_param_2"),
				(faction_get_slot, ":faction_of_party_script_param_2_2_202", ":faction_of_party_script_param_2_2", 202),
				(val_mul, ":faction_of_party_script_param_2_2_202", -5),
				(store_add, ":value_3", ":var_8", ":faction_of_party_script_param_2_2_202"),
				(val_mul, ":value_2", ":value_3"),
				(val_add, ":value_2", 50),
				(val_div, ":value_2", 100),
				(val_add, ":value_2", 50),
				(val_div, ":value_2", 100),
				(val_add, ":var_7", 5),
				(val_div, ":var_7", 10),
				(val_add, ":script_param_1_last_traded_center_center_accumulated_tariffs", ":value_2"),
				(party_set_slot, ":script_param_1_last_traded_center", slot_center_accumulated_tariffs, ":script_param_1_last_traded_center_center_accumulated_tariffs"),
				(ge, "$cheat_mode", 3),
				(assign, reg4, ":value_2"),
				(str_store_party_name, 4, ":script_param_1_last_traded_center"),
				(assign, reg5, ":script_param_1_last_traded_center_center_accumulated_tariffs"),
				(display_message, "@{!}New tariffs at {s4} = {reg4}, total = {reg5}"),
			(try_end),
			(faction_get_slot, ":faction_of_party_script_param_2_2_202", ":faction_of_party_script_param_2", 202),
			(val_mul, ":faction_of_party_script_param_2_2_202", -5),
			(val_add, ":var_8", ":faction_of_party_script_param_2_2_202"),
			(val_mul, ":var_7", ":var_8"),
			(val_add, ":var_7", 50),
			(val_div, ":var_7", 100),
			(val_add, ":var_7", 50),
			(val_div, ":var_7", 100),
			(val_add, ":var_7", 5),
			(val_div, ":var_7", 10),
			(val_add, ":script_param_2_center_accumulated_tariffs", ":var_7"),
			(try_begin),
				(ge, "$cheat_mode", 3),
				(assign, reg4, ":var_7"),
				(str_store_party_name, 4, ":script_param_2"),
				(assign, reg5, ":script_param_2_center_accumulated_tariffs"),
				(display_message, "@{!}New tariffs at {s4} = {reg4}, total = {reg5}"),
			(try_end),
			(party_set_slot, ":script_param_2", slot_center_accumulated_tariffs, ":script_param_2_center_accumulated_tariffs"),
			(assign, ":value_4", ":script_param_2"),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 0),
				(ge, ":script_param_1_last_traded_center", 0),
				(this_or_next|is_between, ":script_param_1_last_traded_center", "p_town_1", "p_castle_1"),
				(this_or_next|is_between, ":script_param_1_last_traded_center", "p_village_1", "p_salt_mine"),
				(this_or_next|party_slot_eq, ":script_param_1_last_traded_center", slot_party_type, 3),
				(party_slot_eq, ":script_param_1_last_traded_center", slot_party_type, 4),
				(ge, ":var_7", 0),
				(store_random_in_range, ":random_in_range_0_64", 0, 64),
				(lt, ":random_in_range_0_64", 32),
				(assign, ":value_4", ":script_param_1_last_traded_center"),
			(try_end),
			(try_begin),
				(store_random_in_range, ":random_in_range_0_64", 0, 80),
				(call_script, "script_center_get_goods_availability", ":value_4"),
				(assign, ":value_5", reg0),
				(gt, ":random_in_range_0_64", ":value_5"),
				(call_script, "script_change_center_prosperity", ":value_4", 1),
				(val_add, "$newglob_total_prosperity_from_caravan_trade", 1),
			(try_end),
			(try_begin),
				(store_random_in_range, ":random_in_range_0_64", -20, 40),
				(call_script, "script_center_get_goods_availability", ":value_4"),
				(assign, ":value_5", reg0),
				(gt, ":random_in_range_0_64", ":value_5"),
				(call_script, "script_change_center_prosperity", ":value_4", 1),
				(val_add, "$newglob_total_prosperity_from_caravan_trade", 1),
			(try_end)
		]),

	("party_calculate_regular_strength",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, reg0, 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(store_character_level, ":character_level_party_stack_troop_id_script_param_1_number", ":party_stack_troop_id_script_param_1_number"),
				(try_begin),
					(troop_is_mounted, ":party_stack_troop_id_script_param_1_number"),
					(val_add, ":character_level_party_stack_troop_id_script_param_1_number", 5),
				(try_end),
				(store_div, ":value", ":character_level_party_stack_troop_id_script_param_1_number", 4),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_number", ":value"),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_number", 12),
				(val_mul, ":character_level_party_stack_troop_id_script_param_1_number", ":character_level_party_stack_troop_id_script_param_1_number"),
				(val_div, ":character_level_party_stack_troop_id_script_param_1_number", 100),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
				(val_sub, ":party_stack_size_script_param_1_number", ":party_stack_num_wounded_script_param_1_number"),
				(val_mul, ":character_level_party_stack_troop_id_script_param_1_number", ":party_stack_size_script_param_1_number"),
				(val_add, reg0, ":character_level_party_stack_troop_id_script_param_1_number"),
			(try_end)
		]),

	("party_calculate_strength",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, reg0, 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(try_begin),
				(eq, ":script_param_1", "p_main_party"),
				(party_get_slot, ":value_2", "p_main_party", slot_village_bound_center),
			(try_end),
			(try_begin),
				(neq, ":script_param_2", 0),
				(assign, ":value", 1),
			(try_end),
			(try_for_range, ":var_6", ":value", ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_6", ":script_param_1", ":var_6"),
				(store_character_level, ":character_level_party_stack_troop_id_script_param_1_var_6", ":party_stack_troop_id_script_param_1_var_6"),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_script_param_1_var_6"),
					(val_add, ":character_level_party_stack_troop_id_script_param_1_var_6", 2),
				(try_end),
				(try_begin),
					(troop_is_mounted, ":party_stack_troop_id_script_param_1_var_6"),
					(val_add, ":character_level_party_stack_troop_id_script_param_1_var_6", 5),
				(try_end),
				(store_div, ":value_3", ":character_level_party_stack_troop_id_script_param_1_var_6", 4),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_var_6", ":value_3"),
				(try_begin),
					(eq, ":value_2", 1),
					(val_add, ":character_level_party_stack_troop_id_script_param_1_var_6", 2),
				(try_end),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_var_6", 4),
				(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", ":character_level_party_stack_troop_id_script_param_1_var_6"),
				(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 2),
				(val_div, ":character_level_party_stack_troop_id_script_param_1_var_6", 100),
				(val_max, ":character_level_party_stack_troop_id_script_param_1_var_6", 1),
				(party_get_current_terrain, ":current_terrain_script_param_1", ":script_param_1"),
				(try_begin),
					(eq, ":current_terrain_script_param_1", 2),
					(troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_6"),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 150),
				(else_try),
					(eq, ":current_terrain_script_param_1", 3),
					(troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_6"),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 110),
				(else_try),
					(eq, ":current_terrain_script_param_1", 4),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 95),
				(else_try),
					(eq, ":current_terrain_script_param_1", 5),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 95),
				(else_try),
					(eq, ":current_terrain_script_param_1", 10),
					(troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_6"),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 120),
				(else_try),
					(eq, ":current_terrain_script_param_1", 11),
					(neg|troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_6"),
					(neg|troop_is_guarantee_ranged, ":party_stack_troop_id_script_param_1_var_6"),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 120),
				(else_try),
					(eq, ":current_terrain_script_param_1", 12),
					(neg|troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_6"),
					(neg|troop_is_guarantee_ranged, ":party_stack_troop_id_script_param_1_var_6"),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 120),
				(else_try),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", 100),
				(try_end),
				(val_div, ":character_level_party_stack_troop_id_script_param_1_var_6", 100),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_var_6"),
					(party_stack_get_size, ":party_stack_size_script_param_1_var_6", ":script_param_1", ":var_6"),
					(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_var_6", ":script_param_1", ":var_6"),
					(val_sub, ":party_stack_size_script_param_1_var_6", ":party_stack_num_wounded_script_param_1_var_6"),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_6", ":party_stack_size_script_param_1_var_6"),
				(else_try),
					(troop_is_wounded, ":party_stack_troop_id_script_param_1_var_6"),
					(assign, ":character_level_party_stack_troop_id_script_param_1_var_6", 0),
				(try_end),
				(val_add, reg0, ":character_level_party_stack_troop_id_script_param_1_var_6"),
			(try_end),
			(party_set_slot, ":script_param_1", slot_party_cached_strength, reg0)
		]),

	("loot_player_items",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", reg0),
			(assign, ":var_3", 0),
			(assign, ":value", 0),
			(assign, ":value_2", -1),
			(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 0),
				(ge, "$g_player_surrenders", 1),
				(gt, ":script_param_1", 0),
				(party_stack_get_troop_id, ":value_2", ":script_param_1", 0),
				(ge, ":value_2", "trp_tournament_master"),
				(troop_is_hero, ":value_2"),
				(call_script, "script_troop_get_player_relation", ":value_2"),
				(assign, ":var_7", reg0),
				(assign, ":value_3", 0),
				(try_begin),
					(troop_slot_ge, "trp_player", 13, 1),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 7),
					(val_max, ":value_3", 10),
					(ge, "$player_honor", 1),
					(val_add, reg0, 10),
					(val_clamp, reg0, 11, 21),
					(val_max, ":value_3", reg0),
					(ge, ":var_7", -10),
					(assign, ":value", 1),
				(else_try),
					(troop_slot_ge, "trp_player", 13, 1),
					(this_or_next|troop_slot_eq, ":value_2", slot_lord_reputation_type, 25),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 1),
					(ge, "$player_honor", 1),
					(assign, reg0, "$player_honor"),
					(val_clamp, reg0, 1, 6),
					(val_max, ":value_3", reg0),
					(ge, ":var_7", 0),
					(assign, ":value", 1),
				(else_try),
					(this_or_next|troop_slot_eq, ":value_2", slot_lord_reputation_type, 6),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 25),
					(val_max, ":value_3", 21),
					(ge, ":var_7", -10),
					(assign, ":value", 1),
				(else_try),
					(call_script, "script_dplmc_get_troop_morality_value", ":value_2", 4),
					(assign, ":var_9", reg0),
					(ge, ":var_9", 1),
					(store_add, reg0, ":var_9", 14),
					(val_max, ":value_3", reg0),
					(ge, "$player_honor", 1),
					(val_mul, reg0, -1),
					(ge, ":var_7", reg0),
					(assign, ":value", 1),
				(else_try),
					(try_begin),
						(lt, ":var_9", 1),
						(this_or_next|lt, ":var_9", 0),
						(this_or_next|troop_slot_eq, ":value_2", slot_lord_reputation_type, 5),
						(this_or_next|troop_slot_eq, ":value_2", slot_lord_reputation_type, 3),
						(this_or_next|troop_slot_eq, ":value_2", slot_lord_reputation_type, 4),
						(troop_slot_eq, ":value_2", slot_lord_reputation_type, 2),
						(val_min, ":value_3", -10),
					(try_end),
					(try_begin),
						(le, ":game_reduce_campaign_ai", 0),
						(store_add, reg0, ":var_7", 25),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
						(store_add, reg0, ":var_7", 50),
					(else_try),
						(ge, ":game_reduce_campaign_ai", 2),
						(store_add, reg0, ":var_7", 75),
					(try_end),
					(val_add, reg0, ":value_3"),
					(val_max, reg0, ":value_3"),
					(val_max, reg0, 5),
					(store_random_in_range, ":value_3", 1, 101),
					(lt, reg0, ":value_3"),
					(assign, ":value", 1),
				(try_end),
			(else_try),
				(ge, "$g_dplmc_gold_changes", 0),
				(gt, ":script_param_1", 0),
				(ge, "$g_player_surrenders", 1),
				(store_random_in_range, reg0, 1, 101),
				(this_or_next|lt, reg0, 25),
				(ge, ":game_reduce_campaign_ai", 1),
				(this_or_next|lt, reg0, 50),
				(ge, ":game_reduce_campaign_ai", 2),
				(lt, reg0, 75),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(ge, "$cheat_mode", 1),
				(ge, "$g_dplmc_gold_changes", 0),
				(assign, ":var_10", reg1),
				(assign, reg0, "$g_player_surrenders"),
				(assign, reg1, ":value"),
				(display_message, "@{!} DEBUG loot player items: g player surrenders = {reg0}, merciful = {reg1}"),
				(assign, reg1, ":var_10"),
			(try_end),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(try_for_range, ":number", 0, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(ge, ":inventory_slot_player_number", 0),
				(neg|is_between, ":inventory_slot_player_number", "itm_book_tactics", "itm_trade_spice"),
				(assign, ":value_4", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":number"),
				(try_begin),
					(is_between, ":inventory_slot_player_number", "itm_trade_spice", "itm_trade_dummy01"),
					(assign, ":value_4", 20),
				(else_try),
					(is_between, ":inventory_slot_player_number", "itm_ho_swa_saddle_black", "itm_we_swa_axe_hatchet"),
					(assign, ":value_4", 15),
				(else_try),
					(this_or_next|is_between, ":inventory_slot_player_number", "itm_we_swa_axe_hatchet", "itm_ar_swa_ban_scale_a"),
					(is_between, ":inventory_slot_player_number", "itm_we_swa_arrow_gromite", "itm_ar_swa_ban_scale_a"),
					(assign, ":value_4", 5),
				(else_try),
					(this_or_next|is_between, ":inventory_slot_player_number", "itm_ar_swa_ban_scale_a", "itm_bo_gen_t0_bride_shoes"),
					(this_or_next|eq, ":inventory_slot_player_number", "itm_bo_gen_t0_bride_shoes", "itm_ga_swa_a2_leather"),
					(is_between, ":inventory_slot_player_number", "itm_sh_swa_rou_bandit_a", "itm_items_end"),
					(assign, ":value_4", 5),
				(try_end),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", ":value_4"),
				(try_begin),
					(ge, "$g_dplmc_gold_changes", 0),
					(ge, ":value", 1),
					(is_between, ":number", 0, 14),
					(assign, ":random_in_range_0_100", 101),
				(try_end),
				(lt, ":random_in_range_0_100", ":value_4"),
				(troop_remove_item, "trp_player", ":inventory_slot_player_number"),
				(try_begin),
					(gt, ":script_param_1", 0),
					(party_get_slot, ":script_param_1_next_looted_item_slot", ":script_param_1", slot_party_next_looted_item_slot),
					(val_add, ":script_param_1_next_looted_item_slot", 110),
					(party_set_slot, ":script_param_1", ":script_param_1_next_looted_item_slot", ":inventory_slot_player_number"),
					(val_sub, ":script_param_1_next_looted_item_slot", 110),
					(val_add, ":script_param_1_next_looted_item_slot", 115),
					(party_set_slot, ":script_param_1", ":script_param_1_next_looted_item_slot", ":inventory_slot_modifier_player_number"),
					(val_sub, ":script_param_1_next_looted_item_slot", 115),
					(val_add, ":script_param_1_next_looted_item_slot", 1),
					(val_mod, ":script_param_1_next_looted_item_slot", 5),
					(party_set_slot, ":script_param_1", slot_party_next_looted_item_slot, ":script_param_1_next_looted_item_slot"),
				(try_end),
			(try_end),
			(store_troop_gold, ":troop_gold_player", "trp_player"),
			(store_div, ":value_5", ":troop_gold_player", 4),
			(store_div, ":value_6", ":troop_gold_player", 10),
			(store_random_in_range, ":random_in_range_value_6_value_5", ":value_6", ":value_5"),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 1),
				(gt, ":script_param_1", 0),
				(party_get_skill_level, reg0, ":script_param_1", "skl_looting"),
				(val_clamp, reg0, 0, 11),
				(val_add, reg0, 10),
				(val_mul, ":random_in_range_value_6_value_5", reg0),
				(val_div, ":random_in_range_value_6_value_5", 10),
				(val_add, ":random_in_range_value_6_value_5", ":var_3"),
				(val_min, ":random_in_range_value_6_value_5", ":troop_gold_player"),
				(val_max, ":random_in_range_value_6_value_5", 0),
			(try_end),
			(troop_remove_gold, "trp_player", ":random_in_range_value_6_value_5"),
			(try_begin),
				(is_between, ":value_2", "trp_npc1", "trp_heroes_end"),
				(troop_is_hero, ":value_2"),
				(neq, ":value_2", "trp_player"),
				(neq, ":value_2", "trp_kingdom_heroes_including_player_begin"),
				(ge, ":random_in_range_value_6_value_5", 1),
				(troop_get_slot, reg0, ":value_2", slot_troop_wealth),
				(val_add, reg0, ":random_in_range_value_6_value_5"),
				(val_max, reg0, 0),
				(troop_set_slot, ":value_2", slot_troop_wealth, reg0),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("party_calculate_loot",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_calculate_main_party_shares"),
			(assign, ":var_2", reg0),
			(try_for_range, ":number", 0, 5),
				(store_add, ":value", ":number", 110),
				(party_get_slot, ":g_enemy_party_value", "$g_enemy_party", ":value"),
				(gt, ":g_enemy_party_value", 0),
				(party_set_slot, "$g_enemy_party", ":value", 0),
				(val_sub, ":value", 110),
				(val_add, ":value", 115),
				(party_get_slot, ":g_enemy_party_value_2", "$g_enemy_party", ":value"),
				(troop_add_item, "trp_temp_troop", ":g_enemy_party_value", ":g_enemy_party_value_2"),
			(try_end),
			(party_set_slot, "$g_enemy_party", slot_party_next_looted_item_slot, 0),
			(assign, ":var_7", 0),
			(try_begin),
				(this_or_next|party_slot_eq, "$g_enemy_party", slot_party_type, 11),
				(this_or_next|party_slot_eq, "$g_enemy_party", slot_party_type, 14),
				(this_or_next|party_slot_eq, "$g_enemy_party", slot_party_type, 18),
				(party_slot_eq, "$g_enemy_party", slot_party_type, 15),
				(store_mul, ":value_2", 10, 30),
				(val_mul, ":value_2", "$g_strength_contribution_of_player"),
				(val_div, ":value_2", 100),
				(val_div, ":value_2", ":var_2"),
				(assign, ":value_3", 0),
				(try_begin),
					(this_or_next|party_slot_eq, "$g_enemy_party", slot_party_type, 14),
					(party_slot_eq, "$g_enemy_party", slot_party_type, 11),
					(assign, ":value_3", 1),
				(else_try),
					(party_slot_eq, "$g_enemy_party", slot_party_type, 18),
					(val_div, ":value_2", 2),
					(reset_item_probabilities, 1),
					(assign, ":value_4", "itm_trade_smoked_fish"),
					(assign, ":value_5", "itm_trade_dummy01"),
				(else_try),
					(val_div, ":value_2", 5),
					(reset_item_probabilities, 1),
					(assign, ":value_4", "itm_trade_smoked_fish"),
					(assign, ":value_5", "itm_trade_dummy01"),
				(try_end),
				(try_begin),
					(eq, ":value_3", 0),
					(store_sub, ":value_6", 267, "itm_trade_spice"),
					(try_for_range, ":var_13", ":value_4", ":value_5"),
						(try_begin),
							(neg|party_slot_eq, "$g_enemy_party", slot_party_type, 18),
							(store_add, ":value_7", ":var_13", ":value_6"),
							(party_get_slot, ":g_enemy_party_value_7", "$g_enemy_party", ":value_7"),
						(else_try),
							(assign, ":g_enemy_party_value_7", 10000),
							(val_add, ":g_enemy_party_value_7", 1000),
							(val_div, ":g_enemy_party_value_7", 3),
						(try_end),
						(assign, ":var_16", 100),
						(val_mul, ":var_16", 1000),
						(val_div, ":var_16", ":g_enemy_party_value_7"),
						(assign, reg0, ":var_16"),
						(set_item_probability_in_merchandise, ":var_13", ":var_16"),
					(try_end),
					(troop_add_merchandise, "trp_temp_troop", 11, ":value_2"),
					(val_add, ":var_7", ":value_2"),
				(else_try),
					(eq, ":value_3", 1),
					(try_begin),
						(party_slot_ge, "$g_enemy_party", 500, ":value_2"),
						(party_set_slot, "$g_enemy_party", slot_town_trade_good_productions_begin, ":value_2"),
					(try_end),
					(call_script, "script_merchant_inventory_from_party_slot", "trp_temp_troop", "$g_enemy_party"),
				(try_end),
			(try_end),
			(store_mul, ":value_8", 10, 3),
			(val_mul, ":value_8", "$g_strength_contribution_of_player"),
			(party_get_skill_level, ":skill_level_main_party_looting", "p_main_party", "skl_looting"),
			(val_add, ":skill_level_main_party_looting", 10),
			(val_mul, ":value_8", ":skill_level_main_party_looting"),
			(val_div, ":value_8", 10),
			(val_div, ":value_8", ":var_2"),
			(store_add, ":value_9", "trp_temp_array_c", 1),
			(try_for_range, ":troop", "trp_temp_array_a", ":value_9"),
				(troop_clear_inventory, ":troop"),
				(store_skill_level, ":skill_level_12_troop", 12, ":troop"),
				(store_sub, ":value_10", 10, ":skill_level_12_troop"),
				(troop_raise_skill, ":troop", 12, ":value_10"),
			(try_end),
			(call_script, "script_copy_inventory", "trp_temp_troop", "trp_temp_array_a"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number_2", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number_2", ":script_param_1", ":number_2"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number_2"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number_2", ":script_param_1", ":number_2"),
				(try_for_range, ":unused", 0, ":party_stack_size_script_param_1_number_2"),
					(try_begin),
						(store_free_inventory_capacity, ":free_inventory_capacity_temp_array_a", "trp_temp_array_a"),
						(gt, ":free_inventory_capacity_temp_array_a", 0),
						(troop_loot_troop, "trp_temp_array_a", ":party_stack_troop_id_script_param_1_number_2", ":value_8"),
					(else_try),
						(store_free_inventory_capacity, ":free_inventory_capacity_temp_array_b", "trp_temp_array_b"),
						(gt, ":free_inventory_capacity_temp_array_b", 0),
						(troop_loot_troop, "trp_temp_array_b", ":party_stack_troop_id_script_param_1_number_2", ":value_8"),
					(else_try),
						(troop_loot_troop, "trp_temp_array_c", ":party_stack_troop_id_script_param_1_number_2", ":value_8"),
					(try_end),
				(try_end),
			(try_end),
			(troop_clear_inventory, "trp_temp_troop"),
			(try_for_range, ":unused", 0, 96),
				(assign, ":value_11", 0),
				(assign, ":value_12", -1),
				(assign, ":value_13", -1),
				(try_for_range, ":troop", "trp_temp_array_a", ":value_9"),
					(troop_get_inventory_capacity, ":inventory_capacity_troop", ":troop"),
					(try_for_range, ":number_3", 10, ":inventory_capacity_troop"),
						(troop_get_inventory_slot, ":inventory_slot_troop_number_3", ":troop", ":number_3"),
						(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_troop_number_3", ":troop", ":number_3"),
						(gt, ":inventory_slot_troop_number_3", -1),
						(call_script, "script_get_item_value_with_imod", ":inventory_slot_troop_number_3", ":inventory_slot_modifier_troop_number_3"),
						(assign, ":var_37", reg0),
						(val_div, ":var_37", 100),
						(val_max, ":var_37", 1),
						(gt, ":var_37", ":value_11"),
						(assign, ":value_11", ":var_37"),
						(assign, ":value_12", ":troop"),
						(assign, ":value_13", ":number_3"),
					(try_end),
				(try_end),
				(gt, ":value_11", 0),
				(troop_get_inventory_slot, ":inventory_slot_troop_number_3", ":value_12", ":value_13"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_troop_number_3", ":value_12", ":value_13"),
				(troop_add_item, "trp_temp_troop", ":inventory_slot_troop_number_3", ":inventory_slot_modifier_troop_number_3"),
				(troop_set_inventory_slot, ":value_12", ":value_13", -1),
			(try_end),
			(troop_get_inventory_capacity, ":inventory_capacity_troop", "trp_temp_troop"),
			(try_for_range, ":number_3", 0, ":inventory_capacity_troop"),
				(troop_get_inventory_slot, ":inventory_slot_temp_troop_number_3", "trp_temp_troop", ":number_3"),
				(ge, ":inventory_slot_temp_troop_number_3", 0),
				(val_add, ":var_7", 1),
			(try_end),
			(try_begin),
				(gt, ":var_7", 0),
				(troop_sort_inventory, "trp_temp_troop"),
				(call_script, "script_give_good_item_modifier", ":script_param_1", ":var_7"),
			(try_end),
			(assign, reg0, ":var_7")
		]),

	("calculate_main_party_shares",
		[
			(assign, ":var_1", 10),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range, ":number", 1, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_main_party_number"),
					(party_stack_get_size, ":party_stack_size_main_party_number", "p_main_party", ":number"),
					(val_add, ":var_1", ":party_stack_size_main_party_number"),
				(else_try),
					(val_add, ":var_1", 3),
				(try_end),
			(try_end),
			(assign, reg0, ":var_1")
		]),

	("party_give_xp_and_gold",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_calculate_main_party_shares"),
			(assign, ":var_2", reg0),
			(assign, ":var_3", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(store_character_level, ":character_level_party_stack_troop_id_script_param_1_number", ":party_stack_troop_id_script_param_1_number"),
				(store_add, ":value", ":character_level_party_stack_troop_id_script_param_1_number", 10),
				(val_mul, ":value", ":value"),
				(val_div, ":value", 10),
				(store_mul, ":value_2", ":value", ":party_stack_size_script_param_1_number"),
				(val_add, ":var_3", ":value_2"),
			(try_end),
			(val_mul, ":var_3", "$g_strength_contribution_of_player"),
			(val_div, ":var_3", 100),
			(val_min, ":var_3", 40000),
			(assign, ":var_11", ":var_3"),
			(store_random_in_range, ":random_in_range_50_100", 50, 100),
			(val_mul, ":var_11", ":random_in_range_50_100"),
			(val_div, ":var_11", 100),
			(party_add_xp, "p_main_party", ":var_11"),
			(store_mul, ":value_3", ":var_3", 10),
			(val_min, ":value_3", 60000),
			(store_random_in_range, ":random_in_range_50_100", 50, 100),
			(val_mul, ":value_3", ":random_in_range_50_100"),
			(val_div, ":value_3", 100),
			(try_begin),
				(neq, "$freelancer_state", 1),
				(party_slot_eq, ":script_param_1", slot_party_type, 11),
				(party_get_slot, ":script_param_1_town_wealth", ":script_param_1", slot_town_wealth),
				(val_add, ":value_3", ":script_param_1_town_wealth"),
			(try_end),
			(val_div, ":value_3", ":var_2"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", "p_main_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", "p_main_party", ":number"),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
					(call_script, "script_troop_add_gold", ":party_stack_troop_id_script_param_1_number", ":value_3"),
				(try_end),
			(try_end)
		]),

	("setup_troop_meeting",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(call_script, "script_get_meeting_scene"),
			(assign, ":var_3", reg0),
			(modify_visitors_at_site, ":var_3"),
			(reset_visitors),
			(set_visitor, 0, "trp_player"),
			(try_begin),
				(gt, ":script_param_2", -1),
				(set_visitor, 17, ":script_param_1", ":script_param_2"),
			(else_try),
				(set_visitor, 17, ":script_param_1"),
			(try_end),
			(set_jump_mission, "mt_conversation_encounter"),
			(jump_to_scene, ":var_3"),
			(change_screen_map_conversation, ":script_param_1")
		]),

	("setup_party_meeting",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(lt, "$g_encountered_party_relation", 0),
			(try_end),
			(call_script, "script_get_meeting_scene"),
			(assign, ":var_2", reg0),
			(modify_visitors_at_site, ":var_2"),
			(reset_visitors),
			(set_visitor, 0, "trp_player"),
			(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
			(party_stack_get_troop_dna, ":party_stack_troop_dna_script_param_1_0", ":script_param_1", 0),
			(set_visitor, 17, ":party_stack_troop_id_script_param_1_0", ":party_stack_troop_dna_script_param_1_0"),
			(set_jump_mission, "mt_conversation_encounter"),
			(jump_to_scene, ":var_2"),
			(change_screen_map_conversation, ":party_stack_troop_id_script_param_1_0")
		]),

	("get_meeting_scene",
		[
			(party_get_current_terrain, ":current_terrain_main_party", "p_main_party"),
			(assign, ":value", "scn_random_scene"),
			(try_begin),
				(eq, ":current_terrain_main_party", 2),
				(assign, ":value", "scn_meeting_scene_steppe"),
			(else_try),
				(eq, ":current_terrain_main_party", 3),
				(assign, ":value", "scn_meeting_scene_plain"),
			(else_try),
				(eq, ":current_terrain_main_party", 4),
				(assign, ":value", "scn_meeting_scene_snow"),
			(else_try),
				(eq, ":current_terrain_main_party", 5),
				(assign, ":value", "scn_meeting_scene_desert"),
			(else_try),
				(eq, ":current_terrain_main_party", 10),
				(assign, ":value", "scn_meeting_scene_steppe"),
			(else_try),
				(eq, ":current_terrain_main_party", 11),
				(assign, ":value", "scn_meeting_scene_plain"),
			(else_try),
				(eq, ":current_terrain_main_party", 12),
				(assign, ":value", "scn_meeting_scene_snow"),
			(else_try),
				(eq, ":current_terrain_main_party", 13),
				(assign, ":value", "scn_meeting_scene_desert"),
			(else_try),
				(assign, ":value", "scn_meeting_scene_plain"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("party_remove_all_companions",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_3", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_3", ":script_param_1", ":var_3"),
				(party_stack_get_size, ":party_stack_size_script_param_1_var_3", ":script_param_1", ":var_3"),
				(try_begin),
					(this_or_next|is_between, ":party_stack_troop_id_script_param_1_var_3", "trp_npc1", "trp_kingdom_1_lord"),
					(is_between, ":party_stack_troop_id_script_param_1_var_3", "trp_knight_1_1_wife", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":party_stack_troop_id_script_param_1_var_3", slot_troop_playerparty_history, 6),
					(this_or_next|troop_slot_eq, ":party_stack_troop_id_script_param_1_var_3", slot_troop_playerparty_history, 7),
					(troop_slot_eq, ":party_stack_troop_id_script_param_1_var_3", slot_troop_occupation, 2),
					(this_or_next|eq, "$g_move_heroes", 1),
					(eq, ":script_param_1", "p_main_party"),
					(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_occupation, 2),
					(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_leaded_party, -1),
					(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_prisoner_of_party, -1),
					(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_cur_center, -1),
					(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_3", ":party_stack_size_script_param_1_var_3"),
				(else_try),
					(troop_is_hero, ":party_stack_troop_id_script_param_1_var_3"),
					(neg|is_between, ":party_stack_troop_id_script_param_1_var_3", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
					(neq, ":party_stack_troop_id_script_param_1_var_3", "trp_player"),
					(eq, "$g_prison_heroes", 1),
					(eq, ":script_param_1", "p_main_party"),
					(store_random_in_range, ":random_in_range_0_4", 0, 4),
					(neq, ":random_in_range_0_4", 0),
					(troop_set_health, ":party_stack_troop_id_script_param_1_var_3", 100),
					(store_faction_of_party, ":faction_of_party_g_enemy_party", "$g_enemy_party"),
					(assign, ":value", 99999),
					(assign, ":value_2", -1),
					(try_for_range, ":party", "p_town_1", "p_village_1"),
						(store_faction_of_party, ":faction_of_party_party", ":party"),
						(eq, ":faction_of_party_party", ":faction_of_party_g_enemy_party"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_party_main_party", ":party", "p_main_party"),
						(lt, ":distance_to_party_from_party_party_main_party", ":value"),
						(assign, ":value", ":distance_to_party_from_party_party_main_party"),
						(assign, ":value_2", ":party"),
					(try_end),
					(assign, reg1, ":value_2"),
					(try_begin),
						(ge, ":value_2", 0),
						(store_random_in_range, ":random_in_range_0_4", 0, 4),
						(neq, ":random_in_range_0_4", 0),
						(party_add_prisoners, ":value_2", ":party_stack_troop_id_script_param_1_var_3", ":party_stack_size_script_param_1_var_3"),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_prisoner_of_party, ":value_2"),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_playerparty_history, 1),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_turned_down_twice, 0),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_occupation, 0),
						(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_3", ":party_stack_size_script_param_1_var_3"),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_party_name, 1, ":value_2"),
							(display_message, "str_your_hero_prisoned_at_s1"),
						(try_end),
					(else_try),
						(assign, ":value_3", 1000),
						(try_for_range, ":unused", 0, ":value_3"),
							(store_random_in_range, ":random_in_range_town_1_castle_1", "p_town_1", "p_castle_1"),
							(party_get_slot, ":random_in_range_town_1_castle_1_town_lord", ":random_in_range_town_1_castle_1", slot_town_lord),
							(this_or_next|eq, ":random_in_range_town_1_castle_1_town_lord", "trp_player"),
							(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, ":random_in_range_town_1_castle_1_town_lord"),
							(neg|troop_slot_eq, ":party_stack_troop_id_script_param_1_var_3", slot_troop_home, ":random_in_range_town_1_castle_1"),
							(this_or_next|eq, ":random_in_range_town_1_castle_1_town_lord", "trp_player"),
							(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, ":random_in_range_town_1_castle_1_town_lord"),
							(neg|troop_slot_eq, ":party_stack_troop_id_script_param_1_var_3", slot_troop_first_encountered, ":random_in_range_town_1_castle_1"),
							(assign, ":value_3", -1),
						(try_end),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_cur_center, ":random_in_range_town_1_castle_1"),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_playerparty_history, 1),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_turned_down_twice, 0),
						(troop_set_slot, ":party_stack_troop_id_script_param_1_var_3", slot_troop_occupation, 0),
						(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_3", ":party_stack_size_script_param_1_var_3"),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 4, ":party_stack_troop_id_script_param_1_var_3"),
							(str_store_party_name, 5, ":random_in_range_town_1_castle_1"),
							(display_message, "@{!}{s4} is sent to {s5} after defeat"),
						(try_end),
					(try_end),
				(else_try),
					(this_or_next|neg|troop_is_hero, ":party_stack_troop_id_script_param_1_var_3"),
					(eq, "$g_move_heroes", 1),
					(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_3", ":party_stack_size_script_param_1_var_3"),
				(try_end),
			(try_end)
		]),

	("party_remove_all_prisoners",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_3", 0, ":num_prisoner_stacks_script_param_1"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_var_3", ":script_param_1", ":var_3"),
				(this_or_next|neg|troop_is_hero, ":party_prisoner_stack_troop_id_script_param_1_var_3"),
				(eq, "$g_move_heroes", 1),
				(party_prisoner_stack_get_size, ":party_prisoner_stack_size_script_param_1_var_3", ":script_param_1", ":var_3"),
				(party_remove_prisoners, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_1_var_3", ":party_prisoner_stack_size_script_param_1_var_3"),
			(try_end)
		]),

	("party_add_party_companions",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_2", ":script_param_2"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_2"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_2_number", ":script_param_2", ":number"),
				(this_or_next|neg|troop_is_hero, ":party_stack_troop_id_script_param_2_number"),
				(eq, "$g_move_heroes", 1),
				(party_stack_get_size, ":party_stack_size_script_param_2_number", ":script_param_2", ":number"),
				(party_add_members, ":script_param_1", ":party_stack_troop_id_script_param_2_number", ":party_stack_size_script_param_2_number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_2_number", ":script_param_2", ":number"),
				(party_wound_members, ":script_param_1", ":party_stack_troop_id_script_param_2_number", ":party_stack_num_wounded_script_param_2_number"),
			(try_end)
		]),

	("party_add_party_prisoners",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_2", ":script_param_2"),
			(try_for_range, ":number", 0, ":num_prisoner_stacks_script_param_2"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_2_number", ":script_param_2", ":number"),
				(this_or_next|neg|troop_is_hero, ":party_prisoner_stack_troop_id_script_param_2_number"),
				(eq, "$g_move_heroes", 1),
				(party_prisoner_stack_get_size, ":party_prisoner_stack_size_script_param_2_number", ":script_param_2", ":number"),
				(party_add_members, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_2_number", ":party_prisoner_stack_size_script_param_2_number"),
			(try_end)
		]),

	("party_prisoners_add_party_companions",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_2", ":script_param_2"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_2"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_2_number", ":script_param_2", ":number"),
				(neg|is_between, ":party_stack_troop_id_script_param_2_number", "trp_brienne", "trp_ragnor_pyke"),
				(this_or_next|neg|troop_is_hero, ":party_stack_troop_id_script_param_2_number"),
				(eq, "$g_move_heroes", 1),
				(party_stack_get_size, ":party_stack_size_script_param_2_number", ":script_param_2", ":number"),
				(party_add_prisoners, ":script_param_1", ":party_stack_troop_id_script_param_2_number", ":party_stack_size_script_param_2_number"),
			(try_end)
		]),

	("party_prisoners_add_party_prisoners",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_2", ":script_param_2"),
			(try_for_range, ":number", 0, ":num_prisoner_stacks_script_param_2"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_2_number", ":script_param_2", ":number"),
				(this_or_next|neg|troop_is_hero, ":party_prisoner_stack_troop_id_script_param_2_number"),
				(eq, "$g_move_heroes", 1),
				(party_prisoner_stack_get_size, ":party_prisoner_stack_size_script_param_2_number", ":script_param_2", ":number"),
				(party_add_prisoners, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_2_number", ":party_prisoner_stack_size_script_param_2_number"),
			(try_end)
		]),

	("party_add_party",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(call_script, "script_party_add_party_companions", ":script_param_1", ":script_param_2"),
			(call_script, "script_party_prisoners_add_party_prisoners", ":script_param_1", ":script_param_2")
		]),

	("party_copy",
		[
			(assign, "$g_move_heroes", 1),
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_clear, ":script_param_1"),
			(call_script, "script_party_add_party", ":script_param_1", ":script_param_2")
		]),

	("clear_party_group",
		[
			(store_script_param_1, ":script_param_1"),
			(party_clear, ":script_param_1"),
			(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_attached_parties_script_param_1"),
				(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number", ":script_param_1", ":number"),
				(call_script, "script_clear_party_group", ":attached_party_with_rank_script_param_1_number"),
			(try_end)
		]),

	("party_add_wounded_members_as_prisoners",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_2", ":script_param_2"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_2"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_2_number", ":script_param_2", ":number"),
				(ge, ":party_stack_num_wounded_script_param_2_number", 1),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_2_number", ":script_param_2", ":number"),
				(neg|is_between, ":party_stack_troop_id_script_param_2_number", "trp_brienne", "trp_ragnor_pyke"),
				(this_or_next|neg|troop_is_hero, ":party_stack_troop_id_script_param_2_number"),
				(eq, "$g_move_heroes", 1),
				(party_add_prisoners, ":script_param_1", ":party_stack_troop_id_script_param_2_number", ":party_stack_num_wounded_script_param_2_number"),
			(try_end)
		]),

	("get_nonempty_party_in_group",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_begin),
				(gt, ":num_companion_stacks_script_param_1", 0),
				(assign, reg0, ":script_param_1"),
			(else_try),
				(assign, reg0, -1),
				(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
				(try_for_range, ":number", 0, ":num_attached_parties_script_param_1"),
					(lt, reg0, 0),
					(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number", ":script_param_1", ":number"),
					(call_script, "script_get_nonempty_party_in_group", ":attached_party_with_rank_script_param_1_number"),
				(try_end),
			(try_end)
		]),

	("collect_prisoners_from_empty_parties",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_companions, ":num_companions_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":num_companions_script_param_1", 0),
				(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
				(try_for_range, ":number", 0, ":num_prisoner_stacks_script_param_1"),
					(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
					(troop_is_hero, ":party_prisoner_stack_troop_id_script_param_1_number"),
					(party_add_members, ":script_param_2", ":party_prisoner_stack_troop_id_script_param_1_number", 1),
				(try_end),
			(try_end),
			(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
			(try_for_range, ":number_2", 0, ":num_attached_parties_script_param_1"),
				(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number_2", ":script_param_1", ":number_2"),
				(call_script, "script_collect_prisoners_from_empty_parties", ":attached_party_with_rank_script_param_1_number_2", ":script_param_2"),
			(try_end)
		]),

	("change_party_morale",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_morale, ":morale_script_param_1", ":script_param_1"),
			(store_add, ":value", ":morale_script_param_1", ":script_param_2"),
			(val_clamp, ":value", 0, 100),
			(party_set_morale, ":script_param_1", ":value"),
			(str_store_party_name, 1, ":script_param_1"),
			(try_begin),
				(lt, ":value", ":morale_script_param_1"),
				(store_sub, reg1, ":morale_script_param_1", ":value"),
			(else_try),
				(gt, ":value", ":morale_script_param_1"),
				(store_sub, reg1, ":value", ":morale_script_param_1"),
			(try_end)
		]),

	("count_casualties_and_adjust_morale",
		[
			(call_script, "script_calculate_main_party_shares"),
			(assign, ":var_1", reg0),
			(assign, ":var_2", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_player_casualties", "p_player_casualties"),
			(try_for_range, ":number", 0, ":num_companion_stacks_player_casualties"),
				(party_stack_get_troop_id, ":party_stack_troop_id_player_casualties_number", "p_player_casualties", ":number"),
				(party_stack_get_size, ":party_stack_size_player_casualties_number", "p_player_casualties", ":number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_player_casualties_number", "p_player_casualties", ":number"),
				(store_mul, ":value", ":party_stack_size_player_casualties_number", 2),
				(store_sub, ":value_2", ":value", ":party_stack_num_wounded_player_casualties_number"),
				(store_character_level, ":character_level_party_stack_troop_id_player_casualties_number", ":party_stack_troop_id_player_casualties_number"),
				(store_add, ":value_3", ":character_level_party_stack_troop_id_player_casualties_number", 3),
				(try_begin),
					(eq, ":party_stack_troop_id_player_casualties_number", "trp_player"),
					(val_add, ":character_level_party_stack_troop_id_player_casualties_number", 75),
				(else_try),
					(troop_is_hero, ":party_stack_troop_id_player_casualties_number"),
					(val_add, ":character_level_party_stack_troop_id_player_casualties_number", 50),
				(try_end),
				(val_mul, ":value_3", ":value_3"),
				(val_div, ":value_3", 10),
				(assign, reg0, ":value_3"),
				(val_mul, ":value_3", ":party_stack_size_player_casualties_number"),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_player_casualties_number"),
					(val_mul, ":value_3", ":value_2"),
					(val_div, ":value_3", ":value"),
				(try_end),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(assign, reg1, ":party_stack_size_player_casualties_number"),
					(assign, reg2, ":value_3"),
					(display_message, "str_our_per_person__reg0_num_people__reg1_total_gain__reg2"),
				(try_end),
				(val_add, ":var_2", ":value_3"),
			(try_end),
			(assign, ":var_12", 0),
			(assign, ":var_13", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_player_casualties", "p_enemy_casualties"),
			(try_for_range, ":number", 0, ":num_companion_stacks_player_casualties"),
				(party_stack_get_troop_id, ":party_stack_troop_id_player_casualties_number", "p_enemy_casualties", ":number"),
				(party_stack_get_size, ":party_stack_size_player_casualties_number", "p_enemy_casualties", ":number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_player_casualties_number", "p_enemy_casualties", ":number"),
				(store_mul, ":value", ":party_stack_size_player_casualties_number", 2),
				(store_sub, ":value_2", ":value", ":party_stack_num_wounded_player_casualties_number"),
				(store_character_level, ":character_level_party_stack_troop_id_player_casualties_number", ":party_stack_troop_id_player_casualties_number"),
				(store_add, ":value_3", ":character_level_party_stack_troop_id_player_casualties_number", 3),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_player_casualties_number"),
					(val_add, ":character_level_party_stack_troop_id_player_casualties_number", 50),
				(try_end),
				(val_mul, ":value_3", ":value_3"),
				(val_div, ":value_3", 10),
				(assign, reg0, ":value_3"),
				(val_mul, ":value_3", ":party_stack_size_player_casualties_number"),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_player_casualties_number"),
					(val_mul, ":value_3", ":value_2"),
					(val_div, ":value_3", ":value"),
				(try_end),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(assign, reg1, ":party_stack_size_player_casualties_number"),
					(assign, reg2, ":value_3"),
					(display_message, "str_ene_per_person__reg0_num_people__reg1_total_gain__reg2"),
				(try_end),
				(val_add, ":var_13", ":value_3"),
				(val_add, ":var_12", ":party_stack_size_player_casualties_number"),
			(try_end),
			(assign, ":var_14", 0),
			(try_begin),
				(eq, "$any_allies_at_the_last_battle", 1),
				(party_get_num_companion_stacks, ":num_companion_stacks_player_casualties", "p_ally_casualties"),
				(try_for_range, ":number", 0, ":num_companion_stacks_player_casualties"),
					(party_stack_get_troop_id, ":party_stack_troop_id_player_casualties_number", "p_ally_casualties", ":number"),
					(party_stack_get_size, ":party_stack_size_player_casualties_number", "p_ally_casualties", ":number"),
					(party_stack_get_num_wounded, ":party_stack_num_wounded_player_casualties_number", "p_ally_casualties", ":number"),
					(store_mul, ":value", ":party_stack_size_player_casualties_number", 2),
					(store_sub, ":value_2", ":party_stack_num_wounded_player_casualties_number"),
					(store_character_level, ":character_level_party_stack_troop_id_player_casualties_number", ":party_stack_troop_id_player_casualties_number"),
					(store_add, ":value_3", ":character_level_party_stack_troop_id_player_casualties_number", 3),
					(try_begin),
						(troop_is_hero, ":party_stack_troop_id_player_casualties_number"),
						(val_add, ":character_level_party_stack_troop_id_player_casualties_number", 50),
					(try_end),
					(val_mul, ":value_3", ":value_3"),
					(val_div, ":value_3", 10),
					(assign, reg0, ":value_3"),
					(val_mul, ":value_3", ":party_stack_size_player_casualties_number"),
					(try_begin),
						(neg|troop_is_hero, ":party_stack_troop_id_player_casualties_number"),
						(val_mul, ":value_3", ":value_2"),
						(val_div, ":value_3", ":value"),
					(try_end),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(assign, reg1, ":party_stack_size_player_casualties_number"),
						(assign, reg2, ":value_3"),
						(display_message, "str_all_per_person__reg0_num_people__reg1_total_gain__reg2"),
					(try_end),
					(val_add, ":var_14", ":value_3"),
				(try_end),
			(try_end),
			(store_add, ":value_4", ":var_2", ":var_14"),
			(assign, ":var_16", ":var_13"),
			(val_mul, ":value_4", 100),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg0, ":var_16"),
				(display_message, "@{!}DEBUGS : enemy loses : {reg0}"),
			(try_end),
			(try_begin),
				(gt, ":var_16", 0),
				(store_div, ":value_5", ":value_4", ":var_16"),
			(else_try),
				(assign, ":value_5", 1000),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg1, ":value_5"),
				(display_message, "str_loss_ratio_is_reg1"),
			(try_end),
			(try_begin),
				(neg|is_between, "$g_enemy_party", "p_town_1", "p_salt_mine"),
				(store_sub, ":value_6", 60, ":value_5"),
			(else_try),
				(store_sub, ":value_6", 100, ":value_5"),
			(try_end),
			(try_begin),
				(lt, ":value_6", 0),
				(val_div, ":value_6", 2),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg0, ":value_6"),
				(display_message, "@{!}DEBUGS1 : total gain : {reg0}"),
			(try_end),
			(val_max, ":value_6", -60),
			(val_mul, ":value_6", ":var_16"),
			(val_div, ":value_6", 100),
			(store_mul, ":value_7", ":value_6", -1),
			(val_mul, ":value_6", "$g_strength_contribution_of_player"),
			(val_div, ":value_6", 100),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg0, ":value_6"),
				(display_message, "@{!}DEBUGS2 : total gain : {reg0}"),
			(try_end),
			(try_begin),
				(party_is_active, "$g_enemy_party"),
				(assign, ":var_20", 0),
				(val_add, ":var_20", 10),
				(party_get_num_companion_stacks, ":num_companion_stacks_player_casualties", "$g_enemy_party"),
				(try_for_range, ":number", 0, ":num_companion_stacks_player_casualties"),
					(party_stack_get_troop_id, ":party_stack_troop_id_player_casualties_number", "$g_enemy_party", ":number"),
					(party_stack_get_size, ":party_stack_size_player_casualties_number", "$g_enemy_party", ":number"),
					(val_add, ":var_20", ":party_stack_size_player_casualties_number"),
				(try_end),
				(assign, ":var_21", ":var_20"),
				(party_get_num_attached_parties, ":num_attached_parties_l_g_enemy_party", "$g_enemy_party"),
				(try_for_range, ":number_2", 0, ":num_attached_parties_l_g_enemy_party"),
					(val_add, ":var_20", 10),
					(party_get_attached_party_with_rank, ":attached_party_with_rank_g_enemy_party_number_2", "$g_enemy_party", ":number_2"),
					(party_get_num_companion_stacks, ":num_companion_stacks_player_casualties", ":attached_party_with_rank_g_enemy_party_number_2"),
					(try_for_range, ":number", 0, ":num_companion_stacks_player_casualties"),
						(party_stack_get_troop_id, ":party_stack_troop_id_player_casualties_number", ":attached_party_with_rank_g_enemy_party_number_2", ":number"),
						(party_stack_get_size, ":party_stack_size_player_casualties_number", ":attached_party_with_rank_g_enemy_party_number_2", ":number"),
						(val_add, ":var_20", ":party_stack_size_player_casualties_number"),
					(try_end),
				(try_end),
				(assign, ":var_25", ":var_20"),
				(assign, reg5, ":var_25"),
				(assign, reg6, ":value_7"),
				(set_fixed_point_multiplier, 100),
				(val_mul, ":var_25", 100),
				(store_sqrt, ":value_8", ":var_25"),
				(val_div, ":value_8", 100),
				(val_div, ":value_7", ":value_8"),
				(val_div, ":value_7", 4),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(assign, reg7, ":value_7"),
					(display_message, "str_total_enemy_morale_gain__reg6_last_total_enemy_morale_gain__reg7_remaining_enemy_population__reg5"),
				(try_end),
				(store_mul, ":value_9", ":value_7", ":var_21"),
				(val_div, ":value_9", ":var_20"),
				(try_begin),
					(party_is_active, "$g_enemy_party"),
					(call_script, "script_change_party_morale", "$g_enemy_party", ":value_9"),
					(party_get_num_attached_parties, ":num_attached_parties_l_g_enemy_party", "$g_enemy_party"),
					(try_for_range, ":number_2", 0, ":num_attached_parties_l_g_enemy_party"),
						(party_get_attached_party_with_rank, ":attached_party_with_rank_g_enemy_party_number_2", "$g_enemy_party", ":number_2"),
						(party_get_num_companion_stacks, ":num_companion_stacks_player_casualties", ":attached_party_with_rank_g_enemy_party_number_2"),
						(assign, ":var_28", 0),
						(try_for_range, ":number", 0, ":num_companion_stacks_player_casualties"),
							(party_stack_get_troop_id, ":party_stack_troop_id_player_casualties_number", ":attached_party_with_rank_g_enemy_party_number_2", ":number"),
							(party_stack_get_size, ":party_stack_size_player_casualties_number", ":attached_party_with_rank_g_enemy_party_number_2", ":number"),
							(val_add, ":var_28", ":party_stack_size_player_casualties_number"),
						(try_end),
						(store_mul, ":value_9", ":value_7", ":var_28"),
						(val_div, ":value_9", ":var_20"),
						(call_script, "script_change_party_morale", ":attached_party_with_rank_g_enemy_party_number_2", ":value_9"),
					(try_end),
				(try_end),
			(try_end),
			(assign, ":var_29", ":value_6"),
			(val_div, ":var_29", ":var_1"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg0, ":var_1"),
				(assign, reg1, ":value_6"),
				(display_message, "@{!}DEBUGS3 : num player party shares:{reg0}, total gain:{reg1}"),
			(try_end),
			(call_script, "script_change_player_party_morale", ":var_29"),
			(store_mul, ":value_10", ":var_12", "$g_strength_contribution_of_player"),
			(store_div, ":value_11", ":value_10", 8),
			(try_begin),
				(gt, ":value_11", 2000),
				(assign, ":value_11", 2000),
			(try_end),
			(try_begin),
				(ge, "$g_ally_party", 0),
				(store_div, ":value_12", ":value_11", 3),
				(val_mul, ":value_12", 2),
				(store_faction_of_party, ":faction_of_party_g_ally_party", "$g_ally_party"),
				(faction_get_slot, ":faction_of_party_g_ally_party_morale_of_player_troops", ":faction_of_party_g_ally_party", slot_faction_morale_of_player_troops),
				(val_add, ":faction_of_party_g_ally_party_morale_of_player_troops", ":value_12"),
				(faction_set_slot, ":faction_of_party_g_ally_party", slot_faction_morale_of_player_troops, ":faction_of_party_g_ally_party_morale_of_player_troops"),
			(try_end),
			(try_begin),
				(neg|party_is_active, "$g_enemy_party"),
				(ge, "$current_town", 0),
				(val_mul, ":value_11", 2),
				(store_faction_of_party, ":faction_of_party_g_ally_party", "$current_town"),
				(faction_get_slot, ":faction_of_party_g_ally_party_morale_of_player_troops", ":faction_of_party_g_ally_party", slot_faction_morale_of_player_troops),
				(val_add, ":faction_of_party_g_ally_party_morale_of_player_troops", ":value_11"),
				(faction_set_slot, ":faction_of_party_g_ally_party", slot_faction_morale_of_player_troops, ":faction_of_party_g_ally_party_morale_of_player_troops"),
			(else_try),
				(party_is_active, "$g_enemy_party"),
				(assign, ":value_13", 0),
				(try_begin),
					(eq, "$players_kingdom", "fac_player_supporters_faction"),
					(neg|faction_slot_eq, "fac_player_supporters_faction", slot_faction_leader, "trp_player"),
					(assign, ":value_13", 1),
				(try_end),
				(eq, ":value_13", 0),
				(store_div, ":value_11", ":value_11", 3),
				(val_mul, ":value_11", 2),
				(store_faction_of_party, ":faction_of_party_g_enemy_party", "$g_enemy_party"),
				(faction_get_slot, ":faction_of_party_g_ally_party_morale_of_player_troops", ":faction_of_party_g_enemy_party", slot_faction_morale_of_player_troops),
				(val_sub, ":faction_of_party_g_ally_party_morale_of_player_troops", ":value_11"),
				(faction_set_slot, ":faction_of_party_g_enemy_party", slot_faction_morale_of_player_troops, ":faction_of_party_g_ally_party_morale_of_player_troops"),
			(try_end)
		]),

	("print_casualties_to_s0",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(str_clear, 0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(assign, ":var_5", 0),
			(assign, ":var_6", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
				(try_begin),
					(this_or_next|eq, ":script_param_1", "p_main_party"),
					(eq, ":script_param_1", "p_player_casualties"),
					(troop_get_slot, ":party_stack_troop_id_script_param_1_number_player_routed_agents", ":party_stack_troop_id_script_param_1_number", slot_troop_player_routed_agents),
					(troop_set_slot, ":party_stack_troop_id_script_param_1_number", slot_troop_player_routed_agents, 0),
				(else_try),
					(party_get_attached_to, ":attached_to_script_param_1", ":script_param_1"),
					(this_or_next|eq, ":script_param_1", "p_ally_casualties"),
					(ge, ":attached_to_script_param_1", 0),
					(this_or_next|eq, ":script_param_1", "p_ally_casualties"),
					(eq, ":attached_to_script_param_1", "p_main_party"),
					(troop_get_slot, ":party_stack_troop_id_script_param_1_number_player_routed_agents", ":party_stack_troop_id_script_param_1_number", slot_troop_ally_routed_agents),
					(troop_set_slot, ":party_stack_troop_id_script_param_1_number", slot_troop_ally_routed_agents, 0),
				(else_try),
					(troop_get_slot, ":party_stack_troop_id_script_param_1_number_player_routed_agents", ":party_stack_troop_id_script_param_1_number", slot_troop_enemy_routed_agents),
					(troop_set_slot, ":party_stack_troop_id_script_param_1_number", slot_troop_enemy_routed_agents, 0),
				(try_end),
				(store_sub, ":value", ":party_stack_size_script_param_1_number", ":party_stack_num_wounded_script_param_1_number"),
				(val_sub, ":value", ":party_stack_troop_id_script_param_1_number_player_routed_agents"),
				(val_add, ":var_5", ":value"),
				(val_add, ":var_4", ":party_stack_num_wounded_script_param_1_number"),
				(val_add, ":var_6", ":party_stack_troop_id_script_param_1_number_player_routed_agents"),
				(try_begin),
					(this_or_next|gt, ":value", 0),
					(this_or_next|gt, ":party_stack_num_wounded_script_param_1_number", 0),
					(gt, ":party_stack_troop_id_script_param_1_number_player_routed_agents", 0),
					(store_add, reg3, ":value", ":party_stack_num_wounded_script_param_1_number"),
					(store_add, reg3, reg3, ":party_stack_troop_id_script_param_1_number_player_routed_agents"),
					(str_store_troop_name_by_count, 1, ":party_stack_troop_id_script_param_1_number", reg3),
					(try_begin),
						(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
						(assign, reg3, 0),
					(try_end),
					(try_begin),
						(gt, ":value", 0),
						(gt, ":party_stack_num_wounded_script_param_1_number", 0),
						(gt, ":party_stack_troop_id_script_param_1_number_player_routed_agents", 0),
						(assign, reg4, ":value"),
						(assign, reg5, ":party_stack_num_wounded_script_param_1_number"),
						(assign, reg6, ":party_stack_troop_id_script_param_1_number_player_routed_agents"),
						(str_store_string, 2, "str_reg4_killed_reg5_wounded_reg6_routed"),
					(else_try),
						(gt, ":value", 0),
						(gt, ":party_stack_troop_id_script_param_1_number_player_routed_agents", 0),
						(assign, reg4, ":value"),
						(assign, reg5, ":party_stack_troop_id_script_param_1_number_player_routed_agents"),
						(str_store_string, 2, "str_reg4_killed_reg5_routed"),
					(else_try),
						(gt, ":value", 0),
						(gt, ":party_stack_num_wounded_script_param_1_number", 0),
						(assign, reg4, ":value"),
						(assign, reg5, ":party_stack_num_wounded_script_param_1_number"),
						(str_store_string, 2, "str_reg4_killed_reg5_wounded"),
					(else_try),
						(gt, ":party_stack_num_wounded_script_param_1_number", 0),
						(gt, ":party_stack_troop_id_script_param_1_number_player_routed_agents", 0),
						(assign, reg4, ":party_stack_num_wounded_script_param_1_number"),
						(assign, reg5, ":party_stack_troop_id_script_param_1_number_player_routed_agents"),
						(str_store_string, 2, "str_reg4_wounded_reg5_routed"),
					(else_try),
						(gt, ":value", 0),
						(assign, reg1, ":value"),
						(str_store_string, 3, "@killed"),
						(str_store_string, 2, "str_reg1_blank_s3"),
					(else_try),
						(gt, ":party_stack_num_wounded_script_param_1_number", 0),
						(assign, reg1, ":party_stack_num_wounded_script_param_1_number"),
						(str_store_string, 3, "@wounded"),
						(str_store_string, 2, "str_reg1_blank_s3"),
					(else_try),
						(assign, reg1, ":party_stack_troop_id_script_param_1_number_player_routed_agents"),
						(str_store_string, 3, "str_routed"),
						(str_store_string, 2, "str_reg1_blank_s3"),
					(try_end),
					(try_begin),
						(eq, ":script_param_2", 1),
						(try_begin),
							(eq, ":var_3", 0),
							(str_store_string, 0, "@{!}{reg3?{reg3}:} {s1} ({s2})"),
						(else_try),
							(str_store_string, 0, "@{!}{s0}, {reg3?{reg3}:} {s1} ({s2})"),
						(try_end),
					(else_try),
						(str_store_string, 0, "@{!}{s0}^{reg3?{reg3}:} {s1} ({s2})"),
					(try_end),
					(val_add, ":var_3", 1),
				(try_end),
			(try_end),
			(try_begin),
				(this_or_next|gt, ":var_5", 0),
				(this_or_next|gt, ":var_4", 0),
				(gt, ":var_6", 0),
				(store_add, ":value_2", ":var_5", ":var_4"),
				(val_add, ":value_2", ":var_6"),
				(assign, reg3, ":value_2"),
				(try_begin),
					(gt, ":var_5", 0),
					(gt, ":var_4", 0),
					(gt, ":var_6", 0),
					(assign, reg4, ":var_5"),
					(assign, reg5, ":var_4"),
					(assign, reg6, ":var_6"),
					(str_store_string, 2, "str_reg4_killed_reg5_wounded_reg6_routed"),
				(else_try),
					(gt, ":var_5", 0),
					(gt, ":var_6", 0),
					(assign, reg4, ":var_5"),
					(assign, reg5, ":var_6"),
					(str_store_string, 2, "str_reg4_killed_reg5_routed"),
				(else_try),
					(gt, ":var_5", 0),
					(gt, ":var_4", 0),
					(assign, reg4, ":var_5"),
					(assign, reg5, ":var_4"),
					(str_store_string, 2, "str_reg4_killed_reg5_wounded"),
				(else_try),
					(gt, ":var_4", 0),
					(gt, ":var_6", 0),
					(assign, reg4, ":var_4"),
					(assign, reg5, ":var_6"),
					(str_store_string, 2, "str_reg4_wounded_reg5_routed"),
				(else_try),
					(gt, ":var_5", 0),
					(str_store_string, 2, "@killed"),
				(else_try),
					(gt, ":var_4", 0),
					(str_store_string, 2, "@wounded"),
				(else_try),
					(str_store_string, 2, "str_routed"),
				(else_try),
				(try_end),
				(str_store_string, 0, "@{s0}^TOTAL: {reg3} ({s2})"),
			(else_try),
				(try_begin),
					(eq, ":script_param_2", 1),
					(str_store_string, 0, "@None"),
				(else_try),
					(str_store_string, 0, "@^None"),
				(try_end),
			(try_end)
		]),

	("write_fit_party_members_to_stack_selection",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, ":var_4", 2),
			(assign, ":var_5", 0),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(assign, ":value", 0),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
					(try_begin),
						(neg|troop_is_wounded, ":party_stack_troop_id_script_param_1_number"),
						(this_or_next|eq, ":script_param_2", 0),
						(neq, ":number", 0),
						(assign, ":value", 1),
					(try_end),
				(else_try),
					(party_stack_get_size, ":value", ":script_param_1", ":number"),
					(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
					(val_sub, ":value", ":party_stack_num_wounded_script_param_1_number"),
				(try_end),
				(try_begin),
					(gt, ":value", 0),
					(troop_set_slot, "trp_stack_selection_amounts", ":var_4", ":value"),
					(troop_set_slot, "trp_stack_selection_ids", ":var_4", ":party_stack_troop_id_script_param_1_number"),
					(val_add, ":var_4", 1),
				(try_end),
				(val_add, ":var_5", ":value"),
			(try_end),
			(val_sub, ":var_4", 2),
			(troop_set_slot, "trp_stack_selection_amounts", slot_troop_relations_begin, ":var_4"),
			(troop_set_slot, "trp_stack_selection_amounts", 1, ":var_5")
		]),

	("remove_fit_party_member_from_stack_selection",
		[
			(store_script_param, ":script_param_1", 1),
			(val_add, ":script_param_1", 2),
			(troop_get_slot, ":stack_selection_amounts_script_param_1", "trp_stack_selection_amounts", ":script_param_1"),
			(troop_get_slot, ":stack_selection_ids_script_param_1", "trp_stack_selection_ids", ":script_param_1"),
			(val_sub, ":stack_selection_amounts_script_param_1", 1),
			(troop_set_slot, "trp_stack_selection_amounts", ":script_param_1", ":stack_selection_amounts_script_param_1"),
			(troop_get_slot, ":stack_selection_amounts_1", "trp_stack_selection_amounts", 1),
			(val_sub, ":stack_selection_amounts_1", 1),
			(troop_set_slot, "trp_stack_selection_amounts", 1, ":stack_selection_amounts_1"),
			(try_begin),
				(le, ":stack_selection_amounts_script_param_1", 0),
				(troop_get_slot, ":stack_selection_amounts_relations_begin", "trp_stack_selection_amounts", slot_troop_relations_begin),
				(store_add, ":value", ":stack_selection_amounts_relations_begin", 2),
				(store_add, ":value_2", ":script_param_1", 1),
				(try_for_range, ":var_8", ":value_2", ":value"),
					(store_sub, ":value_3", ":var_8", 1),
					(troop_get_slot, ":stack_selection_amounts_var_8", "trp_stack_selection_amounts", ":var_8"),
					(troop_set_slot, "trp_stack_selection_amounts", ":value_3", ":stack_selection_amounts_var_8"),
					(troop_get_slot, ":stack_selection_amounts_var_8", "trp_stack_selection_ids", ":var_8"),
					(troop_set_slot, "trp_stack_selection_ids", ":value_3", ":stack_selection_amounts_var_8"),
				(try_end),
				(val_sub, ":stack_selection_amounts_relations_begin", 1),
				(troop_set_slot, "trp_stack_selection_amounts", slot_troop_relations_begin, ":stack_selection_amounts_relations_begin"),
			(try_end),
			(assign, reg0, ":stack_selection_ids_script_param_1")
		]),

	("remove_random_fit_party_member_from_stack_selection",
		[
			(troop_get_slot, ":stack_selection_amounts_1", "trp_stack_selection_amounts", 1),
			(store_random_in_range, ":random_in_range_0_stack_selection_amounts_1", 0, ":stack_selection_amounts_1"),
			(troop_get_slot, ":stack_selection_amounts_relations_begin", "trp_stack_selection_amounts", slot_troop_relations_begin),
			(store_add, ":value", ":stack_selection_amounts_relations_begin", 2),
			(try_for_range, ":number", 2, ":value"),
				(troop_get_slot, ":stack_selection_amounts_number", "trp_stack_selection_amounts", ":number"),
				(val_sub, ":random_in_range_0_stack_selection_amounts_1", ":stack_selection_amounts_number"),
				(lt, ":random_in_range_0_stack_selection_amounts_1", 0),
				(assign, ":value", 0),
				(store_sub, ":value_2", ":number", 2),
			(try_end),
			(call_script, "script_remove_fit_party_member_from_stack_selection", ":value_2")
		]),

	("add_routed_party",
		[
			(party_get_num_companion_stacks, ":num_companion_stacks_routed_enemies", "p_routed_enemies"),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(try_for_range, ":number", 0, ":num_companion_stacks_routed_enemies"),
				(store_sub, ":value", ":num_companion_stacks_routed_enemies", ":number"),
				(ge, ":value", ":var_3"),
				(store_sub, ":value_2", ":number", ":var_3"),
				(party_stack_get_troop_id, ":party_stack_troop_id_routed_enemies_value_2", "p_routed_enemies", ":value_2"),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_routed_enemies_value_2"),
					(party_stack_get_size, ":party_stack_size_routed_enemies_value_2", "p_routed_enemies", ":value_2"),
					(party_remove_members, "p_routed_enemies", ":party_stack_troop_id_routed_enemies_value_2", 1),
					(try_begin),
						(le, ":party_stack_size_routed_enemies_value_2", 1),
						(val_add, ":var_3", 1),
					(try_end),
				(else_try),
					(val_add, ":var_2", 1),
				(try_end),
			(try_end),
			(try_begin),
				(ge, ":var_2", 1),
				(set_spawn_radius, 2),
				(spawn_around_party, "p_main_party", "pt_routed_warriors"),
				(assign, ":var_9", reg0),
				(party_set_slot, ":var_9", slot_party_commander_party, -1),
				(assign, ":value_3", 0),
				(assign, ":value_4", "fac_neutral"),
				(try_for_range, ":number_2", 31, 52),
					(faction_get_slot, ":number_2_num_routed_agents", ":number_2", slot_faction_num_routed_agents),
					(gt, ":number_2_num_routed_agents", ":value_3"),
					(assign, ":value_3", ":number_2_num_routed_agents"),
					(assign, ":value_4", ":number_2"),
				(try_end),
				(party_set_faction, ":var_9", ":value_4"),
				(party_set_ai_behavior, ":var_9", 1),
				(assign, ":value_5", 1000000),
				(try_for_parties, ":var_15"),
					(party_is_active, ":var_15"),
					(party_get_slot, ":var_15_type", ":var_15", slot_party_type),
					(this_or_next|eq, ":var_15_type", 3),
					(eq, ":var_15_type", 2),
					(store_faction_of_party, ":number_2", ":var_15"),
					(this_or_next|eq, ":value_4", "fac_neutral"),
					(eq, ":number_2", ":value_4"),
					(party_get_position, 1, ":var_15"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_var_15_main_party", ":var_15", "p_main_party"),
					(try_begin),
						(lt, ":distance_to_party_from_party_var_15_main_party", ":value_5"),
						(assign, ":value_5", ":distance_to_party_from_party_var_15_main_party"),
						(assign, ":var_18", ":var_15"),
					(try_end),
				(try_end),
				(party_get_position, 1, "p_main_party"),
				(party_get_position, 2, ":var_18"),
				(assign, ":value_5", 1000000),
				(try_for_range, ":unused", 0, 10),
					(map_get_random_position_around_position, 3, 1, 2),
					(get_distance_between_positions, ":distance_to_party_from_party_var_15_main_party", 2, 3),
					(try_begin),
						(lt, ":distance_to_party_from_party_var_15_main_party", ":value_5"),
						(assign, ":value_5", ":distance_to_party_from_party_var_15_main_party"),
						(copy_position, 63, 3),
					(try_end),
				(try_end),
				(party_set_position, ":var_9", 63),
				(party_set_ai_object, ":var_9", ":var_18"),
				(party_set_flags, ":var_9", 65536, 1),
				(party_clear, ":var_9"),
				(party_get_num_companion_stacks, ":num_companion_stacks_routed_enemies", "p_routed_enemies"),
				(try_for_range, ":number", 0, ":num_companion_stacks_routed_enemies"),
					(party_stack_get_troop_id, ":party_stack_troop_id_routed_enemies_value_2", "p_routed_enemies", ":number"),
					(try_begin),
						(neg|troop_is_hero, ":party_stack_troop_id_routed_enemies_value_2"),
						(party_stack_get_size, ":party_stack_size_routed_enemies_value_2", "p_routed_enemies", ":number"),
						(party_add_members, ":var_9", ":party_stack_troop_id_routed_enemies_value_2", ":party_stack_size_routed_enemies_value_2"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("cf_training_ground_sub_routine_1_for_melee_details",
		[
			(store_script_param, ":script_param_1", 1),
			(ge, "$temp_3", ":script_param_1"),
			(val_add, ":script_param_1", 1),
			(troop_get_slot, ":stack_selection_ids_script_param_1", "trp_stack_selection_ids", ":script_param_1"),
			(str_store_troop_name, 0, ":stack_selection_ids_script_param_1")
		]),

	("training_ground_sub_routine_2_for_melee_details",
		[
			(store_script_param, ":script_param_1", 1),
			(val_sub, ":script_param_1", 1),
			(try_begin),
				(lt, ":script_param_1", 0),
				(call_script, "script_remove_random_fit_party_member_from_stack_selection"),
			(else_try),
				(call_script, "script_remove_fit_party_member_from_stack_selection", ":script_param_1"),
			(try_end),
			(assign, ":var_2", reg0),
			(store_sub, ":value", "$temp_2", 1),
			(troop_set_slot, "trp_temp_array_a", ":value", ":var_2"),
			(try_begin),
				(eq, "$temp", "$temp_2"),
				(call_script, "script_start_training_at_training_ground", -1, "$temp"),
			(else_try),
				(val_add, "$temp_2", 1),
				(jump_to_menu, "mnu_training_ground_selection_details_melee_2"),
			(try_end)
		]),

	("cf_training_ground_sub_routine_for_training_result",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_character_level, ":character_level_script_param_1", ":script_param_1"),
			(store_add, ":value", ":character_level_script_param_1", 5),
			(store_mul, ":value_2", ":value", 3),
			(val_min, ":value_2", 100),
			(store_sub, ":value_3", ":value_2", "$g_training_ground_training_hardness"),
			(val_max, ":value_3", 0),
			(store_sub, ":value_3", 100, ":value_3"),
			(val_mul, ":value_3", ":value_3"),
			(val_div, ":value_3", 10),
			(store_mul, ":value_4", ":script_param_4", ":value_3"),
			(val_div, ":value_4", 1000),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(val_mul, ":value_4", 1),
			(else_try),
				(try_begin),
					(eq, "$g_mt_mode", 1),
					(try_begin),
						(this_or_next|troop_is_guarantee_ranged, ":script_param_1"),
						(troop_is_guarantee_horse, ":script_param_1"),
						(val_div, ":value_4", 4),
					(try_end),
				(else_try),
					(eq, "$g_mt_mode", 3),
					(try_begin),
						(neg|troop_is_guarantee_horse, ":script_param_1"),
						(assign, ":value_4", 0),
					(try_end),
				(else_try),
					(neg|troop_is_guarantee_ranged, ":script_param_1"),
					(assign, ":value_4", 0),
				(try_end),
			(try_end),
			(val_add, ":character_level_script_param_1", 1),
			(store_mul, ":value_5", 100, ":character_level_script_param_1"),
			(val_mul, ":value_5", ":script_param_3"),
			(val_div, ":value_5", 20),
			(val_mul, ":value_5", ":value_4"),
			(val_div, ":value_5", 1000),
			(store_mul, ":value_6", ":value_5", 3),
			(val_div, ":value_6", 2),
			(store_div, ":value_7", ":value_5", 2),
			(store_random_in_range, ":random_in_range_value_7_value_6", ":value_7", ":value_6"),
			(gt, ":random_in_range_value_7_value_6", 0),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
				(add_xp_to_troop, ":random_in_range_value_7_value_6", ":script_param_1"),
				(store_div, ":value_8", ":random_in_range_value_7_value_6", 50),
				(try_begin),
					(gt, ":value_8", 0),
					(troop_raise_proficiency, ":script_param_1", "$g_training_ground_used_weapon_proficiency", ":value_8"),
				(try_end),
			(else_try),
				(party_add_xp_to_stack, "p_main_party", ":script_param_2", ":random_in_range_value_7_value_6"),
			(try_end),
			(assign, reg0, ":random_in_range_value_7_value_6")
		]),

	("print_troop_owned_centers_in_numbers_to_s0",
		[
			(store_script_param_1, ":script_param_1"),
			(str_store_string, 0, "@nothing"),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(try_for_range_backwards, ":var_5", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":var_5", slot_town_lord, ":script_param_1"),
				(try_begin),
					(party_slot_eq, ":var_5", slot_party_type, 3),
					(val_add, ":var_2", 1),
				(else_try),
					(party_slot_eq, ":var_5", slot_party_type, 2),
					(val_add, ":var_3", 1),
				(else_try),
					(val_add, ":var_4", 1),
				(try_end),
			(try_end),
			(assign, ":var_6", 0),
			(try_begin),
				(gt, ":var_4", 0),
				(assign, reg0, ":var_4"),
				(store_sub, reg1, reg0, 1),
				(str_store_string, 0, "@{reg0} village{reg1?s:}"),
				(val_add, ":var_6", 1),
			(try_end),
			(try_begin),
				(gt, ":var_3", 0),
				(assign, reg0, ":var_3"),
				(store_sub, reg1, reg0, 1),
				(try_begin),
					(eq, ":var_6", 0),
					(str_store_string, 0, "@{reg0} castle{reg1?s:}"),
				(else_try),
					(str_store_string, 0, "@{reg0} castle{reg1?s:} and {s0}"),
				(try_end),
				(val_add, ":var_6", 1),
			(try_end),
			(try_begin),
				(gt, ":var_2", 0),
				(assign, reg0, ":var_2"),
				(store_sub, reg1, reg0, 1),
				(try_begin),
					(eq, ":var_6", 0),
					(str_store_string, 0, "@{reg0} town{reg1?s:}"),
				(else_try),
					(eq, ":var_6", 1),
					(str_store_string, 0, "@{reg0} town{reg1?s:} and {s0}"),
				(else_try),
					(str_store_string, 0, "@{reg0} town{reg1?s:}, {s0}"),
				(try_end),
			(try_end),
			(store_add, reg0, ":var_4", ":var_3"),
			(val_add, reg0, ":var_2")
		]),

	("get_random_melee_training_weapon",
		[
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(store_random_in_range, ":random_in_range_0_3", 0, 3),
			(try_begin),
				(eq, ":random_in_range_0_3", 0),
				(assign, ":value", "itm_practice_staff"),
			(else_try),
				(eq, ":random_in_range_0_3", 1),
				(assign, ":value", "itm_practice_sword"),
				(assign, ":value_2", "itm_practice_shield"),
			(else_try),
				(assign, ":value", "itm_practice_sword_heavy"),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2")
		]),

	("start_training_at_training_ground",
		[
			(val_add, "$g_training_ground_training_count", 1),
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(set_jump_mission, "mt_training_ground_training"),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(assign, "$scene_num_total_gourds_destroyed", 0),
			(try_begin),
				(eq, ":script_param_1", 8),
				(assign, "$g_training_ground_used_weapon_proficiency", 3),
				(assign, ":value", "itm_practice_bow"),
				(try_begin),
					(eq, "$g_mt_mode", 3),
					(assign, ":value_2", "itm_practice_arrows_100_amount"),
				(else_try),
					(assign, ":value_2", "itm_practice_arrows_10_amount"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 9),
				(assign, "$g_training_ground_used_weapon_proficiency", 4),
				(assign, ":value", "itm_practice_crossbow"),
				(assign, ":value_2", "itm_practice_bolts_9_amount"),
			(else_try),
				(eq, ":script_param_1", 10),
				(assign, "$g_training_ground_used_weapon_proficiency", 5),
				(try_begin),
					(eq, "$g_mt_mode", 3),
					(assign, ":value_2", "itm_practice_throwing_daggers_100_amount"),
				(else_try),
					(assign, ":value_2", "itm_practice_throwing_daggers"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 2),
				(assign, "$g_training_ground_used_weapon_proficiency", 0),
				(assign, ":value", "itm_practice_sword"),
			(else_try),
				(eq, ":script_param_1", 4),
				(assign, "$g_training_ground_used_weapon_proficiency", 2),
				(assign, ":value", "itm_practice_lance"),
			(else_try),
				(assign, "$g_training_ground_used_weapon_proficiency", 0),
				(call_script, "script_get_random_melee_training_weapon"),
				(assign, ":value", reg0),
				(assign, ":value_2", reg1),
			(try_end),
			(try_begin),
				(eq, "$g_mt_mode", 3),
				(assign, ":value_3", "itm_practice_horse"),
				(store_add, "$g_training_ground_training_scene", "scn_training_ground_horse_track_1", "$g_encountered_party"),
				(val_sub, "$g_training_ground_training_scene", "p_training_ground_1"),
			(else_try),
				(store_add, "$g_training_ground_training_scene", "scn_training_ground_ranged_melee_1", "$g_encountered_party"),
				(val_sub, "$g_training_ground_training_scene", "p_training_ground_1"),
			(try_end),
			(modify_visitors_at_site, "$g_training_ground_training_scene"),
			(reset_visitors),
			(set_visitor, 0, "trp_player"),
			(assign, ":value_4", -1),
			(try_for_range, ":number", 0, 4),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(ge, ":inventory_slot_player_number", 0),
				(item_get_type, ":type_inventory_slot_player_number", ":inventory_slot_player_number"),
				(try_begin),
					(eq, ":type_inventory_slot_player_number", ":script_param_1"),
					(eq, ":value_4", -1),
					(assign, ":value_4", ":inventory_slot_player_number"),
				(try_end),
			(try_end),
			(mission_tpl_entry_clear_override_items, "mt_training_ground_training", 0),
			(mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, "itm_practice_boots"),
			(try_begin),
				(ge, ":value", 0),
				(try_begin),
					(ge, ":value_4", 0),
					(mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":value_4"),
				(else_try),
					(mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":value"),
				(try_end),
			(try_end),
			(try_begin),
				(ge, ":value_2", 0),
				(mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":value_2"),
			(try_end),
			(try_begin),
				(ge, ":value_3", 0),
				(mission_tpl_entry_add_override_item, "mt_training_ground_training", 0, ":value_3"),
			(try_end),
			(assign, ":value_5", 5),
			(troop_get_slot, ":stack_selection_amounts_1", "trp_stack_selection_amounts", 1),
			(store_add, ":value_6", 5, ":stack_selection_amounts_1"),
			(val_min, ":value_6", 13),
			(try_for_range, ":value_5", 5, ":value_6"),
				(call_script, "script_remove_random_fit_party_member_from_stack_selection"),
				(set_visitor, ":value_5", reg0),
				(val_add, ":value_5", 1),
			(try_end),
			(try_begin),
				(eq, "$g_mt_mode", 1),
				(assign, ":var_13", 0),
				(try_for_range, ":number_2", 0, ":script_param_2"),
					(troop_get_slot, ":temp_array_a_number_2", "trp_temp_array_a", ":number_2"),
					(store_add, ":value_7", ":number_2", 1),
					(set_visitor, ":value_7", ":temp_array_a_number_2"),
					(mission_tpl_entry_clear_override_items, "mt_training_ground_training", ":value_7"),
					(mission_tpl_entry_add_override_item, "mt_training_ground_training", ":value_7", "itm_practice_boots"),
					(call_script, "script_get_random_melee_training_weapon"),
					(mission_tpl_entry_add_override_item, "mt_training_ground_training", ":value_7", reg0),
					(try_begin),
						(ge, reg1, 0),
						(mission_tpl_entry_add_override_item, "mt_training_ground_training", ":value_7", reg1),
					(try_end),
					(store_character_level, ":character_level_temp_array_a_number_2", ":temp_array_a_number_2"),
					(val_add, ":character_level_temp_array_a_number_2", 10),
					(val_mul, ":character_level_temp_array_a_number_2", ":character_level_temp_array_a_number_2"),
					(val_add, ":var_13", ":character_level_temp_array_a_number_2"),
				(try_end),
				(assign, "$g_training_ground_training_num_enemies", ":script_param_2"),
				(assign, "$g_training_ground_training_hardness", ":var_13"),
				(store_add, ":value_8", "$g_training_ground_training_num_enemies", 4),
				(val_mul, "$g_training_ground_training_hardness", ":value_8"),
				(val_div, "$g_training_ground_training_hardness", 2400),
				(str_store_string, 0, "@Your opponents are ready for the fight."),
			(else_try),
				(eq, "$g_mt_mode", 3),
				(try_begin),
					(eq, ":script_param_1", 8),
					(assign, "$g_training_ground_training_hardness", 350),
					(assign, "$g_training_ground_training_num_gourds_to_destroy", 30),
				(else_try),
					(eq, ":script_param_1", 10),
					(assign, "$g_training_ground_training_hardness", 400),
					(assign, "$g_training_ground_training_num_gourds_to_destroy", 30),
				(else_try),
					(eq, ":script_param_1", 2),
					(assign, "$g_training_ground_training_hardness", 200),
					(assign, "$g_training_ground_training_num_gourds_to_destroy", 45),
				(else_try),
					(eq, ":script_param_1", 4),
					(assign, "$g_training_ground_training_hardness", 280),
					(assign, "$g_training_ground_training_num_gourds_to_destroy", 35),
				(try_end),
				(str_store_string, 0, "@Try to destroy as many targets as you can. You have two and a half minutes to clear the track."),
			(else_try),
				(eq, "$g_mt_mode", 2),
				(store_mul, "$g_training_ground_ranged_distance", ":script_param_2", 100),
				(assign, ":var_19", ":script_param_2"),
				(val_mul, ":var_19", ":var_19"),
				(try_begin),
					(eq, ":script_param_1", 8),
					(val_mul, ":var_19", 3),
					(val_div, ":var_19", 2),
				(else_try),
					(eq, ":script_param_1", 10),
					(val_mul, ":var_19", 5),
					(val_div, ":var_19", 2),
					(val_mul, ":var_19", ":script_param_2"),
					(val_div, ":var_19", 2),
				(try_end),
				(store_mul, "$g_training_ground_training_hardness", 100, ":var_19"),
				(val_div, "$g_training_ground_training_hardness", 6000),
				(str_store_string, 0, "@Stay behind the line on the ground and shoot the targets. Try not to waste any shots."),
			(try_end),
			(jump_to_menu, "mnu_training_ground_description")
		]),

	("party_count_fit_regulars",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, reg0, 0),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
				(val_sub, ":party_stack_size_script_param_1_number", ":party_stack_num_wounded_script_param_1_number"),
				(val_add, reg0, ":party_stack_size_script_param_1_number"),
			(try_end)
		]),

	("party_count_fit_for_battle",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, reg0, 0),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(assign, ":value", 0),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
					(try_begin),
						(neg|troop_is_wounded, ":party_stack_troop_id_script_param_1_number"),
						(assign, ":value", 1),
					(try_end),
				(else_try),
					(party_stack_get_size, ":value", ":script_param_1", ":number"),
					(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
					(val_sub, ":value", ":party_stack_num_wounded_script_param_1_number"),
				(try_end),
				(val_add, reg0, ":value"),
			(try_end)
		]),

	("party_count_members_with_full_health",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, reg0, 0),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neq, ":party_stack_troop_id_script_param_1_number", "trp_player"),
				(assign, ":value", 0),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
					(store_troop_health, ":troop_health_party_stack_troop_id_script_param_1_number", ":party_stack_troop_id_script_param_1_number"),
					(try_begin),
						(ge, ":troop_health_party_stack_troop_id_script_param_1_number", 80),
						(assign, ":value", 1),
					(try_end),
				(else_try),
					(party_stack_get_size, ":value", ":script_param_1", ":number"),
					(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
					(val_sub, ":value", ":party_stack_num_wounded_script_param_1_number"),
					(val_max, ":value", 0),
				(try_end),
				(val_add, reg0, ":value"),
			(try_end)
		]),

	("get_stack_with_rank",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, reg0, -1),
			(assign, ":var_4", 0),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(eq, reg0, -1),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
				(val_sub, ":party_stack_size_script_param_1_number", ":party_stack_num_wounded_script_param_1_number"),
				(val_add, ":var_4", ":party_stack_size_script_param_1_number"),
				(try_begin),
					(lt, ":script_param_2", ":var_4"),
					(assign, reg0, ":number"),
				(try_end),
			(try_end)
		]),

	("inflict_casualties_to_party",
		[
			(party_clear, "p_temp_casualties"),
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_party_count_fit_regulars", ":script_param_1"),
			(assign, ":var_2", reg0),
			(store_script_param_2, ":script_param_2"),
			(try_for_range, ":unused", 0, ":script_param_2"),
				(gt, ":var_2", 0),
				(store_random_in_range, ":random_in_range_0_var_2", 0, ":var_2"),
				(assign, reg1, ":random_in_range_0_var_2"),
				(call_script, "script_get_stack_with_rank", ":script_param_1", ":random_in_range_0_var_2"),
				(assign, ":var_6", reg0),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_6", ":script_param_1", ":var_6"),
				(store_character_level, ":character_level_party_stack_troop_id_script_param_1_var_6", ":party_stack_troop_id_script_param_1_var_6"),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_var_6", 5),
				(store_div, ":value", ":character_level_party_stack_troop_id_script_param_1_var_6", 5),
				(val_mul, ":value", 10),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_var_6", ":value"),
				(assign, ":var_10", 10000),
				(val_div, ":var_10", ":character_level_party_stack_troop_id_script_param_1_var_6"),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_10000", 0, 10000),
					(lt, ":random_in_range_0_10000", ":var_10"),
					(store_random_in_range, ":random_in_range_0_2", 0, 2),
					(try_begin),
						(troop_is_hero, ":party_stack_troop_id_script_param_1_var_6"),
						(store_troop_health, ":troop_health_party_stack_troop_id_script_param_1_var_6", ":party_stack_troop_id_script_param_1_var_6"),
						(val_sub, ":troop_health_party_stack_troop_id_script_param_1_var_6", 45),
						(val_max, ":troop_health_party_stack_troop_id_script_param_1_var_6", 1),
						(troop_set_health, ":party_stack_troop_id_script_param_1_var_6", ":troop_health_party_stack_troop_id_script_param_1_var_6"),
					(else_try),
						(lt, ":random_in_range_0_2", 1),
						(party_add_members, "p_temp_casualties", ":party_stack_troop_id_script_param_1_var_6", 1),
						(party_wound_members, "p_temp_casualties", ":party_stack_troop_id_script_param_1_var_6", 1),
						(party_wound_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_6", 1),
					(else_try),
						(party_add_members, "p_temp_casualties", ":party_stack_troop_id_script_param_1_var_6", 1),
						(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_6", 1),
					(try_end),
					(val_sub, ":var_2", 1),
				(try_end),
			(try_end)
		]),

	("move_members_with_ratio",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":value", 0, ":num_prisoner_stacks_script_param_1"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_value", ":script_param_1", ":value"),
				(party_prisoner_stack_get_size, ":party_prisoner_stack_size_script_param_1_value", ":script_param_1", ":value"),
				(store_mul, ":value_2", ":party_prisoner_stack_size_script_param_1_value", "$pin_number"),
				(val_div, ":value_2", 1000),
				(party_remove_prisoners, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_1_value", ":value_2"),
				(assign, ":value_3", reg0),
				(party_add_prisoners, ":script_param_2", ":party_prisoner_stack_troop_id_script_param_1_value", ":value_3"),
			(try_end),
			(party_get_num_companion_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":value", 0, ":num_prisoner_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_value", ":script_param_1", ":value"),
				(party_stack_get_size, ":party_prisoner_stack_size_script_param_1_value", ":script_param_1", ":value"),
				(store_mul, ":value_2", ":party_prisoner_stack_size_script_param_1_value", "$pin_number"),
				(val_div, ":value_2", 1000),
				(party_remove_members, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_1_value", ":value_2"),
				(assign, ":value_3", reg0),
				(party_add_members, ":script_param_2", ":party_prisoner_stack_troop_id_script_param_1_value", ":value_3"),
			(try_end)
		]),

	("count_parties_of_faction_and_party_type",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, reg0, 0),
			(try_for_parties, ":var_3"),
				(party_is_active, ":var_3"),
				(party_get_slot, ":var_3_type", ":var_3", slot_party_type),
				(store_faction_of_party, ":faction_of_party_var_3", ":var_3"),
				(eq, ":var_3_type", ":script_param_2"),
				(eq, ":faction_of_party_var_3", ":script_param_1"),
				(val_add, reg0, 1),
			(try_end)
		]),

	("faction_get_number_of_armies",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":script_param_1"),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(party_is_active, ":troop_leaded_party"),
				(call_script, "script_party_count_fit_regulars", ":troop_leaded_party"),
				(assign, ":var_6", reg0),
				(call_script, "script_party_get_ideal_size", ":troop_leaded_party"),
				(assign, ":var_7", reg0),
				(val_mul, ":var_7", 60),
				(val_div, ":var_7", 100),
				(gt, ":var_6", ":var_7"),
				(val_add, ":var_2", 1),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("faction_recalculate_strength",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_faction_get_number_of_armies", ":script_param_1"),
			(assign, ":var_2", reg0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(try_begin),
					(party_slot_eq, ":party", slot_party_type, 2),
					(val_add, ":var_3", 1),
				(else_try),
					(party_slot_eq, ":party", slot_party_type, 3),
					(val_add, ":var_4", 1),
				(try_end),
			(try_end),
			(faction_set_slot, ":script_param_1", slot_faction_num_armies, ":var_2"),
			(faction_set_slot, ":script_param_1", slot_faction_num_castles, ":var_3"),
			(faction_set_slot, ":script_param_1", slot_faction_num_towns, ":var_4")
		]),

	("cf_select_random_town_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(val_add, ":value_2", 1),
			(try_end),
			(gt, ":value_2", 0),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(eq, ":value", -1),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(val_add, ":value_2", 1),
				(gt, ":value_2", ":random_in_range_0_value_2"),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_select_random_village_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(val_add, ":value_2", 1),
			(try_end),
			(gt, ":value_2", 0),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(eq, ":value", -1),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(val_add, ":value_2", 1),
				(gt, ":value_2", ":random_in_range_0_value_2"),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_select_random_walled_center_with_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":var_4", 0),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(val_add, ":var_4", 1),
				(eq, ":party", ":script_param_2"),
				(val_add, ":var_4", 99),
			(try_end),
			(gt, ":var_4", 0),
			(store_random_in_range, ":random_in_range_0_var_4", 0, ":var_4"),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(eq, ":value", -1),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(val_sub, ":random_in_range_0_var_4", 1),
				(try_begin),
					(eq, ":party", ":script_param_2"),
					(val_sub, ":random_in_range_0_var_4", 99),
				(try_end),
				(lt, ":random_in_range_0_var_4", 0),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_select_random_walled_center_with_faction_and_owner_priority_no_siege",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":var_4", 0),
			(call_script, "script_lord_get_home_center", ":script_param_2"),
			(assign, ":var_5", reg0),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
				(val_add, ":var_4", 1),
				(eq, ":var_5", ":party"),
				(val_add, ":var_4", 1000),
			(try_end),
			(gt, ":var_4", 0),
			(assign, "$g_there_is_no_avaliable_centers", 0),
			(try_begin),
				(le, ":var_4", 0),
				(assign, "$g_there_is_no_avaliable_centers", 1),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
					(val_add, ":var_4", 1),
				(try_end),
			(else_try),
				(assign, "$g_there_is_no_avaliable_centers", 0),
			(try_end),
			(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
			(this_or_next|eq, "$g_there_is_no_avaliable_centers", 0),
			(neq, ":script_param_2", ":script_param_1_leader"),
			(store_random_in_range, ":random_in_range_0_var_4", 0, ":var_4"),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(eq, ":value", -1),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(this_or_next|eq, "$g_there_is_no_avaliable_centers", 1),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
				(val_sub, ":random_in_range_0_var_4", 1),
				(try_begin),
					(eq, ":var_5", ":party"),
					(eq, "$g_there_is_no_avaliable_centers", 0),
					(val_sub, ":random_in_range_0_var_4", 1000),
				(try_end),
				(lt, ":random_in_range_0_var_4", 0),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_select_random_walled_center_with_faction_and_less_strength_priority",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":var_4", 0),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
				(val_add, ":var_4", 1),
				(try_begin),
					(eq, ":party", ":script_param_2"),
					(val_add, ":var_4", 99),
				(try_end),
			(try_end),
			(gt, ":var_4", 0),
			(store_random_in_range, ":random_in_range_0_var_4", 0, ":var_4"),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(eq, ":value", -1),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
				(val_sub, ":random_in_range_0_var_4", 1),
				(try_begin),
					(eq, ":party", ":script_param_2"),
					(val_sub, ":random_in_range_0_var_4", 99),
				(try_end),
				(lt, ":random_in_range_0_var_4", 0),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_select_random_town_at_peace_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(store_relation, ":relation_faction_of_party_party_script_param_1", ":faction_of_party_party", ":script_param_1"),
				(ge, ":relation_faction_of_party_party_script_param_1", 0),
				(val_add, ":value_2", 1),
			(try_end),
			(gt, ":value_2", 0),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(eq, ":value", -1),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(store_relation, ":relation_faction_of_party_party_script_param_1", ":faction_of_party_party", ":script_param_1"),
				(ge, ":relation_faction_of_party_party_script_param_1", 0),
				(val_add, ":value_2", 1),
				(gt, ":value_2", ":random_in_range_0_value_2"),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_select_random_town_at_peace_with_faction_in_trade_route",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":var_4", 0),
			(try_for_range, ":number", 190, 205),
				(party_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
				(gt, ":script_param_1_number", 0),
				(store_faction_of_party, ":faction_of_party_script_param_1_number", ":script_param_1_number"),
				(store_relation, ":relation_faction_of_party_script_param_1_number_script_param_2", ":faction_of_party_script_param_1_number", ":script_param_2"),
				(ge, ":relation_faction_of_party_script_param_1_number_script_param_2", 0),
				(val_add, ":var_4", 1),
			(try_end),
			(gt, ":var_4", 0),
			(store_random_in_range, ":random_in_range_0_var_4", 0, ":var_4"),
			(try_for_range, ":number", 190, 205),
				(eq, ":value", -1),
				(party_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
				(gt, ":script_param_1_number", 0),
				(store_faction_of_party, ":faction_of_party_script_param_1_number", ":script_param_1_number"),
				(store_relation, ":relation_faction_of_party_script_param_1_number_script_param_2", ":faction_of_party_script_param_1_number", ":script_param_2"),
				(ge, ":relation_faction_of_party_script_param_1_number_script_param_2", 0),
				(val_sub, ":random_in_range_0_var_4", 1),
				(lt, ":random_in_range_0_var_4", 0),
				(assign, ":value", ":script_param_1_number"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_select_most_profitable_town_at_peace_with_faction_in_trade_route",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(store_sub, ":value_3", 267, "itm_trade_spice"),
			(store_random_in_range, ":random_in_range_0_2", 0, 2),
			(store_random_in_range, ":random_in_range_0_2_2", 0, 2),
			(try_begin),
				(lt, ":script_param_3", 0),
				(assign, ":script_param_3", ":script_param_1"),
			(try_end),
			(try_for_range, ":number", 190, 205),
				(party_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
				(gt, ":script_param_1_number", 0),
				(store_faction_of_party, ":faction_of_party_script_param_1_number", ":script_param_1_number"),
				(store_relation, ":relation_faction_of_party_script_param_1_number_script_param_2", ":faction_of_party_script_param_1_number", ":script_param_2"),
				(ge, ":relation_faction_of_party_script_param_1_number_script_param_2", 0),
				(assign, ":var_13", 0),
				(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
					(neq, ":item", "itm_trade_butter"),
					(neq, ":item", "itm_trade_cattle_meat"),
					(neq, ":item", "itm_trade_chicken"),
					(neq, ":item", "itm_trade_pork"),
					(store_add, ":value_4", ":item", ":value_3"),
					(party_get_slot, ":script_param_1_value_4", ":script_param_1", ":value_4"),
					(party_get_slot, ":script_param_1_number_value_4", ":script_param_1_number", ":value_4"),
					(gt, ":script_param_1_number_value_4", ":script_param_1_value_4"),
					(store_sub, ":value_5", ":script_param_1_number_value_4", ":script_param_1_value_4"),
					(try_begin),
						(this_or_next|eq, ":item", "itm_trade_spice"),
						(eq, ":item", "itm_trade_velvet"),
						(val_mul, ":value_5", 2),
					(try_end),
					(val_add, ":var_13", ":value_5"),
				(try_end),
				(try_begin),
					(this_or_next|neg|faction_slot_eq, "fac_player_supporters_faction", 206, 0),
					(ge, "$g_dplmc_gold_changes", 0),
					(try_begin),
						(ge, ":random_in_range_0_2_2", 1),
						(neq, ":script_param_2", ":faction_of_party_script_param_1_number"),
						(faction_get_slot, ":script_param_2_206", ":script_param_2", 206),
						(val_clamp, ":script_param_2_206", -3, 4),
						(faction_get_slot, ":faction_of_party_script_param_1_number_206", ":faction_of_party_script_param_1_number", 206),
						(val_clamp, ":faction_of_party_script_param_1_number_206", -3, 4),
						(store_sub, ":value_6", 94, ":script_param_2_206"),
						(val_sub, ":value_6", ":faction_of_party_script_param_1_number_206"),
						(val_mul, ":var_13", ":value_6"),
						(val_add, ":var_13", 50),
						(val_div, ":var_13", 100),
					(try_end),
					(try_begin),
						(ge, ":random_in_range_0_2", 1),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_3_script_param_1_number", ":script_param_3", ":script_param_1_number"),
						(val_max, ":distance_to_party_from_party_script_param_3_script_param_1_number", 0),
						(val_add, ":distance_to_party_from_party_script_param_3_script_param_1_number", 12),
						(val_mul, ":var_13", 100),
						(val_div, ":var_13", ":distance_to_party_from_party_script_param_3_script_param_1_number"),
					(try_end),
				(try_end),
				(gt, ":var_13", ":value_2"),
				(assign, ":value_2", ":var_13"),
				(assign, ":value", ":script_param_1_number"),
			(try_end),
			(gt, ":value", -1),
			(assign, reg0, ":value")
		]),

	("cf_select_most_profitable_coastal_town_at_peace_with_faction_in_trade_route",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(store_sub, ":value_3", 267, "itm_trade_spice"),
			(try_for_range, ":number", 190, 205),
				(party_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
				(gt, ":script_param_1_number", 0),
				(party_slot_ge, ":script_param_1_number", 63, 1),
				(store_faction_of_party, ":faction_of_party_script_param_1_number", ":script_param_1_number"),
				(store_relation, ":relation_faction_of_party_script_param_1_number_script_param_2", ":faction_of_party_script_param_1_number", ":script_param_2"),
				(ge, ":relation_faction_of_party_script_param_1_number_script_param_2", 0),
				(assign, ":var_10", 0),
				(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
					(neq, ":item", "itm_trade_butter"),
					(neq, ":item", "itm_trade_cattle_meat"),
					(neq, ":item", "itm_trade_chicken"),
					(neq, ":item", "itm_trade_pork"),
					(store_add, ":value_4", ":item", ":value_3"),
					(party_get_slot, ":script_param_1_value_4", ":script_param_1", ":value_4"),
					(party_get_slot, ":script_param_1_number_value_4", ":script_param_1_number", ":value_4"),
					(gt, ":script_param_1_number_value_4", ":script_param_1_value_4"),
					(store_sub, ":value_5", ":script_param_1_number_value_4", ":script_param_1_value_4"),
					(try_begin),
						(this_or_next|eq, ":item", "itm_trade_spice"),
						(eq, ":item", "itm_trade_velvet"),
						(val_mul, ":value_5", 2),
					(try_end),
					(val_add, ":var_10", ":value_5"),
				(try_end),
				(gt, ":var_10", ":value_2"),
				(assign, ":value_2", ":var_10"),
				(assign, ":value", ":script_param_1_number"),
			(try_end),
			(gt, ":value", -1),
			(assign, reg0, ":value")
		]),

	("shuffle_troop_slots",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_for_range, ":var_4", ":script_param_2", ":script_param_3"),
				(store_random_in_range, ":random_in_range_script_param_2_script_param_3", ":script_param_2", ":script_param_3"),
				(troop_get_slot, ":script_param_1_var_4", ":script_param_1", ":var_4"),
				(troop_get_slot, ":script_param_1_random_in_range_script_param_2_script_param_3", ":script_param_1", ":random_in_range_script_param_2_script_param_3"),
				(troop_set_slot, ":script_param_1", ":var_4", ":script_param_1_random_in_range_script_param_2_script_param_3"),
				(troop_set_slot, ":script_param_1", ":random_in_range_script_param_2_script_param_3", ":script_param_1_var_4"),
			(try_end)
		]),

	("get_quest",
		[
			(store_script_param_1, ":script_param_1"),
			(store_character_level, ":character_level_player", "trp_player"),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(assign, ":value", -1),
			(try_begin),
				(gt, ":script_param_1_leaded_party", 0),
				(party_get_attached_to, ":value", ":script_param_1_leaded_party"),
			(else_try),
				(is_between, "$g_encountered_party", "p_town_1", "p_salt_mine"),
				(assign, ":value", "$g_encountered_party"),
			(try_end),
			(call_script, "script_troop_get_player_relation", ":script_param_1"),
			(assign, ":value_2", reg0),
			(store_relation, ":relation_faction_of_troop_script_param_1_player_faction", ":faction_of_troop_script_param_1", "fac_player_faction"),
			(assign, ":value_3", 0),
			(assign, ":value_4", 0),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(troop_slot_ge, ":script_param_1", 2, 1),
				(neg|troop_slot_ge, ":script_param_1", 2, 11),
				(try_begin),
					(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
					(this_or_next|ge, reg0, 1),
					(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
					(assign, ":value_3", 1),
				(else_try),
					(ge, ":relation_faction_of_troop_script_param_1_player_faction", 0),
					(ge, ":value_2", 50),
					(try_begin),
						(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
						(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
						(troop_slot_eq, ":script_param_1", slot_troop_occupation, 5),
						(neg|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 8),
						(assign, ":value_3", 1),
					(else_try),
						(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", "trp_player"),
						(ge, reg0, 2),
						(assign, ":value_3", 1),
					(try_end),
				(try_end),
				(try_begin),
					(this_or_next|troop_slot_eq, "trp_player", slot_troop_father, ":script_param_1"),
					(this_or_next|troop_slot_eq, "trp_player", slot_troop_mother, ":script_param_1"),
					(this_or_next|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
					(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
					(assign, ":value_4", 1),
				(else_try),
					(troop_get_slot, reg0, ":script_param_1", slot_troop_renown),
					(val_mul, reg0, 3),
					(val_div, reg0, 4),
					(neg|troop_slot_ge, "trp_player", 7, reg0),
					(assign, ":value_4", 1),
				(else_try),
					(troop_get_slot, ":player_spouse", "trp_player", slot_troop_spouse),
					(is_between, ":player_spouse", "trp_npc1", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":player_spouse", slot_troop_father, ":script_param_1"),
					(troop_slot_eq, ":player_spouse", slot_troop_mother, ":script_param_1"),
					(assign, ":value_4", 1),
				(try_end),
			(try_end),
			(try_begin),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(try_begin),
					(ge, "$g_talk_troop_faction_relation", 0),
					(assign, ":value_5", "qst_deliver_message"),
					(assign, ":value_6", "qst_follow_army"),
					(assign, ":value_7", "qst_destroy_bandit_lair"),
					(assign, ":value_8", "qst_beowulf_quest"),
				(else_try),
					(assign, ":value_5", "qst_lend_surgeon"),
					(assign, ":value_6", "qst_follow_army"),
					(assign, ":value_7", 0),
					(assign, ":value_8", 0),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "trp_village_1_elder", "trp_merchants_end"),
				(assign, ":value_5", "qst_deliver_grain"),
				(assign, ":value_6", "qst_eliminate_bandits_infesting_village"),
				(assign, ":value_7", "qst_blank_quest_6"),
				(assign, ":value_8", "qst_blank_quest_6"),
			(else_try),
				(is_between, ":script_param_1", "trp_town_1_mayor", "trp_village_1_elder"),
				(assign, ":value_5", "qst_move_cattle_herd"),
				(assign, ":value_6", "qst_deliver_grain"),
				(assign, ":value_7", "qst_blank_quest_11"),
				(assign, ":value_8", "qst_blank_quest_11"),
			(else_try),
				(assign, ":value_5", "qst_rescue_lord_by_replace"),
				(assign, ":value_6", "qst_move_cattle_herd"),
				(assign, ":value_7", "qst_blank_quest_16"),
				(assign, ":value_8", "qst_blank_quest_16"),
			(try_end),
			(assign, ":value_9", -1),
			(assign, ":value_10", -1),
			(assign, ":value_11", -1),
			(assign, ":value_12", -1),
			(assign, ":value_13", -1),
			(assign, ":value_14", -1),
			(assign, ":value_15", -1),
			(assign, ":value_16", -1),
			(assign, ":value_17", -1),
			(assign, ":value_18", -1),
			(assign, ":value_19", -1),
			(assign, ":value_20", -1),
			(assign, ":value_21", 1),
			(assign, ":value_22", 0),
			(assign, ":value_23", 0),
			(assign, ":value_24", 0),
			(assign, ":value_25", 0),
			(assign, ":value_26", 0),
			(try_begin),
				(call_script, "script_get_dynamic_quest", "$g_talk_troop"),
				(assign, ":value_9", reg0),
				(assign, ":var_34", reg1),
				(assign, ":var_35", reg2),
				(assign, ":var_36", reg3),
				(try_begin),
					(eq, ":value_9", "qst_track_down_bandits"),
					(assign, ":value_16", ":var_35"),
					(assign, ":value_25", 60),
					(assign, ":value_22", 1000),
					(assign, ":value_23", 1000),
				(else_try),
					(eq, ":value_9", "qst_retaliate_for_border_incident"),
					(assign, ":value_10", ":var_34"),
					(assign, ":value_12", ":var_36"),
					(assign, ":value_25", 30),
					(assign, ":value_22", 1000),
					(assign, ":value_23", 1000),
				(else_try),
					(eq, ":value_9", "qst_cause_provocation"),
					(assign, ":value_12", ":var_36"),
					(assign, ":value_25", 30),
					(assign, ":value_26", 50),
					(assign, ":value_22", 1000),
					(assign, ":value_23", 1000),
				(else_try),
					(eq, ":value_9", "qst_destroy_bandit_lair"),
					(assign, ":value_16", ":var_35"),
					(assign, ":value_25", 60),
					(assign, ":value_22", 2700),
					(assign, ":value_23", 1200),
				(else_try),
					(eq, ":value_9", "qst_rescue_prisoner"),
					(assign, ":value_10", ":var_34"),
					(assign, ":value_11", ":var_35"),
					(assign, ":value_25", 30),
					(assign, ":value_26", 5),
					(assign, ":value_22", 1500),
					(assign, ":value_23", 3000),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_9", -1),
				(try_for_range, ":unused", 0, 20),
					(eq, ":value_9", -1),
					(assign, ":value_10", -1),
					(assign, ":value_11", -1),
					(assign, ":value_12", -1),
					(assign, ":value_13", -1),
					(assign, ":value_14", -1),
					(assign, ":value_15", -1),
					(assign, ":value_16", -1),
					(assign, ":value_17", -1),
					(assign, ":value_18", -1),
					(assign, ":value_19", -1),
					(assign, ":value_20", -1),
					(assign, ":value_21", 1),
					(assign, ":value_22", 0),
					(assign, ":value_23", 0),
					(assign, ":value_24", 0),
					(assign, ":value_25", 0),
					(assign, ":value_26", 0),
					(store_sub, ":value_27", ":value_6", ":value_5"),
					(store_sub, ":value_28", ":value_8", ":value_7"),
					(store_add, ":value_29", ":value_27", ":value_28"),
					(store_random_in_range, ":random_in_range_0_value_29", 0, ":value_29"),
					(try_begin),
						(lt, ":random_in_range_0_value_29", ":value_27"),
						(store_random_in_range, ":random_in_range_0_value_29", ":value_5", ":value_6"),
					(else_try),
						(store_random_in_range, ":random_in_range_0_value_29", ":value_7", ":value_8"),
					(try_end),
					(neg|check_quest_active, ":random_in_range_0_value_29"),
					(neg|quest_slot_ge, ":random_in_range_0_value_29", 25, 1),
					(try_begin),
						(eq, ":random_in_range_0_value_29", "qst_deliver_grain"),
						(try_begin),
							(is_between, ":value", "p_village_1", "p_salt_mine"),
							(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_trade_grain"),
							(eq, reg0, 0),
							(neg|party_slot_ge, ":value", 50, 40),
							(assign, ":value_11", ":value"),
							(store_random_in_range, ":value_18", 4, 8),
							(assign, ":value_25", 30),
							(assign, ":value_26", 10),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_escort_scholars"),
						(try_begin),
							(ge, ":character_level_player", 10),
							(is_between, ":value", "p_village_1", "p_salt_mine"),
							(store_random_party_in_range, ":value_11", "p_town_1", "p_castle_1"),
							(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":value", ":value_11"),
							(assign, ":value_23", ":distance_to_party_from_party_value_value_11"),
							(val_add, ":value_23", 25),
							(val_mul, ":value_23", 25),
							(val_div, ":value_23", 20),
							(store_random_in_range, ":value_18", 6, 12),
							(assign, "$escort_scholars_mode", 0),
							(assign, ":value_26", 50),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_hunt_down_smugglers"),
						(try_begin),
							(ge, ":character_level_player", 5),
							(is_between, ":value", "p_village_1", "p_salt_mine"),
							(assign, ":value_30", ":value"),
							(store_faction_of_party, ":faction_of_troop_script_param_1", ":value_30"),
							(call_script, "script_cf_select_random_town_with_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_31", reg0),
							(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":value_31", ":value"),
							(ge, ":distance_to_party_from_party_value_value_11", 20),
							(assign, ":value_17", "pt_smugglers"),
							(assign, ":value_15", ":value_30"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_21", 1),
							(assign, ":value_22", 200),
							(assign, ":value_23", 150),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 20),
							(assign, "$qst_hunt_down_smugglers_num_parties_returned", 0),
							(assign, "$qst_hunt_down_smugglers_num_parties_fleed", 0),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_kidnapped_wife"),
						(is_between, ":value", "p_village_1", "p_salt_mine"),
						(store_faction_of_party, ":faction_of_party_value", ":value"),
						(call_script, "script_cf_select_random_village_with_faction", ":faction_of_party_value"),
						(neq, reg0, ":value"),
						(assign, ":value_11", reg0),
						(assign, ":value_18", 500),
						(assign, ":value_26", 40),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_hunt_down_girl"),
						(try_begin),
							(is_between, ":value", "p_village_1", "p_salt_mine"),
							(store_faction_of_party, ":faction_of_party_value", ":value"),
							(call_script, "script_cf_select_random_village_with_faction", ":faction_of_party_value"),
							(neq, reg0, ":value"),
							(neg|party_slot_eq, reg0, slot_village_state, 2),
							(neg|party_slot_eq, reg0, slot_village_state, 1),
							(assign, ":value_11", reg0),
							(store_random_in_range, ":value_19", 0, 1000000),
							(assign, ":value_25", 10),
							(assign, ":value_26", 40),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deliver_lumber"),
						(try_begin),
							(is_between, ":value", "p_village_1", "p_salt_mine"),
							(call_script, "script_get_troop_item_amount", ":script_param_1", "itm_lumber"),
							(eq, reg0, 0),
							(neg|party_slot_ge, ":value", 50, 40),
							(assign, ":value_11", ":value"),
							(store_random_in_range, ":value_18", 4, 8),
							(assign, ":value_25", 30),
							(assign, ":value_26", 20),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deliver_cattle"),
						(try_begin),
							(is_between, ":value", "p_village_1", "p_salt_mine"),
							(party_get_slot, ":value_village_number_of_cattle", ":value", slot_village_number_of_cattle),
							(lt, ":value_village_number_of_cattle", 50),
							(assign, ":value_11", ":value"),
							(store_random_in_range, ":value_18", 5, 10),
							(assign, ":value_25", 30),
							(assign, ":value_26", 10),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_train_peasants_against_bandits"),
						(try_begin),
							(is_between, ":value", "p_village_1", "p_salt_mine"),
							(store_skill_level, ":skill_level_trainer_player", "skl_trainer", "trp_player"),
							(gt, ":skill_level_trainer_player", 0),
							(store_random_in_range, ":value_18", 5, 8),
							(assign, ":value_11", ":value"),
							(assign, ":value_25", 20),
							(assign, ":value_26", 20),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_escort_merchant_caravan"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(store_random_party_in_range, ":value_11", "p_town_1", "p_castle_1"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":value", ":value_11"),
						(assign, ":value_23", ":distance_to_party_from_party_value_value_11"),
						(val_add, ":value_23", 25),
						(val_mul, ":value_23", 25),
						(val_div, ":value_23", 20),
						(store_random_in_range, ":value_18", 6, 12),
						(assign, "$escort_merchant_caravan_mode", 0),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_cheese_rustlers"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(lt, ":character_level_player", 15),
						(store_character_level, ":value_23", "trp_player"),
						(val_add, ":value_23", 20),
						(val_mul, ":value_23", 35),
						(val_div, ":value_23", 75),
						(val_mul, ":value_23", 10),
						(assign, ":value_25", 30),
						(assign, ":value_26", 30),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_cheese_paladins"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(gt, ":character_level_player", 14),
						(store_character_level, ":value_23", "trp_player"),
						(val_add, ":value_23", 20),
						(val_mul, ":value_23", 35),
						(val_div, ":value_23", 50),
						(val_mul, ":value_23", 10),
						(assign, ":value_25", 30),
						(assign, ":value_26", 30),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_bar_brawl"),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(is_between, ":value", "p_town_1", "p_castle_1"),
							(assign, ":value_21", 1),
							(assign, ":value_22", 300),
							(assign, ":value_23", 500),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 20),
							(assign, ":value_26", 20),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deliver_wine"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(store_random_party_in_range, ":value_11", "p_town_1", "p_castle_1"),
						(store_random_in_range, ":random_in_range_0_2", 0, 2),
						(try_begin),
							(eq, ":random_in_range_0_2", 0),
							(assign, ":value_20", "itm_quest_wine"),
						(else_try),
							(assign, ":value_20", "itm_quest_ale"),
						(try_end),
						(store_random_in_range, ":value_18", 6, 12),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":value", ":value_11"),
						(assign, ":value_23", ":distance_to_party_from_party_value_value_11"),
						(val_add, ":value_23", 2),
						(assign, ":var_49", 5),
						(val_add, ":var_49", ":value_18"),
						(val_mul, ":value_23", ":var_49"),
						(val_div, ":value_23", 100),
						(val_mul, ":value_23", 10),
						(store_item_value, "$qst_deliver_wine_debt", ":value_20"),
						(val_mul, "$qst_deliver_wine_debt", ":value_18"),
						(val_mul, "$qst_deliver_wine_debt", 6),
						(val_div, "$qst_deliver_wine_debt", 5),
						(assign, ":value_25", 7),
						(assign, ":value_26", 20),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_troublesome_bandits"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(store_character_level, ":value_23", "trp_player"),
						(val_add, ":value_23", 20),
						(val_mul, ":value_23", 35),
						(val_div, ":value_23", 100),
						(val_mul, ":value_23", 10),
						(assign, ":value_25", 30),
						(assign, ":value_26", 20),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_kidnapped_girl"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(store_random_in_range, ":value_11", "p_village_1", "p_salt_mine"),
						(store_character_level, ":value_18"),
						(val_add, ":value_18", 15),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":value", ":value_11"),
						(val_add, ":distance_to_party_from_party_value_value_11", 15),
						(val_mul, ":distance_to_party_from_party_value_value_11", 2),
						(val_mul, ":value_18", ":distance_to_party_from_party_value_value_11"),
						(val_div, ":value_18", 100),
						(val_mul, ":value_18", 10),
						(assign, ":value_23", ":value_18"),
						(val_div, ":value_23", 40),
						(val_mul, ":value_23", 10),
						(assign, ":value_25", 15),
						(assign, ":value_26", 25),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_move_cattle_herd"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(call_script, "script_cf_select_random_town_at_peace_with_faction", ":faction_of_troop_script_param_1"),
						(neq, ":value", reg0),
						(assign, ":value_11", reg0),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":value", ":value_11"),
						(assign, ":value_23", ":distance_to_party_from_party_value_value_11"),
						(val_add, ":value_23", 25),
						(val_mul, ":value_23", 50),
						(val_div, ":value_23", 20),
						(assign, ":value_25", 30),
						(assign, ":value_26", 20),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_persuade_lords_to_make_peace"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(store_faction_of_party, ":faction_of_party_value", ":value"),
						(call_script, "script_cf_faction_get_random_enemy_faction", ":faction_of_party_value"),
						(assign, ":value_32", reg0),
						(call_script, "script_cf_get_random_lord_except_king_with_faction", ":faction_of_party_value"),
						(assign, ":value_33", reg0),
						(call_script, "script_dplmc_get_troop_morality_value", ":value_33", 1),
						(this_or_next|ge, reg0, 1),
						(this_or_next|troop_slot_eq, ":value_33", slot_lord_reputation_type, 2),
						(this_or_next|troop_slot_eq, ":value_33", slot_lord_reputation_type, 3),
						(this_or_next|troop_slot_eq, ":value_33", slot_lord_reputation_type, 1),
						(troop_slot_eq, ":value_33", slot_lord_reputation_type, 5),
						(call_script, "script_cf_get_random_lord_except_king_with_faction", ":value_32"),
						(assign, ":value_10", reg0),
						(call_script, "script_dplmc_get_troop_morality_value", ":value_10", 1),
						(this_or_next|ge, reg0, 1),
						(this_or_next|troop_slot_eq, ":value_10", slot_lord_reputation_type, 2),
						(this_or_next|troop_slot_eq, ":value_10", slot_lord_reputation_type, 3),
						(this_or_next|troop_slot_eq, ":value_10", slot_lord_reputation_type, 1),
						(troop_slot_eq, ":value_10", slot_lord_reputation_type, 5),
						(assign, ":value_14", ":value_33"),
						(assign, ":value_12", ":value_32"),
						(assign, ":value_13", ":faction_of_party_value"),
						(assign, ":value_23", 12000),
						(assign, ":value_24", 7000),
						(assign, ":value_25", 30),
						(assign, ":value_26", 50),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deal_with_looters"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(store_faction_of_party, ":faction_of_party_value", ":value"),
						(store_num_parties_destroyed_by_player, ":num_parties_destroyed_by_player_looters", "pt_looters"),
						(party_template_set_slot, "pt_looters", slot_party_template_num_killed, ":num_parties_destroyed_by_player_looters"),
						(quest_set_slot, ":random_in_range_0_value_29", slot_quest_current_state, 0),
						(quest_set_slot, ":random_in_range_0_value_29", slot_quest_target_party_template, "pt_looters"),
						(assign, ":value_23", 500),
						(assign, ":value_22", 500),
						(assign, ":value_25", 20),
						(assign, ":value_26", 20),
						(try_begin),
							(ge, ":character_level_player", 15),
							(store_sub, ":value_34", ":character_level_player", 14),
							(val_mul, ":value_34", -10),
							(val_add, ":value_34", 500),
							(val_max, ":value_34", 100),
							(store_add, ":value_26", ":character_level_player", 16),
						(try_end),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deal_with_night_bandits"),
						(is_between, ":value", "p_town_1", "p_salt_mine"),
						(party_slot_ge, ":value", 155, 1),
						(assign, ":value_11", ":value"),
						(assign, ":value_25", 4),
						(assign, ":value_26", 15),
						(try_begin),
							(ge, ":character_level_player", 15),
							(store_add, ":value_26", ":character_level_player", 1),
						(try_end),
						(assign, ":value_9", ":random_in_range_0_value_29"),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_rescue_lord_by_replace"),
						(eq, 1, 0),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(ge, ":character_level_player", 5),
							(assign, ":value_35", -1),
							(try_begin),
								(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_father),
								(gt, ":script_param_1_father", 0),
								(troop_slot_ge, ":script_param_1_father", 8, 0),
								(assign, ":value_35", ":script_param_1_father"),
							(try_end),
							(try_begin),
								(eq, ":value_35", -1),
								(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_spouse),
								(gt, ":script_param_1_father", 0),
								(troop_slot_ge, ":script_param_1_father", 8, 0),
								(assign, ":value_35", ":script_param_1_father"),
							(try_end),
							(try_begin),
								(eq, ":value_35", -1),
								(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_guardian),
								(gt, ":script_param_1_father", 0),
								(troop_slot_ge, ":script_param_1_father", 8, 0),
								(assign, ":value_35", ":script_param_1_father"),
							(try_end),
							(try_begin),
								(eq, "$cheat_mode", 1),
								(assign, reg0, ":value_35"),
								(display_message, "str_prisoner_relative_is_reg0"),
							(try_end),
							(gt, ":value_35", -1),
							(call_script, "script_search_troop_prisoner_of_party", ":value_35"),
							(assign, ":value_31", reg0),
							(is_between, ":value_31", "p_town_1", "p_village_1"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_10", ":value_35"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 73),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deliver_message_to_prisoner_lord"),
						(this_or_next|ge, ":value_3", 1),
						(this_or_next|ge, ":value_4", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(ge, ":character_level_player", 5),
							(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_father),
							(try_begin),
								(eq, ":script_param_1_father", 0),
								(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_spouse),
							(try_end),
							(gt, ":script_param_1_father", -1),
							(troop_slot_ge, ":script_param_1_father", 8, 0),
							(call_script, "script_search_troop_prisoner_of_party", ":script_param_1_father"),
							(assign, ":value_31", reg0),
							(is_between, ":value_31", "p_town_1", "p_castle_1"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_10", ":script_param_1_father"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 30),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_duel_for_lady"),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(ge, ":character_level_player", 10),
							(call_script, "script_cf_troop_get_random_enemy_troop_with_occupation", ":script_param_1", 2),
							(assign, ":script_param_1_father", reg0),
							(neg|troop_slot_eq, ":script_param_1", slot_troop_spouse, ":script_param_1_father"),
							(neg|troop_slot_eq, ":script_param_1", slot_troop_father, ":script_param_1_father"),
							(neg|troop_slot_ge, ":script_param_1_father", 8, 0),
							(troop_slot_ge, ":script_param_1_father", 10, 0),
							(neg|troop_slot_eq, ":script_param_1_father", slot_lord_reputation_type, 9),
							(neg|troop_slot_eq, ":script_param_1_father", slot_lord_reputation_type, 21),
							(neg|troop_slot_eq, ":script_param_1_father", slot_lord_reputation_type, 25),
							(neg|troop_slot_eq, ":script_param_1_father", slot_lord_reputation_type, 6),
							(neg|troop_slot_eq, ":script_param_1_father", slot_lord_reputation_type, 7),
							(neg|troop_slot_eq, ":script_param_1_father", slot_lord_reputation_type, 1),
							(assign, ":value_10", ":script_param_1_father"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 50),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_lend_surgeon"),
						(try_begin),
							(eq, "$g_defending_against_siege", 0),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
							(this_or_next|neq, ":script_param_1_lord_reputation_type", 8),
							(lt, reg0, 0),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 2),
							(ge, reg0, 0),
							(neq, ":script_param_1_lord_reputation_type", 2),
							(neq, ":script_param_1_lord_reputation_type", 5),
							(assign, ":value_36", 0),
							(assign, ":value_37", -1),
							(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
							(try_for_range, ":number", 1, ":num_companion_stacks_main_party"),
								(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
								(troop_is_hero, ":party_stack_troop_id_main_party_number"),
								(store_skill_level, ":skill_level_10_party_stack_troop_id_main_party_number", 10, ":party_stack_troop_id_main_party_number"),
								(gt, ":skill_level_10_party_stack_troop_id_main_party_number", ":value_36"),
								(assign, ":value_36", ":skill_level_10_party_stack_troop_id_main_party_number"),
								(assign, ":value_37", ":party_stack_troop_id_main_party_number"),
							(try_end),
							(store_character_level, ":character_level_player_2", "trp_player"),
							(assign, ":var_63", 5),
							(val_div, ":character_level_player_2", 10),
							(val_add, ":var_63", ":character_level_player_2"),
							(ge, ":value_36", ":var_63"),
							(assign, ":value_14", ":value_37"),
							(assign, ":value_21", 1),
							(assign, ":value_22", 10),
							(assign, ":value_23", 10),
							(assign, ":value_26", 50),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_meet_spy_in_enemy_town"),
						(this_or_next|ge, ":value_3", 1),
						(this_or_next|ge, ":value_4", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
							(neq, ":script_param_1_lord_reputation_type", 6),
							(neq, ":script_param_1_lord_reputation_type", 1),
							(call_script, "script_troop_get_player_relation", ":script_param_1"),
							(assign, ":value_2", reg0),
							(gt, ":value_2", 3),
							(call_script, "script_cf_faction_get_random_enemy_faction", ":faction_of_troop_script_param_1"),
							(assign, ":var_64", reg0),
							(store_relation, ":relation_var_64_player_supporters_faction", ":var_64", "fac_player_supporters_faction"),
							(lt, ":relation_var_64_player_supporters_faction", 0),
							(call_script, "script_cf_select_random_town_with_faction", ":var_64"),
							(assign, ":value_31", reg0),
							(call_script, "script_cf_center_get_free_walker", ":value_31"),
							(assign, ":value_11", ":value_31"),
							(store_random_in_range, ":value_18", "str_secret_sign_1", "str_countersign_1"),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_23", 500),
							(assign, ":value_25", 30),
							(assign, ":value_26", 50),
							(quest_set_slot, "qst_meet_spy_in_enemy_town", slot_quest_gold_reward, 500),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_raid_caravan_to_start_war"),
						(eq, 1, 0),
						(try_begin),
							(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
							(lt, reg0, 1),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 8),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 4),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 2),
							(eq, ":script_param_1_lord_reputation_type", 5),
							(gt, ":character_level_player", 10),
							(eq, 1, 0),
							(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
							(call_script, "script_cf_faction_get_random_friendly_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_12", reg0),
							(store_faction_of_troop, ":value_13", ":script_param_1"),
							(try_begin),
								(eq, "$troop_trees", "trp_troop_tree_0"),
								(assign, ":value_17", "pt_kingdom_caravan_party"),
							(else_try),
								(eq, "$troop_trees", "trp_troop_tree_1"),
								(assign, ":value_17", "pt_kingdom_caravan_party_r"),
							(else_try),
								(eq, "$troop_trees", "trp_troop_tree_2"),
								(assign, ":value_17", "pt_kingdom_caravan_party_e"),
							(try_end),
							(assign, ":value_18", 2),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 100),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deliver_message"),
						(this_or_next|ge, ":value_3", 1),
						(this_or_next|ge, ":value_4", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(store_character_level, reg0, ":script_param_1"),
							(val_max, reg0, 20),
							(lt, ":character_level_player", reg0),
							(troop_get_slot, reg0, ":script_param_1", slot_troop_renown),
							(val_div, reg0, 2),
							(val_max, reg0, 125),
							(call_script, "script_cf_get_random_lord_in_a_center_with_faction", ":faction_of_troop_script_param_1"),
							(assign, ":script_param_1_father", reg0),
							(neq, ":script_param_1_father", ":script_param_1"),
							(call_script, "script_get_troop_attached_party", ":script_param_1_father"),
							(assign, ":value_31", reg0),
							(neq, ":value", ":value_31"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_10", ":script_param_1_father"),
							(assign, ":value_22", 30),
							(assign, ":value_23", 40),
							(assign, ":value_26", 10),
							(try_begin),
								(this_or_next|troop_slot_ge, "trp_player", 7, 125),
								(ge, ":character_level_player", 20),
								(assign, ":value_26", ":character_level_player"),
								(val_clamp, ":value_26", 10, 61),
							(try_end),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 30),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_escort_lady"),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(ge, ":character_level_player", 10),
							(is_between, ":value_33", "trp_knight_1_1_wife", "trp_heroes_end"),
							(troop_get_slot, ":script_param_1", ":value_33", slot_troop_father),
							(gt, ":script_param_1", -1),
							(store_random_in_range, ":random_in_range_0_2", 0, 2),
							(try_begin),
								(this_or_next|eq, ":value_33", 0),
								(eq, ":random_in_range_0_2", 0),
								(troop_get_slot, ":script_param_1_spouse", ":script_param_1", slot_troop_spouse),
								(gt, ":script_param_1_spouse", 0),
								(assign, ":value_33", ":script_param_1_spouse"),
							(try_end),
							(gt, ":value_33", 0),
							(call_script, "script_dplmc_store_troop_is_female", ":value_33"),
							(assign, ":var_67", reg0),
							(neq, ":var_67", 0),
							(gt, ":value", 0),
							(troop_slot_eq, ":value_33", slot_troop_cur_center, ":value"),
							(call_script, "script_cf_select_random_town_with_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_31", reg0),
							(neq, ":value_31", ":value"),
							(hero_can_join),
							(assign, ":value_14", ":value_33"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_25", 20),
							(assign, ":value_26", 30),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deliver_message_to_enemy_lord"),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(ge, ":character_level_player", 5),
							(call_script, "script_cf_get_random_lord_from_another_faction_in_a_center", ":faction_of_troop_script_param_1"),
							(assign, ":script_param_1_father", reg0),
							(call_script, "script_get_troop_attached_party", ":script_param_1_father"),
							(assign, ":value_11", reg0),
							(assign, ":value_10", ":script_param_1_father"),
							(assign, ":value_21", 1),
							(assign, ":value_22", 200),
							(try_begin),
								(ge, ":character_level_player", 26),
								(store_sub, ":value_22", 25, ":character_level_player"),
								(val_add, ":value_22", 200),
								(val_max, ":value_22", 50),
							(try_end),
							(assign, ":value_23", 0),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 40),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_deal_with_bandits_at_lords_village"),
						(try_begin),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
							(ge, reg0, 0),
							(neq, ":script_param_1_lord_reputation_type", 5),
							(neq, ":script_param_1_lord_reputation_type", 2),
							(ge, "$g_talk_troop_faction_relation", 0),
							(assign, ":value_38", "p_salt_mine"),
							(assign, ":value_31", -1),
							(try_for_range, ":party", "p_village_1", ":value_38"),
								(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
								(party_slot_eq, ":party", slot_village_infested_by_bandits, 1),
								(party_slot_eq, ":party", slot_village_state, 0),
								(assign, ":value_31", ":party"),
								(assign, ":value_38", 0),
							(try_end),
							(ge, ":value_31", 0),
							(neg|check_quest_active, "qst_eliminate_bandits_infesting_village"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 30),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_raise_troops"),
						(try_begin),
							(neq, ":script_param_1_lord_reputation_type", 1),
							(assign, ":value_39", ":faction_of_troop_script_param_1"),
							(try_begin),
								(eq, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
								(assign, ":value_39", "$g_player_culture"),
								(neg|is_between, ":value_39", "fac_kingdom_1", "fac_kingdoms_end"),
								(troop_get_slot, ":value_39", ":script_param_1", slot_troop_original_faction),
							(try_end),
							(is_between, ":value_39", "fac_kingdom_1", "fac_kingdoms_end"),
							(ge, "$g_talk_troop_faction_relation", 0),
							(store_character_level, ":character_level_player_2", "trp_player"),
							(gt, ":character_level_player_2", 5),
							(troop_slot_ge, "trp_player", 7, 100),
							(store_random_in_range, ":value_18", 5, 8),
							(party_get_free_companions_capacity, ":free_companions_capacity_main_party", "p_main_party"),
							(le, ":value_18", ":free_companions_capacity_main_party"),
							(faction_get_slot, ":value_14", ":faction_of_troop_script_param_1", slot_faction_quick_battle_tier_1_infantry),
							(store_random_in_range, ":random_in_range_20_40", 20, 40),
							(val_add, ":random_in_range_20_40", ":character_level_player_2"),
							(val_div, ":random_in_range_20_40", 10),
							(store_mul, ":value_23", ":value_18", 10),
							(assign, ":value_10", ":value_14"),
							(try_for_range, ":unused", 0, ":random_in_range_20_40"),
								(troop_get_upgrade_troop, ":upgrade_troop_value_10_0", ":value_10", 0),
								(gt, ":upgrade_troop_value_10_0", 0),
								(assign, ":value_10", ":upgrade_troop_value_10_0"),
								(val_mul, ":value_23", 7),
								(val_div, ":value_23", 4),
							(try_end),
							(assign, ":value_22", ":value_23"),
							(val_mul, ":value_22", 3),
							(val_div, ":value_22", 10),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 120),
							(assign, ":value_26", 15),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_collect_taxes"),
						(this_or_next|ge, ":value_3", 1),
						(this_or_next|ge, ":value_4", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(neq, ":script_param_1_lord_reputation_type", 9),
							(neg|is_between, ":script_param_1_lord_reputation_type", 21, 24),
							(neq, ":script_param_1_lord_reputation_type", 25),
							(neq, ":script_param_1_lord_reputation_type", 6),
							(neq, ":script_param_1_lord_reputation_type", 7),
							(ge, "$g_talk_troop_faction_relation", 0),
							(call_script, "script_cf_troop_get_random_leaded_town_or_village_except_center", ":script_param_1", ":value"),
							(assign, ":value_11", reg0),
							(assign, ":value_21", 1),
							(assign, ":value_23", 0),
							(assign, ":value_22", 100),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 50),
							(assign, ":value_26", 20),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_hunt_down_fugitive"),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(call_script, "script_cf_select_random_village_with_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_11", reg0),
							(store_random_in_range, ":value_19", 0, 1000000),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 30),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_kill_local_merchant"),
						(this_or_next|ge, ":value_3", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
							(lt, reg0, 1),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
							(this_or_next|neq, ":script_param_1_lord_reputation_type", 8),
							(lt, reg0, 1),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 24),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 8),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 2),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 4),
							(eq, ":script_param_1_lord_reputation_type", 5),
							(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
							(ge, "$g_talk_troop_faction_relation", 0),
							(gt, ":character_level_player", 5),
							(is_between, ":value", "p_town_1", "p_castle_1"),
							(assign, ":value_21", 1),
							(assign, ":value_22", 300),
							(assign, ":value_23", 1000),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 10),
							(assign, ":value_26", 30),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_bring_back_runaway_serfs"),
						(try_begin),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
							(lt, reg0, 1),
							(neq, ":script_param_1_lord_reputation_type", 9),
							(neg|is_between, ":script_param_1_lord_reputation_type", 21, 24),
							(neq, ":script_param_1_lord_reputation_type", 25),
							(neq, ":script_param_1_lord_reputation_type", 6),
							(neq, ":script_param_1_lord_reputation_type", 7),
							(ge, "$g_talk_troop_faction_relation", 0),
							(ge, ":character_level_player", 5),
							(gt, ":value", 0),
							(eq, "$g_defending_against_siege", 0),
							(assign, ":value_30", -1),
							(try_for_range, ":party", "p_village_1", "p_salt_mine"),
								(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
								(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":party", ":value"),
								(lt, ":distance_to_party_from_party_value_value_11", 25),
								(assign, ":value_30", ":party"),
							(try_end),
							(ge, ":value_30", 0),
							(call_script, "script_cf_select_random_town_with_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_31", reg0),
							(neq, ":value_31", ":value"),
							(store_distance_to_party_from_party, ":distance_to_party_from_party_value_value_11", ":value_31", ":value"),
							(ge, ":distance_to_party_from_party_value_value_11", 20),
							(try_begin),
								(eq, "$troop_trees", "trp_troop_tree_0"),
								(assign, ":value_17", "pt_runaway_serfs"),
							(else_try),
								(eq, "$troop_trees", "trp_troop_tree_1"),
								(assign, ":value_17", "pt_runaway_serfs_r"),
							(else_try),
								(eq, "$troop_trees", "trp_troop_tree_2"),
								(assign, ":value_17", "pt_runaway_serfs_e"),
							(try_end),
							(assign, ":value_15", ":value_30"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_21", 1),
							(assign, ":value_22", 200),
							(assign, ":value_23", 150),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 20),
							(assign, "$qst_bring_back_runaway_serfs_num_parties_returned", 0),
							(assign, "$qst_bring_back_runaway_serfs_num_parties_fleed", 0),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_follow_spy"),
						(this_or_next|ge, ":value_3", 1),
						(this_or_next|ge, ":value_4", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(this_or_next|lt, reg0, 0),
							(this_or_next|eq, ":script_param_1_lord_reputation_type", 24),
							(neg|is_between, ":script_param_1_lord_reputation_type", 21, 26),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
							(lt, reg0, 1),
							(this_or_next|lt, reg0, 0),
							(neq, ":script_param_1_lord_reputation_type", 10),
							(neq, ":script_param_1_lord_reputation_type", 9),
							(neq, ":script_param_1_lord_reputation_type", 6),
							(party_get_skill_level, ":skill_level_main_party_tracking", "p_main_party", "skl_tracking"),
							(ge, ":skill_level_main_party_tracking", 2),
							(ge, ":character_level_player", 10),
							(eq, "$g_defending_against_siege", 0),
							(gt, ":script_param_1_leaded_party", 0),
							(gt, ":value", 0),
							(party_slot_eq, "$g_encountered_party", slot_party_type, 3),
							(party_get_position, 2, "p_main_party"),
							(assign, ":value_40", 99999),
							(assign, ":value_30", -1),
							(try_for_range, ":unused_2", 0, 10),
								(call_script, "script_cf_get_random_enemy_center", ":script_param_1_leaded_party"),
								(assign, ":var_77", reg0),
								(party_get_position, 3, ":var_77"),
								(map_get_random_position_around_position, 4, 3, 6),
								(get_distance_between_positions, ":distance_between_positions_2_4", 2, 4),
								(lt, ":distance_between_positions_2_4", ":value_40"),
								(assign, ":value_40", ":distance_between_positions_2_4"),
								(assign, ":value_30", ":var_77"),
								(copy_position, 63, 4),
							(try_end),
							(gt, ":value_30", 0),
							(assign, ":value_15", ":value_30"),
							(assign, ":value_26", 50),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, "$qst_follow_spy_run_away", 0),
							(assign, "$qst_follow_spy_meeting_state", 0),
							(assign, "$qst_follow_spy_meeting_counter", 0),
							(assign, "$qst_follow_spy_spy_back_in_town", 0),
							(assign, "$qst_follow_spy_partner_back_in_town", 0),
							(assign, "$qst_follow_spy_no_active_parties", 0),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_capture_enemy_hero"),
						(try_begin),
							(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
							(this_or_next|ge, ":value_3", 1),
							(this_or_next|ge, ":value_4", 1),
							(neg|faction_slot_eq, "$players_kingdom", slot_faction_marshall, "trp_player"),
							(ge, ":character_level_player", 15),
							(call_script, "script_cf_faction_get_random_enemy_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_12", reg0),
							(assign, ":value_25", 30),
							(assign, ":value_26", 30),
							(assign, ":value_23", 2000),
							(assign, ":value_9", ":random_in_range_0_value_29"),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_lend_companion"),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(assign, ":value_41", 0),
							(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
							(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
								(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
								(troop_is_hero, ":party_stack_troop_id_main_party_number"),
								(is_between, ":party_stack_troop_id_main_party_number", "trp_npc1", "trp_kingdom_1_lord"),
								(store_character_level, ":character_level_party_stack_troop_id_main_party_number", ":party_stack_troop_id_main_party_number"),
								(ge, ":character_level_party_stack_troop_id_main_party_number", 15),
								(assign, ":value_42", 0),
								(try_for_range, ":number_2", 0, "qst_quests_end"),
									(check_quest_active, ":number_2"),
									(this_or_next|quest_slot_eq, ":number_2", slot_quest_target_troop, ":party_stack_troop_id_main_party_number"),
									(quest_slot_eq, ":number_2", slot_quest_object_troop, ":party_stack_troop_id_main_party_number"),
									(assign, ":value_42", 1),
								(try_end),
								(eq, ":value_42", 0),
								(val_add, ":value_41", 1),
							(try_end),
							(gt, ":value_41", 0),
							(store_random_in_range, ":random_in_range_0_value_41", 0, ":value_41"),
							(assign, ":value_41", 0),
							(assign, ":script_param_1_father", -1),
							(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
								(eq, ":script_param_1_father", -1),
								(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
								(troop_is_hero, ":party_stack_troop_id_main_party_number"),
								(is_between, ":party_stack_troop_id_main_party_number", "trp_npc1", "trp_kingdom_1_lord"),
								(neq, ":party_stack_troop_id_main_party_number", "trp_player"),
								(store_character_level, ":character_level_party_stack_troop_id_main_party_number", ":party_stack_troop_id_main_party_number"),
								(ge, ":character_level_party_stack_troop_id_main_party_number", 15),
								(assign, ":value_42", 0),
								(try_for_range, ":number_2", 0, "qst_quests_end"),
									(check_quest_active, ":number_2"),
									(this_or_next|quest_slot_eq, ":number_2", slot_quest_target_troop, ":party_stack_troop_id_main_party_number"),
									(quest_slot_eq, ":number_2", slot_quest_object_troop, ":party_stack_troop_id_main_party_number"),
									(assign, ":value_42", 1),
								(try_end),
								(eq, ":value_42", 0),
								(val_add, ":value_41", 1),
								(gt, ":value_41", ":random_in_range_0_value_41"),
								(assign, ":script_param_1_father", ":party_stack_troop_id_main_party_number"),
							(try_end),
							(is_between, ":script_param_1_father", "trp_npc1", "trp_kingdom_1_lord"),
							(assign, ":value_10", ":script_param_1_father"),
							(store_current_day, ":value_18"),
							(val_add, ":value_18", 8),
							(assign, ":value_21", 1),
							(assign, ":value_22", 300),
							(assign, ":value_23", 400),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_26", 30),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_collect_debt"),
						(eq, 1, 0),
						(try_begin),
							(ge, "$g_talk_troop_faction_relation", 0),
							(call_script, "script_cf_get_random_lord_in_a_center_with_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_10", reg0),
							(neq, ":value_10", ":script_param_1"),
							(call_script, "script_get_troop_attached_party", ":value_10"),
							(assign, ":value_11", reg0),
							(neq, ":value", ":value_11"),
							(assign, ":value_22", 30),
							(assign, ":value_23", 40),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(store_random_in_range, ":value_18", 6, 9),
							(val_mul, ":value_18", 500),
							(store_div, ":value_24", ":value_18", 5),
							(assign, ":value_25", 90),
							(assign, ":value_26", 20),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_incriminate_loyal_commander"),
						(this_or_next|ge, ":value_3", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(neq, ":script_param_1_lord_reputation_type", 9),
							(neq, ":script_param_1_lord_reputation_type", 25),
							(neg|is_between, ":script_param_1_lord_reputation_type", 21, 24),
							(neq, ":script_param_1_lord_reputation_type", 25),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 2),
							(lt, reg0, 1),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
							(lt, reg0, 1),
							(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
							(lt, reg0, 1),
							(neq, ":script_param_1_lord_reputation_type", 7),
							(neq, ":script_param_1_lord_reputation_type", 6),
							(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
							(ge, ":character_level_player", 10),
							(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
							(assign, ":value_43", 1),
							(assign, ":value_44", 0),
							(try_for_range, ":unused", 0, ":value_43"),
								(call_script, "script_cf_faction_get_random_enemy_faction", ":faction_of_troop_script_param_1"),
								(assign, ":value_32", reg0),
								(faction_get_slot, ":script_param_1_father", ":value_32", slot_faction_leader),
								(assign, ":var_86", 0),
								(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
									(troop_slot_eq, ":troop", slot_troop_occupation, 2),
									(neg|troop_slot_ge, ":troop", 8, 0),
									(neq, ":script_param_1_father", ":troop"),
									(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
									(eq, ":value_32", ":faction_of_troop_troop"),
									(val_add, ":var_86", 1),
								(try_end),
								(gt, ":var_86", 0),
								(assign, ":value_33", -1),
								(store_random_in_range, ":random_in_range_0_var_86", 0, ":var_86"),
								(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
									(eq, ":value_33", -1),
									(troop_slot_eq, ":troop", slot_troop_occupation, 2),
									(neq, ":script_param_1_father", ":troop"),
									(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
									(eq, ":value_32", ":faction_of_troop_troop"),
									(val_sub, ":random_in_range_0_var_86", 1),
									(lt, ":random_in_range_0_var_86", 0),
									(assign, ":value_33", ":troop"),
								(try_end),
								(assign, ":value_31", -1),
								(call_script, "script_get_troop_attached_party", ":script_param_1_father"),
								(is_between, reg0, "p_town_1", "p_castle_1"),
								(party_slot_eq, reg0, slot_town_lord, ":script_param_1_father"),
								(assign, ":value_31", reg0),
								(assign, ":value_43", -1),
								(assign, ":value_44", 1),
							(try_end),
							(eq, ":value_44", 1),
							(assign, "$incriminate_quest_sacrificed_troop", 0),
							(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
							(try_for_range, ":number", 1, ":num_companion_stacks_main_party"),
								(eq, "$incriminate_quest_sacrificed_troop", 0),
								(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
								(neg|troop_is_hero, ":party_stack_troop_id_main_party_number"),
								(store_character_level, ":character_level_party_stack_troop_id_main_party_number_2", ":party_stack_troop_id_main_party_number"),
								(ge, ":character_level_party_stack_troop_id_main_party_number_2", 25),
								(assign, "$incriminate_quest_sacrificed_troop", ":party_stack_troop_id_main_party_number"),
							(try_end),
							(gt, "$incriminate_quest_sacrificed_troop", 0),
							(assign, ":value_10", ":script_param_1_father"),
							(assign, ":value_14", ":value_33"),
							(assign, ":value_11", ":value_31"),
							(assign, ":value_12", ":value_32"),
							(assign, ":value_21", 1),
							(assign, ":value_22", 700),
							(assign, ":value_23", 1000),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 30),
							(assign, ":value_26", 180),
						(try_end),
					(else_try),
						(eq, ":random_in_range_0_value_29", "qst_capture_prisoners"),
						(this_or_next|ge, ":value_3", 1),
						(this_or_next|ge, ":value_4", 1),
						(eq, "$player_has_homage", 0),
						(try_begin),
							(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
							(call_script, "script_cf_faction_get_random_enemy_faction", ":faction_of_troop_script_param_1"),
							(assign, ":value_32", reg0),
							(store_add, ":value_45", 45, 1),
							(store_random_in_range, ":random_in_range_42_value_45", 42, ":value_45"),
							(faction_get_slot, ":script_param_1_father", ":value_32", ":random_in_range_42_value_45"),
							(gt, ":script_param_1_father", 0),
							(store_random_in_range, ":value_18", 3, 7),
							(assign, ":value_10", ":script_param_1_father"),
							(assign, ":value_12", ":value_32"),
							(assign, ":value_21", 1),
							(store_character_level, ":value_23", ":script_param_1_father"),
							(val_add, ":value_23", 5),
							(val_mul, ":value_23", ":value_23"),
							(val_div, ":value_23", 5),
							(val_mul, ":value_23", ":value_18"),
							(assign, ":value_22", ":value_23"),
							(assign, ":value_9", ":random_in_range_0_value_29"),
							(assign, ":value_25", 90),
							(assign, ":value_26", 20),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":value_9", -1),
				(try_begin),
					(party_is_active, ":value_11"),
					(store_faction_of_party, ":value_12", ":value_11"),
				(try_end),
				(quest_set_slot, ":value_9", slot_quest_target_troop, ":value_10"),
				(quest_set_slot, ":value_9", slot_quest_target_center, ":value_11"),
				(quest_set_slot, ":value_9", slot_quest_object_troop, ":value_14"),
				(quest_set_slot, ":value_9", slot_quest_target_faction, ":value_12"),
				(quest_set_slot, ":value_9", slot_quest_object_faction, ":value_13"),
				(quest_set_slot, ":value_9", slot_quest_object_center, ":value_15"),
				(quest_set_slot, ":value_9", slot_quest_target_party, ":value_16"),
				(quest_set_slot, ":value_9", slot_quest_target_party_template, ":value_17"),
				(quest_set_slot, ":value_9", slot_quest_target_amount, ":value_18"),
				(quest_set_slot, ":value_9", slot_quest_importance, ":value_21"),
				(quest_set_slot, ":value_9", slot_quest_xp_reward, ":value_22"),
				(quest_set_slot, ":value_9", slot_quest_gold_reward, ":value_23"),
				(quest_set_slot, ":value_9", slot_quest_convince_value, ":value_24"),
				(quest_set_slot, ":value_9", slot_quest_expiration_days, ":value_25"),
				(quest_set_slot, ":value_9", slot_quest_dont_give_again_period, ":value_26"),
				(quest_set_slot, ":value_9", slot_quest_current_state, 0),
				(quest_set_slot, ":value_9", slot_quest_giver_troop, ":script_param_1"),
				(quest_set_slot, ":value_9", slot_quest_giver_center, ":value"),
				(quest_set_slot, ":value_9", slot_quest_target_dna, ":value_19"),
				(quest_set_slot, ":value_9", slot_quest_target_item, ":value_20"),
			(try_end),
			(assign, reg0, ":value_9")
		]),

	("get_dynamic_quest",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(assign, ":value_4", -1),
			(try_begin),
				(lt, ":script_param_1", 0),
			(else_try),
				(neg|check_quest_active, "qst_rescue_prisoner"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 6),
				(assign, ":value_5", -1),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_get_slot, ":troop_prisoner_of_party", ":troop", slot_troop_prisoner_of_party),
					(is_between, ":troop_prisoner_of_party", "p_town_1", "p_village_1"),
					(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
					(store_faction_of_party, ":faction_of_party_troop_prisoner_of_party", ":troop_prisoner_of_party"),
					(store_relation, ":relation_faction_of_troop_script_param_1_faction_of_party_troop_prisoner_of_party", ":faction_of_troop_script_param_1", ":faction_of_party_troop_prisoner_of_party"),
					(lt, ":relation_faction_of_troop_script_param_1_faction_of_party_troop_prisoner_of_party", 0),
					(call_script, "script_troop_get_family_relation_to_troop", ":script_param_1", ":troop"),
					(try_begin),
						(ge, "$g_dplmc_ai_changes", 0),
						(ge, reg0, 4),
						(val_max, reg0, 10),
					(else_try),
						(ge, reg0, 1),
						(lt, reg0, 10),
						(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
						(ge, reg0, 1),
						(call_script, "script_dplmc_is_affiliated_family_member", ":troop"),
						(ge, reg0, 1),
						(assign, reg0, 10),
					(try_end),
					(ge, reg0, 10),
					(assign, ":value_6", 0),
					(try_begin),
						(call_script, "script_cf_prisoner_offered_parole", ":troop"),
						(assign, ":value_6", 1),
					(try_end),
					(eq, ":value_6", 0),
					(neg|party_slot_eq, ":troop_prisoner_of_party", slot_town_lord, "trp_player"),
					(assign, ":value_5", ":troop"),
					(assign, ":var_13", ":troop_prisoner_of_party"),
				(try_end),
				(gt, ":value_5", -1),
				(assign, ":value", "qst_rescue_prisoner"),
				(assign, ":value_2", ":value_5"),
				(assign, ":value_3", ":var_13"),
			(else_try),
				(is_between, ":script_param_1", "trp_town_1_mayor", "trp_village_1_elder"),
				(store_faction_of_troop, ":faction_of_troop_script_param_1_2", ":script_param_1"),
				(neg|check_quest_active, "qst_retaliate_for_border_incident"),
				(quest_slot_eq, "qst_retaliate_for_border_incident", slot_quest_dont_give_again_remaining_days, 0),
				(assign, ":value_7", 0),
				(try_for_range, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
					(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":faction_of_troop_script_param_1_2", ":faction"),
					(assign, ":var_17", reg0),
					(eq, ":var_17", -1),
					(assign, ":var_18", reg1),
					(ge, ":var_18", 10),
					(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
						(this_or_next|is_between, ":troop_2", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_slot_eq, ":troop_2", slot_troop_occupation, 2),
						(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
						(eq, ":faction_of_troop_troop_2", ":faction"),
						(troop_slot_eq, ":troop_2", slot_lord_reputation_type, 5),
						(assign, ":value_7", ":troop_2"),
						(assign, ":var_21", ":faction"),
					(try_end),
				(try_end),
				(is_between, ":value_7", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", "qst_retaliate_for_border_incident"),
				(assign, ":value_2", ":value_7"),
				(assign, ":value_4", ":var_21"),
			(else_try),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(neg|check_quest_active, "qst_destroy_bandit_lair"),
				(quest_slot_eq, "qst_destroy_bandit_lair", slot_quest_dont_give_again_remaining_days, 0),
				(assign, ":value_8", -1),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(assign, ":value_9", "pt_forest_bandits_e"),
					(assign, ":value_10", "pt_deserters"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(assign, ":value_9", "pt_forest_bandits_e"),
					(assign, ":value_10", "pt_deserters"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(assign, ":value_9", "pt_forest_bandits_e"),
					(assign, ":value_10", "pt_deserters"),
				(try_end),
				(try_for_range, ":var_25", ":value_9", ":value_10"),
					(party_template_get_slot, ":party_template_slot_var_25_party_template_lair_party", ":var_25", slot_party_template_lair_party),
					(gt, ":party_template_slot_var_25_party_template_lair_party", "p_spawn_points_end"),
					(assign, ":value_11", -1),
					(assign, ":value_12", 99999),
					(try_for_range, ":party", "p_town_1", "p_castle_1"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_party_template_slot_var_25_party_template_lair_party_party", ":party_template_slot_var_25_party_template_lair_party", ":party"),
						(lt, ":distance_to_party_from_party_party_template_slot_var_25_party_template_lair_party_party", ":value_12"),
						(assign, ":value_11", ":party"),
						(assign, ":value_12", ":distance_to_party_from_party_party_template_slot_var_25_party_template_lair_party_party"),
					(try_end),
					(party_slot_eq, ":value_11", slot_town_lord, ":script_param_1"),
					(assign, ":value_8", ":party_template_slot_var_25_party_template_lair_party"),
				(try_end),
				(gt, ":value_8", "p_spawn_points_end"),
				(assign, ":value", "qst_destroy_bandit_lair"),
				(assign, ":value_3", ":value_8"),
			(else_try),
				(is_between, ":script_param_1", "trp_town_1_mayor", "trp_village_1_elder"),
				(neg|check_quest_active, "qst_track_down_bandits"),
				(quest_slot_eq, "qst_track_down_bandits", slot_quest_dont_give_again_remaining_days, 0),
				(assign, ":value_13", -1),
				(try_for_range, ":party_2", "p_town_1", "p_castle_1"),
					(party_slot_eq, ":party_2", slot_town_elder, ":script_param_1"),
					(assign, ":value_13", ":party_2"),
				(try_end),
				(gt, ":value_13", -1),
				(call_script, "script_merchant_road_info_to_s42", ":value_13"),
				(assign, ":var_33", reg0),
				(party_is_active, ":var_33"),
				(gt, ":var_33", 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_traveller_attack_found"),
				(try_end),
				(assign, ":value", "qst_track_down_bandits"),
				(assign, ":value_3", ":var_33"),
			(else_try),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
				(assign, ":var_34", reg0),
				(lt, ":var_34", 1),
				(assign, reg0, 0),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(assign, reg0, 1),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 8),
					(lt, ":var_34", 1),
					(assign, reg0, 1),
				(try_end),
				(eq, reg0, 1),
				(store_faction_of_troop, ":faction_of_troop_script_param_1_3", ":script_param_1"),
				(assign, ":value_14", -1),
				(try_for_range, ":troop_3", "trp_npc1", "trp_heroes_end"),
					(this_or_next|is_between, ":troop_3", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop_3", slot_troop_occupation, 2),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
					(assign, ":var_38", reg0),
					(lt, ":var_38", 1),
					(assign, reg0, 0),
					(try_begin),
						(troop_slot_eq, ":troop_3", slot_lord_reputation_type, 5),
						(assign, reg0, 1),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 8),
						(lt, ":var_34", 1),
						(assign, reg0, 1),
					(try_end),
					(eq, reg0, 1),
					(store_faction_of_troop, ":faction_of_troop_troop_3", ":troop_3"),
					(eq, ":faction_of_troop_troop_3", ":faction_of_troop_script_param_1_3"),
					(assign, ":value_14", ":troop_3"),
				(try_end),
				(eq, ":script_param_1", ":value_14"),
				(assign, ":value_15", -1),
				(assign, ":value_16", -1),
				(try_for_range, ":faction_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(neq, ":faction_2", ":faction_of_troop_script_param_1_3"),
					(faction_slot_eq, ":faction_2", slot_faction_state, 0),
					(neq, ":faction_2", "$players_kingdom"),
					(store_relation, ":relation_faction_2_faction_of_troop_script_param_1_3", ":faction_2", ":faction_of_troop_script_param_1_3"),
					(store_add, ":value_17", ":faction_of_troop_script_param_1_3", 130),
					(val_sub, ":value_17", "fac_player_supporters_faction"),
					(faction_get_slot, ":faction_2_value_17", ":faction_2", ":value_17"),
					(ge, ":relation_faction_2_faction_of_troop_script_param_1_3", 0),
					(le, ":faction_2_value_17", 0),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(store_add, ":value_18", ":faction_of_troop_script_param_1_3", 120),
					(store_add, ":value_17", ":faction_of_troop_script_param_1_3", 130),
					(val_sub, ":value_18", "fac_player_supporters_faction"),
					(val_sub, ":value_17", "fac_player_supporters_faction"),
					(gt, ":random_in_range_0_100", ":value_16"),
					(assign, ":value_15", ":faction_2"),
					(assign, ":value_16", ":random_in_range_0_100"),
				(try_end),
				(is_between, ":value_15", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(assign, ":value", "qst_cause_provocation"),
				(assign, ":value_4", ":value_15"),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2"),
			(assign, reg2, ":value_3"),
			(assign, reg3, ":value_4")
		]),

	("get_political_quest",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(assign, ":var_5", 7),
			(try_begin),
				(neg|check_quest_active, "qst_denounce_lord"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(quest_get_slot, reg4, "qst_denounce_lord", slot_quest_dont_give_again_remaining_days),
					(display_message, "@{!}DEBUG -- Checking for denounce lord, eligible in {reg4} days"),
				(try_end),
				(neg|quest_slot_ge, "qst_denounce_lord", 25, 1),
				(neq, ":script_param_1", "$g_player_minister"),
				(neg|troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
				(neg|faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
				(neg|troop_slot_eq, "$g_talk_troop", slot_lord_reputation_type, 2),
				(neg|troop_slot_eq, "$g_talk_troop", slot_lord_reputation_type, 6),
				(assign, ":value_4", -1),
				(assign, ":value_5", 1),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(this_or_next|is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(neg|troop_slot_ge, ":troop", 2, 11),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", "$players_kingdom"),
					(neq, ":troop", ":script_param_1"),
					(neg|faction_slot_eq, ":faction_of_troop_troop", slot_faction_leader, ":troop"),
					(this_or_next|neg|check_quest_active, "qst_intrigue_against_lord"),
					(neg|quest_slot_eq, "qst_intrigue_against_lord", slot_quest_target_troop, ":troop"),
					(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
					(assign, ":value_6", reg0),
					(lt, ":value_6", ":value_5"),
					(str_store_troop_name, 4, ":troop"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(display_message, "@{!}DEBUG -- Rival found in {s4}"),
					(try_end),
					(try_begin),
						(troop_slot_eq, "$g_talk_troop", slot_lord_reputation_type, 5),
						(assign, ":value_7", 15),
					(else_try),
						(this_or_next|troop_slot_eq, "$g_talk_troop", slot_lord_reputation_type, 24),
						(troop_slot_eq, "$g_talk_troop", slot_lord_reputation_type, 2),
						(assign, ":value_7", 10),
					(else_try),
						(assign, ":value_7", 5),
					(try_end),
					(call_script, "script_troop_get_relation_with_troop", ":troop", "trp_player"),
					(assign, ":value_8", reg0),
					(lt, ":value_8", ":value_7"),
					(str_store_troop_name, 4, ":troop"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(display_message, "@{!}DEBUG -- {s4} is not close friend of player"),
					(try_end),
					(assign, ":var_13", 0),
					(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
						(this_or_next|is_between, ":troop_2", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_slot_eq, ":troop_2", slot_troop_occupation, 2),
						(neg|troop_slot_eq, ":troop_2", slot_troop_occupation, 15),
						(neg|troop_slot_eq, ":troop_2", slot_troop_occupation, 14),
						(neg|troop_slot_ge, ":troop_2", 2, 11),
						(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
						(eq, ":faction_of_troop_troop_2", "$players_kingdom"),
						(call_script, "script_troop_get_relation_with_troop", ":troop", ":troop_2"),
						(lt, reg0, 0),
						(val_add, ":var_13", 1),
					(try_end),
					(str_store_troop_name, 4, ":troop"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(assign, reg3, ":var_13"),
						(display_message, "@{!}DEBUG -- {s4} has {reg3} rivals"),
					(try_end),
					(this_or_next|ge, ":var_13", 3),
					(ge, "$cheat_mode", 1),
					(assign, ":value_5", ":value_6"),
					(assign, ":value_4", ":troop"),
				(try_end),
				(is_between, ":value_4", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", "qst_denounce_lord"),
				(assign, ":value_2", ":value_4"),
			(else_try),
				(neg|check_quest_active, "qst_intrigue_against_lord"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(quest_get_slot, reg4, "qst_intrigue_against_lord", slot_quest_dont_give_again_remaining_days),
					(display_message, "@{!}DEBUG -- Checking for intrigue, eligible in {reg4} days"),
				(try_end),
				(neg|quest_slot_ge, "qst_intrigue_against_lord", 25, 1),
				(neq, ":script_param_1", "$g_player_minister"),
				(neg|troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
				(neg|faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(display_message, "@{!}DEBUG -- Trying for intrigue against lord"),
				(try_end),
				(assign, ":value_4", -1),
				(assign, ":value_5", 10),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(this_or_next|is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(neg|troop_slot_ge, ":troop", 2, 11),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", "$players_kingdom"),
					(neq, ":troop", ":script_param_1"),
					(neg|faction_slot_eq, ":faction_of_troop_troop", slot_faction_leader, ":troop"),
					(this_or_next|neg|check_quest_active, "qst_denounce_lord"),
					(neg|quest_slot_eq, "qst_denounce_lord", slot_quest_target_troop, ":troop"),
					(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
					(call_script, "script_troop_get_relation_with_troop", ":troop", ":players_kingdom_leader"),
					(assign, ":var_17", reg0),
					(lt, ":var_17", ":value_5"),
					(str_store_troop_name, 4, ":troop"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(display_message, "@{!}DEBUG -- {s4} has sufficiently low relation with liege"),
					(try_end),
					(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
					(assign, ":value_6", reg0),
					(lt, ":value_6", 0),
					(str_store_troop_name, 4, ":troop"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(display_message, "@{!}DEBUG -- {s4} has sufficiently low relation with giver troop"),
					(try_end),
					(call_script, "script_troop_get_relation_with_troop", ":troop", "trp_player"),
					(assign, ":value_8", reg0),
					(lt, ":value_8", 0),
					(str_store_troop_name, 4, ":troop"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(display_message, "@{!}DEBUG -- {s4} has sufficiently low relation with player"),
					(try_end),
					(assign, ":value_5", ":var_17"),
					(assign, ":value_4", ":troop"),
				(try_end),
				(is_between, ":value_4", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", "qst_intrigue_against_lord"),
				(assign, ":value_2", ":value_4"),
			(else_try),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(quest_get_slot, reg4, "qst_resolve_dispute", slot_quest_dont_give_again_remaining_days),
					(display_message, "@{!}DEBUG -- Checking for resolve dispute, eligible in {reg4} days"),
				(try_end),
				(neg|quest_slot_ge, "qst_resolve_dispute", 25, 1),
				(call_script, "script_dplmc_troop_get_family_relation_to_troop", "trp_player", ":script_param_1"),
				(this_or_next|ge, reg0, 4),
				(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, "$g_talk_troop"),
				(eq, "$g_talk_troop", "$g_player_minister"),
				(assign, ":value_4", -1),
				(assign, ":value_9", -1),
				(assign, ":value_10", 20),
				(try_for_range, ":troop_3", "trp_npc1", "trp_heroes_end"),
					(this_or_next|is_between, ":troop_3", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop_3", slot_troop_occupation, 2),
					(neg|troop_slot_eq, ":troop_3", slot_troop_occupation, 14),
					(neg|troop_slot_eq, ":troop_3", slot_troop_occupation, 15),
					(neg|troop_slot_ge, ":troop_3", 2, 11),
					(store_faction_of_troop, ":faction_of_troop_troop_3", ":troop_3"),
					(eq, ":faction_of_troop_troop_3", "$players_kingdom"),
					(neq, ":troop_3", "$g_talk_troop"),
					(try_for_range, ":troop_4", "trp_npc1", "trp_heroes_end"),
						(this_or_next|is_between, ":troop_4", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_slot_eq, ":troop_4", slot_troop_occupation, 2),
						(neg|troop_slot_ge, ":troop_4", 2, 11),
						(store_faction_of_troop, ":faction_of_troop_troop_4", ":troop_4"),
						(eq, ":faction_of_troop_troop_4", "$players_kingdom"),
						(neq, ":troop_3", ":troop_4"),
						(neq, ":troop_4", "$g_talk_troop"),
						(call_script, "script_troop_get_relation_with_troop", ":troop_3", ":troop_4"),
						(assign, ":var_24", reg0),
						(lt, ":var_24", -5),
						(call_script, "script_troop_get_relation_with_troop", ":troop_3", "trp_player"),
						(assign, ":var_25", reg0),
						(call_script, "script_troop_get_relation_with_troop", ":troop_4", "trp_player"),
						(assign, ":var_26", reg0),
						(gt, ":var_25", 0),
						(gt, ":var_26", 0),
						(store_mul, ":value_11", ":var_25", ":var_26"),
						(gt, ":value_11", ":value_10"),
						(assign, ":value_10", ":value_11"),
						(assign, ":value_4", ":troop_3"),
						(assign, ":value_9", ":troop_4"),
					(try_end),
				(try_end),
				(is_between, ":value_4", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", "qst_resolve_dispute"),
				(assign, ":value_2", ":value_4"),
				(assign, ":value_3", ":value_9"),
			(else_try),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(quest_get_slot, reg4, "qst_offer_gift", slot_quest_dont_give_again_remaining_days),
					(display_message, "@{!}DEBUG -- Checking for offer gift, eligible in {reg4} days"),
				(try_end),
				(neg|quest_slot_ge, "qst_offer_gift", 25, 4),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 21),
				(neg|quest_slot_ge, "qst_offer_gift", 25, 1),
				(assign, ":value_12", -1),
				(assign, ":value_5", 5),
				(try_begin),
					(ge, "$g_dplmc_ai_changes", 0),
					(assign, ":value_5", 4),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 21),
					(assign, ":value_5", 3),
				(try_end),
				(try_for_range, ":troop_5", "trp_npc1", "trp_heroes_end"),
					(this_or_next|is_between, ":troop_5", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop_5", slot_troop_occupation, 2),
					(neg|troop_slot_ge, ":troop_5", 2, 11),
					(store_faction_of_troop, ":faction_of_troop_troop_5", ":troop_5"),
					(eq, ":faction_of_troop_troop_5", "$players_kingdom"),
					(neq, ":troop_5", ":script_param_1"),
					(neg|faction_slot_eq, ":faction_of_troop_troop_5", slot_faction_leader, ":troop_5"),
					(call_script, "script_troop_get_family_relation_to_troop", ":script_param_1", ":troop_5"),
					(assign, ":var_31", reg0),
					(ge, ":var_31", ":value_5"),
					(store_sub, ":value_13", 0, ":var_31"),
					(call_script, "script_troop_get_relation_with_troop", "trp_player", ":troop_5"),
					(assign, ":value_8", reg0),
					(is_between, ":value_8", ":value_13", 0),
					(assign, ":value_5", ":var_31"),
					(assign, ":value_12", ":troop_5"),
				(try_end),
				(is_between, ":value_12", "trp_npc1", "trp_knight_1_1_wife"),
				(assign, ":value", "qst_offer_gift"),
				(assign, ":value_2", ":value_12"),
			(try_end),
			(try_begin),
				(gt, ":value", -1),
				(quest_set_slot, ":value", slot_quest_target_troop, ":value_2"),
				(quest_set_slot, ":value", slot_quest_object_troop, ":value_3"),
				(quest_set_slot, ":value", slot_quest_giver_troop, ":script_param_1"),
				(quest_set_slot, ":value", slot_quest_dont_give_again_period, ":var_5"),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2"),
			(assign, reg2, ":value_3")
		]),

	("npc_find_quest_for_player_to_s11",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", -1),
			(try_for_range, ":troop", "trp_npc1", "trp_village_1_elder"),
				(eq, ":value", -1),
				(neg|troop_slot_eq, "trp_player", slot_troop_spouse, ":troop"),
				(gt, ":troop", "$g_troop_list_no"),
				(assign, "$g_troop_list_no", ":troop"),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(is_between, ":troop", "trp_town_1_mayor", "trp_village_1_elder"),
				(neg|troop_slot_ge, ":troop", 8, "p_town_1"),
				(try_begin),
					(is_between, ":troop", "trp_town_1_mayor", "trp_village_1_elder"),
					(assign, ":value_2", -1),
					(try_for_range, ":party", "p_town_1", "p_castle_1"),
						(party_slot_eq, ":party", slot_town_elder, ":troop"),
						(store_faction_of_party, ":value_2", ":party"),
					(try_end),
				(else_try),
					(store_faction_of_troop, ":value_2", ":troop"),
				(try_end),
				(eq, ":script_param_1", ":value_2"),
				(call_script, "script_get_dynamic_quest", ":troop"),
				(gt, reg0, -1),
				(assign, ":value", ":troop"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":value"),
					(display_message, "str_test_diagnostic_quest_found_for_s4"),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_get_random_enemy_center_within_range",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", 0),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(store_relation, ":relation_faction_of_party_script_param_1_faction_of_party_party", ":faction_of_party_script_param_1", ":faction_of_party_party"),
				(lt, ":relation_faction_of_party_script_param_1_faction_of_party_party", 0),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(le, ":distance_to_party_from_party_script_param_1_party", ":script_param_2"),
				(val_add, ":var_3", 1),
			(try_end),
			(gt, ":var_3", 0),
			(store_random_in_range, ":random_in_range_0_var_3", 0, ":var_3"),
			(assign, ":value", "p_salt_mine"),
			(try_for_range, ":party", "p_town_1", ":value"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(store_relation, ":relation_faction_of_party_script_param_1_faction_of_party_party", ":faction_of_party_script_param_1", ":faction_of_party_party"),
				(lt, ":relation_faction_of_party_script_param_1_faction_of_party_party", 0),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(le, ":distance_to_party_from_party_script_param_1_party", ":script_param_2"),
				(val_sub, ":random_in_range_0_var_3", 1),
				(lt, ":random_in_range_0_var_3", 0),
				(assign, ":var_11", ":party"),
				(assign, ":value", 0),
			(try_end),
			(assign, reg0, ":var_11")
		]),

	("cf_faction_get_random_enemy_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(store_relation, ":relation_script_param_1_faction", ":script_param_1", ":faction"),
				(le, ":relation_script_param_1_faction", -1),
				(val_add, ":value_2", 1),
			(try_end),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(eq, ":value", -1),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(store_relation, ":relation_script_param_1_faction", ":script_param_1", ":faction"),
				(le, ":relation_script_param_1_faction", -1),
				(val_add, ":value_2", 1),
				(gt, ":value_2", ":random_in_range_0_value_2"),
				(assign, ":value", ":faction"),
			(try_end),
			(neq, ":value", -1),
			(assign, reg0, ":value")
		]),

	("cf_faction_get_random_friendly_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(neq, ":faction", ":script_param_1"),
				(store_relation, ":relation_script_param_1_faction", ":script_param_1", ":faction"),
				(ge, ":relation_script_param_1_faction", 0),
				(val_add, ":value_2", 1),
			(try_end),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(eq, ":value", -1),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(neq, ":faction", ":script_param_1"),
				(store_relation, ":relation_script_param_1_faction", ":script_param_1", ":faction"),
				(ge, ":relation_script_param_1_faction", 0),
				(val_add, ":value_2", 1),
				(gt, ":value_2", ":random_in_range_0_value_2"),
				(assign, ":value", ":faction"),
			(try_end),
			(neq, ":value", -1),
			(assign, reg0, ":value")
		]),

	("cf_troop_get_random_enemy_troop_with_occupation",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop", slot_troop_occupation, ":script_param_2"),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":troop"),
				(lt, reg0, -10),
				(val_add, ":value_2", 1),
			(try_end),
			(gt, ":value_2", 0),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop", slot_troop_occupation, ":script_param_2"),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":troop"),
				(lt, reg0, -10),
				(val_add, ":value_2", 1),
				(eq, ":random_in_range_0_value_2", ":value_2"),
				(assign, ":value", ":troop"),
			(try_end),
			(neq, ":value", -1),
			(assign, reg0, ":value")
		]),

	("cf_get_random_lady_in_a_center_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":var_3", 0),
			(try_for_range, ":troop", "trp_knight_1_1_wife", "trp_heroes_end"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_1", ":faction_of_troop_troop"),
				(store_random_in_range, ":random_in_range_1_4", 1, 4),
				(val_add, ":var_3", 1),
				(try_begin),
					(eq, ":var_3", ":random_in_range_1_4"),
					(assign, ":value", ":troop"),
				(try_end),
			(try_end),
			(neq, ":value", -1),
			(assign, reg0, ":value")
		]),

	("cf_get_random_lord_in_a_center_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_1", ":faction_of_troop_troop"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
				(is_between, ":attached_to_troop_leaded_party", "p_town_1", "p_salt_mine"),
				(val_add, ":value_2", 1),
			(try_end),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(eq, ":value", -1),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_1", ":faction_of_troop_troop"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
				(is_between, ":attached_to_troop_leaded_party", "p_town_1", "p_salt_mine"),
				(val_add, ":value_2", 1),
				(lt, ":random_in_range_0_value_2", ":value_2"),
				(assign, ":value", ":troop"),
			(try_end),
			(neq, ":value", -1),
			(assign, reg0, ":value")
		]),

	("cf_get_random_lord_except_king_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_1", ":faction_of_troop_troop"),
				(neg|faction_slot_eq, ":script_param_1", slot_faction_leader, ":troop"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(val_add, ":value_2", 1),
			(try_end),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(eq, ":value", -1),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_1", ":faction_of_troop_troop"),
				(neg|faction_slot_eq, ":script_param_1", slot_faction_leader, ":troop"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(val_add, ":value_2", 1),
				(lt, ":random_in_range_0_value_2", ":value_2"),
				(assign, ":value", ":troop"),
			(try_end),
			(neq, ":value", -1),
			(assign, reg0, ":value")
		]),

	("cf_get_random_lord_from_another_faction_in_a_center",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(neq, ":faction_of_troop_troop", ":script_param_1"),
				(store_relation, ":relation_faction_of_troop_troop_player_supporters_faction", ":faction_of_troop_troop", "fac_player_supporters_faction"),
				(store_relation, ":relation_faction_of_troop_troop_script_param_1", ":faction_of_troop_troop", ":script_param_1"),
				(lt, ":relation_faction_of_troop_troop_script_param_1", 0),
				(ge, ":relation_faction_of_troop_troop_player_supporters_faction", 0),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
				(is_between, ":attached_to_troop_leaded_party", "p_town_1", "p_salt_mine"),
				(val_add, ":value_2", 1),
			(try_end),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(eq, ":value", -1),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(neq, ":faction_of_troop_troop", ":script_param_1"),
				(store_relation, ":relation_faction_of_troop_troop_player_supporters_faction", ":faction_of_troop_troop", "fac_player_supporters_faction"),
				(store_relation, ":relation_faction_of_troop_troop_script_param_1", ":faction_of_troop_troop", ":script_param_1"),
				(lt, ":relation_faction_of_troop_troop_script_param_1", 0),
				(ge, ":relation_faction_of_troop_troop_player_supporters_faction", 0),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
				(is_between, ":attached_to_troop_leaded_party", "p_town_1", "p_salt_mine"),
				(val_add, ":value_2", 1),
				(lt, ":random_in_range_0_value_2", ":value_2"),
				(assign, ":value", ":troop"),
			(try_end),
			(neq, ":value", -1),
			(assign, reg0, ":value")
		]),

	("get_closest_walled_center",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 9999999),
			(assign, reg0, -1),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(lt, ":distance_to_party_from_party_script_param_1_party", ":value"),
				(assign, ":value", ":distance_to_party_from_party_script_param_1_party"),
				(assign, reg0, ":party"),
			(try_end)
		]),

	("get_closest_center",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 9999999),
			(assign, reg0, -1),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(lt, ":distance_to_party_from_party_script_param_1_party", ":value"),
				(assign, ":value", ":distance_to_party_from_party_script_param_1_party"),
				(assign, reg0, ":party"),
			(try_end)
		]),

	("get_closest_center_of_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 99999),
			(assign, ":value_2", -1),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_2"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(lt, ":distance_to_party_from_party_script_param_1_party", ":value"),
				(assign, ":value", ":distance_to_party_from_party_script_param_1_party"),
				(assign, ":value_2", ":party"),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("get_closest_walled_center_of_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 99999),
			(assign, ":value_2", -1),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_2"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(lt, ":distance_to_party_from_party_script_param_1_party", ":value"),
				(assign, ":value", ":distance_to_party_from_party_script_param_1_party"),
				(assign, ":value_2", ":party"),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("let_nearby_parties_join_current_battle",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_parties, ":var_3"),
				(party_is_active, ":var_3"),
				(party_get_battle_opponent, ":battle_opponent_var_3", ":var_3"),
				(lt, ":battle_opponent_var_3", 0),
				(party_get_attached_to, ":attached_to_var_3", ":var_3"),
				(lt, ":attached_to_var_3", 0),
				(get_party_ai_behavior, ":party_ai_behavior_var_3", ":var_3"),
				(neq, ":party_ai_behavior_var_3", 8),
				(party_stack_get_troop_id, ":party_stack_troop_id_var_3_0", ":var_3", 0),
				(try_begin),
					(troop_get_slot, ":troop_trees_843", "$troop_trees", 843),
					(troop_get_slot, ":troop_trees_852", "$troop_trees", 852),
					(neg|is_between, ":party_stack_troop_id_var_3_0", ":troop_trees_843", ":troop_trees_852"),
					(assign, ":value", 5),
					(try_begin),
						(is_currently_night),
						(assign, ":value", 3),
					(try_end),
				(else_try),
					(assign, ":value", 3),
					(try_begin),
						(is_currently_night),
						(assign, ":value", 2),
					(try_end),
				(try_end),
				(this_or_next|neg|check_quest_active, "qst_track_down_bandits"),
				(neg|quest_slot_eq, "qst_track_down_bandits", slot_quest_target_party, ":var_3"),
				(this_or_next|neg|check_quest_active, "qst_troublesome_bandits"),
				(neg|quest_slot_eq, "qst_troublesome_bandits", slot_quest_target_party, ":var_3"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_var_3_main_party", ":var_3", "p_main_party"),
				(lt, ":distance_to_party_from_party_var_3_main_party", ":value"),
				(store_faction_of_party, ":faction_of_party_var_3", ":var_3"),
				(store_faction_of_party, ":faction_of_party_g_enemy_party", "$g_enemy_party"),
				(try_begin),
					(eq, ":faction_of_party_var_3", "fac_player_supporters_faction"),
					(assign, ":value_2", 100),
				(else_try),
					(store_relation, ":value_2", ":faction_of_party_var_3", "fac_player_supporters_faction"),
				(try_end),
				(try_begin),
					(eq, ":faction_of_party_var_3", ":faction_of_party_g_enemy_party"),
					(assign, ":value_3", 100),
				(else_try),
					(store_relation, ":value_3", ":faction_of_party_var_3", ":faction_of_party_g_enemy_party"),
				(try_end),
				(assign, ":value_4", 1),
				(try_begin),
					(neq, "$g_enemy_party", "$g_encountered_party"),
					(assign, ":value_4", 2),
				(try_end),
				(try_begin),
					(eq, ":script_param_1", 0),
					(lt, ":value_2", 0),
					(gt, ":value_3", 0),
					(party_get_slot, ":var_3_type", ":var_3", slot_party_type),
					(party_get_template_id, ":template_id_var_3", ":var_3"),
					(this_or_next|is_between, ":template_id_var_3", "pt_looters", "pt_looters_r"),
					(this_or_next|is_between, ":template_id_var_3", "pt_looters_r", "pt_looters_e"),
					(this_or_next|is_between, ":template_id_var_3", "pt_looters_e", "pt_deserters"),
					(eq, ":var_3_type", 13),
					(get_party_ai_behavior, ":party_ai_behavior_var_3_2", ":var_3"),
					(neq, ":party_ai_behavior_var_3_2", 5),
					(party_quick_attach_to_current_battle, ":var_3", ":value_4"),
					(str_store_party_name, 1, ":var_3"),
					(display_message, "str_s1_joined_battle_enemy", 0x00ff3333),
				(else_try),
					(try_begin),
						(party_slot_eq, ":var_3", slot_party_ai_state, 11),
						(party_slot_eq, ":var_3", slot_party_ai_object, "trp_player"),
						(assign, ":value_5", 1),
					(else_try),
						(assign, ":value_5", 0),
					(try_end),
					(this_or_next|eq, ":script_param_2", 0),
					(eq, ":value_5", 1),
					(gt, ":value_2", 0),
					(lt, ":value_3", 0),
					(assign, ":value_6", 0),
					(try_begin),
						(party_slot_eq, ":var_3", slot_party_ai_state, 11),
						(party_slot_eq, ":var_3", slot_party_ai_object, "p_main_party"),
						(assign, ":value_6", 1),
					(try_end),
					(assign, ":value_7", 1),
					(try_begin),
						(eq, ":script_param_1", 1),
						(eq, ":value_6", 0),
						(assign, ":value_7", 0),
						(eq, ":faction_of_party_var_3", "$players_kingdom"),
						(faction_slot_eq, "$players_kingdom", slot_faction_marshall, "trp_player"),
						(assign, ":value_7", 1),
					(try_end),
					(eq, ":value_7", 1),
					(party_get_slot, ":var_3_type", ":var_3", slot_party_type),
					(eq, ":var_3_type", 13),
					(party_stack_get_troop_id, ":party_stack_troop_id_var_3_0_2", ":var_3", 0),
					(call_script, "script_troop_get_player_relation", ":party_stack_troop_id_var_3_0_2"),
					(assign, ":var_24", reg0),
					(assign, ":value_8", 0),
					(try_begin),
						(faction_slot_eq, "$players_kingdom", slot_faction_marshall, "trp_player"),
						(eq, ":value_6", 1),
						(assign, ":value_8", 1),
					(else_try),
						(lt, ":var_24", 0),
						(call_script, "script_dplmc_is_affiliated_family_member", ":party_stack_troop_id_var_3_0_2"),
						(val_max, ":var_24", reg0),
					(try_end),
					(this_or_next|ge, ":var_24", 0),
					(eq, ":value_8", 1),
					(party_quick_attach_to_current_battle, ":var_3", 0),
					(str_store_party_name, 1, ":var_3"),
					(display_message, "str_s1_joined_battle_friend"),
				(try_end),
			(try_end)
		]),

	("party_wound_all_members_aux",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
					(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
					(party_wound_members, ":script_param_1", ":party_stack_troop_id_script_param_1_number", ":party_stack_size_script_param_1_number"),
				(else_try),
					(troop_set_health, ":party_stack_troop_id_script_param_1_number", 0),
				(try_end),
			(try_end),
			(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
			(try_for_range, ":number_2", 0, ":num_attached_parties_script_param_1"),
				(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number_2", ":script_param_1", ":number_2"),
				(call_script, "script_party_wound_all_members_aux", ":attached_party_with_rank_script_param_1_number_2"),
			(try_end)
		]),

	("party_wound_all_members",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_party_wound_all_members_aux", ":script_param_1")
		]),

	("calculate_battle_advantage",
		[
			(assign, ":var_1", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_encountered_party_backup", "p_encountered_party_backup"),
			(try_for_range, ":number", 0, ":num_companion_stacks_encountered_party_backup"),
				(party_stack_get_troop_id, ":party_stack_troop_id_encountered_party_backup_number", "p_encountered_party_backup", ":number"),
				(store_character_level, ":character_level_party_stack_troop_id_encountered_party_backup_number", ":party_stack_troop_id_encountered_party_backup_number"),
				(val_add, ":character_level_party_stack_troop_id_encountered_party_backup_number", 12),
				(val_mul, ":character_level_party_stack_troop_id_encountered_party_backup_number", ":character_level_party_stack_troop_id_encountered_party_backup_number"),
				(val_div, ":character_level_party_stack_troop_id_encountered_party_backup_number", 100),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_encountered_party_backup_number"),
					(party_stack_get_size, ":party_stack_size_encountered_party_backup_number", "p_encountered_party_backup", ":number"),
					(store_mul, ":value", ":character_level_party_stack_troop_id_encountered_party_backup_number", ":party_stack_size_encountered_party_backup_number"),
				(else_try),
					(store_mul, ":value", ":character_level_party_stack_troop_id_encountered_party_backup_number", 2),
				(try_end),
				(val_add, ":var_1", ":value"),
			(try_end),
			(val_max, ":var_1", 50),
			(val_sub, ":var_1", 50),
			(store_div, ":value_2", ":var_1", 40),
			(val_min, ":value_2", 100),
			(assign, reg0, ":value_2"),
			(display_message, "@Bonus chance of loot: {reg0}%.", 0xffffffff),
			(call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
			(assign, ":var_9", reg0),
			(party_get_skill_level, ":skill_level_main_party_15", "p_main_party", 15),
			(party_get_skill_level, ":skill_level_collective_friends_15", "p_collective_friends", 15),
			(val_max, ":skill_level_main_party_15", ":skill_level_collective_friends_15"),
			(call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
			(assign, ":var_12", reg0),
			(party_get_skill_level, ":skill_level_collective_enemy_15", "p_collective_enemy", 15),
			(val_add, ":var_9", 1),
			(val_add, ":var_12", 1),
			(try_begin),
				(ge, ":var_9", ":var_12"),
				(val_mul, ":var_9", 100),
				(store_div, ":value_3", ":var_9", ":var_12"),
				(store_sub, ":value_4", ":value_3", 100),
			(else_try),
				(val_mul, ":var_12", 100),
				(store_div, ":value_3", ":var_12", ":var_9"),
				(store_sub, ":value_4", 100, ":value_3"),
			(try_end),
			(val_mul, ":value_4", 2),
			(val_mul, ":skill_level_main_party_15", 30),
			(val_mul, ":skill_level_collective_enemy_15", 30),
			(val_add, ":value_4", ":skill_level_main_party_15"),
			(val_sub, ":value_4", ":skill_level_collective_enemy_15"),
			(val_div, ":value_4", 100),
			(assign, reg0, ":value_4"),
			(display_message, "@Battle Advantage = {reg0}.", 0xffffffff)
		]),

	("cf_check_enemies_nearby",
		[
			(get_player_agent_no, ":player_agent_no"),
			(agent_is_alive, ":player_agent_no"),
			(agent_get_position, 1, ":player_agent_no"),
			(assign, ":value", 0),
			(set_fixed_point_multiplier, 100),
			(try_for_agents, ":var_3"),
				(neq, ":var_3", ":player_agent_no"),
				(agent_is_alive, ":var_3"),
				(agent_is_human, ":var_3"),
				(neg|agent_is_ally, ":var_3"),
				(agent_get_position, 2, ":var_3"),
				(get_distance_between_positions, ":distance_between_positions_1_2", 1, 2),
				(le, ":distance_between_positions_1_2", 1500),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 0)
		]),

	("get_heroes_attached_to_center_aux",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_add_members, ":script_param_2", ":party_stack_troop_id_script_param_1_number", 1),
			(try_end),
			(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
			(try_for_range, ":number_2", 0, ":num_attached_parties_script_param_1"),
				(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number_2", ":script_param_1", ":number_2"),
				(call_script, "script_get_heroes_attached_to_center_aux", ":attached_party_with_rank_script_param_1_number_2", ":script_param_2"),
			(try_end)
		]),

	("get_heroes_attached_to_center",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_clear, ":script_param_2"),
			(call_script, "script_get_heroes_attached_to_center_aux", ":script_param_1", ":script_param_2"),
			(try_for_range, ":troop", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(neq, ":troop", "$supported_pretender"),
				(troop_slot_eq, ":troop", slot_troop_cur_center, ":script_param_1"),
				(party_add_members, ":script_param_2", ":troop", 1),
			(try_end)
		]),

	("get_heroes_attached_to_center_as_prisoner_aux",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_prisoner_stacks_script_param_1"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(troop_is_hero, ":party_prisoner_stack_troop_id_script_param_1_number"),
				(party_add_members, ":script_param_2", ":party_prisoner_stack_troop_id_script_param_1_number", 1),
			(try_end),
			(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
			(try_for_range, ":number_2", 0, ":num_attached_parties_script_param_1"),
				(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number_2", ":script_param_1", ":number_2"),
				(call_script, "script_get_heroes_attached_to_center_as_prisoner_aux", ":attached_party_with_rank_script_param_1_number_2", ":script_param_2"),
			(try_end)
		]),

	("get_heroes_attached_to_center_as_prisoner",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_clear, ":script_param_2"),
			(call_script, "script_get_heroes_attached_to_center_as_prisoner_aux", ":script_param_1", ":script_param_2")
		]),

	("give_center_to_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_set_slot, ":script_param_1", 400, 0),
			(try_begin),
				(troop_get_slot, ":troop_trees_859", "$troop_trees", 859),
				(party_slot_eq, ":script_param_1", slot_village_infested_by_bandits, ":troop_trees_859"),
				(party_set_slot, ":script_param_1", slot_village_infested_by_bandits, 0),
			(try_end),
			(try_begin),
				(eq, "$g_constable_training_center", ":script_param_1"),
				(assign, "$g_constable_training_center", -1),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":player_supporters_faction_leader", "fac_player_supporters_faction", slot_faction_leader),
				(eq, ":player_supporters_faction_leader", "trp_player"),
				(try_begin),
					(is_between, ":script_param_1", "p_town_1", "p_village_1"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
					(val_add, ":value", 1),
				(try_end),
				(ge, ":value", 10),
				(unlock_achievement, 55),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_join_siege_with_army"),
				(quest_slot_eq, "qst_join_siege_with_army", slot_quest_target_center, ":script_param_1"),
				(call_script, "script_abort_quest", "qst_join_siege_with_army", 0),
				(faction_get_slot, ":players_kingdom_marshall", "$players_kingdom", slot_faction_marshall),
				(str_store_troop_name_link, 9, ":players_kingdom_marshall"),
				(setup_quest_text, "qst_follow_army"),
				(str_store_string, 2, "@{s9} wants you to resume following his army until further notice."),
				(call_script, "script_start_quest", "qst_follow_army", ":players_kingdom_marshall"),
				(assign, "$g_player_follow_army_warnings", 0),
			(try_end),
			(call_script, "script_give_center_to_faction_aux", ":script_param_1", ":script_param_2"),
			(call_script, "script_update_village_market_towns"),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(call_script, "script_faction_recalculate_strength", ":faction"),
			(try_end),
			(assign, "$g_recalculate_ais", 1),
			(try_begin),
				(eq, ":script_param_2", "fac_player_supporters_faction"),
				(faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 2),
				(call_script, "script_activate_player_faction", "trp_player"),
			(try_end)
		]),

	("give_center_to_faction_aux",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(party_set_faction, ":script_param_1", ":script_param_2"),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 4),
				(party_get_slot, ":script_param_1_village_farmer_party", ":script_param_1", slot_village_farmer_party),
				(gt, ":script_param_1_village_farmer_party", 0),
				(party_is_active, ":script_param_1_village_farmer_party"),
				(party_set_faction, ":script_param_1_village_farmer_party", ":script_param_2"),
			(try_end),
			(try_begin),
				(neq, ":script_param_2", ":faction_of_party_script_param_1"),
				(party_get_slot, ":script_param_1_center_ex_faction", ":script_param_1", slot_center_ex_faction),
				(party_set_slot, ":script_param_1", slot_center_ex_faction, ":faction_of_party_script_param_1"),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(store_current_hours, ":current_hours"),
				(party_get_slot, ":script_param_1_401", ":script_param_1", 401),
				(try_begin),
					(this_or_next|party_slot_eq, ":script_param_1", slot_center_original_faction, ":script_param_2"),
					(eq, ":script_param_1_center_ex_faction", ":script_param_2"),
					(is_between, ":script_param_1_401", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_script_param_1_401", ":script_param_1_401"),
					(eq, ":faction_of_troop_script_param_1_401", ":script_param_2"),
				(else_try),
					(neq, ":script_param_1_town_lord", -1),
					(ge, ":script_param_1_town_lord", 0),
					(this_or_next|ge, ":script_param_1_town_lord", 1),
					(gt, ":current_hours", 0),
					(call_script, "script_dplmc_get_troop_standing_in_faction", ":script_param_1_town_lord", ":faction_of_party_script_param_1"),
					(this_or_next|lt, reg0, 50),
					(this_or_next|troop_slot_eq, ":faction_of_party_script_param_1", slot_troop_home, ":script_param_1"),
					(party_slot_eq, ":script_param_1", 402, ":script_param_1_town_lord"),
					(party_set_slot, ":script_param_1", 401, ":script_param_1_town_lord"),
				(try_end),
				(party_set_slot, ":script_param_1", 403, ":current_hours"),
				(party_set_slot, ":script_param_1", slot_town_lord, -1),
				(party_set_banner_icon, ":script_param_1", 0),
				(call_script, "script_update_faction_notes", ":faction_of_party_script_param_1"),
				(gt, ":script_param_1_town_lord", -1),
				(troop_set_slot, ":script_param_1_town_lord", 56, 0),
			(try_end),
			(call_script, "script_update_faction_notes", ":script_param_2"),
			(call_script, "script_update_center_notes", ":script_param_1"),
			(try_begin),
				(ge, ":script_param_1_town_lord", 0),
				(neq, ":script_param_2", "fac_player_supporters_faction"),
				(call_script, "script_update_troop_notes", ":script_param_1_town_lord"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_village_bound_center, ":script_param_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(this_or_next|gt, ":party", ":script_param_1"),
				(neq, ":faction_of_party_party", ":faction_of_party_script_param_1"),
				(call_script, "script_give_center_to_faction_aux", ":party", ":script_param_2"),
			(try_end)
		]),

	("update_villages_infested_by_wedding",
		[
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(try_begin),
					(check_quest_active, "qst_hunt_down_girl"),
					(neg|check_quest_succeeded, "qst_hunt_down_girl"),
					(quest_slot_eq, "qst_hunt_down_girl", slot_quest_target_center, ":party"),
					(assign, ":var_2", "trp_wedding_guest"),
					(party_set_slot, ":party", 40, ":var_2"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_party_name, 1, ":party"),
						(display_message, "@{s1} is holding a wedding."),
					(try_end),
				(try_end),
			(try_end)
		]),

	("get_girl_name_from_dna_to_s50",
		[
			(store_script_param, ":script_param_1", 1),
			(store_sub, ":value", "str_girl_surname_1", "str_girl_name_2"),
			(store_sub, ":value_2", "str_girl_surnames_end", "str_girl_surname_1"),
			(assign, ":var_4", ":script_param_1"),
			(val_mod, ":var_4", ":value"),
			(assign, ":var_5", ":script_param_1"),
			(val_div, ":var_5", ":value"),
			(val_mod, ":var_5", ":value_2"),
			(val_add, ":var_4", "str_girl_name_2"),
			(val_add, ":var_5", "str_girl_surname_1"),
			(str_store_string, 50, ":var_4"),
			(str_store_string, 50, ":var_5")
		]),

	("change_troop_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(is_between, ":script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neg|faction_slot_eq, ":script_param_2", slot_faction_state, 0),
				(faction_set_slot, ":script_param_2", slot_faction_state, 0),
			(try_end),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(faction_get_slot, ":script_param_2_leader", ":script_param_2", slot_faction_leader),
			(try_begin),
				(eq, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
				(gt, ":script_param_1", 0),
				(troop_is_hero, ":script_param_1"),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 0),
				(this_or_next|is_between, ":script_param_1", "trp_knight_1_1", "trp_kingdom_1_pretender"),
				(this_or_next|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(this_or_next|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 6),
				(troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 7),
				(troop_set_slot, ":script_param_1", slot_troop_occupation, 2),
			(try_end),
			(try_begin),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(call_script, "script_check_and_finish_active_army_quests_for_faction", ":faction_of_troop_script_param_1"),
				(try_begin),
					(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_political_issue, 0),
					(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_political_issue, 1),
					(store_current_hours, ":current_hours"),
					(val_max, ":current_hours", 0),
					(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_political_issue_time, ":current_hours"),
					(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
						(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(troop_set_slot, ":troop", slot_troop_stance_on_faction_issue, -1),
					(try_end),
					(try_begin),
						(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
						(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
					(try_end),
				(try_end),
				(try_begin),
					(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
					(party_is_active, ":script_param_1_leaded_party"),
					(party_set_marshall, ":script_param_1_leaded_party", 0),
				(try_end),
				(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_marshall, -1),
			(try_end),
			(troop_set_slot, ":script_param_1", slot_troop_stance_on_faction_issue, -1),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_stance_on_faction_issue, ":script_param_1"),
				(troop_set_slot, ":troop", slot_troop_stance_on_faction_issue, -1),
			(try_end),
			(try_begin),
				(ge, "$cheat_mode", 1),
				(str_store_troop_name, 4, ":script_param_1"),
				(display_message, "@{!}DEBUG - {s4} faction changed in normal faction change"),
			(try_end),
			(troop_set_faction, ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
			(else_try),
				(is_between, ":script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(this_or_next|eq, ":script_param_2", "fac_player_supporters_faction"),
				(eq, ":script_param_2", "$players_kingdom"),
				(ge, ":script_param_2_leader", 0),
				(this_or_next|eq, ":script_param_2", "fac_player_supporters_faction"),
				(this_or_next|eq, ":script_param_2_leader", "trp_player"),
				(this_or_next|troop_slot_eq, ":script_param_2_leader", slot_troop_spouse, "trp_player"),
				(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_2_leader"),
				(troop_set_slot, ":script_param_1", slot_troop_recruitment_random, 0),
			(else_try),
				(troop_set_slot, ":script_param_1", slot_troop_recruitment_random, 0),
				(troop_set_slot, ":script_param_1", slot_lord_recruitment_argument, 0),
				(troop_set_slot, ":script_param_1", slot_lord_recruitment_candidate, 0),
				(troop_set_slot, ":script_param_1", slot_troop_promised_fief, 0),
			(try_end),
			(call_script, "script_troop_set_title_according_to_faction", ":script_param_1", ":script_param_2"),
			(try_begin),
				(this_or_next|eq, ":script_param_2", "$players_kingdom"),
				(eq, ":script_param_2", "fac_player_supporters_faction"),
				(call_script, "script_check_concilio_calradi_achievement"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(party_set_faction, ":party", ":script_param_2"),
				(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
					(party_slot_eq, ":party_2", slot_village_bound_center, ":party"),
					(party_set_faction, ":party_2", ":script_param_2"),
					(party_get_slot, ":party_2_village_farmer_party", ":party_2", slot_village_farmer_party),
					(try_begin),
						(gt, ":party_2_village_farmer_party", 0),
						(party_is_active, ":party_2_village_farmer_party"),
						(party_set_faction, ":party_2_village_farmer_party", ":script_param_2"),
					(try_end),
					(try_begin),
						(party_get_slot, ":party_2_town_lord", ":party_2", slot_town_lord),
						(neq, ":party_2_town_lord", ":script_param_1"),
						(party_set_slot, ":party_2", slot_town_lord, -1),
						(gt, ":party_2_town_lord", -1),
						(troop_set_slot, ":party_2_town_lord", 56, 0),
					(try_end),
				(try_end),
			(try_end),
			(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
				(party_slot_eq, ":party_2", slot_town_lord, ":script_param_1"),
				(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
				(try_begin),
					(neq, ":faction_of_party_party_2", ":script_param_2"),
					(party_set_slot, ":party_2", slot_town_lord, -1),
					(gt, ":party_2_town_lord", -1),
					(troop_set_slot, ":script_param_1", 56, 0),
				(try_end),
			(try_end),
			(call_script, "script_troop_set_title_according_to_faction", ":script_param_1", ":script_param_2"),
			(try_for_range, ":troop_2", "trp_knight_1_1_wife", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":troop_2", slot_troop_occupation, 0),
				(troop_slot_eq, ":troop_2", slot_troop_occupation, 6),
				(store_faction_of_troop, reg0, ":troop_2"),
				(this_or_next|eq, reg0, ":faction_of_troop_script_param_1"),
				(neg|faction_slot_eq, reg0, slot_faction_state, 0),
				(call_script, "script_get_kingdom_lady_social_determinants", ":troop_2"),
				(assign, ":var_15", reg0),
				(assign, ":var_16", reg1),
				(eq, ":var_15", ":script_param_1"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":troop_2"),
					(display_message, "@{!}DEBUG - {s4} faction changed by guardian moving"),
				(try_end),
				(troop_set_faction, ":troop_2", ":script_param_2"),
				(call_script, "script_troop_set_title_according_to_faction", ":troop_2", ":script_param_2"),
				(troop_slot_eq, ":troop_2", slot_troop_prisoner_of_party, -1),
				(troop_set_slot, ":troop_2", slot_troop_cur_center, ":var_16"),
			(try_end),
			(try_begin),
				(troop_get_slot, ":script_param_1_leaded_party_2", ":script_param_1", slot_troop_leaded_party),
				(gt, ":script_param_1_leaded_party_2", 0),
				(party_set_faction, ":script_param_1_leaded_party_2", ":script_param_2"),
				(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1_leaded_party_2", ":script_param_1_leaded_party_2"),
				(try_for_range_backwards, ":var_19", 0, ":num_prisoner_stacks_script_param_1_leaded_party_2"),
					(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", ":script_param_1_leaded_party_2", ":var_19"),
					(store_faction_of_troop, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", ":party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19"),
					(troop_is_hero, ":party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19"),
					(eq, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", ":script_param_2"),
					(call_script, "script_remove_troop_from_prison", ":party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19"),
					(party_remove_prisoners, ":script_param_1_leaded_party_2", ":party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", 1),
				(try_end),
			(try_end),
			(try_for_range, ":number", 0, "qst_quests_end"),
				(check_quest_active, ":number"),
				(quest_slot_eq, ":number", slot_quest_giver_troop, ":script_param_1"),
				(str_store_troop_name, 4, ":script_param_1"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_s4_changing_sides_aborts_quest"),
				(try_end),
				(try_begin),
					(eq, ":number", "qst_freelancer_enlisted"),
					(str_store_troop_name, 5, "$player_cur_troop"),
					(str_store_troop_name_link, 13, "$enlisted_lord"),
					(str_store_faction_name_link, 14, ":script_param_2"),
					(str_store_string, 1, "@Enlisted as a {s5} in the party of {s13} of {s14}."),
					(add_troop_note_from_sreg, "trp_player", 3, 1, 0),
					(try_begin),
						(store_relation, ":relation_script_param_2_player_supporters_faction", ":script_param_2", "fac_player_supporters_faction"),
						(lt, ":relation_script_param_2_player_supporters_faction", 5),
						(call_script, "script_set_player_relation_with_faction", ":script_param_2", 5),
					(try_end),
					(try_for_range, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", "fac_player_supporters_faction", "fac_kingdoms_end"),
						(neq, ":script_param_2", ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19"),
						(faction_slot_eq, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", slot_faction_state, 0),
						(store_relation, ":relation_script_param_2_player_supporters_faction", ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", "fac_player_supporters_faction"),
						(ge, ":relation_script_param_2_player_supporters_faction", 0),
						(call_script, "script_set_player_relation_with_faction", ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_leaded_party_2_var_19", -5),
					(try_end),
				(else_try),
					(neg|is_between, ":number", "qst_freelancer_enlisted", "qst_freelancer_end"),
					(call_script, "script_abort_quest", ":number", 0),
				(try_end),
			(try_end),
			(try_for_range, ":troop_3", "trp_npc1", "trp_heroes_end"),
				(troop_slot_ge, ":troop_3", 10, 1),
				(troop_get_slot, ":troop_3_leaded_party", ":troop_3", slot_troop_leaded_party),
				(party_is_active, ":troop_3_leaded_party"),
				(party_get_attached_to, ":attached_to_troop_3_leaded_party", ":troop_3_leaded_party"),
				(is_between, ":attached_to_troop_3_leaded_party", "p_town_1", "p_village_1"),
				(store_faction_of_party, ":faction_of_party_troop_3_leaded_party", ":troop_3_leaded_party"),
				(store_faction_of_party, ":faction_of_party_attached_to_troop_3_leaded_party", ":attached_to_troop_3_leaded_party"),
				(neq, ":faction_of_party_troop_3_leaded_party", ":faction_of_party_attached_to_troop_3_leaded_party"),
				(party_detach, ":troop_3_leaded_party"),
			(try_end),
			(faction_get_slot, ":script_param_2_leader_2", ":script_param_2", slot_faction_leader),
			(try_begin),
				(eq, ":script_param_2_leader_2", "trp_player"),
				(neq, ":script_param_1", "$g_talk_troop"),
				(troop_set_slot, ":script_param_1", slot_troop_occupation, 0),
			(else_try),
				(is_between, ":script_param_2_leader_2", "trp_npc1", "trp_heroes_end"),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_2_leader_2", ":script_param_1", 5),
				(val_add, "$total_indictment_changes", 5),
			(try_end),
			(try_begin),
				(troop_slot_ge, ":script_param_1", 30, 0),
			(else_try),
				(is_between, ":script_param_1", "trp_npc1", "trp_knight_1_1_wife"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(try_for_range, ":number_2", 35, 38),
					(troop_get_slot, ":script_param_1_number_2", ":script_param_1", ":number_2"),
					(is_between, ":script_param_1_number_2", "trp_knight_1_1_wife", "trp_heroes_end"),
					(call_script, "script_courtship_event_lady_break_relation_with_suitor", ":script_param_1_number_2", ":script_param_1"),
				(try_end),
				(try_begin),
					(neg|troop_slot_ge, ":script_param_1", 30, 0),
					(neg|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
					(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
					(call_script, "script_assign_troop_love_interests", ":script_param_1"),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(try_for_range, ":number_2", 35, 38),
						(troop_slot_eq, ":troop", ":number_2", ":script_param_1"),
						(call_script, "script_courtship_event_lady_break_relation_with_suitor", ":script_param_1", ":troop"),
					(try_end),
				(try_end),
			(try_end),
			(troop_get_slot, ":script_param_1_leaded_party_3", ":script_param_1", slot_troop_leaded_party),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_party_type, 4),
				(party_get_slot, ":party_village_raided_by", ":party", slot_village_raided_by),
				(eq, ":party_village_raided_by", ":script_param_1_leaded_party_3"),
				(party_set_slot, ":party", slot_village_raided_by, -1),
				(try_begin),
					(party_slot_eq, ":party", slot_village_state, 1),
					(party_set_slot, ":party", slot_village_state, 0),
					(party_set_extra_text, ":party", "str_empty_string"),
				(try_end),
			(else_try),
				(party_get_slot, ":party_center_is_besieged_by", ":party", slot_center_is_besieged_by),
				(eq, ":party_center_is_besieged_by", ":script_param_1_leaded_party_3"),
				(party_set_slot, ":party", slot_center_is_besieged_by, -1),
				(try_begin),
					(party_slot_eq, ":party", slot_village_state, 5),
					(party_set_slot, ":party", slot_village_state, 0),
					(party_set_extra_text, ":party", "str_empty_string"),
				(try_end),
			(try_end),
			(call_script, "script_update_all_notes"),
			(call_script, "script_update_village_market_towns"),
			(assign, "$g_recalculate_ais", 1)
		]),

	("troop_set_title_according_to_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(ge, ":script_param_1", 0),
				(assign, ":value", 0),
				(try_begin),
					(eq, ":script_param_2", "fac_player_supporters_faction"),
					(neq, ":script_param_1", "trp_player"),
					(try_begin),
						(eq, ":script_param_1", "trp_npc10"),
						(str_store_troop_name_plural, 12, ":script_param_1"),
						(str_store_string, 1, "str_tribune_s12"),
						(assign, ":value", 1),
					(else_try),
						(troop_get_type, ":type_script_param_1", ":script_param_1"),
						(eq, ":type_script_param_1", 0),
						(troop_slot_eq, "trp_heroes_end", slot_troop_relations_begin, 1),
						(str_store_troop_name, 0, "trp_heroes_end"),
						(str_store_troop_name_plural, 1, ":script_param_1"),
						(str_store_string, 1, "str_s0_s1"),
						(assign, ":value", 1),
					(else_try),
						(eq, ":type_script_param_1", 1),
						(troop_slot_eq, "trp_heroes_end", 1, 1),
						(str_store_troop_name_plural, 0, "trp_heroes_end"),
						(str_store_troop_name_plural, 1, ":script_param_1"),
						(str_store_string, 1, "str_s0_s1"),
						(assign, ":value", 1),
					(try_end),
					(eq, ":value", 1),
					(troop_set_name, ":script_param_1", 1),
					(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
					(try_begin),
						(gt, ":script_param_1_leaded_party", 0),
						(str_store_troop_name, 5, ":script_param_1"),
						(party_set_name, ":script_param_1_leaded_party", "str_s5_s_party"),
					(try_end),
				(else_try),
					(neq, ":script_param_1", "trp_player"),
					(call_script, "script_troop_set_title_according_to_faction_gender_and_lands", ":script_param_1", ":script_param_2"),
				(try_end),
			(try_end)
		]),

	("give_center_to_lord",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(party_set_slot, ":script_param_1", 400, 0),
			(try_begin),
				(troop_get_slot, ":troop_trees_859", "$troop_trees", 859),
				(party_slot_eq, ":script_param_1", slot_village_infested_by_bandits, ":troop_trees_859"),
				(party_set_slot, ":script_param_1", slot_village_infested_by_bandits, 0),
			(try_end),
			(call_script, "script_dplmc_prepare_hero_center_points_ignoring_center", ":script_param_1"),
			(try_begin),
				(ge, ":script_param_2", 0),
				(str_store_party_name_link, 4, ":script_param_1"),
				(str_store_troop_name_link, 5, ":script_param_2"),
				(store_faction_of_troop, ":faction_of_troop_script_param_2", ":script_param_2"),
				(try_begin),
					(eq, ":faction_of_troop_script_param_2", "fac_player_faction"),
					(is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(assign, ":faction_of_troop_script_param_2", "$players_kingdom"),
				(try_end),
				(str_store_faction_name_link, 7, ":faction_of_troop_script_param_2"),
				(try_begin),
					(faction_slot_eq, ":faction_of_troop_script_param_2", slot_faction_leader, ":script_param_2"),
					(display_log_message, "@{s5} of the {s7} has taken ownership of {s4}."),
				(else_try),
					(display_log_message, "@{s4} has been awarded to {s5} of {s7}."),
				(try_end),
			(else_try),
				(eq, "$cheat_mode", 1),
				(ge, ":script_param_2", 0),
				(str_store_party_name, 4, ":script_param_1"),
				(str_store_troop_name, 5, ":script_param_2"),
				(display_message, "@{!}DEBUG -- {s4} awarded to {s5}"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(unlock_achievement, 50),
				(assign, ":var_6", 1),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(neq, ":party", ":script_param_1"),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(val_add, ":var_6", 1),
				(try_end),
				(ge, ":var_6", 5),
				(unlock_achievement, 51),
			(try_end),
			(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
			(try_begin),
				(eq, ":script_param_2", -1),
				(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(gt, ":players_kingdom_leader", -1),
				(this_or_next|eq, ":players_kingdom_leader", "trp_player"),
				(this_or_next|troop_slot_eq, ":players_kingdom_leader", slot_troop_spouse, "trp_player"),
				(troop_slot_eq, "trp_player", slot_troop_spouse, ":players_kingdom_leader"),
				(assign, ":value", "$players_kingdom"),
				(party_set_banner_icon, ":script_param_1", 0),
			(else_try),
				(eq, ":script_param_2", -1),
				(assign, ":value", "fac_player_supporters_faction"),
				(party_set_banner_icon, ":script_param_1", 0),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(assign, ":value", "$players_kingdom"),
			(else_try),
				(store_faction_of_troop, ":value", ":script_param_2"),
			(try_end),
			(faction_get_slot, ":value_leader", ":value", slot_faction_leader),
			(try_begin),
				(eq, ":value_leader", "trp_player"),
				(try_begin),
					(troop_get_type, ":type_player", "trp_player"),
					(eq, ":type_player", 1),
					(unlock_achievement, 77),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_leader", ":script_param_1_town_lord"),
				(call_script, "script_add_log_entry", 22, ":value_leader", ":script_param_1", ":script_param_2", ":value"),
				(troop_set_slot, ":script_param_2", slot_troop_promised_fief, 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", -1),
				(party_set_faction, ":script_param_1", "$players_kingdom"),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(gt, "$players_kingdom", 0),
				(party_set_faction, ":script_param_1", "$players_kingdom"),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(neg|is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(party_set_faction, ":script_param_1", "fac_player_supporters_faction"),
			(else_try),
				(party_set_faction, ":script_param_1", ":value"),
			(try_end),
			(party_set_slot, ":script_param_1", slot_town_lord, ":script_param_2"),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 4),
				(party_get_slot, ":script_param_1_village_farmer_party", ":script_param_1", slot_village_farmer_party),
				(gt, ":script_param_1_village_farmer_party", 0),
				(party_is_active, ":script_param_1_village_farmer_party"),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(party_set_faction, ":script_param_1_village_farmer_party", ":faction_of_party_script_param_1"),
			(try_end),
			(try_begin),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 3),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(gt, ":script_param_2", -1),
				(troop_get_slot, ":script_param_2_banner_scene_prop", ":script_param_2", slot_troop_banner_scene_prop),
				(gt, ":script_param_2_banner_scene_prop", 0),
				(val_sub, ":script_param_2_banner_scene_prop", "spr_banner_a"),
				(val_add, ":script_param_2_banner_scene_prop", "icon_banner_01"),
				(party_set_banner_icon, ":script_param_1", ":script_param_2_banner_scene_prop"),
			(try_end),
			(try_begin),
				(gt, ":script_param_2", -1),
				(call_script, "script_update_troop_notes", ":script_param_2"),
			(try_end),
			(call_script, "script_update_center_notes", ":script_param_1"),
			(try_begin),
				(gt, ":value", 0),
				(call_script, "script_update_faction_notes", ":value"),
			(try_end),
			(try_begin),
				(ge, ":script_param_1_town_lord", 0),
				(call_script, "script_update_troop_notes", ":script_param_1_town_lord"),
				(store_faction_of_troop, ":faction_of_troop_script_param_1_town_lord", ":script_param_1_town_lord"),
				(call_script, "script_update_faction_notes", ":faction_of_troop_script_param_1_town_lord"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 3),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(assign, ":value_2", 3),
				(try_begin),
					(party_slot_eq, ":script_param_1", slot_party_type, 3),
					(assign, ":value_2", 9),
				(try_end),
				(try_for_range, ":unused", 0, ":value_2"),
					(call_script, "script_cf_reinforce_party", ":script_param_1"),
				(try_end),
				(try_for_range, ":unused", 0, 7),
					(store_mul, ":value_3", 150, ":value_2"),
					(store_mul, ":value_4", 200, ":value_2"),
					(store_random_in_range, ":random_in_range_value_3_value_4", ":value_3", ":value_4"),
					(party_upgrade_with_xp, ":script_param_1", ":random_in_range_value_3_value_4", 0),
				(try_end),
			(try_end),
			(faction_get_slot, ":value_leader", ":value", slot_faction_leader),
			(store_current_hours, ":current_hours"),
			(try_begin),
				(gt, ":current_hours", 0),
				(gt, ":script_param_2", 0),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_2", ":value_leader", 10),
				(val_add, "$total_promotion_changes", 10),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(neq, ":troop", ":script_param_2"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":value", ":faction_of_troop_troop"),
					(neq, ":troop", ":value_leader"),
					(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_2"),
					(assign, ":var_25", reg0),
					(store_div, ":value_5", ":var_25", 8),
					(val_sub, ":value_5", 2),
					(val_clamp, ":value_5", -5, 3),
					(try_begin),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 7),
						(troop_slot_eq, ":troop", slot_lord_reputation_type, 6),
						(ge, ":var_25", 0),
						(val_max, ":value_5", 0),
					(else_try),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 3),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 5),
						(troop_slot_eq, ":troop", slot_lord_reputation_type, 2),
						(lt, ":value_5", 0),
						(val_mul, ":value_5", 3),
						(val_div, ":value_5", 2),
					(try_end),
					(try_begin),
						(ge, "$g_dplmc_ai_changes", 1),
						(try_begin),
							(neg|troop_slot_eq, ":troop", slot_lord_reputation_type, 5),
							(neg|troop_slot_eq, ":troop", slot_lord_reputation_type, 3),
							(neg|troop_slot_eq, ":troop", slot_lord_reputation_type, 2),
							(lt, ":value_5", 0),
							(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
							(troop_slot_eq, ":script_param_2", slot_troop_temp_slot, 0),
							(ge, ":var_25", 0),
							(val_max, ":value_5", 0),
						(try_end),
						(try_begin),
							(lt, ":value_5", 0),
							(party_slot_eq, ":script_param_1", 401, ":script_param_2"),
							(neq, ":script_param_2", 0),
							(val_add, ":value_5", 1),
							(lt, ":value_5", 0),
							(ge, ":var_25", 0),
							(neg|party_slot_eq, ":script_param_1", 402, ":troop"),
							(neg|troop_slot_eq, ":troop", slot_troop_home, ":script_param_1"),
							(this_or_next|neg|troop_slot_ge, ":troop", 154, 0),
							(neg|party_slot_eq, ":script_param_1", slot_center_last_taken_by_troop, ":troop"),
							(val_add, ":value_5", 1),
						(else_try),
							(lt, ":value_5", 0),
							(neg|party_slot_eq, ":script_param_1", 401, ":script_param_2"),
							(this_or_next|party_slot_eq, ":script_param_1", 402, ":script_param_2"),
							(troop_slot_eq, ":script_param_2", slot_troop_home, ":script_param_1"),
							(ge, ":var_25", 0),
							(neg|troop_slot_eq, ":troop", slot_troop_home, ":script_param_1"),
							(neg|party_slot_eq, ":script_param_1", 402, ":troop"),
							(neg|party_slot_eq, ":script_param_1", 401, ":troop"),
							(this_or_next|neg|troop_slot_ge, ":troop", 154, 0),
							(neg|party_slot_eq, ":script_param_1", slot_center_last_taken_by_troop, ":troop"),
							(val_add, ":value_5", 1),
						(try_end),
						(try_begin),
							(lt, ":value_5", 1),
							(this_or_next|party_slot_eq, ":script_param_1", 401, ":troop"),
							(this_or_next|party_slot_eq, ":script_param_1", 402, ":troop"),
							(troop_slot_eq, ":troop", slot_troop_home, ":script_param_1"),
							(val_sub, ":value_5", 1),
						(else_try),
							(lt, ":value_5", 0),
							(party_slot_eq, ":script_param_1", slot_center_last_taken_by_troop, ":script_param_2"),
							(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 7),
							(troop_slot_eq, ":troop", slot_lord_reputation_type, 1),
							(val_add, ":value_5", 1),
						(try_end),
					(try_end),
					(neq, ":value_5", 0),
					(try_begin),
						(troop_slot_eq, ":troop", slot_troop_stance_on_faction_issue, ":script_param_2"),
						(val_add, ":value_5", 1),
						(val_max, ":value_5", 1),
					(try_end),
					(call_script, "script_troop_change_relation_with_troop", ":troop", ":value_leader", ":value_5"),
					(val_add, "$total_promotion_changes", ":value_5"),
					(try_begin),
						(this_or_next|le, ":value_5", -4),
						(this_or_next|troop_slot_eq, ":troop", slot_troop_promised_fief, 1),
						(troop_slot_eq, ":troop", slot_troop_promised_fief, ":script_param_1"),
						(call_script, "script_add_log_entry", 26, ":troop", ":script_param_1", ":script_param_2", ":value"),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":script_param_1_town_lord", ":script_param_2"),
				(try_begin),
					(gt, ":script_param_1_town_lord", -1),
					(troop_set_slot, ":script_param_1_town_lord", 56, 0),
				(try_end),
				(try_begin),
					(gt, ":script_param_2", -1),
					(troop_set_slot, ":script_param_2", 56, 0),
				(try_end),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "p_town_1", "p_village_1"),
				(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
					(party_slot_eq, ":party_2", slot_village_bound_center, ":script_param_1"),
					(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
					(neq, ":faction_of_party_party_2", ":value"),
					(call_script, "script_give_center_to_lord", ":party_2", ":script_param_2", 0),
				(try_end),
			(try_end),
			(call_script, "script_troop_set_title_according_to_faction", ":script_param_2", ":value"),
			(try_begin),
				(ge, ":script_param_2", 0),
				(troop_slot_ge, ":script_param_2", 30, 0),
				(troop_get_slot, ":script_param_2_spouse", ":script_param_2", slot_troop_spouse),
				(call_script, "script_troop_set_title_according_to_faction", ":script_param_2_spouse", ":value"),
			(try_end)
		]),

	("start_give_center_to_lord",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(party_set_slot, ":script_param_1", 400, 0),
			(try_begin),
				(troop_get_slot, ":troop_trees_859", "$troop_trees", 859),
				(party_slot_eq, ":script_param_1", slot_village_infested_by_bandits, ":troop_trees_859"),
				(party_set_slot, ":script_param_1", slot_village_infested_by_bandits, 0),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(ge, ":script_param_2", 0),
				(str_store_party_name, 4, ":script_param_1"),
				(str_store_troop_name, 5, ":script_param_2"),
				(display_message, "@{!}DEBUG -- {s4} awarded to {s5}"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(unlock_achievement, 50),
				(assign, ":var_5", 1),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(neq, ":party", ":script_param_1"),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(val_add, ":var_5", 1),
				(try_end),
				(ge, ":var_5", 5),
				(unlock_achievement, 51),
			(try_end),
			(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
			(try_begin),
				(eq, ":script_param_2", -1),
				(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(gt, ":players_kingdom_leader", -1),
				(this_or_next|eq, ":players_kingdom_leader", "trp_player"),
				(this_or_next|troop_slot_eq, ":players_kingdom_leader", slot_troop_spouse, "trp_player"),
				(troop_slot_eq, "trp_player", slot_troop_spouse, ":players_kingdom_leader"),
				(assign, ":value", "$players_kingdom"),
				(party_set_banner_icon, ":script_param_1", 0),
			(else_try),
				(eq, ":script_param_2", -1),
				(assign, ":value", "fac_player_supporters_faction"),
				(party_set_banner_icon, ":script_param_1", 0),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(assign, ":value", "$players_kingdom"),
			(else_try),
				(store_faction_of_troop, ":value", ":script_param_2"),
			(try_end),
			(faction_get_slot, ":value_leader", ":value", slot_faction_leader),
			(try_begin),
				(eq, ":value_leader", ":script_param_1_town_lord"),
				(call_script, "script_add_log_entry", 22, ":value_leader", ":script_param_1", ":script_param_2", ":value"),
				(troop_set_slot, ":script_param_2", slot_troop_promised_fief, 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", -1),
				(party_set_faction, ":script_param_1", "$players_kingdom"),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(gt, "$players_kingdom", 0),
				(party_set_faction, ":script_param_1", "$players_kingdom"),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(neg|is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(party_set_faction, ":script_param_1", "fac_player_supporters_faction"),
			(else_try),
				(party_set_faction, ":script_param_1", ":value"),
			(try_end),
			(party_set_slot, ":script_param_1", slot_town_lord, ":script_param_2"),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 4),
				(party_get_slot, ":script_param_1_village_farmer_party", ":script_param_1", slot_village_farmer_party),
				(gt, ":script_param_1_village_farmer_party", 0),
				(party_is_active, ":script_param_1_village_farmer_party"),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(party_set_faction, ":script_param_1_village_farmer_party", ":faction_of_party_script_param_1"),
			(try_end),
			(try_begin),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 3),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(gt, ":script_param_2", -1),
				(troop_get_slot, ":script_param_2_banner_scene_prop", ":script_param_2", slot_troop_banner_scene_prop),
				(gt, ":script_param_2_banner_scene_prop", 0),
				(val_sub, ":script_param_2_banner_scene_prop", "spr_banner_a"),
				(val_add, ":script_param_2_banner_scene_prop", "icon_banner_01"),
				(party_set_banner_icon, ":script_param_1", ":script_param_2_banner_scene_prop"),
			(try_end),
			(try_begin),
				(gt, ":script_param_2", -1),
				(call_script, "script_update_troop_notes", ":script_param_2"),
			(try_end),
			(call_script, "script_update_center_notes", ":script_param_1"),
			(try_begin),
				(gt, ":value", 0),
				(call_script, "script_update_faction_notes", ":value"),
			(try_end),
			(try_begin),
				(ge, ":script_param_1_town_lord", 0),
				(call_script, "script_update_troop_notes", ":script_param_1_town_lord"),
				(store_faction_of_troop, ":faction_of_troop_script_param_1_town_lord", ":script_param_1_town_lord"),
				(call_script, "script_update_faction_notes", ":faction_of_troop_script_param_1_town_lord"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 3),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(assign, ":value_2", 3),
				(try_begin),
					(party_slot_eq, ":script_param_1", slot_party_type, 3),
					(assign, ":value_2", 9),
				(try_end),
				(try_for_range, ":unused", 0, ":value_2"),
					(call_script, "script_cf_reinforce_party", ":script_param_1"),
				(try_end),
				(try_for_range, ":unused", 0, 7),
					(store_mul, ":value_3", 150, ":value_2"),
					(store_mul, ":value_4", 200, ":value_2"),
					(store_random_in_range, ":random_in_range_value_3_value_4", ":value_3", ":value_4"),
					(party_upgrade_with_xp, ":script_param_1", ":random_in_range_value_3_value_4", 0),
				(try_end),
			(try_end),
			(faction_get_slot, ":value_leader", ":value", slot_faction_leader),
			(store_current_hours, ":current_hours"),
			(try_begin),
				(gt, ":current_hours", 0),
				(gt, ":script_param_2", 0),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_2", ":value_leader", 10),
				(val_add, "$total_promotion_changes", 10),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(neq, ":troop", ":script_param_2"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":value", ":faction_of_troop_troop"),
					(neq, ":troop", ":value_leader"),
					(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_2"),
					(assign, ":var_23", reg0),
					(store_div, ":value_5", ":var_23", 8),
					(val_sub, ":value_5", 2),
					(val_clamp, ":value_5", -5, 3),
					(try_begin),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 9),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 21),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 25),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 23),
						(troop_slot_eq, ":troop", slot_lord_reputation_type, 6),
						(ge, ":var_23", 0),
						(val_max, ":value_5", 0),
					(else_try),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 3),
						(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 5),
						(troop_slot_eq, ":troop", slot_lord_reputation_type, 2),
						(lt, ":value_5", 0),
						(val_mul, ":value_5", 3),
						(val_div, ":value_5", 2),
					(try_end),
					(try_begin),
						(ge, "$g_dplmc_ai_changes", 1),
						(try_begin),
							(neg|troop_slot_eq, ":troop", slot_lord_reputation_type, 5),
							(neg|troop_slot_eq, ":troop", slot_lord_reputation_type, 3),
							(neg|troop_slot_eq, ":troop", slot_lord_reputation_type, 2),
							(lt, ":value_5", 0),
							(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
							(troop_slot_eq, ":script_param_2", slot_troop_temp_slot, 0),
							(ge, ":var_23", 0),
							(val_max, ":value_5", 0),
						(try_end),
						(try_begin),
							(lt, ":value_5", 0),
							(party_slot_eq, ":script_param_1", 401, ":script_param_2"),
							(neq, ":script_param_2", 0),
							(val_add, ":value_5", 1),
							(lt, ":value_5", 0),
							(ge, ":var_23", 0),
							(neg|party_slot_eq, ":script_param_1", 402, ":troop"),
							(neg|troop_slot_eq, ":troop", slot_troop_home, ":script_param_1"),
							(this_or_next|neg|troop_slot_ge, ":troop", 154, 0),
							(neg|party_slot_eq, ":script_param_1", slot_center_last_taken_by_troop, ":troop"),
							(val_add, ":value_5", 1),
						(else_try),
							(lt, ":value_5", 0),
							(neg|party_slot_eq, ":script_param_1", 401, ":script_param_2"),
							(this_or_next|party_slot_eq, ":script_param_1", 402, ":script_param_2"),
							(troop_slot_eq, ":script_param_2", slot_troop_home, ":script_param_1"),
							(ge, ":var_23", 0),
							(neg|troop_slot_eq, ":troop", slot_troop_home, ":script_param_1"),
							(neg|party_slot_eq, ":script_param_1", 402, ":troop"),
							(neg|party_slot_eq, ":script_param_1", 401, ":troop"),
							(this_or_next|neg|troop_slot_ge, ":troop", 154, 0),
							(neg|party_slot_eq, ":script_param_1", slot_center_last_taken_by_troop, ":troop"),
							(val_add, ":value_5", 1),
						(try_end),
						(try_begin),
							(lt, ":value_5", 1),
							(this_or_next|party_slot_eq, ":script_param_1", 401, ":troop"),
							(this_or_next|party_slot_eq, ":script_param_1", 402, ":troop"),
							(troop_slot_eq, ":troop", slot_troop_home, ":script_param_1"),
							(val_sub, ":value_5", 1),
						(else_try),
							(lt, ":value_5", 0),
							(party_slot_eq, ":script_param_1", slot_center_last_taken_by_troop, ":script_param_2"),
							(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 7),
							(troop_slot_eq, ":troop", slot_lord_reputation_type, 1),
							(val_add, ":value_5", 1),
						(try_end),
					(try_end),
					(neq, ":value_5", 0),
					(try_begin),
						(troop_slot_eq, ":troop", slot_troop_stance_on_faction_issue, ":script_param_2"),
						(val_add, ":value_5", 1),
						(val_max, ":value_5", 1),
					(try_end),
					(call_script, "script_troop_change_relation_with_troop", ":troop", ":value_leader", ":value_5"),
					(val_add, "$total_promotion_changes", ":value_5"),
					(try_begin),
						(this_or_next|le, ":value_5", -4),
						(this_or_next|troop_slot_eq, ":troop", slot_troop_promised_fief, 1),
						(troop_slot_eq, ":troop", slot_troop_promised_fief, ":script_param_1"),
						(call_script, "script_add_log_entry", 26, ":troop", ":script_param_1", ":script_param_2", ":value"),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "p_town_1", "p_village_1"),
				(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
					(party_slot_eq, ":party_2", slot_village_bound_center, ":script_param_1"),
					(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
					(neq, ":faction_of_party_party_2", ":value"),
					(call_script, "script_give_center_to_lord", ":party_2", ":script_param_2", 0),
				(try_end),
			(try_end),
			(call_script, "script_troop_set_title_according_to_faction", ":script_param_2", ":value"),
			(try_begin),
				(ge, ":script_param_2", 0),
				(troop_slot_ge, ":script_param_2", 30, 0),
				(troop_get_slot, ":script_param_2_spouse", ":script_param_2", slot_troop_spouse),
				(call_script, "script_troop_set_title_according_to_faction", ":script_param_2_spouse", ":value"),
			(try_end)
		]),

	("get_number_of_hero_centers",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(val_add, ":var_2", 1),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("cf_get_random_enemy_center",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(store_relation, ":relation_faction_of_party_party_faction_of_party_script_param_1", ":faction_of_party_party", ":faction_of_party_script_param_1"),
				(lt, ":relation_faction_of_party_party_faction_of_party_script_param_1", 0),
				(val_add, ":value_2", 1),
			(try_end),
			(gt, ":value_2", 0),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(eq, ":value", -1),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(store_relation, ":relation_faction_of_party_party_faction_of_party_script_param_1", ":faction_of_party_party", ":faction_of_party_script_param_1"),
				(lt, ":relation_faction_of_party_party_faction_of_party_script_param_1", 0),
				(val_sub, ":random_in_range_0_value_2", 1),
				(lt, ":random_in_range_0_value_2", 0),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("find_travel_location",
		[
			(store_script_param_1, ":script_param_1"),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(assign, ":value", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(neq, ":script_param_1", ":party"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_script_param_1", ":faction_of_party_party"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(val_add, ":distance_to_party_from_party_script_param_1_party", 1),
				(assign, ":value_2", 100000),
				(val_div, ":value_2", ":distance_to_party_from_party_script_param_1_party"),
				(val_add, ":value", ":value_2"),
			(try_end),
			(assign, reg0, -1),
			(try_begin),
				(eq, ":value", 0),
			(else_try),
				(store_random_in_range, ":random_in_range_0_value", 0, ":value"),
				(assign, ":value", 0),
				(assign, ":value_3", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(eq, ":value_3", 0),
					(neq, ":script_param_1", ":party"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(eq, ":faction_of_party_script_param_1", ":faction_of_party_party"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
					(val_add, ":distance_to_party_from_party_script_param_1_party", 1),
					(assign, ":value_2", 100000),
					(val_div, ":value_2", ":distance_to_party_from_party_script_param_1_party"),
					(val_add, ":value", ":value_2"),
					(lt, ":random_in_range_0_value", ":value"),
					(assign, reg0, ":party"),
					(assign, ":value_3", 1),
				(try_end),
			(try_end)
		]),

	("get_relation_between_parties",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
			(try_begin),
				(eq, ":faction_of_party_script_param_1", ":faction_of_party_script_param_2"),
				(assign, reg0, 100),
			(else_try),
				(store_relation, ":relation_faction_of_party_script_param_1_faction_of_party_script_param_2", ":faction_of_party_script_param_1", ":faction_of_party_script_param_2"),
				(assign, reg0, ":relation_faction_of_party_script_param_1_faction_of_party_script_param_2"),
			(try_end)
		]),

	("calculate_weekly_party_wage",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(call_script, "script_npc_get_troop_wage", ":party_stack_troop_id_script_param_1_number", ":script_param_1"),
				(assign, ":var_7", reg0),
				(val_mul, ":var_7", ":party_stack_size_script_param_1_number"),
				(val_add, ":var_2", ":var_7"),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("calculate_player_faction_wage",
		[
			(assign, ":var_1", 0),
			(assign, ":var_2", 0),
			(try_for_parties, ":var_3"),
				(assign, ":value", 0),
				(try_begin),
					(this_or_next|party_slot_eq, ":var_3", slot_party_type, 3),
					(party_slot_eq, ":var_3", slot_party_type, 2),
					(party_slot_eq, ":var_3", slot_town_lord, "trp_player"),
					(assign, ":value", 1),
				(try_end),
				(this_or_next|eq, ":var_3", "p_main_party"),
				(eq, ":value", 1),
				(party_get_num_companion_stacks, ":num_companion_stacks_var_3", ":var_3"),
				(try_for_range, ":number", 0, ":num_companion_stacks_var_3"),
					(party_stack_get_troop_id, ":party_stack_troop_id_var_3_number", ":var_3", ":number"),
					(party_stack_get_size, ":party_stack_size_var_3_number", ":var_3", ":number"),
					(call_script, "script_game_get_troop_wage", ":party_stack_troop_id_var_3_number", ":var_3"),
					(assign, ":var_9", reg0),
					(val_mul, ":var_9", ":party_stack_size_var_3_number"),
					(try_begin),
						(eq, ":value", 1),
						(val_add, ":var_2", ":var_9"),
					(else_try),
						(val_add, ":var_1", ":var_9"),
					(try_end),
				(try_end),
			(try_end),
			(val_div, ":var_2", 2),
			(store_sub, ":value_2", 14, "$g_cur_week_half_daily_wage_payments"),
			(val_mul, ":var_1", ":value_2"),
			(val_div, ":var_1", 14),
			(store_add, reg0, ":var_1", ":var_2")
		]),

	("calculate_hero_weekly_net_income_and_add_to_wealth",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(troop_get_slot, ":script_param_1_wealth", ":script_param_1", slot_troop_wealth),
			(assign, ":var_4", 750),
			(store_character_level, ":character_level_script_param_1", ":script_param_1"),
			(store_mul, ":value", ":character_level_script_param_1", 10),
			(val_add, ":var_4", ":value"),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(assign, ":var_8", 1000),
			(assign, ":var_9", 0),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 2),
				(is_between, ":faction_of_troop_script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(store_sub, ":value_2", "fac_kingdoms_end", "fac_kingdom_1"),
				(ge, ":value_2", 2),
				(assign, ":var_11", 0),
				(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_slot_eq, ":faction", slot_faction_state, 0),
					(val_add, ":var_11", 1),
				(try_end),
				(ge, ":var_11", 1),
				(lt, ":var_11", ":value_2"),
				(val_mul, ":var_8", ":value_2"),
				(val_div, ":var_8", ":var_11"),
			(try_end),
			(try_begin),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
				(val_add, ":var_4", ":var_8"),
				(val_add, ":var_9", 1),
			(try_end),
			(try_begin),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(val_add, ":var_4", ":var_8"),
				(val_add, ":var_9", 1),
			(try_end),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 1),
				(eq, ":var_9", 0),
				(is_between, ":faction_of_troop_script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_get_slot, ":faction_of_troop_script_param_1_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
				(ge, ":faction_of_troop_script_param_1_leader", 0),
				(troop_slot_eq, ":faction_of_troop_script_param_1_leader", slot_troop_spouse, ":script_param_1"),
				(this_or_next|neg|faction_slot_ge, ":faction_of_troop_script_param_1", 8, 0),
				(eq, ":faction_of_troop_script_param_1_leader", "trp_player"),
				(val_add, ":var_9", 1),
				(store_div, reg0, ":var_8", 2),
				(val_add, ":var_4", reg0),
			(try_end),
			(assign, ":value_3", 0),
			(try_begin),
				(gt, ":script_param_1_leaded_party", 0),
				(call_script, "script_calculate_weekly_party_wage", ":script_param_1_leaded_party"),
				(assign, ":value_3", reg0),
			(try_end),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 2),
				(store_skill_level, ":skill_level_leadership_script_param_1", "skl_leadership", ":script_param_1"),
				(val_clamp, ":skill_level_leadership_script_param_1", 0, 11),
				(store_mul, ":value_4", 5, ":skill_level_leadership_script_param_1"),
				(store_sub, ":value_5", 100, ":value_4"),
				(val_mul, ":value_3", ":value_5"),
				(val_div, ":value_3", 100),
			(try_end),
			(store_sub, ":value_6", ":var_4", ":value_3"),
			(val_sub, ":var_4", ":value_3"),
			(val_add, ":script_param_1_wealth", ":var_4"),
			(try_begin),
				(lt, ":script_param_1_wealth", 0),
				(store_sub, ":value_7", 0, ":script_param_1_wealth"),
				(val_mul, ":value_7", 100),
				(val_div, ":value_7", ":value_3"),
				(val_div, ":value_7", 5),
				(val_clamp, ":value_7", 0, 21),
				(call_script, "script_party_inflict_attrition", ":script_param_1_leaded_party", ":value_7", 1),
			(try_end),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 2),
				(ge, ":value_6", 1),
				(call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", ":value_6", ":script_param_1"),
			(else_try),
				(val_max, ":script_param_1_wealth", 0),
				(troop_set_slot, ":script_param_1", slot_troop_wealth, ":script_param_1_wealth"),
			(try_end)
		]),

	("cf_reinforce_party",
		[
			(store_script_param_1, ":script_param_1"),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(assign, ":var_3", ":faction_of_party_script_param_1"),
			(party_get_slot, ":script_param_1_type", ":script_param_1", slot_party_type),
			(try_begin),
				(eq, ":script_param_1_type", 13),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1", ":script_param_1"),
				(troop_get_slot, ":faction_of_party_script_param_1", ":party_stack_troop_id_script_param_1", slot_troop_original_faction),
				(eq, ":var_3", "fac_player_supporters_faction"),
				(is_between, "$g_player_culture", "fac_kingdom_1", "fac_kingdoms_end"),
				(this_or_next|is_between, ":party_stack_troop_id_script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, ":party_stack_troop_id_script_param_1"),
				(neg|is_between, ":party_stack_troop_id_script_param_1", "trp_npc1", "trp_heroes_end"),
				(assign, ":faction_of_party_script_param_1", "$g_player_culture"),
			(try_end),
			(try_begin),
				(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(try_begin),
					(is_between, "$g_player_culture", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(assign, ":faction_of_party_script_param_1", "$g_player_culture"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_party_name, 11, ":script_param_1"),
						(display_message, "@pt in {s11}"),
					(try_end),
				(else_try),
					(gt, ":script_param_1_town_lord", 0),
					(troop_get_slot, ":faction_of_party_script_param_1", ":script_param_1_town_lord", slot_troop_original_faction),
				(else_try),
					(party_get_slot, ":faction_of_party_script_param_1", ":script_param_1", slot_center_original_faction),
				(try_end),
			(try_end),
			(try_begin),
				(gt, ":var_3", "fac_commoners"),
				(this_or_next|eq, ":var_3", "fac_player_faction"),
				(this_or_next|eq, ":var_3", "fac_player_supporters_faction"),
				(eq, ":var_3", "$players_kingdom"),
				(neg|is_between, ":faction_of_party_script_param_1", "fac_kingdom_1", "fac_kingdoms_end"),
				(is_between, "$g_player_culture", "fac_kingdom_1", "fac_kingdoms_end"),
				(assign, ":faction_of_party_script_param_1", "$g_player_culture"),
			(try_end),
			(faction_get_slot, ":faction_of_party_script_param_1_reinforcements_a", ":faction_of_party_script_param_1", slot_faction_reinforcements_a),
			(faction_get_slot, ":faction_of_party_script_param_1_reinforcements_b", ":faction_of_party_script_param_1", slot_faction_reinforcements_b),
			(faction_get_slot, ":faction_of_party_script_param_1_reinforcements_c", ":faction_of_party_script_param_1", slot_faction_reinforcements_c),
			(faction_get_slot, ":faction_of_party_script_param_1_106", ":faction_of_party_script_param_1", 106),
			(faction_get_slot, ":faction_of_party_script_param_1_107", ":faction_of_party_script_param_1", 107),
			(faction_get_slot, ":faction_of_party_script_param_1_108", ":faction_of_party_script_param_1", 108),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_14"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_swann_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_swann_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_swann_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_swann_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_swann_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_swann_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_18"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_swann_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_swann_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_swann_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_swann_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_swann_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_swann_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_8"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_caron_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_caron_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_caron_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_caron_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_caron_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_caron_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_6"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_manderly_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_manderly_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_manderly_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_manderly_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_manderly_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_manderly_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_15"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_manderly_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_manderly_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_manderly_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_manderly_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_manderly_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_manderly_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_24"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_manderly_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_manderly_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_manderly_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_manderly_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_manderly_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_manderly_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_4_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_titan_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_titan_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_titan_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_titan_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_titan_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_titan_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_4_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_titan_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_titan_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_titan_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_titan_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_titan_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_titan_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_4_1"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_titan_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_titan_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_titan_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_titan_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_titan_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_titan_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_33"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_clegane_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_clegane_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_clegane_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_clegane_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_clegane_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_clegane_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_41"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_holy_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_holy_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_holy_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_holy_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_holy_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_holy_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_16_7"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_crow_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_crow_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_crow_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_crow_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_crow_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_crow_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_16_6"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_horror_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_horror_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_horror_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_horror_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_horror_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_horror_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_16_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_triarch_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_triarch_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_triarch_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_triarch_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_triarch_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_triarch_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_16_1"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_triarch_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_triarch_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_triarch_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_triarch_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_triarch_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_triarch_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_16_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_triarch_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_triarch_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_triarch_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_triarch_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_triarch_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_triarch_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_qohor_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_lance_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_lance_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_lance_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_lance_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_lance_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_lance_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_18_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_maze_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_maze_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_maze_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_maze_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_maze_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_maze_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_18_3"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_ibb_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_ibb_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_ibb_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_ibb_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_ibb_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_ibb_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_17_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_norvos_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_norvos_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_norvos_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_norvos_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_norvos_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_norvos_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_12_5"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_rose_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_rose_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_rose_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_rose_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_rose_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_rose_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_12_3"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_dothraki_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_dothraki_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_dothraki_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_dothraki_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_dothraki_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_dothraki_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_12_4"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_dothraki_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_dothraki_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_dothraki_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_dothraki_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_dothraki_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_dothraki_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_15_4"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_summer_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_summer_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_summer_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_summer_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_summer_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_summer_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_15_7"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_maiden_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_maiden_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_maiden_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_maiden_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_maiden_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_maiden_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_13_5"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_stormbreaker_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_stormbreaker_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_stormbreaker_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_stormbreaker_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_stormbreaker_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_stormbreaker_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_13_4"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_corsair_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_corsair_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_corsair_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_corsair_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_corsair_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_corsair_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_21_6"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_thenn_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_thenn_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_thenn_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_thenn_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_thenn_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_thenn_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_11_7"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_drumm_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_drumm_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_drumm_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_drumm_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_drumm_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_drumm_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_11_4"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_harlaw_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_harlaw_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_harlaw_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_harlaw_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_harlaw_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_harlaw_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_11_14"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_harlaw_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_harlaw_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_harlaw_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_harlaw_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_harlaw_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_harlaw_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_1"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_umber_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_umber_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_umber_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_umber_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_umber_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_umber_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_13"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_umber_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_umber_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_umber_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_umber_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_umber_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_umber_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_3"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_bolton_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_bolton_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_bolton_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_bolton_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_bolton_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_bolton_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_2_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_stark_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_stark_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_stark_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_stark_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_stark_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_stark_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_9"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_ryswell_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_ryswell_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_ryswell_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_ryswell_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_ryswell_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_ryswell_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_18"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_ryswell_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_ryswell_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_ryswell_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_ryswell_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_ryswell_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_ryswell_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_7"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_glover_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_glover_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_glover_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_glover_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_glover_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_glover_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_2_11"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_glover_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_glover_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_glover_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_glover_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_glover_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_glover_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_5"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_blackwood_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_blackwood_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_blackwood_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_blackwood_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_blackwood_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_blackwood_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_16"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_15"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_14"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_11"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_10"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_9"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_8"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_7"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_4"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_river_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_river_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_river_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_river_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_river_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_river_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_6"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_bracken_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_bracken_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_bracken_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_bracken_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_bracken_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_bracken_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_1"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_frey_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_frey_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_frey_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_frey_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_frey_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_frey_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_frey_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_frey_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_frey_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_frey_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_frey_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_frey_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_3"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_frey_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_frey_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_frey_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_frey_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_frey_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_frey_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_5_13"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_frey_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_frey_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_frey_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_frey_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_frey_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_frey_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_3_5"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_hunter_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_hunter_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_hunter_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_hunter_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_hunter_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_hunter_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_6_8"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_yronwood_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_yronwood_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_yronwood_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_yronwood_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_yronwood_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_yronwood_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_6_10"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_qorgyle_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_qorgyle_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_qorgyle_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_qorgyle_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_qorgyle_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_qorgyle_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_6_15"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_qorgyle_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_qorgyle_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_qorgyle_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_qorgyle_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_qorgyle_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_qorgyle_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_6_17"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_qorgyle_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_qorgyle_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_qorgyle_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_qorgyle_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_qorgyle_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_qorgyle_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_6_3"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_fowler_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_fowler_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_fowler_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_fowler_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_fowler_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_fowler_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_9"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_sarsfield_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_sarsfield_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_sarsfield_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_sarsfield_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_sarsfield_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_sarsfield_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_42"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_vargo_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_vargo_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_vargo_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_vargo_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_vargo_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_vargo_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_25"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_sarsfield_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_sarsfield_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_sarsfield_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_sarsfield_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_sarsfield_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_sarsfield_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_14"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_banefort_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_banefort_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_banefort_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_banefort_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_banefort_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_banefort_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_3_12"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_royce_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_royce_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_royce_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_royce_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_royce_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_royce_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_3_15"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_royce_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_royce_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_royce_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_royce_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_royce_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_royce_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_8_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_stannis_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_stannis_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_stannis_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_stannis_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_stannis_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_stannis_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_8_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_velaryon_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_velaryon_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_velaryon_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_velaryon_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_velaryon_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_velaryon_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_sellsword_1"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_windblown_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_windblown_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_windblown_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_windblown_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_windblown_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_windblown_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_sellsword_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_company_cat_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_company_cat_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_company_cat_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_company_cat_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_company_cat_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_company_cat_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_8_14"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_saan_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_saan_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_saan_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_saan_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_saan_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_saan_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_9_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_lannister_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_lannister_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_lannister_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_lannister_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_lannister_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_lannister_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_lannister_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_lannister_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_lannister_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_lannister_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_lannister_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_lannister_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_8"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_lannister_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_lannister_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_lannister_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_lannister_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_lannister_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_lannister_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_9_15"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_lannister_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_lannister_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_lannister_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_lannister_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_lannister_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_lannister_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_10_1"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_redwyne_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_redwyne_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_redwyne_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_redwyne_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_redwyne_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_redwyne_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_kingdom_10_lord"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_tyrell_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_tyrell_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_tyrell_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_tyrell_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_tyrell_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_tyrell_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_10_8"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_tyrell_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_tyrell_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_tyrell_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_tyrell_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_tyrell_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_tyrell_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_9"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_tyrell_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_tyrell_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_tyrell_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_tyrell_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_tyrell_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_tyrell_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_10_4"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_hightower_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_hightower_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_hightower_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_hightower_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_hightower_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_hightower_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_10_27"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_hightower_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_hightower_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_hightower_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_hightower_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_hightower_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_hightower_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_3"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_4"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_5"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_6"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_7"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_8"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_9"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_20_10"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_golden_company_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_golden_company_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_golden_company_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_golden_company_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_golden_company_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_golden_company_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_8_6"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_celtigar_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_celtigar_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_celtigar_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_celtigar_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_celtigar_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_celtigar_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_3"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_tarth_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_tarth_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_tarth_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_tarth_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_tarth_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_tarth_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_3_10"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_grafton_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_grafton_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_grafton_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_grafton_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_grafton_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_grafton_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_1"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_kingswood_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_kingswood_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_kingswood_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_kingswood_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_kingswood_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_kingswood_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_2"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_kingswood_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_kingswood_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_kingswood_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_kingswood_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_kingswood_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_kingswood_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":party_stack_troop_id_script_param_1", "trp_knight_1_7"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_kingswood_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_kingswood_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_kingswood_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_kingswood_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_kingswood_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_kingswood_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_16"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_16_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_16_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_16_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_16_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_16_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_16_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_17"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_17_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_17_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_17_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_17_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_17_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_17_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_40"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_40_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_40_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_40_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_40_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_40_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_40_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_51"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_51_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_51_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_51_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_51_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_51_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_51_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_47"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_47_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_47_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_47_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_47_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_47_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_47_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_45"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_45_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_45_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_45_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_45_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_45_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_45_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_46"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_46_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_46_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_46_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_46_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_46_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_46_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_12"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_12_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_12_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_12_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_12_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_12_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_12_reinforcements_f"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_44"),
				(assign, ":faction_of_party_script_param_1_reinforcements_a", "pt_town_44_reinforcements_a"),
				(assign, ":faction_of_party_script_param_1_reinforcements_b", "pt_town_44_reinforcements_b"),
				(assign, ":faction_of_party_script_param_1_reinforcements_c", "pt_town_44_reinforcements_c"),
				(assign, ":faction_of_party_script_param_1_106", "pt_town_44_reinforcements_d"),
				(assign, ":faction_of_party_script_param_1_107", "pt_town_44_reinforcements_e"),
				(assign, ":faction_of_party_script_param_1_108", "pt_town_44_reinforcements_f"),
			(try_end),
			(assign, ":value", 0),
			(store_random_in_range, ":random_in_range_0_100", 0, 100),
			(try_begin),
				(is_between, ":var_3", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_get_slot, ":var_3_204", ":var_3", 204),
				(val_clamp, ":var_3_204", -3, 4),
				(val_add, ":random_in_range_0_100", ":var_3_204"),
				(val_clamp, ":random_in_range_0_100", 0, 101),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_1_type", 3),
				(eq, ":script_param_1_type", 2),
				(try_begin),
					(lt, ":random_in_range_0_100", 65),
					(assign, ":value", ":faction_of_party_script_param_1_reinforcements_a"),
				(else_try),
					(lt, ":random_in_range_0_100", 65),
					(assign, ":value", ":faction_of_party_script_param_1_reinforcements_c"),
				(else_try),
					(lt, ":random_in_range_0_100", 65),
					(assign, ":value", ":faction_of_party_script_param_1_106"),
				(else_try),
					(assign, ":value", ":faction_of_party_script_param_1_107"),
				(try_end),
			(else_try),
				(eq, ":script_param_1_type", 13),
				(try_begin),
					(lt, ":random_in_range_0_100", 50),
					(assign, ":value", ":faction_of_party_script_param_1_reinforcements_b"),
				(else_try),
					(lt, ":random_in_range_0_100", 75),
					(assign, ":value", ":faction_of_party_script_param_1_reinforcements_c"),
				(else_try),
					(lt, ":random_in_range_0_100", 75),
					(assign, ":value", ":faction_of_party_script_param_1_106"),
				(else_try),
					(lt, ":random_in_range_0_100", 75),
					(assign, ":value", ":faction_of_party_script_param_1_107"),
				(else_try),
					(assign, ":value", ":faction_of_party_script_param_1_108"),
				(try_end),
			(else_try),
				(eq, ":script_param_1_type", 7),
				(try_begin),
					(lt, ":random_in_range_0_100", 65),
					(assign, ":value", ":faction_of_party_script_param_1_reinforcements_a"),
				(else_try),
					(lt, ":random_in_range_0_100", 65),
					(assign, ":value", ":faction_of_party_script_param_1_reinforcements_c"),
				(else_try),
					(lt, ":random_in_range_0_100", 65),
					(assign, ":value", ":faction_of_party_script_param_1_106"),
				(else_try),
					(assign, ":value", ":faction_of_party_script_param_1_107"),
				(try_end),
			(try_end),
			(try_begin),
				(gt, ":value", 0),
				(party_add_template, ":script_param_1", ":value"),
			(try_end)
		]),

	("hire_men_to_kingdom_hero_party",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(troop_get_slot, ":script_param_1_wealth", ":script_param_1", slot_troop_wealth),
			(assign, ":var_4", ":script_param_1_wealth"),
			(val_mul, ":var_4", 3),
			(val_div, ":var_4", 4),
			(call_script, "script_party_get_ideal_size", ":script_param_1_leaded_party"),
			(assign, ":var_5", reg0),
			(store_mul, ":value", ":var_5", 3),
			(val_div, ":value", 2),
			(party_get_num_companions, ":num_companions_script_param_1_leaded_party", ":script_param_1_leaded_party"),
			(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party", ":script_param_1_leaded_party"),
			(try_begin),
				(this_or_next|eq, ":faction_of_party_script_param_1_leaded_party", "fac_player_supporters_faction"),
				(eq, ":faction_of_party_script_param_1_leaded_party", "$players_kingdom"),
				(assign, ":value_2", 450),
			(else_try),
				(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
				(assign, ":value_2", 450),
				(try_begin),
					(eq, ":game_reduce_campaign_ai", 0),
					(assign, ":value_2", 300),
				(else_try),
					(eq, ":game_reduce_campaign_ai", 1),
					(assign, ":value_2", 450),
				(else_try),
					(eq, ":game_reduce_campaign_ai", 2),
					(assign, ":value_2", 600),
				(try_end),
			(try_end),
			(assign, ":var_11", 1),
			(try_for_range, ":unused", 0, ":var_11"),
				(try_begin),
					(lt, ":num_companions_script_param_1_leaded_party", ":var_5"),
					(gt, ":var_4", ":value_2"),
					(gt, ":script_param_1_leaded_party", 0),
					(call_script, "script_cf_reinforce_party", ":script_param_1_leaded_party"),
					(val_sub, ":script_param_1_wealth", ":value_2"),
					(troop_set_slot, ":script_param_1", slot_troop_wealth, ":script_param_1_wealth"),
				(else_try),
					(gt, ":num_companions_script_param_1_leaded_party", ":value"),
					(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
					(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1_leaded_party", ":script_param_1_leaded_party"),
					(assign, ":var_15", 0),
					(assign, ":var_16", 0),
					(try_for_range_backwards, ":value_3", 0, ":num_companion_stacks_script_param_1_leaded_party"),
						(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_leaded_party_value_3", ":script_param_1_leaded_party", ":value_3"),
						(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_leaded_party_value_3"),
						(party_stack_get_size, ":party_stack_size_script_param_1_leaded_party_value_3", ":script_param_1_leaded_party", ":value_3"),
						(store_character_level, ":character_level_party_stack_troop_id_script_param_1_leaded_party_value_3", ":party_stack_troop_id_script_param_1_leaded_party_value_3"),
						(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_script_param_1_leaded_party_value_3", ":party_stack_troop_id_script_param_1_leaded_party_value_3"),
						(try_begin),
							(eq, ":faction_of_troop_script_param_1", ":faction_of_troop_party_stack_troop_id_script_param_1_leaded_party_value_3"),
							(val_mul, ":character_level_party_stack_troop_id_script_param_1_leaded_party_value_3", 3),
						(try_end),
						(val_mul, ":character_level_party_stack_troop_id_script_param_1_leaded_party_value_3", ":party_stack_size_script_param_1_leaded_party_value_3"),
						(val_add, ":var_15", ":party_stack_size_script_param_1_leaded_party_value_3"),
						(val_add, ":var_16", ":character_level_party_stack_troop_id_script_param_1_leaded_party_value_3"),
					(try_end),
					(gt, ":var_15", 0),
					(store_div, ":value_4", ":var_16", ":var_15"),
					(try_for_range_backwards, ":value_3", 0, ":num_companion_stacks_script_param_1_leaded_party"),
						(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_leaded_party_value_3", ":script_param_1_leaded_party", ":value_3"),
						(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_leaded_party_value_3"),
						(party_stack_get_size, ":party_stack_size_script_param_1_leaded_party_value_3", ":script_param_1_leaded_party", ":value_3"),
						(store_character_level, ":character_level_party_stack_troop_id_script_param_1_leaded_party_value_3", ":party_stack_troop_id_script_param_1_leaded_party_value_3"),
						(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_script_param_1_leaded_party_value_3", ":party_stack_troop_id_script_param_1_leaded_party_value_3"),
						(try_begin),
							(eq, ":faction_of_troop_script_param_1", ":faction_of_troop_party_stack_troop_id_script_param_1_leaded_party_value_3"),
							(val_mul, ":character_level_party_stack_troop_id_script_param_1_leaded_party_value_3", 3),
						(try_end),
						(store_sub, ":value_5", ":value_4", ":character_level_party_stack_troop_id_script_param_1_leaded_party_value_3"),
						(val_div, ":value_5", 3),
						(store_add, ":value_6", 10, ":value_5"),
						(gt, ":value_6", 0),
						(call_script, "script_get_percentage_with_randomized_round", ":party_stack_size_script_param_1_leaded_party_value_3", ":value_6"),
						(gt, reg0, 0),
						(party_remove_members, ":script_param_1_leaded_party", ":party_stack_troop_id_script_param_1_leaded_party_value_3", reg0),
					(try_end),
				(try_end),
			(try_end)
		]),

	("get_percentage_with_randomized_round",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_mul, ":value", ":script_param_1", ":script_param_2"),
			(val_div, ":value", 100),
			(store_mul, ":value_2", ":value", 100),
			(val_div, ":value_2", ":script_param_2"),
			(store_sub, ":value_3", ":script_param_1", ":value_2"),
			(try_begin),
				(gt, ":value_3", 0),
				(store_mul, ":value_4", ":value_3", ":script_param_2"),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", ":value_4"),
				(val_add, ":value", 1),
			(try_end),
			(assign, reg0, ":value")
		]),

	("create_cattle_herd",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", -1),
			(set_spawn_radius, 1),
			(spawn_around_party, ":script_param_1", "pt_cattle_herd"),
			(assign, ":value", reg0),
			(party_get_position, 1, ":script_param_1"),
			(call_script, "script_map_get_random_position_around_position_within_range", 1, 2),
			(party_set_position, ":value", 2),
			(party_set_slot, ":value", slot_party_type, 17),
			(party_set_slot, ":value", slot_party_ai_state, -1),
			(party_set_ai_behavior, ":value", 0),
			(party_set_slot, ":value", slot_party_commander_party, -1),
			(try_begin),
				(gt, ":script_param_2", 0),
				(party_clear, ":value"),
				(party_add_members, ":value", "trp_cattle", ":script_param_2"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("buy_cattle_from_village",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_for_range, ":unused", 0, ":script_param_2"),
				(call_script, "script_game_event_buy_item", "itm_trade_cattle_meat", 0),
				(call_script, "script_game_event_buy_item", "itm_trade_cattle_meat", 0),
			(try_end),
			(party_get_slot, ":script_param_1_village_number_of_cattle", ":script_param_1", slot_village_number_of_cattle),
			(val_sub, ":script_param_1_village_number_of_cattle", ":script_param_2"),
			(party_set_slot, ":script_param_1", slot_village_number_of_cattle, ":script_param_1_village_number_of_cattle"),
			(store_mul, ":value", ":script_param_3", ":script_param_2"),
			(troop_remove_gold, "trp_player", ":value"),
			(assign, ":value_2", 1),
			(try_for_parties, ":var_8"),
				(eq, ":value_2", 1),
				(party_slot_eq, ":var_8", slot_party_type, 17),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_var_8", ":script_param_1", ":var_8"),
				(lt, ":distance_to_party_from_party_script_param_1_var_8", 6),
				(assign, ":value_3", 1),
				(try_begin),
					(check_quest_active, "qst_move_cattle_herd"),
					(quest_slot_eq, "qst_move_cattle_herd", slot_quest_target_party, ":var_8"),
					(assign, ":value_3", 0),
				(try_end),
				(eq, ":value_3", 1),
				(party_add_members, ":var_8", "trp_cattle", ":script_param_2"),
				(assign, ":value_2", 0),
				(assign, reg0, ":var_8"),
			(try_end),
			(try_begin),
				(eq, ":value_2", 1),
				(call_script, "script_create_cattle_herd", ":script_param_1", ":script_param_2"),
			(try_end)
		]),

	("kill_cattle_from_herd",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_clear_inventory, "trp_temp_troop"),
			(store_mul, ":value", ":script_param_2", 2),
			(troop_add_items, "trp_temp_troop", "itm_trade_cattle_meat", ":value"),
			(troop_get_inventory_capacity, ":inventory_capacity_temp_troop", "trp_temp_troop"),
			(try_for_range, ":number", 0, ":inventory_capacity_temp_troop"),
				(troop_get_inventory_slot, ":inventory_slot_temp_troop_number", "trp_temp_troop", ":number"),
				(eq, ":inventory_slot_temp_troop_number", "itm_trade_cattle_meat"),
				(troop_set_inventory_slot_modifier, "trp_temp_troop", ":number", 37),
			(try_end),
			(party_get_num_companions, ":num_companions_script_param_1", ":script_param_1"),
			(try_begin),
				(ge, ":script_param_2", ":num_companions_script_param_1"),
				(remove_party, ":script_param_1"),
			(else_try),
				(party_remove_members, ":script_param_1", "trp_cattle", ":script_param_2"),
			(try_end)
		]),

	("create_kingdom_hero_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(assign, "$pout_party", -1),
			(try_begin),
				(eq, "$g_there_is_no_avaliable_centers", 0),
				(set_spawn_radius, 0),
			(else_try),
				(set_spawn_radius, 15),
			(try_end),
			(spawn_around_party, ":script_param_2", "pt_kingdom_hero_party"),
			(assign, "$pout_party", reg0),
			(party_set_faction, "$pout_party", ":faction_of_troop_script_param_1"),
			(party_set_slot, "$pout_party", slot_party_type, 13),
			(call_script, "script_party_set_ai_state", "$pout_party", -1, -1),
			(troop_set_slot, ":script_param_1", slot_troop_leaded_party, "$pout_party"),
			(party_add_leader, "$pout_party", ":script_param_1"),
			(str_store_troop_name, 5, ":script_param_1"),
			(party_set_name, "$pout_party", "str_s5_s_party"),
			(party_set_slot, "$pout_party", slot_party_commander_party, -1),
			(troop_get_slot, ":script_param_1_banner_scene_prop", ":script_param_1", slot_troop_banner_scene_prop),
			(try_begin),
				(gt, ":script_param_1_banner_scene_prop", 0),
				(val_sub, ":script_param_1_banner_scene_prop", "spr_banner_a"),
				(val_add, ":script_param_1_banner_scene_prop", "icon_banner_01"),
				(party_set_banner_icon, "$pout_party", ":script_param_1_banner_scene_prop"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_1_lord"),
				(party_force_add_members, "$pout_party", "trp_brienne", 1),
				(party_force_add_members, "$pout_party", "trp_emmon_cuy", 1),
				(party_force_add_members, "$pout_party", "trp_robar_royce", 1),
				(party_force_add_members, "$pout_party", "trp_parmen_crane", 1),
				(party_force_add_members, "$pout_party", "trp_cortnay_penrose", 1),
				(party_force_add_members, "$pout_party", "trp_rolland_storm", 1),
				(party_force_add_members, "$pout_party", "trp_mark_mullendore", 1),
				(party_force_add_members, "$pout_party", "trp_dermot_rainwood", 1),
				(party_force_add_members, "$pout_party", "trp_timon_scrapesword", 1),
				(party_force_add_members, "$pout_party", "trp_shadrick", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_9_33"),
				(party_force_add_members, "$pout_party", "trp_bonifer_hasty", 1),
				(party_force_add_members, "$pout_party", "trp_harwyn_plumm", 1),
				(party_force_add_members, "$pout_party", "trp_humfrey_clifton", 1),
				(party_force_add_members, "$pout_party", "trp_richard_horpe", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_9_42"),
				(party_force_add_members, "$pout_party", "trp_narbert_grandison", 1),
				(party_force_add_members, "$pout_party", "trp_benethon_scales", 1),
				(party_force_add_members, "$pout_party", "trp_godry_farring", 1),
				(party_force_add_members, "$pout_party", "trp_robin_peasebury", 1),
				(party_force_add_members, "$pout_party", "trp_leslyn_haigh", 1),
				(party_force_add_members, "$pout_party", "trp_damon_paege", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_1_11"),
				(party_force_add_members, "$pout_party", "trp_alyn_estermont", 1),
				(party_force_add_members, "$pout_party", "trp_herbert_bolling", 1),
				(party_force_add_members, "$pout_party", "trp_aemon_estermont", 1),
				(party_force_add_members, "$pout_party", "trp_gunthor_estermont", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_2_lord"),
				(party_force_add_members, "$pout_party", "trp_dacey_mormont", 1),
				(party_force_add_members, "$pout_party", "trp_robin_flint", 1),
				(party_force_add_members, "$pout_party", "trp_perwyn_frey", 1),
				(party_force_add_members, "$pout_party", "trp_lucas_blackwood", 1),
				(party_force_add_members, "$pout_party", "trp_olyvar_frey", 1),
				(party_force_add_members, "$pout_party", "trp_owen_norrey", 1),
				(party_force_add_members, "$pout_party", "trp_ronnel_stout", 1),
				(party_force_add_members, "$pout_party", "trp_donnel_locke", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_2_3"),
				(party_force_add_members, "$pout_party", "trp_steelshanks_walton", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_2_6"),
				(party_force_add_members, "$pout_party", "trp_kyle_condon", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_16_7"),
				(party_force_add_members, "$pout_party", "trp_obara_sand", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_5_1"),
				(party_force_add_members, "$pout_party", "trp_aenys_frey", 1),
				(party_force_add_members, "$pout_party", "trp_rhaegar_frey", 1),
				(party_force_add_members, "$pout_party", "trp_jared_frey", 1),
				(party_force_add_members, "$pout_party", "trp_hosteen_frey", 1),
				(party_force_add_members, "$pout_party", "trp_symond_frey", 1),
				(party_force_add_members, "$pout_party", "trp_jammos_frey", 1),
				(party_force_add_members, "$pout_party", "trp_walder_rivers", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_5_16"),
				(party_force_add_members, "$pout_party", "trp_andrey_charlton", 1),
				(party_force_add_members, "$pout_party", "trp_garse_goodbrook", 1),
				(party_force_add_members, "$pout_party", "trp_lymond_goodbrook", 1),
				(party_force_add_members, "$pout_party", "trp_halmon_paege", 1),
				(party_force_add_members, "$pout_party", "trp_robert_paege", 1),
				(party_force_add_members, "$pout_party", "trp_lycias_vypren", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_3_12"),
				(party_force_add_members, "$pout_party", "trp_samwell_stone", 1),
				(party_force_add_members, "$pout_party", "trp_damon_shett", 1),
				(party_force_add_members, "$pout_party", "trp_uthor_tollett", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_6_lord"),
				(party_force_add_members, "$pout_party", "trp_daemon_sand", 1),
				(party_force_add_members, "$pout_party", "trp_perros_blackmont", 1),
				(party_force_add_members, "$pout_party", "trp_garibald_shells", 1),
				(party_force_add_members, "$pout_party", "trp_joss_hood", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_6_12"),
				(party_force_add_members, "$pout_party", "trp_myles_manwoody", 1),
				(party_force_add_members, "$pout_party", "trp_dickon_manwoody", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_6_2"),
				(party_force_add_members, "$pout_party", "trp_andrey_dalt", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_8_lord"),
				(party_force_add_members, "$pout_party", "trp_gerald_gower", 1),
				(party_force_add_members, "$pout_party", "trp_triston_of_tally_hill", 1),
				(party_force_add_members, "$pout_party", "trp_omer_blackberry", 1),
				(party_force_add_members, "$pout_party", "trp_patrek_kings_mountain", 1),
				(party_force_add_members, "$pout_party", "trp_dorden_the_dour", 1),
				(party_force_add_members, "$pout_party", "trp_harys_cobb", 1),
				(party_force_add_members, "$pout_party", "trp_ormund_wylde", 1),
				(party_force_add_members, "$pout_party", "trp_willam_foxglove", 1),
				(party_force_add_members, "$pout_party", "trp_corliss_penny", 1),
				(party_force_add_members, "$pout_party", "trp_malegorn_of_redpool", 1),
				(party_force_add_members, "$pout_party", "trp_lambert_whitewater", 1),
				(party_force_add_members, "$pout_party", "trp_perkin_follard", 1),
				(party_force_add_members, "$pout_party", "trp_brus_buckler", 1),
				(party_force_add_members, "$pout_party", "trp_clayton_suggs", 1),
				(party_force_add_members, "$pout_party", "trp_morosh", 1),
				(party_force_add_members, "$pout_party", "trp_hookface_will", 1),
				(party_force_add_members, "$pout_party", "trp_hal_the_hog", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_8_14"),
				(party_force_add_members, "$pout_party", "trp_meizo_mahr", 1),
				(party_force_add_members, "$pout_party", "trp_khorane_sathmantes", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_8_3"),
				(party_force_add_members, "$pout_party", "trp_dale_seaworth", 1),
				(party_force_add_members, "$pout_party", "trp_allard_seaworth", 1),
				(party_force_add_members, "$pout_party", "trp_maric_seaworth", 1),
				(party_force_add_members, "$pout_party", "trp_matthos_seaworth", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_9_lord"),
				(party_force_add_members, "$pout_party", "trp_lambert_turnberry", 1),
				(party_force_add_members, "$pout_party", "trp_josmyn_peckledon", 1),
				(party_force_add_members, "$pout_party", "trp_jon_bettley", 1),
				(party_force_add_members, "$pout_party", "trp_kennos_of_kayce", 1),
				(party_force_add_members, "$pout_party", "trp_lymond_vikary", 1),
				(party_force_add_members, "$pout_party", "trp_manfryd_yew", 1),
				(party_force_add_members, "$pout_party", "trp_tybolt_hetherspoon", 1),
				(party_force_add_members, "$pout_party", "trp_illifer_the_penniless", 1),
				(party_force_add_members, "$pout_party", "trp_creighton_longbough", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_10_lord"),
				(party_force_add_members, "$pout_party", "trp_willam_wythers", 1),
				(party_force_add_members, "$pout_party", "trp_portifer_woodwright", 1),
				(party_force_add_members, "$pout_party", "trp_lucantine_woodwright", 1),
				(party_force_add_members, "$pout_party", "trp_garse_flowers", 1),
				(party_force_add_members, "$pout_party", "trp_garrett_flowers", 1),
				(party_force_add_members, "$pout_party", "trp_tanton_fossoway", 1),
				(party_force_add_members, "$pout_party", "trp_edwyd_fossoway", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_10_7"),
				(party_force_add_members, "$pout_party", "trp_ben_bushy", 1),
				(party_force_add_members, "$pout_party", "trp_hyle_hunt", 1),
				(party_force_add_members, "$pout_party", "trp_alyn_hunt", 1),
				(party_force_add_members, "$pout_party", "trp_edmund_ambrose", 1),
				(party_force_add_members, "$pout_party", "trp_richard_farrow", 1),
				(party_force_add_members, "$pout_party", "trp_will_the_stork", 1),
				(party_force_add_members, "$pout_party", "trp_hugh_beesbury", 1),
				(party_force_add_members, "$pout_party", "trp_raymond_nayland", 1),
				(party_force_add_members, "$pout_party", "trp_harry_sawyer", 1),
				(party_force_add_members, "$pout_party", "trp_owen_inchfield", 1),
				(party_force_add_members, "$pout_party", "trp_robin_potter", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_11_lord"),
				(party_force_add_members, "$pout_party", "trp_dagmer_cleftjaw", 1),
				(party_force_add_members, "$pout_party", "trp_bluetooth", 1),
				(party_force_add_members, "$pout_party", "trp_uller", 1),
				(party_force_add_members, "$pout_party", "trp_skyte", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_11_6"),
				(party_force_add_members, "$pout_party", "trp_qarl", 1),
				(party_force_add_members, "$pout_party", "trp_roggon_rustbeard", 1),
				(party_force_add_members, "$pout_party", "trp_grimtongue", 1),
				(party_force_add_members, "$pout_party", "trp_rolfe_the_dwarf", 1),
				(party_force_add_members, "$pout_party", "trp_lorren_longaxe", 1),
				(party_force_add_members, "$pout_party", "trp_rook", 1),
				(party_force_add_members, "$pout_party", "trp_fingers", 1),
				(party_force_add_members, "$pout_party", "trp_eerl_hawlaw", 1),
				(party_force_add_members, "$pout_party", "trp_cromm", 1),
				(party_force_add_members, "$pout_party", "trp_hagen_the_horn", 1),
				(party_force_add_members, "$pout_party", "trp_quenton_greyjoy", 1),
				(party_force_add_members, "$pout_party", "trp_dagon_greyjoy", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_knight_11_1"),
				(party_force_add_members, "$pout_party", "trp_red_ralf", 1),
				(party_force_add_members, "$pout_party", "trp_ralf_the_limper", 1),
				(party_force_add_members, "$pout_party", "trp_nute_the_barber", 1),
				(party_force_add_members, "$pout_party", "trp_wulf_one_ear", 1),
				(party_force_add_members, "$pout_party", "trp_ragnor_pyke", 1),
			(try_end),
			(try_begin),
				(troop_slot_eq, ":script_param_1", slot_troop_spawned_before, 0),
				(troop_set_slot, ":script_param_1", slot_troop_spawned_before, 1),
				(assign, ":value", 20),
				(try_begin),
					(store_faction_of_troop, ":faction_of_troop_script_param_1_2", ":script_param_1"),
					(faction_slot_eq, ":faction_of_troop_script_param_1_2", slot_faction_leader, ":script_param_1"),
					(assign, ":value", 50),
				(try_end),
				(try_for_range, ":unused", 0, ":value"),
					(call_script, "script_hire_men_to_kingdom_hero_party", ":script_param_1"),
				(try_end),
				(assign, ":value_2", 0),
				(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
				(try_begin),
					(this_or_next|eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(eq, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
					(assign, ":value_2", 0),
				(else_try),
					(eq, ":game_reduce_campaign_ai", 0),
					(assign, ":value_2", 2),
				(else_try),
					(eq, ":game_reduce_campaign_ai", 1),
					(assign, ":value_2", 1),
				(else_try),
					(eq, ":game_reduce_campaign_ai", 2),
					(assign, ":value_2", 0),
				(try_end),
				(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
				(store_div, ":value_3", ":script_param_1_renown", 100),
				(val_add, ":value_2", ":value_3"),
				(try_for_range, ":unused", 0, ":value_2"),
					(call_script, "script_upgrade_hero_party", "$pout_party", 4000),
				(try_end),
			(try_end)
		]),

	("create_kingdom_party_if_below_limit",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(call_script, "script_count_parties_of_faction_and_party_type", ":script_param_1", ":script_param_2"),
			(assign, ":var_3", reg0),
			(assign, ":value", 0),
			(faction_get_slot, ":script_param_1_num_towns", ":script_param_1", slot_faction_num_towns),
			(try_begin),
				(eq, ":script_param_2", 11),
				(try_begin),
					(eq, ":script_param_1_num_towns", 0),
					(assign, ":value", 0),
				(else_try),
					(eq, ":script_param_1_num_towns", 1),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_1_num_towns", 2),
					(assign, ":value", 3),
				(else_try),
					(assign, ":value", 5),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 14),
				(try_begin),
					(eq, ":script_param_1_num_towns", 0),
					(assign, ":value", 0),
				(else_try),
					(eq, ":script_param_1_num_towns", 1),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_1_num_towns", 2),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 2),
				(try_end),
			(try_end),
			(assign, reg0, -1),
			(try_begin),
				(lt, ":var_3", ":value"),
				(call_script, "script_cf_create_kingdom_party", ":script_param_1", ":script_param_2"),
			(try_end)
		]),

	("cf_create_kingdom_party",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(str_store_faction_name, 7, ":script_param_1"),
			(assign, ":var_3", "str_no_string"),
			(faction_get_slot, ":script_param_1_reinforcements_b", ":script_param_1", slot_faction_reinforcements_b),
			(try_begin),
				(eq, ":script_param_2", 11),
				(assign, ":value", "pt_kingdom_caravan_party"),
			(else_try),
				(eq, ":script_param_2", 14),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(assign, ":value", "pt_sea_traders"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(assign, ":value", "pt_sea_traders_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(assign, ":value", "pt_sea_traders_e"),
				(try_end),
			(try_end),
			(assign, ":value_2", -1),
			(try_begin),
				(try_begin),
					(this_or_next|eq, ":script_param_2", 14),
					(eq, ":script_param_2", 11),
					(call_script, "script_cf_select_random_town_with_faction", ":script_param_1", -1),
					(set_spawn_radius, 0),
				(else_try),
					(call_script, "script_cf_select_random_walled_center_with_faction", ":script_param_1", -1),
					(set_spawn_radius, 1),
				(try_end),
				(assign, ":var_7", reg0),
				(is_between, ":var_7", "p_town_1", "p_salt_mine"),
				(assign, ":value_3", 0),
				(try_begin),
					(eq, ":script_param_2", 11),
					(spawn_around_party, ":var_7", ":value"),
					(assign, ":value_2", reg0),
					(assign, ":value_3", 1),
				(else_try),
					(eq, ":script_param_2", 14),
					(party_slot_ge, ":var_7", 63, 1),
					(party_get_slot, ":var_7_follow_me", ":var_7", slot_party_follow_me),
					(party_get_position, 0, ":var_7"),
					(map_get_water_position_around_position, 1, 0, ":var_7_follow_me"),
					(spawn_around_party, ":var_7", ":value"),
					(assign, ":value_2", reg0),
					(party_set_position, ":value_2", 1),
					(assign, ":value_3", 1),
				(try_end),
				(eq, ":value_3", 1),
				(party_set_faction, ":value_2", ":script_param_1"),
				(try_begin),
					(this_or_next|eq, ":script_param_2", 14),
					(eq, ":script_param_2", 11),
					(party_set_slot, ":value_2", slot_party_home_center, ":var_7"),
					(party_set_slot, ":value_2", slot_party_last_traded_center, ":var_7"),
				(try_end),
				(party_set_slot, ":value_2", slot_party_type, ":script_param_2"),
				(party_set_slot, ":value_2", slot_party_ai_state, -1),
				(try_begin),
					(neq, ":var_3", "str_no_string"),
					(party_set_name, ":value_2", ":var_3"),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":script_param_2", 14),
					(eq, ":script_param_2", 11),
					(try_begin),
						(eq, ":script_param_1", "fac_player_supporters_faction"),
						(party_get_slot, ":var_7_center_original_faction", ":var_7", slot_center_original_faction),
						(faction_get_slot, ":script_param_1_reinforcements_b", ":var_7_center_original_faction", slot_faction_reinforcements_b),
					(try_end),
					(party_add_template, ":value_2", ":script_param_1_reinforcements_b"),
					(party_add_template, ":value_2", ":script_param_1_reinforcements_b"),
					(party_set_ai_behavior, ":value_2", 1),
					(party_set_ai_object, ":value_2", ":var_7"),
					(party_set_flags, ":value_2", 65536, 1),
					(store_sub, ":value_4", 267, "itm_trade_spice"),
					(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
						(store_add, ":value_5", ":item", ":value_4"),
						(party_set_slot, ":value_2", ":value_5", 1000),
					(try_end),
					(party_set_bandit_attraction, ":value_2", 75),
					(party_get_slot, ":var_7_town_prosperity", ":var_7", slot_town_prosperity),
					(val_max, ":var_7_town_prosperity", 40),
					(store_random_in_range, ":random_in_range_30_var_7_town_prosperity", 30, ":var_7_town_prosperity"),
					(party_set_slot, ":value_2", slot_town_prosperity, ":random_in_range_30_var_7_town_prosperity"),
					(val_mul, ":random_in_range_30_var_7_town_prosperity", 50),
					(store_random_in_range, ":random_in_range_600_random_in_range_30_var_7_town_prosperity", 600, ":random_in_range_30_var_7_town_prosperity"),
					(party_set_slot, ":value_2", slot_town_wealth, ":random_in_range_600_random_in_range_30_var_7_town_prosperity"),
					(party_set_slot, ":value_2", slot_center_player_relation, 0),
					(assign, reg1, 0),
					(call_script, "script_refresh_travelling_merchant_inventory", ":value_2"),
				(try_end),
			(try_end),
			(ge, ":value_2", 0),
			(assign, reg0, ":value_2")
		]),

	("get_troop_attached_party",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(assign, ":value", -1),
			(try_begin),
				(ge, ":script_param_1_leaded_party", 0),
				(party_get_attached_to, ":value", ":script_param_1_leaded_party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("center_get_food_consumption",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 3),
				(assign, ":value", 500),
			(else_try),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(assign, ":value", 50),
			(try_end),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 1),
				(party_get_num_companions, ":num_companions_script_param_1", ":script_param_1"),
				(try_begin),
					(party_slot_eq, ":script_param_1", slot_party_type, 2),
					(gt, ":num_companions_script_param_1", 150),
					(store_div, ":value", ":num_companions_script_param_1", 3),
				(else_try),
					(party_slot_eq, ":script_param_1", slot_party_type, 3),
					(gt, ":num_companions_script_param_1", 380),
					(store_div, ":value", ":num_companions_script_param_1", 3),
					(val_add, ":value", 373),
				(try_end),
				(party_slot_eq, ":script_param_1", slot_party_type, 3),
				(party_get_slot, reg0, ":script_param_1", slot_town_prosperity),
				(gt, reg0, 50),
				(val_add, reg0, 75),
				(val_mul, ":value", reg0),
				(val_add, ":value", 62),
				(val_div, ":value", 125),
			(try_end),
			(assign, reg0, ":value")
		]),

	("center_get_food_store_limit",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 3),
				(assign, ":value", 10000),
			(else_try),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(assign, ":value", 1500),
			(try_end),
			(assign, reg0, ":value")
		]),

	("refresh_village_merchant_inventory",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_slot, ":script_param_1_town_elder", ":script_param_1", slot_town_elder),
			(reset_item_probabilities, 0),
			(assign, ":var_3", 0),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(call_script, "script_center_get_production", ":script_param_1", ":item"),
				(assign, ":value", reg0),
				(val_max, ":value", 5),
				(val_add, ":var_3", ":value"),
			(try_end),
			(try_begin),
				(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
				(val_div, ":script_param_1_town_prosperity", 15),
				(store_add, ":value_2", ":script_param_1_town_prosperity", 1),
			(try_end),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(call_script, "script_center_get_production", ":script_param_1", ":item"),
				(assign, ":value", reg0),
				(val_max, ":value", 5),
				(val_mul, ":value", ":value_2"),
				(val_mul, ":value", 100),
				(val_div, ":value", ":var_3"),
				(set_item_probability_in_merchandise, ":item", ":value"),
			(try_end),
			(troop_clear_inventory, ":script_param_1_town_elder"),
			(troop_add_merchandise, ":script_param_1_town_elder", 11, ":value_2"),
			(troop_ensure_inventory_space, ":script_param_1_town_elder", 80),
			(store_troop_gold, ":troop_gold_script_param_1_town_elder", ":script_param_1_town_elder"),
			(try_begin),
				(gt, ":troop_gold_script_param_1_town_elder", 3500),
				(store_div, ":value_3", ":troop_gold_script_param_1_town_elder", 3000),
				(store_mul, ":value_4", ":value_3", 3000),
				(troop_remove_gold, ":script_param_1_town_elder", ":value_4"),
				(call_script, "script_change_center_prosperity", ":script_param_1", ":value_3"),
			(try_end)
		]),

	("refresh_village_defenders",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", 50),
			(try_begin),
				(party_get_num_companions, ":num_companions_script_param_1", ":script_param_1"),
				(lt, ":num_companions_script_param_1", ":var_2"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(party_add_template, ":script_param_1", "pt_village_defenders"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(party_add_template, ":script_param_1", "pt_village_defenders_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(party_add_template, ":script_param_1", "pt_village_defenders_e"),
				(try_end),
			(try_end)
		]),

	("start_refresh_village_defenders",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", 50),
			(try_begin),
				(party_get_num_companions, ":num_companions_script_param_1", ":script_param_1"),
				(lt, ":num_companions_script_param_1", ":var_2"),
				(party_add_template, ":script_param_1", "pt_village_defenders_e"),
			(try_end)
		]),

	("village_set_state",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_current_hours, ":current_hours"),
			(party_get_slot, ":script_param_1_village_raided_by", ":script_param_1", slot_village_raided_by),
			(try_begin),
				(ge, ":script_param_1_village_raided_by", 0),
				(party_is_active, ":script_param_1_village_raided_by"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_village_raided_by_0", ":script_param_1_village_raided_by", 0),
				(ge, ":party_stack_troop_id_script_param_1_village_raided_by_0", 0),
				(party_set_slot, ":script_param_1", 404, ":current_hours"),
				(party_set_slot, ":script_param_1", 405, ":party_stack_troop_id_script_param_1_village_raided_by_0"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 0),
				(party_set_extra_text, ":script_param_1", "str_empty_string"),
				(party_set_slot, ":script_param_1", slot_village_raided_by, -1),
			(else_try),
				(eq, ":script_param_2", 1),
				(party_set_extra_text, ":script_param_1", "@(Being Raided)"),
			(else_try),
				(eq, ":script_param_2", 2),
				(party_set_extra_text, ":script_param_1", "@(Looted)"),
				(party_set_slot, ":script_param_1", slot_village_raided_by, -1),
				(call_script, "script_change_center_prosperity", ":script_param_1", -60),
				(val_add, "$newglob_total_prosperity_from_villageloot", -60),
				(try_begin),
					(eq, 5, 0),
					(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
					(is_between, ":script_param_1_town_lord", "trp_npc1", "trp_knight_1_1_wife"),
					(store_faction_of_troop, ":faction_of_troop_script_param_1_town_lord", ":script_param_1_town_lord"),
					(faction_get_slot, ":faction_of_troop_script_param_1_town_lord_leader", ":faction_of_troop_script_param_1_town_lord", slot_faction_leader),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_1_town_lord", ":faction_of_troop_script_param_1_town_lord_leader", -1),
					(val_add, "$total_battle_ally_changes", -1),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 5),
				(party_set_extra_text, ":script_param_1", "@(Under Siege)"),
				(try_for_parties, ":var_9"),
					(gt, ":var_9", "p_spawn_points_end"),
					(party_slot_eq, ":var_9", slot_party_type, 11),
					(party_slot_eq, ":var_9", slot_party_ai_object, ":script_param_1"),
					(party_get_slot, ":var_9_last_traded_center", ":var_9", slot_party_last_traded_center),
					(store_faction_of_party, ":faction_of_party_var_9", ":var_9"),
					(call_script, "script_cf_select_most_profitable_town_at_peace_with_faction_in_trade_route", ":var_9_last_traded_center", ":faction_of_party_var_9", ":var_9"),
					(assign, ":var_12", reg0),
					(is_between, ":var_12", "p_town_1", "p_salt_mine"),
					(party_set_ai_behavior, ":var_9", 1),
					(party_set_ai_object, ":var_9", ":var_12"),
					(party_set_flags, ":var_9", 65536, 0),
					(party_set_slot, ":var_9", slot_party_ai_state, 13),
					(party_set_slot, ":var_9", slot_party_ai_object, ":var_12"),
				(try_end),
			(try_end),
			(party_set_slot, ":script_param_1", slot_village_state, ":script_param_2")
		]),

	("process_village_raids",
		[
			(store_current_hours, ":current_hours"),
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(try_begin),
					(this_or_next|eq, ":party", "p_village_58"),
					(this_or_next|eq, ":party", "p_village_60"),
					(this_or_next|eq, ":party", "p_village_61"),
					(this_or_next|eq, ":party", "p_village_183"),
					(this_or_next|eq, ":party", "p_village_65"),
					(this_or_next|eq, ":party", "p_village_72"),
					(this_or_next|eq, ":party", "p_village_62"),
					(this_or_next|eq, ":party", "p_village_63"),
					(this_or_next|eq, ":party", "p_village_71"),
					(this_or_next|eq, ":party", "p_village_70"),
					(this_or_next|eq, ":party", "p_village_155"),
					(this_or_next|eq, ":party", "p_village_67"),
					(this_or_next|eq, ":party", "p_village_124"),
					(this_or_next|eq, ":party", "p_village_169"),
					(this_or_next|eq, ":party", "p_village_78"),
					(this_or_next|eq, ":party", "p_village_167"),
					(this_or_next|eq, ":party", "p_village_150"),
					(this_or_next|eq, ":party", "p_village_138"),
					(this_or_next|eq, ":party", "p_village_168"),
					(this_or_next|eq, ":party", "p_village_147"),
					(this_or_next|eq, ":party", "p_village_135"),
					(this_or_next|eq, ":party", "p_village_165"),
					(this_or_next|eq, ":party", "p_village_132"),
					(this_or_next|eq, ":party", "p_village_64"),
					(this_or_next|eq, ":party", "p_village_180"),
					(this_or_next|eq, ":party", "p_village_66"),
					(this_or_next|eq, ":party", "p_village_188"),
					(this_or_next|eq, ":party", "p_village_133"),
					(eq, ":party", "p_village_177"),
					(assign, ":value", "icon_village_c"),
					(assign, ":value_2", "icon_village_burnt_c"),
					(assign, ":value_3", "icon_village_deserted_c"),
				(else_try),
					(assign, ":value", "icon_village_a"),
					(assign, ":value_2", "icon_village_burnt_a"),
					(assign, ":value_3", "icon_village_deserted_a"),
				(try_end),
				(party_get_slot, ":party_village_raid_progress", ":party", slot_village_raid_progress),
				(try_begin),
					(party_slot_eq, ":party", slot_village_state, 0),
					(val_sub, ":party_village_raid_progress", 5),
					(val_max, ":party_village_raid_progress", 0),
					(party_set_slot, ":party", slot_village_raid_progress, ":party_village_raid_progress"),
					(try_begin),
						(lt, ":party_village_raid_progress", 50),
						(try_begin),
							(party_get_icon, ":icon_party", ":party"),
							(neq, ":icon_party", ":value"),
							(party_set_icon, ":party", ":value"),
						(try_end),
						(party_slot_ge, ":party", 38, 1),
						(party_set_slot, ":party", slot_village_smoke_added, 0),
						(party_clear_particle_systems, ":party"),
					(try_end),
				(else_try),
					(party_slot_eq, ":party", slot_village_state, 1),
					(assign, ":value_4", 1),
					(party_get_slot, ":party_village_raided_by", ":party", slot_village_raided_by),
					(try_begin),
						(ge, ":party_village_raided_by", 0),
						(party_is_active, ":party_village_raided_by"),
						(this_or_next|neq, ":party_village_raided_by", "p_main_party"),
						(eq, "$g_player_is_captive", 0),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_party_party_village_raided_by", ":party", ":party_village_raided_by"),
						(lt, ":distance_to_party_from_party_party_party_village_raided_by", 4),
						(assign, ":value_4", 0),
					(try_end),
					(try_begin),
						(eq, ":value_4", 1),
						(call_script, "script_village_set_state", ":party", 0),
						(party_set_slot, ":party", slot_village_smoke_added, 0),
						(party_clear_particle_systems, ":party"),
					(else_try),
						(assign, ":var_11", 11),
						(party_get_slot, ":party_village_raided_by_2", ":party", slot_village_raided_by),
						(try_begin),
							(party_get_skill_level, ":skill_level_party_village_raided_by_2_looting", ":party_village_raided_by_2", "skl_looting"),
							(val_add, ":var_11", ":skill_level_party_village_raided_by_2_looting"),
						(try_end),
						(try_begin),
							(party_slot_eq, ":party", slot_center_has_watch_tower, 1),
							(val_mul, ":var_11", 2),
							(val_div, ":var_11", 3),
						(try_end),
						(val_add, ":party_village_raid_progress", ":var_11"),
						(party_set_slot, ":party", slot_village_raid_progress, ":party_village_raid_progress"),
						(try_begin),
							(ge, ":party_village_raid_progress", 50),
							(party_slot_eq, ":party", slot_village_smoke_added, 0),
							(party_add_particle_system, ":party", "psys_map_village_fire"),
							(party_add_particle_system, ":party", "psys_map_village_fire_smoke"),
							(party_set_icon, ":party", ":value_2"),
							(party_set_slot, ":party", slot_village_smoke_added, 1),
						(try_end),
						(try_begin),
							(ge, ":party_village_raided_by_2", 0),
							(party_stack_get_troop_id, ":party_stack_troop_id_party_village_raided_by_2_0", ":party_village_raided_by_2", 0),
							(ge, ":party_stack_troop_id_party_village_raided_by_2_0", 0),
							(party_set_slot, ":party", 404, ":current_hours"),
							(party_set_slot, ":party", 405, ":party_stack_troop_id_party_village_raided_by_2_0"),
						(try_end),
						(try_begin),
							(gt, ":party_village_raid_progress", 100),
							(str_store_party_name_link, 1, ":party"),
							(party_stack_get_troop_id, ":party_stack_troop_id_party_village_raided_by_2_0", ":party_village_raided_by_2", 0),
							(ge, ":party_stack_troop_id_party_village_raided_by_2_0", 0),
							(str_store_party_name, 2, ":party_village_raided_by_2"),
							(display_log_message, "@The village of {s1} has been looted by {s2}."),
							(try_begin),
								(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
								(is_between, ":party_town_lord", "trp_npc1", "trp_knight_1_1_wife"),
								(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_party_village_raided_by_2_0", ":party_town_lord", -1),
								(val_add, "$total_battle_enemy_changes", -1),
							(try_end),
							(troop_get_slot, ":party_stack_troop_id_party_village_raided_by_2_0_wealth", ":party_stack_troop_id_party_village_raided_by_2_0", slot_troop_wealth),
							(party_get_slot, ":party_town_prosperity", ":party", slot_town_prosperity),
							(store_mul, ":value_5", ":party_town_prosperity", 60),
							(val_add, ":party_stack_troop_id_party_village_raided_by_2_0_wealth", ":value_5"),
							(troop_set_slot, ":party_stack_troop_id_party_village_raided_by_2_0", slot_troop_wealth, ":party_stack_troop_id_party_village_raided_by_2_0_wealth"),
							(try_begin),
								(is_between, ":party_town_lord", "trp_npc1", "trp_heroes_end"),
								(neq, ":party_town_lord", "trp_kingdom_heroes_including_player_begin"),
								(troop_get_slot, ":party_town_lord_wealth", ":party_town_lord", slot_troop_wealth),
								(try_begin),
									(ge, "$g_dplmc_gold_changes", 2),
									(assign, ":value_6", ":value_5"),
									(party_get_slot, ":party_center_accumulated_rents", ":party", slot_center_accumulated_rents),
									(val_max, ":party_center_accumulated_rents", 0),
									(val_sub, ":value_6", ":party_center_accumulated_rents"),
									(party_get_slot, ":party_center_accumulated_rents", ":party", slot_center_accumulated_tariffs),
									(val_max, ":party_center_accumulated_rents", 0),
									(val_sub, ":value_6", ":party_center_accumulated_rents"),
									(val_max, ":value_6", 0),
									(val_sub, ":party_town_lord_wealth", ":value_6"),
								(else_try),
									(val_sub, ":party_town_lord_wealth", ":value_5"),
								(try_end),
								(val_max, ":party_town_lord_wealth", 0),
								(troop_set_slot, ":party_town_lord", slot_troop_wealth, ":party_town_lord_wealth"),
							(else_try),
								(eq, ":party_town_lord", "trp_player"),
								(gt, "$g_player_chamberlain", 0),
								(ge, "$g_dplmc_gold_changes", 1),
								(party_slot_eq, ":party", slot_town_lord, "trp_player"),
								(store_faction_of_party, ":faction_of_party_party", ":party"),
								(assign, ":value_7", 0),
								(try_begin),
									(eq, ":faction_of_party_party", "$players_kingdom"),
									(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
									(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
									(ge, reg0, 50),
									(assign, ":value_7", 1),
								(try_end),
								(this_or_next|eq, ":value_7", 1),
								(this_or_next|eq, "fac_player_supporters_faction", ":faction_of_party_party"),
								(eq, "$players_kingdom", ":faction_of_party_party"),
								(assign, ":value_6", ":value_5"),
								(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
								(try_begin),
									(eq, ":game_reduce_campaign_ai", 0),
									(val_mul, ":value_6", 5),
									(val_div, ":value_6", 4),
								(else_try),
									(eq, ":game_reduce_campaign_ai", 1),
								(else_try),
									(eq, ":game_reduce_campaign_ai", 2),
									(val_div, ":value_6", 2),
								(try_end),
								(party_get_slot, ":party_center_accumulated_rents", ":party", slot_center_accumulated_rents),
								(val_max, ":party_center_accumulated_rents", 0),
								(val_sub, ":value_6", ":party_center_accumulated_rents"),
								(party_get_slot, ":party_center_accumulated_rents", ":party", slot_center_accumulated_tariffs),
								(val_max, ":party_center_accumulated_rents", 0),
								(val_sub, ":value_6", ":party_center_accumulated_rents"),
								(val_max, ":value_6", 0),
								(store_troop_gold, ":party_center_accumulated_rents", "trp_household_possessions"),
								(val_min, ":value_6", ":party_center_accumulated_rents"),
								(ge, ":value_6", 1),
								(call_script, "script_dplmc_withdraw_from_treasury", ":value_6"),
							(try_end),
							(call_script, "script_village_set_state", ":party", 2),
							(party_set_slot, ":party", slot_center_accumulated_rents, 0),
							(party_set_slot, ":party", slot_center_accumulated_tariffs, 0),
							(party_set_slot, ":party", slot_village_raid_progress, 0),
							(party_set_slot, ":party", slot_village_recover_progress, 0),
							(try_begin),
								(store_faction_of_party, ":faction_of_party_party", ":party"),
								(assign, ":value_7", 0),
								(try_begin),
									(eq, ":faction_of_party_party", "$players_kingdom"),
									(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
									(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
									(ge, reg0, 50),
									(assign, ":value_7", 1),
								(try_end),
								(this_or_next|eq, ":value_7", 1),
								(this_or_next|party_slot_eq, ":party", slot_town_lord, "trp_player"),
								(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
								(call_script, "script_add_notification_menu", "mnu_notification_village_raided", ":party", ":party_stack_troop_id_party_village_raided_by_2_0"),
							(try_end),
							(call_script, "script_add_log_entry", 1, ":party_stack_troop_id_party_village_raided_by_2_0", ":party", -1, -1),
							(store_faction_of_party, ":faction_of_party_party_village_raided_by_2", ":party_village_raided_by_2"),
							(call_script, "script_faction_inflict_war_damage_on_faction", ":faction_of_party_party_village_raided_by_2", ":faction_of_party_party", 5),
						(try_end),
					(try_end),
				(else_try),
					(party_slot_eq, ":party", slot_village_state, 2),
					(party_get_slot, ":party_village_recover_progress", ":party", slot_village_recover_progress),
					(val_add, ":party_village_recover_progress", 1),
					(party_set_slot, ":party", slot_village_recover_progress, ":party_village_recover_progress"),
					(try_begin),
						(ge, ":party_village_recover_progress", 10),
						(party_slot_eq, ":party", slot_village_smoke_added, 1),
						(party_clear_particle_systems, ":party"),
						(party_add_particle_system, ":party", "psys_map_village_looted_smoke"),
						(party_set_slot, ":party", slot_village_smoke_added, 2),
					(try_end),
					(try_begin),
						(gt, ":party_village_recover_progress", 50),
						(party_slot_eq, ":party", slot_village_smoke_added, 2),
						(party_clear_particle_systems, ":party"),
						(party_set_slot, ":party", slot_village_smoke_added, 3),
						(party_set_icon, ":party", ":value_3"),
					(try_end),
					(try_begin),
						(gt, ":party_village_recover_progress", 100),
						(call_script, "script_village_set_state", ":party", 0),
						(party_set_slot, ":party", slot_village_recover_progress, 0),
						(party_clear_particle_systems, ":party"),
						(party_set_slot, ":party", slot_village_smoke_added, 0),
						(party_set_icon, ":party", ":value"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("process_sieges",
		[
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(party_get_slot, ":party_center_siege_hardness", ":party", slot_center_siege_hardness),
				(val_sub, ":party_center_siege_hardness", 20),
				(val_max, ":party_center_siege_hardness", 0),
				(party_set_slot, ":party", slot_center_siege_hardness, ":party_center_siege_hardness"),
				(party_get_slot, ":party_food_store", ":party", slot_party_food_store),
				(call_script, "script_center_get_food_store_limit", ":party"),
				(assign, ":var_4", reg0),
				(try_begin),
					(party_get_slot, ":party_center_is_besieged_by", ":party", slot_center_is_besieged_by),
					(ge, ":party_center_is_besieged_by", 0),
					(try_begin),
						(try_begin),
							(is_between, ":party", "p_castle_1", "p_village_1"),
							(store_random_in_range, ":random_in_range_0_3", 0, 3),
							(try_begin),
								(eq, ":random_in_range_0_3", 0),
								(assign, ":value", -1),
							(else_try),
								(assign, ":value", 0),
							(try_end),
						(else_try),
							(assign, ":value", -4),
						(try_end),
						(call_script, "script_change_center_prosperity", ":party", ":value"),
						(val_add, "$newglob_total_prosperity_from_townloot", ":value"),
					(try_end),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(assign, ":value_2", 0),
					(try_begin),
						(try_begin),
							(neg|party_is_active, ":party_center_is_besieged_by"),
							(assign, ":value_2", 1),
						(else_try),
							(store_distance_to_party_from_party, ":distance_to_party_from_party_party_party_center_is_besieged_by", ":party", ":party_center_is_besieged_by"),
							(gt, ":distance_to_party_from_party_party_party_center_is_besieged_by", 5),
							(assign, ":value_2", 1),
						(else_try),
							(troop_get_slot, ":troop_trees_859", "$troop_trees", 859),
							(neg|party_slot_eq, ":party", slot_village_infested_by_bandits, ":troop_trees_859"),
							(store_faction_of_party, ":faction_of_party_party_center_is_besieged_by", ":party_center_is_besieged_by"),
							(store_relation, ":relation_faction_of_party_party_center_is_besieged_by_faction_of_party_party", ":faction_of_party_party_center_is_besieged_by", ":faction_of_party_party"),
							(ge, ":relation_faction_of_party_party_center_is_besieged_by_faction_of_party_party", 0),
							(assign, ":value_2", 1),
						(try_end),
						(eq, ":value_2", 1),
						(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
							(troop_slot_eq, ":troop", slot_troop_occupation, 2),
							(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
							(ge, ":troop_leaded_party", 0),
							(party_is_active, ":troop_leaded_party"),
							(store_faction_of_party, ":faction_of_party_troop_leaded_party", ":troop_leaded_party"),
							(store_relation, ":relation_faction_of_party_party_center_is_besieged_by_faction_of_party_party", ":faction_of_party_troop_leaded_party", ":faction_of_party_party"),
							(lt, ":relation_faction_of_party_party_center_is_besieged_by_faction_of_party_party", 0),
							(store_distance_to_party_from_party, ":distance_to_party_from_party_party_troop_leaded_party", ":party", ":troop_leaded_party"),
							(lt, ":distance_to_party_from_party_party_troop_leaded_party", 4),
							(assign, ":party_center_is_besieged_by", ":troop_leaded_party"),
							(party_set_slot, ":party", slot_center_is_besieged_by, ":troop_leaded_party"),
							(assign, ":value_2", 0),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":value_2", 1),
						(call_script, "script_lift_siege", ":party", 1),
					(else_try),
						(call_script, "script_center_get_food_consumption", ":party"),
						(assign, ":var_18", reg0),
						(val_sub, ":party_food_store", ":var_18"),
						(try_begin),
							(le, ":party_food_store", 0),
							(store_random_in_range, ":random_in_range_0_100", 0, 100),
							(lt, ":random_in_range_0_100", 10),
							(call_script, "script_party_wound_all_members", ":party"),
						(try_end),
					(try_end),
				(else_try),
					(val_add, ":party_food_store", 30),
				(try_end),
				(val_min, ":party_food_store", ":var_4"),
				(val_max, ":party_food_store", 0),
				(party_set_slot, ":party", slot_party_food_store, ":party_food_store"),
			(try_end)
		]),

	("lift_siege",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(party_set_slot, ":script_param_1", slot_center_is_besieged_by, -1),
			(call_script, "script_village_set_state", ":script_param_1", 0),
			(try_begin),
				(eq, ":script_param_1", "$g_player_besiege_town"),
				(assign, "$g_siege_method", 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 1),
				(str_store_party_name_link, 3, ":script_param_1"),
				(display_message, "@{s3} is no longer under siege."),
			(try_end)
		]),

	("process_alarms_new",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(party_set_slot, ":script_param_1", slot_center_last_spotted_enemy, -1),
				(party_set_slot, ":script_param_1", slot_center_sortie_strength, 0),
				(party_set_slot, ":script_param_1", slot_center_sortie_enemy_strength, 0),
				(assign, ":value", 3),
				(try_begin),
					(is_currently_night),
					(assign, ":value", 2),
				(try_end),
				(try_begin),
					(party_slot_eq, ":script_param_1", slot_center_has_watch_tower, 1),
					(val_mul, ":value", 2),
				(else_try),
					(neg|is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
					(val_add, ":value", 1),
					(val_mul, ":value", 2),
				(try_end),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(try_for_parties, ":var_4"),
					(this_or_next|party_slot_eq, ":var_4", slot_party_type, 13),
					(eq, ":var_4", "p_main_party"),
					(store_faction_of_party, ":faction_of_party_var_4", ":var_4"),
					(try_begin),
						(eq, ":var_4", "p_main_party"),
						(assign, ":faction_of_party_var_4", "$players_kingdom"),
					(try_end),
					(try_begin),
						(eq, ":faction_of_party_var_4", ":faction_of_party_script_param_1"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_var_4_script_param_1", ":var_4", ":script_param_1"),
						(le, ":distance_to_party_from_party_var_4_script_param_1", ":value"),
						(party_get_slot, ":var_4_cached_strength", ":var_4", slot_party_cached_strength),
						(party_get_slot, ":script_param_1_center_sortie_strength", ":script_param_1", slot_center_sortie_strength),
						(val_add, ":script_param_1_center_sortie_strength", ":var_4_cached_strength"),
						(party_set_slot, ":script_param_1", slot_center_sortie_strength, ":script_param_1_center_sortie_strength"),
					(else_try),
						(neq, ":faction_of_party_var_4", ":faction_of_party_script_param_1"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_var_4_script_param_1", ":var_4", ":script_param_1"),
						(try_begin),
							(lt, ":distance_to_party_from_party_var_4_script_param_1", 10),
							(store_current_hours, ":current_hours"),
							(store_sub, ":value_2", ":faction_of_party_var_4", "fac_player_supporters_faction"),
							(val_add, ":value_2", 268),
							(party_set_slot, ":script_param_1", ":value_2", ":current_hours"),
						(try_end),
						(store_relation, ":relation_faction_of_party_script_param_1_faction_of_party_var_4", ":faction_of_party_script_param_1", ":faction_of_party_var_4"),
						(lt, ":relation_faction_of_party_script_param_1_faction_of_party_var_4", 0),
						(try_begin),
							(le, ":distance_to_party_from_party_var_4_script_param_1", ":value"),
							(party_get_slot, ":var_4_cached_strength", ":var_4", slot_party_cached_strength),
							(party_get_slot, ":script_param_1_center_sortie_enemy_strength", ":script_param_1", slot_center_sortie_enemy_strength),
							(val_add, ":script_param_1_center_sortie_enemy_strength", ":var_4_cached_strength"),
							(party_set_slot, ":script_param_1", slot_center_sortie_enemy_strength, ":script_param_1_center_sortie_enemy_strength"),
							(party_set_slot, ":script_param_1", slot_center_last_spotted_enemy, ":var_4"),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(is_between, ":script_param_1", "p_town_1", "p_village_1"),
					(party_slot_ge, ":script_param_1", 55, 0),
					(party_get_slot, ":script_param_1_center_sortie_strength", ":script_param_1", slot_center_sortie_strength),
					(party_get_slot, ":script_param_1_center_sortie_enemy_strength", ":script_param_1", slot_center_sortie_enemy_strength),
					(party_get_battle_opponent, ":battle_opponent_script_param_1", ":script_param_1"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(ge, ":battle_opponent_script_param_1", 0),
						(str_store_party_name, 7, ":script_param_1"),
						(str_store_party_name, 6, ":battle_opponent_script_param_1"),
						(display_message, "@{!}DEBUG : There are already enemies ({s6}) inside {s7}."),
					(try_end),
					(lt, ":battle_opponent_script_param_1", 0),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_party_name, 4, ":script_param_1"),
						(assign, reg3, ":script_param_1_center_sortie_strength"),
						(assign, reg4, ":script_param_1_center_sortie_enemy_strength"),
						(display_message, "@{!}DEBUG -- Calculating sortie for {s4} strength of {reg3} vs {reg4} enemies"),
					(try_end),
					(store_mul, ":value_3", ":script_param_1_center_sortie_enemy_strength", 14),
					(val_div, ":value_3", 10),
					(gt, ":script_param_1_center_sortie_strength", ":value_3"),
					(assign, ":value_4", 0),
					(try_for_parties, ":var_16"),
						(party_get_attached_to, ":attached_to_var_16", ":var_16"),
						(eq, ":attached_to_var_16", ":script_param_1"),
						(party_slot_eq, ":var_16", slot_party_type, 13),
						(party_get_slot, ":var_4_cached_strength", ":var_16", slot_party_cached_strength),
						(ge, ":var_4_cached_strength", 100),
						(party_detach, ":var_16"),
						(call_script, "script_party_set_ai_state", ":var_16", 4, ":script_param_1"),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_party_name, 4, ":var_16"),
							(display_message, "str_s4_sorties"),
						(try_end),
						(eq, ":value_4", 0),
						(assign, ":value_4", ":var_16"),
					(try_end),
					(try_begin),
						(party_is_in_town, "p_main_party", ":script_param_1"),
						(eq, "$g_player_is_captive", 0),
						(gt, ":value_4", 0),
						(call_script, "script_add_notification_menu", "mnu_notification_sortie_possible", ":script_param_1", ":var_16"),
					(try_end),
				(try_end),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(this_or_next|eq, "$cheat_mode", 1),
				(this_or_next|party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
				(eq, ":faction_of_party_script_param_1", "$players_kingdom"),
				(party_get_slot, ":script_param_1_center_last_spotted_enemy", ":script_param_1", slot_center_last_spotted_enemy),
				(ge, ":script_param_1_center_last_spotted_enemy", 0),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_main_party_script_param_1", "p_main_party", ":script_param_1"),
				(assign, ":value_5", 0),
				(try_begin),
					(this_or_next|party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
					(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
					(party_slot_eq, ":script_param_1", slot_center_has_messenger_post, 1),
					(assign, ":value_5", 1),
				(try_end),
				(this_or_next|eq, "$cheat_mode", 1),
				(this_or_next|lt, ":distance_to_party_from_party_main_party_script_param_1", 30),
				(eq, ":value_5", 1),
				(str_store_party_name_link, 1, ":script_param_1"),
				(party_get_slot, ":script_param_1_center_sortie_enemy_strength_2", ":script_param_1", slot_center_sortie_enemy_strength),
				(val_div, ":script_param_1_center_sortie_enemy_strength_2", 25),
				(try_begin),
					(lt, ":script_param_1_center_sortie_enemy_strength_2", 500),
					(display_message, "@Small bands of enemies spotted near {s1}."),
				(else_try),
					(lt, ":script_param_1_center_sortie_enemy_strength_2", 1000),
					(display_message, "@Enemy patrols spotted near {s1}."),
				(else_try),
					(lt, ":script_param_1_center_sortie_enemy_strength_2", 2000),
					(display_message, "@Medium-sized group of enemies spotted near {s1}."),
				(else_try),
					(lt, ":script_param_1_center_sortie_enemy_strength_2", 4000),
					(display_message, "@Significant group of enemies spotted near {s1}."),
				(else_try),
					(lt, ":script_param_1_center_sortie_enemy_strength_2", 8000),
					(display_message, "@Army of enemies spotted near {s1}."),
				(else_try),
					(lt, ":script_param_1_center_sortie_enemy_strength_2", 16000),
					(display_message, "@Large army of enemies spotted near {s1}."),
				(else_try),
					(display_message, "@Great host of enemies spotted near {s1}."),
				(try_end),
			(try_end)
		]),

	("process_alarms",
		[
			(assign, ":var_1", "$g_alarm_modula"),
			(val_add, "$g_alarm_modula", 1),
			(try_begin),
				(eq, "$g_alarm_modula", 3),
				(assign, "$g_alarm_modula", 0),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_mod, ":value", ":party", 3),
				(eq, ":value", ":var_1"),
				(party_set_slot, ":party", slot_center_last_spotted_enemy, -1),
				(party_set_slot, ":party", slot_center_sortie_strength, 0),
				(party_set_slot, ":party", slot_center_sortie_enemy_strength, 0),
				(assign, ":value_2", 3),
				(try_begin),
					(is_currently_night),
					(assign, ":value_2", 2),
				(try_end),
				(try_begin),
					(party_slot_eq, ":party", slot_center_has_watch_tower, 1),
					(val_mul, ":value_2", 2),
				(else_try),
					(neg|is_between, ":party", "p_village_1", "p_salt_mine"),
					(val_add, ":value_2", 1),
					(val_mul, ":value_2", 2),
				(try_end),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(try_for_parties, ":var_6"),
					(this_or_next|party_slot_eq, ":var_6", slot_party_type, 13),
					(eq, ":var_6", "p_main_party"),
					(store_faction_of_party, ":faction_of_party_var_6", ":var_6"),
					(try_begin),
						(eq, ":var_6", "p_main_party"),
						(assign, ":faction_of_party_var_6", "$players_kingdom"),
					(try_end),
					(try_begin),
						(eq, ":faction_of_party_var_6", ":faction_of_party_party"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_var_6_party", ":var_6", ":party"),
						(le, ":distance_to_party_from_party_var_6_party", ":value_2"),
						(party_get_slot, ":var_6_cached_strength", ":var_6", slot_party_cached_strength),
						(party_get_slot, ":party_center_sortie_strength", ":party", slot_center_sortie_strength),
						(val_add, ":party_center_sortie_strength", ":var_6_cached_strength"),
						(party_set_slot, ":party", slot_center_sortie_strength, ":party_center_sortie_strength"),
					(else_try),
						(neq, ":faction_of_party_var_6", ":faction_of_party_party"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_var_6_party", ":var_6", ":party"),
						(try_begin),
							(lt, ":distance_to_party_from_party_var_6_party", 10),
							(store_current_hours, ":current_hours"),
							(store_sub, ":value_3", ":faction_of_party_var_6", "fac_player_supporters_faction"),
							(val_add, ":value_3", 268),
							(party_set_slot, ":party", ":value_3", ":current_hours"),
						(try_end),
						(store_relation, ":relation_faction_of_party_party_faction_of_party_var_6", ":faction_of_party_party", ":faction_of_party_var_6"),
						(lt, ":relation_faction_of_party_party_faction_of_party_var_6", 0),
						(try_begin),
							(le, ":distance_to_party_from_party_var_6_party", ":value_2"),
							(party_get_slot, ":var_6_cached_strength", ":var_6", slot_party_cached_strength),
							(party_get_slot, ":party_center_sortie_enemy_strength", ":party", slot_center_sortie_enemy_strength),
							(val_add, ":party_center_sortie_enemy_strength", ":var_6_cached_strength"),
							(party_set_slot, ":party", slot_center_sortie_enemy_strength, ":party_center_sortie_enemy_strength"),
							(party_set_slot, ":party", slot_center_last_spotted_enemy, ":var_6"),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_mod, ":value", ":party", 3),
				(eq, ":value", ":var_1"),
				(try_begin),
					(is_between, ":party", "p_town_1", "p_village_1"),
					(party_slot_ge, ":party", 55, 0),
					(party_get_slot, ":party_center_sortie_strength", ":party", slot_center_sortie_strength),
					(party_get_slot, ":party_center_sortie_enemy_strength", ":party", slot_center_sortie_enemy_strength),
					(party_get_battle_opponent, ":battle_opponent_party", ":party"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(ge, ":battle_opponent_party", 0),
						(str_store_party_name, 7, ":party"),
						(str_store_party_name, 6, ":battle_opponent_party"),
						(display_message, "@{!}DEBUG : There are already enemies ({s6}) inside {s7}."),
					(try_end),
					(lt, ":battle_opponent_party", 0),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_party_name, 4, ":party"),
						(assign, reg3, ":party_center_sortie_strength"),
						(assign, reg4, ":party_center_sortie_enemy_strength"),
						(display_message, "@{!}DEBUG -- Calculating sortie for {s4} strength of {reg3} vs {reg4} enemies"),
					(try_end),
					(store_mul, ":value_4", ":party_center_sortie_enemy_strength", 14),
					(val_div, ":value_4", 10),
					(gt, ":party_center_sortie_strength", ":value_4"),
					(assign, ":value_5", 0),
					(try_for_parties, ":var_18"),
						(party_get_attached_to, ":attached_to_var_18", ":var_18"),
						(eq, ":attached_to_var_18", ":party"),
						(party_slot_eq, ":var_18", slot_party_type, 13),
						(party_get_slot, ":var_6_cached_strength", ":var_18", slot_party_cached_strength),
						(ge, ":var_6_cached_strength", 100),
						(party_detach, ":var_18"),
						(call_script, "script_party_set_ai_state", ":var_18", 4, ":party"),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_party_name, 4, ":var_18"),
							(display_message, "str_s4_sorties"),
						(try_end),
						(eq, ":value_5", 0),
						(assign, ":value_5", ":var_18"),
					(try_end),
					(try_begin),
						(party_is_in_town, "p_main_party", ":party"),
						(eq, "$g_player_is_captive", 0),
						(gt, ":value_5", 0),
						(call_script, "script_add_notification_menu", "mnu_notification_sortie_possible", ":party", ":var_18"),
					(try_end),
				(try_end),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(this_or_next|eq, "$cheat_mode", 1),
				(this_or_next|party_slot_eq, ":party", slot_town_lord, "trp_player"),
				(eq, ":faction_of_party_party", "$players_kingdom"),
				(party_get_slot, ":party_center_last_spotted_enemy", ":party", slot_center_last_spotted_enemy),
				(ge, ":party_center_last_spotted_enemy", 0),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_main_party_party", "p_main_party", ":party"),
				(assign, ":value_6", 0),
				(try_begin),
					(assign, ":value_7", 0),
					(try_begin),
						(eq, ":faction_of_party_party", "$players_kingdom"),
						(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
						(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
						(ge, reg0, 50),
						(assign, ":value_7", 1),
					(try_end),
					(this_or_next|eq, ":value_7", 1),
					(this_or_next|party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
					(party_slot_eq, ":party", slot_center_has_messenger_post, 1),
					(assign, ":value_6", 1),
				(try_end),
				(this_or_next|eq, "$cheat_mode", 1),
				(this_or_next|lt, ":distance_to_party_from_party_main_party_party", 30),
				(eq, ":value_6", 1),
				(str_store_party_name_link, 1, ":party"),
				(party_get_slot, ":party_center_sortie_enemy_strength_2", ":party", slot_center_sortie_enemy_strength),
				(try_begin),
					(lt, ":party_center_sortie_enemy_strength_2", 500),
					(display_message, "@Small bands of enemies spotted near {s1}."),
				(else_try),
					(lt, ":party_center_sortie_enemy_strength_2", 1000),
					(display_message, "@Enemy patrols spotted near {s1}."),
				(else_try),
					(lt, ":party_center_sortie_enemy_strength_2", 2000),
					(display_message, "@Medium-sized group of enemies spotted near {s1}."),
				(else_try),
					(lt, ":party_center_sortie_enemy_strength_2", 4000),
					(display_message, "@Significant group of enemies spotted near {s1}."),
				(else_try),
					(lt, ":party_center_sortie_enemy_strength_2", 8000),
					(display_message, "@Army of enemies spotted near {s1}."),
				(else_try),
					(lt, ":party_center_sortie_enemy_strength_2", 16000),
					(display_message, "@Large army of enemies spotted near {s1}."),
				(else_try),
					(display_message, "@Great host of enemies spotted near {s1}."),
				(try_end),
			(try_end)
		]),

	("allow_vassals_to_join_indoor_battle",
		[
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(gt, ":troop_leaded_party", 0),
				(party_is_active, ":troop_leaded_party"),
				(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
				(lt, ":attached_to_troop_leaded_party", 0),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(try_begin),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
					(party_get_slot, ":troop_leaded_party_ai_object", ":troop_leaded_party", slot_party_ai_object),
					(gt, ":troop_leaded_party_ai_object", 0),
					(party_is_active, ":troop_leaded_party_ai_object"),
					(assign, ":value", -1),
					(try_begin),
						(party_slot_eq, ":troop_leaded_party_ai_object", slot_party_ai_state, 7),
						(party_get_slot, ":troop_leaded_party_ai_object_ai_object", ":troop_leaded_party_ai_object", slot_party_ai_object),
						(party_get_battle_opponent, ":battle_opponent_troop_leaded_party_ai_object_ai_object", ":troop_leaded_party_ai_object_ai_object"),
						(party_is_active, ":battle_opponent_troop_leaded_party_ai_object_ai_object"),
						(assign, ":value", ":troop_leaded_party_ai_object_ai_object"),
						(assign, ":troop_leaded_party_ai_object_ai_object", ":battle_opponent_troop_leaded_party_ai_object_ai_object"),
					(else_try),
						(party_slot_eq, ":troop_leaded_party_ai_object", slot_party_ai_state, 10),
						(party_get_slot, ":troop_leaded_party_ai_object_ai_object", ":troop_leaded_party_ai_object", slot_party_ai_object),
						(ge, ":troop_leaded_party_ai_object_ai_object", 0),
						(neg|is_between, ":troop_leaded_party_ai_object_ai_object", "p_town_1", "p_salt_mine"),
						(party_is_active, ":troop_leaded_party_ai_object_ai_object"),
						(party_get_battle_opponent, ":value", ":troop_leaded_party_ai_object_ai_object"),
					(else_try),
						(assign, ":value", -1),
					(try_end),
					(is_between, ":value", "p_town_1", "p_village_1"),
					(party_get_attached_to, ":attached_to_troop_leaded_party_ai_object", ":troop_leaded_party_ai_object"),
					(eq, ":attached_to_troop_leaded_party_ai_object", ":value"),
					(store_faction_of_party, ":faction_of_party_value", ":value"),
					(eq, ":faction_of_party_value", ":faction_of_troop_troop"),
					(party_is_active, ":troop_leaded_party_ai_object_ai_object"),
					(call_script, "script_party_set_ai_state", ":troop_leaded_party", 10, ":troop_leaded_party_ai_object_ai_object"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_party_name, 7, ":troop_leaded_party"),
						(str_store_party_name, 6, ":troop_leaded_party_ai_object_ai_object"),
						(display_message, "@{!}DEBUG : {s7} is helping his commander by fighting with {s6}."),
					(try_end),
				(else_try),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
					(party_get_slot, ":troop_leaded_party_ai_object", ":troop_leaded_party", slot_party_ai_object),
					(gt, ":troop_leaded_party_ai_object", 0),
					(party_is_active, ":troop_leaded_party_ai_object"),
					(party_get_battle_opponent, ":value", ":troop_leaded_party_ai_object"),
					(is_between, ":value", "p_town_1", "p_village_1"),
					(party_get_attached_to, ":attached_to_troop_leaded_party_ai_object", ":troop_leaded_party"),
					(neq, ":attached_to_troop_leaded_party_ai_object", ":value"),
					(party_is_active, ":value"),
					(call_script, "script_party_set_ai_state", ":troop_leaded_party", 10, ":value"),
				(try_end),
			(try_end)
		]),

	("party_set_ai_state",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(party_get_slot, ":script_param_1_ai_state", ":script_param_1", slot_party_ai_state),
			(party_get_slot, ":script_param_1_ai_object", ":script_param_1", slot_party_ai_object),
			(party_get_attached_to, ":attached_to_script_param_1", ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(is_between, ":attached_to_script_param_1", "p_town_1", "p_salt_mine"),
				(assign, ":value", ":attached_to_script_param_1"),
			(try_end),
			(assign, ":value_2", -1),
			(try_begin),
				(party_is_active, ":script_param_1"),
				(party_stack_get_troop_id, ":value_2", ":script_param_1", 0),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(try_end),
			(try_begin),
				(lt, ":value_2", 0),
			(else_try),
				(try_begin),
					(is_between, ":value", "p_town_1", "p_village_1"),
					(party_slot_eq, ":value", slot_center_is_besieged_by, -1),
					(call_script, "script_troop_does_business_in_center", ":value_2", ":value"),
				(else_try),
					(party_slot_eq, ":script_param_1", slot_party_ai_state, 16),
					(party_get_slot, ":script_param_1_ai_object_2", ":script_param_1", slot_party_ai_object),
					(is_between, ":script_param_1_ai_object_2", "p_village_1", "p_salt_mine"),
					(neg|party_slot_eq, ":script_param_1_ai_object_2", slot_village_state, 1),
					(neg|party_slot_eq, ":script_param_1_ai_object_2", slot_village_state, 2),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_script_param_1_ai_object_2", ":script_param_1", ":script_param_1_ai_object_2"),
					(lt, ":distance_to_party_from_party_script_param_1_script_param_1_ai_object_2", 3),
					(call_script, "script_troop_does_business_in_center", ":value_2", ":script_param_1_ai_object_2"),
				(try_end),
				(party_set_slot, ":script_param_1", slot_party_follow_me, 0),
				(try_begin),
					(eq, ":script_param_1_ai_state", ":script_param_2"),
					(eq, ":script_param_1_ai_object", ":script_param_3"),
				(else_try),
					(assign, ":value_3", 100),
					(assign, ":value_4", 8),
					(assign, ":value_5", 8),
					(try_begin),
						(this_or_next|eq, ":script_param_2", 11),
						(eq, ":script_param_2", 12),
						(party_set_ai_behavior, ":script_param_1", 10),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(party_set_flags, ":script_param_1", 65536, 0),
						(try_begin),
							(gt, ":value", 0),
							(party_detach, ":script_param_1"),
						(try_end),
						(try_begin),
							(eq, ":script_param_2", 12),
							(assign, ":value_4", 9),
							(assign, ":value_5", 9),
							(assign, ":value_3", 80),
						(else_try),
							(assign, ":value_4", 6),
							(assign, ":value_5", 9),
							(assign, ":value_3", 10),
						(try_end),
					(else_try),
						(eq, ":script_param_2", 1),
						(party_get_position, 1, ":script_param_3"),
						(map_get_random_position_around_position, 2, 1, 2),
						(party_set_ai_behavior, ":script_param_1", 6),
						(party_set_ai_target_position, ":script_param_1", 2),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(party_set_flags, ":script_param_1", 65536, 0),
						(party_set_slot, ":script_param_1", slot_party_follow_me, 1),
						(party_set_slot, ":script_param_1", slot_party_ai_substate, 0),
						(try_begin),
							(gt, ":value", 0),
							(neq, ":value", ":script_param_3"),
							(party_detach, ":script_param_1"),
						(try_end),
						(assign, ":value_4", 1),
						(assign, ":value_5", 9),
						(assign, ":value_3", 20),
					(else_try),
						(eq, ":script_param_2", 7),
						(party_set_ai_behavior, ":script_param_1", 1),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(party_set_flags, ":script_param_1", 65536, 0),
						(try_begin),
							(gt, ":value", 0),
							(neq, ":value", ":script_param_3"),
							(party_detach, ":script_param_1"),
						(try_end),
						(assign, ":value_4", 7),
						(assign, ":value_5", 9),
						(assign, ":value_3", 100),
					(else_try),
						(eq, ":script_param_2", 4),
						(party_get_position, 1, ":script_param_3"),
						(map_get_random_position_around_position, 2, 1, 1),
						(party_set_ai_behavior, ":script_param_1", 6),
						(party_set_ai_target_position, ":script_param_1", 2),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(try_begin),
							(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_ai_state, 5),
							(party_set_ai_patrol_radius, ":script_param_1", 1),
						(else_try),
							(party_set_ai_patrol_radius, ":script_param_1", 5),
						(try_end),
						(party_set_flags, ":script_param_1", 65536, 0),
						(party_set_slot, ":script_param_1", slot_party_follow_me, 1),
						(party_set_slot, ":script_param_1", slot_party_ai_substate, 0),
						(try_begin),
							(gt, ":value", 0),
							(party_detach, ":script_param_1"),
						(try_end),
						(try_begin),
							(ge, ":value_2", 0),
							(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_marshall, ":value_2"),
							(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_ai_state, 5),
							(party_get_position, 3, ":script_param_1"),
							(get_distance_between_positions, ":distance_between_positions_1_3", 1, 3),
							(try_begin),
								(ge, ":distance_between_positions_1_3", 800),
								(assign, ":value_3", 10),
								(assign, ":value_4", 1),
								(assign, ":value_5", 8),
							(else_try),
								(assign, ":value_3", 100),
								(assign, ":value_4", 8),
								(assign, ":value_5", 8),
							(try_end),
						(else_try),
							(assign, ":value_4", 8),
							(assign, ":value_5", 8),
							(assign, ":value_3", 100),
						(try_end),
					(else_try),
						(eq, ":script_param_2", 16),
						(party_get_position, 1, ":script_param_3"),
						(map_get_random_position_around_position, 2, 1, 2),
						(party_set_ai_behavior, ":script_param_1", 6),
						(party_set_ai_target_position, ":script_param_1", 2),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(party_set_flags, ":script_param_1", 65536, 0),
						(party_set_slot, ":script_param_1", slot_party_ai_substate, 0),
						(try_begin),
							(gt, ":value", 0),
							(neq, ":value", ":script_param_3"),
							(party_detach, ":script_param_1"),
						(try_end),
						(assign, ":value_4", 8),
						(assign, ":value_5", 8),
						(assign, ":value_3", 100),
					(else_try),
						(eq, ":script_param_2", 5),
						(party_get_position, 1, ":script_param_3"),
						(map_get_random_position_around_position, 2, 1, 1),
						(party_set_ai_behavior, ":script_param_1", 2),
						(party_set_ai_patrol_radius, ":script_param_1", 10),
						(party_set_ai_target_position, ":script_param_1", 2),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(party_set_flags, ":script_param_1", 65536, 0),
						(party_set_slot, ":script_param_1", slot_party_follow_me, 1),
						(party_set_slot, ":script_param_1", slot_party_ai_substate, 0),
						(try_begin),
							(gt, ":value", 0),
							(neq, ":value", ":script_param_3"),
							(party_detach, ":script_param_1"),
						(try_end),
						(try_begin),
							(ge, ":value_2", 0),
							(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_marshall, ":value_2"),
							(assign, ":value_4", 1),
							(assign, ":value_5", 8),
							(assign, ":value_3", 20),
						(else_try),
							(assign, ":value_4", 7),
							(assign, ":value_5", 8),
							(assign, ":value_3", 100),
						(try_end),
					(else_try),
						(eq, ":script_param_2", 10),
						(party_set_ai_behavior, ":script_param_1", 4),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(party_set_flags, ":script_param_1", 65536, 0),
						(try_begin),
							(gt, ":value", 0),
							(party_detach, ":script_param_1"),
						(try_end),
						(try_begin),
							(ge, ":value_2", 0),
							(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_marshall, ":value_2"),
							(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_ai_state, 5),
							(assign, ":value_3", 10),
							(assign, ":value_4", 1),
							(assign, ":value_5", 8),
						(else_try),
							(assign, ":value_4", 8),
							(assign, ":value_5", 8),
							(assign, ":value_3", 100),
						(try_end),
					(else_try),
						(eq, ":script_param_2", 14),
						(party_set_ai_behavior, ":script_param_1", 1),
						(party_set_ai_object, ":script_param_1", ":script_param_3"),
						(party_set_flags, ":script_param_1", 65536, 1),
						(party_set_slot, ":script_param_1", slot_party_commander_party, -1),
						(try_begin),
							(gt, ":value", 0),
							(neq, ":value", ":script_param_3"),
							(party_detach, ":script_param_1"),
						(try_end),
						(assign, ":value_4", 3),
						(assign, ":value_5", 4),
						(assign, ":value_3", 100),
					(else_try),
						(eq, ":script_param_2", -1),
						(party_set_ai_behavior, ":script_param_1", 0),
						(party_set_flags, ":script_param_1", 65536, 0),
					(try_end),
					(try_begin),
						(troop_slot_eq, ":value_2", slot_lord_reputation_type, 1),
						(val_add, ":value_4", 2),
						(val_add, ":value_5", 2),
					(else_try),
						(neg|troop_slot_eq, ":value_2", slot_lord_reputation_type, 22),
						(this_or_next|troop_slot_ge, ":value_2", 52, 21),
						(troop_slot_eq, ":value_2", slot_lord_reputation_type, 5),
						(val_sub, ":value_4", 1),
						(val_sub, ":value_5", 1),
					(try_end),
					(party_set_slot, ":script_param_1", slot_party_ai_state, ":script_param_2"),
					(party_set_slot, ":script_param_1", slot_party_ai_object, ":script_param_3"),
					(party_set_aggressiveness, ":script_param_1", ":value_4"),
					(party_set_courage, ":script_param_1", ":value_5"),
					(party_set_ai_initiative, ":script_param_1", ":value_3"),
				(try_end),
			(try_end),
			(try_begin),
				(ge, ":value_2", 0),
				(party_set_helpfulness, ":script_param_1", 101),
				(try_begin),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 1),
					(party_set_helpfulness, ":script_param_1", 200),
				(else_try),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 7),
					(party_set_helpfulness, ":script_param_1", 150),
				(else_try),
					(party_slot_eq, ":script_param_1", slot_party_ai_state, 11),
					(party_set_helpfulness, ":script_param_1", 110),
				(else_try),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 2),
					(party_set_helpfulness, ":script_param_1", 90),
				(else_try),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 3),
					(party_set_helpfulness, ":script_param_1", 80),
				(else_try),
					(troop_slot_eq, ":value_2", slot_lord_reputation_type, 5),
					(party_set_helpfulness, ":script_param_1", 50),
				(try_end),
			(try_end)
		]),

	("cf_party_under_player_suggestion",
		[
			(store_script_param, ":script_param_1", 1),
			(party_slot_eq, ":script_param_1", 261, "trp_kingdom_heroes_including_player_begin"),
			(party_get_slot, ":script_param_1_ai_state", ":script_param_1", slot_party_ai_state),
			(party_slot_eq, ":script_param_1", 262, ":script_param_1_ai_state"),
			(party_get_slot, ":script_param_1_ai_object", ":script_param_1", slot_party_ai_object),
			(party_slot_eq, ":script_param_1", 263, ":script_param_1_ai_object"),
			(store_current_hours, ":current_hours"),
			(party_get_slot, ":script_param_1_264", ":script_param_1", 264),
			(val_sub, ":current_hours", ":script_param_1_264"),
			(lt, ":current_hours", 12)
		]),

	("troop_does_business_in_center",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
			(assign, ":value", reg0),
			(try_begin),
				(lt, ":value", 0),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, "trp_player"),
				(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
				(call_script, "script_troop_get_player_relation", ":script_param_1"),
				(store_skill_level, ":skill_level_persuasion_player", "skl_persuasion", "trp_player"),
				(val_add, reg0, ":skill_level_persuasion_player"),
				(store_sub, ":value_2", 20, ":skill_level_persuasion_player"),
				(val_mul, reg0, ":value_2"),
				(val_div, reg0, 20),
				(ge, reg0, -5),
				(assign, ":value", 1),
			(try_end),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(store_current_hours, ":current_hours"),
			(try_begin),
				(is_between, ":script_param_2", "p_town_1", "p_village_1"),
				(party_set_slot, ":script_param_1_leaded_party", slot_party_last_in_any_center, ":current_hours"),
				(try_begin),
					(call_script, "script_lord_get_home_center", ":script_param_1"),
					(eq, ":script_param_2", reg0),
					(party_set_slot, ":script_param_1_leaded_party", slot_party_last_in_home_center, ":current_hours"),
				(try_end),
			(try_end),
			(try_begin),
				(party_slot_eq, ":script_param_2", slot_town_lord, ":script_param_1"),
				(party_get_slot, ":script_param_2_center_accumulated_rents", ":script_param_2", slot_center_accumulated_rents),
				(party_get_slot, ":script_param_2_center_accumulated_tariffs", ":script_param_2", slot_center_accumulated_tariffs),
				(troop_get_slot, ":script_param_1_wealth", ":script_param_1", slot_troop_wealth),
				(val_add, ":script_param_1_wealth", ":script_param_2_center_accumulated_rents"),
				(val_add, ":script_param_1_wealth", ":script_param_2_center_accumulated_tariffs"),
				(troop_set_slot, ":script_param_1", slot_troop_wealth, ":script_param_1_wealth"),
				(party_set_slot, ":script_param_2", slot_center_accumulated_rents, 0),
				(party_set_slot, ":script_param_2", slot_center_accumulated_tariffs, 0),
				(try_begin),
					(this_or_next|ge, ":value", 1),
					(this_or_next|eq, "$cheat_mode", 1),
					(eq, "$cheat_mode", 3),
					(assign, reg1, ":script_param_1_wealth"),
					(str_store_party_name, 4, ":script_param_2"),
					(add_troop_note_from_sreg, ":script_param_1", 1, "str_current_wealth_reg1_taxes_last_collected_from_s4", 0),
					(ge, ":value", 1),
					(store_add, reg0, ":script_param_2_center_accumulated_rents", ":script_param_2_center_accumulated_tariffs"),
					(str_store_troop_name, 0, ":script_param_1"),
					(try_begin),
						(gt, reg0, 0),
						(display_message, "@{s0} collects {reg0} denars from {s4}, current wealth: {reg1} denars"),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
				(party_get_slot, ":script_param_2_center_npc_volunteer_troop_type", ":script_param_2", slot_center_npc_volunteer_troop_type),
				(party_get_slot, ":script_param_2_center_npc_volunteer_troop_amount", ":script_param_2", slot_center_npc_volunteer_troop_amount),
				(party_set_slot, ":script_param_2", slot_center_npc_volunteer_troop_amount, -1),
				(try_begin),
					(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party", ":script_param_1_leaded_party"),
					(eq, ":faction_of_party_script_param_1_leaded_party", "fac_player_supporters_faction"),
					(is_between, "$g_player_culture", "fac_kingdom_1", "fac_kingdoms_end"),
					(faction_get_slot, ":script_param_2_center_npc_volunteer_troop_type", "$g_player_culture", slot_faction_quick_battle_tier_1_infantry),
				(try_end),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(this_or_next|ge, ":value", 1),
					(assign, reg2, ":script_param_2_center_npc_volunteer_troop_amount"),
					(str_store_string, 11, "@{reg2}"),
					(str_store_troop_name, 12, ":script_param_2_center_npc_volunteer_troop_type"),
					(str_store_faction_name, 13, ":faction_of_party_script_param_1_leaded_party"),
					(str_store_party_name, 14, ":script_param_2"),
					(str_store_party_name, 10, ":script_param_1_leaded_party"),
					(display_message, "@ {s10} of {s13} recruits {s11} {s12} in {s14}"),
				(try_end),
				(party_add_members, ":script_param_1_leaded_party", ":script_param_2_center_npc_volunteer_troop_type", ":script_param_2_center_npc_volunteer_troop_amount"),
			(try_end),
			(try_begin),
				(party_get_slot, ":script_param_1_leaded_party_leader_last_courted", ":script_param_1_leaded_party", slot_party_leader_last_courted),
				(store_sub, ":value_3", ":current_hours", ":script_param_1_leaded_party_leader_last_courted"),
				(gt, ":value_3", 72),
				(troop_slot_eq, ":script_param_1", slot_troop_spouse, -1),
				(neg|is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(try_for_range, ":number", 35, 38),
					(troop_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
					(gt, ":script_param_1_number", 0),
					(troop_get_slot, ":script_param_1_number_cur_center", ":script_param_1_number", slot_troop_cur_center),
					(eq, ":script_param_2", ":script_param_1_number_cur_center"),
					(call_script, "script_courtship_event_troop_court_lady", ":script_param_1", ":script_param_1_number"),
					(party_set_slot, ":script_param_1_leaded_party", slot_party_leader_last_courted, ":current_hours"),
				(try_end),
			(try_end)
		]),

	("process_kingdom_parties_ai",
		[
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(gt, ":troop_leaded_party", 0),
				(call_script, "script_process_hero_ai", ":troop"),
			(try_end)
		]),

	("process_hero_ai",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(try_begin),
				(party_is_active, ":script_param_1_leaded_party"),
				(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party", ":script_param_1_leaded_party"),
				(party_get_slot, ":script_param_1_leaded_party_ai_state", ":script_param_1_leaded_party", slot_party_ai_state),
				(party_get_slot, ":script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", slot_party_ai_object),
				(try_begin),
					(eq, ":script_param_1_leaded_party_ai_state", 1),
					(try_begin),
						(party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_center_is_besieged_by, -1),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":script_param_1_leaded_party_ai_object"),
						(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", 3),
						(try_begin),
							(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_state, 11),
							(party_get_slot, ":script_param_1_leaded_party_ai_object_2", ":script_param_1_leaded_party", slot_party_ai_object),
							(party_set_slot, ":script_param_1_leaded_party_ai_object", slot_center_is_besieged_by, ":script_param_1_leaded_party_ai_object_2"),
						(else_try),
							(party_set_slot, ":script_param_1_leaded_party_ai_object", slot_center_is_besieged_by, ":script_param_1_leaded_party"),
						(try_end),
						(store_current_hours, ":current_hours"),
						(party_set_slot, ":script_param_1_leaded_party_ai_object", slot_center_siege_begin_hours, ":current_hours"),
						(str_store_party_name_link, 1, ":script_param_1_leaded_party_ai_object"),
						(str_store_troop_name_link, 2, ":script_param_1"),
						(str_store_faction_name_link, 3, ":faction_of_party_script_param_1_leaded_party"),
						(display_log_message, "@{s1} has been besieged by {s2} of {s3}."),
						(try_begin),
							(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party_ai_object"),
							(assign, ":value", 0),
							(try_begin),
								(eq, ":faction_of_party_script_param_1_leaded_party_ai_object", "$players_kingdom"),
								(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
								(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
								(ge, reg0, 50),
								(assign, ":value", 1),
							(try_end),
							(this_or_next|eq, ":value", 1),
							(this_or_next|party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_town_lord, "trp_player"),
							(eq, ":faction_of_party_script_param_1_leaded_party_ai_object", "fac_player_supporters_faction"),
							(call_script, "script_add_notification_menu", "mnu_notification_center_under_siege", ":script_param_1_leaded_party_ai_object", ":script_param_1"),
						(try_end),
						(call_script, "script_village_set_state", ":script_param_1_leaded_party_ai_object", 5),
						(assign, "$g_recalculate_ais", 1),
					(try_end),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state", 5),
					(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_substate, 0),
					(assign, ":value_2", 0),
					(try_for_range, ":party", "p_village_1", "p_salt_mine"),
						(eq, ":value_2", 0),
						(store_faction_of_party, ":faction_of_party_party", ":party"),
						(try_begin),
							(party_slot_eq, ":party", slot_town_lord, "trp_player"),
							(store_relation, ":relation_player_supporters_faction_faction_of_party_script_param_1_leaded_party", "fac_player_supporters_faction", ":faction_of_party_script_param_1_leaded_party"),
						(else_try),
							(store_relation, ":relation_player_supporters_faction_faction_of_party_script_param_1_leaded_party", ":faction_of_party_party", ":faction_of_party_script_param_1_leaded_party"),
						(try_end),
						(lt, ":relation_player_supporters_faction_faction_of_party_script_param_1_leaded_party", 0),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_party_script_param_1_leaded_party", ":party", ":script_param_1_leaded_party"),
						(lt, ":distance_to_party_from_party_party_script_param_1_leaded_party", 15),
						(party_slot_eq, ":party", slot_village_state, 0),
						(assign, ":value_2", ":party"),
					(try_end),
					(try_begin),
						(eq, ":value_2", 0),
						(is_between, ":script_param_1_leaded_party_ai_object", "p_village_1", "p_salt_mine"),
						(assign, ":value_2", ":script_param_1_leaded_party_ai_object"),
					(try_end),
					(try_begin),
						(gt, ":value_2", 0),
						(call_script, "script_party_set_ai_state", ":script_param_1_leaded_party", 5, ":value_2"),
						(try_begin),
							(faction_slot_eq, ":faction_of_party_script_param_1_leaded_party", slot_faction_marshall, ":script_param_1"),
							(faction_slot_eq, ":faction_of_party_script_param_1_leaded_party", slot_faction_ai_state, 3),
							(faction_set_slot, ":faction_of_party_script_param_1_leaded_party", slot_faction_ai_object, ":value_2"),
						(try_end),
						(party_get_position, 1, ":value_2"),
						(map_get_random_position_around_position, 2, 1, 1),
						(party_set_ai_behavior, ":script_param_1_leaded_party", 6),
						(party_set_ai_target_position, ":script_param_1_leaded_party", 2),
						(party_set_ai_object, ":script_param_1_leaded_party", ":value_2"),
						(party_set_slot, ":script_param_1_leaded_party", slot_party_ai_substate, 1),
					(try_end),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state", 5),
					(try_begin),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":script_param_1_leaded_party_ai_object"),
						(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", 2),
						(try_begin),
							(party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_village_state, 0),
							(call_script, "script_village_set_state", ":script_param_1_leaded_party_ai_object", 1),
							(party_set_slot, ":script_param_1_leaded_party_ai_object", slot_village_raided_by, ":script_param_1_leaded_party"),
							(try_begin),
								(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party_ai_object_2", ":script_param_1_leaded_party_ai_object"),
								(assign, ":value", 0),
								(try_begin),
									(eq, ":faction_of_party_script_param_1_leaded_party_ai_object_2", "$players_kingdom"),
									(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
									(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
									(ge, reg0, 50),
									(assign, ":value", 1),
								(try_end),
								(this_or_next|eq, ":value", 1),
								(this_or_next|party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_town_lord, "trp_player"),
								(eq, ":faction_of_party_script_param_1_leaded_party_ai_object_2", "fac_player_supporters_faction"),
								(store_distance_to_party_from_party, ":distance_to_party_from_party_party_script_param_1_leaded_party", "p_main_party", ":script_param_1_leaded_party_ai_object"),
								(this_or_next|lt, ":distance_to_party_from_party_party_script_param_1_leaded_party", 30),
								(party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_center_has_messenger_post, 1),
								(call_script, "script_add_notification_menu", "mnu_notification_village_raid_started", ":script_param_1_leaded_party_ai_object", ":script_param_1"),
							(try_end),
						(else_try),
							(party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_village_state, 1),
						(else_try),
							(party_set_slot, ":script_param_1_leaded_party", slot_party_ai_substate, 0),
						(try_end),
					(try_end),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state", 14),
					(try_begin),
						(party_get_battle_opponent, ":battle_opponent_script_param_1_leaded_party", ":script_param_1_leaded_party"),
						(ge, ":battle_opponent_script_param_1_leaded_party", 0),
						(call_script, "script_party_set_ai_state", ":script_param_1_leaded_party", -1, -1),
						(party_set_flags, ":script_param_1_leaded_party", 65536, 0),
						(party_set_slot, ":script_param_1_leaded_party", slot_party_commander_party, -1),
					(try_end),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state", 4),
					(try_begin),
						(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_substate, 0),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":script_param_1_leaded_party_ai_object"),
						(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", 6),
						(party_set_slot, ":script_param_1_leaded_party", slot_party_ai_substate, 1),
						(party_set_aggressiveness, ":script_param_1_leaded_party", 8),
						(party_set_courage, ":script_param_1_leaded_party", 8),
						(party_set_ai_initiative, ":script_param_1_leaded_party", 100),
						(party_set_ai_behavior, ":script_param_1_leaded_party", 3),
						(party_set_ai_object, ":script_param_1_leaded_party", ":script_param_1_leaded_party_ai_object"),
					(try_end),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state", 7),
				(try_end),
			(try_end)
		]),

	("begin_assault_on_center",
		[
			(store_script_param, ":script_param_1", 1),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(gt, ":troop_leaded_party", 0),
				(party_is_active, ":troop_leaded_party"),
				(assign, ":value", 0),
				(try_begin),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 1),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_object, ":script_param_1"),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_substate, 0),
					(assign, ":value", 1),
				(else_try),
					(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
					(party_get_slot, ":troop_leaded_party_ai_object", ":troop_leaded_party", slot_party_ai_object),
					(gt, ":troop_leaded_party_ai_object", 0),
					(party_is_active, ":troop_leaded_party_ai_object"),
					(party_slot_eq, ":troop_leaded_party_ai_object", slot_party_ai_state, 1),
					(party_slot_eq, ":troop_leaded_party_ai_object", slot_party_ai_object, ":script_param_1"),
					(call_script, "script_party_set_ai_state", ":troop_leaded_party", 1, ":script_param_1"),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(party_set_ai_behavior, ":troop_leaded_party", 4),
				(party_set_ai_object, ":troop_leaded_party", ":script_param_1"),
				(party_set_flags, ":troop_leaded_party", 65536, 1),
				(party_set_slot, ":troop_leaded_party", slot_party_ai_substate, 1),
			(try_end)
		]),

	("select_faction_marshall",
		[]),

	("get_center_faction_relation_including_player",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(store_relation, ":relation_faction_of_party_script_param_1_script_param_2", ":faction_of_party_script_param_1", ":script_param_2"),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
				(store_relation, ":relation_faction_of_party_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_2"),
			(try_end),
			(assign, reg0, ":relation_faction_of_party_script_param_1_script_param_2")
		]),

	("update_report_to_army_quest_note",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(le, "$number_of_report_to_army_quest_notes", 13),
				(faction_get_slot, ":script_param_1_marshall", ":script_param_1", slot_faction_marshall),
				(try_begin),
					(eq, ":script_param_1", "$players_kingdom"),
					(neq, ":script_param_2", ":script_param_3"),
					(check_quest_active, "qst_report_to_army"),
					(ge, ":script_param_1_marshall", 0),
					(str_store_troop_name_link, 11, ":script_param_1_marshall"),
					(store_current_hours, ":current_hours"),
					(call_script, "script_game_get_date_text", 0, ":current_hours"),
					(try_begin),
						(this_or_next|eq, ":script_param_2", 5),
						(this_or_next|eq, ":script_param_2", 2),
						(eq, ":script_param_2", 1),
						(faction_get_slot, ":script_param_1_ai_object", ":script_param_1", slot_faction_ai_object),
						(ge, ":script_param_1_ai_object", 0),
						(str_store_party_name_link, 21, ":script_param_1_ai_object"),
					(try_end),
					(try_begin),
						(eq, ":script_param_2", 1),
						(try_begin),
							(ge, "$g_gathering_reason", 0),
							(str_store_party_name_link, 21, "$g_gathering_reason"),
							(str_store_string, 14, "str_we_should_prepare_to_defend_s21_but_we_should_gather_our_forces_until_we_are_strong_enough_to_engage_them"),
						(else_try),
							(str_store_string, 14, "str_it_is_time_to_go_on_the_offensive_and_we_must_first_assemble_the_army"),
						(try_end),
						(str_store_string, 14, "@({s1}) {s11}: {s14}"),
						(add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", 14, 0),
						(val_add, "$number_of_report_to_army_quest_notes", 1),
					(else_try),
						(eq, ":script_param_2", 5),
						(try_begin),
							(is_between, ":script_param_1_ai_object", "p_town_1", "p_village_1"),
							(str_store_string, 14, "str_we_should_ride_to_break_the_siege_of_s21"),
							(str_store_string, 14, "@({s1}) {s11}: {s14}"),
							(add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", 14, 0),
							(val_add, "$number_of_report_to_army_quest_notes", 1),
						(else_try),
							(is_between, ":script_param_1_ai_object", "p_village_1", "p_salt_mine"),
							(str_store_string, 14, "str_we_should_ride_to_defeat_the_enemy_gathered_near_s21"),
							(str_store_string, 14, "@({s1}) {s11}: {s14}"),
							(add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", 14, 0),
							(val_add, "$number_of_report_to_army_quest_notes", 1),
						(try_end),
					(else_try),
						(this_or_next|eq, ":script_param_2", 2),
						(eq, ":script_param_2", 3),
						(try_begin),
							(is_between, ":script_param_1_ai_object", "p_town_1", "p_village_1"),
							(str_store_string, 14, "str_we_believe_the_fortress_will_be_worth_the_effort_to_take_it"),
							(str_store_string, 14, "@{s14} ({s21})"),
							(str_store_string, 14, "@({s1}) {s11}: {s14}"),
							(add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", 14, 0),
							(val_add, "$number_of_report_to_army_quest_notes", 1),
						(else_try),
							(is_between, ":script_param_1_ai_object", "p_village_1", "p_salt_mine"),
							(str_store_string, 14, "str_we_shall_leave_a_fiery_trail_through_the_heart_of_the_enemys_lands_targeting_the_wealthy_settlements_if_we_can"),
							(str_store_string, 14, "@{s14} ({s21})"),
							(str_store_string, 14, "@({s1}) {s11}: {s14}"),
							(add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", 14, 0),
							(val_add, "$number_of_report_to_army_quest_notes", 1),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("decide_faction_ai",
		[
			(store_script_param_1, ":script_param_1"),
			(faction_get_slot, ":script_param_1_ai_state", ":script_param_1", slot_faction_ai_state),
			(faction_get_slot, ":script_param_1_ai_object", ":script_param_1", slot_faction_ai_object),
			(faction_get_slot, ":script_param_1_marshall", ":script_param_1", slot_faction_marshall),
			(try_begin),
				(faction_slot_eq, ":script_param_1", slot_faction_state, 0),
				(neq, ":script_param_1", "fac_player_supporters_faction"),
				(ge, ":script_param_1_marshall", "trp_player"),
				(store_faction_of_troop, ":faction_of_troop_script_param_1_marshall", ":script_param_1_marshall"),
				(try_begin),
					(eq, ":script_param_1_marshall", "trp_player"),
					(assign, ":faction_of_troop_script_param_1_marshall", "$players_kingdom"),
				(try_end),
				(assign, ":value", 0),
				(try_begin),
					(eq, ":script_param_1_marshall", "trp_player"),
					(eq, "$g_player_is_captive", 1),
					(assign, ":value", 1),
				(try_end),
				(this_or_next|neq, ":faction_of_troop_script_param_1_marshall", ":script_param_1"),
				(this_or_next|troop_slot_ge, ":script_param_1_marshall", 150, 80),
				(this_or_next|eq, ":value", 1),
				(troop_slot_ge, ":script_param_1_marshall", 8, 0),
				(assign, ":value_2", 0),
				(try_begin),
					(eq, ":script_param_1_marshall", "trp_player"),
					(assign, ":var_8", 0),
					(gt, "$g_player_days_as_marshal", 1),
					(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(eq, ":faction_of_troop_troop", ":script_param_1"),
						(call_script, "script_npc_decision_checklist_troop_follow_or_not", ":troop"),
						(eq, reg0, 1),
						(val_add, ":var_8", 1),
					(try_end),
					(lt, ":var_8", 4),
					(assign, ":value_2", 1),
				(try_end),
				(this_or_next|eq, ":script_param_1_ai_state", 0),
				(this_or_next|eq, ":script_param_1_ai_state", 6),
				(this_or_next|neq, ":faction_of_troop_script_param_1_marshall", ":script_param_1"),
				(this_or_next|eq, ":value_2", 1),
				(this_or_next|eq, ":value", 1),
				(troop_slot_ge, ":script_param_1_marshall", 8, 0),
				(this_or_next|faction_slot_eq, ":script_param_1", slot_faction_political_issue, 0),
				(this_or_next|eq, ":value", 1),
				(troop_slot_ge, ":script_param_1_marshall", 8, 0),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue, 1),
				(store_current_hours, ":current_hours"),
				(val_max, ":current_hours", 0),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue_time, ":current_hours"),
				(faction_get_slot, ":script_param_1_marshall_2", ":script_param_1", slot_faction_marshall),
				(try_begin),
					(ge, ":script_param_1_marshall_2", 0),
					(troop_get_slot, ":script_param_1_marshall_2_leaded_party", ":script_param_1_marshall_2", slot_troop_leaded_party),
					(party_is_active, ":script_param_1_marshall_2_leaded_party"),
					(party_set_marshall, ":script_param_1_marshall_2_leaded_party", 0),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(faction_slot_eq, "$players_kingdom", slot_faction_marshall, "trp_player"),
					(call_script, "script_add_notification_menu", "mnu_notification_relieved_as_marshal", 0, 0),
				(else_try),
					(neq, ":script_param_1_marshall_2", "trp_player"),
					(call_script, "script_change_troop_renown", ":script_param_1_marshall_2", 15),
				(try_end),
				(faction_set_slot, ":script_param_1", slot_faction_marshall, -1),
				(assign, ":script_param_1_marshall", -1),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(eq, ":faction_of_troop_troop_2", ":script_param_1"),
					(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
				(try_end),
			(else_try),
				(eq, ":script_param_1_marshall", -1),
				(neg|faction_slot_ge, ":script_param_1", 64, 1),
				(faction_slot_eq, ":script_param_1", slot_faction_state, 0),
				(neq, ":script_param_1", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue, 1),
				(store_current_hours, ":current_hours"),
				(val_max, ":current_hours", 0),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue_time, ":current_hours"),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(eq, ":faction_of_troop_troop_2", ":script_param_1"),
					(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
				(try_end),
			(else_try),
				(eq, ":script_param_1_marshall", "trp_player"),
				(neq, "$players_kingdom", ":script_param_1"),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue, 1),
				(store_current_hours, ":current_hours"),
				(val_max, ":current_hours", 0),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue_time, ":current_hours"),
				(faction_get_slot, ":script_param_1_marshall_2", ":script_param_1", slot_faction_marshall),
				(try_begin),
					(ge, ":script_param_1_marshall_2", 0),
					(troop_get_slot, ":script_param_1_marshall_2_leaded_party", ":script_param_1_marshall_2", slot_troop_leaded_party),
					(party_is_active, ":script_param_1_marshall_2_leaded_party"),
					(party_set_marshall, ":script_param_1_marshall_2_leaded_party", 0),
				(try_end),
				(faction_set_slot, ":script_param_1", slot_faction_marshall, -1),
				(assign, ":script_param_1_marshall", -1),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(eq, ":faction_of_troop_troop_2", ":script_param_1"),
					(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
				(try_end),
			(try_end),
			(try_begin),
				(faction_get_slot, ":script_param_1_political_issue", ":script_param_1", slot_faction_political_issue),
				(is_between, ":script_param_1_political_issue", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_script_param_1_political_issue", ":script_param_1_political_issue"),
				(neq, ":faction_of_party_script_param_1_political_issue", ":script_param_1"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_faction_name, 4, ":script_param_1"),
					(str_store_party_name, 5, ":faction_of_party_script_param_1_political_issue"),
					(display_message, "@{!}DEBUG -- {s4} drops {s5} as issue as it has changed hands"),
				(try_end),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue, 0),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(eq, ":faction_of_troop_troop_2", ":script_param_1"),
					(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
				(try_end),
			(try_end),
			(try_begin),
				(faction_slot_ge, ":script_param_1", 64, 1),
				(neq, ":script_param_1", "fac_player_supporters_faction"),
				(this_or_next|faction_slot_ge, ":script_param_1", 64, "p_town_1"),
				(this_or_next|faction_slot_eq, ":script_param_1", slot_faction_ai_state, 0),
				(faction_slot_eq, ":script_param_1", slot_faction_ai_state, 6),
				(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
				(assign, ":var_19", 0),
				(assign, ":var_20", 0),
				(assign, ":value_3", -1),
				(troop_set_slot, "trp_player", slot_troop_temp_slot, 0),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(troop_set_slot, ":troop_2", slot_troop_temp_slot, 0),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(ge, "$player_has_homage", 1),
					(troop_get_slot, ":player_stance_on_faction_issue", "trp_player", slot_troop_stance_on_faction_issue),
					(gt, ":player_stance_on_faction_issue", -1),
					(val_add, ":var_19", 1),
					(val_add, ":var_20", 1),
					(troop_set_slot, ":player_stance_on_faction_issue", slot_troop_temp_slot, 1),
					(assign, ":value_3", ":player_stance_on_faction_issue"),
				(try_end),
				(try_for_range, ":troop_3", "trp_npc1", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":troop_3", slot_troop_occupation, 2),
					(is_between, ":troop_3", "trp_npc1", "trp_knight_1_1_wife"),
					(neg|troop_slot_ge, ":troop_3", 2, 11),
					(store_faction_of_troop, ":faction_of_troop_troop_3", ":troop_3"),
					(eq, ":faction_of_troop_troop_3", ":script_param_1"),
					(val_add, ":var_19", 1),
					(troop_get_slot, ":player_stance_on_faction_issue", ":troop_3", slot_troop_stance_on_faction_issue),
					(gt, ":player_stance_on_faction_issue", -1),
					(val_add, ":var_20", 1),
					(troop_get_slot, ":player_stance_on_faction_issue_temp_slot", ":player_stance_on_faction_issue", slot_troop_temp_slot),
					(val_add, ":player_stance_on_faction_issue_temp_slot", 1),
					(troop_set_slot, ":player_stance_on_faction_issue", slot_troop_temp_slot, ":player_stance_on_faction_issue_temp_slot"),
					(try_begin),
						(gt, ":value_3", -1),
						(troop_get_slot, ":value_3_temp_slot", ":value_3", slot_troop_temp_slot),
						(gt, ":player_stance_on_faction_issue_temp_slot", ":value_3_temp_slot"),
						(assign, ":value_3", ":player_stance_on_faction_issue"),
					(else_try),
						(eq, ":value_3", -1),
						(assign, ":value_3", ":player_stance_on_faction_issue"),
					(try_end),
				(try_end),
				(store_div, ":value_4", ":var_19", 5),
				(val_mul, ":value_4", 4),
				(faction_get_slot, ":script_param_1_201", ":script_param_1", 201),
				(val_clamp, ":script_param_1_201", -3, 4),
				(try_begin),
					(eq, 0, 1),
					(neq, ":script_param_1_201", 0),
					(store_sub, ":value_4", 15, ":script_param_1_201"),
					(try_begin),
						(ge, ":value_4", 16),
						(faction_get_slot, ":script_param_1_202", ":script_param_1", 202),
						(lt, ":script_param_1_202", 0),
						(val_clamp, ":script_param_1_202", -3, 4),
						(val_add, ":value_4", ":script_param_1_202"),
						(val_max, ":value_4", 15),
					(try_end),
					(val_mul, ":value_4", ":var_19"),
					(val_div, ":value_4", 20),
				(try_end),
				(store_current_hours, ":current_hours_2"),
				(faction_get_slot, ":script_param_1_political_issue_time", ":script_param_1", slot_faction_political_issue_time),
				(val_sub, ":current_hours_2", ":script_param_1_political_issue_time"),
				(assign, ":value_5", 120),
				(try_begin),
					(eq, 0, 1),
					(store_mul, ":value_5", ":script_param_1_201", 16),
					(val_add, ":value_5", 120),
					(try_begin),
						(neq, ":script_param_1_201", 0),
					(try_end),
				(try_end),
				(this_or_next|gt, ":var_20", ":value_4"),
				(ge, ":current_hours_2", ":value_5"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(assign, reg4, ":var_20"),
					(assign, reg5, ":value_4"),
					(assign, reg7, ":current_hours_2"),
					(str_store_faction_name, 4, ":script_param_1"),
					(display_message, "@{!}DEBUG -- Issue resolution for {s4}: {reg4} votes for a quorum of {reg5}, {reg7} hours on agenda"),
				(try_end),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "@{!}DEBUG -- Faction resolves political issue"),
				(try_end),
				(assign, ":value_6", -1),
				(troop_get_slot, ":script_param_1_leader_stance_on_faction_issue", ":script_param_1_leader", slot_troop_stance_on_faction_issue),
				(assign, ":value_7", 10),
				(faction_get_slot, ":script_param_1_political_issue_2", ":script_param_1", slot_faction_political_issue),
				(try_begin),
					(ge, "$g_dplmc_ai_changes", 0),
					(this_or_next|is_between, ":script_param_1_political_issue_2", "p_village_1", "p_salt_mine"),
					(is_between, ":script_param_1_political_issue_2", "p_castle_1", "p_village_1"),
					(store_random_in_range, ":value_7", 0, 16),
					(val_sub, ":value_7", 5),
				(try_end),
				(try_begin),
					(ge, ":script_param_1_leader", 1),
					(eq, "$players_kingdom", ":script_param_1"),
					(this_or_next|troop_slot_eq, ":script_param_1_leader", slot_troop_spouse, "trp_player"),
					(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1_leader"),
					(troop_slot_eq, "trp_player", slot_troop_stance_on_faction_issue, ":value_3"),
					(assign, ":value_6", ":value_3"),
				(else_try),
					(ge, ":script_param_1_leader", 1),
					(neq, ":script_param_1_leader_stance_on_faction_issue", ":value_3"),
					(gt, ":script_param_1_leader_stance_on_faction_issue", -1),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1_leader", ":script_param_1_leader_stance_on_faction_issue"),
					(val_min, ":value_7", reg0),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1_leader", ":value_3"),
					(gt, ":value_7", reg0),
					(assign, reg0, 0),
					(try_begin),
						(troop_slot_ge, ":script_param_1_leader", 8, 0),
						(store_random_in_range, reg0, 0, 2),
					(try_end),
					(try_begin),
						(eq, reg0, 1),
						(gt, ":value_3", -1),
						(this_or_next|eq, "$players_kingdom", ":script_param_1"),
						(ge, "$cheat_mode", 1),
						(str_store_faction_name, 4, ":script_param_1"),
						(str_store_troop_name, 5, ":value_3"),
						(str_store_troop_name, 0, ":script_param_1_leader"),
						(try_begin),
							(eq, ":script_param_1_political_issue_2", 1),
							(display_message, "@{s5} has the greatest support among the lords of {s4} to be the next marshall.  {s0} is indisposed and cannot overrule their choice."),
						(else_try),
							(is_between, ":script_param_1_political_issue_2", "p_town_1", "p_salt_mine"),
							(str_store_party_name, 1, ":script_param_1_political_issue_2"),
							(display_message, "@{s5} has the greatest support among the lords of {s4} to receive {s1}.  {s0} is indisposed and cannot overrule their choice."),
						(try_end),
					(try_end),
					(eq, reg0, 0),
					(assign, ":value_6", ":script_param_1_leader_stance_on_faction_issue"),
					(try_begin),
						(gt, ":value_3", -1),
						(this_or_next|eq, "$players_kingdom", ":script_param_1"),
						(ge, "$cheat_mode", 1),
						(str_store_faction_name, 4, ":script_param_1"),
						(str_store_troop_name, 5, ":value_3"),
						(str_store_troop_name, 0, ":script_param_1_leader"),
						(try_begin),
							(eq, ":script_param_1_political_issue_2", 1),
							(display_message, "@{s5} has the greatest support among the lords of the {s4} to be the next marshall, but {s0} overrules their choice."),
						(else_try),
							(is_between, ":script_param_1_political_issue_2", "p_town_1", "p_salt_mine"),
							(str_store_party_name, 1, ":script_param_1_political_issue_2"),
							(display_message, "@{s5} has the greatest support among the lords of the {s4} to receive {s1}, but {s0} overrules their choice."),
						(try_end),
					(try_end),
				(else_try),
					(assign, ":value_6", ":value_3"),
				(try_end),
				(try_begin),
					(eq, ":value_6", -1),
				(else_try),
					(eq, ":value_6", "trp_player"),
					(eq, "$players_kingdom", ":script_param_1"),
					(call_script, "script_add_notification_menu", "mnu_notification_player_faction_political_issue_resolved_for_player", 0, 0),
				(else_try),
					(eq, ":value_6", "trp_player"),
					(neq, "$players_kingdom", ":script_param_1"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_faction_name, 4, ":script_param_1"),
						(str_store_party_name, 5, ":value_6"),
						(display_message, "@{!}DEBUG -- {s4} drops {s5} as winner, for having changed sides"),
					(try_end),
					(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
						(this_or_next|troop_slot_eq, ":troop_2", slot_troop_occupation, 2),
						(is_between, ":troop_2", "trp_npc1", "trp_knight_1_1_wife"),
						(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
						(eq, ":faction_of_troop_troop_2", ":script_param_1"),
						(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
					(try_end),
					(try_begin),
						(eq, "$players_kingdom", ":script_param_1"),
						(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
					(try_end),
				(else_try),
					(store_faction_of_troop, ":faction_of_troop_value_6", ":value_6"),
					(neq, ":faction_of_troop_value_6", ":script_param_1"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_faction_name, 4, ":script_param_1"),
						(str_store_party_name, 5, ":value_6"),
						(display_message, "@{!}DEBUG -- {s4} drops {s5} as winner, for having changed sides"),
					(try_end),
					(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
						(this_or_next|troop_slot_eq, ":troop_2", slot_troop_occupation, 2),
						(is_between, ":troop_2", "trp_npc1", "trp_knight_1_1_wife"),
						(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
						(eq, ":faction_of_troop_troop_2", ":script_param_1"),
						(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
					(try_end),
					(try_begin),
						(eq, "$players_kingdom", ":script_param_1"),
						(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
					(try_end),
				(else_try),
					(faction_get_slot, ":script_param_1_political_issue_2", ":script_param_1", slot_faction_political_issue),
					(try_begin),
						(eq, ":script_param_1_political_issue_2", 1),
						(is_between, ":value_6", "trp_npc1", "trp_knight_1_1_wife"),
						(this_or_next|is_between, ":value_6", "trp_npc1", "trp_heroes_end"),
						(eq, "$players_kingdom", ":script_param_1"),
						(this_or_next|troop_slot_eq, ":value_6", slot_troop_occupation, 2),
						(this_or_next|is_between, ":value_6", "trp_npc1", "trp_knight_1_1_wife"),
						(eq, "$players_kingdom", ":script_param_1"),
						(assign, ":script_param_1_marshall", ":value_6"),
					(else_try),
						(is_between, ":script_param_1_political_issue_2", "p_town_1", "p_salt_mine"),
						(call_script, "script_give_center_to_lord", ":script_param_1_political_issue_2", ":value_6", 0),
						(try_begin),
							(eq, ":script_param_1_political_issue_2", "$g_castle_requested_by_player"),
							(party_slot_ge, ":script_param_1_political_issue_2", 7, "trp_npc1"),
							(store_faction_of_party, ":faction_of_party_script_param_1_political_issue_2", ":script_param_1_political_issue_2"),
							(eq, ":faction_of_party_script_param_1_political_issue_2", "$players_kingdom"),
							(assign, "$g_center_to_give_to_player", ":script_param_1_political_issue_2"),
							(try_begin),
								(troop_get_slot, ":player_spouse", "trp_player", slot_troop_spouse),
								(is_between, ":player_spouse", "trp_npc1", "trp_heroes_end"),
								(this_or_next|troop_slot_eq, ":value_6", slot_troop_occupation, 2),
								(is_between, ":player_spouse", "trp_npc1", "trp_knight_1_1_wife"),
								(eq, "$g_castle_requested_for_troop", ":player_spouse"),
								(neq, ":value_6", ":player_spouse"),
								(jump_to_menu, "mnu_requested_castle_granted_to_another_female"),
							(else_try),
								(jump_to_menu, "mnu_requested_castle_granted_to_another"),
							(try_end),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":script_param_1", "$players_kingdom"),
						(call_script, "script_add_notification_menu", "mnu_notification_player_faction_political_issue_resolved", ":script_param_1_political_issue_2", ":value_6"),
					(try_end),
					(faction_set_slot, ":script_param_1", slot_faction_political_issue, 0),
					(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
						(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
						(eq, ":faction_of_troop_troop_2", ":script_param_1"),
						(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
					(try_end),
					(try_begin),
						(eq, "$players_kingdom", ":script_param_1"),
						(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(faction_get_slot, ":script_param_1_political_issue_3", ":script_param_1", slot_faction_political_issue),
				(le, ":script_param_1_political_issue_3", 0),
				(assign, ":var_41", 0),
				(assign, ":var_42", 0),
				(assign, ":value_8", 0),
				(troop_set_slot, "trp_player", slot_troop_temp_slot, 0),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(troop_set_slot, ":troop_2", slot_troop_temp_slot, 0),
				(try_end),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(eq, ":faction_of_party_party", ":script_param_1"),
					(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
					(try_begin),
						(lt, ":party_town_lord", 0),
						(val_add, ":var_42", 1),
						(try_begin),
							(eq, ":value_8", 0),
							(assign, ":value_8", ":party"),
						(try_end),
					(else_try),
						(troop_set_slot, ":party_town_lord", slot_troop_temp_slot, 1),
					(try_end),
				(try_end),
				(store_add, ":value_9", ":var_41", ":var_42"),
				(ge, ":value_9", 2),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue, ":value_8"),
				(store_current_hours, ":current_hours"),
				(faction_set_slot, ":script_param_1", slot_faction_political_issue_time, ":current_hours"),
				(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(eq, ":faction_of_troop_troop_2", ":script_param_1"),
					(troop_set_slot, ":troop_2", slot_troop_stance_on_faction_issue, -1),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
				(try_end),
			(try_end),
			(try_begin),
				(neg|faction_slot_eq, ":script_param_1", slot_faction_marshall, ":script_param_1_marshall"),
				(eq, "$players_kingdom", ":script_param_1"),
				(str_store_troop_name_link, 1, ":script_param_1_marshall"),
				(str_store_faction_name_link, 2, ":script_param_1"),
				(display_message, "@{s1} is the new marshal of the {s2}."),
				(call_script, "script_check_and_finish_active_army_quests_for_faction", ":script_param_1"),
			(try_end),
			(try_begin),
				(neg|faction_slot_eq, ":script_param_1", slot_faction_marshall, ":script_param_1_marshall"),
				(gt, ":script_param_1_marshall", -1),
				(call_script, "script_appoint_faction_marshall", ":script_param_1", ":script_param_1_marshall"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "$players_kingdom"),
				(eq, ":script_param_1_marshall", "trp_player"),
				(assign, ":value_10", "trp_player"),
			(else_try),
				(is_between, ":script_param_1_marshall", "trp_npc1", "trp_heroes_end"),
				(assign, ":value_10", ":script_param_1_marshall"),
			(else_try),
				(faction_get_slot, ":value_10", ":script_param_1", slot_faction_leader),
			(try_end),
			(call_script, "script_npc_decision_checklist_faction_ai_alt", ":value_10"),
			(assign, ":var_49", reg0),
			(assign, ":var_50", reg1),
			(try_begin),
				(neq, ":var_49", ":script_param_1_ai_state"),
				(eq, ":var_49", 1),
				(faction_get_slot, ":script_param_1_marshall", ":script_param_1", slot_faction_marshall),
				(gt, ":script_param_1_marshall", -1),
				(troop_get_slot, ":script_param_1_marshall_leaded_party", ":script_param_1_marshall", slot_troop_leaded_party),
				(party_set_slot, ":script_param_1_marshall_leaded_party", slot_party_ai_object, -1),
				(assign, "$g_gathering_new_started", 1),
				(call_script, "script_npc_decision_checklist_party_ai", ":script_param_1_marshall"),
				(call_script, "script_party_set_ai_state", ":script_param_1_marshall_leaded_party", reg0, reg1),
				(assign, "$g_gathering_new_started", 0),
			(else_try),
				(eq, ":var_49", ":script_param_1_ai_state"),
				(eq, ":var_49", 1),
				(faction_get_slot, ":script_param_1_marshall", ":script_param_1", slot_faction_marshall),
				(gt, ":script_param_1_marshall", -1),
				(troop_get_slot, ":script_param_1_marshall_leaded_party", ":script_param_1_marshall", slot_troop_leaded_party),
				(gt, ":script_param_1_marshall_leaded_party", -1),
				(party_get_slot, ":script_param_1_marshall_leaded_party_ai_object", ":script_param_1_marshall_leaded_party", slot_party_ai_object),
				(ge, ":script_param_1_marshall_leaded_party_ai_object", 0),
				(ge, ":script_param_1_marshall_leaded_party", 0),
				(party_is_active, ":script_param_1_marshall_leaded_party"),
				(party_is_active, ":script_param_1_marshall_leaded_party_ai_object"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_marshall_leaded_party_script_param_1_marshall_leaded_party_ai_object", ":script_param_1_marshall_leaded_party", ":script_param_1_marshall_leaded_party_ai_object"),
				(le, ":distance_to_party_from_party_script_param_1_marshall_leaded_party_script_param_1_marshall_leaded_party_ai_object", 5),
				(party_set_slot, ":script_param_1_marshall_leaded_party", slot_party_ai_object, -1),
			(try_end),
			(faction_set_slot, ":script_param_1", slot_faction_ai_state, ":var_49"),
			(faction_set_slot, ":script_param_1", slot_faction_ai_object, ":var_50"),
			(call_script, "script_update_report_to_army_quest_note", ":script_param_1", ":var_49", ":script_param_1_ai_state"),
			(try_begin),
				(eq, ":var_49", 6),
				(store_current_hours, ":current_hours"),
				(faction_set_slot, ":script_param_1", slot_faction_last_feast_concluded, ":current_hours"),
				(try_begin),
					(eq, "$g_player_eligible_feast_center_no", ":var_50"),
					(assign, "$g_player_eligible_feast_center_no", -1),
				(try_end),
				(try_begin),
					(is_between, ":var_50", "p_town_1", "p_castle_1"),
					(party_set_slot, ":var_50", slot_town_has_tournament, 2),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":var_49", ":script_param_1_ai_state"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_faction_name, 5, ":script_param_1"),
					(display_message, "str_s5_decides_s14"),
				(try_end),
				(store_current_hours, ":current_hours"),
				(faction_set_slot, ":script_param_1", slot_faction_ai_current_state_started, ":current_hours"),
				(try_begin),
					(eq, ":script_param_1_ai_state", 6),
					(call_script, "script_faction_conclude_feast", ":script_param_1", ":script_param_1_ai_object"),
				(try_end),
				(try_begin),
					(eq, ":var_49", 6),
					(faction_get_slot, ":script_param_1_ai_object_2", ":script_param_1", slot_faction_ai_object),
					(party_get_slot, ":script_param_1_ai_object_2_town_lord", ":script_param_1_ai_object_2", slot_town_lord),
					(try_begin),
						(check_quest_active, "qst_wed_betrothed"),
						(quest_slot_eq, "qst_wed_betrothed", slot_quest_giver_troop, ":script_param_1_ai_object_2_town_lord"),
						(neg|quest_slot_ge, "qst_wed_betrothed", 23, 362),
						(call_script, "script_add_notification_menu", "mnu_notification_player_wedding_day", ":script_param_1_ai_object_2_town_lord", ":script_param_1_ai_object_2"),
					(else_try),
						(check_quest_active, "qst_wed_betrothed_female"),
						(quest_get_slot, ":wed_betrothed_giver_troop", "qst_wed_betrothed", slot_quest_giver_troop),
						(store_faction_of_troop, ":faction_of_troop_wed_betrothed_giver_troop", ":wed_betrothed_giver_troop"),
						(eq, ":faction_of_troop_wed_betrothed_giver_troop", ":script_param_1"),
						(neg|quest_slot_ge, "qst_wed_betrothed", 23, 362),
						(call_script, "script_add_notification_menu", "mnu_notification_player_kingdom_holds_feast", ":script_param_1_ai_object_2_town_lord", ":script_param_1_ai_object_2"),
					(else_try),
						(eq, "$players_kingdom", ":script_param_1"),
						(troop_slot_ge, "trp_player", 7, 150),
						(party_get_slot, ":script_param_1_ai_object_2_town_lord", ":script_param_1_ai_object_2", slot_town_lord),
						(call_script, "script_add_notification_menu", "mnu_notification_player_kingdom_holds_feast", ":script_param_1_ai_object_2_town_lord", ":script_param_1_ai_object_2"),
					(try_end),
				(try_end),
				(try_begin),
					(eq, ":script_param_1_ai_state", 1),
					(is_between, ":var_49", 2, 6),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_faction_name, 5, ":script_param_1"),
						(display_message, "str_s5_begins_offensive"),
					(try_end),
					(try_begin),
						(assign, ":var_58", 0),
						(assign, ":value_11", -1),
						(assign, ":value_12", 30),
						(troop_get_slot, ":script_param_1_marshall_leaded_party_2", ":script_param_1_marshall", slot_troop_leaded_party),
						(party_is_active, ":script_param_1_marshall_leaded_party_2"),
						(try_for_range, ":troop_4", "trp_npc1", "trp_heroes_end"),
							(store_faction_of_troop, ":faction_of_troop_troop_4", ":troop_4"),
							(eq, ":faction_of_troop_troop_4", ":script_param_1"),
							(troop_get_slot, ":faction_of_troop_troop_4_leaded_party", ":faction_of_troop_troop_4", slot_troop_leaded_party),
							(gt, ":faction_of_troop_troop_4_leaded_party", 0),
							(party_is_active, ":faction_of_troop_troop_4_leaded_party"),
							(party_slot_eq, ":faction_of_troop_troop_4_leaded_party", slot_party_ai_state, 11),
							(party_slot_eq, ":faction_of_troop_troop_4_leaded_party", slot_party_ai_object, ":script_param_1_marshall_leaded_party_2"),
							(val_add, ":var_58", 1),
							(try_begin),
								(ge, "$cheat_mode", 1),
								(str_store_party_name, 4, ":faction_of_troop_troop_4_leaded_party"),
								(display_message, "@{!}DEBUG -- {s4} participates in offensive"),
							(try_end),
							(store_party_size_wo_prisoners, ":party_size_wo_prisoners_faction_of_troop_troop_4_leaded_party", ":faction_of_troop_troop_4_leaded_party"),
							(val_sub, ":party_size_wo_prisoners_faction_of_troop_troop_4_leaded_party", 50),
							(val_abs, ":party_size_wo_prisoners_faction_of_troop_troop_4_leaded_party"),
							(lt, ":party_size_wo_prisoners_faction_of_troop_troop_4_leaded_party", ":value_12"),
							(assign, ":value_11", ":faction_of_troop_troop_4_leaded_party"),
							(assign, ":value_12", ":party_size_wo_prisoners_faction_of_troop_troop_4_leaded_party"),
						(try_end),
						(gt, ":var_58", 2),
						(party_is_active, ":value_11"),
						(party_is_active, ":script_param_1_marshall_leaded_party_2"),
						(call_script, "script_party_set_ai_state", ":value_11", 12, ":script_param_1_marshall_leaded_party_2"),
						(try_begin),
							(ge, "$cheat_mode", 1),
							(str_store_party_name, 4, ":value_11"),
							(display_message, "@{!}DEBUG -- {s4} chosen as screen"),
						(try_end),
					(try_end),
				(else_try),
					(store_current_hours, ":current_hours"),
					(this_or_next|eq, ":script_param_1_ai_state", 1),
					(this_or_next|eq, ":script_param_1_ai_state", 2),
					(this_or_next|eq, ":script_param_1_ai_state", 3),
					(eq, ":script_param_1_ai_state", 4),
					(this_or_next|eq, ":var_49", 0),
					(eq, ":var_49", 6),
					(call_script, "script_check_and_finish_active_army_quests_for_faction", ":script_param_1"),
					(faction_set_slot, ":script_param_1", slot_faction_ai_last_offensive_time, ":current_hours"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(neg|faction_slot_eq, ":script_param_1", slot_faction_ai_state, 2),
				(check_quest_active, "qst_join_siege_with_army"),
				(call_script, "script_abort_quest", "qst_join_siege_with_army", 0),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":var_49", 0),
				(eq, ":var_49", 6),
				(store_current_hours, ":current_hours_3"),
				(faction_get_slot, ":script_param_1_ai_current_state_started", ":script_param_1", slot_faction_ai_current_state_started),
				(val_sub, ":current_hours_3", ":script_param_1_ai_current_state_started"),
				(ge, ":current_hours_3", 18),
				(store_current_hours, ":current_hours"),
				(faction_set_slot, ":script_param_1", slot_faction_ai_last_rest_time, ":current_hours"),
			(try_end)
		]),

	("check_and_finish_active_army_quests_for_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(try_begin),
					(check_quest_active, "qst_report_to_army"),
					(call_script, "script_cancel_quest", "qst_report_to_army"),
				(try_end),
				(assign, ":value", 0),
				(try_for_range, ":quest", "qst_deliver_cattle_to_army", "qst_rescue_lord_by_replace"),
					(check_quest_active, ":quest"),
					(call_script, "script_cancel_quest", ":quest"),
					(troop_get_slot, ":quest_party_template", ":quest", slot_troop_party_template),
					(assign, ":value", 1),
				(try_end),
				(try_begin),
					(check_quest_active, "qst_follow_army"),
					(assign, ":value", 1),
					(troop_get_slot, ":quest_party_template", "qst_follow_army", slot_troop_party_template),
					(call_script, "script_end_quest", "qst_follow_army"),
				(try_end),
				(eq, ":value", 1),
				(faction_get_slot, ":script_param_1_ai_last_offensive_time", ":script_param_1", slot_faction_ai_last_offensive_time),
				(store_current_hours, ":current_hours"),
				(store_sub, ":value_2", ":current_hours", ":script_param_1_ai_last_offensive_time"),
				(store_mul, ":value_3", ":value_2", 5),
				(val_div, ":value_3", 50),
				(val_mul, ":value_3", 50),
				(val_add, ":value_3", 50),
				(add_xp_as_reward, ":value_3"),
				(call_script, "script_troop_change_relation_with_troop", "trp_player", ":quest_party_template", 2),
			(try_end)
		]),

	("troop_get_player_relation",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(troop_get_slot, ":script_param_1_player_relation", ":script_param_1", slot_troop_player_relation),
			(assign, ":value", 0),
			(try_begin),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(val_add, ":script_param_1_player_relation", -3),
			(try_end),
			(try_begin),
				(ge, "$player_honor", 0),
				(try_begin),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 7),
					(eq, ":script_param_1_lord_reputation_type", 6),
					(store_div, ":value", "$player_honor", 3),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 25),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
					(store_div, ":value", "$player_honor", 3),
				(else_try),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
					(ge, reg0, 1),
					(store_div, ":value", "$player_honor", 3),
				(try_end),
			(try_end),
			(try_begin),
				(lt, "$player_honor", 0),
				(try_begin),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 7),
					(eq, ":script_param_1_lord_reputation_type", 6),
					(store_div, ":value", "$player_honor", 3),
				(else_try),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
					(ge, reg0, 1),
					(store_div, ":value", "$player_honor", 3),
				(else_try),
					(lt, reg0, 0),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 8),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 10),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 24),
					(eq, ":script_param_1_lord_reputation_type", 4),
					(store_div, ":value", "$player_honor", -5),
					(val_clamp, ":value", 1, 6),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 9),
					(store_div, ":value", "$player_honor", 5),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 3),
					(store_div, ":value", "$player_honor", 5),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 25),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
					(store_div, ":value", "$player_honor", 3),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 21),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
					(store_div, ":value", "$player_honor", 5),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 1),
					(store_div, ":value", "$player_honor", 5),
				(try_end),
			(try_end),
			(val_add, ":script_param_1_player_relation", ":value"),
			(val_clamp, ":script_param_1_player_relation", -100, 101),
			(assign, reg0, ":script_param_1_player_relation")
		]),

	("change_troop_renown",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
			(try_begin),
				(gt, ":script_param_2", 0),
				(assign, reg4, ":script_param_2"),
				(store_div, ":value", ":script_param_1_renown", 200),
				(val_sub, ":script_param_2", ":value"),
				(val_max, ":script_param_2", 0),
				(eq, ":script_param_1", "trp_player"),
				(assign, reg5, ":script_param_2"),
				(eq, "$cheat_mode", 1),
				(display_message, "str_renown_change_of_reg4_reduced_to_reg5_because_of_high_existing_renown"),
			(try_end),
			(store_add, ":value_2", ":script_param_1_renown", ":script_param_2"),
			(val_max, ":value_2", 0),
			(troop_set_slot, ":script_param_1", slot_troop_renown, ":value_2"),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(try_begin),
					(ge, ":value_2", 50),
					(try_begin),
						(troop_get_type, ":type_player", "trp_player"),
						(eq, ":type_player", 1),
						(unlock_achievement, 79),
					(try_end),
				(try_end),
				(str_store_troop_name, 1, ":script_param_1"),
				(assign, reg12, ":script_param_2"),
				(val_abs, reg12),
				(try_begin),
					(gt, ":script_param_2", 0),
					(display_message, "@You gained {reg12} renown.", 0x0033ff33),
				(else_try),
					(lt, ":script_param_2", 0),
					(display_message, "@You lose {reg12} renown.", 0x00ff3333),
				(try_end),
			(try_end),
			(call_script, "script_update_troop_notes", ":script_param_1")
		]),

	("change_player_relation_with_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(neq, ":script_param_1", "trp_player"),
				(neg|is_between, ":script_param_1", "trp_mercenary_n_townsman", "trp_swadian_town_walker_m_average"),
				(neq, ":script_param_1", "trp_kingdom_heroes_including_player_begin"),
				(ge, ":script_param_1", 1),
				(neq, ":script_param_2", 0),
				(call_script, "script_troop_get_player_relation", ":script_param_1"),
				(assign, ":var_3", reg0),
				(troop_get_slot, ":script_param_1_player_relation", ":script_param_1", slot_troop_player_relation),
				(val_add, ":script_param_1_player_relation", ":script_param_2"),
				(val_clamp, ":script_param_1_player_relation", -100, 101),
				(try_begin),
					(troop_set_slot, ":script_param_1", slot_troop_player_relation, ":script_param_1_player_relation"),
					(try_begin),
						(le, ":script_param_1_player_relation", -50),
						(unlock_achievement, 29),
					(try_end),
					(str_store_troop_name_link, 1, ":script_param_1"),
					(call_script, "script_troop_get_player_relation", ":script_param_1"),
					(assign, ":var_5", reg0),
					(neq, ":var_3", ":var_5"),
					(assign, reg1, ":var_3"),
					(assign, reg2, ":var_5"),
					(try_begin),
						(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
						(eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
						(call_script, "script_troop_set_title_according_to_faction_gender_and_lands", "trp_player", "$players_kingdom"),
						(call_script, "script_troop_set_title_according_to_faction", ":script_param_1", "$players_kingdom"),
					(try_end),
					(try_begin),
						(lt, "$cheat_mode", 1),
						(troop_slot_eq, ":script_param_1", slot_troop_occupation, 15),
						(neq, ":script_param_1", "$g_talk_troop"),
					(else_try),
						(gt, ":script_param_2", 0),
						(display_message, "str_troop_relation_increased", 0x0033ff33),
					(else_try),
						(lt, ":script_param_2", 0),
						(display_message, "str_troop_relation_detoriated", 0x00ff3333),
					(try_end),
					(try_begin),
						(eq, ":script_param_1", "$g_talk_troop"),
						(assign, "$g_talk_troop_relation", ":var_5"),
						(call_script, "script_setup_talk_info"),
					(try_end),
					(call_script, "script_update_troop_notes", ":script_param_1"),
				(try_end),
			(try_end)
		]),

	("change_player_relation_with_center",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_center_player_relation", ":script_param_1", slot_center_player_relation),
			(assign, reg1, ":script_param_1_center_player_relation"),
			(val_add, ":script_param_1_center_player_relation", ":script_param_2"),
			(val_clamp, ":script_param_1_center_player_relation", -100, 100),
			(assign, reg2, ":script_param_1_center_player_relation"),
			(party_set_slot, ":script_param_1", slot_center_player_relation, ":script_param_1_center_player_relation"),
			(try_begin),
				(le, ":script_param_1_center_player_relation", -50),
				(unlock_achievement, 29),
			(try_end),
			(str_store_party_name_link, 1, ":script_param_1"),
			(try_begin),
				(gt, ":script_param_2", 0),
				(display_message, "@Your relation with {s1} has improved.", 0x0033ff33),
			(else_try),
				(lt, ":script_param_2", 0),
				(display_message, "@Your relation with {s1} has deteriorated.", 0x00ff3333),
			(try_end),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 4),
				(call_script, "script_update_volunteer_troops_in_village", ":script_param_1"),
			(try_end),
			(try_begin),
				(this_or_next|is_between, "$g_talk_troop", "trp_village_1_elder", "trp_merchants_end"),
				(is_between, "$g_talk_troop", "trp_town_1_mayor", "trp_village_1_elder"),
				(party_slot_eq, ":script_param_1", slot_town_elder, "$g_talk_troop"),
				(assign, "$g_talk_troop_relation", ":script_param_1_center_player_relation"),
				(call_script, "script_setup_talk_info"),
			(try_end)
		]),

	("change_player_relation_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_relation, ":relation_script_param_1_player_supporters_faction", ":script_param_1", "fac_player_supporters_faction"),
			(assign, reg1, ":relation_script_param_1_player_supporters_faction"),
			(val_add, ":relation_script_param_1_player_supporters_faction", ":script_param_2"),
			(assign, reg2, ":relation_script_param_1_player_supporters_faction"),
			(set_relation, ":script_param_1", "fac_player_faction", ":relation_script_param_1_player_supporters_faction"),
			(set_relation, ":script_param_1", "fac_player_supporters_faction", ":relation_script_param_1_player_supporters_faction"),
			(try_begin),
				(le, ":relation_script_param_1_player_supporters_faction", -50),
				(unlock_achievement, 29),
			(try_end),
			(str_store_faction_name_link, 1, ":script_param_1"),
			(try_begin),
				(gt, ":script_param_2", 0),
				(display_message, "str_faction_relation_increased", 0x0033ff33),
			(else_try),
				(lt, ":script_param_2", 0),
				(display_message, "str_faction_relation_detoriated", 0x00ff3333),
			(try_end),
			(call_script, "script_update_all_notes")
		]),

	("set_player_relation_with_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_relation, ":relation_script_param_1_player_supporters_faction", ":script_param_1", "fac_player_supporters_faction"),
			(store_sub, ":value", ":script_param_2", ":relation_script_param_1_player_supporters_faction"),
			(call_script, "script_change_player_relation_with_faction", ":script_param_1", ":value")
		]),

	("change_player_relation_with_faction_ex",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_relation, ":relation_script_param_1_player_supporters_faction", ":script_param_1", "fac_player_supporters_faction"),
			(assign, reg1, ":relation_script_param_1_player_supporters_faction"),
			(val_add, ":relation_script_param_1_player_supporters_faction", ":script_param_2"),
			(assign, reg2, ":relation_script_param_1_player_supporters_faction"),
			(set_relation, ":script_param_1", "fac_player_faction", ":relation_script_param_1_player_supporters_faction"),
			(set_relation, ":script_param_1", "fac_player_supporters_faction", ":relation_script_param_1_player_supporters_faction"),
			(str_store_faction_name_link, 1, ":script_param_1"),
			(try_begin),
				(gt, ":script_param_2", 0),
				(display_message, "str_faction_relation_increased", 0x0033ff33),
			(else_try),
				(lt, ":script_param_2", 0),
				(display_message, "str_faction_relation_detoriated", 0x00ff3333),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(neq, ":script_param_1", ":faction"),
				(store_relation, ":relation_script_param_1_faction", ":script_param_1", ":faction"),
				(store_relation, ":relation_script_param_1_player_supporters_faction", ":faction", "fac_player_supporters_faction"),
				(store_mul, ":value", ":script_param_2", ":relation_script_param_1_faction"),
				(val_div, ":value", 100),
				(val_add, ":relation_script_param_1_player_supporters_faction", ":value"),
				(try_begin),
					(store_add, ":value_2", "fac_player_supporters_faction", 120),
					(val_sub, ":value_2", "fac_player_supporters_faction"),
					(faction_get_slot, ":faction_value_2", ":faction", ":value_2"),
					(this_or_next|le, ":faction_value_2", 0),
					(gt, ":script_param_2", 0),
					(store_relation, ":relation_faction_player_supporters_faction", ":faction", "fac_player_supporters_faction"),
					(store_sub, ":value", ":relation_script_param_1_player_supporters_faction", ":relation_faction_player_supporters_faction"),
					(str_store_faction_name_link, 1, ":faction"),
					(assign, reg1, ":relation_faction_player_supporters_faction"),
					(assign, reg2, ":relation_script_param_1_player_supporters_faction"),
					(try_begin),
						(gt, ":value", 0),
						(display_message, "str_faction_relation_increased"),
					(else_try),
						(lt, ":value", 0),
						(display_message, "str_faction_relation_detoriated"),
					(try_end),
					(try_begin),
						(ge, ":relation_faction_player_supporters_faction", 0),
						(lt, ":relation_script_param_1_player_supporters_faction", 0),
						(try_begin),
							(this_or_next|eq, "$players_kingdom", "fac_player_faction"),
							(eq, "$players_kingdom", "fac_player_supporters_faction"),
							(call_script, "script_add_notification_menu", "mnu_notification_war_declared", ":faction", "$players_kingdom"),
						(else_try),
							(is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
							(store_relation, ":relation_faction_players_kingdom", ":faction", "$players_kingdom"),
							(lt, ":relation_faction_players_kingdom", 0),
							(call_script, "script_add_notification_menu", "mnu_notification_war_declared", ":faction", "$players_kingdom"),
						(else_try),
							(display_message, "@{!} There is widespread ill-will towards you in the {s1}."),
						(try_end),
					(try_end),
					(set_relation, ":faction", "fac_player_faction", ":relation_script_param_1_player_supporters_faction"),
					(set_relation, ":faction", "fac_player_supporters_faction", ":relation_script_param_1_player_supporters_faction"),
				(try_end),
			(try_end),
			(try_begin),
				(faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 0),
				(try_for_range, ":faction_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_slot_eq, ":faction_2", slot_faction_state, 0),
					(call_script, "script_update_faction_notes", ":faction_2"),
				(try_end),
			(try_end)
		]),

	("cf_get_random_active_faction_except_player_faction_and_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", 0),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction", "fac_player_supporters_faction"),
				(neq, ":faction", ":script_param_1"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(val_add, ":var_2", 1),
			(try_end),
			(gt, ":var_2", 0),
			(assign, ":value", -1),
			(store_random_in_range, ":random_in_range_0_var_2", 0, ":var_2"),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(ge, ":random_in_range_0_var_2", 0),
				(neq, ":faction", "fac_player_supporters_faction"),
				(neq, ":faction", ":script_param_1"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(val_sub, ":random_in_range_0_var_2", 1),
				(lt, ":random_in_range_0_var_2", 0),
				(assign, ":value", ":faction"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("make_kingdom_hostile_to_player",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(lt, ":script_param_2", 0),
				(store_relation, ":relation_script_param_1_player_supporters_faction", ":script_param_1", "fac_player_supporters_faction"),
				(val_min, ":relation_script_param_1_player_supporters_faction", 0),
				(val_add, ":relation_script_param_1_player_supporters_faction", ":script_param_2"),
				(call_script, "script_set_player_relation_with_faction", ":script_param_1", ":relation_script_param_1_player_supporters_faction"),
			(try_end)
		]),

	("change_player_honor",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 2),
				(ge, "$player_honor", 10),
				(lt, ":script_param_1", 0),
				(store_add, ":value", "$player_honor", 100),
				(val_mul, ":script_param_1", ":value"),
				(val_sub, ":script_param_1", 50),
				(val_div, ":script_param_1", 100),
			(try_end),
			(val_add, "$player_honor", ":script_param_1"),
			(try_begin),
				(gt, ":script_param_1", 0),
				(display_message, "@You gain honour.", 0x0033ff33),
			(else_try),
				(lt, ":script_param_1", 0),
				(display_message, "@You lose honour.", 0x00ff3333),
			(try_end)
		]),

	("change_player_party_morale",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_morale, ":morale_main_party", "p_main_party"),
			(val_clamp, ":morale_main_party", 0, 100),
			(store_add, ":value", ":morale_main_party", ":script_param_1"),
			(val_clamp, ":value", 0, 100),
			(party_set_morale, "p_main_party", ":value"),
			(try_begin),
				(lt, ":value", ":morale_main_party"),
				(store_sub, reg1, ":morale_main_party", ":value"),
				(display_message, "str_party_lost_morale", 0x00ff3333),
			(else_try),
				(gt, ":value", ":morale_main_party"),
				(store_sub, reg1, ":value", ":morale_main_party"),
				(display_message, "str_party_gained_morale", 0x0033ff33),
			(try_end)
		]),

	("cf_player_has_item_without_modifier",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(player_has_item, ":script_param_1"),
			(assign, ":value", 0),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(try_for_range, ":number", 0, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(eq, ":inventory_slot_player_number", ":script_param_1"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":number"),
				(neq, ":inventory_slot_modifier_player_number", ":script_param_2"),
				(assign, ":value", 1),
				(assign, reg0, ":inventory_slot_modifier_player_number"),
				(assign, ":inventory_capacity_player", 0),
			(try_end),
			(eq, ":value", 1)
		]),

	("get_player_party_morale_values",
		[
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(assign, ":var_2", 1),
			(assign, ":var_3", 1),
			(assign, ":var_4", 0),
			(try_for_range, ":number", 1, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(store_character_level, ":character_level_party_stack_troop_id_main_party_number", ":party_stack_troop_id_main_party_number"),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_main_party_number"),
					(val_add, ":var_3", 1),
					(val_add, ":var_4", 1),
					(val_add, ":var_2", ":character_level_party_stack_troop_id_main_party_number"),
				(else_try),
					(party_stack_get_size, ":party_stack_size_main_party_number", "p_main_party", ":number"),
					(val_add, ":var_3", ":party_stack_size_main_party_number"),
					(val_mul, ":character_level_party_stack_troop_id_main_party_number", ":party_stack_size_main_party_number"),
					(val_add, ":var_2", ":character_level_party_stack_troop_id_main_party_number"),
				(try_end),
			(try_end),
			(store_add, ":value", ":var_3", 5),
			(val_mul, ":value", ":value"),
			(val_mul, ":value", 5),
			(val_div, ":value", ":var_2"),
			(try_begin),
				(store_mul, ":value_2", ":var_3", 2),
				(gt, ":value", ":value_2"),
				(assign, ":value", ":value_2"),
			(try_end),
			(val_mul, ":var_4", 4),
			(assign, "$g_player_party_morale_modifier_party_size", ":value"),
			(store_skill_level, ":skill_level_leadership_player", "skl_leadership", "trp_player"),
			(try_begin),
				(eq, "$players_kingdom", "fac_player_supporters_faction"),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(eq, ":players_kingdom_leader", "trp_player"),
				(store_mul, "$g_player_party_morale_modifier_leadership", ":skill_level_leadership_player", 15),
			(else_try),
				(store_mul, "$g_player_party_morale_modifier_leadership", ":skill_level_leadership_player", 12),
			(try_end),
			(assign, ":var_13", "$g_player_party_morale_modifier_leadership"),
			(val_sub, ":var_13", "$g_player_party_morale_modifier_party_size"),
			(val_add, ":var_13", 50),
			(val_add, ":var_13", ":var_4"),
			(assign, ":var_14", 0),
			(assign, "$g_player_party_morale_modifier_food", 0),
			(try_for_range, ":item", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(call_script, "script_cf_player_has_item_without_modifier", ":item", 41),
				(item_get_slot, ":item_food_bonus", ":item", slot_item_food_bonus),
				(store_add, ":value_3", "$g_twice_consum_food", 1),
				(val_mul, ":item_food_bonus", ":value_3"),
				(try_begin),
					(eq, reg0, 9),
					(val_sub, ":item_food_bonus", 2),
				(else_try),
					(eq, reg0, 10),
					(val_add, ":item_food_bonus", 1),
				(else_try),
					(eq, reg0, 11),
					(val_add, ":item_food_bonus", 2),
				(else_try),
					(eq, reg0, 19),
					(val_add, ":item_food_bonus", 3),
				(else_try),
					(eq, reg0, 29),
					(val_add, ":item_food_bonus", 5),
				(else_try),
					(eq, reg0, 16),
					(val_add, ":item_food_bonus", 6),
				(try_end),
				(val_mul, ":item_food_bonus", 3),
				(val_div, ":item_food_bonus", 2),
				(val_add, "$g_player_party_morale_modifier_food", ":item_food_bonus"),
				(val_add, ":var_14", 1),
			(try_end),
			(store_sub, ":value_4", "itm_trade_dummy01", "itm_trade_smoked_fish"),
			(val_add, ":var_14", ":value_4"),
			(val_mul, "$g_player_party_morale_modifier_food", ":var_14"),
			(val_div, "$g_player_party_morale_modifier_food", ":value_4"),
			(val_add, ":var_13", "$g_player_party_morale_modifier_food"),
			(try_begin),
				(eq, "$g_player_party_morale_modifier_food", 0),
				(assign, "$g_player_party_morale_modifier_no_food", 30),
				(val_sub, ":var_13", "$g_player_party_morale_modifier_no_food"),
			(else_try),
				(assign, "$g_player_party_morale_modifier_no_food", 0),
			(try_end),
			(assign, "$g_player_party_morale_modifier_debt", 0),
			(try_begin),
				(gt, "$g_player_debt_to_party_members", 0),
				(call_script, "script_calculate_player_faction_wage"),
				(assign, ":var_19", reg0),
				(store_mul, "$g_player_party_morale_modifier_debt", "$g_player_debt_to_party_members", 10),
				(val_max, ":var_19", 1),
				(val_div, "$g_player_party_morale_modifier_debt", ":var_19"),
				(val_clamp, "$g_player_party_morale_modifier_debt", 1, 31),
				(val_sub, ":var_13", "$g_player_party_morale_modifier_debt"),
			(try_end),
			(assign, reg1, ":var_13"),
			(val_clamp, ":var_13", 0, 100),
			(assign, reg0, ":var_13")
		]),

	("diplomacy_start_war_between_kingdoms",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_npc_decision_checklist_peace_or_war", ":script_param_1", ":script_param_2", -1),
			(assign, ":var_4", reg1),
			(try_begin),
				(lt, ":script_param_3", 2),
				(try_begin),
					(eq, ":script_param_1", "fac_player_supporters_faction"),
					(assign, ":value", 90),
				(else_try),
					(eq, ":var_4", "str_s12s15_declared_war_to_control_calradia"),
					(assign, ":value", 90),
				(else_try),
					(eq, ":var_4", "str_s12s15_considers_s16_to_be_dangerous_and_untrustworthy_and_shehe_wants_to_bring_s16_down"),
					(assign, ":value", 91),
				(else_try),
					(eq, ":var_4", "str_s12s15_is_anxious_to_reclaim_old_lands_such_as_s18_now_held_by_s16"),
					(assign, ":value", 92),
				(else_try),
					(eq, ":var_4", "str_s12s15_faces_too_much_internal_discontent_to_feel_comfortable_ignoring_recent_provocations_by_s16s_subjects"),
					(assign, ":value", 94),
				(else_try),
					(eq, ":var_4", "str_s12s15_is_alarmed_by_the_growing_power_of_s16"),
					(assign, ":value", 93),
				(try_end),
				(call_script, "script_add_log_entry", ":value", ":script_param_1", 0, 0, ":script_param_2"),
				(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":script_param_1", ":script_param_2"),
				(assign, ":var_6", reg0),
				(try_begin),
					(eq, ":script_param_3", 1),
					(eq, ":var_6", -1),
					(call_script, "script_faction_follows_controversial_policy", ":script_param_1", 83),
				(else_try),
					(eq, ":script_param_3", 1),
					(eq, ":var_6", 0),
					(call_script, "script_faction_follows_controversial_policy", ":script_param_1", 80),
				(else_try),
					(eq, ":var_6", 1),
					(call_script, "script_faction_follows_controversial_policy", ":script_param_1", 84),
				(try_end),
			(else_try),
				(assign, ":value", 95),
				(call_script, "script_faction_follows_controversial_policy", ":script_param_1", 83),
				(assign, ":script_param_3", 1),
			(try_end),
			(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(val_min, ":relation_script_param_1_script_param_2", -10),
			(val_add, ":relation_script_param_1_script_param_2", -30),
			(set_relation, ":script_param_1", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_2"),
				(val_min, ":relation_script_param_1_script_param_2", -30),
				(call_script, "script_set_player_relation_with_faction", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(else_try),
				(eq, "$players_kingdom", ":script_param_2"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_1"),
				(val_min, ":relation_script_param_1_script_param_2", -30),
				(call_script, "script_set_player_relation_with_faction", ":script_param_1", ":relation_script_param_1_script_param_2"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(str_store_faction_name_link, 1, ":script_param_1"),
				(str_store_faction_name_link, 2, ":script_param_2"),
				(display_log_message, "@{s1} has declared war against {s2}."),
				(store_current_hours, ":current_hours"),
				(faction_set_slot, ":script_param_1", slot_faction_ai_last_decisive_event, ":current_hours"),
				(faction_set_slot, ":script_param_2", slot_faction_ai_last_decisive_event, ":current_hours"),
				(store_add, ":value_2", ":script_param_2", 120),
				(store_add, ":value_3", ":script_param_2", 130),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(val_sub, ":value_3", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", ":value_2", 0),
				(faction_set_slot, ":script_param_1", ":value_3", 0),
				(store_add, ":value_2", ":script_param_1", 120),
				(store_add, ":value_3", ":script_param_1", 130),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(val_sub, ":value_3", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_2", ":value_2", 0),
				(faction_set_slot, ":script_param_2", ":value_3", 0),
				(call_script, "script_add_notification_menu", "mnu_notification_war_declared", ":script_param_1", ":script_param_2"),
				(call_script, "script_update_faction_notes", ":script_param_1"),
				(call_script, "script_update_faction_notes", ":script_param_2"),
				(assign, "$g_recalculate_ais", 1),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_cause_provocation"),
				(neg|check_quest_succeeded, "qst_cause_provocation"),
				(this_or_next|eq, "$players_kingdom", ":script_param_1"),
				(eq, "$players_kingdom", ":script_param_2"),
				(call_script, "script_abort_quest", "qst_cause_provocation", 0),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction", ":script_param_1"),
				(neq, ":faction", ":script_param_2"),
				(store_relation, ":relation_faction_script_param_1", ":faction", ":script_param_1"),
				(ge, ":relation_faction_script_param_1", 0),
				(store_add, ":value_2", ":script_param_2", 120),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":faction_value_2", ":faction", ":value_2"),
				(gt, ":faction_value_2", 30),
				(try_begin),
					(lt, ":script_param_3", 2),
					(call_script, "script_diplomacy_start_war_between_kingdoms", ":faction", ":script_param_1", 2),
				(try_end),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction", ":script_param_1"),
				(neq, ":faction", ":script_param_2"),
				(store_relation, ":relation_faction_script_param_1", ":faction", ":script_param_2"),
				(ge, ":relation_faction_script_param_1", 0),
				(store_add, ":value_2", ":script_param_1", 120),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":faction_value_2", ":faction", ":value_2"),
				(gt, ":faction_value_2", 30),
				(call_script, "script_diplomacy_start_war_between_kingdoms", ":faction", ":script_param_2", 3),
			(try_end)
		]),

	("diplomacy_party_attacks_neutral",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
			(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_0", ":script_param_1", 0),
			(try_begin),
				(eq, ":script_param_1", "p_main_party"),
				(neq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(assign, ":faction_of_party_script_param_1", "$players_kingdom"),
			(else_try),
				(eq, ":script_param_1", "p_main_party"),
				(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_main_party"),
				(store_relation, ":relation_faction_of_party_script_param_1_faction_of_party_script_param_2", ":faction_of_party_script_param_1", ":faction_of_party_script_param_2"),
				(ge, ":relation_faction_of_party_script_param_1_faction_of_party_script_param_2", 0),
				(call_script, "script_change_player_honor", -2),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_cause_provocation"),
				(quest_slot_eq, "qst_cause_provocation", slot_quest_target_faction, ":faction_of_party_script_param_2"),
				(quest_get_slot, ":cause_provocation_giver_troop", "qst_cause_provocation", slot_quest_giver_troop),
				(store_faction_of_troop, ":faction_of_party_script_param_1", ":cause_provocation_giver_troop"),
				(call_script, "script_succeed_quest", "qst_cause_provocation"),
			(try_end),
			(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":faction_of_party_script_param_1", ":faction_of_party_script_param_2"),
			(assign, ":var_8", reg0),
			(try_begin),
				(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(neg|faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 0),
			(else_try),
				(eq, ":var_8", -2),
			(else_try),
				(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_leader, "trp_player"),
				(call_script, "script_faction_follows_controversial_policy", "fac_player_supporters_faction", 80),
			(else_try),
				(eq, ":var_8", 1),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_2_0", ":script_param_2", 0),
				(try_begin),
					(this_or_next|neg|is_between, ":party_stack_troop_id_script_param_2_0", "trp_knight_1_1_wife", "trp_heroes_end"),
					(neg|troop_slot_eq, ":party_stack_troop_id_script_param_2_0", slot_troop_occupation, 2),
					(neg|is_between, ":party_stack_troop_id_script_param_2_0", "trp_npc1", "trp_knight_1_1_wife"),
					(store_faction_of_party, ":faction_of_party_script_param_2_2", ":script_param_2"),
					(faction_get_slot, ":party_stack_troop_id_script_param_2_0", ":faction_of_party_script_param_2_2", slot_faction_leader),
				(try_end),
				(call_script, "script_add_log_entry", 77, ":party_stack_troop_id_script_param_1_0", -1, ":party_stack_troop_id_script_param_2_0", ":faction_of_party_script_param_1"),
			(else_try),
				(call_script, "script_add_log_entry", 76, ":party_stack_troop_id_script_param_1_0", -1, ":party_stack_troop_id_script_param_2_0", ":faction_of_party_script_param_1"),
			(try_end),
			(try_begin),
				(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
				(call_script, "script_add_log_entry", 1, ":party_stack_troop_id_script_param_1_0", ":script_param_2", -1, ":faction_of_party_script_param_2"),
			(else_try),
				(party_get_template_id, ":template_id_script_param_2", ":script_param_2"),
				(neq, ":template_id_script_param_2", "pt_kingdom_hero_party"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_faction_name, 5, ":faction_of_party_script_param_2"),
					(display_message, "@{!}DEbug - {s5} caravan attacked"),
				(try_end),
				(call_script, "script_add_log_entry", 3, ":party_stack_troop_id_script_param_1_0", -1, -1, ":faction_of_party_script_param_2"),
			(try_end),
			(store_add, ":value", ":faction_of_party_script_param_1", 130),
			(val_sub, ":value", "fac_player_supporters_faction"),
			(faction_set_slot, ":faction_of_party_script_param_2", ":value", 0),
			(store_add, ":value_2", ":faction_of_party_script_param_1", 130),
			(val_sub, ":value_2", "fac_player_supporters_faction"),
			(try_begin),
				(neq, ":var_8", -2),
				(faction_slot_eq, ":faction_of_party_script_param_2", ":value_2", 0),
				(faction_set_slot, ":faction_of_party_script_param_2", ":value_2", 30),
			(try_end)
		]),

	("party_calculate_and_set_nearby_friend_enemy_follower_strengths",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(store_add, ":value", "trp_heroes_end", 1),
			(try_for_range, ":troop", "trp_npc1", ":value"),
				(try_begin),
					(eq, ":troop", "trp_heroes_end"),
					(assign, ":value_2", "trp_player"),
				(else_try),
					(assign, ":value_2", ":troop"),
				(try_end),
				(troop_slot_eq, ":value_2", slot_troop_occupation, 2),
				(troop_get_slot, ":value_2_leaded_party", ":value_2", slot_troop_leaded_party),
				(ge, ":value_2_leaded_party", 0),
				(party_is_active, ":value_2_leaded_party"),
				(store_faction_of_troop, ":faction_of_troop_value_2", ":value_2"),
				(store_relation, ":relation_faction_of_troop_value_2_faction_of_party_script_param_1", ":faction_of_troop_value_2", ":faction_of_party_script_param_1"),
				(this_or_next|neq, ":relation_faction_of_troop_value_2_faction_of_party_script_param_1", 0),
				(eq, ":faction_of_troop_value_2", ":faction_of_party_script_param_1"),
				(neq, ":script_param_1", ":value_2_leaded_party"),
				(party_get_slot, ":value_2_leaded_party_cached_strength", ":value_2_leaded_party", slot_party_cached_strength),
				(try_begin),
					(neg|is_between, ":script_param_1", "p_town_1", "p_salt_mine"),
					(party_slot_eq, ":value_2_leaded_party", slot_party_ai_state, 11),
					(party_get_slot, ":value_2_leaded_party_ai_object", ":value_2_leaded_party", slot_party_ai_object),
					(eq, ":value_2_leaded_party_ai_object", ":script_param_1"),
					(val_add, ":var_2", ":value_2_leaded_party_cached_strength"),
				(else_try),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_value_2_leaded_party_script_param_1", ":value_2_leaded_party", ":script_param_1"),
					(lt, ":distance_to_party_from_party_value_2_leaded_party_script_param_1", 20),
					(try_begin),
						(lt, ":distance_to_party_from_party_value_2_leaded_party_script_param_1", 5),
						(assign, ":value_3", ":value_2_leaded_party_cached_strength"),
					(else_try),
						(lt, ":distance_to_party_from_party_value_2_leaded_party_script_param_1", 10),
						(store_div, ":value_3", ":value_2_leaded_party_cached_strength", 2),
					(else_try),
						(lt, ":distance_to_party_from_party_value_2_leaded_party_script_param_1", 15),
						(store_div, ":value_3", ":value_2_leaded_party_cached_strength", 4),
					(else_try),
						(store_div, ":value_3", ":value_2_leaded_party_cached_strength", 8),
					(try_end),
					(try_begin),
						(this_or_next|eq, ":faction_of_troop_value_2", ":faction_of_party_script_param_1"),
						(gt, ":relation_faction_of_troop_value_2_faction_of_party_script_param_1", 0),
						(val_add, ":var_3", ":value_3"),
					(else_try),
						(lt, ":relation_faction_of_troop_value_2_faction_of_party_script_param_1", 0),
						(val_add, ":var_4", ":value_3"),
					(try_end),
				(try_end),
			(try_end),
			(party_set_slot, ":script_param_1", slot_party_follower_strength, ":var_2"),
			(party_set_slot, ":script_param_1", slot_party_nearby_friend_strength, ":var_3"),
			(party_set_slot, ":script_param_1", slot_party_nearby_enemy_strength, ":var_4")
		]),

	("init_ai_calculation",
		[
			(try_begin),
				(eq, "$g_dplmc_terrain_advantage", 0),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
					(gt, ":troop_leaded_party", 0),
					(party_is_active, ":troop_leaded_party"),
					(party_get_current_terrain, ":current_terrain_troop_leaded_party", ":troop_leaded_party"),
					(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
					(try_begin),
						(ge, ":attached_to_troop_leaded_party", 0),
						(is_between, ":attached_to_troop_leaded_party", "p_town_1", "p_salt_mine"),
						(assign, ":current_terrain_troop_leaded_party", -2),
					(try_end),
					(call_script, "script_dplmc_party_calculate_strength_in_terrain", ":troop_leaded_party", ":current_terrain_troop_leaded_party", 0, 1),
				(try_end),
				(party_get_current_terrain, ":current_terrain_troop_leaded_party", "p_main_party"),
				(party_get_attached_to, ":attached_to_troop_leaded_party", "p_main_party"),
				(try_begin),
					(ge, ":attached_to_troop_leaded_party", 0),
					(is_between, ":attached_to_troop_leaded_party", "p_town_1", "p_salt_mine"),
					(assign, ":current_terrain_troop_leaded_party", -2),
				(try_end),
				(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_main_party", ":current_terrain_troop_leaded_party", 0, 1),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(call_script, "script_dplmc_party_calculate_strength_in_terrain", ":party", -2, 0, 1),
				(try_end),
			(else_try),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
					(party_is_active, ":troop_leaded_party"),
					(call_script, "script_party_calculate_strength", ":troop_leaded_party", 0),
				(try_end),
				(call_script, "script_party_calculate_strength", "p_main_party", 0),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(call_script, "script_party_calculate_strength", ":party", 0),
				(try_end),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", ":party"),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":troop_leaded_party_2", ":troop", slot_troop_leaded_party),
				(gt, ":troop_leaded_party_2", 0),
				(party_is_active, ":troop_leaded_party_2"),
				(call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", ":troop_leaded_party_2"),
			(try_end),
			(call_script, "script_party_calculate_and_set_nearby_friend_enemy_follower_strengths", "p_main_party")
		]),

	("recalculate_ais",
		[
			(call_script, "script_init_ai_calculation"),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(assign, reg8, ":faction"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(call_script, "script_decide_faction_ai", ":faction"),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(store_faction_of_troop, ":faction", ":troop"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(call_script, "script_calculate_troop_ai", ":troop"),
			(try_end)
		]),

	("calculate_troop_ai",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":script_param_1", 8, 0),
				(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
				(gt, ":script_param_1_leaded_party", 0),
				(party_is_active, ":script_param_1_leaded_party"),
				(party_get_slot, ":script_param_1_leaded_party_ai_state", ":script_param_1_leaded_party", slot_party_ai_state),
				(call_script, "script_npc_decision_checklist_party_ai", ":script_param_1"),
				(call_script, "script_party_set_ai_state", ":script_param_1_leaded_party", reg0, reg1),
				(party_get_slot, ":script_param_1_leaded_party_ai_state_2", ":script_param_1_leaded_party", slot_party_ai_state),
				(party_get_slot, ":script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", slot_party_ai_object),
				(neq, ":script_param_1_leaded_party_ai_state", ":script_param_1_leaded_party_ai_state_2"),
				(ge, "$g_dplmc_ai_changes", 0),
				(call_script, "script_dplmc_store_troop_is_eligible_for_affiliate_messages", ":script_param_1"),
				(gt, reg0, 0),
				(str_store_troop_name, 0, ":script_param_1"),
				(try_begin),
					(eq, ":script_param_1_leaded_party_ai_state_2", 1),
					(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is laying siege to {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 4),
					(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is patrolling around {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 5),
					(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is raiding around {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 10),
					(gt, ":script_param_1_leaded_party_ai_object", -1),
					(party_is_active, ":script_param_1_leaded_party_ai_object"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is engaging {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 11),
					(gt, ":script_param_1_leaded_party_ai_object", -1),
					(party_is_active, ":script_param_1_leaded_party_ai_object"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is accompanying {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 12),
					(gt, ":script_param_1_leaded_party_ai_object", -1),
					(party_is_active, ":script_param_1_leaded_party_ai_object"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is screening the advance of {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 13),
					(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is trading with {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 14),
					(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is retreating to {s1}."),
				(else_try),
					(eq, ":script_param_1_leaded_party_ai_state_2", 16),
					(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 1, ":script_param_1_leaded_party_ai_object"),
					(display_message, "@{s0} is visiting {s1}."),
				(try_end),
				(str_store_string, 0, "str_error_string"),
				(str_store_string, 1, "str_error_string"),
			(try_end)
		]),

	("diplomacy_start_peace_between_kingdoms",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(val_max, ":relation_script_param_1_script_param_2", 0),
			(set_relation, ":script_param_1", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(call_script, "script_exchange_prisoners_between_factions", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_2"),
				(val_max, ":relation_script_param_1_script_param_2", 0),
				(call_script, "script_set_player_relation_with_faction", ":script_param_2", ":relation_script_param_1_script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_2", "fac_player_supporters_faction"),
			(else_try),
				(eq, "$players_kingdom", ":script_param_2"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_1"),
				(val_max, ":relation_script_param_1_script_param_2", 0),
				(call_script, "script_set_player_relation_with_faction", ":script_param_1", ":relation_script_param_1_script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_1", "fac_player_supporters_faction"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(this_or_next|eq, ":faction_of_party_party", ":script_param_1"),
				(eq, ":faction_of_party_party", ":script_param_2"),
				(party_get_slot, ":party_center_is_besieged_by", ":party", slot_center_is_besieged_by),
				(ge, ":party_center_is_besieged_by", 0),
				(party_is_active, ":party_center_is_besieged_by"),
				(store_faction_of_party, ":faction_of_party_party_center_is_besieged_by", ":party_center_is_besieged_by"),
				(this_or_next|eq, ":faction_of_party_party_center_is_besieged_by", ":script_param_1"),
				(eq, ":faction_of_party_party_center_is_besieged_by", ":script_param_2"),
				(call_script, "script_lift_siege", ":party", 0),
			(try_end),
			(try_begin),
				(this_or_next|eq, "$players_kingdom", ":script_param_1"),
				(eq, "$players_kingdom", ":script_param_2"),
				(ge, "$g_player_besiege_town", 0),
				(party_is_active, "$g_player_besiege_town"),
				(store_faction_of_party, ":faction_of_party_g_player_besiege_town", "$g_player_besiege_town"),
				(this_or_next|eq, ":faction_of_party_g_player_besiege_town", ":script_param_1"),
				(eq, ":faction_of_party_g_player_besiege_town", ":script_param_2"),
				(call_script, "script_lift_siege", "$g_player_besiege_town", 0),
				(assign, "$g_player_besiege_town", -1),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(str_store_faction_name_link, 1, ":script_param_1"),
				(str_store_faction_name_link, 2, ":script_param_2"),
				(display_log_message, "@{s1} and {s2} have made peace with each other."),
				(call_script, "script_add_notification_menu", "mnu_notification_peace_declared", ":script_param_1", ":script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_1", ":script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_2", ":script_param_1"),
				(assign, "$g_recalculate_ais", 1),
			(try_end),
			(try_begin),
				(store_add, ":value", ":script_param_1", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_2", ":value", 30),
				(store_add, ":value", ":script_param_2", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", ":value", 30),
				(store_add, ":value_2", ":script_param_2", 140),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", ":value_2", 0),
				(store_add, ":value_3", ":script_param_1", 140),
				(val_sub, ":value_3", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_2", ":value_3", 0),
			(try_end)
		]),

	("event_kingdom_make_peace_with_kingdom",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(check_quest_active, "qst_capture_prisoners"),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(quest_slot_eq, "qst_capture_prisoners", slot_quest_target_faction, ":script_param_2"),
					(call_script, "script_cancel_quest", "qst_capture_prisoners"),
				(else_try),
					(eq, "$players_kingdom", ":script_param_2"),
					(quest_slot_eq, "qst_capture_prisoners", slot_quest_target_faction, ":script_param_1"),
					(call_script, "script_cancel_quest", "qst_capture_prisoners"),
				(try_end),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_capture_enemy_hero"),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(quest_slot_eq, "qst_capture_enemy_hero", slot_quest_target_faction, ":script_param_2"),
					(call_script, "script_cancel_quest", "qst_capture_enemy_hero"),
				(else_try),
					(eq, "$players_kingdom", ":script_param_2"),
					(quest_slot_eq, "qst_capture_enemy_hero", slot_quest_target_faction, ":script_param_1"),
					(call_script, "script_cancel_quest", "qst_capture_enemy_hero"),
				(try_end),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_persuade_lords_to_make_peace"),
				(quest_get_slot, ":persuade_lords_to_make_peace_target_troop", "qst_persuade_lords_to_make_peace", slot_quest_target_troop),
				(quest_get_slot, ":persuade_lords_to_make_peace_object_troop", "qst_persuade_lords_to_make_peace", slot_quest_object_troop),
				(try_begin),
					(lt, ":persuade_lords_to_make_peace_target_troop", 0),
					(val_mul, ":persuade_lords_to_make_peace_target_troop", -1),
				(try_end),
				(try_begin),
					(lt, ":persuade_lords_to_make_peace_object_troop", 0),
					(val_mul, ":persuade_lords_to_make_peace_object_troop", -1),
				(try_end),
				(store_faction_of_troop, ":faction_of_troop_persuade_lords_to_make_peace_target_troop", ":persuade_lords_to_make_peace_target_troop"),
				(store_faction_of_troop, ":faction_of_troop_persuade_lords_to_make_peace_object_troop", ":persuade_lords_to_make_peace_object_troop"),
				(this_or_next|eq, ":faction_of_troop_persuade_lords_to_make_peace_target_troop", ":script_param_1"),
				(eq, ":faction_of_troop_persuade_lords_to_make_peace_object_troop", ":script_param_1"),
				(this_or_next|eq, ":faction_of_troop_persuade_lords_to_make_peace_target_troop", ":script_param_2"),
				(eq, ":faction_of_troop_persuade_lords_to_make_peace_object_troop", ":script_param_2"),
				(call_script, "script_cancel_quest", "qst_persuade_lords_to_make_peace"),
			(try_end),
			(try_begin),
				(this_or_next|faction_slot_eq, ":script_param_2", slot_faction_leader, "trp_player"),
				(faction_slot_eq, ":script_param_1", slot_faction_leader, "trp_player"),
				(call_script, "script_change_player_right_to_rule", 3),
			(try_end)
		]),

	("randomly_start_war_peace_new",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":script_param_1", 1),
			(store_relation, ":relation_kingdom_13_kingdom_14", "fac_kingdom_13", "fac_kingdom_14"),
			(store_relation, ":relation_kingdom_13_kingdom_15", "fac_kingdom_13", "fac_kingdom_15"),
			(assign, ":var_4", 0),
			(try_begin),
				(lt, ":relation_kingdom_13_kingdom_14", 0),
				(val_add, ":var_4", 1),
			(try_end),
			(try_begin),
				(lt, ":relation_kingdom_13_kingdom_15", 0),
				(val_add, ":var_4", 1),
			(try_end),
			(try_begin),
				(ge, ":var_4", 2),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(try_begin),
					(le, ":random_in_range_0_100", 25),
					(call_script, "script_diplomacy_start_peace_between_kingdoms", "fac_kingdom_13", "fac_kingdom_14", ":script_param_1"),
				(else_try),
					(call_script, "script_diplomacy_start_peace_between_kingdoms", "fac_kingdom_13", "fac_kingdom_15", ":script_param_1"),
				(try_end),
			(else_try),
				(eq, ":var_4", 1),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(try_begin),
					(le, ":random_in_range_0_100", 7),
					(try_begin),
						(lt, ":relation_kingdom_13_kingdom_14", 0),
						(call_script, "script_diplomacy_start_peace_between_kingdoms", "fac_kingdom_13", "fac_kingdom_14", ":script_param_1"),
					(try_end),
					(try_begin),
						(lt, ":relation_kingdom_13_kingdom_15", 0),
						(call_script, "script_diplomacy_start_peace_between_kingdoms", "fac_kingdom_13", "fac_kingdom_15", ":script_param_1"),
					(try_end),
				(try_end),
			(else_try),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(try_begin),
					(le, ":random_in_range_0_100", 10),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(try_begin),
						(le, ":random_in_range_0_100", 10),
						(call_script, "script_diplomacy_start_war_between_kingdoms", "fac_kingdom_13", "fac_kingdom_14", ":script_param_1"),
					(else_try),
						(call_script, "script_diplomacy_start_war_between_kingdoms", "fac_kingdom_13", "fac_kingdom_15", ":script_param_1"),
					(try_end),
				(try_end)
		]),

	("exchange_prisoners_between_factions",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", 0),
			(try_begin),
				(this_or_next|eq, "$players_kingdom", ":script_param_1"),
				(eq, "$players_kingdom", ":script_param_2"),
				(assign, ":value", "fac_player_faction"),
				(assign, ":value_2", "fac_player_supporters_faction"),
				(assign, ":value_3", 1),
			(try_end),
			(try_for_parties, ":var_6"),
				(store_faction_of_party, ":faction_of_party_var_6", ":var_6"),
				(this_or_next|eq, ":faction_of_party_var_6", ":script_param_1"),
				(this_or_next|eq, ":faction_of_party_var_6", ":script_param_2"),
				(this_or_next|eq, ":faction_of_party_var_6", ":value"),
				(eq, ":faction_of_party_var_6", ":value_2"),
				(party_get_num_prisoner_stacks, ":num_prisoner_stacks_var_6", ":var_6"),
				(try_for_range_backwards, ":var_9", 0, ":num_prisoner_stacks_var_6"),
					(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_var_6_var_9", ":var_6", ":var_9"),
					(assign, ":value_4", 0),
					(try_begin),
						(is_between, ":party_prisoner_stack_troop_id_var_6_var_9", "trp_npc1", "trp_kingdom_1_lord"),
						(eq, ":value_3", 1),
						(assign, ":value_4", 1),
					(else_try),
						(neg|is_between, ":party_prisoner_stack_troop_id_var_6_var_9", "trp_npc1", "trp_kingdom_1_lord"),
						(store_faction_of_troop, ":faction_of_troop_party_prisoner_stack_troop_id_var_6_var_9", ":party_prisoner_stack_troop_id_var_6_var_9"),
						(this_or_next|eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_6_var_9", ":script_param_1"),
						(this_or_next|eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_6_var_9", ":script_param_2"),
						(this_or_next|eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_6_var_9", ":value"),
						(eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_6_var_9", ":value_2"),
						(assign, ":value_4", 1),
					(try_end),
					(eq, ":value_4", 1),
					(try_begin),
						(troop_is_hero, ":party_prisoner_stack_troop_id_var_6_var_9"),
						(call_script, "script_remove_troop_from_prison", ":party_prisoner_stack_troop_id_var_6_var_9"),
					(try_end),
					(party_prisoner_stack_get_size, ":party_prisoner_stack_size_var_6_var_9", ":var_6", ":var_9"),
					(party_remove_prisoners, ":var_6", ":party_prisoner_stack_troop_id_var_6_var_9", ":party_prisoner_stack_size_var_6_var_9"),
				(try_end),
			(try_end)
		]),

	("add_notification_menu",
		[
			(try_begin),
				(eq, "$g_infinite_camping", 0),
				(store_script_param, ":script_param_1", 1),
				(store_script_param, ":script_param_2", 2),
				(store_script_param, ":script_param_3", 3),
				(assign, ":var_4", 1),
				(try_for_range, ":number", 0, ":var_4"),
					(try_begin),
						(troop_slot_ge, "trp_notification_menu_types", ":number", 1),
						(val_add, ":var_4", 1),
					(else_try),
						(troop_set_slot, "trp_notification_menu_types", ":number", ":script_param_1"),
						(troop_set_slot, "trp_notification_menu_var1", ":number", ":script_param_2"),
						(troop_set_slot, "trp_notification_menu_var2", ":number", ":script_param_3"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("finish_quest",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(quest_get_slot, ":script_param_1_giver_troop", ":script_param_1", slot_quest_giver_troop),
			(quest_get_slot, ":script_param_1_importance", ":script_param_1", slot_quest_importance),
			(quest_get_slot, ":script_param_1_xp_reward", ":script_param_1", slot_quest_xp_reward),
			(quest_get_slot, ":script_param_1_gold_reward", ":script_param_1", slot_quest_gold_reward),
			(try_begin),
				(lt, ":script_param_2", 100),
				(val_mul, ":script_param_1_xp_reward", ":script_param_2"),
				(val_div, ":script_param_1_xp_reward", 100),
				(val_mul, ":script_param_1_gold_reward", ":script_param_2"),
				(val_div, ":script_param_1_gold_reward", 100),
				(assign, ":var_7", ":script_param_2"),
				(val_sub, ":var_7", 75),
				(val_mul, ":script_param_1_importance", ":var_7"),
				(val_div, ":script_param_1_importance", 100),
			(else_try),
				(val_mul, ":script_param_1_importance", 4),
				(val_add, ":script_param_1_importance", 1),
				(call_script, "script_change_player_relation_with_troop", ":script_param_1_giver_troop", ":script_param_1_importance"),
			(try_end),
			(add_xp_as_reward, ":script_param_1_xp_reward"),
			(call_script, "script_troop_add_gold", "trp_player", ":script_param_1_gold_reward"),
			(call_script, "script_end_quest", ":script_param_1")
		]),

	("get_information_about_troops_position",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, reg3),
			(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 4),
			(str_store_troop_name, 2, ":script_param_1"),
			(assign, ":value", 0),
			(troop_get_slot, ":script_param_1_cur_center", ":script_param_1", slot_troop_cur_center),
			(try_begin),
				(gt, ":script_param_1_cur_center", 0),
				(is_between, ":script_param_1_cur_center", "p_town_1", "p_salt_mine"),
				(str_store_party_name_link, 3, ":script_param_1_cur_center"),
				(str_store_string, 1, "@{s2} {reg3?was:is currently} at {s3}."),
				(assign, ":value", 1),
			(else_try),
				(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
				(gt, ":script_param_1_leaded_party", 0),
				(call_script, "script_get_troop_attached_party", ":script_param_1"),
				(assign, ":script_param_1_cur_center", reg0),
				(try_begin),
					(is_between, ":script_param_1_cur_center", "p_town_1", "p_salt_mine"),
					(str_store_party_name_link, 3, ":script_param_1_cur_center"),
					(str_store_string, 1, "@{s2} {reg3?was:is currently} at {s3}."),
					(assign, ":value", 1),
				(else_try),
					(get_party_ai_behavior, ":party_ai_behavior_script_param_1_leaded_party", ":script_param_1_leaded_party"),
					(eq, ":party_ai_behavior_script_param_1_leaded_party", 1),
					(get_party_ai_object, ":party_ai_object_script_param_1_leaded_party", ":script_param_1_leaded_party"),
					(is_between, ":party_ai_object_script_param_1_leaded_party", "p_town_1", "p_salt_mine"),
					(call_script, "script_dplmc_get_closest_center_or_two", ":script_param_1_leaded_party"),
					(str_store_party_name_link, 4, reg0),
					(str_store_party_name_link, 3, ":party_ai_object_script_param_1_leaded_party"),
					(str_store_string, 1, "@{s2} {reg3?was:is} travelling to {s3} and {reg4?she:he} {reg3?was:should be} close to {s4}{reg3?: at the moment}."),
					(assign, ":value", 1),
					(try_begin),
						(gt, reg1, -1),
						(str_store_party_name_link, 1, reg1),
						(str_store_string, 1, "@{s2} {reg3?was:is} travelling to {s3} and {reg4?she:he} {reg3?was:should be} between {s4} and {s1}{reg3?: at the moment}."),
					(try_end),
				(else_try),
					(call_script, "script_dplmc_get_closest_center_or_two", ":script_param_1_leaded_party"),
					(str_store_party_name_link, 3, reg0),
					(str_store_string, 1, "@{s2} {reg3?was:is} in the field and {reg4?she:he} {reg3?was:should be} close to {s3}{reg3?: at the moment}."),
					(assign, ":value", 1),
					(try_begin),
						(gt, reg1, -1),
						(str_store_party_name_link, 1, reg1),
						(str_store_string, 1, "@{s2} {reg3?was:is} in the field and {reg4?she:he} {reg3?was:should be} between {s3} and {s1}{reg3?: at the moment}."),
					(try_end),
				(try_end),
			(else_try),
				(troop_slot_ge, ":script_param_1", 8, 0),
				(try_for_range, ":script_param_1_cur_center", "p_town_1", "p_village_1"),
					(party_count_prisoners_of_type, ":var_7", ":script_param_1_cur_center", ":script_param_1"),
					(gt, ":var_7", 0),
					(assign, ":value", 1),
					(str_store_party_name_link, 3, ":script_param_1_cur_center"),
					(str_store_string, 1, "@{s2} {reg3?was:is} being held captive at {s3}."),
				(try_end),
				(try_begin),
					(eq, ":value", 0),
					(str_store_string, 1, "@{s2} {reg3?was:has been} taken captive by {reg4?her:his} enemies."),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(str_store_string, 1, "@{reg3?{s2}'s location was unknown:I don't know where {s2} is}."),
			(try_end),
			(assign, reg0, ":value")
		]),

	("recruit_troop_as_companion",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_set_slot, ":script_param_1", slot_troop_occupation, 5),
			(troop_set_slot, ":script_param_1", slot_troop_cur_center, -1),
			(troop_set_auto_equip, ":script_param_1", 0),
			(party_add_members, "p_main_party", ":script_param_1", 1),
			(str_store_troop_name, 6, ":script_param_1"),
			(display_message, "@{s6} has joined your company."),
			(troop_set_note_available, ":script_param_1", 1),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(store_sub, ":value", ":script_param_1", "trp_npc1"),
				(set_achievement_stat, 45, ":value", 1),
				(assign, ":var_3", 0),
				(try_for_range, ":number", 0, 16),
					(get_achievement_stat, ":achievement_stat_45_number", 45, ":number"),
					(eq, ":achievement_stat_45_number", 1),
					(val_add, ":var_3", 1),
				(try_end),
				(try_begin),
					(ge, ":var_3", 6),
					(unlock_achievement, 45),
				(try_end),
			(try_end),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(call_script, "script_troop_set_title_according_to_faction_gender_and_lands", ":script_param_1", ":faction_of_troop_script_param_1")
		]),

	("setup_random_scene",
		[
			(party_get_current_terrain, ":current_terrain_main_party", "p_main_party"),
			(party_get_slot, ":main_party_village_bound_center", "p_main_party", slot_village_bound_center),
			(assign, ":value", "scn_random_scene"),
			(try_begin),
				(this_or_next|eq, ":main_party_village_bound_center", 1),
				(party_slot_eq, "p_main_party", slot_village_market_town, 1),
				(set_jump_mission, "mt_entrenched_encounter"),
				(assign, "$camp_supply", 1),
				(try_begin),
					(eq, ":current_terrain_main_party", 2),
					(assign, ":value", "scn_entrenched_steppe"),
				(else_try),
					(eq, ":current_terrain_main_party", 3),
					(assign, ":value", "scn_entrenched_plain"),
				(else_try),
					(eq, ":current_terrain_main_party", 4),
					(assign, ":value", "scn_entrenched_snow"),
				(else_try),
					(eq, ":current_terrain_main_party", 5),
					(assign, ":value", "scn_entrenched_desert"),
				(else_try),
					(eq, ":current_terrain_main_party", 10),
					(assign, ":value", "scn_entrenched_steppe_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 11),
					(assign, ":value", "scn_entrenched_plain_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 12),
					(assign, ":value", "scn_entrenched_snow_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 13),
					(assign, ":value", "scn_entrenched_desert_forest"),
				(try_end),
			(else_try),
				(eq, "$g_camp_mode", 1),
				(neq, ":main_party_village_bound_center", 1),
				(set_jump_mission, "mt_entrenched_encounter"),
				(assign, "$camp_supply", 1),
				(try_begin),
					(eq, ":current_terrain_main_party", 2),
					(assign, ":value", "scn_not_entrenched_steppe"),
				(else_try),
					(eq, ":current_terrain_main_party", 3),
					(assign, ":value", "scn_not_entrenched_plain"),
				(else_try),
					(eq, ":current_terrain_main_party", 4),
					(assign, ":value", "scn_not_entrenched_snow"),
				(else_try),
					(eq, ":current_terrain_main_party", 5),
					(assign, ":value", "scn_not_entrenched_desert"),
				(else_try),
					(eq, ":current_terrain_main_party", 10),
					(assign, ":value", "scn_not_entrenched_steppe_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 11),
					(assign, ":value", "scn_not_entrenched_plain_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 12),
					(assign, ":value", "scn_not_entrenched_snow_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 13),
					(assign, ":value", "scn_not_entrenched_desert_forest"),
				(try_end),
			(else_try),
				(eq, ":main_party_village_bound_center", 0),
				(eq, "$g_camp_mode", 0),
				(try_begin),
					(eq, ":current_terrain_main_party", 2),
					(store_random_in_range, ":random_in_range_1_100", 1, 100),
					(try_begin),
						(is_between, ":random_in_range_1_100", 1, 10),
						(assign, ":value", "scn_cozur_custom_default_steppe_1"),
					(else_try),
						(is_between, ":random_in_range_1_100", 10, 20),
						(assign, ":value", "scn_cozur_custom_default_steppe_2"),
					(else_try),
						(is_between, ":random_in_range_1_100", 20, 30),
						(assign, ":value", "scn_cozur_custom_default_steppe_3"),
					(else_try),
						(is_between, ":random_in_range_1_100", 30, 40),
						(assign, ":value", "scn_cozur_custom_default_steppe_4"),
					(else_try),
						(is_between, ":random_in_range_1_100", 40, 50),
						(assign, ":value", "scn_cozur_custom_default_steppe_5"),
					(else_try),
						(is_between, ":random_in_range_1_100", 50, 60),
						(assign, ":value", "scn_cozur_custom_default_steppe_6"),
					(else_try),
						(is_between, ":random_in_range_1_100", 60, 70),
						(assign, ":value", "scn_cozur_custom_default_steppe_7"),
					(else_try),
						(is_between, ":random_in_range_1_100", 70, 80),
						(assign, ":value", "scn_cozur_custom_default_steppe_8"),
					(else_try),
						(is_between, ":random_in_range_1_100", 80, 90),
						(assign, ":value", "scn_cozur_custom_default_steppe_9"),
					(else_try),
						(is_between, ":random_in_range_1_100", 90, 100),
						(assign, ":value", "scn_cozur_custom_default_steppe_10"),
					(try_end),
				(else_try),
					(eq, ":main_party_village_bound_center", 0),
					(eq, "$g_camp_mode", 0),
					(try_begin),
						(eq, ":current_terrain_main_party", 7),
						(store_random_in_range, ":random_in_range_1_100", 1, 100),
						(try_begin),
							(is_between, ":random_in_range_1_100", 1, 100),
							(assign, ":value", "scn_cozur_custom_ford_1"),
						(try_end),
					(else_try),
						(eq, ":current_terrain_main_party", 3),
						(store_random_in_range, ":random_in_range_1_100", 1, 100),
						(try_begin),
							(is_between, ":random_in_range_1_100", 1, 10),
							(assign, ":value", "scn_cozur_custom_plains_1"),
						(else_try),
							(is_between, ":random_in_range_1_100", 10, 20),
							(assign, ":value", "scn_cozur_custom_plains_2"),
						(else_try),
							(is_between, ":random_in_range_1_100", 20, 30),
							(assign, ":value", "scn_cozur_custom_plains_3"),
						(else_try),
							(is_between, ":random_in_range_1_100", 30, 40),
							(assign, ":value", "scn_cozur_custom_plains_4"),
						(else_try),
							(is_between, ":random_in_range_1_100", 40, 50),
							(assign, ":value", "scn_cozur_custom_plains_5"),
						(else_try),
							(is_between, ":random_in_range_1_100", 50, 60),
							(assign, ":value", "scn_cozur_custom_plains_6"),
						(else_try),
							(is_between, ":random_in_range_1_100", 60, 70),
							(assign, ":value", "scn_cozur_custom_plains_7"),
						(else_try),
							(is_between, ":random_in_range_1_100", 70, 80),
							(assign, ":value", "scn_cozur_custom_plains_8"),
						(else_try),
							(is_between, ":random_in_range_1_100", 80, 90),
							(assign, ":value", "scn_cozur_custom_plains_9"),
						(else_try),
							(is_between, ":random_in_range_1_100", 90, 100),
							(assign, ":value", "scn_cozur_custom_plains_10"),
						(try_end),
					(else_try),
						(eq, ":current_terrain_main_party", 4),
						(store_random_in_range, ":random_in_range_1_100", 1, 100),
						(store_random_in_range, ":random_in_range_70_101", 70, 101),
						(set_global_cloud_amount, ":random_in_range_70_101"),
						(set_global_haze_amount, ":random_in_range_70_101"),
						(try_begin),
							(is_between, ":random_in_range_1_100", 1, 25),
							(assign, ":value", "scn_cozur_custom_neck_1"),
						(else_try),
							(is_between, ":random_in_range_1_100", 25, 50),
							(assign, ":value", "scn_cozur_custom_neck_2"),
						(else_try),
							(is_between, ":random_in_range_1_100", 50, 75),
							(assign, ":value", "scn_cozur_custom_neck_3"),
						(else_try),
							(is_between, ":random_in_range_1_100", 75, 100),
							(assign, ":value", "scn_cozur_custom_neck_4"),
						(try_end),
					(else_try),
						(eq, ":current_terrain_main_party", 5),
						(store_random_in_range, ":random_in_range_1_100", 1, 100),
						(try_begin),
							(is_between, ":random_in_range_1_100", 1, 10),
							(assign, ":value", "scn_cozur_custom_deserts_1"),
						(else_try),
							(is_between, ":random_in_range_1_100", 10, 20),
							(assign, ":value", "scn_cozur_custom_deserts_2"),
						(else_try),
							(is_between, ":random_in_range_1_100", 20, 30),
							(assign, ":value", "scn_cozur_custom_deserts_3"),
						(else_try),
							(is_between, ":random_in_range_1_100", 30, 40),
							(assign, ":value", "scn_cozur_custom_deserts_4"),
						(else_try),
							(is_between, ":random_in_range_1_100", 40, 50),
							(assign, ":value", "scn_cozur_custom_deserts_5"),
						(else_try),
							(is_between, ":random_in_range_1_100", 50, 60),
							(assign, ":value", "scn_cozur_custom_deserts_6"),
						(else_try),
							(is_between, ":random_in_range_1_100", 60, 70),
							(assign, ":value", "scn_cozur_custom_deserts_7"),
						(else_try),
							(is_between, ":random_in_range_1_100", 70, 80),
							(assign, ":value", "scn_cozur_custom_deserts_8"),
						(else_try),
							(is_between, ":random_in_range_1_100", 80, 90),
							(assign, ":value", "scn_cozur_custom_deserts_9"),
						(else_try),
							(is_between, ":random_in_range_1_100", 90, 100),
							(assign, ":value", "scn_cozur_custom_deserts_10"),
						(try_end),
					(else_try),
						(eq, ":current_terrain_main_party", 10),
						(store_random_in_range, ":random_in_range_1_100", 1, 100),
						(try_begin),
							(is_between, ":random_in_range_1_100", 1, 20),
							(assign, ":value", "scn_cozur_custom_default_steppe_forest_1"),
						(else_try),
							(is_between, ":random_in_range_1_100", 20, 40),
							(assign, ":value", "scn_cozur_custom_default_steppe_forest_2"),
						(else_try),
							(is_between, ":random_in_range_1_100", 40, 60),
							(assign, ":value", "scn_cozur_custom_default_steppe_forest_3"),
						(else_try),
							(is_between, ":random_in_range_1_100", 60, 80),
							(assign, ":value", "scn_cozur_custom_default_steppe_forest_4"),
						(else_try),
							(is_between, ":random_in_range_1_100", 80, 100),
							(assign, ":value", "scn_cozur_custom_default_steppe_forest_5"),
						(try_end),
					(else_try),
						(eq, ":current_terrain_main_party", 11),
						(store_random_in_range, ":random_in_range_1_100", 1, 100),
						(try_begin),
							(is_between, ":random_in_range_1_100", 1, 20),
							(assign, ":value", "scn_cozur_custom_default_plain_forest_1"),
						(else_try),
							(is_between, ":random_in_range_1_100", 20, 40),
							(assign, ":value", "scn_cozur_custom_default_plain_forest_2"),
						(else_try),
							(is_between, ":random_in_range_1_100", 40, 60),
							(assign, ":value", "scn_cozur_custom_default_plain_forest_3"),
						(else_try),
							(is_between, ":random_in_range_1_100", 60, 80),
							(assign, ":value", "scn_cozur_custom_default_plain_forest_4"),
						(else_try),
							(is_between, ":random_in_range_1_100", 80, 100),
							(assign, ":value", "scn_cozur_custom_default_plain_forest_5"),
						(try_end),
					(else_try),
						(eq, ":current_terrain_main_party", 12),
						(store_random_in_range, ":random_in_range_1_100", 1, 100),
						(try_begin),
							(is_between, ":random_in_range_1_100", 1, 20),
							(assign, ":value", "scn_cozur_custom_swamps_1"),
						(else_try),
							(is_between, ":random_in_range_1_100", 20, 40),
							(assign, ":value", "scn_cozur_custom_swamps_2"),
						(else_try),
							(is_between, ":random_in_range_1_100", 40, 60),
							(assign, ":value", "scn_cozur_custom_swamps_3"),
						(else_try),
							(is_between, ":random_in_range_1_100", 60, 80),
							(assign, ":value", "scn_cozur_custom_swamps_4"),
						(else_try),
							(is_between, ":random_in_range_1_100", 80, 100),
							(assign, ":value", "scn_cozur_custom_swamps_5"),
						(try_end),
					(else_try),
						(eq, ":current_terrain_main_party", 13),
						(assign, ":value", "scn_random_scene_desert_forest"),
					(else_try),
						(eq, ":current_terrain_main_party", 0),
						(assign, ":value", "scn_water"),
					(else_try),
						(eq, ":current_terrain_main_party", 7),
						(assign, ":value", "scn_random_scene_plain"),
					(try_end),
				(try_end),
				(modify_visitors_at_site, ":value"),
				(reset_visitors),
				(jump_to_scene, ":value")
		]),

	("enter_dungeon",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(set_jump_mission, ":script_param_2"),
			(mission_tpl_entry_set_override_flags, ":script_param_2", 0, 256),
			(try_begin),
				(eq, "$sneaked_into_town", 1),
				(mission_tpl_entry_set_override_flags, ":script_param_2", 0, 447),
				(mission_tpl_entry_clear_override_items, ":script_param_2", 0),
				(mission_tpl_entry_add_override_item, ":script_param_2", 0, "itm_nomad_cap_b_new"),
				(mission_tpl_entry_add_override_item, ":script_param_2", 0, "itm_ar_pla_pri_pilgrimdisguise"),
				(mission_tpl_entry_add_override_item, ":script_param_2", 0, "itm_practice_staff"),
				(mission_tpl_entry_add_override_item, ":script_param_2", 0, "itm_medium_tier_sword_2"),
			(try_end),
			(party_get_slot, ":script_param_1_town_prison", ":script_param_1", slot_town_prison),
			(modify_visitors_at_site, ":script_param_1_town_prison"),
			(reset_visitors),
			(assign, ":var_4", 16),
			(call_script, "script_get_heroes_attached_to_center_as_prisoner", ":script_param_1", "p_temp_party"),
			(party_get_num_companion_stacks, ":num_companion_stacks_temp_party", "p_temp_party"),
			(try_begin),
				(gt, ":num_companion_stacks_temp_party", 15),
				(store_random_in_range, ":random_in_range_0_num_companion_stacks_temp_party", 0, ":num_companion_stacks_temp_party"),
			(else_try),
				(assign, ":random_in_range_0_num_companion_stacks_temp_party", 0),
			(try_end),
			(try_for_range, ":number", 0, ":num_companion_stacks_temp_party"),
				(val_add, ":number", ":random_in_range_0_num_companion_stacks_temp_party"),
				(try_begin),
					(ge, ":number", ":num_companion_stacks_temp_party"),
					(val_sub, ":number", ":num_companion_stacks_temp_party"),
				(try_end),
				(party_stack_get_troop_id, ":party_stack_troop_id_temp_party_number", "p_temp_party", ":number"),
				(assign, ":value", 0),
				(try_begin),
					(party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
				(else_try),
					(call_script, "script_cf_prisoner_offered_parole", ":party_stack_troop_id_temp_party_number"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(eq, ":value", 0),
				(lt, ":var_4", 32),
				(set_visitor, ":var_4", ":party_stack_troop_id_temp_party_number"),
				(val_add, ":var_4", 1),
			(try_end),
			(set_jump_entry, 0),
			(jump_to_scene, ":script_param_1_town_prison"),
			(scene_set_slot, ":script_param_1_town_prison", slot_scene_visited, 1),
			(change_screen_mission)
		]),

	("enter_court",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, "$talk_context", 1),
			(set_jump_mission, "mt_visit_town_castle"),
			(mission_tpl_entry_clear_override_items, "mt_visit_town_castle", 0),
			(party_get_slot, ":script_param_1_town_castle", ":script_param_1", slot_town_castle),
			(modify_visitors_at_site, ":script_param_1_town_castle"),
			(reset_visitors),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(faction_get_slot, ":faction_of_party_script_param_1_messenger_troop", ":faction_of_party_script_param_1", slot_faction_messenger_troop),
			(try_begin),
				(eq, ":faction_of_party_script_param_1", "$players_kingdom"),
				(is_between, "$g_player_culture", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_get_slot, ":faction_of_party_script_param_1_messenger_troop", "$g_player_culture", slot_faction_messenger_troop),
			(else_try),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(gt, ":script_param_1_town_lord", "trp_player"),
				(troop_get_slot, ":script_param_1_town_lord_original_faction", ":script_param_1_town_lord", slot_troop_original_faction),
				(neq, ":script_param_1_town_lord_original_faction", ":faction_of_party_script_param_1"),
				(is_between, ":script_param_1_town_lord_original_faction", "fac_kingdom_1", "fac_kingdoms_end"),
				(this_or_next|party_slot_eq, ":script_param_1", slot_center_original_faction, ":script_param_1_town_lord_original_faction"),
				(troop_slot_eq, ":script_param_1_town_lord", slot_troop_home, ":script_param_1"),
				(faction_get_slot, ":faction_of_party_script_param_1_messenger_troop", ":script_param_1_town_lord_original_faction", slot_faction_messenger_troop),
			(try_end),
			(try_begin),
				(le, ":faction_of_party_script_param_1_messenger_troop", 0),
				(troop_get_slot, ":troop_trees_642", "$troop_trees", 642),
				(assign, ":faction_of_party_script_param_1_messenger_troop", ":troop_trees_642"),
			(try_end),
			(set_visitor, 6, ":faction_of_party_script_param_1_messenger_troop"),
			(set_visitor, 7, ":faction_of_party_script_param_1_messenger_troop"),
			(try_begin),
				(eq, ":script_param_1", "p_town_16"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_9"),
				(set_visitor, 30, "trp_varys"),
				(set_visitor, 29, "trp_littlefinger"),
				(set_visitor, 28, "trp_pycelle"),
				(set_visitor, 27, "trp_lancel"),
				(set_visitor, 26, "trp_jalabhar"),
				(set_visitor, 25, "trp_aron_santagar"),
				(set_visitor, 22, "trp_mandon_moore"),
				(set_visitor, 18, "trp_bronn"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_52"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_9"),
				(set_visitor, 31, "trp_joy_hill"),
				(set_visitor, 30, "trp_creylen"),
				(set_visitor, 29, "trp_benedict_broom"),
				(set_visitor, 28, "trp_whitesmile_wat"),
				(set_visitor, 27, "trp_emmon_frey"),
				(set_visitor, 26, "trp_genna_lannister"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_18"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_9"),
				(set_visitor, 31, "trp_rolph_spicer"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_25"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_9"),
				(set_visitor, 31, "trp_rufus_leek"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_29"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_9"),
				(set_visitor, 31, "trp_polliver"),
				(set_visitor, 30, "trp_chiswyck"),
				(set_visitor, 29, "trp_rafford"),
				(set_visitor, 28, "trp_dunsen"),
				(set_visitor, 27, "trp_tickler"),
				(set_visitor, 26, "trp_beowulf_npc_5"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_23"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_8"),
				(set_visitor, 28, "trp_shireen"),
				(set_visitor, 27, "trp_bryen_farring"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_137"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_8"),
				(set_visitor, 31, "trp_aurane"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_130"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_1"),
				(set_visitor, 31, "trp_jurne"),
				(set_visitor, 30, "trp_colen"),
				(set_visitor, 29, "trp_jommy"),
				(set_visitor, 28, "trp_nysterica"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_133"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_10"),
				(set_visitor, 31, "trp_lomys"),
				(set_visitor, 30, "trp_olenna"),
				(set_visitor, 29, "trp_galyeon"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_72"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_10"),
				(set_visitor, 31, "trp_ballabar"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_32"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_10"),
				(set_visitor, 31, "trp_moryn"),
				(set_visitor, 26, "trp_leyton"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_19"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_6"),
				(set_visitor, 30, "trp_garin"),
				(set_visitor, 27, "trp_myles"),
				(set_visitor, 26, "trp_ricasso"),
				(set_visitor, 25, "trp_manfrey"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_42"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_6"),
				(set_visitor, 31, "trp_kedry"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_127"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_2"),
				(set_visitor, 31, "trp_vyman"),
				(set_visitor, 30, "trp_desmond"),
				(set_visitor, 29, "trp_utherydes"),
				(set_visitor, 28, "trp_catelyn"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_34"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_3"),
				(set_visitor, 31, "trp_clansman_npc_0"),
				(set_visitor, 30, "trp_marillion"),
				(set_visitor, 29, "trp_colemon"),
				(set_visitor, 28, "trp_myranda"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_24"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_3"),
				(set_visitor, 31, "trp_mya_stone"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_35"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_3"),
				(set_visitor, 30, "trp_harry_the_heir"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_23"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_3"),
				(set_visitor, 31, "trp_helliweg"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_140"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_11"),
				(set_visitor, 31, "trp_wendamyr"),
				(set_visitor, 30, "trp_helya"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_73"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_11"),
				(set_visitor, 31, "trp_hotho_harlaw"),
				(set_visitor, 29, "trp_gwynesse"),
				(set_visitor, 28, "trp_alannys"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_129"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_2"),
				(set_visitor, 31, "trp_luwin"),
				(set_visitor, 29, "trp_old_nan"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_town_31"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_2"),
				(set_visitor, 31, "trp_theomore"),
				(set_visitor, 30, "trp_bartimus"),
				(set_visitor, 29, "trp_marlon"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_castle_32"),
				(eq, ":faction_of_party_script_param_1", "fac_kingdom_2"),
				(set_visitor, 31, "trp_walton"),
				(set_visitor, 30, "trp_tybald"),
			(try_end),
			(assign, ":var_8", 16),
			(try_begin),
				(troop_get_slot, ":player_spouse", "trp_player", slot_troop_spouse),
				(gt, ":player_spouse", 0),
				(troop_slot_eq, ":player_spouse", slot_troop_cur_center, ":script_param_1"),
				(set_visitor, ":var_8", ":player_spouse"),
				(val_add, ":var_8", 1),
			(else_try),
				(troop_get_slot, ":player_betrothed", "trp_player", slot_troop_betrothed),
				(gt, ":player_betrothed", 0),
				(troop_slot_eq, ":player_betrothed", slot_troop_cur_center, ":script_param_1"),
				(set_visitor, ":var_8", ":player_betrothed"),
				(val_add, ":var_8", 1),
			(try_end),
			(try_begin),
				(eq, "$g_player_court", ":script_param_1"),
				(gt, "$g_player_minister", 0),
				(neg|troop_slot_eq, "trp_player", slot_troop_spouse, "$g_player_minister"),
				(set_visitor, ":var_8", "$g_player_minister"),
				(val_add, ":var_8", 1),
			(try_end),
			(try_begin),
				(gt, "$g_player_chamberlain", 0),
				(call_script, "script_dplmc_appoint_chamberlain"),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(eq, ":script_param_1_town_lord", "trp_player"),
				(set_visitor, ":var_8", "$g_player_chamberlain"),
				(val_add, ":var_8", 1),
			(try_end),
			(try_begin),
				(gt, "$g_player_constable", 0),
				(call_script, "script_dplmc_appoint_constable"),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(eq, ":script_param_1_town_lord", "trp_player"),
				(set_visitor, ":var_8", "$g_player_constable"),
				(val_add, ":var_8", 1),
			(try_end),
			(try_begin),
				(gt, "$g_player_chancellor", 0),
				(call_script, "script_dplmc_appoint_chancellor"),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(eq, ":script_param_1_town_lord", "trp_player"),
				(set_visitor, ":var_8", "$g_player_chancellor"),
				(val_add, ":var_8", 1),
			(try_end),
			(try_begin),
				(party_slot_eq, "p_main_party", 465, 100),
				(party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
				(set_visitor, ":var_8", "trp_custom_master"),
				(val_add, ":var_8", 1),
			(try_end),
			(try_begin),
				(eq, "$g_player_court", ":script_param_1"),
				(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_leader, "trp_player"),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", "fac_player_supporters_faction"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 0),
					(neg|troop_slot_ge, ":troop", 8, 0),
					(neq, ":troop", "$g_player_minister"),
					(set_visitor, ":var_8", ":troop"),
					(val_add, ":var_8", 1),
				(try_end),
			(try_end),
			(call_script, "script_dplmc_time_sorted_heroes_for_center", ":script_param_1", "p_temp_party"),
			(try_begin),
				(lt, ":player_spouse", 1),
				(store_random_in_range, ":random_in_range_0_9", 0, 9),
			(else_try),
				(store_random_in_range, ":random_in_range_0_9", 0, 5),
			(try_end),
			(store_sub, ":value", 32, ":random_in_range_0_9"),
			(party_get_num_companion_stacks, ":num_companion_stacks_temp_party", "p_temp_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_temp_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_temp_party_number", "p_temp_party", ":number"),
				(gt, ":party_stack_troop_id_temp_party_number", 0),
				(lt, ":var_8", ":value"),
				(set_visitor, ":var_8", ":party_stack_troop_id_temp_party_number"),
				(val_add, ":var_8", 1),
			(try_end),
			(try_for_range, ":troop_2", "trp_knight_1_1_wife", "trp_heroes_end"),
				(neq, ":troop_2", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop_2", slot_troop_cur_center, ":script_param_1"),
				(assign, ":value_2", 0),
				(try_begin),
					(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, ":troop_2"),
					(this_or_next|troop_slot_eq, "trp_player", slot_troop_betrothed, ":troop_2"),
					(this_or_next|troop_slot_eq, ":troop_2", slot_troop_spouse, "trp_player"),
					(troop_slot_eq, ":troop_2", slot_troop_betrothed, "trp_player"),
					(assign, ":value_2", 0),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop_2"),
						(display_message, "str_s4_is_present_at_the_center_and_in_place_of_honor"),
					(try_end),
				(else_try),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(neq, ":faction_of_troop_troop_2", ":faction_of_party_script_param_1"),
					(assign, ":value_2", 1),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop_2"),
						(display_message, "str_s4_is_present_at_the_center_as_a_refugee"),
					(try_end),
				(else_try),
					(troop_slot_ge, ":troop_2", 30, 1),
					(try_begin),
						(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_ai_state, 6),
						(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_ai_object, ":script_param_1"),
						(assign, ":value_2", 0),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 4, ":troop_2"),
							(display_message, "str_s4_is_present_at_the_center_and_not_attending_the_feast"),
						(try_end),
					(else_try),
						(assign, ":value_2", 1),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 4, ":troop_2"),
							(display_message, "str_s4_is_present_at_the_center_and_is_married"),
						(try_end),
					(try_end),
				(else_try),
					(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_ai_state, 6),
					(faction_slot_eq, ":faction_of_party_script_param_1", slot_faction_ai_object, ":script_param_1"),
					(assign, ":value_2", 1),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop_2"),
						(display_message, "@{!}DEBUG -- {s4} is present at the center and is attending the feast"),
					(try_end),
				(else_try),
					(troop_slot_ge, ":troop_2", 5, 2),
					(assign, ":value_2", 0),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop_2"),
						(display_message, "@{!}DEBUG -- {s4} is present at the center and is awaiting the player in private"),
					(try_end),
				(else_try),
					(call_script, "script_get_kingdom_lady_social_determinants", ":troop_2"),
					(call_script, "script_npc_decision_checklist_male_guardian_assess_suitor", reg0, "trp_player"),
					(gt, reg0, 0),
					(assign, ":value_2", 1),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop_2"),
						(display_message, "@{!}DEBUG -- {s4} is present at the center and is allowed to meet the player"),
					(try_end),
				(else_try),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop_2"),
						(display_message, "@{!}DEBUG -- {s4}is present at the center and is not allowed to meet the player"),
					(try_end),
				(try_end),
				(eq, ":value_2", 1),
				(lt, ":var_8", 32),
				(set_visitor, ":var_8", ":troop_2"),
				(val_add, ":var_8", 1),
			(try_end),
			(set_jump_entry, 0),
			(jump_to_scene, ":script_param_1_town_castle"),
			(scene_set_slot, ":script_param_1_town_castle", slot_scene_visited, 1),
			(change_screen_mission)
		]),

	("setup_meet_lady",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_set_slot, ":script_param_1", slot_troop_love_interests_end, "trp_player"),
			(set_jump_mission, "mt_visit_town_castle"),
			(party_get_slot, ":script_param_2_town_castle", ":script_param_2", slot_town_castle),
			(modify_visitors_at_site, ":script_param_2_town_castle"),
			(reset_visitors),
			(troop_set_age, "trp_nurse_for_lady", 100),
			(set_visitor, 7, "trp_nurse_for_lady"),
			(assign, ":var_4", 16),
			(set_visitor, ":var_4", ":script_param_1"),
			(assign, "$talk_context", 16),
			(jump_to_scene, ":script_param_2_town_castle"),
			(scene_set_slot, ":script_param_2_town_castle", slot_scene_visited, 1),
			(change_screen_mission)
		]),

	("find_high_ground_around_pos1",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(val_mul, ":script_param_2", 100),
			(get_scene_boundaries, 10, 11),
			(team_get_leader, ":leader_script_param_1", ":script_param_1"),
			(agent_get_position, 1, ":leader_script_param_1"),
			(set_fixed_point_multiplier, 100),
			(position_get_x, ":position_x_1", 1),
			(position_get_y, ":position_y_1", 1),
			(store_sub, ":value", ":position_x_1", ":script_param_2"),
			(store_sub, ":value_2", ":position_y_1", ":script_param_2"),
			(store_add, ":value_3", ":position_x_1", ":script_param_2"),
			(store_add, ":value_4", ":position_y_1", ":script_param_2"),
			(position_get_x, ":position_x_10", 10),
			(position_get_x, ":position_x_11", 11),
			(position_get_y, ":position_y_10", 10),
			(position_get_y, ":position_y_11", 11),
			(val_add, ":position_x_10", 2000),
			(val_sub, ":position_x_11", 2000),
			(val_add, ":position_y_10", 2000),
			(val_sub, ":position_y_11", 2000),
			(val_max, ":value", ":position_x_10"),
			(val_max, ":value_2", ":position_y_10"),
			(val_min, ":value_3", ":position_x_11"),
			(val_min, ":value_4", ":position_y_11"),
			(store_div, ":value_5", ":value", 100),
			(store_div, ":value_6", ":value_2", 100),
			(store_div, ":value_7", ":value_3", 100),
			(store_div, ":value_8", ":value_4", 100),
			(assign, ":value_9", -10000),
			(copy_position, 52, 1),
			(init_position, 15),
			(try_for_range, ":var_19", ":value_5", ":value_7"),
				(store_mul, ":value_10", ":var_19", 100),
				(try_for_range, ":var_21", ":value_6", ":value_8"),
					(store_mul, ":value_11", ":var_21", 100),
					(position_set_x, 15, ":value_10"),
					(position_set_y, 15, ":value_11"),
					(position_set_z, 15, 10000),
					(position_set_z_to_ground_level, 15),
					(position_get_z, ":position_z_15", 15),
					(try_begin),
						(gt, ":position_z_15", ":value_9"),
						(copy_position, 52, 15),
						(assign, ":value_9", ":position_z_15"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("select_battle_tactic",
		[
			(assign, "$ai_team_1_battle_tactic", 0),
			(get_player_agent_no, ":player_agent_no"),
			(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
			(try_begin),
				(num_active_teams_le, 2),
				(try_begin),
					(eq, ":team_player_agent_no", 0),
					(assign, "$ai_team_1", 1),
				(else_try),
					(assign, "$ai_team_1", 0),
				(try_end),
				(assign, "$ai_team_2", -1),
			(else_try),
				(try_begin),
					(eq, ":team_player_agent_no", 0),
					(assign, "$ai_team_1", 1),
				(else_try),
					(assign, "$ai_team_1", 0),
				(try_end),
				(store_add, "$ai_team_2", ":team_player_agent_no", 2),
			(try_end),
			(call_script, "script_select_battle_tactic_aux", "$ai_team_1", 0),
			(assign, "$ai_team_1_battle_tactic", reg0),
			(try_begin),
				(ge, "$ai_team_2", 0),
				(assign, ":value", 0),
				(try_begin),
					(eq, "$ai_team_1_battle_tactic", 1),
					(assign, ":value", 1),
				(try_end),
				(call_script, "script_select_battle_tactic_aux", "$ai_team_2", ":value"),
				(assign, "$ai_team_2_battle_tactic", reg0),
			(try_end)
		]),

	("select_battle_tactic_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(get_player_agent_no, ":player_agent_no"),
			(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
			(party_get_slot, ":main_party_village_bound_center", "p_main_party", slot_village_bound_center),
			(try_begin),
				(party_slot_eq, "p_main_party", slot_village_market_town, 1),
				(teams_are_enemies, ":script_param_1", ":team_player_agent_no"),
				(assign, ":script_param_2", 1),
			(try_end),
			(try_begin),
				(this_or_next|eq, "$cant_leave_encounter", 1),
				(eq, ":main_party_village_bound_center", 1),
				(teams_are_enemies, ":script_param_1", ":team_player_agent_no"),
				(assign, ":script_param_2", 1),
			(try_end),
			(call_script, "script_team_get_class_percentages", ":script_param_1", 0),
			(assign, ":var_7", reg1),
			(assign, ":var_8", reg2),
			(call_script, "script_team_get_class_percentages", ":script_param_1", 1),
			(store_random_in_range, ":random_in_range_0_100", 0, 100),
			(try_begin),
				(assign, ":value_2", 0),
				(try_begin),
					(teams_are_enemies, ":script_param_1", ":team_player_agent_no"),
					(party_slot_eq, "$g_enemy_party", slot_party_type, 13),
					(assign, ":value_2", 1),
				(else_try),
					(neg|teams_are_enemies, ":script_param_1", ":team_player_agent_no"),
					(gt, "$g_ally_party", 0),
					(party_slot_eq, "$g_ally_party", slot_party_type, 13),
					(assign, ":value_2", 1),
				(try_end),
				(eq, ":value_2", 1),
				(store_faction_of_party, ":faction_of_party_g_enemy_party", "$g_enemy_party"),
				(neq, ":faction_of_party_g_enemy_party", "fac_kingdom_3"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(gt, ":var_7", 50),
					(lt, ":var_8", 35),
					(assign, ":value", 1),
				(else_try),
					(lt, ":random_in_range_0_100", 80),
					(assign, ":value", 2),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("battle_tactic_init",
		[
			(call_script, "script_battle_tactic_init_aux", "$ai_team_1", "$ai_team_1_battle_tactic"),
			(try_begin),
				(ge, "$ai_team_2", 0),
				(call_script, "script_battle_tactic_init_aux", "$ai_team_2", "$ai_team_2_battle_tactic"),
			(try_end),
			(try_for_agents, ":var_1"),
				(agent_set_slot, ":var_1", slot_agent_is_running_away, 0),
			(try_end)
		]),

	("orig_battle_tactic_init_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(team_get_leader, ":leader_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":script_param_2", 1),
				(agent_get_position, 1, ":leader_script_param_1"),
				(call_script, "script_find_high_ground_around_pos1", ":script_param_1", 30),
				(copy_position, 1, 52),
				(call_script, "script_find_high_ground_around_pos1", ":script_param_1", 30),
				(copy_position, 1, 52),
				(call_script, "script_find_high_ground_around_pos1", ":script_param_1", 30),
				(team_give_order, ":script_param_1", 9, 0),
				(team_set_order_position, ":script_param_1", 9, 52),
				(team_give_order, ":script_param_1", 1, 5),
				(team_give_order, ":script_param_1", 1, 5),
			(else_try),
				(eq, ":script_param_2", 2),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(ge, ":leader_script_param_1", 0),
				(agent_set_speed_limit, ":leader_script_param_1", 8),
				(agent_get_position, 60, ":leader_script_param_1"),
				(team_give_order, ":script_param_1", 9, 0),
				(team_set_order_position, ":script_param_1", 9, 60),
			(try_end)
		]),

	("calculate_team_powers",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(assign, ":value", 0),
				(agent_is_ally, ":script_param_1"),
				(assign, ":value", 1),
			(try_end),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(try_for_agents, ":var_5"),
				(agent_is_human, ":var_5"),
				(agent_is_alive, ":var_5"),
				(try_begin),
					(assign, ":value_2", 0),
					(agent_is_ally, ":var_5"),
					(assign, ":value_2", 1),
				(try_end),
				(try_begin),
					(agent_get_horse, ":horse_var_5", ":var_5"),
					(neq, ":horse_var_5", -1),
					(assign, ":value_3", 2),
				(else_try),
					(assign, ":value_3", 1),
				(try_end),
				(try_begin),
					(eq, ":value", ":value_2"),
					(val_add, ":var_3", ":value_3"),
				(else_try),
					(val_add, ":var_4", ":value_3"),
				(try_end),
			(try_end),
			(assign, reg0, ":var_3"),
			(assign, reg1, ":var_4")
		]),

	("apply_effect_of_other_people_on_courage_scores",
		[
			(get_player_agent_no, ":player_agent_no"),
			(try_for_agents, ":var_2"),
				(agent_is_human, ":var_2"),
				(agent_is_alive, ":var_2"),
				(neq, ":var_2", ":player_agent_no"),
				(agent_get_position, 0, ":var_2"),
				(try_begin),
					(agent_is_ally, ":var_2"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(try_for_agents, ":var_4"),
					(agent_is_human, ":var_4"),
					(agent_is_alive, ":var_4"),
					(neq, ":var_2", ":var_4"),
					(try_begin),
						(agent_is_ally, ":var_4"),
						(assign, ":value_2", 1),
					(else_try),
						(assign, ":value_2", 0),
					(try_end),
					(eq, ":value", ":value_2"),
					(agent_get_slot, ":var_4_is_running_away", ":var_4", slot_agent_is_running_away),
					(try_begin),
						(eq, ":var_4", ":player_agent_no"),
						(assign, ":value_3", 6),
					(else_try),
						(agent_get_troop_id, ":troop_id_var_4", ":var_4"),
						(troop_is_hero, ":troop_id_var_4"),
						(try_begin),
							(neq, ":var_4_is_running_away", 1),
							(store_agent_hit_points, ":agent_hit_points_var_4", ":var_4"),
							(try_begin),
								(eq, ":agent_hit_points_var_4", 100),
								(assign, ":value_3", 6),
							(else_try),
								(ge, ":agent_hit_points_var_4", 75),
								(assign, ":value_3", 5),
							(else_try),
								(ge, ":agent_hit_points_var_4", 60),
								(assign, ":value_3", 4),
							(else_try),
								(ge, ":agent_hit_points_var_4", 45),
								(assign, ":value_3", 3),
							(else_try),
								(ge, ":agent_hit_points_var_4", 30),
								(assign, ":value_3", 2),
							(else_try),
								(ge, ":agent_hit_points_var_4", 15),
								(assign, ":value_3", 1),
							(try_end),
						(else_try),
							(assign, ":value_3", 4),
						(try_end),
					(else_try),
						(try_begin),
							(neq, ":var_4_is_running_away", 1),
							(store_agent_hit_points, ":agent_hit_points_var_4", ":var_4"),
							(try_begin),
								(eq, ":agent_hit_points_var_4", 100),
								(assign, ":value_3", 4),
							(else_try),
								(ge, ":agent_hit_points_var_4", 75),
								(assign, ":value_3", 3),
							(else_try),
								(ge, ":agent_hit_points_var_4", 50),
								(assign, ":value_3", 2),
							(else_try),
								(ge, ":agent_hit_points_var_4", 25),
								(assign, ":value_3", 1),
							(try_end),
							(try_begin),
								(agent_is_ally, ":var_4"),
								(val_sub, ":value_3", 1),
							(try_end),
						(else_try),
							(assign, ":value_3", 2),
						(try_end),
					(try_end),
					(try_begin),
						(neq, ":var_4_is_running_away", 1),
						(val_mul, ":value_3", 1),
						(try_begin),
							(agent_get_slot, ":var_4_is_running_away", ":var_2", slot_agent_is_running_away),
							(eq, ":var_4_is_running_away", 0),
							(val_mul, ":value_3", 0),
						(try_end),
					(else_try),
						(try_begin),
							(agent_get_slot, ":var_4_is_running_away", ":var_4", slot_agent_is_running_away),
							(eq, ":var_4_is_running_away", 0),
							(val_mul, ":value_3", -2),
						(else_try),
							(val_mul, ":value_3", -1),
						(try_end),
					(try_end),
					(neq, ":value_3", 0),
					(agent_get_position, 1, ":var_4"),
					(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
					(try_begin),
						(ge, ":value_3", 0),
						(try_begin),
							(lt, ":distance_between_positions_0_1", 2000),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 50),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 4000),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 40),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 7000),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 30),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 11000),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 20),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 16000),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 10),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(try_end),
					(else_try),
						(try_begin),
							(lt, ":distance_between_positions_0_1", 200),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 15),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 400),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 13),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 600),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 11),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 800),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 9),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 1200),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 7),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 2400),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 5),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 4800),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 3),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(else_try),
							(lt, ":distance_between_positions_0_1", 9600),
							(agent_get_slot, ":var_2_courage_score", ":var_2", slot_agent_courage_score),
							(val_mul, ":value_3", 1),
							(val_add, ":var_2_courage_score", ":value_3"),
							(agent_set_slot, ":var_2", slot_agent_courage_score, ":var_2_courage_score"),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("apply_death_effect_on_courage_scores",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(agent_is_human, ":script_param_1"),
				(try_begin),
					(agent_is_ally, ":script_param_1"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(agent_get_position, 0, ":script_param_1"),
				(assign, ":var_4", 0),
				(try_for_agents, ":value_2"),
					(agent_is_human, ":value_2"),
					(agent_is_alive, ":value_2"),
					(agent_get_position, 1, ":value_2"),
					(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
					(le, ":distance_between_positions_0_1", 1300),
					(try_begin),
						(agent_is_ally, ":value_2"),
						(assign, ":value_3", 1),
					(else_try),
						(assign, ":value_3", 0),
					(try_end),
					(try_begin),
						(eq, ":value", ":value_3"),
						(val_add, ":var_4", 1),
					(try_end),
				(try_end),
				(try_for_agents, ":value_2"),
					(agent_is_human, ":value_2"),
					(agent_is_alive, ":value_2"),
					(try_begin),
						(agent_is_ally, ":value_2"),
						(assign, ":value_3", 1),
					(else_try),
						(assign, ":value_3", 0),
					(try_end),
					(try_begin),
						(neq, ":value", ":value_3"),
						(assign, ":value_4", 10),
					(else_try),
						(assign, ":value_4", -15),
						(val_add, ":value_4", ":var_4"),
						(try_begin),
							(gt, ":value_4", -5),
							(assign, ":value_4", -5),
						(try_end),
						(agent_get_slot, ":script_param_1_is_running_away", ":script_param_1", slot_agent_is_running_away),
						(try_begin),
							(eq, ":script_param_1_is_running_away", 1),
							(val_div, ":value_4", 3),
						(try_end),
					(try_end),
					(agent_get_position, 1, ":value_2"),
					(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
					(try_begin),
						(eq, ":script_param_2", ":value_2"),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 20),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(try_end),
					(try_begin),
						(lt, ":distance_between_positions_0_1", 100),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 150),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 200),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 120),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 300),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 100),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 400),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 90),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 600),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 80),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 800),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 70),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 1000),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 60),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 1500),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 50),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 2500),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 40),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 4000),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 30),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 6500),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 20),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(else_try),
						(lt, ":distance_between_positions_0_1", 10000),
						(agent_get_slot, ":value_2_courage_score", ":value_2", slot_agent_courage_score),
						(val_mul, ":value_4", 10),
						(val_add, ":value_2_courage_score", ":value_4"),
						(agent_set_slot, ":value_2", slot_agent_courage_score, ":value_2_courage_score"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("decide_run_away_or_not",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(agent_get_team, ":team_script_param_1", ":script_param_1"),
			(agent_get_division, ":division_script_param_1", ":script_param_1"),
			(try_begin),
				(lt, ":division_script_param_1", 9),
				(team_get_movement_order, ":movement_order_team_script_param_1_division_script_param_1", ":team_script_param_1", ":division_script_param_1"),
				(eq, ":movement_order_team_script_param_1_division_script_param_1", 14),
				(assign, ":value", 1),
			(try_end),
			(agent_get_slot, ":script_param_1_is_running_away", ":script_param_1", slot_agent_is_running_away),
			(try_begin),
				(eq, ":script_param_1_is_running_away", 0),
				(try_begin),
					(eq, ":value", 1),
					(agent_clear_scripted_mode, ":script_param_1"),
					(agent_start_running_away, ":script_param_1"),
					(agent_set_slot, ":script_param_1", slot_agent_is_running_away, 1),
				(else_try),
					(ge, ":script_param_2", 45),
					(agent_get_slot, ":script_param_1_courage_score", ":script_param_1", slot_agent_courage_score),
					(store_agent_hit_points, ":agent_hit_points_script_param_1", ":script_param_1"),
					(val_mul, ":agent_hit_points_script_param_1", 4),
					(try_begin),
						(agent_is_ally, ":script_param_1"),
						(val_sub, ":agent_hit_points_script_param_1", 100),
						(val_mul, ":agent_hit_points_script_param_1", 10),
					(else_try),
						(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
						(try_begin),
							(eq, ":game_reduce_campaign_ai", 0),
							(val_mul, ":agent_hit_points_script_param_1", 20),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 1),
							(val_mul, ":agent_hit_points_script_param_1", 15),
						(else_try),
							(val_mul, ":agent_hit_points_script_param_1", 10),
						(try_end),
					(try_end),
					(store_sub, ":value_2", 3500, ":agent_hit_points_script_param_1"),
					(lt, ":script_param_1_courage_score", ":value_2"),
					(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
					(neg|troop_is_hero, ":troop_id_script_param_1"),
					(agent_clear_scripted_mode, ":script_param_1"),
					(agent_start_running_away, ":script_param_1"),
					(agent_set_slot, ":script_param_1", slot_agent_is_running_away, 1),
				(try_end),
			(else_try),
				(neq, ":value", 1),
				(agent_get_slot, ":script_param_1_courage_score", ":script_param_1", slot_agent_courage_score),
				(store_agent_hit_points, ":agent_hit_points_script_param_1", ":script_param_1"),
				(val_mul, ":agent_hit_points_script_param_1", 4),
				(try_begin),
					(agent_is_ally, ":script_param_1"),
					(val_sub, ":agent_hit_points_script_param_1", 100),
					(val_mul, ":agent_hit_points_script_param_1", 10),
				(else_try),
					(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 0),
						(val_mul, ":agent_hit_points_script_param_1", 20),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
						(val_mul, ":agent_hit_points_script_param_1", 15),
					(else_try),
						(val_mul, ":agent_hit_points_script_param_1", 10),
					(try_end),
				(try_end),
				(store_sub, ":value_3", 3700, ":agent_hit_points_script_param_1"),
				(ge, ":script_param_1_courage_score", ":value_3"),
				(agent_stop_running_away, ":script_param_1"),
				(agent_set_slot, ":script_param_1", slot_agent_is_running_away, 0),
			(try_end)
		]),

	("battle_tactic_apply",
		[
			(call_script, "script_battle_tactic_apply_aux", "$ai_team_1", "$ai_team_1_battle_tactic"),
			(assign, "$ai_team_1_battle_tactic", reg0),
			(try_begin),
				(ge, "$ai_team_2", 0),
				(call_script, "script_battle_tactic_apply_aux", "$ai_team_2", "$ai_team_2_battle_tactic"),
				(assign, "$ai_team_2_battle_tactic", reg0),
			(try_end)
		]),

	("orig_battle_tactic_apply_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_mission_timer_a, ":mission_timer_a"),
			(try_begin),
				(eq, ":script_param_2", 1),
				(copy_position, 1, 52),
				(call_script, "script_get_closest3_distance_of_enemies_at_pos1", ":script_param_1", 1),
				(assign, ":var_4", reg0),
				(assign, ":var_5", reg1),
				(try_begin),
					(this_or_next|lt, ":var_5", 1000),
					(lt, ":var_4", 4000),
					(assign, ":script_param_2", 0),
					(team_give_order, ":script_param_1", 9, 2),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 2),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(try_begin),
					(ge, ":leader_script_param_1", 0),
					(agent_is_alive, ":leader_script_param_1"),
					(agent_set_speed_limit, ":leader_script_param_1", 9),
					(call_script, "script_team_get_average_position_of_enemies", ":script_param_1"),
					(copy_position, 60, 0),
					(agent_get_position, 61, ":leader_script_param_1"),
					(position_transform_position_to_local, 62, 61, 60),
					(position_normalize_origin, ":value", 62),
					(convert_from_fixed_point, ":value"),
					(assign, reg17, ":value"),
					(position_get_x, ":position_x_62", 62),
					(position_get_y, ":position_y_62", 62),
					(val_mul, ":position_x_62", 23),
					(val_mul, ":position_y_62", 23),
					(position_set_x, 62, ":position_x_62"),
					(position_set_y, 62, ":position_y_62"),
					(position_transform_position_to_parent, 63, 61, 62),
					(position_set_z_to_ground_level, 63),
					(team_give_order, ":script_param_1", 9, 0),
					(team_set_order_position, ":script_param_1", 9, 63),
					(agent_get_position, 1, ":leader_script_param_1"),
					(try_begin),
						(lt, ":value", 50),
						(ge, ":mission_timer_a", 30),
						(assign, ":script_param_2", 0),
						(team_give_order, ":script_param_1", 9, 2),
						(agent_set_speed_limit, ":leader_script_param_1", 60),
					(try_end),
				(else_try),
					(assign, ":script_param_2", 0),
					(team_give_order, ":script_param_1", 9, 2),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":script_param_2", 0),
				(ge, ":mission_timer_a", 300),
				(assign, ":script_param_2", 0),
				(team_give_order, ":script_param_1", 9, 2),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(agent_set_speed_limit, ":leader_script_param_1", 60),
			(try_end),
			(assign, reg0, ":script_param_2")
		]),

	("team_get_class_percentages",
		[
			(assign, ":var_1", 0),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(assign, ":value", 0),
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_agents, ":var_7"),
				(agent_is_alive, ":var_7"),
				(agent_is_human, ":var_7"),
				(agent_get_team, ":team_var_7", ":var_7"),
				(assign, ":value_2", 0),
				(try_begin),
					(eq, ":script_param_2", 1),
					(teams_are_enemies, ":team_var_7", ":script_param_1"),
					(assign, ":value_2", 1),
				(else_try),
					(eq, ":team_var_7", ":script_param_1"),
					(assign, ":value_2", 1),
				(try_end),
				(eq, ":value_2", 1),
				(val_add, ":value", 1),
				(agent_get_class, ":class_var_7", ":var_7"),
				(try_begin),
					(eq, ":class_var_7", 0),
					(val_add, ":var_1", 1),
				(else_try),
					(eq, ":class_var_7", 1),
					(val_add, ":var_2", 1),
				(else_try),
					(eq, ":class_var_7", 2),
					(val_add, ":var_3", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(assign, ":value", 1),
			(try_end),
			(store_mul, ":value_3", ":var_1", 100),
			(val_div, ":value_3", ":value"),
			(store_mul, ":value_4", ":var_2", 100),
			(val_div, ":value_4", ":value"),
			(store_mul, ":value_5", ":var_3", 100),
			(val_div, ":value_5", ":value"),
			(assign, reg0, ":value_3"),
			(assign, reg1, ":value_4"),
			(assign, reg2, ":value_5")
		]),

	("get_closest3_distance_of_enemies_at_pos1",
		[
			(assign, ":value", 100000),
			(assign, ":value_2", 100000),
			(assign, ":value_3", 100000),
			(store_script_param, ":script_param_1", 1),
			(try_for_agents, ":var_5"),
				(agent_is_alive, ":var_5"),
				(agent_is_human, ":var_5"),
				(agent_get_team, ":team_var_5", ":var_5"),
				(teams_are_enemies, ":team_var_5", ":script_param_1"),
				(agent_get_position, 2, ":var_5"),
				(get_distance_between_positions, ":distance_between_positions_2_1", 2, 1),
				(try_begin),
					(lt, ":distance_between_positions_2_1", ":value"),
					(assign, ":value_3", ":value_2"),
					(assign, ":value_2", ":value"),
					(assign, ":value", ":distance_between_positions_2_1"),
				(else_try),
					(lt, ":distance_between_positions_2_1", ":value_2"),
					(assign, ":value_3", ":value_2"),
					(assign, ":value_2", ":distance_between_positions_2_1"),
				(else_try),
					(lt, ":distance_between_positions_2_1", ":value_3"),
					(assign, ":value_3", ":distance_between_positions_2_1"),
				(try_end),
			(try_end),
			(assign, ":var_8", 0),
			(assign, ":var_9", 0),
			(try_begin),
				(lt, ":value", 100000),
				(val_add, ":var_8", ":value"),
				(val_add, ":var_9", 1),
			(try_end),
			(try_begin),
				(lt, ":value_2", 100000),
				(val_add, ":var_8", ":value_2"),
				(val_add, ":var_9", 1),
			(try_end),
			(try_begin),
				(lt, ":value_3", 100000),
				(val_add, ":var_8", ":value_3"),
				(val_add, ":var_9", 1),
			(try_end),
			(assign, ":value_4", 100000),
			(try_begin),
				(gt, ":var_9", 0),
				(store_div, ":value_4", ":var_8", ":var_9"),
			(try_end),
			(assign, reg0, ":value_4"),
			(assign, reg1, ":value"),
			(assign, reg2, ":value_2"),
			(assign, reg3, ":value_3")
		]),

	("team_get_average_position_of_enemies",
		[
			(store_script_param_1, ":script_param_1"),
			(init_position, 0),
			(assign, ":value", 0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(assign, ":var_5", 0),
			(try_for_agents, ":var_6"),
				(agent_is_alive, ":var_6"),
				(agent_is_human, ":var_6"),
				(agent_get_team, ":team_var_6", ":var_6"),
				(teams_are_enemies, ":script_param_1", ":team_var_6"),
				(agent_get_position, 62, ":var_6"),
				(position_get_x, ":position_x_62", 62),
				(position_get_y, ":position_y_62", 62),
				(position_get_z, ":position_z_62", 62),
				(val_add, ":var_3", ":position_x_62"),
				(val_add, ":var_4", ":position_y_62"),
				(val_add, ":var_5", ":position_z_62"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(le, ":value", 0),
				(assign, ":value", 1),
			(try_end),
			(store_div, ":value_2", ":var_3", ":value"),
			(store_div, ":value_3", ":var_4", ":value"),
			(store_div, ":value_4", ":var_5", ":value"),
			(position_set_x, 0, ":value_2"),
			(position_set_y, 0, ":value_3"),
			(position_set_z, 0, ":value_4"),
			(assign, reg0, ":value")
		]),

	("search_troop_prisoner_of_party",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(try_for_parties, ":var_3"),
				(eq, ":value", -1),
				(this_or_next|eq, ":var_3", "p_main_party"),
				(ge, ":var_3", "p_town_1"),
				(party_count_prisoners_of_type, ":var_4", ":var_3", ":script_param_1"),
				(gt, ":var_4", 0),
				(assign, ":value", ":var_3"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("change_debt_to_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_get_slot, ":script_param_1_player_debt", ":script_param_1", slot_troop_player_debt),
			(assign, reg1, ":script_param_1_player_debt"),
			(val_add, ":script_param_1_player_debt", ":script_param_2"),
			(assign, reg2, ":script_param_1_player_debt"),
			(troop_set_slot, ":script_param_1", slot_troop_player_debt, ":script_param_1_player_debt"),
			(str_store_troop_name_link, 1, ":script_param_1"),
			(display_message, "@You now owe {reg2} denars to {s1}.")
		]),

	("abort_quest",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", -1),
			(assign, ":value_2", -2),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "qst_deliver_message"),
				(eq, ":script_param_1", "qst_deliver_message_to_enemy_lord"),
				(assign, ":value", -2),
				(assign, ":value_2", -3),
			(else_try),
				(eq, ":script_param_1", "qst_deliver_love_letter"),
				(assign, ":value", -2),
				(assign, ":value_2", -3),
			(else_try),
				(eq, ":script_param_1", "qst_kidnapped_girl"),
				(party_remove_members, "p_main_party", "trp_kidnapped_girl", 1),
				(quest_get_slot, ":kidnapped_girl_target_party", "qst_kidnapped_girl", slot_quest_target_party),
				(try_begin),
					(party_is_active, ":kidnapped_girl_target_party"),
					(remove_party, ":kidnapped_girl_target_party"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", "qst_escort_lady"),
				(quest_get_slot, ":escort_lady_object_troop", "qst_escort_lady", slot_quest_object_troop),
				(party_remove_members, "p_main_party", ":escort_lady_object_troop", 1),
				(assign, ":value", -2),
				(assign, ":value_2", -3),
			(else_try),
				(eq, ":script_param_1", "qst_raise_troops"),
				(quest_get_slot, ":script_param_1_giver_troop", ":script_param_1", slot_quest_giver_troop),
				(call_script, "script_change_debt_to_troop", ":script_param_1_giver_troop", 100),
				(assign, ":value", -4),
				(assign, ":value_2", -5),
			(else_try),
				(eq, ":script_param_1", "qst_deal_with_looters"),
				(try_for_parties, ":var_8"),
					(party_get_template_id, ":template_id_var_8", ":var_8"),
					(this_or_next|eq, ":template_id_var_8", "pt_looters"),
					(this_or_next|eq, ":template_id_var_8", "pt_looters_r"),
					(eq, ":template_id_var_8", "pt_looters_e"),
					(party_set_flags, ":var_8", 262144, 0),
				(try_end),
				(assign, ":value", -4),
				(assign, ":value_2", -5),
			(else_try),
				(eq, ":script_param_1", "qst_deal_with_bandits_at_lords_village"),
				(quest_get_slot, ":script_param_1_giver_troop", ":script_param_1", slot_quest_giver_troop),
				(call_script, "script_change_debt_to_troop", ":script_param_1_giver_troop", 200),
				(assign, ":value", -5),
				(assign, ":value_2", -6),
			(else_try),
				(eq, ":script_param_1", "qst_collect_taxes"),
				(quest_get_slot, ":script_param_1_gold_reward", ":script_param_1", slot_quest_gold_reward),
				(quest_set_slot, ":script_param_1", slot_quest_gold_reward, 0),
				(quest_get_slot, ":script_param_1_giver_troop", ":script_param_1", slot_quest_giver_troop),
				(call_script, "script_change_debt_to_troop", ":script_param_1_giver_troop", ":script_param_1_gold_reward"),
				(assign, ":value", -4),
				(assign, ":value_2", -6),
			(else_try),
				(eq, ":script_param_1", "qst_hunt_down_fugitive"),
				(assign, ":value", -3),
				(assign, ":value_2", -4),
			(else_try),
				(eq, ":script_param_1", "qst_hunt_down_girl"),
				(assign, ":value", -3),
				(assign, ":value_2", -4),
				(quest_get_slot, ":hunt_down_girl_target_center", "qst_hunt_down_girl", slot_quest_target_center),
				(party_set_slot, ":hunt_down_girl_target_center", 40, 0),
			(else_try),
				(eq, ":script_param_1", "qst_hunt_down_smugglers"),
				(assign, ":value", -1),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", "qst_bar_brawl"),
			(else_try),
				(eq, ":script_param_1", "qst_kill_local_merchant"),
			(else_try),
				(eq, ":script_param_1", "qst_bring_back_runaway_serfs"),
				(assign, ":value", -1),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", "qst_lend_companion"),
			(else_try),
				(eq, ":script_param_1", "qst_collect_debt"),
				(try_begin),
					(quest_slot_eq, "qst_collect_debt", slot_quest_current_state, 1),
					(quest_get_slot, ":collect_debt_target_amount", "qst_collect_debt", slot_quest_target_amount),
					(quest_get_slot, ":collect_debt_giver_troop", "qst_collect_debt", slot_quest_giver_troop),
					(call_script, "script_change_debt_to_troop", ":collect_debt_giver_troop", ":collect_debt_target_amount"),
					(assign, ":value", -3),
					(assign, ":value_2", -6),
				(else_try),
					(assign, ":value", -3),
					(assign, ":value_2", -4),
				(try_end),
			(else_try),
				(eq, ":script_param_1", "qst_deal_with_bandits_at_lords_village"),
				(assign, ":value", -6),
				(assign, ":value_2", -6),
			(else_try),
				(eq, ":script_param_1", "qst_cause_provocation"),
				(assign, ":value", -10),
				(assign, ":value_2", -13),
			(else_try),
				(eq, ":script_param_1", "qst_persuade_lords_to_make_peace"),
				(assign, ":value", -10),
				(assign, ":value_2", -13),
			(else_try),
				(eq, ":script_param_1", "qst_deal_with_night_bandits"),
				(assign, ":value", -1),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", "qst_follow_spy"),
				(assign, ":value", -2),
				(assign, ":value_2", -3),
				(try_begin),
					(party_is_active, "$qst_follow_spy_spy_party"),
					(remove_party, "$qst_follow_spy_spy_party"),
				(try_end),
				(try_begin),
					(party_is_active, "$qst_follow_spy_spy_partners_party"),
					(remove_party, "$qst_follow_spy_spy_partners_party"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", "qst_capture_enemy_hero"),
				(assign, ":value", -3),
				(assign, ":value_2", -4),
			(else_try),
				(eq, ":script_param_1", "qst_incriminate_loyal_commander"),
				(assign, ":value", -5),
				(assign, ":value_2", -6),
			(else_try),
				(eq, ":script_param_1", "qst_lend_surgeon"),
			(else_try),
				(eq, ":script_param_1", "qst_rescue_lord_by_replace"),
				(assign, ":value", -1),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", "qst_deliver_message_to_prisoner_lord"),
				(assign, ":value", 0),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", "qst_duel_for_lady"),
				(assign, ":value", -1),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", "qst_follow_army"),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
			(else_try),
				(eq, ":script_param_1", "qst_deliver_cattle_to_army"),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
			(else_try),
				(eq, ":script_param_1", "qst_join_siege_with_army"),
				(assign, ":value", -1),
				(assign, ":value_2", -2),
			(else_try),
				(eq, ":script_param_1", "qst_scout_waypoints"),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
			(else_try),
				(eq, ":script_param_1", "qst_deliver_grain"),
				(assign, ":value", -6),
				(assign, ":value_2", -7),
			(else_try),
				(eq, ":script_param_1", "qst_deliver_lumber"),
				(assign, ":value", -6),
				(assign, ":value_2", -7),
			(else_try),
				(eq, ":script_param_1", "qst_escort_scholars"),
				(assign, ":value", -1),
				(assign, ":value_2", -3),
			(else_try),
				(eq, ":script_param_1", "qst_deliver_cattle"),
				(assign, ":value", -3),
				(assign, ":value_2", -4),
			(else_try),
				(eq, ":script_param_1", "qst_train_peasants_against_bandits"),
				(assign, ":value", -4),
				(assign, ":value_2", -5),
			(else_try),
				(eq, ":script_param_1", "qst_deliver_wine"),
				(assign, ":value", -1),
				(assign, ":value_2", -3),
				(val_add, "$debt_to_merchants_guild", "$qst_deliver_wine_debt"),
			(else_try),
				(eq, ":script_param_1", "qst_move_cattle_herd"),
				(assign, ":value", -1),
				(assign, ":value_2", -3),
			(else_try),
				(eq, ":script_param_1", "qst_escort_merchant_caravan"),
				(assign, ":value", -1),
				(assign, ":value_2", -3),
			(else_try),
				(eq, ":script_param_1", "qst_troublesome_bandits"),
				(assign, ":value", -1),
				(assign, ":value_2", -2),
			(else_try),
				(eq, ":script_param_1", "qst_cheese_rustlers"),
				(assign, ":value", -1),
				(assign, ":value_2", -2),
			(else_try),
				(eq, ":script_param_1", "qst_cheese_paladins"),
				(assign, ":value", -1),
				(assign, ":value_2", -2),
			(else_try),
				(eq, ":script_param_1", "qst_join_faction"),
				(assign, ":value", -3),
				(assign, ":value_2", -3),
				(try_begin),
					(call_script, "script_get_number_of_hero_centers", "trp_player"),
					(gt, reg0, 0),
					(call_script, "script_change_player_relation_with_faction", "$g_invite_faction", -10),
				(try_end),
				(try_begin),
					(quest_slot_eq, "qst_join_faction", slot_quest_failure_consequence, 1),
					(call_script, "script_diplomacy_start_war_between_kingdoms", "fac_player_supporters_faction", "$g_invite_faction", 0),
					(call_script, "script_change_player_honor", -5),
					(quest_set_slot, "qst_join_faction", slot_quest_failure_consequence, 0),
				(try_end),
				(assign, "$g_invite_faction", 0),
				(assign, "$g_invite_faction_lord", 0),
				(assign, "$g_invite_offered_center", 0),
			(else_try),
				(eq, ":script_param_1", "qst_eliminate_bandits_infesting_village"),
				(assign, ":value", -3),
				(assign, ":value_2", -3),
			(else_try),
				(ge, ":script_param_1", "qst_resolve_dispute"),
				(assign, ":value_3", -2),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
			(else_try),
				(ge, ":script_param_1", "qst_consult_with_minister"),
				(assign, ":value_3", -2),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
			(try_end),
			(try_begin),
				(gt, ":script_param_2", 0),
				(lt, ":script_param_1", "qst_resolve_dispute"),
				(quest_get_slot, ":collect_debt_giver_troop", ":script_param_1", slot_quest_giver_troop),
				(assign, ":value_4", ":value"),
				(try_begin),
					(eq, ":script_param_2", 2),
					(assign, ":value_4", ":value_2"),
				(try_end),
				(try_begin),
					(this_or_next|is_between, ":collect_debt_giver_troop", "trp_village_1_elder", "trp_merchants_end"),
					(is_between, ":collect_debt_giver_troop", "trp_town_1_mayor", "trp_village_1_elder"),
					(quest_get_slot, ":script_param_1_giver_center", ":script_param_1", slot_quest_giver_center),
					(call_script, "script_change_player_relation_with_center", ":script_param_1_giver_center", ":value_4"),
				(else_try),
					(call_script, "script_change_player_relation_with_troop", ":collect_debt_giver_troop", ":value_4"),
				(try_end),
			(try_end),
			(fail_quest, ":script_param_1"),
			(try_begin),
				(gt, ":script_param_2", 0),
				(neq, ":script_param_1", "qst_consult_with_minister"),
				(neq, ":script_param_1", "qst_resolve_dispute"),
				(neq, ":script_param_1", "qst_visit_lady"),
				(neq, ":script_param_1", "qst_formal_marriage_proposal"),
				(neq, ":script_param_1", "qst_duel_courtship_rival"),
				(neq, ":script_param_1", "qst_follow_army"),
				(neq, ":script_param_1", "qst_denounce_lord"),
				(neq, ":script_param_1", "qst_intrigue_against_lord"),
				(neq, ":script_param_1", "qst_offer_gift"),
				(neq, ":script_param_1", "qst_organize_feast"),
				(call_script, "script_objectionable_action", 4, "str_fail_quest"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "qst_resolve_dispute"),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(ge, ":players_kingdom_leader", 0),
				(this_or_next|troop_slot_eq, ":players_kingdom_leader", slot_troop_spouse, "trp_player"),
				(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, ":players_kingdom_leader"),
				(eq, ":players_kingdom_leader", "trp_player"),
				(call_script, "script_change_player_right_to_rule", ":value_3"),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(neg|troop_slot_ge, ":troop", 2, 11),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(this_or_next|eq, ":faction_of_troop_troop", "$players_kingdom"),
					(eq, ":faction_of_troop_troop", "fac_player_supporters_faction"),
					(call_script, "script_troop_change_relation_with_troop", ":troop", "trp_player", ":value_3"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "qst_organize_feast"),
				(call_script, "script_add_notification_menu", "mnu_notification_feast_quest_expired", 0, 0),
			(try_end),
			(call_script, "script_end_quest", ":script_param_1"),
			(try_begin),
				(is_between, ":script_param_1", "qst_freelancer_enlisted", "qst_freelancer_end"),
				(str_store_troop_name, 13, "$enlisted_lord"),
				(dialog_box, "@You have deserted from the party of {s13}!", "@Notice!"),
				(call_script, "script_freelancer_event_player_deserts"),
			(try_end)
		]),

	("cf_is_quest_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(try_for_range, ":number", 0, "qst_quests_end"),
				(check_quest_active, ":number"),
				(quest_get_slot, ":number_target_troop", ":number", slot_quest_target_troop),
				(quest_get_slot, ":number_object_troop", ":number", slot_quest_object_troop),
				(quest_get_slot, ":number_giver_troop", ":number", slot_quest_giver_troop),
				(this_or_next|eq, ":number_target_troop", ":script_param_1"),
				(this_or_next|eq, ":number_object_troop", ":script_param_1"),
				(eq, ":number_giver_troop", ":script_param_1"),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 1)
		]),

	("check_friendly_kills",
		[
			(get_player_agent_own_troop_kill_count, ":player_agent_own_troop_kill_count"),
			(try_begin),
				(neq, "$g_player_current_own_troop_kills", ":player_agent_own_troop_kill_count"),
				(val_sub, ":player_agent_own_troop_kill_count", "$g_player_current_own_troop_kills"),
				(val_add, "$g_player_current_own_troop_kills", ":player_agent_own_troop_kill_count"),
				(val_mul, ":player_agent_own_troop_kill_count", -1),
				(call_script, "script_change_player_party_morale", ":player_agent_own_troop_kill_count"),
			(try_end)
		]),

	("simulate_retreat",
		[
			(call_script, "script_music_set_situation_with_culture", 32768),
			(set_show_messages, 0),
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", 0),
			(assign, ":var_5", 0),
			(assign, ":value", 1),
			(try_begin),
				(try_for_agents, ":value_2"),
					(agent_is_human, ":value_2"),
					(agent_is_alive, ":value_2"),
					(agent_set_slot, ":value_2", slot_agent_is_alive_before_retreat, 1),
					(agent_get_troop_id, ":troop_id_value_2", ":value_2"),
					(store_character_level, ":character_level_troop_id_value_2", ":troop_id_value_2"),
					(val_add, ":character_level_troop_id_value_2", 5),
					(try_begin),
						(troop_is_hero, ":troop_id_value_2"),
						(val_add, ":character_level_troop_id_value_2", 5),
					(try_end),
					(try_begin),
						(agent_is_ally, ":value_2"),
						(val_add, ":var_4", ":character_level_troop_id_value_2"),
					(else_try),
						(val_add, ":var_5", ":character_level_troop_id_value_2"),
					(try_end),
				(try_end),
				(eq, "$pin_player_fallen", 0),
				(lt, ":var_5", ":var_4"),
				(eq, ":script_param_3", 1),
				(assign, ":value", 0),
			(try_end),
			(try_begin),
				(eq, ":value", 1),
				(assign, "$g_last_mission_player_damage", 0),
				(party_clear, "p_temp_party"),
				(party_clear, "p_temp_party_2"),
				(call_script, "script_simulate_battle_with_agents_aux", 0, ":script_param_1"),
				(call_script, "script_simulate_battle_with_agents_aux", 1, ":script_param_2"),
				(assign, ":value_3", 0),
				(try_begin),
					(gt, "$g_last_mission_player_damage", 0),
					(assign, ":value_3", 1),
					(assign, reg1, "$g_last_mission_player_damage"),
					(str_store_string, 12, "str_casualty_display_hp"),
				(else_try),
					(str_clear, 12),
				(try_end),
				(call_script, "script_print_casualties_to_s0", "p_temp_party", 1),
				(try_begin),
					(party_get_num_companion_stacks, ":num_companion_stacks_temp_party", "p_temp_party"),
					(gt, ":num_companion_stacks_temp_party", 0),
					(assign, ":value_3", 1),
				(try_end),
				(str_store_string_reg, 10, 0),
				(call_script, "script_print_casualties_to_s0", "p_temp_party_2", 1),
				(try_begin),
					(party_get_num_companion_stacks, ":num_companion_stacks_temp_party", "p_temp_party_2"),
					(gt, ":num_companion_stacks_temp_party", 0),
					(assign, ":value_3", 1),
				(try_end),
				(str_store_string_reg, 11, 0),
				(try_begin),
					(eq, ":value_3", 1),
					(dialog_box, "str_casualty_display", 5),
				(try_end),
			(try_end),
			(set_show_messages, 1),
			(assign, ":var_12", 0),
			(assign, ":var_13", 0),
			(assign, ":var_14", 0),
			(try_for_agents, ":value_2"),
				(agent_is_human, ":value_2"),
				(try_begin),
					(agent_is_ally, ":value_2"),
					(val_add, ":var_14", 1),
					(try_begin),
						(neg|agent_is_alive, ":value_2"),
						(val_add, ":var_12", 1),
					(try_end),
				(else_try),
					(neg|agent_is_alive, ":value_2"),
					(val_add, ":var_13", 1),
				(try_end),
			(try_end),
			(store_add, ":value_4", ":var_12", ":var_13"),
			(try_begin),
				(gt, ":value_4", 0),
				(store_mul, ":value_5", ":var_12", 100),
				(val_div, ":value_5", ":value_4"),
				(val_mul, ":value_5", ":var_12"),
				(val_div, ":value_5", ":var_14"),
				(val_mul, ":value_5", -30),
				(val_div, ":value_5", 100),
				(call_script, "script_change_player_party_morale", ":value_5"),
			(try_end)
		]),

	("simulate_battle_with_agents_aux",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(get_player_agent_no, ":player_agent_no"),
			(try_for_agents, ":var_4"),
				(neq, ":player_agent_no", ":var_4"),
				(agent_is_human, ":var_4"),
				(agent_slot_eq, ":var_4", slot_agent_is_alive_before_retreat, 1),
				(try_begin),
					(agent_is_ally, ":var_4"),
					(assign, ":value", 0),
				(else_try),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", ":script_param_1"),
				(agent_get_position, 2, ":var_4"),
				(assign, ":value_2", -1),
				(assign, ":value_3", 100000),
				(try_for_agents, ":var_8"),
					(agent_is_human, ":var_8"),
					(agent_is_alive, ":var_8"),
					(try_begin),
						(agent_is_ally, ":var_8"),
						(assign, ":value_4", 0),
					(else_try),
						(assign, ":value_4", 1),
					(try_end),
					(this_or_next|neq, ":var_8", ":player_agent_no"),
					(eq, "$pin_player_fallen", 0),
					(neq, ":script_param_1", ":value_4"),
					(agent_get_position, 3, ":var_8"),
					(get_distance_between_positions, ":distance_between_positions_2_3", 2, 3),
					(lt, ":distance_between_positions_2_3", ":value_3"),
					(assign, ":value_3", ":distance_between_positions_2_3"),
					(assign, ":value_2", ":var_8"),
				(try_end),
				(ge, ":value_2", 0),
				(agent_get_class, ":class_var_4", ":var_4"),
				(assign, ":value_5", 1),
				(assign, ":value_6", 0),
				(try_begin),
					(eq, ":class_var_4", 1),
					(assign, ":value_6", 2),
				(else_try),
					(eq, ":class_var_4", 2),
					(assign, ":value_5", 2),
				(try_end),
				(agent_get_class, ":class_var_4", ":value_2"),
				(assign, ":value_7", 1),
				(try_begin),
					(eq, ":class_var_4", 2),
					(assign, ":value_7", 2),
				(try_end),
				(assign, ":var_15", 18000),
				(val_add, ":value_3", 3000),
				(val_div, ":var_15", ":value_3"),
				(val_mul, ":var_15", 2),
				(val_mul, ":var_15", ":value_5"),
				(val_div, ":var_15", ":value_7"),
				(val_add, ":var_15", ":value_6"),
				(assign, ":var_16", ":script_param_2"),
				(agent_get_troop_id, ":troop_id_value_2", ":value_2"),
				(agent_get_troop_id, ":troop_id_var_4", ":var_4"),
				(store_character_level, ":character_level_troop_id_value_2", ":troop_id_value_2"),
				(store_character_level, ":character_level_troop_id_var_4", ":troop_id_var_4"),
				(store_sub, ":value_8", ":character_level_troop_id_var_4", ":character_level_troop_id_value_2"),
				(val_div, ":value_8", 5),
				(val_add, ":var_16", ":value_8"),
				(try_begin),
					(eq, ":value_2", ":player_agent_no"),
					(val_div, ":var_16", 2),
					(store_agent_hit_points, ":agent_hit_points_player_agent_no_1", ":player_agent_no", 1),
				(try_end),
				(try_for_range, ":unused", 0, ":var_15"),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", ":var_16"),
					(agent_deliver_damage_to_agent, ":var_4", ":value_2"),
				(try_end),
				(try_begin),
					(eq, ":value_2", ":player_agent_no"),
					(store_agent_hit_points, ":agent_hit_points_player_agent_no_1_2", ":player_agent_no", 1),
					(store_sub, ":value_9", ":agent_hit_points_player_agent_no_1", ":agent_hit_points_player_agent_no_1_2"),
					(val_add, "$g_last_mission_player_damage", ":value_9"),
				(try_end),
				(neg|agent_is_alive, ":value_2"),
				(try_begin),
					(eq, ":script_param_1", 1),
					(party_add_members, "p_temp_party", ":troop_id_value_2", 1),
					(try_begin),
						(agent_is_wounded, ":value_2"),
						(party_wound_members, "p_temp_party", ":troop_id_value_2", 1),
					(try_end),
				(else_try),
					(party_add_members, "p_temp_party_2", ":troop_id_value_2", 1),
					(try_begin),
						(agent_is_wounded, ":value_2"),
						(party_wound_members, "p_temp_party_2", ":troop_id_value_2", 1),
					(try_end),
				(try_end),
			(try_end)
		]),

	("map_get_random_position_around_position_within_range",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(val_mul, ":script_param_1", 100),
			(assign, ":value", 1),
			(try_for_range, ":unused", 0, 20),
				(eq, ":value", 1),
				(map_get_random_position_around_position, 2, 1, ":script_param_2"),
				(get_distance_between_positions, ":distance_between_positions_2_1", 2, 1),
				(ge, ":distance_between_positions_2_1", ":script_param_1"),
				(assign, ":value", 0),
			(try_end)
		]),

	("get_number_of_unclaimed_centers_by_player",
		[
			(assign, ":var_1", 0),
			(assign, reg1, -1),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
				(party_slot_eq, ":party", slot_town_claimed_by_player, 0),
				(party_get_num_companion_stacks, ":num_companion_stacks_party", ":party"),
				(ge, ":num_companion_stacks_party", 1),
				(assign, reg1, ":party"),
				(val_add, ":var_1", 1),
			(try_end),
			(assign, reg0, ":var_1")
		]),

	("cf_troop_check_troop_is_enemy",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2"),
			(lt, reg0, -10)
		]),

	("troop_get_leaded_center_with_index",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", -1),
			(assign, ":var_4", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(eq, ":value", -1),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(val_add, ":var_4", 1),
				(gt, ":var_4", ":script_param_2"),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_troop_get_random_leaded_walled_center_with_less_strength_priority",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", 0),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
				(val_add, ":var_3", 1),
				(try_begin),
					(eq, ":party", ":script_param_2"),
					(val_add, ":var_3", 99),
				(try_end),
			(try_end),
			(gt, ":var_3", 0),
			(store_random_in_range, ":random_in_range_0_var_3", 0, ":var_3"),
			(assign, ":value", -1),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(eq, ":value", -1),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
				(val_sub, ":random_in_range_0_var_3", 1),
				(try_begin),
					(eq, ":party", ":script_param_2"),
					(val_sub, ":random_in_range_0_var_3", 99),
				(try_end),
				(lt, ":random_in_range_0_var_3", 0),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_troop_get_random_leaded_town_or_village_except_center",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":var_3", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(neg|party_slot_eq, ":party", slot_party_type, 2),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(neq, ":party", ":script_param_2"),
				(val_add, ":var_3", 1),
			(try_end),
			(gt, ":var_3", 0),
			(store_random_in_range, ":random_in_range_0_var_3", 0, ":var_3"),
			(assign, ":value", "p_salt_mine"),
			(try_for_range, ":party", "p_town_1", ":value"),
				(neg|party_slot_eq, ":party", slot_party_type, 2),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(neq, ":party", ":script_param_2"),
				(val_sub, ":random_in_range_0_var_3", 1),
				(lt, ":random_in_range_0_var_3", 0),
				(assign, ":var_7", ":party"),
				(assign, ":value", 0),
			(try_end),
			(assign, reg0, ":var_7")
		]),

	("troop_write_owned_centers_to_s2",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_get_number_of_hero_centers", ":script_param_1"),
			(assign, ":var_2", reg0),
			(str_store_troop_name, 5, ":script_param_1"),
			(try_begin),
				(gt, ":var_2", 1),
				(try_for_range, ":number", 1, ":var_2"),
					(call_script, "script_troop_get_leaded_center_with_index", ":script_param_1", ":number"),
					(str_store_party_name_link, 50, reg0),
					(try_begin),
						(eq, ":number", 1),
						(call_script, "script_troop_get_leaded_center_with_index", ":script_param_1", 0),
						(str_store_party_name_link, 51, reg0),
						(str_store_string, 51, "str_s50_and_s51"),
					(else_try),
						(str_store_string, 51, "str_s50_comma_s51"),
					(try_end),
				(try_end),
				(str_store_string, 2, "str_s5_is_the_ruler_of_s51"),
			(else_try),
				(eq, ":var_2", 1),
				(call_script, "script_troop_get_leaded_center_with_index", ":script_param_1", 0),
				(str_store_party_name_link, 51, reg0),
				(str_store_string, 2, "str_s5_is_the_ruler_of_s51"),
			(else_try),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(str_store_faction_name_link, 6, ":faction_of_troop_script_param_1"),
				(assign, ":var_5", reg4),
				(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 4),
				(str_store_string, 2, "str_s5_is_a_nobleman_of_s6"),
				(assign, reg4, ":var_5"),
			(try_end)
		]),

	("troop_write_family_relations_to_s1",
		[
			(str_clear, 1)
		]),

	("troop_get_family_relation_to_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
			(assign, ":var_3", reg0),
			(assign, ":value", 0),
			(troop_get_slot, ":script_param_1_spouse", ":script_param_1", slot_troop_spouse),
			(troop_get_slot, ":script_param_2_spouse", ":script_param_2", slot_troop_spouse),
			(try_begin),
				(gt, ":script_param_1_spouse", -1),
				(troop_get_slot, ":script_param_1_spouse_father", ":script_param_1_spouse", slot_troop_father),
			(else_try),
				(assign, ":script_param_1_spouse_father", -1),
			(try_end),
			(try_begin),
				(gt, ":script_param_2_spouse", -1),
				(troop_get_slot, ":script_param_2_spouse_father", ":script_param_2_spouse", slot_troop_father),
			(else_try),
				(assign, ":script_param_2_spouse_father", -1),
			(try_end),
			(try_begin),
				(gt, ":script_param_2_spouse", -1),
				(troop_get_slot, ":script_param_2_spouse_mother", ":script_param_2_spouse", slot_troop_mother),
			(else_try),
				(assign, ":script_param_2_spouse_mother", -1),
			(try_end),
			(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_father),
			(troop_get_slot, ":script_param_2_father", ":script_param_2", slot_troop_father),
			(troop_get_slot, ":script_param_1_mother", ":script_param_1", slot_troop_mother),
			(troop_get_slot, ":script_param_2_mother", ":script_param_2", slot_troop_mother),
			(try_begin),
				(this_or_next|eq, ":script_param_1_father", "trp_player"),
				(is_between, ":script_param_1_father", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":script_param_1_father_father", ":script_param_1_father", slot_troop_father),
				(troop_get_slot, ":script_param_1_father_mother", ":script_param_1_father", slot_troop_mother),
			(else_try),
				(assign, ":script_param_1_father_father", -1),
				(assign, ":script_param_1_father_mother", -1),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_2_father", "trp_player"),
				(is_between, ":script_param_2_father", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":script_param_2_father_father", ":script_param_2_father", slot_troop_father),
				(troop_get_slot, ":script_param_2_father_mother", ":script_param_2_father", slot_troop_mother),
			(else_try),
				(assign, ":script_param_2_father_father", -1),
				(assign, ":script_param_2_father_mother", -1),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_1_mother", "trp_player"),
				(is_between, ":script_param_1_mother", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":script_param_1_mother_father", ":script_param_1_mother", slot_troop_father),
				(troop_get_slot, ":script_param_1_mother_mother", ":script_param_1_mother", slot_troop_mother),
			(else_try),
				(assign, ":script_param_1_mother_father", -1),
				(assign, ":script_param_1_mother_mother", -1),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_2_mother", "trp_player"),
				(is_between, ":script_param_2_mother", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":script_param_2_mother_father", ":script_param_2_mother", slot_troop_father),
				(troop_get_slot, ":script_param_2_mother_mother", ":script_param_2_mother", slot_troop_mother),
			(else_try),
				(assign, ":script_param_2_mother_father", -1),
				(assign, ":script_param_2_mother_mother", -1),
			(try_end),
			(troop_get_slot, ":script_param_1_guardian", ":script_param_1", slot_troop_guardian),
			(troop_get_slot, ":script_param_2_guardian", ":script_param_2", slot_troop_guardian),
			(str_store_string, 11, "str_no_relation"),
			(try_begin),
				(eq, ":script_param_1", ":script_param_2"),
			(else_try),
				(this_or_next|eq, ":script_param_2_spouse", ":script_param_1"),
				(eq, ":script_param_1_spouse", ":script_param_2"),
				(assign, ":value", 20),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_wife"),
				(else_try),
					(str_store_string, 11, "str_husband"),
				(try_end),
			(else_try),
				(eq, ":script_param_2_father", ":script_param_1"),
				(assign, ":value", 15),
				(str_store_string, 11, "str_father"),
			(else_try),
				(eq, ":script_param_2_mother", ":script_param_1"),
				(assign, ":value", 15),
				(str_store_string, 11, "str_mother"),
			(else_try),
				(this_or_next|eq, ":script_param_1_father", ":script_param_2"),
				(eq, ":script_param_1_mother", ":script_param_2"),
				(assign, ":value", 15),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_daughter"),
				(else_try),
					(str_store_string, 11, "str_son"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_father", -1),
				(eq, ":script_param_1_father", ":script_param_2_father"),
				(neq, ":script_param_1_mother", ":script_param_2_mother"),
				(assign, ":value", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_dplmc_half_sister"),
				(else_try),
					(str_store_string, 11, "str_dplmc_half_brother"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_mother", -1),
				(eq, ":script_param_1_mother", ":script_param_2_mother"),
				(neq, ":script_param_1_father", ":script_param_2_father"),
				(assign, ":value", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_dplmc_half_sister"),
				(else_try),
					(str_store_string, 11, "str_dplmc_half_brother"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_father", -1),
				(eq, ":script_param_1_father", ":script_param_2_father"),
				(assign, ":value", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_sister"),
				(else_try),
					(str_store_string, 11, "str_brother"),
				(try_end),
			(else_try),
				(eq, ":script_param_2_guardian", ":script_param_1"),
				(assign, ":value", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_sister"),
				(else_try),
					(str_store_string, 11, "str_brother"),
				(try_end),
			(else_try),
				(eq, ":script_param_1_guardian", ":script_param_2"),
				(assign, ":value", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_sister"),
				(else_try),
					(str_store_string, 11, "str_brother"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_spouse", -1),
				(eq, ":script_param_2_spouse", ":script_param_1_spouse"),
				(assign, ":value", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_dplmc_sister_wife"),
				(else_try),
					(str_store_string, 11, "str_dplmc_co_husband"),
				(try_end),
			(else_try),
				(neq, ":script_param_2_father", -1),
				(this_or_next|eq, ":script_param_1_mother_father", ":script_param_2_father"),
				(eq, ":script_param_1_father_father", ":script_param_2_father"),
				(assign, ":value", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_niece"),
				(else_try),
					(str_store_string, 11, "str_nephew"),
				(try_end),
			(else_try),
				(neq, ":script_param_2_mother", -1),
				(this_or_next|eq, ":script_param_1_mother_mother", ":script_param_2_mother"),
				(eq, ":script_param_1_father_mother", ":script_param_2_mother"),
				(assign, ":value", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_niece"),
				(else_try),
					(str_store_string, 11, "str_nephew"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_father", -1),
				(this_or_next|eq, ":script_param_2_mother_father", ":script_param_1_father"),
				(eq, ":script_param_2_father_father", ":script_param_1_father"),
				(assign, ":value", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_aunt"),
				(else_try),
					(str_store_string, 11, "str_uncle"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_mother", -1),
				(this_or_next|eq, ":script_param_2_mother_mother", ":script_param_1_mother"),
				(eq, ":script_param_2_father_mother", ":script_param_1_mother"),
				(assign, ":value", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_aunt"),
				(else_try),
					(str_store_string, 11, "str_uncle"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_father_father", -1),
				(this_or_next|eq, ":script_param_2_mother_father", ":script_param_1_father_father"),
				(eq, ":script_param_2_father_father", ":script_param_1_father_father"),
				(assign, ":value", 2),
				(str_store_string, 11, "str_cousin"),
			(else_try),
				(neq, ":script_param_1_mother_father", -1),
				(this_or_next|eq, ":script_param_2_mother_father", ":script_param_1_mother_father"),
				(eq, ":script_param_2_father_father", ":script_param_1_mother_father"),
				(assign, ":value", 2),
				(str_store_string, 11, "str_cousin"),
			(else_try),
				(neq, ":script_param_1_father_mother", -1),
				(this_or_next|eq, ":script_param_2_mother_mother", ":script_param_1_father_mother"),
				(eq, ":script_param_2_father_mother", ":script_param_1_father_mother"),
				(assign, ":value", 2),
				(str_store_string, 11, "str_cousin"),
			(else_try),
				(neq, ":script_param_1_mother_mother", -1),
				(this_or_next|eq, ":script_param_2_mother_mother", ":script_param_1_mother_mother"),
				(eq, ":script_param_2_father_mother", ":script_param_1_mother_mother"),
				(assign, ":value", 2),
				(str_store_string, 11, "str_cousin"),
			(else_try),
				(eq, ":script_param_1_spouse_father", ":script_param_2"),
				(assign, ":value", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_daughterinlaw"),
				(else_try),
					(str_store_string, 11, "str_soninlaw"),
				(try_end),
			(else_try),
				(eq, ":script_param_2_spouse_father", ":script_param_1"),
				(assign, ":value", 5),
				(str_store_string, 11, "str_fatherinlaw"),
			(else_try),
				(eq, ":script_param_2_spouse_mother", ":script_param_1"),
				(neq, ":script_param_2_spouse_mother", "trp_player"),
				(assign, ":value", 5),
				(str_store_string, 11, "str_motherinlaw"),
			(else_try),
				(neq, ":script_param_1_spouse_father", -1),
				(eq, ":script_param_1_spouse_father", ":script_param_2_father"),
				(assign, ":value", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_sisterinlaw"),
				(else_try),
					(str_store_string, 11, "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":script_param_2_spouse_father", -1),
				(eq, ":script_param_2_spouse_father", ":script_param_1_father"),
				(assign, ":value", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_sisterinlaw"),
				(else_try),
					(str_store_string, 11, "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":script_param_2_spouse", -1),
				(troop_slot_eq, ":script_param_2_spouse", slot_troop_guardian, ":script_param_1"),
				(assign, ":value", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_sisterinlaw"),
				(else_try),
					(str_store_string, 11, "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_spouse", -1),
				(troop_slot_eq, ":script_param_1_spouse", slot_troop_guardian, ":script_param_2"),
				(assign, ":value", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_sisterinlaw"),
				(else_try),
					(str_store_string, 11, "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":script_param_2", -1),
				(this_or_next|eq, ":script_param_1_father_father", ":script_param_2"),
				(this_or_next|eq, ":script_param_1_mother_father", ":script_param_2"),
				(this_or_next|eq, ":script_param_1_father_mother", ":script_param_2"),
				(eq, ":script_param_1_mother_mother", ":script_param_2"),
				(assign, ":value", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_dplmc_granddaughter"),
				(else_try),
					(str_store_string, 11, "str_dplmc_grandson"),
				(try_end),
			(else_try),
				(neq, ":script_param_1", -1),
				(this_or_next|eq, ":script_param_2_father_father", ":script_param_1"),
				(this_or_next|eq, ":script_param_2_mother_father", ":script_param_1"),
				(this_or_next|eq, ":script_param_2_father_mother", ":script_param_1"),
				(eq, ":script_param_2_mother_mother", ":script_param_1"),
				(assign, ":value", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_dplmc_grandmother"),
				(else_try),
					(str_store_string, 11, "str_dplmc_grandfather"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(neq, ":script_param_1", ":script_param_2"),
				(try_begin),
					(this_or_next|eq, ":script_param_1", "trp_kingdom_9_lord"),
					(eq, ":script_param_1", "trp_knight_9_2"),
					(this_or_next|eq, ":script_param_2", "trp_kingdom_9_lord"),
					(eq, ":script_param_2", "trp_knight_9_2"),
					(assign, ":value", 1),
					(str_store_string, 11, "str_cousin"),
				(else_try),
					(this_or_next|eq, ":script_param_1", "trp_knight_9_8"),
					(eq, ":script_param_1", "trp_knight_9_2"),
					(this_or_next|eq, ":script_param_2", "trp_knight_9_8"),
					(eq, ":script_param_2", "trp_knight_9_2"),
					(assign, ":value", 1),
					(str_store_string, 11, "str_cousin"),
				(else_try),
					(this_or_next|eq, ":script_param_1", "trp_kingdom_8_lord"),
					(eq, ":script_param_1", "trp_knight_8_12"),
					(this_or_next|eq, ":script_param_2", "trp_kingdom_8_lord"),
					(eq, ":script_param_2", "trp_knight_8_12"),
					(assign, ":value", 2),
					(str_store_string, 11, "str_cousin"),
				(else_try),
					(this_or_next|eq, ":script_param_1", "trp_kingdom_1_lord"),
					(eq, ":script_param_1", "trp_knight_8_12"),
					(this_or_next|eq, ":script_param_2", "trp_kingdom_1_lord"),
					(eq, ":script_param_2", "trp_knight_8_12"),
					(assign, ":value", 2),
					(str_store_string, 11, "str_cousin"),
					(try_begin),
						(troop_slot_eq, ":script_param_1", slot_troop_father, -1),
						(troop_slot_eq, ":script_param_2", slot_troop_father, -1),
						(store_mul, ":value_2", "trp_kingdom_3_lord", -4),
						(val_add, ":value_2", -1),
						(troop_set_slot, ":script_param_1", slot_troop_father, ":value_2"),
						(troop_set_slot, ":script_param_2", slot_troop_father, ":value_2"),
						(try_begin),
							(troop_slot_eq, ":script_param_1", slot_troop_mother, -1),
							(store_mul, reg0, ":script_param_1", -4),
							(val_add, reg0, -4),
							(troop_set_slot, ":script_param_1", slot_troop_mother, reg0),
						(try_end),
						(try_begin),
							(troop_slot_eq, ":script_param_2", slot_troop_mother, -1),
							(store_mul, reg0, ":script_param_2", -4),
							(val_add, reg0, -4),
							(troop_set_slot, ":script_param_2", slot_troop_mother, reg0),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(lt, ":value", 2),
				(ge, ":script_param_1_spouse", 0),
				(neg|troop_slot_eq, ":script_param_1_spouse", slot_troop_father, -1),
				(this_or_next|troop_slot_eq, ":script_param_1_spouse", slot_troop_father, ":script_param_2_father_father"),
				(troop_slot_eq, ":script_param_1_spouse", slot_troop_father, ":script_param_2_mother_father"),
				(assign, ":value", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_aunt"),
				(else_try),
					(str_store_string, 11, "str_uncle"),
				(try_end),
			(else_try),
				(lt, ":value", 2),
				(ge, ":script_param_1_spouse", 0),
				(neg|troop_slot_eq, ":script_param_1_spouse", slot_troop_mother, -1),
				(this_or_next|troop_slot_eq, ":script_param_1_spouse", slot_troop_mother, ":script_param_2_father_mother"),
				(troop_slot_eq, ":script_param_1_spouse", slot_troop_mother, ":script_param_2_mother_mother"),
				(assign, ":value", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_aunt"),
				(else_try),
					(str_store_string, 11, "str_uncle"),
				(try_end),
			(else_try),
				(lt, ":value", 2),
				(ge, ":script_param_2_spouse", 0),
				(neg|troop_slot_eq, ":script_param_2_spouse", slot_troop_father, -1),
				(this_or_next|troop_slot_eq, ":script_param_2_spouse", slot_troop_father, ":script_param_1_father_father"),
				(troop_slot_eq, ":script_param_2_spouse", slot_troop_father, ":script_param_1_mother_father"),
				(assign, ":value", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_niece"),
				(else_try),
					(str_store_string, 11, "str_nephew"),
				(try_end),
			(else_try),
				(lt, ":value", 2),
				(ge, ":script_param_2_spouse", 0),
				(neg|troop_slot_eq, ":script_param_2_spouse", slot_troop_mother, -1),
				(this_or_next|troop_slot_eq, ":script_param_2_spouse", slot_troop_mother, ":script_param_1_father_mother"),
				(troop_slot_eq, ":script_param_2_spouse", slot_troop_mother, ":script_param_1_mother_mother"),
				(assign, ":value", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(str_store_string, 11, "str_niece"),
				(else_try),
					(str_store_string, 11, "str_nephew"),
				(try_end),
			(try_end),
			(assign, reg4, ":var_3"),
			(assign, reg0, ":value")
		]),

	("collect_friendly_parties",
		[
			(party_collect_attachments_to_party, "p_main_party", "p_collective_friends"),
			(try_begin),
				(gt, "$g_ally_party", 0),
				(party_collect_attachments_to_party, "$g_ally_party", "p_temp_party"),
				(assign, "$g_move_heroes", 1),
				(call_script, "script_party_add_party", "p_collective_friends", "p_temp_party"),
			(try_end)
		]),

	("encounter_calculate_fit",
		[
			(call_script, "script_party_count_fit_for_battle", "p_main_party"),
			(call_script, "script_collect_friendly_parties"),
			(call_script, "script_party_count_fit_for_battle", "p_collective_friends"),
			(assign, "$g_friend_fit_for_battle", reg0),
			(party_clear, "p_collective_ally"),
			(try_begin),
				(gt, "$g_ally_party", 0),
				(party_is_active, "$g_ally_party"),
				(party_collect_attachments_to_party, "$g_ally_party", "p_collective_ally"),
			(try_end),
			(party_clear, "p_collective_enemy"),
			(try_begin),
				(party_is_active, "$g_enemy_party"),
				(party_collect_attachments_to_party, "$g_enemy_party", "p_collective_enemy"),
			(try_end),
			(call_script, "script_party_count_fit_for_battle", "p_collective_enemy"),
			(assign, "$g_enemy_fit_for_battle", reg0),
			(assign, reg11, "$g_enemy_fit_for_battle"),
			(assign, reg10, "$g_friend_fit_for_battle")
		]),

	("encounter_init_variables",
		[
			(assign, "$capture_screen_shown", 0),
			(assign, "$loot_screen_shown", 0),
			(assign, "$thanked_by_ally_leader", 0),
			(assign, "$g_battle_result", 0),
			(assign, "$cant_leave_encounter", 0),
			(assign, "$cant_talk_to_enemy", 0),
			(assign, "$last_defeated_hero", 0),
			(assign, "$last_freed_hero", 0),
			(call_script, "script_encounter_calculate_fit"),
			(call_script, "script_party_copy", "p_main_party_backup", "p_main_party"),
			(assign, ":value", -1),
			(try_begin),
				(eq, "$g_dplmc_terrain_advantage", 0),
				(lt, "$g_encounter_is_in_village", 1),
				(try_begin),
					(encountered_party_is_attacker),
					(call_script, "script_dplmc_get_terrain_code_for_battle", "$g_encountered_party", "p_main_party"),
				(else_try),
					(call_script, "script_dplmc_get_terrain_code_for_battle", "p_main_party", "$g_encountered_party"),
				(try_end),
				(assign, ":value", reg0),
				(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_main_party", ":value", 0, 1),
				(assign, "$g_starting_strength_main_party", reg0),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg2, ":value"),
					(display_message, "@{!}DEBUG - Main party raw strength {reg1}, terrain code {reg2}, modified strength {reg0}"),
				(try_end),
				(call_script, "script_party_copy", "p_encountered_party_backup", "p_collective_enemy"),
				(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_collective_enemy", ":value", 0, 1),
				(assign, "$g_starting_strength_enemy_party", reg0),
				(assign, "$g_strength_contribution_of_player", 100),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg2, ":value"),
					(display_message, "@{!} DEBUG - Enemy party raw strength {reg1}, terrain code {reg2}, modified strength {reg0}"),
				(try_end),
				(call_script, "script_party_copy", "p_collective_friends_backup", "p_collective_friends"),
				(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_collective_friends", ":value", 0, 1),
				(assign, "$g_starting_strength_friends", reg0),
			(else_try),
				(call_script, "script_party_calculate_strength", "p_main_party", 0),
				(assign, "$g_starting_strength_main_party", reg0),
				(call_script, "script_party_copy", "p_encountered_party_backup", "p_collective_enemy"),
				(call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
				(assign, "$g_starting_strength_enemy_party", reg0),
				(assign, "$g_strength_contribution_of_player", 100),
				(call_script, "script_party_copy", "p_collective_friends_backup", "p_collective_friends"),
				(call_script, "script_party_calculate_strength", "p_collective_friends", 0),
				(assign, "$g_starting_strength_friends", reg0),
			(try_end),
			(store_mul, "$g_strength_contribution_of_player", "$g_starting_strength_main_party", 100),
			(try_begin),
				(eq, "$freelancer_state", 1),
				(store_character_level, "$g_strength_contribution_of_player", "$player_cur_troop"),
				(val_div, "$g_strength_contribution_of_player", 3),
				(val_max, "$g_strength_contribution_of_player", 3),
			(else_try),
				(gt, "$g_starting_strength_friends", 0),
				(val_div, "$g_strength_contribution_of_player", "$g_starting_strength_friends"),
			(else_try),
				(assign, "$g_strength_contribution_of_player", 100),
			(try_end),
			(party_clear, "p_routed_enemies"),
			(assign, "$num_routed_us", 0),
			(assign, "$num_routed_allies", 0),
			(assign, "$num_routed_enemies", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(try_begin),
					(troop_set_slot, ":party_stack_troop_id_main_party_number", slot_troop_player_routed_agents, 0),
				(try_end),
			(try_end),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_collective_friends"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_collective_friends", ":number"),
				(try_begin),
					(troop_set_slot, ":party_stack_troop_id_main_party_number", slot_troop_ally_routed_agents, 0),
				(try_end),
			(try_end),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_collective_enemy"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_collective_enemy", ":number"),
				(try_begin),
					(troop_set_slot, ":party_stack_troop_id_main_party_number", slot_troop_enemy_routed_agents, 0),
				(try_end),
			(try_end),
			(try_for_range, ":number_2", 31, 52),
				(faction_set_slot, ":number_2", slot_faction_num_routed_agents, 0),
			(try_end),
			(assign, "$routed_party_added", 0),
			(party_clear, "p_total_enemy_casualties")
		]),

	("calculate_renown_value",
		[
			(assign, ":value", 1),
			(assign, ":value_2", 1),
			(assign, ":value_3", 1),
			(assign, ":value_4", -1),
			(try_begin),
				(eq, "$g_dplmc_terrain_advantage", 0),
				(try_begin),
					(encountered_party_is_attacker),
					(call_script, "script_dplmc_get_terrain_code_for_battle", "$g_encountered_party", "p_main_party"),
				(else_try),
					(call_script, "script_dplmc_get_terrain_code_for_battle", "p_main_party", "$g_encountered_party"),
				(try_end),
				(assign, ":value_4", reg0),
				(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_main_party", ":value_4", 0, 1),
				(assign, ":value", reg1),
				(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_collective_enemy", ":value_4", 0, 1),
				(assign, ":value_2", reg1),
				(call_script, "script_dplmc_party_calculate_strength_in_terrain", "p_collective_friends", ":value_4", 0, 1),
				(assign, ":value_3", reg1),
			(else_try),
				(call_script, "script_party_calculate_strength", "p_main_party", 0),
				(assign, ":value", reg0),
				(call_script, "script_party_calculate_strength", "p_collective_enemy", 0),
				(assign, ":value_2", reg0),
				(call_script, "script_party_calculate_strength", "p_collective_friends", 0),
				(assign, ":value_3", reg0),
			(try_end),
			(val_add, ":value_3", 1),
			(store_mul, ":value_5", ":value_2", 100),
			(val_div, ":value_5", ":value_3"),
			(assign, ":var_6", ":value_2"),
			(val_mul, ":var_6", ":value_5"),
			(val_div, ":var_6", 100),
			(val_mul, ":var_6", ":value"),
			(val_div, ":var_6", ":value_3"),
			(store_div, "$battle_renown_value", ":var_6", 5),
			(val_min, "$battle_renown_value", 2500),
			(convert_to_fixed_point, "$battle_renown_value"),
			(store_sqrt, "$battle_renown_value", "$battle_renown_value"),
			(convert_from_fixed_point, "$battle_renown_value"),
			(assign, reg8, "$battle_renown_value"),
			(display_message, "@Renown value for this battle is {reg8}.", 0xffffffff)
		]),

	("cf_get_first_agent_with_troop_id",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(try_for_agents, ":var_3"),
				(eq, ":value", -1),
				(agent_get_troop_id, ":troop_id_var_3", ":var_3"),
				(eq, ":troop_id_var_3", ":script_param_1"),
				(assign, ":value", ":var_3"),
			(try_end),
			(assign, reg0, ":value"),
			(neq, reg0, -1)
		]),

	("cf_team_get_average_position_of_agents_with_type_to_pos1",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(assign, ":var_5", 0),
			(assign, ":var_6", 0),
			(set_fixed_point_multiplier, 100),
			(try_for_agents, ":var_7"),
				(agent_is_alive, ":var_7"),
				(agent_is_human, ":var_7"),
				(agent_get_team, ":team_var_7", ":var_7"),
				(eq, ":team_var_7", ":script_param_1"),
				(agent_get_division, ":division_var_7", ":var_7"),
				(this_or_next|eq, ":script_param_2", 9),
				(eq, ":script_param_2", ":division_var_7"),
				(agent_get_position, 1, ":var_7"),
				(position_get_x, ":position_x_1", 1),
				(val_add, ":var_3", ":position_x_1"),
				(position_get_y, ":position_y_1", 1),
				(val_add, ":var_4", ":position_y_1"),
				(position_get_z, ":position_z_1", 1),
				(val_add, ":var_5", ":position_z_1"),
				(val_add, ":var_6", 1),
			(try_end),
			(gt, ":var_6", 1),
			(val_div, ":var_3", ":var_6"),
			(val_div, ":var_4", ":var_6"),
			(val_div, ":var_5", ":var_6"),
			(init_position, 1),
			(position_move_x, 1, ":var_3"),
			(position_move_y, 1, ":var_4"),
			(position_move_z, 1, ":var_5")
		]),

	("cf_turn_windmill_fans",
		[
			(store_script_param_1, ":script_param_1"),
			(scene_prop_get_instance, ":scene_prop_instance_windmill_fan_turning_script_param_1", "spr_windmill_fan_turning", ":script_param_1"),
			(ge, ":scene_prop_instance_windmill_fan_turning_script_param_1", 0),
			(prop_instance_get_position, 1, ":scene_prop_instance_windmill_fan_turning_script_param_1"),
			(position_rotate_y, 1, 10),
			(prop_instance_animate_to_position, ":scene_prop_instance_windmill_fan_turning_script_param_1", 1, 100),
			(val_add, ":script_param_1", 1),
			(call_script, "script_cf_turn_windmill_fans", ":script_param_1")
		]),

	("print_party_members",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, reg10, ":num_companion_stacks_script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(try_begin),
					(eq, ":number", 0),
					(str_store_troop_name, 51, ":party_stack_troop_id_script_param_1_number"),
				(try_end),
				(str_store_troop_name, 52, ":party_stack_troop_id_script_param_1_number"),
				(try_begin),
					(eq, ":number", 1),
					(str_store_string, 51, "str_s52_and_s51"),
				(else_try),
					(gt, ":number", 1),
					(str_store_string, 51, "str_s52_comma_s51"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":num_companion_stacks_script_param_1", 0),
				(str_store_string, 51, "str_noone"),
			(try_end)
		]),

	("round_value",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(lt, ":script_param_1", 100),
				(neq, ":script_param_1", 0),
				(val_add, ":script_param_1", 5),
				(val_div, ":script_param_1", 10),
				(val_mul, ":script_param_1", 10),
				(try_begin),
					(eq, ":script_param_1", 0),
					(assign, ":script_param_1", 5),
				(try_end),
			(else_try),
				(lt, ":script_param_1", 300),
				(val_add, ":script_param_1", 25),
				(val_div, ":script_param_1", 50),
				(val_mul, ":script_param_1", 50),
			(else_try),
				(val_add, ":script_param_1", 50),
				(val_div, ":script_param_1", 100),
				(val_mul, ":script_param_1", 100),
			(try_end),
			(assign, reg0, ":script_param_1")
		]),

	("change_banners_and_chest",
		[
			(party_get_slot, ":g_encountered_party_town_lord", "$g_encountered_party", slot_town_lord),
			(try_begin),
				(ge, ":g_encountered_party_town_lord", 0),
				(troop_get_slot, ":g_encountered_party_town_lord_banner_scene_prop", ":g_encountered_party_town_lord", slot_troop_banner_scene_prop),
				(gt, ":g_encountered_party_town_lord_banner_scene_prop", 0),
				(replace_scene_props, "spr_banner_a", ":g_encountered_party_town_lord_banner_scene_prop"),
			(else_try),
				(replace_scene_props, "spr_banner_a", "spr_empty"),
			(try_end),
			(try_begin),
				(neq, ":g_encountered_party_town_lord", "trp_player"),
				(replace_scene_props, "spr_player_chest", "spr_locked_player_chest"),
			(try_end)
		]),

	("remove_siege_objects",
		[
			(replace_scene_props, "spr_battlement_a_destroyed", "spr_battlement_a"),
			(replace_scene_props, "spr_snowy_castle_battlement_a_destroyed", "spr_snowy_castle_battlement_a"),
			(replace_scene_props, "spr_castle_e_battlement_a_destroyed", "spr_castle_e_battlement_a"),
			(replace_scene_props, "spr_castle_battlement_a_destroyed", "spr_castle_battlement_a"),
			(replace_scene_props, "spr_castle_battlement_b_destroyed", "spr_castle_battlement_b"),
			(replace_scene_props, "spr_earth_wall_a2", "spr_earth_wall_a"),
			(replace_scene_props, "spr_earth_wall_b2", "spr_earth_wall_b"),
			(replace_scene_props, "spr_belfry_platform_b", "spr_empty"),
			(replace_scene_props, "spr_belfry_platform_a", "spr_empty"),
			(replace_scene_props, "spr_belfry_a", "spr_empty"),
			(replace_scene_props, "spr_belfry_wheel", "spr_empty"),
			(replace_scene_props, "spr_siege_ladder_move_6m", "spr_empty"),
			(replace_scene_props, "spr_siege_ladder_move_8m", "spr_empty"),
			(replace_scene_props, "spr_siege_ladder_move_10m", "spr_empty"),
			(replace_scene_props, "spr_siege_ladder_move_12m", "spr_empty"),
			(replace_scene_props, "spr_siege_ladder_move_14m", "spr_empty"),
			(replace_scene_props, "spr_siege_ladder_12m", "spr_empty"),
			(replace_scene_props, "spr_siege_ladder_14m", "spr_empty"),
			(replace_scene_props, "spr_mangonel", "spr_empty"),
			(replace_scene_props, "spr_trebuchet_old", "spr_empty"),
			(replace_scene_props, "spr_trebuchet_new", "spr_empty"),
			(replace_scene_props, "spr_stone_ball", "spr_empty"),
			(replace_scene_props, "spr_Village_fire_big", "spr_empty")
		]),

	("describe_relation_to_s63",
		[
			(store_script_param_1, ":script_param_1"),
			(store_add, ":value", ":script_param_1", 100),
			(val_add, ":value", 5),
			(store_div, ":value_2", ":value", 10),
			(val_clamp, ":value_2", 0, 20),
			(store_add, ":value_3", "str_relation_mnus_100", ":value_2"),
			(str_store_string, 63, ":value_3")
		]),

	("describe_center_relation_to_s3",
		[
			(store_script_param_1, ":script_param_1"),
			(store_add, ":value", ":script_param_1", 100),
			(val_add, ":value", 5),
			(store_div, ":value_2", ":value", 10),
			(val_clamp, ":value_2", 0, 20),
			(store_add, ":value_3", "str_center_relation_mnus_100", ":value_2"),
			(str_store_string, 3, ":value_3")
		]),

	("center_ambiance_sounds",
		[
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(assign, ":var_4", -1),
			(assign, ":var_5", -1),
			(try_begin),
				(party_slot_eq, "$g_encountered_party", slot_party_type, 4),
				(try_begin),
					(neg|is_currently_night),
					(assign, ":value_3", "snd_distant_dog_bark"),
					(assign, ":value_3", "snd_distant_chicken"),
				(else_try),
					(assign, ":value", "snd_distant_dog_bark"),
					(assign, ":value_2", "snd_distant_owl"),
				(try_end),
			(else_try),
				(party_slot_eq, "$g_encountered_party", slot_party_type, 3),
				(try_begin),
					(neg|is_currently_night),
					(assign, ":value", "snd_distant_carpenter"),
					(assign, ":value_2", "snd_distant_blacksmith"),
					(assign, ":value_3", "snd_distant_dog_bark"),
				(else_try),
					(assign, ":value", "snd_distant_dog_bark"),
				(try_end),
			(try_end),
			(try_begin),
				(store_random_in_range, ":random_in_range_0_7", 0, 7),
				(try_begin),
					(eq, ":random_in_range_0_7", 1),
					(ge, ":value", 0),
					(play_sound, ":value"),
				(else_try),
					(eq, ":random_in_range_0_7", 2),
					(ge, ":value_2", 0),
					(play_sound, ":value_2"),
				(else_try),
					(eq, ":random_in_range_0_7", 3),
					(ge, ":value_3", 0),
					(play_sound, ":value_3"),
				(else_try),
					(eq, ":random_in_range_0_7", 4),
					(ge, ":var_4", 0),
					(play_sound, ":var_4"),
				(else_try),
					(eq, ":random_in_range_0_7", 5),
					(ge, ":var_5", 0),
					(play_sound, ":var_5"),
				(try_end),
			(try_end)
		]),

	("center_set_walker_to_type",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_add, ":value", 180, ":script_param_2"),
			(party_set_slot, ":script_param_1", ":value", ":script_param_3"),
			(party_get_slot, ":script_param_1_center_original_faction", ":script_param_1", slot_center_original_faction),
			(faction_get_slot, ":script_param_1_center_original_faction_culture", ":script_param_1_center_original_faction", slot_faction_culture),
			(store_random_in_range, ":random_in_range_0_2", 0, 2),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 4),
				(val_add, ":random_in_range_0_2", 56),
			(else_try),
				(val_add, ":random_in_range_0_2", 54),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 3),
				(assign, ":var_8", ":random_in_range_0_2"),
				(val_add, ":random_in_range_0_2", 4),
			(try_end),
			(faction_get_slot, ":script_param_1_center_original_faction_culture_random_in_range_0_2", ":script_param_1_center_original_faction_culture", ":random_in_range_0_2"),
			(try_begin),
				(eq, ":script_param_3", 3),
				(faction_get_slot, ":script_param_1_center_original_faction_culture_var_8", ":script_param_1_center_original_faction_culture", ":var_8"),
				(try_for_range, ":item", "itm_horse_meat", "itm_items_end"),
					(store_item_kind_count, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", ":item", ":script_param_1_center_original_faction_culture_var_8"),
					(ge, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", 1),
					(store_item_kind_count, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", ":item", ":script_param_1_center_original_faction_culture_random_in_range_0_2"),
					(lt, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", 1),
					(troop_add_items, ":script_param_1_center_original_faction_culture_random_in_range_0_2", ":item", 1),
				(try_end),
				(store_random_in_range, ":random_in_range_12_15", 12, 15),
				(assign, ":value_2", 0),
				(try_for_range, ":item", "itm_horse_meat", "itm_items_end"),
					(store_item_kind_count, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", ":item", ":script_param_1_center_original_faction_culture_random_in_range_0_2"),
					(ge, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", 1),
					(item_get_type, ":type_item", ":item"),
					(eq, ":type_item", ":random_in_range_12_15"),
					(val_add, ":value_2", 1),
					(troop_remove_items, ":script_param_1_center_original_faction_culture_random_in_range_0_2", ":item", ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8"),
				(try_end),
				(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
				(assign, ":value_2", -1),
				(try_for_range, ":item", "itm_horse_meat", "itm_items_end"),
					(store_item_kind_count, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", ":item", ":script_param_1_center_original_faction_culture_var_8"),
					(ge, ":item_kind_count_item_script_param_1_center_original_faction_culture_var_8", 1),
					(item_get_type, ":type_item", ":item"),
					(eq, ":type_item", ":random_in_range_12_15"),
					(val_add, ":value_2", 1),
					(eq, ":value_2", ":random_in_range_0_value_2"),
					(troop_add_items, ":script_param_1_center_original_faction_culture_random_in_range_0_2", ":item", 1),
					(assign, ":var_17", ":item"),
				(try_end),
				(assign, "$spy_item_worn", ":var_17"),
				(assign, "$spy_quest_troop", ":script_param_1_center_original_faction_culture_random_in_range_0_2"),
				(troop_equip_items, ":script_param_1_center_original_faction_culture_random_in_range_0_2"),
			(try_end),
			(store_add, ":value_3", 160, ":script_param_2"),
			(party_set_slot, ":script_param_1", ":value_3", ":script_param_1_center_original_faction_culture_random_in_range_0_2"),
			(store_random_in_range, ":random_in_range_0_1000000", 0, 1000000),
			(store_add, ":value_4", 170, ":script_param_2"),
			(party_set_slot, ":script_param_1", ":value_4", ":random_in_range_0_1000000")
		]),

	("cf_center_get_free_walker",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(try_for_range, ":number", 0, 8),
				(store_add, ":value", 180, ":number"),
				(party_slot_eq, ":script_param_1", ":value", 0),
				(val_add, ":var_2", 1),
			(try_end),
			(gt, ":var_2", 0),
			(assign, reg0, -1),
			(store_random_in_range, ":random_in_range_0_var_2", 0, ":var_2"),
			(try_for_range, ":number", 0, 8),
				(store_add, ":value", 180, ":number"),
				(party_slot_eq, ":script_param_1", ":value", 0),
				(val_sub, ":var_2", 1),
				(eq, ":var_2", ":random_in_range_0_var_2"),
				(assign, reg0, ":number"),
			(try_end)
		]),

	("center_remove_walker_type_from_walkers",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_range, ":number", 0, 8),
				(store_add, ":value", 180, ":number"),
				(party_slot_eq, ":script_param_1", ":value", ":script_param_2"),
				(call_script, "script_center_set_walker_to_type", ":script_param_1", ":number", 0),
			(try_end)
		]),

	("init_town_walkers",
		[
			(try_begin),
				(eq, "$town_nighttime", 0),
				(try_for_range, ":number", 0, 8),
					(store_add, ":value", 160, ":number"),
					(party_get_slot, ":current_town_value", "$current_town", ":value"),
					(gt, ":current_town_value", 0),
					(store_add, ":value_2", 32, ":number"),
					(set_visitors, ":value_2", ":current_town_value", 3),
				(try_end),
			(try_end)
		]),

	("cf_enter_center_location_bandit_check",
		[
			(neq, "$town_nighttime", 0),
			(party_slot_ge, "$current_town", 155, 1),
			(eq, "$g_defending_against_siege", 0),
			(eq, "$sneaked_into_town", 0),
			(try_begin),
				(party_slot_eq, "$current_town", slot_party_type, 4),
				(party_get_slot, ":current_town_town_center", "$current_town", slot_town_center),
			(else_try),
				(party_get_slot, ":current_town_town_center", "$current_town", slot_town_center),
			(try_end),
			(modify_visitors_at_site, ":current_town_town_center"),
			(reset_visitors),
			(party_get_slot, ":current_town_center_has_bandits", "$current_town", slot_center_has_bandits),
			(store_character_level, ":character_level_player", "trp_player"),
			(set_jump_mission, "mt_bandits_at_night"),
			(try_begin),
				(party_slot_eq, "$current_town", slot_party_type, 4),
				(assign, ":value", 2),
				(store_div, ":value_2", ":character_level_player", 10),
				(val_add, ":value", ":value_2"),
				(try_for_range, ":unused", 0, 3),
					(gt, ":character_level_player", 10),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", ":character_level_player"),
					(val_add, ":value", 1),
				(try_end),
				(set_visitors, 4, ":current_town_center_has_bandits", ":value"),
				(assign, "$num_center_bandits", ":value"),
				(set_jump_entry, 2),
			(else_try),
				(assign, ":value", 1),
				(assign, "$num_center_bandits", 0),
				(try_begin),
					(gt, ":character_level_player", 15),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", ":character_level_player"),
					(assign, ":value", 2),
				(try_end),
				(val_add, "$num_center_bandits", ":value"),
				(set_visitors, 11, ":current_town_center_has_bandits", ":value"),
				(assign, ":value", 1),
				(try_begin),
					(gt, ":character_level_player", 20),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", ":character_level_player"),
					(assign, ":value", 2),
				(try_end),
				(set_visitors, 27, ":current_town_center_has_bandits", ":value"),
				(val_add, "$num_center_bandits", ":value"),
				(try_begin),
					(gt, ":character_level_player", 9),
					(assign, ":value", 1),
					(try_begin),
						(gt, ":character_level_player", 25),
						(store_random_in_range, ":random_in_range_0_100", 0, 100),
						(lt, ":random_in_range_0_100", ":character_level_player"),
						(assign, ":value", 2),
					(try_end),
					(set_visitors, 28, ":current_town_center_has_bandits", ":value"),
					(val_add, "$num_center_bandits", ":value"),
				(try_end),
				(assign, "$town_entered", 1),
				(assign, "$all_doors_locked", 1),
			(try_end),
			(display_message, "@You have run into a trap!", 0xffff2222),
			(display_message, "@You are attacked by a group of bandits!", 0xffff2222),
			(jump_to_scene, ":current_town_town_center"),
			(change_screen_mission)
		]),

	("init_town_agent",
		[
			(store_script_param, ":script_param_1", 1),
			(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
			(set_fixed_point_multiplier, 100),
			(assign, ":value", -1),
			(try_begin),
				(this_or_next|is_between, ":troop_id_script_param_1", "trp_town_1_armorer", "trp_town_1_weaponsmith"),
				(is_between, ":troop_id_script_param_1", "trp_town_1_weaponsmith", "trp_town_1_tavernkeeper"),
				(try_begin),
					(troop_get_type, ":type_troop_id_script_param_1", ":troop_id_script_param_1"),
					(eq, ":type_troop_id_script_param_1", 0),
					(agent_set_animation, ":script_param_1", "anim_stand_townguard"),
				(else_try),
					(agent_set_animation, ":script_param_1", "anim_stand_townguard"),
				(try_end),
			(else_try),
				(is_between, ":troop_id_script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(assign, ":value", "anim_stand_lady"),
			(else_try),
				(is_between, ":troop_id_script_param_1", "trp_npc1", "trp_knight_1_1_wife"),
				(assign, ":value", "anim_stand_lord"),
			(else_try),
				(is_between, ":troop_id_script_param_1", "trp_sandor", "trp_hotho_harlaw"),
				(assign, ":value", "anim_stand_lord"),
			(else_try),
				(is_between, ":troop_id_script_param_1", "trp_sitting_down_starter", "trp_golden_company_npc_1"),
				(assign, ":value", "anim_feeble_lord"),
			(else_try),
				(is_between, ":troop_id_script_param_1", "trp_melisandre", "trp_old_nan"),
				(assign, ":value", "anim_stand_lady"),
			(else_try),
				(is_between, ":troop_id_script_param_1", "trp_mercenary_n_townsman", "trp_swadian_town_walker_m_average"),
				(assign, ":value", "anim_stand_townguard"),
			(try_end),
			(try_begin),
				(ge, ":value", 0),
				(agent_set_stand_animation, ":script_param_1", ":value"),
				(agent_set_animation, ":script_param_1", ":value"),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(agent_set_animation_progress, ":script_param_1", ":random_in_range_0_100"),
			(try_end)
		]),

	("init_town_walker_agents",
		[
			(assign, ":var_1", 0),
			(try_for_agents, ":var_2"),
				(agent_get_troop_id, ":troop_id_var_2", ":var_2"),
				(is_between, ":troop_id_var_2", "trp_swadian_town_walker_m_average", "trp_tournament_master"),
				(val_add, ":var_1", 1),
				(agent_get_position, 1, ":var_2"),
				(try_for_range, ":number", 9, 40),
					(entry_point_get_position, 2, ":number"),
					(get_distance_between_positions, ":distance_between_positions_1_2", 1, 2),
					(lt, ":distance_between_positions_1_2", 200),
					(agent_set_slot, ":var_2", 0, ":number"),
				(try_end),
				(call_script, "script_set_town_walker_destination", ":var_2"),
			(try_end)
		]),

	("agent_get_town_walker_details",
		[
			(store_script_param, ":script_param_1", 1),
			(agent_get_entry_no, ":entry_no_script_param_1", ":script_param_1"),
			(store_sub, ":value", ":entry_no_script_param_1", 32),
			(store_add, ":value_2", 180, ":value"),
			(party_get_slot, ":current_town_value_2", "$current_town", ":value_2"),
			(store_add, ":value_3", 170, ":value"),
			(party_get_slot, ":current_town_value_3", "$current_town", ":value_3"),
			(assign, reg0, ":current_town_value_2"),
			(assign, reg1, ":current_town_value_3"),
			(assign, reg2, ":value")
		]),

	("town_walker_occupation_string_to_s14",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", 0),
			(call_script, "script_dplmc_print_subordinate_says_sir_madame_to_s0"),
			(str_store_string, 14, "str_i_take_what_work_i_can_sirmadame_i_carry_water_or_help_the_merchants_with_their_loads_or_help_build_things_if_theres_things_to_be_built"),
			(call_script, "script_agent_get_town_walker_details", ":script_param_1"),
			(assign, ":var_3", reg0),
			(assign, ":var_4", reg1),
			(assign, ":value_2", -1),
			(assign, ":var_6", 0),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(call_script, "script_center_get_production", "$g_encountered_party", ":item"),
				(val_add, ":var_6", reg0),
			(try_end),
			(val_max, ":var_6", 1),
			(store_mod, ":value_3", ":var_4", ":var_6"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg4, ":var_4"),
				(assign, reg5, ":var_6"),
				(assign, reg7, ":value_3"),
				(display_message, "str_dna_reg4_total_production_reg5_modula_reg7"),
			(try_end),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(gt, ":value_3", -1),
				(call_script, "script_center_get_production", "$g_encountered_party", ":item"),
				(val_sub, ":value_3", reg0),
				(lt, ":value_3", 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_item_name, 9, ":item"),
					(display_message, "str_agent_produces_s9"),
				(try_end),
				(assign, ":value_2", ":item"),
			(try_end),
			(try_begin),
				(eq, ":var_3", 1),
				(is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
				(str_store_string, 14, "str_im_not_doing_anything_sirmadame_theres_no_work_to_be_had_around_here_these_days"),
			(else_try),
				(eq, ":var_3", 1),
				(str_store_string, 14, "str_im_not_doing_anything_sirmadame_i_have_no_land_of_my_own_and_theres_no_work_to_be_had_around_here_these_days"),
			(else_try),
				(eq, ":var_3", 2),
				(str_store_string, 14, "str_why_im_still_living_off_of_your_kindness_and_goodness_sirmadame_hopefully_there_will_be_work_shortly"),
			(else_try),
				(eq, ":value_2", "itm_trade_grain"),
				(is_between, "$g_encountered_party", "p_town_1", "p_castle_1"),
				(str_store_string, 14, "str_i_work_in_the_fields_just_outside_the_walls_where_they_grow_grain_we_dont_quite_grow_enough_to_meet_our_needs_though_and_have_to_import_grain_from_the_surrounding_countryside"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_grain"),
				(str_store_string, 14, "str_i_work_mostly_in_the_fields_growing_grain_in_the_town_they_grind_it_to_make_bread_or_ale_and_we_can_also_boil_it_as_a_porridge"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_ale"),
				(str_store_string, 14, "str_i_work_in_the_breweries_making_ale_the_poor_folk_drink_a_lot_of_it_as_its_cheaper_than_wine_we_make_it_with_grain_brought_in_from_the_countryside"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_bread"),
				(str_store_string, 14, "str_i_work_in_a_mill_grinding_flour_to_make_bread_bread_is_cheap_keeps_well_and_fills_the_stomach"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_dried_meat"),
				(str_store_string, 14, "str_i_tend_cattle_we_dry_and_salt_meat_to_preserve_it_and_make_cheese_from_the_milk"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_cheese"),
				(str_store_string, 14, "str_i_tend_cattle_we_dry_and_salt_meat_to_preserve_it_and_make_cheese_from_the_milk_so_it_doesnt_spoil"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_butter"),
				(str_store_string, 14, "str_i_tend_cattle_we_dry_and_salt_meat_to_preserve_it_and_make_cheese_from_the_milk_so_it_doesnt_spoil"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_wool"),
				(str_store_string, 14, "str_i_tend_sheep_we_send_the_wool_to_the_cities_to_be_woven_into_cloth_and_make_mutton_sausage_when_we_cull_the_herds"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_sausages"),
				(str_store_string, 14, "str_i_tend_sheep_we_send_the_wool_to_the_cities_to_be_woven_into_cloth_and_make_mutton_sausage_when_we_cull_the_herds"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_wool_cloth"),
				(str_store_string, 14, "str_i_work_at_a_loom_spinning_cloth_from_wool_wool_is_some_of_the_cheapest_cloth_you_can_buy_but_it_will_still_keep_you_warm"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_smoked_fish"),
				(str_store_string, 14, "str_i_crew_a_fishing_boat_we_salt_and_smoke_the_flesh_to_sell_it_far_inland"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_salt"),
				(str_store_string, 14, "str_i_sift_salt_from_a_nearby_flat_they_need_salt_everywhere_to_preserve_meat_and_fish"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_iron"),
				(str_store_string, 14, "str_i_mine_iron_from_a_vein_in_a_nearby_cliffside_they_use_it_to_make_tools_arms_and_other_goods"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_pottery"),
				(str_store_string, 14, "str_i_make_pottery_which_people_use_to_store_grain_and_carry_water"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_tools"),
				(str_store_string, 14, "str_trade_explanation_tools"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_oil"),
				(str_store_string, 14, "str_trade_explanation_oil"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_linen"),
				(str_store_string, 14, "str_trade_explanation_linen"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_velvet"),
				(str_store_string, 14, "str_trade_explanation_velvet"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_spice"),
				(str_store_string, 14, "str_trade_explanation_spice"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value_2", "itm_trade_apples"),
				(str_store_string, 14, "str_trade_explanation_apples"),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(eq, ":value", 1),
				(assign, ":value_4", -1),
				(store_skill_level, ":skill_level_trade_player", "skl_trade", "trp_player"),
				(try_begin),
					(is_between, "$g_encountered_party", "p_village_1", "p_salt_mine"),
					(party_get_slot, ":g_encountered_party_village_market_town", "$g_encountered_party", slot_village_market_town),
				(else_try),
					(assign, ":g_encountered_party_village_market_town", "$g_encountered_party"),
				(try_end),
				(store_sub, ":value_5", 267, "itm_trade_spice"),
				(store_add, ":value_6", ":value_2", ":value_5"),
				(party_get_slot, ":g_encountered_party_village_market_town_value_6", ":g_encountered_party_village_market_town", ":value_6"),
				(val_add, ":g_encountered_party_village_market_town_value_6", 400),
				(store_mul, ":value_7", ":skill_level_trade_player", 35),
				(try_begin),
					(is_between, "$g_encountered_party", "p_village_1", "p_salt_mine"),
					(val_add, ":g_encountered_party_village_market_town_value_6", 200),
				(try_end),
				(val_sub, ":g_encountered_party_village_market_town_value_6", ":value_7"),
				(try_for_range, ":number", 190, 205),
					(party_get_slot, ":g_encountered_party_village_market_town_number", ":g_encountered_party_village_market_town", ":number"),
					(party_get_slot, ":g_encountered_party_village_market_town_number_value_6", ":g_encountered_party_village_market_town_number", ":value_6"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(assign, reg4, ":g_encountered_party_village_market_town_number_value_6"),
						(assign, reg5, ":g_encountered_party_village_market_town_value_6"),
						(str_store_party_name, 10, ":g_encountered_party_village_market_town_number"),
						(display_message, "str_s10_has_reg4_needs_reg5"),
					(try_end),
					(gt, ":g_encountered_party_village_market_town_number_value_6", ":g_encountered_party_village_market_town_value_6"),
					(assign, ":value_4", ":g_encountered_party_village_market_town_number"),
					(assign, ":g_encountered_party_village_market_town_value_6", ":g_encountered_party_village_market_town_number_value_6"),
				(try_end),
				(is_between, ":value_4", "p_town_1", "p_salt_mine"),
				(str_store_party_name, 15, ":value_4"),
				(str_store_string, 14, "str_s14_i_hear_that_you_can_find_a_good_price_for_it_in_s15"),
			(try_end)
		]),

	("tick_town_walkers",
		[
			(try_for_agents, ":var_1"),
				(agent_get_troop_id, ":troop_id_var_1", ":var_1"),
				(is_between, ":troop_id_var_1", "trp_swadian_town_walker_m_average", "trp_tournament_master"),
				(agent_get_slot, ":var_1_0", ":var_1", 0),
				(entry_point_get_position, 1, ":var_1_0"),
				(try_begin),
					(lt, ":var_1_0", 32),
					(init_position, 2),
					(position_set_y, 2, 250),
					(position_transform_position_to_parent, 1, 1, 2),
				(try_end),
				(agent_get_position, 2, ":var_1"),
				(get_distance_between_positions, ":distance_between_positions_1_2", 1, 2),
				(lt, ":distance_between_positions_1_2", 400),
				(assign, ":value", 0),
				(try_begin),
					(lt, ":var_1_0", 32),
					(store_random_in_range, ":value", 0, 100),
				(try_end),
				(lt, ":value", 20),
				(call_script, "script_set_town_walker_destination", ":var_1"),
			(try_end)
		]),

	("set_town_walker_destination",
		[
			(store_script_param_1, ":script_param_1"),
			(store_random_in_range, ":random_in_range_1_12", 1, 12),
			(try_begin),
				(eq, ":random_in_range_1_12", 1),
				(assign, ":value", 9),
			(else_try),
				(eq, ":random_in_range_1_12", 2),
				(assign, ":value", 10),
			(else_try),
				(eq, ":random_in_range_1_12", 3),
				(assign, ":value", 12),
			(else_try),
				(eq, ":random_in_range_1_12", 4),
				(assign, ":value", 32),
			(else_try),
				(eq, ":random_in_range_1_12", 2),
				(assign, ":value", 33),
			(else_try),
				(eq, ":random_in_range_1_12", 5),
				(assign, ":value", 34),
			(else_try),
				(eq, ":random_in_range_1_12", 6),
				(assign, ":value", 35),
			(else_try),
				(eq, ":random_in_range_1_12", 7),
				(assign, ":value", 36),
			(else_try),
				(eq, ":random_in_range_1_12", 8),
				(assign, ":value", 37),
			(else_try),
				(eq, ":random_in_range_1_12", 9),
				(assign, ":value", 38),
			(else_try),
				(eq, ":random_in_range_1_12", 10),
				(assign, ":value", 39),
			(else_try),
				(assign, ":value", 10),
			(try_end),
			(try_begin),
				(agent_set_slot, ":script_param_1", 0, ":value"),
				(entry_point_get_position, 1, ":value"),
				(try_begin),
					(init_position, 2),
					(position_set_y, 2, 250),
					(position_transform_position_to_parent, 1, 1, 2),
				(try_end),
				(agent_set_scripted_destination, ":script_param_1", 1, 0),
				(agent_set_speed_limit, ":script_param_1", 5),
			(try_end)
		]),

	("town_init_doors",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(assign, ":value", 0),
				(try_begin),
					(eq, ":script_param_1", 1),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_1", 0),
					(eq, "$town_nighttime", 0),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(assign, ":value_2", 1),
				(try_for_range, ":number", 0, ":value_2"),
					(scene_prop_get_instance, ":scene_prop_instance_towngate_door_left_number", "spr_towngate_door_left", ":number"),
					(ge, ":scene_prop_instance_towngate_door_left_number", 0),
					(val_add, ":value_2", 1),
					(prop_instance_get_position, 1, ":scene_prop_instance_towngate_door_left_number"),
					(position_rotate_z, 1, -100),
					(prop_instance_animate_to_position, ":scene_prop_instance_towngate_door_left_number", 1, 1),
				(try_end),
				(assign, ":value_2", 1),
				(try_for_range, ":number", 0, ":value_2"),
					(scene_prop_get_instance, ":scene_prop_instance_towngate_door_left_number", "spr_towngate_rectangle_door_left", ":number"),
					(ge, ":scene_prop_instance_towngate_door_left_number", 0),
					(val_add, ":value_2", 1),
					(prop_instance_get_position, 1, ":scene_prop_instance_towngate_door_left_number"),
					(position_rotate_z, 1, -80),
					(prop_instance_animate_to_position, ":scene_prop_instance_towngate_door_left_number", 1, 1),
				(try_end),
				(assign, ":value_2", 1),
				(try_for_range, ":number", 0, ":value_2"),
					(scene_prop_get_instance, ":scene_prop_instance_towngate_door_left_number", "spr_towngate_door_right", ":number"),
					(ge, ":scene_prop_instance_towngate_door_left_number", 0),
					(val_add, ":value_2", 1),
					(prop_instance_get_position, 1, ":scene_prop_instance_towngate_door_left_number"),
					(position_rotate_z, 1, 100),
					(prop_instance_animate_to_position, ":scene_prop_instance_towngate_door_left_number", 1, 1),
				(try_end),
				(assign, ":value_2", 1),
				(try_for_range, ":number", 0, ":value_2"),
					(scene_prop_get_instance, ":scene_prop_instance_towngate_door_left_number", "spr_towngate_rectangle_door_right", ":number"),
					(ge, ":scene_prop_instance_towngate_door_left_number", 0),
					(val_add, ":value_2", 1),
					(prop_instance_get_position, 1, ":scene_prop_instance_towngate_door_left_number"),
					(position_rotate_z, 1, 80),
					(prop_instance_animate_to_position, ":scene_prop_instance_towngate_door_left_number", 1, 1),
				(try_end),
			(try_end)
		]),

	("siege_init_ai_and_belfry",
		[
			(assign, "$cur_belfry_pos", 50),
			(assign, ":var_1", 10),
			(store_current_scene, ":current_scene"),
			(try_for_range, ":number", 0, 3),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_a_number", "spr_belfry_a", ":number"),
				(ge, ":scene_prop_instance_belfry_a_number", 0),
				(scene_set_slot, ":current_scene", ":var_1", ":scene_prop_instance_belfry_a_number"),
				(val_add, ":var_1", 1),
			(try_end),
			(try_for_range, ":number", 0, 3),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_a_number", "spr_belfry_platform_a", ":number"),
				(ge, ":scene_prop_instance_belfry_a_number", 0),
				(scene_set_slot, ":current_scene", ":var_1", ":scene_prop_instance_belfry_a_number"),
				(val_add, ":var_1", 1),
			(try_end),
			(try_for_range, ":number", 0, 3),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_a_number", "spr_belfry_platform_b", ":number"),
				(ge, ":scene_prop_instance_belfry_a_number", 0),
				(scene_set_slot, ":current_scene", ":var_1", ":scene_prop_instance_belfry_a_number"),
				(val_add, ":var_1", 1),
			(try_end),
			(assign, "$belfry_rotating_objects_begin", ":var_1"),
			(try_for_range, ":number", 0, 5),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_a_number", "spr_belfry_wheel", ":number"),
				(ge, ":scene_prop_instance_belfry_a_number", 0),
				(scene_set_slot, ":current_scene", ":var_1", ":scene_prop_instance_belfry_a_number"),
				(val_add, ":var_1", 1),
			(try_end),
			(assign, "$last_belfry_object_pos", ":var_1"),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_belfry_platform_a_0", "spr_belfry_platform_a", 0),
			(try_end),
			(entry_point_get_position, 1, 55),
			(entry_point_get_position, 3, 50),
			(try_for_range, ":number_2", 10, "$last_belfry_object_pos"),
				(assign, ":var_7", 64),
				(val_add, ":var_7", ":number_2"),
				(val_sub, ":var_7", 10),
				(scene_get_slot, ":current_scene_number_2", ":current_scene", ":number_2"),
				(prop_instance_get_position, 2, ":current_scene_number_2"),
				(try_begin),
					(eq, ":current_scene_number_2", ":scene_prop_instance_belfry_platform_a_0"),
					(position_rotate_x, 2, 90),
				(try_end),
				(position_transform_position_to_local, ":var_7", 1, 2),
				(position_transform_position_to_parent, 4, 3, ":var_7"),
				(prop_instance_animate_to_position, ":current_scene_number_2", 4, 1),
			(try_end),
			(assign, "$belfry_positioned", 0),
			(assign, "$belfry_num_slots_positioned", 0),
			(assign, "$belfry_num_men_pushing", 0),
			(set_show_messages, 0),
			(team_give_order, "$attacker_team", 9, 11),
			(team_give_order, "$attacker_team_2", 9, 11),
			(set_show_messages, 1)
		]),

	("cf_siege_move_belfry",
		[
			(neq, "$last_belfry_object_pos", 10),
			(entry_point_get_position, 1, 50),
			(entry_point_get_position, 4, 55),
			(get_distance_between_positions, ":distance_between_positions_4_1", 4, 1),
			(store_current_scene, ":current_scene"),
			(scene_get_slot, ":current_scene_belfry_props_begin", ":current_scene", slot_scene_belfry_props_begin),
			(prop_instance_get_position, 2, ":current_scene_belfry_props_begin"),
			(entry_point_get_position, 1, "$cur_belfry_pos"),
			(position_transform_position_to_parent, 3, 1, 64),
			(position_transform_position_to_parent, 5, 4, 64),
			(get_distance_between_positions, ":distance_between_positions_2_3", 2, 3),
			(get_distance_between_positions, ":distance_between_positions_2_5", 2, 5),
			(try_begin),
				(le, ":distance_between_positions_2_3", 10),
				(val_add, "$cur_belfry_pos", 1),
				(entry_point_get_position, 1, "$cur_belfry_pos"),
				(position_transform_position_to_parent, 3, 1, 64),
				(get_distance_between_positions, ":distance_between_positions_2_3", 2, 3),
			(try_end),
			(neq, "$cur_belfry_pos", 50),
			(assign, ":value", 20),
			(store_div, ":value_2", ":distance_between_positions_4_1", 60),
			(store_sub, ":value_3", ":distance_between_positions_4_1", ":distance_between_positions_2_5"),
			(try_begin),
				(lt, ":value_3", ":value_2"),
				(store_mul, ":value", ":value_3", -60),
				(val_div, ":value", ":value_2"),
				(val_add, ":value", 80),
			(else_try),
				(lt, ":distance_between_positions_2_5", ":value_2"),
				(store_mul, ":value", ":distance_between_positions_2_5", -60),
				(val_div, ":value", ":value_2"),
				(val_add, ":value", 80),
			(try_end),
			(store_mul, ":value_4", ":distance_between_positions_2_3", ":value"),
			(try_begin),
				(eq, "$belfry_num_men_pushing", 0),
				(assign, ":value_4", 1000000),
			(else_try),
				(val_div, ":value_4", "$belfry_num_men_pushing"),
			(try_end),
			(try_begin),
				(le, "$cur_belfry_pos", 55),
				(init_position, 3),
				(position_rotate_x, 3, ":value_3"),
				(scene_get_slot, ":current_scene_belfry_props_begin_2", ":current_scene", slot_scene_belfry_props_begin),
				(prop_instance_get_position, 4, ":current_scene_belfry_props_begin_2"),
				(entry_point_get_position, 1, "$cur_belfry_pos"),
				(try_for_range, ":number", 10, "$last_belfry_object_pos"),
					(scene_get_slot, ":current_scene_number", ":current_scene", ":number"),
					(try_begin),
						(ge, ":number", "$belfry_rotating_objects_begin"),
						(prop_instance_get_starting_position, 5, ":current_scene_belfry_props_begin_2"),
						(prop_instance_get_starting_position, 6, ":current_scene_number"),
						(position_transform_position_to_local, 7, 5, 6),
						(position_transform_position_to_parent, 5, 4, 7),
						(position_transform_position_to_parent, 6, 5, 3),
						(prop_instance_set_position, ":current_scene_number", 6),
					(else_try),
						(assign, ":var_13", 64),
						(val_add, ":var_13", ":number"),
						(val_sub, ":var_13", 10),
						(position_transform_position_to_parent, 2, 1, ":var_13"),
						(prop_instance_animate_to_position, ":current_scene_number", 2, ":value_4"),
					(try_end),
				(try_end),
			(try_end),
			(gt, "$cur_belfry_pos", 55),
			(assign, "$belfry_positioned", 1)
		]),

	("cf_siege_rotate_belfry_platform",
		[
			(eq, "$belfry_positioned", 1),
			(scene_prop_get_instance, ":scene_prop_instance_belfry_platform_a_0", "spr_belfry_platform_a", 0),
			(prop_instance_get_position, 1, ":scene_prop_instance_belfry_platform_a_0"),
			(position_rotate_x, 1, -90),
			(prop_instance_animate_to_position, ":scene_prop_instance_belfry_platform_a_0", 1, 400),
			(assign, "$belfry_positioned", 2)
		]),

	("cf_siege_assign_men_to_belfry",
		[
			(neq, "$last_belfry_object_pos", 10),
			(assign, ":value", 0),
			(try_begin),
				(lt, "$belfry_positioned", 3),
				(get_player_agent_no, ":player_agent_no"),
				(store_current_scene, ":current_scene"),
				(scene_get_slot, ":current_scene_belfry_props_begin", ":current_scene", slot_scene_belfry_props_begin),
				(prop_instance_get_position, 2, ":current_scene_belfry_props_begin"),
				(assign, ":value_2", 0),
				(assign, ":value_3", 0),
				(assign, ":value_4", 0),
				(assign, ":value_5", 0),
				(assign, ":value_6", 0),
				(assign, ":value_7", 0),
				(assign, "$belfry_num_slots_positioned", 0),
				(assign, "$belfry_num_men_pushing", 0),
				(try_for_agents, ":value_8"),
					(agent_is_alive, ":value_8"),
					(agent_is_human, ":value_8"),
					(try_begin),
						(agent_get_slot, ":value_8_target_x_pos", ":value_8", slot_agent_target_x_pos),
						(neq, ":value_8_target_x_pos", 0),
						(agent_get_slot, ":value_8_target_y_pos", ":value_8", slot_agent_target_y_pos),
						(try_begin),
							(eq, ":value_8_target_x_pos", -600),
							(try_begin),
								(eq, ":value_8_target_y_pos", 0),
								(assign, ":value_2", 1),
							(else_try),
								(eq, ":value_8_target_y_pos", -200),
								(assign, ":value_3", 1),
							(else_try),
								(assign, ":value_4", 1),
							(try_end),
						(else_try),
							(try_begin),
								(eq, ":value_8_target_y_pos", 0),
								(assign, ":value_5", 1),
							(else_try),
								(eq, ":value_8_target_y_pos", -200),
								(assign, ":value_6", 1),
							(else_try),
								(assign, ":value_7", 1),
							(try_end),
						(try_end),
						(val_add, "$belfry_num_slots_positioned", 1),
						(init_position, 1),
						(position_move_x, 1, ":value_8_target_x_pos"),
						(position_move_y, 1, ":value_8_target_y_pos"),
						(init_position, 3),
						(position_move_x, 3, ":value_8_target_x_pos"),
						(position_move_y, 3, -1000),
						(position_transform_position_to_parent, 4, 2, 1),
						(position_transform_position_to_parent, 5, 2, 3),
						(agent_get_position, 6, ":value_8"),
						(get_distance_between_positions, ":distance_between_positions_6_4", 6, 4),
						(get_distance_between_positions, ":distance_between_positions_6_5", 6, 5),
						(try_begin),
							(this_or_next|lt, ":distance_between_positions_6_4", ":distance_between_positions_6_5"),
							(lt, ":distance_between_positions_6_5", 600),
							(agent_set_scripted_destination, ":value_8", 4, 1),
						(else_try),
							(agent_set_scripted_destination, ":value_8", 5, 1),
						(try_end),
						(try_begin),
							(le, ":distance_between_positions_6_4", 300),
							(val_add, "$belfry_num_men_pushing", 1),
						(try_end),
					(try_end),
				(try_end),
				(try_begin),
					(lt, "$belfry_num_slots_positioned", 6),
					(try_for_agents, ":value_8"),
						(agent_is_alive, ":value_8"),
						(agent_get_team, ":team_value_8", ":value_8"),
						(this_or_next|eq, "$attacker_team", ":team_value_8"),
						(eq, "$attacker_team_2", ":team_value_8"),
						(neq, ":player_agent_no", ":value_8"),
						(agent_get_class, ":class_value_8", ":value_8"),
						(this_or_next|eq, ":class_value_8", 0),
						(eq, ":class_value_8", 2),
						(agent_get_slot, ":value_8_target_x_pos", ":value_8", slot_agent_target_x_pos),
						(eq, ":value_8_target_x_pos", 0),
						(assign, ":value_8_target_y_pos", 0),
						(try_begin),
							(eq, ":value_2", 0),
							(assign, ":value_8_target_x_pos", -600),
							(assign, ":value_8_target_y_pos", 0),
							(val_add, ":value_2", 1),
						(else_try),
							(eq, ":value_3", 0),
							(assign, ":value_8_target_x_pos", -600),
							(assign, ":value_8_target_y_pos", -200),
							(val_add, ":value_3", 1),
						(else_try),
							(eq, ":value_4", 0),
							(assign, ":value_8_target_x_pos", -600),
							(assign, ":value_8_target_y_pos", -400),
							(val_add, ":value_4", 1),
						(else_try),
							(eq, ":value_5", 0),
							(assign, ":value_8_target_x_pos", 600),
							(assign, ":value_8_target_y_pos", 0),
							(val_add, ":value_5", 1),
						(else_try),
							(eq, ":value_6", 0),
							(assign, ":value_8_target_x_pos", 600),
							(assign, ":value_8_target_y_pos", -200),
							(val_add, ":value_6", 1),
						(else_try),
							(eq, ":value_7", 0),
							(assign, ":value_8_target_x_pos", 600),
							(assign, ":value_8_target_y_pos", -400),
							(val_add, ":value_7", 1),
						(try_end),
						(val_add, "$belfry_num_slots_positioned", 1),
						(agent_set_slot, ":value_8", slot_agent_target_x_pos, ":value_8_target_x_pos"),
						(agent_set_slot, ":value_8", slot_agent_target_y_pos, ":value_8_target_y_pos"),
					(try_end),
				(try_end),
				(try_begin),
					(store_mission_timer_a, ":mission_timer_a"),
					(gt, ":mission_timer_a", 20),
					(lt, "$belfry_num_slots_positioned", 6),
					(try_for_agents, ":value_8"),
						(agent_is_alive, ":value_8"),
						(agent_get_team, ":team_value_8", ":value_8"),
						(this_or_next|eq, "$attacker_team", ":team_value_8"),
						(eq, "$attacker_team_2", ":team_value_8"),
						(neq, ":player_agent_no", ":value_8"),
						(agent_get_slot, ":value_8_target_x_pos", ":value_8", slot_agent_target_x_pos),
						(eq, ":value_8_target_x_pos", 0),
						(assign, ":value_8_target_y_pos", 0),
						(try_begin),
							(eq, ":value_2", 0),
							(assign, ":value_8_target_x_pos", -600),
							(assign, ":value_8_target_y_pos", 0),
							(val_add, ":value_2", 1),
						(else_try),
							(eq, ":value_3", 0),
							(assign, ":value_8_target_x_pos", -600),
							(assign, ":value_8_target_y_pos", -200),
							(val_add, ":value_3", 1),
						(else_try),
							(eq, ":value_4", 0),
							(assign, ":value_8_target_x_pos", -600),
							(assign, ":value_8_target_y_pos", -400),
							(val_add, ":value_4", 1),
						(else_try),
							(eq, ":value_5", 0),
							(assign, ":value_8_target_x_pos", 600),
							(assign, ":value_8_target_y_pos", 0),
							(val_add, ":value_5", 1),
						(else_try),
							(eq, ":value_6", 0),
							(assign, ":value_8_target_x_pos", 600),
							(assign, ":value_8_target_y_pos", -200),
							(val_add, ":value_6", 1),
						(else_try),
							(eq, ":value_7", 0),
							(assign, ":value_8_target_x_pos", 600),
							(assign, ":value_8_target_y_pos", -400),
							(val_add, ":value_7", 1),
						(try_end),
						(val_add, "$belfry_num_slots_positioned", 1),
						(agent_set_slot, ":value_8", slot_agent_target_x_pos, ":value_8_target_x_pos"),
						(agent_set_slot, ":value_8", slot_agent_target_y_pos, ":value_8_target_y_pos"),
					(try_end),
				(try_end),
			(else_try),
				(assign, ":value", 1),
				(try_for_agents, ":value_8"),
					(agent_clear_scripted_mode, ":value_8"),
				(try_end),
				(set_show_messages, 0),
				(team_give_order, "$attacker_team", 9, 2),
				(set_show_messages, 1),
			(try_end),
			(eq, ":value", 1)
		]),

	("siege_move_archers_to_archer_positions",
		[
			(try_for_agents, ":var_1"),
				(agent_is_alive, ":var_1"),
				(agent_slot_eq, ":var_1", slot_agent_is_not_reinforcement, 0),
				(agent_is_defender, ":var_1"),
				(agent_get_class, ":class_var_1", ":var_1"),
				(agent_get_troop_id, ":troop_id_var_1", ":var_1"),
				(eq, ":class_var_1", 1),
				(try_begin),
					(agent_slot_eq, ":var_1", 11, 0),
					(store_random_in_range, ":random_in_range_40_44", 40, 44),
					(agent_set_slot, ":var_1", 11, ":random_in_range_40_44"),
				(try_end),
				(try_begin),
					(agent_get_position, 0, ":var_1"),
					(entry_point_get_position, 1, ":random_in_range_40_44"),
					(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
					(lt, ":distance_between_positions_0_1", 300),
					(agent_clear_scripted_mode, ":var_1"),
					(agent_set_slot, ":var_1", slot_agent_is_in_scripted_mode, 0),
					(agent_set_slot, ":var_1", slot_agent_is_not_reinforcement, 1),
					(str_store_troop_name, 1, ":troop_id_var_1"),
					(assign, reg0, ":var_1"),
				(else_try),
					(agent_get_simple_behavior, ":simple_behavior_var_1", ":var_1"),
					(agent_get_combat_state, ":combat_state_var_1", ":var_1"),
					(this_or_next|eq, ":simple_behavior_var_1", 5),
					(eq, ":simple_behavior_var_1", 1),
					(eq, ":combat_state_var_1", 7),
					(try_begin),
						(agent_slot_eq, ":var_1", slot_agent_is_in_scripted_mode, 0),
						(agent_set_scripted_destination, ":var_1", 1, 0),
						(agent_set_slot, ":var_1", slot_agent_is_in_scripted_mode, 1),
						(str_store_troop_name, 1, ":troop_id_var_1"),
						(assign, reg0, ":var_1"),
					(try_end),
				(else_try),
					(try_begin),
						(agent_slot_eq, ":var_1", slot_agent_is_in_scripted_mode, 1),
						(agent_clear_scripted_mode, ":var_1"),
						(agent_set_slot, ":var_1", slot_agent_is_in_scripted_mode, 0),
						(str_store_troop_name, 1, ":troop_id_var_1"),
						(assign, reg0, ":var_1"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("store_movement_order_name_to_s1",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(team_get_movement_order, ":movement_order_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, ":movement_order_script_param_1_script_param_2", 0),
				(str_store_string, 1, "@Holding"),
			(else_try),
				(eq, ":movement_order_script_param_1_script_param_2", 1),
				(str_store_string, 1, "@Following"),
			(else_try),
				(eq, ":movement_order_script_param_1_script_param_2", 2),
				(str_store_string, 1, "@Charging"),
			(else_try),
				(eq, ":movement_order_script_param_1_script_param_2", 5),
				(str_store_string, 1, "@Advancing"),
			(else_try),
				(eq, ":movement_order_script_param_1_script_param_2", 6),
				(str_store_string, 1, "@Falling Back"),
			(else_try),
				(eq, ":movement_order_script_param_1_script_param_2", 7),
				(str_store_string, 1, "@Standing Closer"),
			(else_try),
				(eq, ":movement_order_script_param_1_script_param_2", 8),
				(str_store_string, 1, "@Spreading Out"),
			(else_try),
				(eq, ":movement_order_script_param_1_script_param_2", 11),
				(str_store_string, 1, "@Standing"),
			(else_try),
				(str_store_string, 1, "@N/A"),
			(try_end)
		]),

	("store_riding_order_name_to_s1",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(team_get_riding_order, ":riding_order_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, ":riding_order_script_param_1_script_param_2", 0),
				(str_store_string, 1, "@Free"),
			(else_try),
				(eq, ":riding_order_script_param_1_script_param_2", 1),
				(str_store_string, 1, "@Mount"),
			(else_try),
				(eq, ":riding_order_script_param_1_script_param_2", 2),
				(str_store_string, 1, "@Dismount"),
			(else_try),
				(str_store_string, 1, "@N/A"),
			(try_end)
		]),

	("store_weapon_usage_order_name_to_s1",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(team_get_weapon_usage_order, ":weapon_usage_order_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(team_get_hold_fire_order, ":hold_fire_order_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, ":weapon_usage_order_script_param_1_script_param_2", 0),
				(eq, ":hold_fire_order_script_param_1_script_param_2", 0),
				(str_store_string, 1, "@Any Weapon"),
			(else_try),
				(eq, ":weapon_usage_order_script_param_1_script_param_2", 1),
				(eq, ":hold_fire_order_script_param_1_script_param_2", 0),
				(str_store_string, 1, "@Blunt Weapons"),
			(else_try),
				(eq, ":weapon_usage_order_script_param_1_script_param_2", 0),
				(eq, ":hold_fire_order_script_param_1_script_param_2", 1),
				(str_store_string, 1, "str_hold_fire"),
			(else_try),
				(eq, ":weapon_usage_order_script_param_1_script_param_2", 1),
				(eq, ":hold_fire_order_script_param_1_script_param_2", 1),
				(str_store_string, 1, "str_blunt_hold_fire"),
			(else_try),
				(str_store_string, 1, "@N/A"),
			(try_end)
		]),

	("team_give_order_from_order_panel",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(agent_get_team, ":team_script_param_1", ":script_param_1"),
			(set_show_messages, 0),
			(try_begin),
				(eq, "$g_formation_group0_selected", 1),
				(team_give_order, ":team_script_param_1", 0, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group1_selected", 1),
				(team_give_order, ":team_script_param_1", 1, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group2_selected", 1),
				(team_give_order, ":team_script_param_1", 2, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group3_selected", 1),
				(team_give_order, ":team_script_param_1", 3, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group4_selected", 1),
				(team_give_order, ":team_script_param_1", 4, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group5_selected", 1),
				(team_give_order, ":team_script_param_1", 5, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group6_selected", 1),
				(team_give_order, ":team_script_param_1", 6, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group7_selected", 1),
				(team_give_order, ":team_script_param_1", 7, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, "$g_formation_group8_selected", 1),
				(team_give_order, ":team_script_param_1", 8, ":script_param_2"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 0),
				(agent_get_position, 1, ":script_param_1"),
				(try_begin),
					(eq, "$g_formation_group0_selected", 1),
					(team_set_order_position, ":team_script_param_1", 0, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group1_selected", 1),
					(team_set_order_position, ":team_script_param_1", 1, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group2_selected", 1),
					(team_set_order_position, ":team_script_param_1", 2, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group3_selected", 1),
					(team_set_order_position, ":team_script_param_1", 3, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group4_selected", 1),
					(team_set_order_position, ":team_script_param_1", 4, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group5_selected", 1),
					(team_set_order_position, ":team_script_param_1", 5, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group6_selected", 1),
					(team_set_order_position, ":team_script_param_1", 6, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group7_selected", 1),
					(team_set_order_position, ":team_script_param_1", 7, 1),
				(try_end),
				(try_begin),
					(eq, "$g_formation_group8_selected", 1),
					(team_set_order_position, ":team_script_param_1", 8, 1),
				(try_end),
			(try_end),
			(call_script, "script_player_order_formations", ":script_param_2"),
			(set_show_messages, 1)
		]),

	("update_order_panel",
		[
			(store_script_param_1, ":script_param_1"),
			(set_fixed_point_multiplier, 1000),
			(try_begin),
				(eq, "$group0_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 0),
				(overlay_set_text, "$g_presentation_but0_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 0),
				(overlay_set_text, "$g_presentation_but0_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 0),
				(overlay_set_text, "$g_presentation_but0_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group1_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 1),
				(overlay_set_text, "$g_presentation_but1_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 1),
				(overlay_set_text, "$g_presentation_but1_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 1),
				(overlay_set_text, "$g_presentation_but1_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group2_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 2),
				(overlay_set_text, "$g_presentation_but2_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 2),
				(overlay_set_text, "$g_presentation_but2_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 2),
				(overlay_set_text, "$g_presentation_but2_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group3_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 3),
				(overlay_set_text, "$g_presentation_but3_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 3),
				(overlay_set_text, "$g_presentation_but3_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 3),
				(overlay_set_text, "$g_presentation_but3_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group4_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 4),
				(overlay_set_text, "$g_presentation_but4_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 4),
				(overlay_set_text, "$g_presentation_but4_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 4),
				(overlay_set_text, "$g_presentation_but4_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group5_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 5),
				(overlay_set_text, "$g_presentation_but5_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 5),
				(overlay_set_text, "$g_presentation_but5_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 5),
				(overlay_set_text, "$g_presentation_but5_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group6_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 6),
				(overlay_set_text, "$g_presentation_but6_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 6),
				(overlay_set_text, "$g_presentation_but6_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 6),
				(overlay_set_text, "$g_presentation_but6_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group7_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 7),
				(overlay_set_text, "$g_presentation_but7_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 7),
				(overlay_set_text, "$g_presentation_but7_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 7),
				(overlay_set_text, "$g_presentation_but7_weapon_usage", 1),
			(try_end),
			(try_begin),
				(eq, "$group8_has_troops", 1),
				(call_script, "script_store_movement_order_name_to_s1", ":script_param_1", 8),
				(overlay_set_text, "$g_presentation_but8_movement", 1),
				(call_script, "script_store_riding_order_name_to_s1", ":script_param_1", 8),
				(overlay_set_text, "$g_presentation_but8_riding", 1),
				(call_script, "script_store_weapon_usage_order_name_to_s1", ":script_param_1", 8),
				(overlay_set_text, "$g_presentation_but8_weapon_usage", 1),
			(try_end),
			(assign, ":var_2", 660),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group0_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but0_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but0_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but0_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group1_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but1_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but1_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but1_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group2_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but2_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but2_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but2_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group3_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but3_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but3_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but3_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group4_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but4_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but4_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but4_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group5_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but5_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but5_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but5_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group6_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but6_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but6_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but6_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group7_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but7_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but7_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but7_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end),
			(try_begin),
				(position_set_y, 1, ":var_2"),
				(eq, "$group8_has_troops", 1),
				(position_set_x, 1, 270),
				(overlay_set_position, "$g_presentation_but8_movement", 1),
				(position_set_x, 1, 410),
				(overlay_set_position, "$g_presentation_but8_riding", 1),
				(position_set_x, 1, 550),
				(overlay_set_position, "$g_presentation_but8_weapon_usage", 1),
				(val_add, ":var_2", -40),
			(try_end)
		]),

	("update_agent_position_on_map",
		[
			(store_script_param_1, ":script_param_1"),
			(agent_get_slot, ":script_param_1_map_overlay_id", ":script_param_1", slot_agent_map_overlay_id),
			(get_player_agent_no, ":player_agent_no"),
			(try_begin),
				(le, ":script_param_1_map_overlay_id", 0),
				(set_fixed_point_multiplier, 1000),
				(try_begin),
					(eq, ":script_param_1", ":player_agent_no"),
					(create_mesh_overlay, reg1, "mesh_player_dot"),
					(position_set_x, 1, 500),
					(position_set_y, 1, 500),
					(overlay_set_size, reg1, 1),
				(else_try),
					(create_mesh_overlay, reg1, "mesh_white_dot"),
					(position_set_x, 1, 200),
					(position_set_y, 1, 200),
					(overlay_set_size, reg1, 1),
				(try_end),
				(overlay_set_alpha, reg1, 136),
				(agent_set_slot, ":script_param_1", slot_agent_map_overlay_id, reg1),
				(assign, ":script_param_1_map_overlay_id", reg1),
			(try_end),
			(try_begin),
				(neq, ":script_param_1", ":player_agent_no"),
				(agent_get_party_id, ":party_id_script_param_1", ":script_param_1"),
				(try_begin),
					(eq, ":party_id_script_param_1", "p_main_party"),
					(agent_get_division, ":division_script_param_1", ":script_param_1"),
					(try_begin),
						(eq, ":division_script_param_1", 0),
						(overlay_set_color, ":script_param_1_map_overlay_id", 9261600),
					(else_try),
						(eq, ":division_script_param_1", 1),
						(overlay_set_color, ":script_param_1_map_overlay_id", 3458788),
					(else_try),
						(eq, ":division_script_param_1", 2),
						(overlay_set_color, ":script_param_1_map_overlay_id", 5674521),
					(else_try),
						(eq, ":division_script_param_1", 3),
						(overlay_set_color, ":script_param_1_map_overlay_id", 16770304),
					(else_try),
						(eq, ":division_script_param_1", 4),
						(overlay_set_color, ":script_param_1_map_overlay_id", 10027161),
					(else_try),
						(eq, ":division_script_param_1", 5),
						(overlay_set_color, ":script_param_1_map_overlay_id", 10092160),
					(else_try),
						(eq, ":division_script_param_1", 6),
						(overlay_set_color, ":script_param_1_map_overlay_id", 10350590),
					(else_try),
						(eq, ":division_script_param_1", 7),
						(overlay_set_color, ":script_param_1_map_overlay_id", 16698269),
					(else_try),
						(eq, ":division_script_param_1", 8),
						(overlay_set_color, ":script_param_1_map_overlay_id", 11639964),
					(try_end),
				(else_try),
					(agent_is_ally, ":script_param_1"),
					(overlay_set_color, ":script_param_1_map_overlay_id", 5592575),
				(else_try),
					(overlay_set_color, ":script_param_1_map_overlay_id", 16711680),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", ":player_agent_no"),
				(agent_get_look_position, 1, ":script_param_1"),
				(position_get_rotation_around_z, ":position_rotation_around_z_1", 1),
				(init_position, 10),
				(position_rotate_z, 10, ":position_rotation_around_z_1"),
				(overlay_set_mesh_rotation, ":script_param_1_map_overlay_id", 10),
				(call_script, "script_convert_3d_pos_to_map_pos"),
			(else_try),
				(agent_get_position, 1, ":script_param_1"),
				(call_script, "script_convert_3d_pos_to_map_pos"),
			(try_end),
			(overlay_set_position, ":script_param_1_map_overlay_id", 0)
		]),

	("convert_3d_pos_to_map_pos",
		[
			(set_fixed_point_multiplier, 1000),
			(position_transform_position_to_local, 3, 2, 1),
			(position_get_x, ":position_x_3", 3),
			(position_get_y, ":position_y_3", 3),
			(val_div, ":position_x_3", "$g_battle_map_scale"),
			(val_div, ":position_y_3", "$g_battle_map_scale"),
			(set_fixed_point_multiplier, 1000),
			(store_sub, ":value", 980, "$g_battle_map_width"),
			(store_sub, ":value_2", 730, "$g_battle_map_height"),
			(val_add, ":position_x_3", ":value"),
			(val_add, ":position_y_3", ":value_2"),
			(position_set_x, 0, ":position_x_3"),
			(position_set_y, 0, ":position_y_3")
		]),

	("update_order_flags_on_map",
		[
			(set_fixed_point_multiplier, 1000),
			(get_player_agent_no, ":player_agent_no"),
			(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
			(get_scene_boundaries, 2, 3),
			(team_get_movement_order, ":movement_order_team_player_agent_no_0", ":team_player_agent_no", 0),
			(try_begin),
				(eq, ":movement_order_team_player_agent_no_0", 0),
				(team_get_order_position, 1, ":team_player_agent_no", 0),
				(call_script, "script_convert_3d_pos_to_map_pos"),
				(overlay_set_alpha, "$g_battle_map_infantry_order_flag", 255),
				(overlay_set_position, "$g_battle_map_infantry_order_flag", 0),
			(else_try),
				(overlay_set_alpha, "$g_battle_map_infantry_order_flag", 0),
			(try_end),
			(team_get_movement_order, ":movement_order_team_player_agent_no_0", ":team_player_agent_no", 1),
			(try_begin),
				(eq, ":movement_order_team_player_agent_no_0", 0),
				(team_get_order_position, 1, ":team_player_agent_no", 1),
				(call_script, "script_convert_3d_pos_to_map_pos"),
				(overlay_set_alpha, "$g_battle_map_archers_order_flag", 255),
				(overlay_set_position, "$g_battle_map_archers_order_flag", 0),
			(else_try),
				(overlay_set_alpha, "$g_battle_map_archers_order_flag", 0),
			(try_end),
			(team_get_movement_order, ":movement_order_team_player_agent_no_0", ":team_player_agent_no", 2),
			(try_begin),
				(eq, ":movement_order_team_player_agent_no_0", 0),
				(team_get_order_position, 1, ":team_player_agent_no", 2),
				(call_script, "script_convert_3d_pos_to_map_pos"),
				(overlay_set_alpha, "$g_battle_map_cavalry_order_flag", 255),
				(overlay_set_position, "$g_battle_map_cavalry_order_flag", 0),
			(else_try),
				(overlay_set_alpha, "$g_battle_map_cavalry_order_flag", 0),
				(assign, ":var_4", "$g_battle_map_cavalry_order_flag"),
				(try_for_range, ":number", 3, 9),
					(val_add, ":var_4", 1),
					(team_get_movement_order, ":movement_order_team_player_agent_no_0", ":team_player_agent_no", ":number"),
					(eq, ":movement_order_team_player_agent_no_0", 0),
					(team_get_order_position, 1, ":team_player_agent_no", ":number"),
					(call_script, "script_convert_3d_pos_to_map_pos"),
					(overlay_set_alpha, ":var_4", 255),
					(try_begin),
						(neq, ":number", 8),
						(neq, ":number", 6),
						(position_get_x, reg0, 0),
						(val_sub, reg0, 13),
						(position_set_x, 0, reg0),
					(else_try),
						(eq, ":number", 8),
						(position_get_y, reg0, 0),
						(val_add, reg0, 8),
						(position_set_y, 0, reg0),
					(try_end),
					(overlay_set_position, ":var_4", 0),
				(else_try),
					(overlay_set_alpha, ":var_4", 0),
				(try_end),
			(try_end)
		]),

	("update_order_panel_checked_classes",
		[
			(get_player_agent_no, ":player_agent_no"),
			(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
			(try_begin),
				(eq, "$group0_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check0", 1),
				(assign, "$g_formation_group0_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but0", 250, 68),
			(else_try),
				(eq, "$group0_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check0", 0),
				(assign, "$g_formation_group0_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but0", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group1_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check1", 1),
				(assign, "$g_formation_group1_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but1", 250, 68),
			(else_try),
				(eq, "$group1_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check1", 0),
				(assign, "$g_formation_group1_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but1", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group2_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 2),
				(overlay_set_val, "$g_presentation_obj_battle_check2", 1),
				(assign, "$g_formation_group2_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but2", 250, 68),
			(else_try),
				(eq, "$group2_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check2", 0),
				(assign, "$g_formation_group2_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but2", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group3_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 3),
				(overlay_set_val, "$g_presentation_obj_battle_check3", 1),
				(assign, "$g_formation_group3_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but3", 250, 68),
			(else_try),
				(eq, "$group3_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check3", 0),
				(assign, "$g_formation_group3_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but3", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group4_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 4),
				(overlay_set_val, "$g_presentation_obj_battle_check4", 1),
				(assign, "$g_formation_group4_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but4", 250, 68),
			(else_try),
				(eq, "$group4_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check4", 0),
				(assign, "$g_formation_group4_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but4", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group5_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 5),
				(overlay_set_val, "$g_presentation_obj_battle_check5", 1),
				(assign, "$g_formation_group5_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but5", 250, 68),
			(else_try),
				(eq, "$group5_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check5", 0),
				(assign, "$g_formation_group5_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but5", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group6_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 6),
				(overlay_set_val, "$g_presentation_obj_battle_check6", 1),
				(assign, "$g_formation_group6_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but6", 250, 68),
			(else_try),
				(eq, "$group6_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check6", 0),
				(assign, "$g_formation_group6_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but6", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group7_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 7),
				(overlay_set_val, "$g_presentation_obj_battle_check7", 1),
				(assign, "$g_formation_group7_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but7", 250, 68),
			(else_try),
				(eq, "$group7_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check7", 0),
				(assign, "$g_formation_group7_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but7", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group8_has_troops", 1),
				(class_is_listening_order, ":team_player_agent_no", 8),
				(overlay_set_val, "$g_presentation_obj_battle_check8", 1),
				(assign, "$g_formation_group8_selected", 1),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but8", 250, 68),
			(else_try),
				(eq, "$group8_has_troops", 1),
				(overlay_set_val, "$g_presentation_obj_battle_check8", 0),
				(assign, "$g_formation_group8_selected", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but8", 250, 0),
			(try_end)
		]),

	("update_order_panel_statistics_and_map",
		[
			(set_fixed_point_multiplier, 1000),
			(assign, ":var_1", 0),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(assign, ":var_5", 0),
			(assign, ":var_6", 0),
			(assign, ":var_7", 0),
			(assign, ":var_8", 0),
			(assign, ":var_9", 0),
			(assign, ":var_10", 0),
			(assign, ":var_11", 0),
			(assign, ":var_12", 0),
			(assign, ":var_13", 0),
			(assign, ":var_14", 0),
			(assign, ":var_15", 0),
			(assign, ":var_16", 0),
			(assign, ":var_17", 0),
			(assign, ":var_18", 0),
			(assign, ":var_19", 0),
			(assign, ":var_20", 0),
			(assign, ":var_21", 0),
			(get_scene_boundaries, 2, 3),
			(try_for_agents, ":var_22"),
				(agent_is_human, ":var_22"),
				(agent_get_division, ":division_var_22", ":var_22"),
				(agent_get_party_id, ":party_id_var_22", ":var_22"),
				(agent_get_slot, ":var_22_map_overlay_id", ":var_22", slot_agent_map_overlay_id),
				(try_begin),
					(eq, ":party_id_var_22", "p_main_party"),
					(try_begin),
						(agent_is_alive, ":var_22"),
						(call_script, "script_update_agent_position_on_map", ":var_22"),
						(try_begin),
							(eq, ":division_var_22", 0),
							(val_add, ":var_1", 1),
							(eq, "$group0_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 1),
							(val_add, ":var_2", 1),
							(eq, "$group1_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 2),
							(val_add, ":var_3", 1),
							(eq, "$group2_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 3),
							(val_add, ":var_4", 1),
							(eq, "$group3_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 4),
							(val_add, ":var_5", 1),
							(eq, "$group4_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 5),
							(val_add, ":var_6", 1),
							(eq, "$group5_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 6),
							(val_add, ":var_7", 1),
							(eq, "$group6_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 7),
							(val_add, ":var_8", 1),
							(eq, "$group7_has_troops", 1),
						(else_try),
							(eq, ":division_var_22", 8),
							(val_add, ":var_9", 1),
							(eq, "$group8_has_troops", 1),
						(try_end),
						(val_add, ":var_10", 1),
					(else_try),
						(overlay_set_alpha, ":var_22_map_overlay_id", 0),
						(agent_is_wounded, ":var_22"),
						(val_add, ":var_11", 1),
					(else_try),
						(agent_is_routed, ":var_22"),
						(val_add, ":var_12", 1),
					(else_try),
						(val_add, ":var_13", 1),
					(try_end),
				(else_try),
					(agent_is_ally, ":var_22"),
					(try_begin),
						(agent_is_alive, ":var_22"),
						(call_script, "script_update_agent_position_on_map", ":var_22"),
						(val_add, ":var_14", 1),
					(else_try),
						(overlay_set_alpha, ":var_22_map_overlay_id", 0),
						(agent_is_wounded, ":var_22"),
						(val_add, ":var_15", 1),
					(else_try),
						(agent_is_routed, ":var_22"),
						(val_add, ":var_16", 1),
					(else_try),
						(val_add, ":var_17", 1),
					(try_end),
				(else_try),
					(try_begin),
						(agent_is_alive, ":var_22"),
						(call_script, "script_update_agent_position_on_map", ":var_22"),
						(val_add, ":var_18", 1),
					(else_try),
						(overlay_set_alpha, ":var_22_map_overlay_id", 0),
						(agent_is_wounded, ":var_22"),
						(val_add, ":var_19", 1),
					(else_try),
						(agent_is_routed, ":var_22"),
						(val_add, ":var_20", 1),
					(else_try),
						(val_add, ":var_21", 1),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg1, ":var_1"),
			(assign, reg2, ":var_2"),
			(assign, reg3, ":var_3"),
			(assign, reg4, ":var_4"),
			(assign, reg5, ":var_5"),
			(assign, reg6, ":var_6"),
			(assign, reg7, ":var_7"),
			(assign, reg8, ":var_8"),
			(assign, reg9, ":var_9"),
			(assign, reg10, ":var_10"),
			(assign, reg11, ":var_11"),
			(assign, reg12, ":var_12"),
			(assign, reg13, ":var_13"),
			(assign, reg14, ":var_14"),
			(assign, reg15, ":var_15"),
			(assign, reg16, ":var_16"),
			(assign, reg17, ":var_17"),
			(assign, reg18, ":var_18"),
			(assign, reg19, ":var_19"),
			(assign, reg20, ":var_20"),
			(assign, reg21, ":var_21"),
			(try_begin),
				(eq, "$group0_has_troops", 1),
				(str_store_class_name, 1, 0),
				(overlay_set_text, "$g_presentation_obj_battle_name0", "str_s1_reg1"),
			(try_end),
			(try_begin),
				(eq, "$group1_has_troops", 1),
				(str_store_class_name, 1, 1),
				(overlay_set_text, "$g_presentation_obj_battle_name1", "str_s1_reg2"),
			(try_end),
			(try_begin),
				(eq, "$group2_has_troops", 1),
				(str_store_class_name, 1, 2),
				(overlay_set_text, "$g_presentation_obj_battle_name2", "str_s1_reg3"),
			(try_end),
			(try_begin),
				(eq, "$group3_has_troops", 1),
				(str_store_class_name, 1, 3),
				(overlay_set_text, "$g_presentation_obj_battle_name3", "str_s1_reg4"),
			(try_end),
			(try_begin),
				(eq, "$group4_has_troops", 1),
				(str_store_class_name, 1, 4),
				(overlay_set_text, "$g_presentation_obj_battle_name4", "str_s1_reg5"),
			(try_end),
			(try_begin),
				(eq, "$group5_has_troops", 1),
				(str_store_class_name, 1, 5),
				(overlay_set_text, "$g_presentation_obj_battle_name5", "str_s1_reg6"),
			(try_end),
			(try_begin),
				(eq, "$group6_has_troops", 1),
				(str_store_class_name, 1, 6),
				(overlay_set_text, "$g_presentation_obj_battle_name6", "str_s1_reg7"),
			(try_end),
			(try_begin),
				(eq, "$group7_has_troops", 1),
				(str_store_class_name, 1, 7),
				(overlay_set_text, "$g_presentation_obj_battle_name7", "str_s1_reg8"),
			(try_end),
			(try_begin),
				(eq, "$group8_has_troops", 1),
				(str_store_class_name, 1, 8),
				(overlay_set_text, "$g_presentation_obj_battle_name8", "str_s1_reg9"),
			(try_end),
			(overlay_set_text, "$g_battle_us_ready", "@{!}{reg10}"),
			(overlay_set_text, "$g_battle_us_wounded", "@{!}{reg11}"),
			(overlay_set_text, "$g_battle_us_routed", "@{!}{reg12}"),
			(overlay_set_text, "$g_battle_us_dead", "str_reg13"),
			(overlay_set_text, "$g_battle_allies_ready", "str_reg14"),
			(overlay_set_text, "$g_battle_allies_wounded", "str_reg15"),
			(overlay_set_text, "$g_battle_allies_routed", "str_reg16"),
			(overlay_set_text, "$g_battle_allies_dead", "str_reg17"),
			(overlay_set_text, "$g_battle_enemies_ready", "str_reg18"),
			(overlay_set_text, "$g_battle_enemies_wounded", "str_reg19"),
			(overlay_set_text, "$g_battle_enemies_routed", "str_reg20"),
			(overlay_set_text, "$g_battle_enemies_dead", "str_reg21"),
			(assign, ":var_26", 675),
			(assign, ":var_27", 280),
			(val_add, ":var_26", 70),
			(val_add, ":var_27", 60),
			(position_set_x, 1, ":var_26"),
			(position_set_y, 1, ":var_27"),
			(overlay_set_position, "$g_battle_us_ready", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_us_wounded", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_us_routed", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_us_dead", 1),
			(val_add, ":var_26", -210),
			(val_add, ":var_27", -30),
			(position_set_x, 1, ":var_26"),
			(position_set_y, 1, ":var_27"),
			(overlay_set_position, "$g_battle_allies_ready", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_allies_wounded", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_allies_routed", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_allies_dead", 1),
			(val_add, ":var_26", -210),
			(val_add, ":var_27", -30),
			(position_set_x, 1, ":var_26"),
			(position_set_y, 1, ":var_27"),
			(overlay_set_position, "$g_battle_enemies_ready", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_enemies_wounded", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_enemies_routed", 1),
			(val_add, ":var_26", 70),
			(position_set_x, 1, ":var_26"),
			(overlay_set_position, "$g_battle_enemies_dead", 1),
			(call_script, "script_update_order_flags_on_map"),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_inventory_0", "spr_inventory", 0),
				(ge, ":scene_prop_instance_inventory_0", 0),
				(prop_instance_get_position, 1, ":scene_prop_instance_inventory_0"),
				(call_script, "script_convert_3d_pos_to_map_pos"),
				(overlay_set_position, "$g_presentation_obj_39", 0),
			(try_end)
		]),

	("set_town_picture",
		[
			(try_begin),
				(party_get_current_terrain, ":current_terrain_l_current_town", "$current_town"),
				(party_slot_eq, "$current_town", slot_party_type, 3),
				(try_begin),
					(this_or_next|eq, ":current_terrain_l_current_town", 5),
					(eq, ":current_terrain_l_current_town", 13),
					(set_background_mesh, "mesh_pic_towndes"),
				(else_try),
					(this_or_next|eq, ":current_terrain_l_current_town", 2),
					(eq, ":current_terrain_l_current_town", 10),
					(set_background_mesh, "mesh_pic_townsnow"),
				(else_try),
					(set_background_mesh, "mesh_pic_town1"),
				(try_end),
			(else_try),
				(try_begin),
					(this_or_next|eq, ":current_terrain_l_current_town", 5),
					(eq, ":current_terrain_l_current_town", 13),
					(set_background_mesh, "mesh_pic_castledes"),
				(else_try),
					(this_or_next|eq, ":current_terrain_l_current_town", 2),
					(eq, ":current_terrain_l_current_town", 10),
					(set_background_mesh, "mesh_pic_castlesnow"),
				(else_try),
					(set_background_mesh, "mesh_pic_castle1"),
				(try_end),
			(try_end)
		]),

	("consume_food",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(try_for_range, ":number", 0, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(is_between, ":inventory_slot_player_number", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":number"),
				(neq, ":inventory_slot_modifier_player_number", 41),
				(item_slot_eq, ":inventory_slot_player_number", slot_item_is_checked, 0),
				(item_set_slot, ":inventory_slot_player_number", slot_item_is_checked, 1),
				(val_sub, ":script_param_1", 1),
				(lt, ":script_param_1", 0),
				(assign, ":inventory_capacity_player", 0),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_player_number", "trp_player", ":number"),
				(store_add, ":value", "$g_twice_consum_food", 1),
				(val_sub, ":troop_inventory_slot_item_amount_player_number", ":value"),
				(val_max, ":troop_inventory_slot_item_amount_player_number", 0),
				(troop_inventory_slot_set_item_amount, "trp_player", ":number", ":troop_inventory_slot_item_amount_player_number"),
			(try_end)
		]),

	("calculate_troop_score_for_center",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", 1),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(assign, ":value", 0),
				(try_begin),
					(eq, ":script_param_1", "trp_player"),
					(party_slot_eq, ":party", slot_town_lord, -2),
					(assign, ":value", 1),
				(try_end),
				(this_or_next|party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(eq, ":value", 1),
				(try_begin),
					(party_slot_eq, ":party", slot_party_type, 3),
					(val_add, ":var_3", 4),
				(else_try),
					(party_slot_eq, ":party", slot_party_type, 2),
					(val_add, ":var_3", 2),
				(else_try),
					(val_add, ":var_3", 1),
				(try_end),
			(try_end),
			(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
			(store_add, ":value_2", 500, ":script_param_1_renown"),
			(val_div, ":value_2", ":var_3"),
			(store_random_in_range, ":random_in_range_50_100", 50, 100),
			(val_mul, ":value_2", ":random_in_range_50_100"),
			(try_begin),
				(party_slot_eq, ":script_param_2", slot_center_last_taken_by_troop, ":script_param_1"),
				(val_mul, ":value_2", 3),
				(val_div, ":value_2", 2),
			(else_try),
				(ge, "$g_dplmc_ai_changes", 0),
				(party_slot_ge, ":script_param_2", 402, 1),
				(party_slot_eq, ":script_param_2", 402, ":script_param_1"),
				(val_mul, ":value_2", 3),
				(val_div, ":value_2", 2),
			(else_try),
				(ge, "$g_dplmc_ai_changes", 0),
				(party_slot_ge, ":script_param_2", 401, 1),
				(party_slot_eq, ":script_param_2", 401, ":script_param_1"),
				(val_mul, ":value_2", 3),
				(val_div, ":value_2", 2),
			(else_try),
				(ge, "$g_dplmc_ai_changes", 0),
				(troop_slot_eq, ":script_param_1", slot_troop_home, ":script_param_2"),
				(val_mul, ":value_2", 3),
				(val_div, ":value_2", 2),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(call_script, "script_troop_get_player_relation", ":players_kingdom_leader"),
				(assign, ":var_10", reg0),
				(val_mul, ":var_10", 2),
				(val_add, ":value_2", ":var_10"),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("assign_lords_to_empty_centers",
		[
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_assigning_lords_to_empty_centers"),
				(str_store_string, 65, "str_assign_lords_to_empty_centers_just_happened"),
				(call_script, "script_add_notification_menu", "mnu_debug_alert_from_s65", 0, 0),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_set_slot, ":faction", slot_faction_temp_slot, 0),
			(try_end),
			(try_for_range, ":number", 0, "trp_knight_1_1_wife"),
				(troop_set_slot, ":number", slot_troop_temp_slot, 0),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
				(try_begin),
					(this_or_next|eq, ":party_town_lord", -1),
					(eq, ":party_town_lord", -3),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_party_name, 4, ":party"),
						(str_store_faction_name, 5, ":faction_of_party_party"),
						(display_message, "str_s4_of_the_s5_is_unassigned"),
					(try_end),
					(faction_get_slot, ":faction_of_party_party_temp_slot", ":faction_of_party_party", slot_faction_temp_slot),
					(val_add, ":faction_of_party_party_temp_slot", 1),
					(faction_set_slot, ":faction_of_party_party", slot_faction_temp_slot, ":faction_of_party_party_temp_slot"),
				(else_try),
					(eq, ":party_town_lord", -2),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_party_name, 4, ":party"),
						(str_store_faction_name, 5, ":faction_of_party_party"),
						(display_message, "str_s4_of_the_s5_is_reserved_for_player"),
					(try_end),
				(else_try),
					(ge, ":party_town_lord", 0),
					(troop_set_slot, ":party_town_lord", slot_troop_temp_slot, 1),
				(try_end),
			(try_end),
			(try_for_range, ":number", 0, "trp_knight_1_1_wife"),
				(troop_slot_eq, ":number", slot_troop_occupation, 2),
				(this_or_next|gt, ":number", "trp_player"),
				(eq, "$player_has_homage", 1),
				(troop_slot_eq, ":number", slot_troop_temp_slot, 0),
				(store_faction_of_troop, ":faction_of_troop_number", ":number"),
				(is_between, ":faction_of_troop_number", "fac_kingdom_1", "fac_kingdoms_end"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":number"),
					(str_store_faction_name, 5, ":faction_of_troop_number"),
					(display_message, "str_s4_of_the_s5_has_no_fiefs"),
				(try_end),
				(faction_get_slot, ":faction_of_party_party_temp_slot", ":faction_of_troop_number", slot_faction_temp_slot),
				(val_add, ":faction_of_party_party_temp_slot", 1),
				(faction_set_slot, ":faction_of_troop_number", slot_faction_temp_slot, ":faction_of_party_party_temp_slot"),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_get_slot, reg4, ":faction", slot_faction_temp_slot),
					(str_store_faction_name, 4, ":faction"),
					(display_message, "str_s4_unassigned_centers_plus_landless_lords_=_reg4"),
				(try_end),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
				(this_or_next|eq, ":party_town_lord", -1),
				(eq, ":party_town_lord", -3),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(is_between, ":faction_of_party_party", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neg|faction_slot_eq, ":faction_of_party_party", slot_faction_leader, "trp_player"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_party_name, 5, ":party"),
					(try_begin),
						(neg|faction_slot_ge, ":faction_of_party_party", 12, 2),
						(str_store_faction_name, 4, ":faction_of_party_party"),
						(display_message, "str_s4_holds_s5_in_reserve"),
					(try_end),
				(try_end),
				(faction_slot_ge, ":faction_of_party_party", 12, 2),
				(assign, ":value", -1),
				(assign, ":value_2", -1),
				(try_begin),
					(eq, ":party_town_lord", -1),
					(try_begin),
						(eq, "$players_kingdom", ":faction_of_party_party"),
						(eq, "$player_has_homage", 1),
						(assign, ":value", -2),
						(call_script, "script_calculate_troop_score_for_center", "trp_player", ":party"),
						(assign, ":value_2", reg0),
					(try_end),
				(try_end),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", ":faction_of_party_party"),
					(call_script, "script_calculate_troop_score_for_center", ":troop", ":party"),
					(assign, ":var_12", reg0),
					(try_begin),
						(troop_slot_eq, ":troop", slot_troop_temp_slot, 0),
						(is_between, ":party", "p_village_1", "p_salt_mine"),
						(val_mul, ":var_12", 10),
					(try_end),
					(gt, ":var_12", ":value_2"),
					(assign, ":value_2", ":var_12"),
					(assign, ":value", ":troop"),
				(try_end),
				(try_begin),
					(this_or_next|ge, ":value", 0),
					(eq, ":value", -2),
					(faction_get_slot, ":faction_of_party_party_temp_slot_2", ":faction_of_party_party", slot_faction_temp_slot),
					(val_sub, ":faction_of_party_party_temp_slot_2", 1),
					(try_begin),
						(eq, ":value", -2),
						(troop_slot_eq, "trp_player", slot_troop_temp_slot, 0),
						(troop_set_slot, "trp_player", slot_troop_temp_slot, 1),
						(val_sub, ":faction_of_party_party_temp_slot_2", 1),
					(else_try),
						(troop_slot_eq, ":value", slot_troop_temp_slot, 0),
						(troop_set_slot, ":value", slot_troop_temp_slot, 1),
						(val_sub, ":faction_of_party_party_temp_slot_2", 1),
					(try_end),
					(faction_set_slot, ":faction_of_party_party", slot_faction_temp_slot, ":faction_of_party_party_temp_slot_2"),
				(try_end),
				(try_begin),
					(ge, ":value", 0),
					(call_script, "script_give_center_to_lord", ":party", ":value", 1),
				(else_try),
					(eq, ":value", -2),
					(party_set_slot, ":party", slot_town_lord, -2),
					(try_begin),
						(party_slot_eq, ":party", slot_party_type, 2),
						(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
							(party_slot_eq, ":party_2", slot_village_bound_center, ":party"),
							(party_slot_eq, ":party_2", slot_town_lord, -1),
							(party_set_slot, ":party_2", slot_town_lord, -2),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("create_village_farmer_party",
		[
			(store_script_param, ":script_param_1", 1),
			(party_get_slot, ":script_param_1_village_market_town", ":script_param_1", slot_village_market_town),
			(store_faction_of_party, ":faction_of_party_script_param_1_village_market_town", ":script_param_1_village_market_town"),
			(try_begin),
				(is_between, ":script_param_1_village_market_town", "p_town_1", "p_castle_1"),
				(set_spawn_radius, 0),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(spawn_around_party, ":script_param_1", "pt_village_farmers"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(spawn_around_party, ":script_param_1", "pt_village_farmers_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(spawn_around_party, ":script_param_1", "pt_village_farmers_e"),
				(try_end),
				(assign, ":var_4", reg0),
				(party_set_faction, ":var_4", ":faction_of_party_script_param_1_village_market_town"),
				(party_set_slot, ":var_4", slot_party_home_center, ":script_param_1"),
				(party_set_slot, ":var_4", slot_party_last_traded_center, ":script_param_1"),
				(party_set_slot, ":var_4", slot_party_type, 15),
				(party_set_slot, ":var_4", slot_party_ai_state, 13),
				(party_set_slot, ":var_4", slot_party_ai_object, ":script_param_1_village_market_town"),
				(party_set_ai_behavior, ":var_4", 1),
				(party_set_ai_object, ":var_4", ":script_param_1_village_market_town"),
				(party_set_flags, ":var_4", 65536, 0),
				(store_sub, ":value", 267, "itm_trade_spice"),
				(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
					(store_add, ":value_2", ":item", ":value"),
					(party_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
					(party_set_slot, ":var_4", ":value_2", ":script_param_1_value_2"),
				(try_end),
				(assign, reg0, ":var_4"),
			(try_end)
		]),

	("do_villager_center_trade",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", 30),
			(assign, ":var_4", 0),
			(store_sub, ":value", 267, "itm_trade_spice"),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(store_add, ":value_2", ":item", ":value"),
				(party_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
				(party_get_slot, ":script_param_2_value_2", ":script_param_2", ":value_2"),
				(store_sub, ":value_3", ":script_param_1_value_2", ":script_param_2_value_2"),
				(assign, ":var_11", ":value_3"),
				(val_abs, ":var_11"),
				(val_add, ":var_4", ":var_11"),
				(val_mul, ":var_11", ":var_3"),
				(val_div, ":var_11", 100),
				(try_begin),
					(lt, ":value_3", 0),
					(val_mul, ":var_11", -1),
				(try_end),
				(val_add, ":script_param_2_value_2", ":var_11"),
				(party_set_slot, ":script_param_2", ":value_2", ":script_param_2_value_2"),
			(try_end),
			(assign, reg0, ":var_4")
		]),

	("do_party_center_trade",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, "$cheat_mode", 3),
				(str_store_party_name, 1, ":script_param_2"),
				(display_message, "@{!}DEBUG : {s1} is trading with villagers"),
			(try_end),
			(store_script_param, ":script_param_3", 3),
			(party_get_slot, ":script_param_1_last_traded_center", ":script_param_1", slot_party_last_traded_center),
			(party_set_slot, ":script_param_1", slot_party_last_traded_center, ":script_param_2"),
			(assign, ":script_param_3", 30),
			(party_get_slot, ":script_param_1_last_traded_center", ":script_param_1", slot_party_last_traded_center),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 0),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 3),
				(is_between, ":script_param_2", "p_town_1", "p_castle_1"),
				(val_add, ":script_param_3", 1),
				(store_random_in_range, ":script_param_3", 0, ":script_param_3"),
				(ge, "$cheat_mode", 3),
				(str_store_party_name, 3, ":script_param_1_last_traded_center"),
				(str_store_party_name, 4, ":script_param_2"),
				(assign, reg4, ":script_param_3"),
				(display_message, "@{!}DEBUG -- Trade from {s3} to {s4}: rolled random impact of {reg4}"),
			(try_end),
			(party_get_slot, ":script_param_1_last_traded_center", ":script_param_1", slot_party_last_traded_center),
			(party_set_slot, ":script_param_1", slot_party_last_traded_center, ":script_param_2"),
			(try_begin),
				(ge, ":script_param_1_last_traded_center", "p_town_1"),
				(this_or_next|party_slot_eq, ":script_param_1_last_traded_center", slot_party_type, 4),
				(is_between, ":script_param_1_last_traded_center", "p_village_1", "p_salt_mine"),
				(store_current_hours, ":current_hours"),
				(party_set_slot, ":script_param_1_last_traded_center", 408, ":current_hours"),
			(try_end),
			(try_begin),
				(ge, ":script_param_1_last_traded_center", "p_town_1"),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 3),
				(is_between, ":script_param_2", "p_town_1", "p_castle_1"),
				(store_current_hours, ":current_hours"),
				(try_for_range, ":number", 190, 205),
					(party_slot_eq, ":script_param_2", ":number", ":script_param_1_last_traded_center"),
					(store_sub, ":value", ":number", 190),
					(val_add, ":value", 407),
					(is_between, ":value", 407, 422),
					(party_set_slot, ":script_param_2", ":value", ":current_hours"),
				(try_end),
			(else_try),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 4),
				(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
				(store_current_hours, ":current_hours"),
				(party_set_slot, ":script_param_2", 407, ":current_hours"),
			(try_end),
			(assign, ":var_8", 0),
			(store_sub, ":value_2", 267, "itm_trade_spice"),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(store_add, ":value_3", ":item", ":value_2"),
				(party_get_slot, ":script_param_1_value_3", ":script_param_1", ":value_3"),
				(party_get_slot, ":script_param_2_value_3", ":script_param_2", ":value_3"),
				(store_sub, ":value_4", ":script_param_1_value_3", ":script_param_2_value_3"),
				(assign, ":var_15", ":value_4"),
				(val_abs, ":var_15"),
				(val_add, ":var_8", ":var_15"),
				(val_mul, ":var_15", ":script_param_3"),
				(val_div, ":var_15", 100),
				(try_begin),
					(lt, ":value_4", 0),
					(val_mul, ":var_15", -1),
				(try_end),
				(assign, ":var_16", ":script_param_2_value_3"),
				(party_set_slot, ":script_param_1", ":value_3", ":script_param_2_value_3"),
				(val_add, ":script_param_2_value_3", ":var_15"),
				(party_set_slot, ":script_param_2", ":value_3", ":script_param_2_value_3"),
				(try_begin),
					(eq, "$cheat_mode", 3),
					(str_store_party_name, 3, ":script_param_1_last_traded_center"),
					(str_store_party_name, 4, ":script_param_2"),
					(str_store_item_name, 5, ":item"),
					(assign, reg4, ":var_16"),
					(assign, reg5, ":script_param_2_value_3"),
					(display_log_message, "@{!}DEBUG -- Trade of {s5} from {s3} to {s4} brings price from {reg4} to {reg5}"),
				(try_end),
			(try_end),
			(assign, reg0, ":var_8")
		]),

	("player_join_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, "$players_kingdom", ":script_param_1"),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_ai_state, 0),
			(assign, "$players_oath_renounced_against_kingdom", 0),
			(assign, "$players_oath_renounced_given_center", 0),
			(assign, "$players_oath_renounced_begin_time", 0),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(neq, ":faction", "fac_player_supporters_faction"),
				(try_begin),
					(neq, ":faction", ":script_param_1"),
					(store_relation, ":relation_faction_script_param_1", ":faction", ":script_param_1"),
				(else_try),
					(store_relation, ":relation_faction_script_param_1", "fac_player_supporters_faction", ":faction"),
					(val_max, ":relation_faction_script_param_1", 12),
				(try_end),
				(call_script, "script_set_player_relation_with_faction", ":faction", ":relation_faction_script_param_1"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_town_lord, "trp_player"),
				(call_script, "script_give_center_to_faction_while_maintaining_lord", ":party", ":script_param_1"),
			(else_try),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
				(call_script, "script_give_center_to_faction_while_maintaining_lord", ":party", ":script_param_1"),
			(try_end),
			(try_for_range, ":quest", "qst_deliver_message", "qst_follow_army"),
				(check_quest_active, ":quest"),
				(quest_get_slot, ":quest_giver_troop", ":quest", slot_quest_giver_troop),
				(store_faction_of_troop, ":faction_of_troop_quest_giver_troop", ":quest_giver_troop"),
				(store_relation, ":relation_player_supporters_faction_faction_of_troop_quest_giver_troop", "fac_player_supporters_faction", ":faction_of_troop_quest_giver_troop"),
				(lt, ":relation_player_supporters_faction_faction_of_troop_quest_giver_troop", 0),
				(call_script, "script_abort_quest", ":quest", 0),
			(try_end),
			(try_for_range, ":quest", "qst_destroy_bandit_lair", "qst_beowulf_quest"),
				(check_quest_active, ":quest"),
				(quest_get_slot, ":quest_giver_troop", ":quest", slot_quest_giver_troop),
				(store_faction_of_troop, ":faction_of_troop_quest_giver_troop", ":quest_giver_troop"),
				(store_relation, ":relation_player_supporters_faction_faction_of_troop_quest_giver_troop", "fac_player_supporters_faction", ":faction_of_troop_quest_giver_troop"),
				(lt, ":relation_player_supporters_faction_faction_of_troop_quest_giver_troop", 0),
				(call_script, "script_abort_quest", ":quest", 0),
			(try_end),
			(try_begin),
				(neq, ":script_param_1", "fac_player_supporters_faction"),
				(faction_set_slot, "fac_player_supporters_faction", slot_faction_state, 2),
				(faction_set_slot, "fac_player_supporters_faction", slot_faction_leader, "trp_player"),
			(try_end),
			(try_begin),
				(troop_get_slot, ":player_spouse", "trp_player", slot_troop_spouse),
				(is_between, ":player_spouse", "trp_knight_1_1_wife", "trp_heroes_end"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":player_spouse"),
					(display_message, "@{!}DEBUG - {s4} faction changed by marriage, case 1"),
				(try_end),
				(troop_set_faction, ":player_spouse", "$players_kingdom"),
				(call_script, "script_troop_set_title_according_to_faction", ":player_spouse", "$players_kingdom"),
			(try_end),
			(try_begin),
				(neq, ":script_param_1", "fac_player_supporters_faction"),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", "fac_player_supporters_faction"),
					(this_or_next|neg|is_between, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_playerparty_history, 6),
					(troop_slot_eq, ":troop", slot_troop_playerparty_history, 7),
					(this_or_next|neq, ":troop", ":player_spouse"),
					(neg|is_between, ":player_spouse", "trp_knight_1_1_wife", "trp_heroes_end"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop"),
						(display_message, "@{!} DEBUG - {s4} changed by player's defection"),
					(try_end),
					(troop_set_faction, ":troop", "$players_kingdom"),
					(troop_set_slot, ":troop", slot_troop_stance_on_faction_issue, -1),
					(troop_set_slot, ":troop", slot_troop_recruitment_random, 0),
					(troop_set_slot, ":troop", slot_lord_recruitment_argument, 0),
					(troop_set_slot, ":troop", slot_lord_recruitment_candidate, 0),
					(troop_set_slot, ":troop", slot_troop_promised_fief, 0),
					(try_begin),
						(this_or_next|neg|is_between, ":troop", "trp_knight_1_1_wife", "trp_heroes_end"),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(call_script, "script_troop_set_title_according_to_faction", ":troop", ":script_param_1"),
					(try_end),
					(try_begin),
						(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
						(gt, ":troop_leaded_party", 0),
						(party_is_active, ":troop_leaded_party"),
						(party_set_faction, ":troop_leaded_party", ":script_param_1"),
					(try_end),
				(try_end),
			(try_end),
			(try_for_range, ":party_2", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(neq, ":faction_of_party_script_param_1", "$players_kingdom"),
				(party_slot_eq, ":party_2", slot_town_lord, -2),
			(try_end),
			(troop_set_slot, "trp_player", slot_troop_stance_on_faction_issue, -1),
			(try_for_parties, ":var_16"),
				(store_faction_of_party, ":faction_of_party_var_16", ":var_16"),
				(eq, ":faction_of_party_var_16", ":script_param_1"),
				(party_get_num_prisoner_stacks, ":num_prisoner_stacks_var_16", ":var_16"),
				(try_for_range_backwards, ":var_19", 0, ":num_prisoner_stacks_var_16"),
					(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_var_16_var_19", ":var_16", ":var_19"),
					(store_faction_of_troop, ":faction_of_troop_party_prisoner_stack_troop_id_var_16_var_19", ":party_prisoner_stack_troop_id_var_16_var_19"),
					(this_or_next|eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_16_var_19", "fac_player_supporters_faction"),
					(this_or_next|eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_16_var_19", ":script_param_1"),
					(is_between, ":party_prisoner_stack_troop_id_var_16_var_19", "trp_npc1", "trp_kingdom_1_lord"),
					(try_begin),
						(troop_is_hero, ":party_prisoner_stack_troop_id_var_16_var_19"),
						(call_script, "script_remove_troop_from_prison", ":party_prisoner_stack_troop_id_var_16_var_19"),
					(try_end),
					(party_prisoner_stack_get_size, ":party_prisoner_stack_size_var_16_var_19", ":var_16", ":var_19"),
					(party_remove_prisoners, ":var_16", ":party_prisoner_stack_troop_id_var_16_var_19", ":party_prisoner_stack_size_var_16_var_19"),
					(try_begin),
						(is_between, ":party_prisoner_stack_troop_id_var_16_var_19", "trp_npc1", "trp_kingdom_1_lord"),
						(try_begin),
							(is_between, ":var_16", "p_town_1", "p_castle_1"),
							(troop_set_slot, ":party_prisoner_stack_troop_id_var_16_var_19", slot_troop_cur_center, ":var_16"),
						(else_try),
							(store_random_in_range, ":random_in_range_town_1_castle_1", "p_town_1", "p_castle_1"),
							(troop_set_slot, ":party_prisoner_stack_troop_id_var_16_var_19", slot_troop_cur_center, ":random_in_range_town_1_castle_1"),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(call_script, "script_troop_set_title_according_to_faction", "trp_player", "$players_kingdom"),
			(call_script, "script_update_all_notes"),
			(assign, "$g_recalculate_ais", 1)
		]),

	("player_leave_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_check_and_finish_active_army_quests_for_faction", "$players_kingdom"),
			(assign, ":var_2", "$players_kingdom"),
			(assign, ":var_3", "$player_has_homage"),
			(assign, "$players_kingdom", 0),
			(assign, "$player_has_homage", 0),
			(try_begin),
				(neq, ":script_param_1", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(call_script, "script_give_center_to_faction", ":party", "fac_neutral"),
					(call_script, "script_give_center_to_faction", ":party", ":var_2"),
					(party_set_slot, ":party", slot_town_lord, -1),
				(try_end),
			(else_try),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(call_script, "script_give_center_to_faction", ":party", "fac_player_supporters_faction"),
					(party_set_slot, ":party", slot_town_lord, "trp_player"),
					(troop_get_slot, ":player_banner_scene_prop", "trp_player", slot_troop_banner_scene_prop),
					(gt, ":player_banner_scene_prop", 0),
					(val_sub, ":player_banner_scene_prop", "spr_banner_a"),
					(val_add, ":player_banner_scene_prop", "icon_banner_01"),
					(party_set_banner_icon, ":party", ":player_banner_scene_prop"),
				(try_end),
				(try_for_range, ":party", "p_village_1", "p_salt_mine"),
					(party_get_slot, ":party_village_bound_center", ":party", slot_village_bound_center),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(neg|party_slot_eq, ":party_village_bound_center", slot_town_lord, "trp_player"),
					(call_script, "script_give_center_to_faction", ":party", ":var_2"),
				(try_end),
				(is_between, ":var_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":var_2", "fac_player_supporters_faction"),
				(store_relation, ":relation_player_supporters_faction_var_2", "fac_player_supporters_faction", ":var_2"),
				(store_sub, ":value", -40, ":relation_player_supporters_faction_var_2"),
				(call_script, "script_change_player_relation_with_faction", ":var_2", ":value"),
			(try_end),
			(try_begin),
				(eq, ":var_3", 1),
				(faction_get_slot, ":var_2_leader", ":var_2", slot_faction_leader),
				(call_script, "script_change_player_relation_with_troop", ":var_2_leader", -20),
			(try_end),
			(try_begin),
				(troop_get_slot, ":player_spouse", "trp_player", slot_troop_spouse),
				(is_between, ":player_spouse", "trp_knight_1_1_wife", "trp_heroes_end"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":player_spouse"),
					(display_message, "@{!}DEBUG - {s4} faction changed by marriage, case 3"),
				(try_end),
				(troop_set_faction, ":player_spouse", "fac_player_supporters_faction"),
				(call_script, "script_troop_set_title_according_to_faction", ":player_spouse", "fac_player_supporters_faction"),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction", "fac_player_supporters_faction"),
				(store_relation, ":relation_var_2_faction", ":var_2", ":faction"),
				(store_relation, ":relation_player_faction_faction", "fac_player_faction", ":faction"),
				(try_begin),
					(eq, ":var_2", ":faction"),
					(val_min, ":relation_player_faction_faction", 0),
				(else_try),
					(lt, ":relation_var_2_faction", 0),
					(val_max, ":relation_player_faction_faction", 0),
				(else_try),
					(gt, ":relation_var_2_faction", 0),
					(val_min, ":relation_player_faction_faction", 0),
				(try_end),
				(set_relation, "fac_player_faction", ":faction", ":relation_player_faction_faction"),
				(set_relation, "fac_player_supporters_faction", ":faction", ":relation_player_faction_faction"),
			(try_end),
			(call_script, "script_troop_set_title_according_to_faction_gender_and_lands", "trp_player", "fac_player_supporters_faction"),
			(call_script, "script_update_all_notes"),
			(assign, "$g_recalculate_ais", 1),
			(try_for_parties, ":var_14"),
				(party_slot_eq, ":var_14", slot_party_type, 7),
				(party_slot_eq, ":var_14", 300, "trp_player"),
				(party_get_slot, ":var_14_ai_object", ":var_14", slot_party_ai_object),
				(str_store_party_name, 6, ":var_14_ai_object"),
				(display_log_message, "@Your soldiers patrolling {s6} disbanded because you abandoned your faction!", 0x00ff0000),
				(remove_party, ":var_14"),
			(try_end)
		]),

	("deactivate_player_faction",
		[
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_state, 2),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_leader, "trp_player"),
			(assign, "$players_kingdom", 0),
			(assign, "$players_oath_renounced_against_kingdom", 0),
			(assign, "$players_oath_renounced_given_center", 0),
			(assign, "$players_oath_renounced_begin_time", 0),
			(call_script, "script_update_all_notes"),
			(try_begin),
				(is_between, "$g_player_minister", "trp_npc1", "trp_kingdom_1_lord"),
				(assign, "$npc_to_rejoin_party", "$g_player_minister"),
			(try_end),
			(assign, "$g_player_minister", -1),
			(call_script, "script_add_notification_menu", "mnu_notification_player_faction_deactive", 0, 0)
		]),

	("activate_player_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 2),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(call_script, "script_add_notification_menu", "mnu_notification_player_faction_active", 0, 0),
				(call_script, "script_add_notification_menu", "mnu_coronation_event_1", 0, 0),
				(call_script, "script_add_notification_menu", "mnu_coronation_event_2", 0, 0),
				(call_script, "script_add_notification_menu", "mnu_coronation_event_3", 0, 0),
				(call_script, "script_add_notification_menu", "mnu_dplmc_domestic_policy", 0, 0),
			(try_end),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_state, 0),
			(faction_set_slot, "fac_player_supporters_faction", slot_faction_leader, ":script_param_1"),
			(assign, ":var_2", "$players_kingdom"),
			(try_begin),
				(is_between, ":var_2", "fac_kingdom_1", "fac_kingdoms_end"),
				(call_script, "script_player_leave_faction", 0),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_knight_1_1_wife"),
				(store_faction_of_troop, ":faction_of_troop"),
				(is_between, ":faction_of_troop", "fac_kingdom_1", "fac_kingdoms_end"),
				(faction_get_slot, ":faction_of_troop_adjective", ":faction_of_troop", slot_faction_adjective),
				(str_store_string, 1, ":faction_of_troop_adjective"),
				(faction_set_name, "fac_player_supporters_faction", "@{s1} Rebels"),
			(else_try),
				(str_store_troop_name, 2, ":script_param_1"),
				(str_store_string, 1, "str_s2s_rebellion"),
			(try_end),
			(faction_set_color, "fac_player_supporters_faction", 47242),
			(assign, "$players_kingdom", "fac_player_supporters_faction"),
			(assign, "$g_player_banner_granted", 1),
			(try_begin),
				(is_between, ":var_2", "fac_kingdom_1", "fac_kingdoms_end"),
				(faction_get_slot, ":var_2_leader", ":var_2", slot_faction_leader),
				(call_script, "script_add_log_entry", 23, "trp_player", -1, ":var_2_leader", "$players_kingdom"),
				(assign, "$players_oath_renounced_against_kingdom", ":var_2"),
				(assign, "$players_oath_renounced_given_center", 0),
				(store_current_hours, "$players_oath_renounced_begin_time"),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(party_set_slot, ":party", slot_center_faction_when_oath_renounced, ":faction_of_party_party"),
				(try_end),
				(party_set_slot, "$g_center_to_give_to_player", slot_center_faction_when_oath_renounced, "$players_oath_renounced_against_kingdom"),
				(store_relation, ":relation_var_2_player_supporters_faction", ":var_2", "fac_player_supporters_faction"),
				(ge, ":relation_var_2_player_supporters_faction", 0),
				(call_script, "script_diplomacy_start_war_between_kingdoms", ":var_2", "fac_player_supporters_faction", 1),
			(try_end),
			(try_begin),
				(troop_get_slot, ":player_spouse", "trp_player", slot_troop_spouse),
				(is_between, ":player_spouse", "trp_knight_1_1_wife", "trp_heroes_end"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":player_spouse"),
					(display_message, "@{!}DEBUG - {s4} faction changed by marriage, case 2"),
				(try_end),
				(troop_set_faction, ":player_spouse", "fac_player_supporters_faction"),
			(try_end),
			(call_script, "script_update_all_notes"),
			(assign, "$g_recalculate_ais", 1)
		]),

	("agent_reassign_team",
		[
			(store_script_param, ":script_param_1", 1),
			(get_player_agent_no, ":player_agent_no"),
			(try_begin),
				(ge, ":player_agent_no", 0),
				(agent_is_human, ":script_param_1"),
				(agent_is_ally, ":script_param_1"),
				(agent_get_party_id, ":party_id_script_param_1", ":script_param_1"),
				(ge, ":party_id_script_param_1", 0),
				(neq, ":party_id_script_param_1", "p_main_party"),
				(assign, ":value", 1),
				(store_faction_of_party, ":faction_of_party_party_id_script_param_1", ":party_id_script_param_1"),
				(try_begin),
					(eq, ":faction_of_party_party_id_script_param_1", "$players_kingdom"),
					(is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_slot_eq, "$players_kingdom", slot_faction_marshall, "trp_player"),
					(assign, ":value", 0),
				(else_try),
					(neq, "$freelancer_state", 1),
					(party_stack_get_troop_id, ":party_stack_troop_id_party_id_script_param_1_0", ":party_id_script_param_1", 0),
					(neg|is_between, ":party_stack_troop_id_party_id_script_param_1_0", "trp_npc1", "trp_knight_1_1_wife"),
					(assign, ":value", 0),
				(try_end),
				(eq, ":value", 1),
				(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
				(val_add, ":team_player_agent_no", 2),
				(agent_set_team, ":script_param_1", ":team_player_agent_no"),
			(try_end)
		]),

	("start_quest",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(quest_set_slot, ":script_param_1", slot_quest_giver_troop, ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", -1),
				(str_store_string, 63, "str_political_suggestion"),
			(else_try),
				(is_between, ":script_param_2", "trp_npc1", "trp_knight_1_1_wife"),
				(str_store_troop_name_link, 62, ":script_param_2"),
				(str_store_string, 63, "@Given by: {s62}"),
			(else_try),
				(str_store_troop_name, 62, ":script_param_2"),
				(str_store_string, 63, "@Given by: {s62}"),
			(try_end),
			(store_current_hours, ":current_hours"),
			(str_store_date, 60, ":current_hours"),
			(str_store_string, 60, "@Given on: {s60}"),
			(add_quest_note_from_sreg, ":script_param_1", 0, 60, 0),
			(add_quest_note_from_sreg, ":script_param_1", 1, 63, 0),
			(add_quest_note_from_sreg, ":script_param_1", 2, 2, 0),
			(try_begin),
				(quest_slot_ge, ":script_param_1", 23, 1),
				(quest_get_slot, reg0, ":script_param_1", slot_quest_expiration_days),
				(add_quest_note_from_sreg, ":script_param_1", 7, "@You have {reg0} days to finish this quest.", 0),
			(try_end),
			(try_begin),
				(quest_slot_ge, ":script_param_1", 24, 1),
				(quest_get_slot, ":script_param_1_dont_give_again_period", ":script_param_1", slot_quest_dont_give_again_period),
				(quest_set_slot, ":script_param_1", slot_quest_dont_give_again_remaining_days, ":script_param_1_dont_give_again_period"),
			(try_end),
			(start_quest, ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", "qst_report_to_army"),
				(assign, "$number_of_report_to_army_quest_notes", 8),
				(faction_get_slot, ":players_kingdom_ai_state", "$players_kingdom", slot_faction_ai_state),
				(call_script, "script_update_report_to_army_quest_note", "$players_kingdom", ":players_kingdom_ai_state", -1),
			(try_end),
			(display_message, "str_quest_log_updated")
		]),

	("conclude_quest",
		[
			(store_script_param, ":script_param_1", 1),
			(conclude_quest, ":script_param_1"),
			(quest_get_slot, ":script_param_1_giver_troop", ":script_param_1", slot_quest_giver_troop),
			(str_store_troop_name, 59, ":script_param_1_giver_troop"),
			(add_quest_note_from_sreg, ":script_param_1", 7, "@This quest has been concluded. Talk to {s59} to finish it.", 0)
		]),

	("succeed_quest",
		[
			(store_script_param, ":script_param_1", 1),
			(succeed_quest, ":script_param_1"),
			(quest_get_slot, ":script_param_1_giver_troop", ":script_param_1", slot_quest_giver_troop),
			(str_store_troop_name, 59, ":script_param_1_giver_troop"),
			(add_quest_note_from_sreg, ":script_param_1", 7, "@This quest has been successfully completed. Talk to {s59} to claim your reward.", 0)
		]),

	("fail_quest",
		[
			(store_script_param, ":script_param_1", 1),
			(fail_quest, ":script_param_1"),
			(quest_get_slot, ":script_param_1_giver_troop", ":script_param_1", slot_quest_giver_troop),
			(str_store_troop_name, 59, ":script_param_1_giver_troop"),
			(add_quest_note_from_sreg, ":script_param_1", 7, "@This quest has failed. Talk to {s59} to explain the situation.", 0)
		]),

	("report_quest_troop_positions",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_get_information_about_troops_position", ":script_param_2", 1),
			(str_store_string, 5, "@At the time quest was given:^{s1}"),
			(add_quest_note_from_sreg, ":script_param_1", ":script_param_3", 5, 1),
			(call_script, "script_update_troop_location_notes", ":script_param_2", 1)
		]),

	("end_quest",
		[
			(store_script_param, ":script_param_1", 1),
			(str_clear, 1),
			(add_quest_note_from_sreg, ":script_param_1", 0, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 1, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 2, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 3, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 4, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 5, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 6, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 7, 1, 0),
			(try_begin),
				(neg|check_quest_failed, ":script_param_1"),
				(val_add, "$g_total_quests_completed", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "qst_consult_with_minister"),
				(assign, "$g_minister_notification_quest", 0),
			(try_end),
			(complete_quest, ":script_param_1"),
			(try_begin),
				(is_between, ":script_param_1", "qst_move_cattle_herd", "qst_deliver_grain"),
				(assign, "$merchant_quest_last_offerer", -1),
				(assign, "$merchant_offered_quest", -1),
			(try_end)
		]),

	("cancel_quest",
		[
			(store_script_param, ":script_param_1", 1),
			(str_clear, 1),
			(add_quest_note_from_sreg, ":script_param_1", 0, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 1, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 2, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 3, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 4, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 5, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 6, 1, 0),
			(add_quest_note_from_sreg, ":script_param_1", 7, 1, 0),
			(cancel_quest, ":script_param_1"),
			(try_begin),
				(is_between, ":script_param_1", "qst_move_cattle_herd", "qst_deliver_grain"),
				(assign, "$merchant_quest_last_offerer", -1),
				(assign, "$merchant_offered_quest", -1),
			(try_end)
		]),

	("update_village_market_towns",
		[
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(assign, ":value", 999999),
				(assign, ":value_2", -1),
				(try_for_range, ":party_2", "p_town_1", "p_castle_1"),
					(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
					(eq, ":faction_of_party_party_2", ":faction_of_party_party"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_party_party_2", ":party", ":party_2"),
					(lt, ":distance_to_party_from_party_party_party_2", ":value"),
					(assign, ":value", ":distance_to_party_from_party_party_party_2"),
					(assign, ":value_2", ":party_2"),
				(try_end),
				(try_begin),
					(gt, ":value_2", -1),
					(party_set_slot, ":party", slot_village_market_town, ":value_2"),
				(else_try),
					(assign, ":value", 999999),
					(assign, ":value_2", -1),
					(try_for_range, ":party_2", "p_town_1", "p_castle_1"),
						(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
						(store_relation, ":relation_faction_of_party_party_2_faction_of_party_party", ":faction_of_party_party_2", ":faction_of_party_party"),
						(ge, ":relation_faction_of_party_party_2_faction_of_party_party", 0),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_party_party_2", ":party", ":party_2"),
						(lt, ":distance_to_party_from_party_party_party_2", ":value"),
						(assign, ":value", ":distance_to_party_from_party_party_party_2"),
						(assign, ":value_2", ":party_2"),
					(try_end),
					(gt, ":value_2", -1),
					(party_set_slot, ":party", slot_village_market_town, ":value_2"),
				(try_end),
			(try_end)
		]),

	("update_mercenary_units_of_towns",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_random_in_range, ":random_in_range_mercenary_e_townsman_mercenaries_end", "trp_mercenary_e_townsman", "trp_mercenaries_end"),
				(party_set_slot, ":party", slot_center_npc_volunteer_troop_type, ":random_in_range_mercenary_e_townsman_mercenaries_end"),
				(store_random_in_range, ":random_in_range_2_6", 2, 6),
				(party_set_slot, ":party", slot_center_npc_volunteer_troop_amount, ":random_in_range_2_6"),
			(try_end)
		]),

	("update_town_specialists",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_random_in_range, ":random_in_range_skill_monk_skill_priest", "trp_skill_monk", "trp_skill_priest"),
				(party_set_slot, ":party", 444, ":random_in_range_skill_monk_skill_priest"),
				(store_random_in_range, ":random_in_range_1_3", 1, 3),
				(party_set_slot, ":party", 445, ":random_in_range_1_3"),
			(try_end),
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(store_random_in_range, ":random_in_range_skill_monk_skill_priest", "trp_skill_hunter", "trp_skill_scout"),
				(party_set_slot, ":party", 444, ":random_in_range_skill_monk_skill_priest"),
				(store_random_in_range, ":random_in_range_1_3", 1, 3),
				(party_set_slot, ":party", 445, ":random_in_range_1_3"),
			(try_end),
			(try_for_range, ":party", "p_castle_1", "p_village_1"),
				(store_random_in_range, ":random_in_range_skill_monk_skill_priest", "trp_skill_scout", "trp_skill_monk"),
				(party_set_slot, ":party", 444, ":random_in_range_skill_monk_skill_priest"),
				(store_random_in_range, ":random_in_range_1_3", 1, 3),
				(party_set_slot, ":party", 445, ":random_in_range_1_3"),
			(try_end)
		]),

	("update_volunteer_troops_in_village",
		[
			(store_script_param, ":script_param_1", 1),
			(party_get_slot, ":script_param_1_center_player_relation", ":script_param_1", slot_center_player_relation),
			(party_get_slot, ":script_param_1_center_culture", ":script_param_1", slot_center_culture),
			(faction_get_slot, ":script_param_1_center_culture_quick_battle_tier_1_infantry", ":script_param_1_center_culture", slot_faction_quick_battle_tier_1_infantry),
			(assign, ":var_5", 1),
			(store_div, ":value", ":script_param_1_center_player_relation", 10),
			(try_for_range, ":unused", 0, ":value"),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", 10),
				(store_random_in_range, ":random_in_range_0_100", 0, 2),
				(troop_get_upgrade_troop, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", ":script_param_1_center_culture_quick_battle_tier_1_infantry", ":random_in_range_0_100"),
				(try_begin),
					(le, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", 0),
					(troop_get_upgrade_troop, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", ":script_param_1_center_culture_quick_battle_tier_1_infantry", 0),
				(try_end),
				(gt, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", 0),
				(val_add, ":var_5", 1),
				(assign, ":script_param_1_center_culture_quick_battle_tier_1_infantry", ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100"),
			(try_end),
			(assign, ":value_2", 8),
			(try_begin),
				(ge, ":script_param_1_center_player_relation", 4),
				(assign, ":value_2", ":script_param_1_center_player_relation"),
				(val_div, ":value_2", 2),
				(val_add, ":value_2", 6),
			(else_try),
				(lt, ":script_param_1_center_player_relation", 0),
				(assign, ":value_2", 0),
			(try_end),
			(assign, ":var_11", 100),
			(try_begin),
				(neg|party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
				(val_sub, ":var_11", 30),
			(try_end),
			(try_begin),
				(troop_get_slot, ":player_renown", "trp_player", slot_troop_renown),
				(val_div, ":player_renown", 4),
				(val_add, ":var_11", ":player_renown"),
			(try_end),
			(try_begin),
				(assign, ":var_13", "$player_honor"),
				(val_div, ":var_13", 3),
				(val_add, ":var_11", ":var_13"),
			(try_end),
			(try_begin),
				(faction_get_slot, ":player_supporters_faction_leader", "fac_player_supporters_faction", slot_faction_leader),
				(eq, ":player_supporters_faction_leader", "trp_player"),
				(val_add, ":var_11", 5),
				(try_begin),
					(faction_get_slot, ":player_supporters_faction_203", "fac_player_supporters_faction", 203),
					(neq, ":player_supporters_faction_203", 0),
					(val_mul, ":player_supporters_faction_203", 5),
					(val_sub, ":var_11", ":player_supporters_faction_203"),
				(try_end),
				(try_begin),
					(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
					(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
					(val_add, ":var_11", 5),
				(try_end),
			(try_end),
			(try_begin),
				(gt, ":value_2", 0),
				(val_clamp, ":var_11", 0, 201),
				(val_mul, ":value_2", ":var_11"),
				(val_div, ":value_2", 100),
			(try_end),
			(val_mul, ":value_2", 3),
			(store_add, ":value_3", 2, ":var_5"),
			(val_div, ":value_2", ":value_3"),
			(store_random_in_range, ":random_in_range_0_value_2", 0, ":value_2"),
			(party_set_slot, ":script_param_1", slot_center_volunteer_troop_type, ":script_param_1_center_culture_quick_battle_tier_1_infantry"),
			(party_set_slot, ":script_param_1", slot_center_volunteer_troop_amount, ":random_in_range_0_value_2")
		]),

	("update_npc_volunteer_troops_in_village",
		[
			(store_script_param, ":script_param_1", 1),
			(party_get_slot, ":script_param_1_center_culture", ":script_param_1", slot_center_culture),
			(faction_get_slot, ":script_param_1_center_culture_quick_battle_tier_1_infantry", ":script_param_1_center_culture", slot_faction_quick_battle_tier_1_infantry),
			(assign, ":var_4", 1),
			(try_for_range, ":unused", 0, 5),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", 10),
				(store_random_in_range, ":random_in_range_0_100", 0, 2),
				(troop_get_upgrade_troop, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", ":script_param_1_center_culture_quick_battle_tier_1_infantry", ":random_in_range_0_100"),
				(try_begin),
					(le, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", 0),
					(troop_get_upgrade_troop, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", ":script_param_1_center_culture_quick_battle_tier_1_infantry", 0),
				(try_end),
				(gt, ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100", 0),
				(val_add, ":var_4", 1),
				(assign, ":script_param_1_center_culture_quick_battle_tier_1_infantry", ":upgrade_troop_script_param_1_center_culture_quick_battle_tier_1_infantry_random_in_range_0_100"),
			(try_end),
			(assign, ":var_8", 12),
			(store_add, ":value", 2, ":var_4"),
			(val_div, ":var_8", ":value"),
			(store_random_in_range, ":random_in_range_0_var_8", 0, ":var_8"),
			(party_set_slot, ":script_param_1", slot_center_npc_volunteer_troop_type, ":script_param_1_center_culture_quick_battle_tier_1_infantry"),
			(party_set_slot, ":script_param_1", slot_center_npc_volunteer_troop_amount, ":random_in_range_0_var_8")
		]),

	("update_companion_candidates_in_taverns",
		[
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_shuffling_companion_locations"),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":troop", slot_troop_days_on_mission, 0),
				(troop_slot_eq, ":troop", slot_troop_occupation, 0),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_cur_center", ":troop", slot_troop_cur_center),
				(try_begin),
					(is_between, ":troop_cur_center", "p_town_1", "p_castle_1"),
					(party_get_slot, ":troop_cur_center_town_lord", ":troop_cur_center", slot_town_lord),
					(ge, ":troop_cur_center_town_lord", 0),
					(this_or_next|eq, ":troop_cur_center_town_lord", "trp_player"),
					(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, ":troop_cur_center_town_lord"),
					(troop_slot_eq, ":troop_cur_center_town_lord", slot_troop_spouse, "trp_player"),
				(else_try),
					(troop_set_slot, ":troop", slot_troop_cur_center, -1),
				(try_end),
				(neg|troop_slot_ge, ":troop", 12, 1),
				(store_random_in_range, ":troop_cur_center", "p_town_1", "p_castle_1"),
				(try_begin),
					(assign, ":value", 0),
					(try_begin),
						(store_faction_of_party, ":faction_of_party_troop_cur_center", ":troop_cur_center"),
						(eq, ":faction_of_party_troop_cur_center", "fac_player_supporters_faction"),
					(else_try),
						(party_get_slot, ":troop_cur_center_town_lord", ":troop_cur_center", slot_town_lord),
						(ge, ":troop_cur_center_town_lord", 0),
						(this_or_next|eq, ":troop_cur_center_town_lord", "trp_player"),
						(this_or_next|troop_slot_eq, "trp_player", slot_troop_spouse, ":troop_cur_center_town_lord"),
						(troop_slot_eq, ":troop_cur_center_town_lord", slot_troop_spouse, "trp_player"),
					(else_try),
						(this_or_next|troop_slot_eq, ":troop", slot_troop_home, ":troop_cur_center"),
						(troop_slot_eq, ":troop", slot_troop_first_encountered, ":troop_cur_center"),
						(assign, ":value", 1),
					(try_end),
					(eq, ":value", 0),
					(troop_set_slot, ":troop", slot_troop_cur_center, ":troop_cur_center"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop"),
						(str_store_party_name, 5, ":troop_cur_center"),
						(display_message, "@{!}{s4} is in {s5}"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("update_ransom_brokers",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_ransom_broker, 0),
			(try_end),
			(try_for_range, ":troop", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
				(store_random_in_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_ransom_broker, ":troop"),
			(try_end),
			(party_set_slot, "p_town_1", slot_center_ransom_broker, "trp_ramun_the_slave_trader"),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_get_slot, ":party_center_ransom_broker", ":party", slot_center_ransom_broker),
				(le, ":party_center_ransom_broker", 0),
				(store_add, ":value", ":party", 9),
				(try_begin),
					(ge, ":value", "p_castle_1"),
					(val_sub, ":value", 22),
				(try_end),
				(party_get_slot, ":value_center_ransom_broker", ":value", slot_center_ransom_broker),
				(is_between, ":value_center_ransom_broker", "trp_ransom_broker_1", "trp_tavern_traveler_1"),
				(party_set_slot, ":party", slot_center_ransom_broker, ":value_center_ransom_broker"),
			(try_end)
		]),

	("update_tavern_travellers",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_tavern_traveler, 0),
			(try_end),
			(try_for_range, ":troop", "trp_tavern_traveler_1", "trp_tavern_bookseller_1"),
				(store_random_in_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_tavern_traveler, ":troop"),
				(assign, ":value", 15),
				(try_for_range, ":unused", 0, ":value"),
					(store_random_in_range, ":random_in_range_player_supporters_faction_kingdoms_end", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_slot_eq, ":random_in_range_player_supporters_faction_kingdoms_end", slot_faction_state, 0),
					(neq, ":random_in_range_player_supporters_faction_kingdoms_end", "$players_kingdom"),
					(neq, ":random_in_range_player_supporters_faction_kingdoms_end", "fac_player_supporters_faction"),
					(party_set_slot, ":party", slot_center_traveler_info_faction, ":random_in_range_player_supporters_faction_kingdoms_end"),
					(assign, ":value", 0),
				(try_end),
			(try_end),
			(troop_set_slot, "trp_belligerent_drunk", slot_troop_cur_center, "p_town_1")
		]),

	("update_villages_infested_by_bandits",
		[
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(try_begin),
					(check_quest_active, "qst_eliminate_bandits_infesting_village"),
					(quest_slot_eq, "qst_eliminate_bandits_infesting_village", slot_quest_target_center, ":party"),
					(quest_get_slot, ":eliminate_bandits_infesting_village_current_state", "qst_eliminate_bandits_infesting_village", slot_quest_current_state),
					(val_add, ":eliminate_bandits_infesting_village_current_state", 1),
					(try_begin),
						(lt, ":eliminate_bandits_infesting_village_current_state", 3),
						(quest_set_slot, "qst_eliminate_bandits_infesting_village", slot_quest_current_state, ":eliminate_bandits_infesting_village_current_state"),
					(else_try),
						(party_set_slot, ":party", slot_village_infested_by_bandits, 0),
						(call_script, "script_abort_quest", "qst_eliminate_bandits_infesting_village", 2),
					(try_end),
				(else_try),
					(check_quest_active, "qst_deal_with_bandits_at_lords_village"),
					(quest_slot_eq, "qst_deal_with_bandits_at_lords_village", slot_quest_target_center, ":party"),
					(quest_get_slot, ":eliminate_bandits_infesting_village_current_state", "qst_deal_with_bandits_at_lords_village", slot_quest_current_state),
					(val_add, ":eliminate_bandits_infesting_village_current_state", 1),
					(try_begin),
						(lt, ":eliminate_bandits_infesting_village_current_state", 3),
						(quest_set_slot, "qst_deal_with_bandits_at_lords_village", slot_quest_current_state, ":eliminate_bandits_infesting_village_current_state"),
					(else_try),
						(party_set_slot, ":party", slot_village_infested_by_bandits, 0),
						(call_script, "script_abort_quest", "qst_deal_with_bandits_at_lords_village", 2),
					(try_end),
				(else_try),
					(party_set_slot, ":party", slot_village_infested_by_bandits, 0),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(assign, ":value", 1),
					(try_begin),
						(check_quest_active, "qst_collect_taxes"),
						(quest_slot_eq, "qst_collect_taxes", slot_quest_target_center, ":party"),
						(assign, ":value", 0),
					(else_try),
						(check_quest_active, "qst_train_peasants_against_bandits"),
						(quest_slot_eq, "qst_train_peasants_against_bandits", slot_quest_target_center, ":party"),
						(assign, ":value", 0),
					(try_end),
					(eq, ":value", 1),
					(lt, ":random_in_range_0_100", 3),
					(store_random_in_range, ":random_in_range_0_100", 0, 3),
					(try_begin),
						(eq, ":random_in_range_0_100", 0),
						(troop_get_slot, ":troop_trees_844", "$troop_trees", 844),
						(assign, ":value_2", ":troop_trees_844"),
					(else_try),
						(eq, ":random_in_range_0_100", 1),
						(troop_get_slot, ":troop_trees_846", "$troop_trees", 846),
						(assign, ":value_2", ":troop_trees_846"),
					(else_try),
						(troop_get_slot, ":troop_trees_847", "$troop_trees", 847),
						(assign, ":value_2", ":troop_trees_847"),
					(try_end),
					(party_set_slot, ":party", slot_village_infested_by_bandits, ":value_2"),
					(call_script, "script_change_center_prosperity", ":party", -1),
					(val_add, "$newglob_total_prosperity_from_bandits", -1),
					(try_begin),
						(eq, "$cheat_mode", 2),
						(str_store_party_name, 1, ":party"),
						(display_message, "@{!}DEBUG --{s1} is infested by bandits."),
					(try_end),
				(try_end),
			(try_end)
		]),

	("update_booksellers",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_tavern_bookseller, 0),
			(try_end),
			(try_for_range, ":troop", "trp_tavern_bookseller_1", "trp_tavern_minstrel_1"),
				(store_random_in_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_tavern_bookseller, ":troop"),
				(troop_get_inventory_capacity, ":inventory_capacity_troop", ":troop"),
				(try_for_range, ":number", 10, ":inventory_capacity_troop"),
					(troop_get_inventory_slot, ":inventory_slot_troop_number", ":troop", ":number"),
					(gt, ":inventory_slot_troop_number", -1),
					(item_get_type, ":type_inventory_slot_troop_number", ":inventory_slot_troop_number"),
					(neq, ":type_inventory_slot_troop_number", 20),
					(troop_set_inventory_slot, ":troop", ":number", -1),
				(try_end),
			(try_end)
		]),

	("update_tavern_minstrels",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_tavern_minstrel, 0),
			(try_end),
			(try_for_range, ":troop", "trp_tavern_minstrel_1", "trp_septon_1"),
				(store_random_in_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", slot_center_tavern_minstrel, ":troop"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":troop"),
					(str_store_party_name, 5, ":party"),
					(display_message, "str_s4_is_at_s5"),
				(try_end),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_get_slot, ":party_center_tavern_minstrel", ":party", slot_center_tavern_minstrel),
				(le, ":party_center_tavern_minstrel", 0),
				(store_add, ":value", ":party", 9),
				(try_begin),
					(ge, ":value", "p_castle_1"),
					(val_sub, ":value", 22),
				(try_end),
				(party_get_slot, ":value_center_tavern_minstrel", ":value", slot_center_tavern_minstrel),
				(is_between, ":value_center_tavern_minstrel", "trp_tavern_minstrel_1", "trp_septon_1"),
				(party_set_slot, ":party", slot_center_tavern_minstrel, ":value_center_tavern_minstrel"),
			(try_end)
		]),

	("update_other_taverngoers",
		[
			(store_random_in_range, ":random_in_range_town_1_castle_1", "p_town_1", "p_castle_1"),
			(troop_set_slot, "trp_fight_promoter", slot_troop_cur_center, ":random_in_range_town_1_castle_1"),
			(store_random_in_range, ":random_in_range_town_1_castle_1_2", "p_town_1", "p_castle_1"),
			(troop_set_slot, "trp_belligerent_drunk", slot_troop_cur_center, ":random_in_range_town_1_castle_1_2")
		]),

	("update_faction_notes",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(this_or_next|faction_slot_eq, ":script_param_1", slot_faction_state, 2),
				(eq, ":script_param_1", "fac_player_faction"),
				(faction_set_note_available, ":script_param_1", 0),
			(else_try),
				(faction_set_note_available, ":script_param_1", 1),
			(try_end)
		]),

	("update_faction_political_notes",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_evaluate_realm_stability", ":script_param_1"),
			(add_faction_note_from_sreg, ":script_param_1", 2, "str_instability_reg0_of_lords_are_disgruntled_reg1_are_restless", 0)
		]),

	("update_faction_traveler_notes",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(try_for_parties, ":var_3"),
				(store_faction_of_party, ":faction_of_party_var_3", ":var_3"),
				(eq, ":faction_of_party_var_3", ":script_param_1"),
				(party_get_num_companions, ":num_companions_var_3", ":var_3"),
				(val_add, ":var_2", ":num_companions_var_3"),
			(try_end),
			(str_store_faction_name, 5, ":script_param_1"),
			(assign, reg1, ":var_2"),
			(add_faction_note_from_sreg, ":script_param_1", 1, "@{s5} has a strength of {reg1} men in total.", 1)
		]),

	("update_troop_notes",
		[]),

	("update_troop_location_notes",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(call_script, "script_get_information_about_troops_position", ":script_param_1", 1),
				(neq, reg0, 0),
				(call_script, "script_search_troop_prisoner_of_party", ":script_param_1"),
				(eq, reg0, -1),
				(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
				(assign, reg1, reg0),
				(try_begin),
					(eq, ":script_param_2", 0),
					(add_troop_note_from_sreg, ":script_param_1", 2, "@The last time you saw {reg1?her:him}, {s1}", 1),
				(else_try),
					(add_troop_note_from_sreg, ":script_param_1", 2, "@The last time you heard about {reg1?her:him}, {s1}", 1),
				(try_end),
			(try_end)
		]),

	("update_troop_location_notes_prisoned",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
			(assign, reg1, reg0),
			(str_store_faction_name_link, 1, ":script_param_2"),
			(add_troop_note_from_sreg, ":script_param_1", 2, "str_reg1shehe_is_prisoner_of_s1", 1)
		]),

	("update_troop_political_notes",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(str_clear, 47),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(faction_get_slot, ":faction_of_troop_script_param_1_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
				(str_clear, 40),
				(assign, ":value", 0),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":troop"),
					(lt, reg0, -10),
					(str_store_troop_name_link, 39, ":troop"),
					(try_begin),
						(eq, ":value", 0),
						(str_store_string, 40, "str_s39_rival"),
						(assign, ":value", 1),
					(else_try),
						(str_store_string, 41, "str_s40"),
						(str_store_string, 40, "str_s41_s39_rival"),
					(try_end),
				(try_end),
				(str_clear, 46),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(try_begin),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 1),
						(str_store_string, 46, "str_reputation_cheat_mode_only_martial_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
						(str_store_string, 46, "str_reputation_cheat_mode_only_debauched_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
						(str_store_string, 46, "str_reputation_cheat_mode_only_pitiless_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 4),
						(str_store_string, 46, "str_reputation_cheat_mode_only_calculating_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
						(str_store_string, 46, "str_reputation_cheat_mode_only_quarrelsome_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 6),
						(str_store_string, 46, "str_reputation_cheat_mode_only_goodnatured_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 7),
						(str_store_string, 46, "str_reputation_cheat_mode_only_upstanding_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 21),
						(str_store_string, 46, "str_reputation_cheat_mode_only_conventional_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 22),
						(str_store_string, 46, "str_reputation_cheat_mode_only_adventurous_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 23),
						(str_store_string, 46, "str_reputation_cheat_mode_only_romantic_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 25),
						(str_store_string, 46, "str_reputation_cheat_mode_only_moralist_"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 24),
						(str_store_string, 46, "str_reputation_cheat_mode_only_ambitious_"),
					(else_try),
						(troop_get_slot, reg11, ":script_param_1", slot_lord_reputation_type),
						(str_store_string, 46, "str_reputation_cheat_mode_only_reg11_"),
					(try_end),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(try_for_range, ":number", 35, 38),
							(troop_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
							(is_between, ":script_param_1_number", "trp_knight_1_1_wife", "trp_heroes_end"),
							(str_store_troop_name_link, 39, ":script_param_1_number"),
							(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_1_number"),
							(str_store_string, 2, "str_love_interest"),
							(try_begin),
								(troop_slot_eq, ":script_param_1", slot_troop_betrothed, ":script_param_1_number"),
								(str_store_string, 2, "str_betrothed"),
							(try_end),
							(str_store_string, 40, "str_s40_s39_s2_reg0"),
						(try_end),
					(try_end),
				(try_end),
				(str_store_string, 45, "str_other_relations_s40_"),
				(str_clear, 44),
				(try_begin),
					(neq, ":script_param_1", ":faction_of_troop_script_param_1_leader"),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":faction_of_troop_script_param_1_leader"),
					(str_store_string, 44, "str_relation_with_liege_reg0_"),
				(try_end),
				(str_clear, 48),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(store_current_hours, ":current_hours"),
					(gt, ":current_hours", 0),
					(call_script, "script_calculate_troop_political_factors_for_liege", ":script_param_1", ":faction_of_troop_script_param_1_leader"),
					(str_store_string, 48, "str_sense_of_security_military_reg1_court_position_reg3_"),
				(try_end),
				(str_store_string, 47, "str_s46s45s44s48"),
				(add_troop_note_from_sreg, ":script_param_1", 3, "str_political_details_s47_", 1),
			(try_end)
		]),

	("update_center_notes",
		[]),

	("update_center_recon_notes",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(this_or_next|is_between, ":script_param_1", "p_town_1", "p_castle_1"),
				(is_between, ":script_param_1", "p_castle_1", "p_village_1"),
				(party_get_slot, ":script_param_1_food_store", ":script_param_1", slot_party_food_store),
				(call_script, "script_center_get_food_consumption", ":script_param_1"),
				(assign, ":var_3", reg0),
				(store_div, reg6, ":script_param_1_food_store", ":var_3"),
				(party_collect_attachments_to_party, ":script_param_1", "p_collective_ally"),
				(party_get_num_companions, reg5, "p_collective_ally"),
				(add_party_note_from_sreg, ":script_param_1", 1, "@Current garrison consists of {reg5} men.^Has food stock for {reg6} days.", 1),
			(try_end)
		]),

	("update_all_notes",
		[
			(call_script, "script_update_troop_notes", "trp_player"),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 6),
				(troop_slot_eq, ":troop", slot_troop_occupation, 9),
				(call_script, "script_update_troop_notes", ":troop"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(call_script, "script_update_center_notes", ":party"),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(call_script, "script_update_faction_notes", ":faction"),
			(try_end)
		]),

	("agent_troop_get_banner_mesh",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":value_2", "mesh_banners_default_b"),
			(try_begin),
				(lt, ":script_param_1", 0),
				(try_begin),
					(ge, ":script_param_2", 0),
					(this_or_next|troop_slot_ge, ":script_param_2", 13, 1),
					(eq, ":script_param_2", "trp_player"),
					(assign, ":value", ":script_param_2"),
				(else_try),
					(is_between, ":script_param_2", "trp_npc1", "trp_kingdom_1_lord"),
					(assign, ":value", "trp_player"),
				(else_try),
					(assign, ":value_2", "mesh_banners_default_a"),
				(try_end),
			(else_try),
				(eq, "$g_is_quick_battle", 1),
				(agent_get_team, ":team_script_param_1", ":script_param_1"),
				(try_begin),
					(eq, ":team_script_param_1", 0),
					(assign, ":value_2", "$g_quick_battle_team_0_banner"),
				(else_try),
					(assign, ":value_2", "$g_quick_battle_team_1_banner"),
				(try_end),
			(else_try),
				(game_in_multiplayer_mode),
				(agent_get_group, ":group_script_param_1", ":script_param_1"),
				(try_begin),
					(neg|player_is_active, ":group_script_param_1"),
					(agent_get_player_id, ":group_script_param_1", ":script_param_1"),
				(try_end),
				(try_begin),
					(eq, "$g_multiplayer_allow_player_banners", 1),
					(player_is_active, ":group_script_param_1"),
					(player_get_banner_id, ":banner_id_group_script_param_1", ":group_script_param_1"),
					(ge, ":banner_id_group_script_param_1", 0),
					(store_add, ":value_2", ":banner_id_group_script_param_1", "mesh_arms_a01"),
					(assign, ":value_3", 0),
					(try_for_range, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
						(faction_slot_eq, ":faction", slot_faction_banner, ":value_2"),
						(assign, ":value_3", 1),
					(try_end),
					(eq, ":value_3", 0),
				(else_try),
					(agent_get_team, ":team_script_param_1", ":script_param_1"),
					(team_get_faction, ":faction_team_script_param_1", ":team_script_param_1"),
					(try_begin),
						(agent_is_human, ":script_param_1"),
						(faction_get_slot, ":value_2", ":faction_team_script_param_1", slot_faction_banner),
					(else_try),
						(agent_get_rider, ":rider_script_param_1", ":script_param_1"),
						(try_begin),
							(ge, ":rider_script_param_1", 0),
							(agent_is_active, ":rider_script_param_1"),
							(agent_get_team, ":team_rider_script_param_1", ":rider_script_param_1"),
							(team_get_faction, ":faction_team_rider_script_param_1", ":team_rider_script_param_1"),
							(faction_get_slot, ":value_2", ":faction_team_rider_script_param_1", slot_faction_banner),
						(else_try),
							(assign, ":value_2", "mesh_banners_default_c"),
						(try_end),
					(try_end),
				(try_end),
			(else_try),
				(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
				(this_or_next|troop_slot_ge, ":troop_id_script_param_1", 13, 1),
				(eq, ":script_param_2", "trp_player"),
				(assign, ":value", ":troop_id_script_param_1"),
			(else_try),
				(agent_get_party_id, ":party_id_script_param_1", ":script_param_1"),
				(try_begin),
					(lt, ":party_id_script_param_1", 0),
					(is_between, ":troop_id_script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
					(main_party_has_troop, ":troop_id_script_param_1"),
					(assign, ":party_id_script_param_1", "p_main_party"),
				(try_end),
				(ge, ":party_id_script_param_1", 0),
				(party_get_template_id, ":template_id_party_id_script_param_1", ":party_id_script_param_1"),
				(try_begin),
					(eq, ":template_id_party_id_script_param_1", "pt_deserters"),
					(assign, ":value_2", "mesh_banners_default_c"),
				(else_try),
					(is_between, ":party_id_script_param_1", "p_town_1", "p_salt_mine"),
					(is_between, ":troop_id_script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
					(neq, "$talk_context", 14),
					(assign, ":value", "trp_player"),
				(else_try),
					(is_between, ":party_id_script_param_1", "p_town_1", "p_salt_mine"),
					(party_get_slot, ":g_encountered_party_town_lord", "$g_encountered_party", slot_town_lord),
					(ge, ":g_encountered_party_town_lord", 0),
					(assign, ":value", ":g_encountered_party_town_lord"),
				(else_try),
					(this_or_next|party_slot_eq, ":party_id_script_param_1", slot_party_type, 13),
					(eq, ":party_id_script_param_1", "p_main_party"),
					(party_get_num_companion_stacks, ":num_companion_stacks_party_id_script_param_1", ":party_id_script_param_1"),
					(gt, ":num_companion_stacks_party_id_script_param_1", 0),
					(party_stack_get_troop_id, ":party_stack_troop_id_party_id_script_param_1_0", ":party_id_script_param_1", 0),
					(this_or_next|troop_slot_ge, ":party_stack_troop_id_party_id_script_param_1_0", 13, 1),
					(eq, ":party_stack_troop_id_party_id_script_param_1_0", "trp_player"),
					(assign, ":value", ":party_stack_troop_id_party_id_script_param_1_0"),
				(try_end),
			(else_try),
				(eq, "$talk_context", 14),
				(neq, ":script_param_2", "trp_player"),
				(assign, ":value_2", "mesh_banners_default_d"),
			(else_try),
				(neq, ":script_param_2", "trp_player"),
				(is_between, "$g_encountered_party", "p_town_1", "p_village_1"),
				(party_get_slot, ":g_encountered_party_town_lord", "$g_encountered_party", slot_town_lord),
				(ge, ":g_encountered_party_town_lord", 0),
				(assign, ":value", ":g_encountered_party_town_lord"),
			(try_end),
			(try_begin),
				(ge, ":value", 0),
				(try_begin),
					(neg|troop_slot_ge, ":value", 13, 1),
					(assign, ":value_2", "mesh_banners_default_b"),
				(else_try),
					(troop_get_slot, ":value_banner_scene_prop", ":value", slot_troop_banner_scene_prop),
					(store_add, ":value_4", "spr_banner_lords_sarranid21", 1),
					(is_between, ":value_banner_scene_prop", "spr_banner_a", ":value_4"),
					(val_sub, ":value_banner_scene_prop", "spr_banner_a"),
					(store_add, ":value_2", ":value_banner_scene_prop", "mesh_arms_a01"),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("shield_item_set_banner",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_agent_troop_get_banner_mesh", ":script_param_2", ":script_param_3"),
			(cur_item_set_tableau_material, ":script_param_1", reg0)
		]),

	("troop_agent_set_banner",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_agent_troop_get_banner_mesh", ":script_param_2", ":script_param_3"),
			(cur_agent_set_banner_tableau_material, ":script_param_1", reg0)
		]),

	("add_troop_to_cur_tableau",
		[
			(store_script_param, ":script_param_1", 1),
			(set_fixed_point_multiplier, 100),
			(assign, ":value", -1),
			(troop_get_slot, ":script_param_1_banner_scene_prop", ":script_param_1", slot_troop_banner_scene_prop),
			(store_add, ":value_2", "spr_banner_lords_sarranid21", 1),
			(try_begin),
				(is_between, ":script_param_1_banner_scene_prop", "spr_banner_a", ":value_2"),
				(val_sub, ":script_param_1_banner_scene_prop", "spr_banner_a"),
				(store_add, ":value", ":script_param_1_banner_scene_prop", "mesh_banner_a01"),
			(try_end),
			(cur_tableau_clear_override_items),
			(cur_tableau_set_override_flags, 31),
			(init_position, 2),
			(cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000),
			(init_position, 5),
			(assign, ":var_5", 162),
			(store_mul, ":value_3", ":script_param_1", 87323),
			(assign, ":value_3", 139),
			(store_mul, ":value_4", ":script_param_1", 124337),
			(val_mod, ":value_4", 50),
			(val_add, ":value_4", -25),
			(store_mul, ":value_5", ":script_param_1", 98123),
			(val_mod, ":value_5", 20),
			(val_add, ":value_5", -14),
			(assign, ":var_9", "anim_stand_man"),
			(position_set_z, 5, ":var_5"),
			(position_rotate_x, 5, -90),
			(position_rotate_z, 5, 180),
			(position_rotate_y, 5, ":value_4"),
			(position_rotate_x, 5, ":value_5"),
			(position_move_z, 5, ":value_3", 0),
			(position_move_x, 5, 5, 0),
			(try_begin),
				(ge, ":value", 0),
				(init_position, 1),
				(position_set_z, 1, -1500),
				(position_set_x, 1, 265),
				(position_set_y, 1, 400),
				(position_transform_position_to_parent, 3, 5, 1),
				(cur_tableau_add_mesh, ":value", 3, 400, 0),
			(try_end),
			(cur_tableau_add_troop, ":script_param_1", 2, ":var_9", 0),
			(cur_tableau_set_camera_position, 5),
			(copy_position, 8, 5),
			(position_rotate_x, 8, -90),
			(position_rotate_z, 8, 30),
			(position_rotate_x, 8, -60),
			(cur_tableau_add_sun_light, 8, 175, 150, 125)
		]),

	("add_troop_to_cur_tableau_for_character",
		[
			(store_script_param, ":script_param_1", 1),
			(set_fixed_point_multiplier, 100),
			(cur_tableau_clear_override_items),
			(cur_tableau_set_override_flags, 512),
			(init_position, 2),
			(cur_tableau_set_camera_parameters, 1, 4, 8, 10, 10000),
			(init_position, 5),
			(assign, ":var_2", 150),
			(assign, ":value", 360),
			(assign, ":value_2", -15),
			(assign, ":value_3", -18),
			(assign, ":value_4", 1),
			(try_begin),
				(eq, "$jq_override", 1),
				(cur_tableau_clear_override_items),
				(cur_tableau_set_override_flags, 256),
				(assign, ":value_4", 446),
				(assign, ":value", 360),
				(assign, ":value_2", -15),
				(assign, ":value_3", -7),
			(try_end),
			(position_set_z, 5, ":var_2"),
			(position_rotate_x, 5, -90),
			(position_rotate_z, 5, 180),
			(position_rotate_y, 5, ":value_2"),
			(position_rotate_x, 5, ":value_3"),
			(position_move_z, 5, ":value", 0),
			(position_move_x, 5, 5, 0),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
				(cur_tableau_add_troop, ":script_param_1", 2, ":value_4", -1),
			(else_try),
				(store_mul, ":value_5", ":script_param_1", 126233),
				(val_mod, ":value_5", 1000),
				(val_add, ":value_5", 1),
				(cur_tableau_add_troop, ":script_param_1", 2, ":value_4", ":value_5"),
			(try_end),
			(cur_tableau_set_camera_position, 5),
			(copy_position, 8, 5),
			(position_rotate_x, 8, -90),
			(position_rotate_z, 8, 30),
			(position_rotate_x, 8, -60),
			(cur_tableau_add_sun_light, 8, 175, 150, 125)
		]),

	("add_troop_to_cur_tableau_for_inventory",
		[
			(store_script_param, ":script_param_1", 1),
			(store_mod, ":value", ":script_param_1", 4),
			(val_div, ":script_param_1", 4),
			(val_mul, ":value", 90),
			(set_fixed_point_multiplier, 100),
			(cur_tableau_clear_override_items),
			(init_position, 2),
			(position_rotate_z, 2, ":value"),
			(cur_tableau_set_camera_parameters, 1, 4, 6, 10, 10000),
			(init_position, 5),
			(assign, ":var_3", 105),
			(assign, ":var_4", 380),
			(assign, ":var_5", -15),
			(assign, ":var_6", -18),
			(assign, ":var_7", 1),
			(position_set_z, 5, ":var_3"),
			(position_rotate_x, 5, -90),
			(position_rotate_z, 5, 180),
			(position_rotate_y, 5, ":var_5"),
			(position_rotate_x, 5, ":var_6"),
			(position_move_z, 5, ":var_4", 0),
			(position_move_x, 5, 5, 0),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
				(cur_tableau_add_troop, ":script_param_1", 2, ":var_7", -1),
			(else_try),
				(store_mul, ":value_2", ":script_param_1", 126233),
				(val_mod, ":value_2", 1000),
				(val_add, ":value_2", 1),
				(cur_tableau_add_troop, ":script_param_1", 2, ":var_7", ":value_2"),
			(try_end),
			(cur_tableau_set_camera_position, 5),
			(copy_position, 8, 5),
			(position_rotate_x, 8, -90),
			(position_rotate_z, 8, 30),
			(position_rotate_x, 8, -60),
			(cur_tableau_add_sun_light, 8, 175, 150, 125)
		]),

	("add_troop_to_cur_tableau_for_profile",
		[
			(store_script_param, ":script_param_1", 1),
			(set_fixed_point_multiplier, 100),
			(cur_tableau_clear_override_items),
			(cur_tableau_set_camera_parameters, 1, 4, 6, 10, 10000),
			(init_position, 5),
			(assign, ":var_2", 105),
			(assign, ":var_3", 380),
			(assign, ":var_4", -15),
			(assign, ":var_5", -18),
			(assign, ":var_6", 1),
			(position_set_z, 5, ":var_2"),
			(position_rotate_x, 5, -90),
			(position_rotate_z, 5, 180),
			(position_rotate_y, 5, ":var_4"),
			(position_rotate_x, 5, ":var_5"),
			(position_move_z, 5, ":var_3", 0),
			(position_move_x, 5, 5, 0),
			(profile_get_banner_id, ":profile_banner_id"),
			(try_begin),
				(ge, ":profile_banner_id", 0),
				(init_position, 2),
				(val_add, ":profile_banner_id", "mesh_banner_a01"),
				(position_set_x, 2, -175),
				(position_set_y, 2, -300),
				(position_set_z, 2, 180),
				(position_rotate_x, 2, 90),
				(position_rotate_y, 2, -15),
				(cur_tableau_add_mesh, ":profile_banner_id", 2, 0, 0),
			(try_end),
			(init_position, 2),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
				(cur_tableau_add_troop, ":script_param_1", 2, ":var_6", -1),
			(else_try),
				(store_mul, ":value", ":script_param_1", 126233),
				(val_mod, ":value", 1000),
				(val_add, ":value", 1),
				(cur_tableau_add_troop, ":script_param_1", 2, ":var_6", ":value"),
			(try_end),
			(cur_tableau_set_camera_position, 5),
			(copy_position, 8, 5),
			(position_rotate_x, 8, -90),
			(position_rotate_z, 8, 30),
			(position_rotate_x, 8, -60),
			(cur_tableau_add_sun_light, 8, 175, 150, 125)
		]),

	("add_troop_to_cur_tableau_for_retirement",
		[
			(store_script_param, ":script_param_1", 1),
			(cur_tableau_set_override_flags, 511),
			(try_begin),
				(eq, ":script_param_1", 0),
				(cur_tableau_add_override_item, "itm_nomad_cap_b_new"),
				(cur_tableau_add_override_item, "itm_ar_pla_pri_pilgrimdisguise"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(assign, ":value", "anim_pose_1"),
			(else_try),
				(eq, ":script_param_1", 1),
				(cur_tableau_add_override_item, "itm_nomad_cap_b_new"),
				(cur_tableau_add_override_item, "itm_archer_a"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(assign, ":value", "anim_pose_1"),
			(else_try),
				(eq, ":script_param_1", 2),
				(cur_tableau_add_override_item, "itm_ar_swa_shi_linen"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(assign, ":value", "anim_pose_2"),
			(else_try),
				(eq, ":script_param_1", 3),
				(cur_tableau_add_override_item, "itm_archer_a"),
				(cur_tableau_add_override_item, "itm_bo_vae_t3_leather"),
				(assign, ":value", "anim_pose_2"),
			(else_try),
				(eq, ":script_param_1", 4),
				(cur_tableau_add_override_item, "itm_archer_a"),
				(cur_tableau_add_override_item, "itm_bo_vae_t3_leather"),
				(assign, ":value", "anim_pose_3"),
			(else_try),
				(eq, ":script_param_1", 5),
				(cur_tableau_add_override_item, "itm_ar_pla_t6_heraldic_a"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(cur_tableau_add_override_item, "itm_coif"),
				(assign, ":value", "anim_pose_3"),
			(else_try),
				(eq, ":script_param_1", 6),
				(cur_tableau_add_override_item, "itm_heraldic_cozur_2"),
				(cur_tableau_add_override_item, "itm_bo_vae_t3_leather"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(assign, ":value", "anim_pose_4"),
			(else_try),
				(eq, ":script_param_1", 7),
				(cur_tableau_add_override_item, "itm_heraldic_cozur_1"),
				(cur_tableau_add_override_item, "itm_bo_pla_t1_priest"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(assign, ":value", "anim_pose_4"),
			(else_try),
				(eq, ":script_param_1", 8),
				(cur_tableau_add_override_item, "itm_heraldic_cozur_1"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(assign, ":value", "anim_pose_4"),
			(else_try),
				(cur_tableau_add_override_item, "itm_ar_pla_t6_heraldic_a"),
				(cur_tableau_add_override_item, "itm_bo_swa_t6_mail"),
				(cur_tableau_add_override_item, "itm_medium_tier_sword_2"),
				(assign, ":value", "anim_pose_5"),
			(try_end),
			(set_fixed_point_multiplier, 100),
			(cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000),
			(assign, ":var_3", 155),
			(assign, ":var_4", 575),
			(assign, ":var_5", -5),
			(assign, ":var_6", 10),
			(init_position, 5),
			(position_set_z, 5, ":var_3"),
			(position_rotate_x, 5, -90),
			(position_rotate_z, 5, 180),
			(position_rotate_y, 5, ":var_5"),
			(position_rotate_x, 5, ":var_6"),
			(position_move_z, 5, ":var_4", 0),
			(position_move_x, 5, 60, 0),
			(init_position, 2),
			(cur_tableau_add_troop, "trp_player", 2, ":value", 0),
			(cur_tableau_set_camera_position, 5),
			(copy_position, 8, 5),
			(position_rotate_x, 8, -90),
			(position_rotate_z, 8, 30),
			(position_rotate_x, 8, -60),
			(cur_tableau_add_sun_light, 8, 175, 150, 125)
		]),

	("add_troop_to_cur_tableau_for_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_mod, ":value", ":script_param_1", 2),
			(val_div, ":script_param_1", 2),
			(set_fixed_point_multiplier, 100),
			(cur_tableau_clear_override_items),
			(try_begin),
				(eq, ":value", 1),
				(cur_tableau_set_override_flags, 543),
			(try_end),
			(init_position, 2),
			(cur_tableau_set_camera_parameters, 1, 6, 6, 10, 10000),
			(init_position, 5),
			(assign, ":value_2", 105),
			(assign, ":value_3", 450),
			(assign, ":value_4", 15),
			(assign, ":var_6", -18),
			(assign, ":value_5", 1),
			(troop_get_inventory_slot, ":inventory_slot_script_param_1_8", ":script_param_1", 8),
			(try_begin),
				(gt, ":inventory_slot_script_param_1_8", 0),
				(eq, ":value", 0),
				(cur_tableau_add_horse, ":inventory_slot_script_param_1_8", 2, "anim_horse_stand", 0),
				(assign, ":value_5", "anim_ride_0"),
				(assign, ":value_4", 23),
				(assign, ":value_2", 150),
				(assign, ":value_3", 550),
			(try_end),
			(position_set_z, 5, ":value_2"),
			(position_rotate_x, 5, -90),
			(position_rotate_z, 5, 180),
			(position_rotate_y, 5, ":value_4"),
			(position_rotate_x, 5, ":var_6"),
			(position_move_z, 5, ":value_3", 0),
			(position_move_x, 5, 5, 0),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
				(cur_tableau_add_troop, ":script_param_1", 2, ":value_5", -1),
			(else_try),
				(store_mul, ":value_6", ":script_param_1", 126233),
				(val_mod, ":value_6", 1000),
				(val_add, ":value_6", 1),
				(cur_tableau_add_troop, ":script_param_1", 2, ":value_5", ":value_6"),
			(try_end),
			(cur_tableau_set_camera_position, 5),
			(copy_position, 8, 5),
			(position_rotate_x, 8, -90),
			(position_rotate_z, 8, 30),
			(position_rotate_x, 8, -60),
			(cur_tableau_add_sun_light, 8, 175, 150, 125)
		]),

	("get_prosperity_text_to_s50",
		[
			(store_script_param, ":script_param_1", 1),
			(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
			(val_div, ":script_param_1_town_prosperity", 20),
			(try_begin),
				(eq, ":script_param_1_town_prosperity", 0),
				(str_store_string, 50, "@Very Poor"),
			(else_try),
				(eq, ":script_param_1_town_prosperity", 1),
				(str_store_string, 50, "@Poor"),
			(else_try),
				(eq, ":script_param_1_town_prosperity", 2),
				(str_store_string, 50, "@Average"),
			(else_try),
				(eq, ":script_param_1_town_prosperity", 3),
				(str_store_string, 50, "@Rich"),
			(else_try),
				(str_store_string, 50, "@Very Rich"),
			(try_end)
		]),

	("spawn_bandits",
		[
			(set_spawn_radius, 1),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG : Doing spawn bandit script"),
			(try_end),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_type, "pt_steppe_bandit_lair"),
				(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_type, "pt_taiga_bandit_lair"),
				(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_type, "pt_mountain_bandit_lair"),
				(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_type, "pt_forest_bandit_lair"),
				(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_type, "pt_sea_raider_lair"),
				(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_type, "pt_desert_bandit_lair"),
				(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_spawnpoint, "p_steppe_bandit_spawn_point"),
				(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_spawnpoint, "p_taiga_bandit_spawn_point"),
				(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_spawnpoint, "p_mountain_bandit_spawn_point"),
				(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_spawnpoint, "p_forest_bandit_spawn_point"),
				(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_spawnpoint, "p_sea_raider_spawn_point_1"),
				(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_spawnpoint, "p_desert_bandit_spawn_point"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_type, "pt_steppe_bandit_lair_r"),
				(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_type, "pt_taiga_bandit_lair_r"),
				(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_type, "pt_mountain_bandit_lair_r"),
				(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_type, "pt_forest_bandit_lair_r"),
				(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_type, "pt_sea_raider_lair_r"),
				(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_type, "pt_desert_bandit_lair_r"),
				(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_spawnpoint, "p_steppe_bandit_spawn_point"),
				(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_spawnpoint, "p_taiga_bandit_spawn_point"),
				(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_spawnpoint, "p_mountain_bandit_spawn_point"),
				(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_spawnpoint, "p_forest_bandit_spawn_point"),
				(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_spawnpoint, "p_sea_raider_spawn_point_1"),
				(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_spawnpoint, "p_desert_bandit_spawn_point"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
				(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_type, "pt_steppe_bandit_lair_e"),
				(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_type, "pt_taiga_bandit_lair_e"),
				(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_type, "pt_mountain_bandit_lair_e"),
				(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_type, "pt_forest_bandit_lair_e"),
				(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_type, "pt_sea_raider_lair_e"),
				(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_type, "pt_desert_bandit_lair_e"),
				(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_spawnpoint, "p_steppe_bandit_spawn_point"),
				(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_spawnpoint, "p_taiga_bandit_spawn_point"),
				(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_spawnpoint, "p_mountain_bandit_spawn_point"),
				(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_spawnpoint, "p_forest_bandit_spawn_point"),
				(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_spawnpoint, "p_sea_raider_spawn_point_1"),
				(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_spawnpoint, "p_desert_bandit_spawn_point"),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_mountain_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 15),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_mountain_bandit_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_mountain_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_mountain_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 15),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_mountain_bandit_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_mountain_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_mountain_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 15),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_mountain_bandit_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_mountain_bandits_e"),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_sea_raiders_ships"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 0),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_ship_raider_spawn_point_1"),
					(spawn_around_party, ":random_1", "pt_sea_raiders_ships"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_sea_raiders_ships_r"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 0),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_ship_raider_spawn_point_1"),
					(spawn_around_party, ":random_1", "pt_sea_raiders_ships_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_sea_raiders_ships_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 0),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_ship_raider_spawn_point_1"),
					(spawn_around_party, ":random_1", "pt_sea_raiders_ships_e"),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_forest_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_forest_bandit_spawn_point"),
					(set_spawn_radius, 17),
					(spawn_around_party, ":random_1", "pt_forest_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_forest_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_forest_bandit_spawn_point"),
					(set_spawn_radius, 17),
					(spawn_around_party, ":random_1", "pt_forest_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_forest_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 17),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_forest_bandit_spawn_point"),
					(set_spawn_radius, 15),
					(spawn_around_party, ":random_1", "pt_forest_bandits_e"),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_sea_raiders_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 2),
					(val_add, ":random_1", "p_sea_raider_spawn_point_1"),
					(set_spawn_radius, 30),
					(spawn_around_party, ":random_1", "pt_sea_raiders_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_sea_raiders_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 2),
					(val_add, ":random_1", "p_sea_raider_spawn_point_1"),
					(set_spawn_radius, 30),
					(spawn_around_party, ":random_1", "pt_sea_raiders_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_sea_raiders_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 2),
					(val_add, ":random_1", "p_sea_raider_spawn_point_1"),
					(set_spawn_radius, 30),
					(spawn_around_party, ":random_1", "pt_sea_raiders_e"),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_steppe_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_steppe_bandit_spawn_point"),
					(set_spawn_radius, 30),
					(spawn_around_party, ":random_1", "pt_steppe_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_steppe_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_steppe_bandit_spawn_point"),
					(set_spawn_radius, 30),
					(spawn_around_party, ":random_1", "pt_steppe_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_steppe_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 25),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_steppe_bandit_spawn_point"),
					(set_spawn_radius, 30),
					(spawn_around_party, ":random_1", "pt_steppe_bandits_e"),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_taiga_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 25),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_taiga_bandit_spawn_point"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_taiga_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_taiga_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 25),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_taiga_bandit_spawn_point"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_taiga_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_taiga_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 25),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_taiga_bandit_spawn_point"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_taiga_bandits_e"),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_desert_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_desert_bandit_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_desert_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_desert_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_desert_bandit_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_desert_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_desert_bandits_e"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 12),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_desert_bandit_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_desert_bandits_e"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_slaver"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_slaver_bandit_spawn_point"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_slaver"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_escaped_slaves"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_escaped_slaves_spawn_point"),
					(set_spawn_radius, 55),
					(spawn_around_party, ":random_1", "pt_escaped_slaves"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_clansmen"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_clansmen_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_clansmen"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_raiders"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 25),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_raiders_spawn_point"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_raiders"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_outlaws"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_outlaws_spawn_point"),
					(set_spawn_radius, 45),
					(spawn_around_party, ":random_1", "pt_outlaws"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_rhoyne_outlaws"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 20),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_rhoyne_bandits_spawn_point"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_rhoyne_outlaws"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_raiders"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_raiders_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_elite_raiders"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_wildlings"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_wildlings_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_elite_wildlings"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_elite_dothraki"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki2"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point2"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_elite_dothraki2"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki3"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point3"),
					(set_spawn_radius, 25),
					(spawn_around_party, ":random_1", "pt_elite_dothraki3"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki4"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point4"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_elite_dothraki4"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki5"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 2),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point5"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_elite_dothraki5"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki6"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 9),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point6"),
					(set_spawn_radius, 1),
					(spawn_around_party, ":random_1", "pt_elite_dothraki6"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki7"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point7"),
					(set_spawn_radius, 1),
					(spawn_around_party, ":random_1", "pt_elite_dothraki7"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki8"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 3),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point8"),
					(set_spawn_radius, 30),
					(spawn_around_party, ":random_1", "pt_elite_dothraki8"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki9"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point9"),
					(set_spawn_radius, 35),
					(spawn_around_party, ":random_1", "pt_elite_dothraki9"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_crannogmen"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 5),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_crannogmen"),
					(set_spawn_radius, 15),
					(spawn_around_party, ":random_1", "pt_crannogmen"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki11"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point11"),
					(set_spawn_radius, 15),
					(spawn_around_party, ":random_1", "pt_elite_dothraki11"),
				(try_end),
				(try_begin),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_elite_dothraki12"),
					(lt, ":num_parties_of_template_mountain_bandits_e", 1),
					(store_random, ":random_1", 1),
					(val_add, ":random_1", "p_elite_dothraki_spawn_point12"),
					(set_spawn_radius, 15),
					(spawn_around_party, ":random_1", "pt_elite_dothraki12"),
				(try_end),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_looters"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_looters_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_looters_e"),
				(try_end),
				(lt, ":num_parties_of_template_mountain_bandits_e", 42),
				(store_random_in_range, ":random_1", "p_village_1", "p_salt_mine"),
				(set_spawn_radius, 25),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(spawn_around_party, ":random_1", "pt_looters"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(spawn_around_party, ":random_1", "pt_looters_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(spawn_around_party, ":random_1", "pt_looters_e"),
				(try_end),
				(assign, ":var_3", reg0),
				(try_begin),
					(check_quest_active, "qst_deal_with_looters"),
					(party_set_flags, ":var_3", 262144, 1),
				(else_try),
					(party_set_flags, ":var_3", 262144, 0),
				(try_end),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_deserters"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 15),
				(set_spawn_radius, 4),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 5),
					(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(neq, ":faction_of_troop_troop", "fac_player_supporters_faction"),
					(gt, ":troop_leaded_party", 0),
					(neg|party_is_in_any_town, ":troop_leaded_party"),
					(spawn_around_party, ":troop_leaded_party", "pt_deserters"),
					(assign, ":var_8", reg0),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop"),
					(faction_get_slot, ":faction_of_troop_troop_2_quick_battle_tier_1_infantry", ":faction_of_troop_troop_2", slot_faction_quick_battle_tier_1_infantry),
					(store_character_level, ":character_level_player", "trp_player"),
					(store_mul, ":value", ":character_level_player", 2),
					(val_add, ":value", 11),
					(store_random_in_range, ":random_in_range_10_value", 10, ":value"),
					(party_add_members, ":var_8", ":faction_of_troop_troop_2_quick_battle_tier_1_infantry", ":random_in_range_10_value"),
					(store_random_in_range, ":random_in_range_0_100", 1, 4),
					(try_for_range, ":unused", 0, ":random_in_range_0_100"),
						(party_upgrade_with_xp, ":var_8", 1000000, 0),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(assign, ":value_2", "pt_forest_bandits_e"),
				(assign, ":value_3", "pt_deserters"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(assign, ":value_2", "pt_forest_bandits_e"),
				(assign, ":value_3", "pt_deserters"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
				(assign, ":value_2", "pt_forest_bandits_e"),
				(assign, ":value_3", "pt_deserters"),
			(try_end),
			(try_for_range, ":var_17", ":value_2", ":value_3"),
				(party_template_get_slot, ":party_template_slot_var_17_party_template_lair_party", ":var_17", slot_party_template_lair_party),
				(le, ":party_template_slot_var_17_party_template_lair_party", 1),
				(party_template_get_slot, ":party_template_slot_var_17_party_template_lair_type", ":var_17", slot_party_template_lair_type),
				(party_template_get_slot, ":party_template_slot_var_17_party_template_lair_spawnpoint", ":var_17", slot_party_template_lair_spawnpoint),
				(set_spawn_radius, 20),
				(spawn_around_party, ":party_template_slot_var_17_party_template_lair_spawnpoint", ":party_template_slot_var_17_party_template_lair_type"),
				(assign, ":var_21", reg0),
				(party_set_slot, ":var_21", slot_party_type, 18),
				(str_store_party_name, 4, ":var_21"),
				(party_get_position, 4, ":var_21"),
				(party_get_current_terrain, ":current_terrain_var_21", ":var_21"),
				(position_get_z, ":position_z_4", 4),
				(position_get_y, ":position_y_4", 4),
				(assign, ":value_4", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(eq, ":value_4", 0),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_var_21_party", ":var_21", ":party"),
					(lt, ":distance_to_party_from_party_var_21_party", 3),
					(assign, ":value_4", 1),
				(try_end),
				(try_begin),
					(eq, ":value_4", 1),
					(party_is_active, ":var_21"),
					(remove_party, ":var_21"),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, 0),
				(else_try),
					(this_or_next|eq, ":var_17", "pt_sea_raiders_e"),
					(this_or_next|eq, ":var_17", "pt_sea_raiders_e"),
					(eq, ":var_17", "pt_sea_raiders_e"),
					(eq, ":current_terrain_var_21", 3),
					(map_get_water_position_around_position, 5, 4, 4),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, ":var_21"),
					(party_set_flags, ":var_21", 256, 1),
				(else_try),
					(this_or_next|eq, ":var_17", "pt_mountain_bandits_e"),
					(this_or_next|eq, ":var_17", "pt_mountain_bandits_e"),
					(eq, ":var_17", "pt_mountain_bandits_e"),
					(eq, ":current_terrain_var_21", 3),
					(gt, ":position_z_4", 250),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, ":var_21"),
					(party_set_flags, ":var_21", 256, 1),
				(else_try),
					(this_or_next|eq, ":var_17", "pt_desert_bandits_e"),
					(this_or_next|eq, ":var_17", "pt_desert_bandits_e"),
					(eq, ":var_17", "pt_desert_bandits_e"),
					(eq, ":current_terrain_var_21", 5),
					(gt, ":position_y_4", -9000),
					(gt, ":position_z_4", 125),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, ":var_21"),
					(party_set_flags, ":var_21", 256, 1),
				(else_try),
					(this_or_next|eq, ":var_17", "pt_steppe_bandits_e"),
					(this_or_next|eq, ":var_17", "pt_steppe_bandits_e"),
					(eq, ":var_17", "pt_steppe_bandits_e"),
					(this_or_next|eq, ":current_terrain_var_21", 2),
					(eq, ":current_terrain_var_21", 10),
					(this_or_next|eq, ":current_terrain_var_21", 10),
					(gt, ":position_z_4", 200),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, ":var_21"),
					(party_set_flags, ":var_21", 256, 1),
				(else_try),
					(this_or_next|eq, ":var_17", "pt_taiga_bandits_e"),
					(this_or_next|eq, ":var_17", "pt_taiga_bandits_e"),
					(eq, ":var_17", "pt_taiga_bandits_e"),
					(eq, ":current_terrain_var_21", 12),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, ":var_21"),
					(party_set_flags, ":var_21", 256, 1),
				(else_try),
					(this_or_next|eq, ":var_17", "pt_forest_bandits_e"),
					(this_or_next|eq, ":var_17", "pt_forest_bandits_e"),
					(eq, ":var_17", "pt_forest_bandits_e"),
					(eq, ":current_terrain_var_21", 11),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, ":var_21"),
					(party_set_flags, ":var_21", 256, 1),
				(else_try),
					(party_is_active, ":var_21"),
					(str_store_party_name, 4, ":var_21"),
					(remove_party, ":var_21"),
					(party_template_set_slot, ":var_17", slot_party_template_lair_party, 0),
				(else_try),
				(try_end),
			(try_end)
		]),

	("start_spawn_bandits",
		[
			(set_spawn_radius, 1),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG : Doing spawn bandit script"),
			(try_end),
			(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_type, "pt_steppe_bandit_lair_e"),
			(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_type, "pt_taiga_bandit_lair_e"),
			(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_type, "pt_mountain_bandit_lair_e"),
			(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_type, "pt_forest_bandit_lair_e"),
			(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_type, "pt_sea_raider_lair_e"),
			(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_type, "pt_desert_bandit_lair_e"),
			(party_template_set_slot, "pt_steppe_bandits_e", slot_party_template_lair_spawnpoint, "p_steppe_bandit_spawn_point"),
			(party_template_set_slot, "pt_taiga_bandits_e", slot_party_template_lair_spawnpoint, "p_taiga_bandit_spawn_point"),
			(party_template_set_slot, "pt_mountain_bandits_e", slot_party_template_lair_spawnpoint, "p_mountain_bandit_spawn_point"),
			(party_template_set_slot, "pt_forest_bandits_e", slot_party_template_lair_spawnpoint, "p_forest_bandit_spawn_point"),
			(party_template_set_slot, "pt_sea_raiders_e", slot_party_template_lair_spawnpoint, "p_sea_raider_spawn_point_1"),
			(party_template_set_slot, "pt_desert_bandits_e", slot_party_template_lair_spawnpoint, "p_desert_bandit_spawn_point"),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_mountain_bandits_e"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 10),
				(store_random, ":random_1", 1),
				(val_add, ":random_1", "p_mountain_bandit_spawn_point"),
				(set_spawn_radius, 25),
				(spawn_around_party, ":random_1", "pt_mountain_bandits_e"),
			(try_end),
			(try_begin),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(assign, ":value", "pt_sea_raiders_ships"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(assign, ":value", "pt_sea_raiders_ships_r"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(assign, ":value", "pt_sea_raiders_ships_e"),
				(try_end),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", ":value"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 1),
				(spawn_around_party, "p_ship_raider_spawn_point_1", ":value"),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_forest_bandits_e"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 8),
				(store_random, ":random_1", 1),
				(val_add, ":random_1", "p_forest_bandit_spawn_point"),
				(set_spawn_radius, 25),
				(spawn_around_party, ":random_1", "pt_forest_bandits_e"),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_sea_raiders_e"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 10),
				(store_random, ":random_1", 2),
				(val_add, ":random_1", "p_sea_raider_spawn_point_1"),
				(set_spawn_radius, 25),
				(spawn_around_party, ":random_1", "pt_sea_raiders_e"),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_steppe_bandits_e"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 12),
				(store_random, ":random_1", 1),
				(val_add, ":random_1", "p_steppe_bandit_spawn_point"),
				(set_spawn_radius, 25),
				(spawn_around_party, ":random_1", "pt_steppe_bandits_e"),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_taiga_bandits_e"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 12),
				(store_random, ":random_1", 1),
				(val_add, ":random_1", "p_taiga_bandit_spawn_point"),
				(set_spawn_radius, 25),
				(spawn_around_party, ":random_1", "pt_taiga_bandits_e"),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_desert_bandits_e"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 12),
				(store_random, ":random_1", 1),
				(val_add, ":random_1", "p_desert_bandit_spawn_point"),
				(set_spawn_radius, 25),
				(spawn_around_party, ":random_1", "pt_desert_bandits_e"),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_looters_e"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 42),
				(store_random_in_range, ":random_1", "p_village_1", "p_salt_mine"),
				(set_spawn_radius, 25),
				(spawn_around_party, ":random_1", "pt_looters_e"),
				(assign, ":var_4", reg0),
				(try_begin),
					(check_quest_active, "qst_deal_with_looters"),
					(party_set_flags, ":var_4", 262144, 1),
				(else_try),
					(party_set_flags, ":var_4", 262144, 0),
				(try_end),
			(try_end),
			(try_begin),
				(store_num_parties_of_template, ":num_parties_of_template_mountain_bandits_e", "pt_deserters"),
				(lt, ":num_parties_of_template_mountain_bandits_e", 15),
				(set_spawn_radius, 4),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 5),
					(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(neq, ":faction_of_troop_troop", "fac_player_supporters_faction"),
					(gt, ":troop_leaded_party", 0),
					(neg|party_is_in_any_town, ":troop_leaded_party"),
					(spawn_around_party, ":troop_leaded_party", "pt_deserters"),
					(assign, ":var_9", reg0),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop"),
					(faction_get_slot, ":faction_of_troop_troop_2_quick_battle_tier_1_infantry", ":faction_of_troop_troop_2", slot_faction_quick_battle_tier_1_infantry),
					(store_character_level, ":character_level_player", "trp_player"),
					(store_mul, ":value_2", ":character_level_player", 2),
					(val_add, ":value_2", 11),
					(store_random_in_range, ":random_in_range_10_value_2", 10, ":value_2"),
					(party_add_members, ":var_9", ":faction_of_troop_troop_2_quick_battle_tier_1_infantry", ":random_in_range_10_value_2"),
					(store_random_in_range, ":random_in_range_0_100", 1, 4),
					(try_for_range, ":unused", 0, ":random_in_range_0_100"),
						(party_upgrade_with_xp, ":var_9", 1000000, 0),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(assign, ":value_3", "pt_forest_bandits_e"),
				(assign, ":value_4", "pt_deserters"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(assign, ":value_3", "pt_forest_bandits_e"),
				(assign, ":value_4", "pt_deserters"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
				(assign, ":value_3", "pt_forest_bandits_e"),
				(assign, ":value_4", "pt_deserters"),
			(try_end),
			(try_for_range, ":var_18", ":value_3", ":value_4"),
				(party_template_get_slot, ":party_template_slot_var_18_party_template_lair_party", ":var_18", slot_party_template_lair_party),
				(le, ":party_template_slot_var_18_party_template_lair_party", 1),
				(party_template_get_slot, ":party_template_slot_var_18_party_template_lair_type", ":var_18", slot_party_template_lair_type),
				(party_template_get_slot, ":party_template_slot_var_18_party_template_lair_spawnpoint", ":var_18", slot_party_template_lair_spawnpoint),
				(set_spawn_radius, 20),
				(spawn_around_party, ":party_template_slot_var_18_party_template_lair_spawnpoint", ":party_template_slot_var_18_party_template_lair_type"),
				(assign, ":var_22", reg0),
				(party_set_slot, ":var_22", slot_party_type, 18),
				(str_store_party_name, 4, ":var_22"),
				(party_get_position, 4, ":var_22"),
				(party_get_current_terrain, ":current_terrain_var_22", ":var_22"),
				(position_get_z, ":position_z_4", 4),
				(position_get_y, ":position_y_4", 4),
				(assign, ":value_5", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(eq, ":value_5", 0),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_var_22_party", ":var_22", ":party"),
					(lt, ":distance_to_party_from_party_var_22_party", 3),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(eq, ":value_5", 1),
					(party_is_active, ":var_22"),
					(remove_party, ":var_22"),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, 0),
				(else_try),
					(eq, ":var_18", "pt_sea_raiders_e"),
					(eq, ":current_terrain_var_22", 3),
					(map_get_water_position_around_position, 5, 4, 4),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, ":var_22"),
					(party_set_flags, ":var_22", 256, 1),
				(else_try),
					(eq, ":var_18", "pt_mountain_bandits_e"),
					(eq, ":current_terrain_var_22", 3),
					(gt, ":position_z_4", 250),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, ":var_22"),
					(party_set_flags, ":var_22", 256, 1),
				(else_try),
					(eq, ":var_18", "pt_desert_bandits_e"),
					(eq, ":current_terrain_var_22", 5),
					(gt, ":position_y_4", -9000),
					(gt, ":position_z_4", 125),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, ":var_22"),
					(party_set_flags, ":var_22", 256, 1),
				(else_try),
					(eq, ":var_18", "pt_steppe_bandits_e"),
					(this_or_next|eq, ":current_terrain_var_22", 2),
					(eq, ":current_terrain_var_22", 10),
					(this_or_next|eq, ":current_terrain_var_22", 10),
					(gt, ":position_z_4", 200),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, ":var_22"),
					(party_set_flags, ":var_22", 256, 1),
				(else_try),
					(eq, ":var_18", "pt_taiga_bandits_e"),
					(eq, ":current_terrain_var_22", 12),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, ":var_22"),
					(party_set_flags, ":var_22", 256, 1),
				(else_try),
					(eq, ":var_18", "pt_forest_bandits_e"),
					(eq, ":current_terrain_var_22", 11),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, ":var_22"),
					(party_set_flags, ":var_22", 256, 1),
				(else_try),
					(party_is_active, ":var_22"),
					(str_store_party_name, 4, ":var_22"),
					(remove_party, ":var_22"),
					(party_template_set_slot, ":var_18", slot_party_template_lair_party, 0),
				(else_try),
				(try_end),
			(try_end)
		]),

	("count_mission_casualties_from_agents",
		[
			(party_clear, "p_player_casualties"),
			(party_clear, "p_enemy_casualties"),
			(party_clear, "p_ally_casualties"),
			(assign, "$any_allies_at_the_last_battle", 0),
			(try_for_agents, ":value"),
				(agent_is_human, ":value"),
				(agent_get_party_id, ":party_id_value", ":value"),
				(agent_get_troop_id, ":troop_id_value", ":value"),
				(troop_set_slot, ":troop_id_value", slot_troop_player_routed_agents, 0),
				(troop_set_slot, ":troop_id_value", slot_troop_ally_routed_agents, 0),
				(troop_set_slot, ":troop_id_value", slot_troop_enemy_routed_agents, 0),
			(try_end),
			(try_for_agents, ":value"),
				(agent_is_human, ":value"),
				(agent_get_party_id, ":party_id_value", ":value"),
				(try_begin),
					(neq, ":party_id_value", "p_main_party"),
					(agent_is_ally, ":value"),
					(assign, "$any_allies_at_the_last_battle", 1),
				(try_end),
				(try_begin),
					(agent_is_routed, ":value"),
					(agent_get_slot, ":value_is_running_away", ":value", slot_agent_is_running_away),
					(eq, ":value_is_running_away", 1),
					(try_begin),
						(agent_get_troop_id, ":troop_id_value_2", ":value"),
						(agent_get_party_id, ":party_id_value_2", ":value"),
						(store_faction_of_party, ":faction_of_party_party_id_value_2", ":party_id_value_2"),
						(try_begin),
							(eq, ":party_id_value", "p_main_party"),
							(val_add, "$num_routed_us", 1),
						(else_try),
							(agent_is_ally, ":value"),
							(val_add, "$num_routed_allies", 1),
						(else_try),
							(val_add, "$num_routed_enemies", 1),
							(faction_get_slot, ":faction_of_party_party_id_value_2_num_routed_agents", ":faction_of_party_party_id_value_2", slot_faction_num_routed_agents),
							(val_add, ":faction_of_party_party_id_value_2_num_routed_agents", 1),
							(faction_set_slot, ":faction_of_party_party_id_value_2", slot_faction_num_routed_agents, ":faction_of_party_party_id_value_2_num_routed_agents"),
							(party_add_members, "p_routed_enemies", ":troop_id_value_2", 1),
						(try_end),
					(try_end),
					(agent_get_troop_id, ":troop_id_value", ":value"),
					(try_begin),
						(eq, ":party_id_value", "p_main_party"),
						(troop_get_slot, ":troop_id_value_player_routed_agents", ":troop_id_value", slot_troop_player_routed_agents),
						(val_add, ":troop_id_value_player_routed_agents", 1),
						(troop_set_slot, ":troop_id_value", slot_troop_player_routed_agents, ":troop_id_value_player_routed_agents"),
					(else_try),
						(agent_is_ally, ":value"),
						(troop_get_slot, ":troop_id_value_ally_routed_agents", ":troop_id_value", slot_troop_ally_routed_agents),
						(val_add, ":troop_id_value_ally_routed_agents", 1),
						(troop_set_slot, ":troop_id_value", slot_troop_ally_routed_agents, ":troop_id_value_ally_routed_agents"),
					(else_try),
						(troop_get_slot, ":troop_id_value_enemy_routed_agents", ":troop_id_value", slot_troop_enemy_routed_agents),
						(val_add, ":troop_id_value_enemy_routed_agents", 1),
						(troop_set_slot, ":troop_id_value", slot_troop_enemy_routed_agents, ":troop_id_value_enemy_routed_agents"),
					(try_end),
				(try_end),
				(neg|agent_is_alive, ":value"),
				(agent_get_troop_id, ":troop_id_value", ":value"),
				(try_begin),
					(eq, ":party_id_value", "p_main_party"),
					(party_add_members, "p_player_casualties", ":troop_id_value", 1),
					(try_begin),
						(agent_is_wounded, ":value"),
						(party_wound_members, "p_player_casualties", ":troop_id_value", 1),
					(try_end),
				(else_try),
					(agent_is_ally, ":value"),
					(party_add_members, "p_ally_casualties", ":troop_id_value", 1),
					(try_begin),
						(agent_is_wounded, ":value"),
						(party_wound_members, "p_ally_casualties", ":troop_id_value", 1),
					(try_end),
				(else_try),
					(party_add_members, "p_enemy_casualties", ":troop_id_value", 1),
					(try_begin),
						(agent_is_wounded, ":value"),
						(party_wound_members, "p_enemy_casualties", ":troop_id_value", 1),
					(try_end),
				(try_end),
			(try_end)
		]),

	("get_max_skill_of_player_party",
		[
			(store_script_param, ":script_param_1", 1),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(store_skill_level, ":skill_level_script_param_1_player", ":script_param_1", "trp_player"),
			(assign, ":value", "trp_player"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(troop_is_hero, ":party_stack_troop_id_main_party_number"),
				(neg|troop_is_wounded, ":party_stack_troop_id_main_party_number"),
				(store_skill_level, ":skill_level_script_param_1_party_stack_troop_id_main_party_number", ":script_param_1", ":party_stack_troop_id_main_party_number"),
				(gt, ":skill_level_script_param_1_party_stack_troop_id_main_party_number", ":skill_level_script_param_1_player"),
				(assign, ":skill_level_script_param_1_player", ":skill_level_script_param_1_party_stack_troop_id_main_party_number"),
				(assign, ":value", ":party_stack_troop_id_main_party_number"),
			(try_end),
			(party_get_skill_level, reg0, "p_main_party", ":script_param_1"),
			(assign, reg1, ":value")
		]),

	("upgrade_hero_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(ge, ":script_param_1", "p_looter_spawn_point"),
				(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
				(faction_get_slot, ":faction_of_party_script_param_1", ":faction_of_party_script_param_1", 204),
				(val_add, ":faction_of_party_script_param_1", 100),
				(val_clamp, ":faction_of_party_script_param_1", 97, 104),
				(val_mul, ":script_param_2", ":faction_of_party_script_param_1"),
				(val_div, ":script_param_2", 100),
			(try_end),
			(party_upgrade_with_xp, ":script_param_1", ":script_param_2", 0)
		]),

	("get_improvement_details",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(eq, ":script_param_1", 130),
				(str_store_string, 0, "@Manor"),
				(str_store_string, 1, "@A manor lets you rest at the village and pay your troops half wages while you rest."),
				(assign, reg0, 8000),
			(else_try),
				(eq, ":script_param_1", 131),
				(str_store_string, 0, "@Mill"),
				(str_store_string, 1, "@A mill increases village prosperity by 20%."),
				(assign, reg0, 6000),
			(else_try),
				(eq, ":script_param_1", 132),
				(str_store_string, 0, "@Watch Tower"),
				(str_store_string, 1, "@A watch tower lets the villagers raise alarm earlier. The time it takes for enemies to loot the village increases by 50%."),
				(assign, reg0, 4000),
			(else_try),
				(eq, ":script_param_1", 133),
				(str_store_string, 0, "@School"),
				(str_store_string, 1, "@A school increases the loyality of the villagers to you by +7 every month."),
				(assign, reg0, 7000),
			(else_try),
				(eq, ":script_param_1", 134),
				(str_store_string, 0, "@Messenger Post"),
				(str_store_string, 1, "@A messenger post lets the inhabitants send you a message whenever enemies are nearby, even if you are far away from here."),
				(assign, reg0, 4000),
			(else_try),
				(eq, ":script_param_1", 136),
				(str_store_string, 0, "@A Training Yard"),
				(str_store_string, 1, "@A training yard helps to train better troops."),
				(assign, reg0, 4000),
			(else_try),
				(eq, ":script_param_1", 135),
				(str_store_string, 0, "@Prison Tower"),
				(str_store_string, 1, "@A prison tower reduces the chance of captives held here running away successfully."),
				(assign, reg0, 7000),
			(try_end)
		]),

	("cf_troop_agent_is_alive",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(try_for_agents, ":var_3"),
				(agent_get_troop_id, ":troop_id_var_3", ":var_3"),
				(eq, ":script_param_1", ":troop_id_var_3"),
				(agent_is_alive, ":var_3"),
				(val_add, ":var_2", 1),
			(try_end),
			(gt, ":var_2", 0)
		]),

	("cf_village_recruit_volunteers_cond",
		[
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_checking_volunteer_availability_script"),
			(try_end),
			(neg|party_slot_eq, "$current_town", slot_village_state, 2),
			(neg|party_slot_eq, "$current_town", slot_village_state, 1),
			(neg|party_slot_ge, "$current_town", 39, 1),
			(store_faction_of_party, ":faction_of_party_current_town", "$current_town"),
			(party_get_slot, ":current_town_center_player_relation", "$current_town", slot_center_player_relation),
			(store_relation, ":relation_faction_of_party_current_town_player_faction", ":faction_of_party_current_town", "fac_player_faction"),
			(ge, ":current_town_center_player_relation", 0),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_center_relation_at_least_zero"),
			(try_end),
			(this_or_next|ge, ":current_town_center_player_relation", 5),
			(this_or_next|eq, ":faction_of_party_current_town", "$players_kingdom"),
			(this_or_next|ge, ":relation_faction_of_party_current_town_player_faction", 0),
			(this_or_next|eq, ":faction_of_party_current_town", "$supported_pretender_old_faction"),
			(eq, "$players_kingdom", 0),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_relationfaction_conditions_met"),
			(try_end),
			(party_slot_ge, "$current_town", 93, 0),
			(party_slot_ge, "$current_town", 92, 1),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_troops_available"),
			(try_end),
			(party_get_free_companions_capacity, ":free_companions_capacity_main_party", "p_main_party"),
			(ge, ":free_companions_capacity_main_party", 1),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_party_has_capacity"),
			(try_end)
		]),

	("cf_town_castle_recruit_volunteers_cond",
		[
			(store_faction_of_party, ":faction_of_party_current_town", "$current_town"),
			(party_get_slot, ":current_town_center_player_relation", "$current_town", slot_center_player_relation),
			(store_relation, ":relation_faction_of_party_current_town_player_faction", ":faction_of_party_current_town", "fac_player_faction"),
			(ge, ":current_town_center_player_relation", 0),
			(this_or_next|ge, ":current_town_center_player_relation", 5),
			(this_or_next|eq, ":faction_of_party_current_town", "$players_kingdom"),
			(this_or_next|ge, ":relation_faction_of_party_current_town_player_faction", 0),
			(this_or_next|eq, ":faction_of_party_current_town", "$supported_pretender_old_faction"),
			(eq, "$players_kingdom", 0),
			(party_slot_ge, "$current_town", 93, 0),
			(party_slot_ge, "$current_town", 92, 1),
			(party_get_free_companions_capacity, ":free_companions_capacity_main_party", "p_main_party"),
			(ge, ":free_companions_capacity_main_party", 1)
		]),

	("town_castle_recruit_nobles_recruit",
		[
			(store_faction_of_party, ":faction_of_party_current_town", "$current_town"),
			(faction_get_slot, ":faction_of_party_current_town_quick_battle_tier_1_cavalry", ":faction_of_party_current_town", slot_faction_quick_battle_tier_1_cavalry),
			(party_get_slot, ":current_town_center_volunteer_troop_amount", "$current_town", slot_center_volunteer_troop_amount),
			(party_get_free_companions_capacity, ":free_companions_capacity_main_party", "p_main_party"),
			(val_min, ":current_town_center_volunteer_troop_amount", ":free_companions_capacity_main_party"),
			(store_troop_gold, ":troop_gold_player", "trp_player"),
			(store_div, ":value", ":troop_gold_player", 800),
			(val_min, ":current_town_center_volunteer_troop_amount", ":value"),
			(party_add_members, "p_main_party", ":faction_of_party_current_town_quick_battle_tier_1_cavalry", ":current_town_center_volunteer_troop_amount"),
			(party_set_slot, "$current_town", slot_center_volunteer_troop_amount, -1),
			(store_mul, ":value_2", ":current_town_center_volunteer_troop_amount", 800),
			(troop_remove_gold, "trp_player", ":value_2")
		]),

	("village_recruit_volunteers_recruit",
		[
			(party_get_slot, ":current_town_center_volunteer_troop_type", "$current_town", slot_center_volunteer_troop_type),
			(party_get_slot, ":current_town_center_volunteer_troop_amount", "$current_town", slot_center_volunteer_troop_amount),
			(party_get_free_companions_capacity, ":free_companions_capacity_main_party", "p_main_party"),
			(val_min, ":current_town_center_volunteer_troop_amount", ":free_companions_capacity_main_party"),
			(store_troop_gold, ":troop_gold_player", "trp_player"),
			(store_div, ":value", ":troop_gold_player", 10),
			(val_min, ":current_town_center_volunteer_troop_amount", ":value"),
			(assign, ":value_2", 0),
			(try_begin),
				(party_get_slot, ":current_town_136", "$current_town", 136),
				(gt, ":current_town_136", 0),
				(assign, ":var_8", reg30),
				(lt, ":var_8", 25),
				(assign, ":var_9", reg31),
				(troop_get_upgrade_troop, ":upgrade_troop_current_town_center_volunteer_troop_type_var_9", ":current_town_center_volunteer_troop_type", ":var_9"),
				(try_begin),
					(le, ":upgrade_troop_current_town_center_volunteer_troop_type_var_9", 0),
					(troop_get_upgrade_troop, ":upgrade_troop_current_town_center_volunteer_troop_type_var_9", ":current_town_center_volunteer_troop_type", 0),
				(try_end),
				(gt, ":upgrade_troop_current_town_center_volunteer_troop_type_var_9", 0),
				(store_div, ":value_3", ":current_town_center_volunteer_troop_amount", 3),
				(store_sub, ":value_2", ":current_town_center_volunteer_troop_amount", ":value_3"),
				(store_sub, ":current_town_center_volunteer_troop_amount", ":current_town_center_volunteer_troop_amount", ":value_3"),
				(party_add_members, "p_main_party", ":upgrade_troop_current_town_center_volunteer_troop_type_var_9", ":value_2"),
			(try_end),
			(party_add_members, "p_main_party", ":current_town_center_volunteer_troop_type", ":current_town_center_volunteer_troop_amount"),
			(party_set_slot, "$current_town", slot_center_volunteer_troop_amount, -1),
			(store_mul, ":value_4", ":current_town_center_volunteer_troop_amount", 10),
			(troop_remove_gold, "trp_player", ":value_4")
		]),

	("get_troop_item_amount",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(assign, ":var_4", 0),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(eq, ":inventory_slot_script_param_1_number", ":script_param_2"),
				(val_add, ":var_4", 1),
			(try_end),
			(assign, reg0, ":var_4")
		]),

	("get_party_troop_count",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(eq, ":party_stack_troop_id_script_param_1_number", ":script_param_2"),
				(party_stack_get_size, ":value", ":script_param_1", ":number"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_number", ":script_param_1", ":number"),
				(val_sub, ":value", ":party_stack_num_wounded_script_param_1_number"),
				(assign, ":num_companion_stacks_script_param_1", 0),
			(try_end),
			(assign, reg0, ":value")
		]),

	("get_name_from_dna_to_s50",
		[
			(store_script_param, ":script_param_1", 1),
			(store_sub, ":value", "str_surname_1", "str_name_1"),
			(store_sub, ":value_2", "str_surnames_end", "str_surname_1"),
			(assign, ":var_4", ":script_param_1"),
			(val_mod, ":var_4", ":value"),
			(assign, ":var_5", ":script_param_1"),
			(val_div, ":var_5", ":value"),
			(val_mod, ":var_5", ":value_2"),
			(val_add, ":var_4", "str_name_1"),
			(val_add, ":var_5", "str_surname_1"),
			(str_store_string, 50, ":var_4"),
			(str_store_string, 50, ":var_5")
		]),

	("change_center_prosperity",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
			(store_add, ":value", ":script_param_1_town_prosperity", ":script_param_2"),
			(val_clamp, ":value", 0, 100),
			(store_div, ":value_2", ":script_param_1_town_prosperity", 20),
			(store_div, ":value_3", ":value", 20),
			(try_begin),
				(neq, ":value_2", ":value_3"),
				(neg|is_between, ":script_param_1", "p_castle_1", "p_village_1"),
				(str_store_party_name_link, 2, ":script_param_1"),
				(call_script, "script_get_prosperity_text_to_s50", ":script_param_1"),
				(str_store_string, 3, 50),
				(party_set_slot, ":script_param_1", slot_town_prosperity, ":value"),
				(call_script, "script_get_prosperity_text_to_s50", ":script_param_1"),
				(str_store_string, 4, 50),
				(try_begin),
					(party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
					(display_message, "@Prosperity of {s2} has changed from {s3} to {s4}."),
				(try_end),
				(call_script, "script_update_center_notes", ":script_param_1"),
			(else_try),
				(party_set_slot, ":script_param_1", slot_town_prosperity, ":value"),
			(try_end),
			(try_begin),
				(store_current_hours, ":current_hours"),
				(gt, ":current_hours", 1),
				(store_sub, ":value_4", ":value", ":script_param_1_town_prosperity"),
				(try_begin),
					(lt, ":value_4", 0),
					(val_add, "$newglob_total_prosperity_losses", ":value_4"),
				(else_try),
					(gt, ":value_4", 0),
					(val_add, "$newglob_total_prosperity_gains", ":value_4"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 3),
				(assign, reg4, "$newglob_total_prosperity_from_bandits"),
				(assign, reg5, "$newglob_total_prosperity_from_caravan_trade"),
				(assign, reg7, "$newglob_total_prosperity_from_villageloot"),
				(assign, reg8, "$newglob_total_prosperity_from_townloot"),
				(assign, reg9, "$newglob_total_prosperity_from_village_trade"),
				(assign, reg10, "$newglob_total_prosperity_from_convergence"),
				(assign, reg11, "$newglob_total_prosperity_losses"),
				(assign, reg12, "$newglob_total_prosperity_gains"),
				(display_message, "@{!}DEBUG: Total prosperity actual losses: {reg11}"),
				(display_message, "@{!}DEBUG: Total prosperity actual gains: {reg12}"),
				(display_message, "@{!}DEBUG: Prosperity changes from random bandits: {reg4}"),
				(display_message, "@{!}DEBUG: Prosperity changes from caravan trades: {reg5}"),
				(display_message, "@{!}DEBUG: Prosperity changes from farmer trades: {reg9}"),
				(display_message, "@{!}DEBUG: Prosperity changes from looted villages: {reg7}"),
				(display_message, "@{!}DEBUG: Prosperity changes from sieges: {reg8}"),
				(display_message, "@{!}DEBUG: Theoretical prosperity changes from convergence: {reg10}"),
			(try_end)
		]),

	("get_center_ideal_prosperity",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 65),
			(call_script, "script_center_get_goods_availability", ":script_param_1"),
			(store_mul, ":value", reg0, 2),
			(val_sub, ":var_2", ":value"),
			(try_begin),
				(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
				(party_slot_eq, ":script_param_1", slot_center_has_fish_pond, 1),
				(val_add, ":var_2", 5),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("good_price_affects_good_production",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, reg4, ":script_param_3"),
			(try_begin),
				(gt, ":script_param_3", 0),
				(store_sub, ":value", ":script_param_2", "itm_trade_spice"),
				(val_add, ":value", 267),
				(party_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
				(try_begin),
					(is_between, ":script_param_1", "p_town_1", "p_castle_1"),
					(val_mul, ":script_param_1_value", 4),
					(assign, ":var_7", 4),
					(try_for_range, ":party", "p_village_1", "p_salt_mine"),
						(party_slot_eq, ":party", slot_village_bound_center, ":script_param_1"),
						(party_get_slot, ":party_value", ":party", ":value"),
						(val_add, ":script_param_1_value", ":party_value"),
						(val_add, ":var_7", 1),
					(try_end),
					(val_div, ":script_param_1_value", ":var_7"),
				(try_end),
				(try_begin),
					(lt, ":script_param_1_value", 1000),
					(val_mul, ":script_param_4", 2),
				(try_end),
				(try_begin),
					(gt, ":script_param_4", 1),
					(val_sub, ":script_param_1_value", 1000),
					(val_div, ":script_param_1_value", ":script_param_4"),
					(val_add, ":script_param_1_value", 1000),
				(try_end),
				(val_mul, ":script_param_3", 1000),
				(val_div, ":script_param_3", ":script_param_1_value"),
			(try_end),
			(assign, reg0, ":script_param_3")
		]),

	("get_poorest_village_of_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", -1),
			(assign, ":value_2", 101),
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(party_get_slot, ":party_town_prosperity", ":party", slot_town_prosperity),
				(lt, ":party_town_prosperity", ":value_2"),
				(assign, ":value_2", ":party_town_prosperity"),
				(assign, ":value", ":party"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("troop_add_gold",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_add_gold, ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(play_sound, "snd_money_received"),
			(try_end)
		]),

	("initialize_npcs",
		[
			(troop_set_slot, "trp_kingdom_1_lord", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_kingdom_2_lord", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_kingdom_3_lord", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_kingdom_4_lord", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_kingdom_5_lord", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_kingdom_6_lord", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_kingdom_8_lord", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_kingdom_9_lord", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_kingdom_10_lord", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_kingdom_11_lord", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_kingdom_12_lord", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_kingdom_13_lord", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_kingdom_14_lord", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_kingdom_15_lord", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_kingdom_16_lord", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_kingdom_17_lord", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_kingdom_18_lord", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_kingdom_19_lord", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_kingdom_20_lord", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_kingdom_21_lord", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_kingdom_22_lord", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_1_1", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_2", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_3", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_1_4", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_1_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_8", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_1_9", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_1_10", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_1_11", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_1_12", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_14", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_15", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_16", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_1_18", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_1", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_2_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_2_3", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_2_4", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_2_5", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_2_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_8", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_11", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_12", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_13", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_2_14", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_15", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_18", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_21", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_2_22", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_2_23", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_2_24", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_sellsword_1", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_sellsword_2", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_3_1", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_3_3", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_3_4", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_3_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_8", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_10", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_11", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_12", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_3_13", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_14", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_15", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_22", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_23", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_3_24", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_4_1", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_4_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_4_3", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_4_4", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_4_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_4_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_4_7", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_4_8", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_4_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_4_10", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_4_11", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_4_12", slot_lord_reputation_type, 3),
			(troop_set_slot, "trp_knight_5_1", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_5_2", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_5_3", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_5_4", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_5_5", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_5_6", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_5_7", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_5_8", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_5_9", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_5_10", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_5_11", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_5_13", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_5_14", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_5_15", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_5_16", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_qohor_1", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_qohor_2", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_qohor_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_qohor_4", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_6_2", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_6_3", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_6_4", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_6_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_8", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_6_9", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_6_10", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_11", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_6_12", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_13", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_14", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_15", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_6_17", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_18", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_6_19", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_8_1", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_8_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_8_3", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_8_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_8_7", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_8_12", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_8_13", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_8_15", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_8_14", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_1", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_2", slot_lord_reputation_type, 3),
			(troop_set_slot, "trp_knight_9_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_4", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_8", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_9_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_10", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_11", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_9_12", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_9_13", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_14", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_15", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_9_16", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_17", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_18", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_19", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_20", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_9_21", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_9_22", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_9_23", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_24", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_25", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_26", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_27", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_28", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_29", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_30", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_9_31", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_9_32", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_9_33", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_9_34", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_9_35", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_9_36", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_9_37", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_9_38", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_39", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_40", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_41", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_9_42", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_10_1", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_10_2", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_10_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_4", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_10_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_7", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_10_8", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_10_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_10", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_10_11", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_12", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_13", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_14", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_10_17", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_21", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_10_23", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_10_24", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_10_25", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_10_27", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_1", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_11_2", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_4", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_11_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_6", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_11_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_8", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_10", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_11", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_11_12", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_11_13", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_14", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_11_15", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_12_1", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_12_2", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_12_3", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_12_4", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_12_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_12_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_12_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_12_8", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_12_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_13_1", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_13_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_13_3", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_13_4", slot_lord_reputation_type, 3),
			(troop_set_slot, "trp_knight_13_5", slot_lord_reputation_type, 3),
			(troop_set_slot, "trp_knight_14_1", slot_lord_reputation_type, 3),
			(troop_set_slot, "trp_knight_14_2", slot_lord_reputation_type, 3),
			(troop_set_slot, "trp_knight_14_3", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_14_4", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_14_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_14_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_15_1", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_15_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_15_3", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_15_4", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_15_5", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_15_6", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_15_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_16_1", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_knight_16_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_16_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_16_4", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_16_5", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_16_6", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_16_7", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_17_1", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_17_2", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_17_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_17_4", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_17_5", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_17_6", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_17_7", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_18_1", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_18_2", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_18_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_19_1", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_19_2", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_19_3", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_20_1", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_20_2", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_20_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_20_4", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_20_5", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_20_6", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_20_7", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_20_8", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_20_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_20_10", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_1", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_21_2", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_21_3", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_21_4", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_21_5", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_21_6", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_7", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_8", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_21_10", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_11", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_12", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_13", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_14", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_21_15", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_21_16", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_22_1", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_knight_22_2", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_22_3", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_22_4", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_22_5", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_22_6", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_knight_22_7", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_knight_22_8", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_knight_22_9", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_knight_22_10", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_npc1", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc1", slot_troop_morality_value, 4),
			(troop_set_slot, "trp_npc1", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc1", slot_troop_2ary_morality_value, -1),
			(troop_set_slot, "trp_npc1", slot_troop_personalityclash_object, "trp_npc2"),
			(troop_set_slot, "trp_npc1", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc1", slot_troop_personalitymatch_object, "trp_npc7"),
			(troop_set_slot, "trp_npc1", slot_troop_home, "p_castle_29"),
			(troop_set_slot, "trp_npc1", slot_troop_strings_end, 2500),
			(troop_set_slot, "trp_npc1", slot_troop_kingsupport_argument, 2),
			(troop_set_slot, "trp_npc1", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc1", slot_troop_town_with_contacts, "p_town_9"),
			(troop_set_slot, "trp_npc1", slot_troop_original_faction, 0),
			(troop_set_slot, "trp_npc1", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc2", slot_troop_morality_type, 5),
			(troop_set_slot, "trp_npc2", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc2", slot_troop_2ary_morality_type, 4),
			(troop_set_slot, "trp_npc2", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc2", slot_troop_personalityclash_object, "trp_npc1"),
			(troop_set_slot, "trp_npc2", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc2", slot_troop_personalitymatch_object, "trp_npc19"),
			(troop_set_slot, "trp_npc2", slot_troop_home, "p_town_12"),
			(troop_set_slot, "trp_npc2", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc2", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc2", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc2", slot_troop_town_with_contacts, "p_town_16"),
			(troop_set_slot, "trp_npc2", slot_troop_original_faction, 0),
			(troop_set_slot, "trp_npc2", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_npc3", slot_troop_morality_type, 5),
			(troop_set_slot, "trp_npc3", slot_troop_morality_value, 4),
			(troop_set_slot, "trp_npc3", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc3", slot_troop_2ary_morality_value, -1),
			(troop_set_slot, "trp_npc3", slot_troop_personalityclash_object, "trp_npc14"),
			(troop_set_slot, "trp_npc3", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc3", slot_troop_personalitymatch_object, "trp_npc22"),
			(troop_set_slot, "trp_npc3", slot_troop_home, "p_town_32"),
			(troop_set_slot, "trp_npc3", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc3", slot_troop_kingsupport_argument, 5),
			(troop_set_slot, "trp_npc3", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc3", slot_troop_town_with_contacts, "p_town_32"),
			(troop_set_slot, "trp_npc3", slot_troop_original_faction, 0),
			(troop_set_slot, "trp_npc3", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc4", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc4", slot_troop_morality_value, 4),
			(troop_set_slot, "trp_npc4", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc4", slot_troop_2ary_morality_value, -1),
			(troop_set_slot, "trp_npc4", slot_troop_personalityclash_object, "trp_npc15"),
			(troop_set_slot, "trp_npc4", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc4", slot_troop_personalitymatch_object, "trp_npc20"),
			(troop_set_slot, "trp_npc4", slot_troop_home, "p_town_47"),
			(troop_set_slot, "trp_npc4", slot_troop_strings_end, 4500),
			(troop_set_slot, "trp_npc4", slot_troop_kingsupport_argument, 1),
			(troop_set_slot, "trp_npc4", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc4", slot_troop_town_with_contacts, "p_town_40"),
			(troop_set_slot, "trp_npc4", slot_troop_original_faction, 0),
			(troop_set_slot, "trp_npc4", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc5", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc5", slot_troop_morality_value, 3),
			(troop_set_slot, "trp_npc5", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc5", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc5", slot_troop_personalityclash_object, "trp_npc12"),
			(troop_set_slot, "trp_npc5", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc5", slot_troop_personalitymatch_object, "trp_npc7"),
			(troop_set_slot, "trp_npc5", slot_troop_home, "p_town_26"),
			(troop_set_slot, "trp_npc5", slot_troop_strings_end, 5000),
			(troop_set_slot, "trp_npc5", slot_troop_kingsupport_argument, 2),
			(troop_set_slot, "trp_npc5", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc5", slot_troop_town_with_contacts, "p_town_30"),
			(troop_set_slot, "trp_npc5", slot_troop_original_faction, "fac_kingdom_10"),
			(troop_set_slot, "trp_npc5", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc6", slot_troop_morality_type, 3),
			(troop_set_slot, "trp_npc6", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc6", slot_troop_2ary_morality_type, 4),
			(troop_set_slot, "trp_npc6", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc6", slot_troop_personalityclash_object, "trp_dranton"),
			(troop_set_slot, "trp_npc6", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc6", slot_troop_personalitymatch_object, "trp_npc8"),
			(troop_set_slot, "trp_npc6", slot_troop_home, "p_castle_52"),
			(troop_set_slot, "trp_npc6", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc6", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc6", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc6", slot_troop_town_with_contacts, "p_town_31"),
			(troop_set_slot, "trp_npc6", slot_troop_original_faction, "fac_kingdom_2"),
			(troop_set_slot, "trp_npc6", slot_lord_reputation_type, 7),
			(troop_set_slot, "trp_npc7", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc7", slot_troop_morality_value, 3),
			(troop_set_slot, "trp_npc7", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc7", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc7", slot_troop_personalityclash_object, "trp_npc6"),
			(troop_set_slot, "trp_npc7", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc7", slot_troop_personalitymatch_object, "trp_npc1"),
			(troop_set_slot, "trp_npc7", slot_troop_home, "p_castle_37"),
			(troop_set_slot, "trp_npc7", slot_troop_strings_end, 4000),
			(troop_set_slot, "trp_npc7", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc7", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc7", slot_troop_town_with_contacts, "p_town_9"),
			(troop_set_slot, "trp_npc7", slot_troop_original_faction, "fac_kingdom_2"),
			(troop_set_slot, "trp_npc7", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc8", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc8", slot_troop_morality_value, 3),
			(troop_set_slot, "trp_npc8", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc8", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc8", slot_troop_personalityclash_object, "trp_npc17"),
			(troop_set_slot, "trp_npc8", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc8", slot_troop_personalitymatch_object, "trp_npc19"),
			(troop_set_slot, "trp_npc8", slot_troop_home, "p_castle_33"),
			(troop_set_slot, "trp_npc8", slot_troop_strings_end, 300),
			(troop_set_slot, "trp_npc8", slot_troop_kingsupport_argument, 5),
			(troop_set_slot, "trp_npc8", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc8", slot_troop_town_with_contacts, "p_town_8"),
			(troop_set_slot, "trp_npc8", slot_troop_original_faction, "fac_kingdom_3"),
			(troop_set_slot, "trp_npc8", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc9", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc9", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc9", slot_troop_2ary_morality_type, 4),
			(troop_set_slot, "trp_npc9", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc9", slot_troop_personalityclash_object, "trp_npc14"),
			(troop_set_slot, "trp_npc9", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc9", slot_troop_personalitymatch_object, "trp_npc20"),
			(troop_set_slot, "trp_npc9", slot_troop_home, "p_town_17"),
			(troop_set_slot, "trp_npc9", slot_troop_strings_end, 3500),
			(troop_set_slot, "trp_npc9", slot_troop_kingsupport_argument, 5),
			(troop_set_slot, "trp_npc9", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc9", slot_troop_town_with_contacts, "p_town_45"),
			(troop_set_slot, "trp_npc9", slot_troop_original_faction, "fac_kingdom_12"),
			(troop_set_slot, "trp_npc9", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc10", slot_troop_morality_type, 3),
			(troop_set_slot, "trp_npc10", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc10", slot_troop_2ary_morality_type, 2),
			(troop_set_slot, "trp_npc10", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc10", slot_troop_personalityclash_object, "trp_npc11"),
			(troop_set_slot, "trp_npc10", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc10", slot_troop_personalitymatch_object, "trp_npc2"),
			(troop_set_slot, "trp_npc10", slot_troop_home, "p_town_20"),
			(troop_set_slot, "trp_npc10", slot_troop_strings_end, 1200),
			(troop_set_slot, "trp_npc10", slot_troop_kingsupport_argument, 2),
			(troop_set_slot, "trp_npc10", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc10", slot_troop_town_with_contacts, "p_town_32"),
			(troop_set_slot, "trp_npc10", slot_troop_original_faction, "fac_kingdom_6"),
			(troop_set_slot, "trp_npc10", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_npc11", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc11", slot_troop_morality_value, 3),
			(troop_set_slot, "trp_npc11", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc11", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc11", slot_troop_personalityclash_object, "trp_npc10"),
			(troop_set_slot, "trp_npc11", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc11", slot_troop_personalitymatch_object, "trp_npc13"),
			(troop_set_slot, "trp_npc11", slot_troop_home, "p_castle_71"),
			(troop_set_slot, "trp_npc11", slot_troop_strings_end, 700),
			(troop_set_slot, "trp_npc11", slot_troop_kingsupport_argument, 1),
			(troop_set_slot, "trp_npc11", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc11", slot_troop_town_with_contacts, "p_castle_133"),
			(troop_set_slot, "trp_npc11", slot_troop_original_faction, "fac_kingdom_10"),
			(troop_set_slot, "trp_npc11", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_npc12", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc12", slot_troop_morality_value, 3),
			(troop_set_slot, "trp_npc12", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc12", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc12", slot_troop_personalityclash_object, "trp_npc10"),
			(troop_set_slot, "trp_npc12", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc12", slot_troop_personalitymatch_object, "trp_npc2"),
			(troop_set_slot, "trp_npc12", slot_troop_home, "p_castle_13"),
			(troop_set_slot, "trp_npc12", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc12", slot_troop_kingsupport_argument, 1),
			(troop_set_slot, "trp_npc12", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc12", slot_troop_town_with_contacts, "p_town_31"),
			(troop_set_slot, "trp_npc12", slot_troop_original_faction, "fac_kingdom_1"),
			(troop_set_slot, "trp_npc12", slot_lord_reputation_type, 2),
			(troop_set_slot, "trp_npc13", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc13", slot_troop_morality_value, 3),
			(troop_set_slot, "trp_npc13", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc13", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc13", slot_troop_personalityclash_object, "trp_npc18"),
			(troop_set_slot, "trp_npc13", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc13", slot_troop_personalitymatch_object, "trp_npc16"),
			(troop_set_slot, "trp_npc13", slot_troop_home, "p_castle_18"),
			(troop_set_slot, "trp_npc13", slot_troop_strings_end, 3000),
			(troop_set_slot, "trp_npc13", slot_troop_kingsupport_argument, 1),
			(troop_set_slot, "trp_npc13", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc13", slot_troop_town_with_contacts, "p_castle_39"),
			(troop_set_slot, "trp_npc13", slot_troop_original_faction, "fac_kingdom_10"),
			(troop_set_slot, "trp_npc13", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc14", slot_troop_morality_type, 3),
			(troop_set_slot, "trp_npc14", slot_troop_morality_value, 4),
			(troop_set_slot, "trp_npc14", slot_troop_2ary_morality_type, 2),
			(troop_set_slot, "trp_npc14", slot_troop_2ary_morality_value, -1),
			(troop_set_slot, "trp_npc14", slot_troop_personalityclash_object, "trp_npc9"),
			(troop_set_slot, "trp_npc14", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc14", slot_troop_personalitymatch_object, "trp_npc13"),
			(troop_set_slot, "trp_npc14", slot_troop_home, "p_town_51"),
			(troop_set_slot, "trp_npc14", slot_troop_strings_end, 2000),
			(troop_set_slot, "trp_npc14", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc14", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc14", slot_troop_town_with_contacts, "p_town_38"),
			(troop_set_slot, "trp_npc14", slot_troop_original_faction, "fac_kingdom_22"),
			(troop_set_slot, "trp_npc14", slot_lord_reputation_type, 3),
			(troop_set_slot, "trp_npc15", slot_troop_morality_type, 2),
			(troop_set_slot, "trp_npc15", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc15", slot_troop_2ary_morality_type, 4),
			(troop_set_slot, "trp_npc15", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc15", slot_troop_personalityclash_object, "trp_npc7"),
			(troop_set_slot, "trp_npc15", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc15", slot_troop_personalitymatch_object, "trp_npc8"),
			(troop_set_slot, "trp_npc15", slot_troop_home, "p_castle_73"),
			(troop_set_slot, "trp_npc15", slot_troop_strings_end, 6000),
			(troop_set_slot, "trp_npc15", slot_troop_kingsupport_argument, 2),
			(troop_set_slot, "trp_npc15", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc15", slot_troop_town_with_contacts, "p_town_40"),
			(troop_set_slot, "trp_npc15", slot_troop_original_faction, "fac_kingdom_4"),
			(troop_set_slot, "trp_npc15", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_npc16", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc16", slot_troop_morality_value, 4),
			(troop_set_slot, "trp_npc16", slot_troop_2ary_morality_type, 3),
			(troop_set_slot, "trp_npc16", slot_troop_2ary_morality_value, -1),
			(troop_set_slot, "trp_npc16", slot_troop_personalityclash_object, "trp_npc19"),
			(troop_set_slot, "trp_npc16", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc16", slot_troop_personalitymatch_object, "trp_npc14"),
			(troop_set_slot, "trp_npc16", slot_troop_home, "p_castle_89"),
			(troop_set_slot, "trp_npc16", slot_troop_strings_end, 1500),
			(troop_set_slot, "trp_npc16", slot_troop_kingsupport_argument, 5),
			(troop_set_slot, "trp_npc16", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc16", slot_troop_town_with_contacts, "p_town_3"),
			(troop_set_slot, "trp_npc16", slot_troop_original_faction, "fac_kingdom_2"),
			(troop_set_slot, "trp_npc16", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_npc17", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc17", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc17", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc17", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc17", slot_troop_personalityclash_object, "trp_npc6"),
			(troop_set_slot, "trp_npc17", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc17", slot_troop_personalitymatch_object, "trp_npc9"),
			(troop_set_slot, "trp_npc17", slot_troop_home, "p_town_46"),
			(troop_set_slot, "trp_npc17", slot_troop_strings_end, 3000),
			(troop_set_slot, "trp_npc17", slot_troop_kingsupport_argument, 2),
			(troop_set_slot, "trp_npc17", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc17", slot_troop_town_with_contacts, "p_town_45"),
			(troop_set_slot, "trp_npc17", slot_troop_original_faction, "fac_kingdom_15"),
			(troop_set_slot, "trp_npc17", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_npc18", slot_troop_morality_type, 3),
			(troop_set_slot, "trp_npc18", slot_troop_morality_value, 4),
			(troop_set_slot, "trp_npc18", slot_troop_2ary_morality_type, 4),
			(troop_set_slot, "trp_npc18", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc18", slot_troop_personalityclash_object, "trp_npc19"),
			(troop_set_slot, "trp_npc18", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc18", slot_troop_personalitymatch_object, "trp_npc13"),
			(troop_set_slot, "trp_npc18", slot_troop_home, "p_castle_119"),
			(troop_set_slot, "trp_npc18", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc18", slot_troop_kingsupport_argument, 1),
			(troop_set_slot, "trp_npc18", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc18", slot_troop_town_with_contacts, "p_town_34"),
			(troop_set_slot, "trp_npc18", slot_troop_original_faction, "fac_kingdom_11"),
			(troop_set_slot, "trp_npc18", slot_lord_reputation_type, 4),
			(troop_set_slot, "trp_npc19", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc19", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc19", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc19", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc19", slot_troop_personalityclash_object, "trp_dranton"),
			(troop_set_slot, "trp_npc19", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc19", slot_troop_personalitymatch_object, "trp_dranton"),
			(troop_set_slot, "trp_npc19", slot_troop_home, "p_town_40"),
			(troop_set_slot, "trp_npc19", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc19", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc19", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc19", slot_troop_town_with_contacts, "p_town_44"),
			(troop_set_slot, "trp_npc19", slot_troop_original_faction, "fac_kingdom_16"),
			(troop_set_slot, "trp_npc19", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_npc20", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc20", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc20", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc20", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc20", slot_troop_personalityclash_object, "trp_dranton"),
			(troop_set_slot, "trp_npc20", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc20", slot_troop_personalitymatch_object, "trp_npc18"),
			(troop_set_slot, "trp_npc20", slot_troop_home, "p_sorrows"),
			(troop_set_slot, "trp_npc20", slot_troop_strings_end, 1500),
			(troop_set_slot, "trp_npc20", slot_troop_kingsupport_argument, 2),
			(troop_set_slot, "trp_npc20", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc20", slot_troop_town_with_contacts, "p_town_17"),
			(troop_set_slot, "trp_npc20", slot_troop_original_faction, "fac_kingdom_13"),
			(troop_set_slot, "trp_npc20", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_npc21", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc21", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc21", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc21", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc21", slot_troop_personalityclash_object, "trp_npc18"),
			(troop_set_slot, "trp_npc21", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc21", slot_troop_personalitymatch_object, "trp_npc7"),
			(troop_set_slot, "trp_npc21", slot_troop_home, "p_town_40"),
			(troop_set_slot, "trp_npc21", slot_troop_strings_end, 2500),
			(troop_set_slot, "trp_npc21", slot_troop_kingsupport_argument, 5),
			(troop_set_slot, "trp_npc21", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc21", slot_troop_town_with_contacts, "p_town_44"),
			(troop_set_slot, "trp_npc21", slot_troop_original_faction, "fac_kingdom_3"),
			(troop_set_slot, "trp_npc21", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc22", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc22", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc22", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc22", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc22", slot_troop_personalityclash_object, "trp_npc1"),
			(troop_set_slot, "trp_npc22", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc22", slot_troop_personalitymatch_object, "trp_npc2"),
			(troop_set_slot, "trp_npc22", slot_troop_home, "p_castle_99"),
			(troop_set_slot, "trp_npc22", slot_troop_strings_end, 3000),
			(troop_set_slot, "trp_npc22", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc22", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc22", slot_troop_town_with_contacts, "p_town_16"),
			(troop_set_slot, "trp_npc22", slot_troop_original_faction, "fac_kingdom_9"),
			(troop_set_slot, "trp_npc22", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_npc23", slot_troop_morality_type, 1),
			(troop_set_slot, "trp_npc23", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc23", slot_troop_2ary_morality_type, 1),
			(troop_set_slot, "trp_npc23", slot_troop_2ary_morality_value, 1),
			(troop_set_slot, "trp_npc23", slot_troop_personalityclash_object, "trp_npc1"),
			(troop_set_slot, "trp_npc23", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc23", slot_troop_personalitymatch_object, "trp_npc2"),
			(troop_set_slot, "trp_npc23", slot_troop_home, "p_castle_129"),
			(troop_set_slot, "trp_npc23", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc23", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc23", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc23", slot_troop_town_with_contacts, "p_town_31"),
			(troop_set_slot, "trp_npc23", slot_troop_original_faction, "fac_kingdom_2"),
			(troop_set_slot, "trp_npc23", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_npc24", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc24", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc24", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc24", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc24", slot_troop_personalityclash_object, "trp_npc23"),
			(troop_set_slot, "trp_npc24", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc24", slot_troop_personalitymatch_object, "trp_dranton"),
			(troop_set_slot, "trp_npc24", slot_troop_home, "p_village_79"),
			(troop_set_slot, "trp_npc24", slot_troop_strings_end, 2500),
			(troop_set_slot, "trp_npc24", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc24", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc24", slot_troop_town_with_contacts, "p_town_25"),
			(troop_set_slot, "trp_npc24", slot_troop_original_faction, "fac_kingdom_9"),
			(troop_set_slot, "trp_npc24", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_npc25", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc25", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc25", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc25", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc25", slot_troop_personalityclash_object, "trp_dranton"),
			(troop_set_slot, "trp_npc25", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc25", slot_troop_personalitymatch_object, "trp_dranton"),
			(troop_set_slot, "trp_npc25", slot_troop_home, "p_castle_85"),
			(troop_set_slot, "trp_npc25", slot_troop_strings_end, 0),
			(troop_set_slot, "trp_npc25", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc25", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc25", slot_troop_town_with_contacts, "p_town_6"),
			(troop_set_slot, "trp_npc25", slot_troop_original_faction, "fac_kingdom_16"),
			(troop_set_slot, "trp_npc25", slot_lord_reputation_type, 5),
			(troop_set_slot, "trp_npc26", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc26", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc26", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc26", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc26", slot_troop_personalityclash_object, "trp_dranton"),
			(troop_set_slot, "trp_npc26", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc26", slot_troop_personalitymatch_object, "trp_dranton"),
			(troop_set_slot, "trp_npc26", slot_troop_home, "p_village_160"),
			(troop_set_slot, "trp_npc26", slot_troop_strings_end, 25000),
			(troop_set_slot, "trp_npc26", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc26", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc26", slot_troop_town_with_contacts, "p_town_42"),
			(troop_set_slot, "trp_npc26", slot_troop_original_faction, "fac_kingdom_9"),
			(troop_set_slot, "trp_npc26", slot_lord_reputation_type, 1),
			(troop_set_slot, "trp_npc27", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc27", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc27", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc27", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc27", slot_troop_personalityclash_object, "trp_dranton"),
			(troop_set_slot, "trp_npc27", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc27", slot_troop_personalitymatch_object, "trp_dranton"),
			(troop_set_slot, "trp_npc27", slot_troop_home, "p_castle_32"),
			(troop_set_slot, "trp_npc27", slot_troop_strings_end, 6000),
			(troop_set_slot, "trp_npc27", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc27", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc27", slot_troop_town_with_contacts, "p_town_31"),
			(troop_set_slot, "trp_npc27", slot_troop_original_faction, "fac_kingdom_2"),
			(troop_set_slot, "trp_npc27", slot_lord_reputation_type, 6),
			(troop_set_slot, "trp_npc28", slot_troop_morality_type, 4),
			(troop_set_slot, "trp_npc28", slot_troop_morality_value, 2),
			(troop_set_slot, "trp_npc28", slot_troop_2ary_morality_type, -1),
			(troop_set_slot, "trp_npc28", slot_troop_2ary_morality_value, 0),
			(troop_set_slot, "trp_npc28", slot_troop_personalityclash_object, "trp_dranton"),
			(troop_set_slot, "trp_npc28", slot_troop_personalityclash2_object, "trp_dranton"),
			(troop_set_slot, "trp_npc28", slot_troop_personalitymatch_object, "trp_dranton"),
			(troop_set_slot, "trp_npc28", slot_troop_home, "p_town_35"),
			(troop_set_slot, "trp_npc28", slot_troop_strings_end, 1500),
			(troop_set_slot, "trp_npc28", slot_troop_kingsupport_argument, 4),
			(troop_set_slot, "trp_npc28", slot_troop_kingsupport_opponent, "trp_dranton"),
			(troop_set_slot, "trp_npc28", slot_troop_town_with_contacts, "p_town_35"),
			(troop_set_slot, "trp_npc28", slot_troop_original_faction, "fac_kingdom_10"),
			(troop_set_slot, "trp_npc28", slot_lord_reputation_type, 6),
			(store_sub, "$number_of_npc_slots", 141, 101),
			(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
				(try_for_range, ":number", 0, "$number_of_npc_slots"),
					(store_add, ":value", ":number", 101),
					(store_mul, ":value_2", ":number", 28),
					(store_add, ":value_3", "str_npc1_intro", ":value_2"),
					(val_add, ":value_3", ":troop"),
					(val_sub, ":value_3", "trp_npc1"),
					(troop_set_slot, ":troop", ":value", ":value_3"),
				(try_end),
			(try_end),
			(call_script, "script_add_log_entry", 45, "trp_player", -1, -1, -1),
			(troop_set_slot, "trp_kingdom_1_pretender", slot_troop_original_faction, "fac_kingdom_13"),
			(troop_set_slot, "trp_kingdom_2_pretender", slot_troop_original_faction, "fac_kingdom_14"),
			(troop_set_slot, "trp_kingdom_3_pretender", slot_troop_original_faction, "fac_kingdom_17"),
			(troop_set_slot, "trp_kingdom_4_pretender", slot_troop_original_faction, "fac_kingdom_15"),
			(troop_set_slot, "trp_kingdom_5_pretender", slot_troop_original_faction, "fac_kingdom_18"),
			(troop_set_slot, "trp_kingdom_6_pretender", slot_troop_original_faction, "fac_kingdom_5"),
			(try_for_range, ":troop_2", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(troop_set_slot, ":troop_2", slot_lord_reputation_type, 0),
			(try_end)
		]),

	("objectionable_action",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", -2),
			(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
				(main_party_has_troop, ":troop"),
				(try_begin),
					(troop_slot_eq, ":troop", slot_troop_morality_type, ":script_param_1"),
					(troop_get_slot, ":troop_morality_value", ":troop", slot_troop_morality_value),
					(try_begin),
						(troop_slot_eq, ":troop", slot_troop_morality_state, 1),
						(troop_get_slot, ":troop_morality_penalties", ":troop", slot_troop_morality_penalties),
						(val_mul, ":troop_morality_value", 2),
						(val_add, ":troop_morality_penalties", ":troop_morality_value"),
						(troop_set_slot, ":troop", slot_troop_morality_penalties, ":troop_morality_penalties"),
					(else_try),
						(this_or_next|troop_slot_eq, ":troop", slot_troop_morality_state, 2),
						(eq, "$disable_npc_complaints", 1),
						(troop_get_slot, ":troop_morality_penalties", ":troop", slot_troop_morality_penalties),
						(val_add, ":troop_morality_penalties", ":troop_morality_value"),
						(troop_set_slot, ":troop", slot_troop_morality_penalties, ":troop_morality_penalties"),
					(else_try),
						(troop_slot_eq, ":troop", slot_troop_morality_state, 0),
						(gt, ":troop_morality_value", ":value"),
						(assign, "$npc_with_grievance", ":troop"),
						(assign, "$npc_grievance_string", ":script_param_2"),
						(assign, "$npc_grievance_slot", 61),
						(assign, ":value", ":troop_morality_value"),
						(assign, "$npc_praise_not_complaint", 0),
						(try_begin),
							(lt, ":troop_morality_value", 0),
							(assign, "$npc_praise_not_complaint", 1),
						(try_end),
					(try_end),
				(else_try),
					(troop_slot_eq, ":troop", slot_troop_2ary_morality_type, ":script_param_1"),
					(troop_get_slot, ":troop_morality_value", ":troop", slot_troop_2ary_morality_value),
					(try_begin),
						(troop_slot_eq, ":troop", slot_troop_2ary_morality_state, 1),
						(troop_get_slot, ":troop_morality_penalties", ":troop", slot_troop_morality_penalties),
						(val_mul, ":troop_morality_value", 2),
						(val_add, ":troop_morality_penalties", ":troop_morality_value"),
						(troop_set_slot, ":troop", slot_troop_morality_penalties, ":troop_morality_penalties"),
					(else_try),
						(this_or_next|troop_slot_eq, ":troop", slot_troop_2ary_morality_state, 2),
						(eq, "$disable_npc_complaints", 1),
						(troop_get_slot, ":troop_morality_penalties", ":troop", slot_troop_morality_penalties),
						(val_add, ":troop_morality_penalties", ":troop_morality_value"),
						(troop_set_slot, ":troop", slot_troop_morality_penalties, ":troop_morality_penalties"),
					(else_try),
						(troop_slot_eq, ":troop", slot_troop_2ary_morality_state, 0),
						(gt, ":troop_morality_value", ":value"),
						(assign, "$npc_with_grievance", ":troop"),
						(assign, "$npc_grievance_string", ":script_param_2"),
						(assign, "$npc_grievance_slot", 65),
						(assign, ":value", ":troop_morality_value"),
						(assign, "$npc_praise_not_complaint", 0),
						(try_begin),
							(lt, ":troop_morality_value", 0),
							(assign, "$npc_praise_not_complaint", 1),
						(try_end),
					(try_end),
				(try_end),
				(try_begin),
					(gt, "$npc_with_grievance", 0),
					(eq, "$npc_praise_not_complaint", 0),
					(str_store_troop_name, 4, "$npc_with_grievance"),
					(display_message, "@{s4} looks upset."),
				(try_end),
			(try_end)
		]),

	("post_battle_personality_clash_check",
		[
			(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
				(eq, "$disable_npc_complaints", 0),
				(main_party_has_troop, ":troop"),
				(neg|troop_is_wounded, ":troop"),
				(troop_get_slot, ":troop_personalityclash2_object", ":troop", slot_troop_personalityclash2_object),
				(main_party_has_troop, ":troop_personalityclash2_object"),
				(neg|troop_is_wounded, ":troop_personalityclash2_object"),
				(try_begin),
					(troop_slot_eq, ":troop", slot_troop_personalityclash2_state, 0),
					(try_begin),
						(assign, "$npc_with_personality_clash_2", ":troop"),
					(try_end),
				(try_end),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":troop", slot_troop_personalitymatch_state, 0),
				(eq, "$disable_npc_complaints", 0),
				(main_party_has_troop, ":troop"),
				(neg|troop_is_wounded, ":troop"),
				(troop_get_slot, ":troop_personalityclash2_object", ":troop", slot_troop_personalitymatch_object),
				(main_party_has_troop, ":troop_personalityclash2_object"),
				(neg|troop_is_wounded, ":troop_personalityclash2_object"),
				(assign, "$npc_with_personality_match", ":troop"),
			(try_end),
			(try_begin),
				(gt, "$npc_with_personality_clash_2", 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_personality_clash_conversation_begins"),
				(try_end),
				(try_begin),
					(main_party_has_troop, "$npc_with_personality_clash_2"),
					(assign, "$npc_map_talk_context", 74),
					(start_map_conversation, "$npc_with_personality_clash_2"),
				(else_try),
					(assign, "$npc_with_personality_clash_2", 0),
				(try_end),
			(else_try),
				(gt, "$npc_with_personality_match", 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_personality_match_conversation_begins"),
				(try_end),
				(try_begin),
					(main_party_has_troop, "$npc_with_personality_match"),
					(assign, "$npc_map_talk_context", 76),
					(start_map_conversation, "$npc_with_personality_match"),
				(else_try),
					(assign, "$npc_with_personality_match", 0),
				(try_end),
			(try_end)
		]),

	("event_player_defeated_enemy_party",
		[
			(try_begin),
				(check_quest_active, "qst_raid_caravan_to_start_war"),
				(neg|check_quest_concluded, "qst_raid_caravan_to_start_war"),
				(party_slot_eq, "$g_enemy_party", slot_party_type, 11),
				(store_faction_of_party, ":faction_of_party_g_enemy_party", "$g_enemy_party"),
				(quest_slot_eq, "qst_raid_caravan_to_start_war", slot_quest_target_faction, ":faction_of_party_g_enemy_party"),
				(quest_get_slot, ":raid_caravan_to_start_war_current_state", "qst_raid_caravan_to_start_war", slot_quest_current_state),
				(quest_get_slot, ":raid_caravan_to_start_war_target_amount", "qst_raid_caravan_to_start_war", slot_quest_target_amount),
				(val_add, ":raid_caravan_to_start_war_current_state", 1),
				(quest_set_slot, "qst_raid_caravan_to_start_war", slot_quest_current_state, ":raid_caravan_to_start_war_current_state"),
				(try_begin),
					(ge, ":raid_caravan_to_start_war_current_state", ":raid_caravan_to_start_war_target_amount"),
					(quest_get_slot, ":raid_caravan_to_start_war_target_faction", "qst_raid_caravan_to_start_war", slot_quest_target_faction),
					(quest_get_slot, ":raid_caravan_to_start_war_giver_troop", "qst_raid_caravan_to_start_war", slot_quest_giver_troop),
					(store_faction_of_troop, ":faction_of_troop_raid_caravan_to_start_war_giver_troop", ":raid_caravan_to_start_war_giver_troop"),
					(call_script, "script_diplomacy_start_war_between_kingdoms", ":raid_caravan_to_start_war_target_faction", ":faction_of_troop_raid_caravan_to_start_war_giver_troop", 1),
					(call_script, "script_succeed_quest", "qst_raid_caravan_to_start_war"),
				(try_end),
			(try_end),
			(try_begin),
				(party_slot_eq, "$g_enemy_party", slot_party_type, 11),
				(party_get_slot, ":g_enemy_party_town_trade_good_productions_begin", "$g_enemy_party", slot_town_trade_good_productions_begin),
				(party_set_slot, "$g_enemy_party", slot_town_wealth, 0),
				(party_set_slot, "$g_enemy_party", slot_town_prosperity, 0),
				(gt, ":g_enemy_party_town_trade_good_productions_begin", 0),
				(val_add, ":g_enemy_party_town_trade_good_productions_begin", 1),
				(try_for_range, ":number", 1, ":g_enemy_party_town_trade_good_productions_begin"),
					(store_add, ":value", 500, ":number"),
					(party_set_slot, "$g_enemy_party", ":value", 0),
				(try_end),
			(try_end)
		]),

	("event_player_captured_as_prisoner",
		[
			(try_begin),
				(check_quest_active, "qst_raid_caravan_to_start_war"),
				(neg|check_quest_concluded, "qst_raid_caravan_to_start_war"),
				(quest_get_slot, ":raid_caravan_to_start_war_target_faction", "qst_raid_caravan_to_start_war", slot_quest_target_faction),
				(store_faction_of_party, ":faction_of_party_capturer_party", "$capturer_party"),
				(eq, ":raid_caravan_to_start_war_target_faction", ":faction_of_party_capturer_party"),
				(call_script, "script_fail_quest", "qst_raid_caravan_to_start_war"),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(gt, ":troop_leaded_party", 0),
				(party_is_active, ":troop_leaded_party"),
				(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
				(party_slot_eq, ":troop_leaded_party", slot_party_ai_object, "p_main_party"),
				(call_script, "script_party_set_ai_state", ":troop_leaded_party", -1, -1),
				(assign, "$g_recalculate_ais", 1),
			(try_end)
		]),

	("npc_morale",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_get_slot, ":script_param_1_morality_penalties", ":script_param_1", slot_troop_morality_penalties),
			(troop_get_slot, ":script_param_1_personalityclash_penalties", ":script_param_1", slot_troop_personalityclash_penalties),
			(party_get_morale, ":morale_main_party", "p_main_party"),
			(store_sub, ":value", ":morale_main_party", ":script_param_1_morality_penalties"),
			(val_sub, ":value", ":script_param_1_personalityclash_penalties"),
			(val_add, ":value", 50),
			(assign, reg8, ":value"),
			(val_mul, ":value", 3),
			(val_div, ":value", 4),
			(val_clamp, ":value", 0, 100),
			(assign, reg5, ":morale_main_party"),
			(assign, reg6, ":script_param_1_morality_penalties"),
			(assign, reg7, ":script_param_1_personalityclash_penalties"),
			(assign, reg9, ":value"),
			(try_begin),
				(lt, ":script_param_1_morality_penalties", 3),
				(str_store_string, 7, "str_happy"),
			(else_try),
				(lt, ":script_param_1_morality_penalties", 15),
				(str_store_string, 7, "str_content"),
			(else_try),
				(lt, ":script_param_1_morality_penalties", 30),
				(str_store_string, 7, "str_concerned"),
			(else_try),
				(lt, ":script_param_1_morality_penalties", 45),
				(str_store_string, 7, "str_not_happy"),
			(else_try),
				(str_store_string, 7, "str_miserable"),
			(try_end),
			(try_begin),
				(lt, ":script_param_1_personalityclash_penalties", 3),
				(str_store_string, 6, "str_happy"),
			(else_try),
				(lt, ":script_param_1_personalityclash_penalties", 15),
				(str_store_string, 6, "str_content"),
			(else_try),
				(lt, ":script_param_1_personalityclash_penalties", 30),
				(str_store_string, 6, "str_concerned"),
			(else_try),
				(lt, ":script_param_1_personalityclash_penalties", 45),
				(str_store_string, 6, "str_not_happy"),
			(else_try),
				(str_store_string, 6, "str_miserable"),
			(try_end),
			(try_begin),
				(gt, ":value", 80),
				(str_store_string, 8, "str_happy"),
				(str_store_string, 63, "str_bar_enthusiastic"),
			(else_try),
				(gt, ":value", 60),
				(str_store_string, 8, "str_content"),
				(str_store_string, 63, "str_bar_content"),
			(else_try),
				(gt, ":value", 40),
				(str_store_string, 8, "str_concerned"),
				(str_store_string, 63, "str_bar_weary"),
			(else_try),
				(gt, ":value", 20),
				(str_store_string, 8, "str_not_happy"),
				(str_store_string, 63, "str_bar_disgruntled"),
			(else_try),
				(str_store_string, 8, "str_miserable"),
				(str_store_string, 63, "str_bar_miserable"),
			(try_end),
			(str_store_string, 21, "str_npc_morale_report"),
			(assign, reg0, ":value")
		]),

	("retire_companion",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(remove_member_from_party, ":script_param_1", "p_main_party"),
			(troop_set_slot, ":script_param_1", slot_troop_personalityclash_penalties, 0),
			(troop_set_slot, ":script_param_1", slot_troop_morality_penalties, 0),
			(troop_get_slot, ":player_renown", "trp_player", slot_troop_renown),
			(store_add, ":value", ":player_renown", ":script_param_2"),
			(troop_set_slot, ":script_param_1", slot_troop_occupation, 11),
			(troop_set_slot, ":script_param_1", slot_troop_return_renown, ":value")
		]),

	("reduce_companion_morale_for_clash",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(troop_get_slot, ":script_param_1_script_param_3", ":script_param_1", ":script_param_3"),
			(troop_get_slot, ":script_param_1_personalityclash_penalties", ":script_param_1", slot_troop_personalityclash_penalties),
			(troop_get_slot, ":script_param_2_personalityclash_penalties", ":script_param_2", slot_troop_personalityclash_penalties),
			(try_begin),
				(eq, ":script_param_1_script_param_3", 1),
				(val_add, ":script_param_1_personalityclash_penalties", 5),
			(else_try),
				(eq, ":script_param_1_script_param_3", 2),
				(val_add, ":script_param_2_personalityclash_penalties", 5),
			(else_try),
				(eq, ":script_param_1_script_param_3", 3),
				(val_add, ":script_param_1_personalityclash_penalties", 3),
				(val_add, ":script_param_2_personalityclash_penalties", 3),
			(try_end),
			(troop_set_slot, ":script_param_1", slot_troop_personalityclash_penalties, ":script_param_1_personalityclash_penalties"),
			(troop_set_slot, ":script_param_2", slot_troop_personalityclash_penalties, ":script_param_2_personalityclash_penalties")
		]),

	("calculate_ransom_amount_for_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(assign, ":var_3", 400),
			(assign, ":value", -9),
			(try_begin),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
				(val_add, ":var_3", 4000),
			(else_try),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 6),
				(val_add, ":var_3", 2500),
				(call_script, "script_get_kingdom_lady_social_determinants", ":script_param_1"),
				(assign, ":value", reg0),
			(try_end),
			(assign, ":var_5", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(this_or_next|party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(party_slot_eq, ":party", slot_town_lord, ":value"),
				(try_begin),
					(party_slot_eq, ":party", slot_party_type, 3),
					(val_add, ":var_5", 4),
				(else_try),
					(party_slot_eq, ":party", slot_party_type, 2),
					(val_add, ":var_5", 2),
				(else_try),
					(val_add, ":var_5", 1),
				(try_end),
			(try_end),
			(val_mul, ":var_5", 500),
			(val_add, ":var_3", ":var_5"),
			(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
			(val_mul, ":script_param_1_renown", 2),
			(val_add, ":var_3", ":script_param_1_renown"),
			(store_mul, ":value_2", ":var_3", 3),
			(val_div, ":value_2", 2),
			(store_random_in_range, ":random_in_range_var_3_value_2", ":var_3", ":value_2"),
			(val_div, ":random_in_range_var_3_value_2", 100),
			(val_mul, ":random_in_range_var_3_value_2", 100),
			(assign, reg0, ":random_in_range_var_3_value_2")
		]),

	("offer_ransom_amount_to_player_for_prisoners_in_party",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", 0),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_prisoner_stacks_script_param_1"),
				(eq, ":value", 0),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(troop_is_hero, ":party_prisoner_stack_troop_id_script_param_1_number"),
				(this_or_next|troop_slot_eq, ":party_prisoner_stack_troop_id_script_param_1_number", slot_troop_occupation, 2),
				(troop_slot_eq, ":party_prisoner_stack_troop_id_script_param_1_number", slot_troop_occupation, 6),
				(store_faction_of_troop, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_number", ":party_prisoner_stack_troop_id_script_param_1_number"),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(try_begin),
					(faction_slot_eq, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_number", slot_faction_state, 0),
					(le, ":random_in_range_0_100", 5),
					(neq, "$g_ransom_offer_rejected", 1),
					(assign, ":num_prisoner_stacks_script_param_1", 0),
					(assign, ":value", 1),
					(assign, "$g_ransom_offer_troop", ":party_prisoner_stack_troop_id_script_param_1_number"),
					(assign, "$g_ransom_offer_party", ":script_param_1"),
					(jump_to_menu, "mnu_enemy_offer_ransom_for_prisoner"),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("event_hero_taken_prisoner_by_player",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(check_quest_active, "qst_persuade_lords_to_make_peace"),
				(try_begin),
					(quest_slot_eq, "qst_persuade_lords_to_make_peace", slot_quest_target_troop, ":script_param_1"),
					(val_mul, ":script_param_1", -1),
					(quest_set_slot, "qst_persuade_lords_to_make_peace", slot_quest_target_troop, ":script_param_1"),
					(val_mul, ":script_param_1", -1),
				(else_try),
					(quest_slot_eq, "qst_persuade_lords_to_make_peace", slot_quest_object_troop, ":script_param_1"),
					(val_mul, ":script_param_1", -1),
					(quest_set_slot, "qst_persuade_lords_to_make_peace", slot_quest_object_troop, ":script_param_1"),
					(val_mul, ":script_param_1", -1),
				(try_end),
				(neg|check_quest_concluded, "qst_persuade_lords_to_make_peace"),
				(neg|quest_slot_ge, "qst_persuade_lords_to_make_peace", 2, 0),
				(neg|quest_slot_ge, "qst_persuade_lords_to_make_peace", 4, 0),
				(call_script, "script_succeed_quest", "qst_persuade_lords_to_make_peace"),
			(try_end),
			(call_script, "script_update_troop_location_notes", ":script_param_1", 0)
		]),

	("cf_check_hero_can_escape_from_player",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(check_quest_active, "qst_persuade_lords_to_make_peace"),
				(this_or_next|quest_slot_eq, "qst_persuade_lords_to_make_peace", slot_quest_target_troop, ":script_param_1"),
				(quest_slot_eq, "qst_persuade_lords_to_make_peace", slot_quest_object_troop, ":script_param_1"),
				(assign, ":value", 1),
			(else_try),
				(ge, ":script_param_1", "trp_sea_raider_leader"),
				(lt, ":script_param_1", "trp_bandit_leaders_end"),
				(try_begin),
					(check_quest_active, "qst_learn_where_merchant_brother_is"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", -1),
				(try_end),
			(try_end),
			(assign, ":value_2", 0),
			(try_begin),
				(eq, ":value", 0),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", 60),
				(assign, ":value_2", 1),
			(else_try),
				(eq, ":value", -1),
				(assign, ":value_2", 1),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "trp_forest_bandit_hero", "trp_xerina"),
				(assign, ":value_2", 1),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(assign, ":value_3", "pt_forest_bandits_e"),
					(assign, ":value_4", "pt_deserters"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(assign, ":value_3", "pt_forest_bandits_e"),
					(assign, ":value_4", "pt_deserters"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(assign, ":value_3", "pt_forest_bandits_e"),
					(assign, ":value_4", "pt_deserters"),
				(try_end),
				(try_for_range, ":var_7", ":value_3", ":value_4"),
					(party_template_slot_eq, ":var_7", 8, ":script_param_1"),
					(party_template_set_slot, ":var_7", 6, 0),
					(party_template_set_slot, ":var_7", 10, -1),
				(try_end),
			(try_end),
			(eq, ":value_2", 1)
		]),

	("cf_party_remove_random_regular_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, ":var_3", 0),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(val_add, ":var_3", ":party_stack_size_script_param_1_number"),
			(try_end),
			(assign, reg0, -1),
			(gt, ":var_3", 0),
			(store_random_in_range, ":random_in_range_0_var_3", 0, ":var_3"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(val_sub, ":random_in_range_0_var_3", ":party_stack_size_script_param_1_number"),
				(lt, ":random_in_range_0_var_3", 0),
				(assign, ":num_companion_stacks_script_param_1", 0),
				(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_number", 1),
				(assign, reg0, ":party_stack_troop_id_script_param_1_number"),
			(try_end)
		]),

	("place_player_banner_near_inventory",
		[
			(troop_get_slot, ":player_banner_scene_prop", "trp_player", slot_troop_banner_scene_prop),
			(try_begin),
				(gt, ":player_banner_scene_prop", 0),
				(scene_prop_get_instance, ":scene_prop_instance_player_banner_scene_prop_0", ":player_banner_scene_prop", 0),
				(try_begin),
					(ge, ":scene_prop_instance_player_banner_scene_prop_0", 0),
					(get_player_agent_no, ":player_agent_no"),
					(agent_get_look_position, 1, ":player_agent_no"),
					(position_move_y, 1, -500),
					(position_rotate_z, 1, 180),
					(position_set_z_to_ground_level, 1),
					(position_move_z, 1, 300),
					(prop_instance_set_position, ":scene_prop_instance_player_banner_scene_prop_0", 1),
				(try_end),
				(scene_prop_get_instance, ":scene_prop_instance_banner_pole_0", "spr_banner_pole", 0),
				(try_begin),
					(ge, ":scene_prop_instance_banner_pole_0", 0),
					(position_move_z, 1, -320),
					(prop_instance_set_position, ":scene_prop_instance_banner_pole_0", 1),
				(try_end),
			(else_try),
				(init_position, 1),
				(position_move_z, 1, -1000000),
				(scene_prop_get_instance, ":scene_prop_instance_player_banner_scene_prop_0", "spr_banner_a", 0),
				(try_begin),
					(ge, ":scene_prop_instance_player_banner_scene_prop_0", 0),
					(prop_instance_set_position, ":scene_prop_instance_player_banner_scene_prop_0", 1),
				(try_end),
				(scene_prop_get_instance, ":scene_prop_instance_banner_pole_0", "spr_banner_pole", 0),
				(try_begin),
					(ge, ":scene_prop_instance_banner_pole_0", 0),
					(prop_instance_set_position, ":scene_prop_instance_banner_pole_0", 1),
				(try_end),
			(try_end)
		]),

	("place_player_banner_near_inventory_bms",
		[
			(troop_get_slot, ":player_banner_scene_prop", "trp_player", slot_troop_banner_scene_prop),
			(try_begin),
				(gt, ":player_banner_scene_prop", 0),
				(replace_scene_props, "spr_banner_a", ":player_banner_scene_prop"),
			(try_end)
		]),

	("stay_captive_for_hours",
		[
			(store_script_param, ":script_param_1", 1),
			(store_current_hours, ":current_hours"),
			(val_add, ":current_hours", ":script_param_1"),
			(val_max, "$g_check_autos_at_hour", ":current_hours"),
			(val_add, ":script_param_1", 1),
			(rest_for_hours, ":script_param_1", 0, 0)
		]),

	("set_parties_around_player_ignore_player",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_parties, ":var_3"),
				(party_is_active, ":var_3"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_main_party_var_3", "p_main_party", ":var_3"),
				(lt, ":distance_to_party_from_party_main_party_var_3", ":script_param_1"),
				(party_ignore_player, ":var_3", ":script_param_2"),
			(try_end)
		]),

	("randomly_make_prisoner_heroes_escape_from_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(try_begin),
				(check_quest_active, "qst_rescue_lord_by_replace"),
				(quest_get_slot, ":value", "qst_rescue_lord_by_replace", slot_quest_target_troop),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_deliver_message_to_prisoner_lord"),
				(quest_get_slot, ":value_2", "qst_deliver_message_to_prisoner_lord", slot_quest_target_troop),
			(try_end),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_6", 0, ":num_prisoner_stacks_script_param_1"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_var_6", ":script_param_1", ":var_6"),
				(troop_is_hero, ":party_prisoner_stack_troop_id_script_param_1_var_6"),
				(neq, ":party_prisoner_stack_troop_id_script_param_1_var_6", ":value"),
				(neq, ":party_prisoner_stack_troop_id_script_param_1_var_6", ":value_2"),
				(troop_slot_eq, ":party_prisoner_stack_troop_id_script_param_1_var_6", slot_troop_occupation, 2),
				(store_random_in_range, ":random_in_range_0_1000", 0, 1000),
				(lt, ":random_in_range_0_1000", ":script_param_2"),
				(party_remove_prisoners, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_1_var_6", 1),
				(call_script, "script_remove_troop_from_prison", ":party_prisoner_stack_troop_id_script_param_1_var_6"),
				(str_store_troop_name_link, 1, ":party_prisoner_stack_troop_id_script_param_1_var_6"),
				(try_begin),
					(eq, ":script_param_1", "p_main_party"),
					(str_store_string, 2, "@your party"),
				(else_try),
					(str_store_party_name, 2, ":script_param_1"),
				(try_end),
				(assign, reg0, 0),
				(try_begin),
					(this_or_next|eq, ":script_param_1", "p_main_party"),
					(party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
					(assign, reg0, 1),
				(try_end),
				(store_faction_of_troop, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_var_6", ":party_prisoner_stack_troop_id_script_param_1_var_6"),
				(str_store_faction_name_link, 3, ":faction_of_troop_party_prisoner_stack_troop_id_script_param_1_var_6"),
				(display_message, "@{reg0?One of your prisoners, :}{s1} of the {s3} has escaped from captivity!"),
			(try_end)
		]),

	("fill_tournament_participants_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(try_begin),
				(eq, ":script_param_2", 1),
				(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
				(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
					(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
					(troop_is_hero, ":party_stack_troop_id_main_party_number"),
					(neq, ":party_stack_troop_id_main_party_number", "trp_kidnapped_girl"),
					(neq, ":party_stack_troop_id_main_party_number", "trp_kidnapped_wife"),
					(troop_set_slot, "trp_tournament_participants", ":value", ":party_stack_troop_id_main_party_number"),
					(val_add, ":value", 1),
				(try_end),
			(try_end),
			(party_collect_attachments_to_party, ":script_param_1", "p_temp_party"),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_temp_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_temp_party", ":number"),
				(troop_is_hero, ":party_stack_troop_id_main_party_number"),
				(troop_set_slot, "trp_tournament_participants", ":value", ":party_stack_troop_id_main_party_number"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", 100),
				(troop_set_slot, "trp_tournament_participants", ":value", "trp_xerina"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", 100),
				(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(store_random_in_range, ":random_in_range_0_100", 0, 100),
				(lt, ":random_in_range_0_100", 100),
				(troop_set_slot, "trp_tournament_participants", ":value", "trp_kradus"),
				(val_add, ":value", 1),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton1"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton2"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton3"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton4"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton5"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton6"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton7"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton8"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton9"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton10"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton11"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton12"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton13"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton14"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton15"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton16"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton17"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton18"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton19"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton20"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton21"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton22"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton23"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton24"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton25"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton26"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton27"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton28"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton29"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton30"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton31"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton32"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton33"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton34"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton35"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton36"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton37"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton38"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton39"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton40"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton41"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton42"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton43"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton44"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton45"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton46"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton47"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton48"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton49"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton50"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton51"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton52"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton53"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton54"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton55"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton56"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton57"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton58"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton59"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton60"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton61"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton62"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton63"),
					(val_add, ":value", 1),
				(try_end),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", 100),
					(troop_set_slot, "trp_tournament_participants", ":value", "trp_dranton64"),
					(val_add, ":value", 1),
				(try_end),
				(assign, ":var_8", ":value"),
				(try_for_range, ":value", ":var_8", 64),
					(store_random_in_range, ":random_in_range_0_100", 0, 6),
					(try_begin),
						(eq, ":random_in_range_0_100", 0),
						(troop_set_slot, "trp_tournament_participants", ":value", "trp_regular_fighter"),
					(else_try),
						(eq, ":random_in_range_0_100", 1),
						(troop_set_slot, "trp_tournament_participants", ":value", "trp_veteran_fighter"),
					(else_try),
						(eq, ":random_in_range_0_100", 2),
						(troop_set_slot, "trp_tournament_participants", ":value", "trp_champion_fighter"),
					(else_try),
						(eq, ":random_in_range_0_100", 3),
						(troop_get_slot, ":troop_trees_883", "$troop_trees", 883),
						(troop_set_slot, "trp_tournament_participants", ":value", ":troop_trees_883"),
					(else_try),
						(eq, ":random_in_range_0_100", 4),
						(troop_get_slot, ":troop_trees_624", "$troop_trees", 624),
						(troop_set_slot, "trp_tournament_participants", ":value", ":troop_trees_624"),
					(else_try),
						(troop_get_slot, ":troop_trees_626", "$troop_trees", 626),
						(troop_set_slot, "trp_tournament_participants", ":value", ":troop_trees_626"),
					(try_end),
				(try_end)
		]),

	("get_num_tournament_participants",
		[
			(assign, ":var_1", 0),
			(try_for_range, ":number", 0, 64),
				(troop_slot_ge, "trp_tournament_participants", ":number", 0),
				(val_add, ":var_1", 1),
			(try_end),
			(assign, reg0, ":var_1")
		]),

	("get_random_tournament_participant",
		[
			(call_script, "script_get_num_tournament_participants"),
			(assign, ":var_1", reg0),
			(store_random_in_range, ":random_in_range_0_var_1", 0, ":var_1"),
			(assign, ":value", 1),
			(try_for_range, ":number", 0, 64),
				(eq, ":value", 1),
				(troop_slot_ge, "trp_tournament_participants", ":number", 0),
				(val_sub, ":random_in_range_0_var_1", 1),
				(lt, ":random_in_range_0_var_1", 0),
				(assign, ":value", 0),
				(troop_get_slot, ":tournament_participants_number", "trp_tournament_participants", ":number"),
				(troop_set_slot, "trp_tournament_participants", ":number", -1),
			(try_end),
			(assign, reg0, ":tournament_participants_number")
		]),

	("add_tournament_participant",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", 1),
			(try_for_range, ":number", 0, 64),
				(eq, ":value", 1),
				(troop_slot_eq, "trp_tournament_participants", ":number", -1),
				(troop_set_slot, "trp_tournament_participants", ":number", ":script_param_1"),
				(assign, ":value", 0),
			(try_end)
		]),

	("get_random_tournament_team_amount_and_size",
		[
			(call_script, "script_get_num_tournament_participants"),
			(assign, ":var_1", reg0),
			(party_get_slot, ":current_town_town_tournament_max_teams", "$current_town", slot_town_tournament_max_teams),
			(val_add, ":current_town_town_tournament_max_teams", 1),
			(party_get_slot, ":current_town_town_tournament_max_team_size", "$current_town", slot_town_tournament_max_team_size),
			(val_add, ":current_town_town_tournament_max_team_size", 1),
			(assign, ":var_4", ":var_1"),
			(val_min, ":var_4", ":current_town_town_tournament_max_teams"),
			(assign, ":var_5", ":var_1"),
			(val_min, ":var_5", ":current_town_town_tournament_max_team_size"),
			(assign, ":value", 1),
			(try_begin),
				(ge, ":var_1", 32),
				(assign, ":value", 2),
				(val_min, ":value", ":current_town_town_tournament_max_team_size"),
			(try_end),
			(assign, ":value_2", 500),
			(try_for_range, ":unused", 0, ":value_2"),
				(store_random_in_range, ":random_in_range_2_var_4", 2, ":var_4"),
				(store_random_in_range, ":random_in_range_value_var_5", ":value", ":var_5"),
				(store_mul, ":value_3", ":random_in_range_2_var_4", ":random_in_range_value_var_5"),
				(le, ":value_3", ":var_1"),
				(store_sub, ":value_4", ":var_1", ":value_3"),
				(neq, ":value_4", 1),
				(assign, ":value_2", 0),
			(try_end),
			(try_begin),
				(gt, ":value_2", 0),
				(assign, ":random_in_range_2_var_4", 2),
				(assign, ":random_in_range_value_var_5", 1),
			(try_end),
			(assign, reg0, ":random_in_range_2_var_4"),
			(assign, reg1, ":random_in_range_value_var_5")
		]),

	("get_troop_priority_point_for_tournament",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(try_begin),
				(ge, ":script_param_1", 0),
				(val_add, ":var_2", 40000),
				(try_begin),
					(eq, ":script_param_1", "trp_player"),
					(val_add, ":var_2", 80000),
				(try_end),
				(try_begin),
					(troop_is_hero, ":script_param_1"),
					(val_add, ":var_2", 20000),
				(try_end),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 5),
					(val_add, ":var_2", 10000),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
					(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
					(val_add, ":var_2", ":script_param_1_renown"),
					(val_add, ":var_2", 1000),
				(else_try),
					(store_character_level, ":character_level_script_param_1", ":script_param_1"),
					(val_add, ":var_2", ":character_level_script_param_1"),
				(try_end),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("sort_tournament_participant_troops",
		[
			(try_for_range, ":number", 0, 63),
				(store_add, ":value", ":number", 1),
				(try_for_range, ":number_2", ":value", 64),
					(troop_get_slot, ":tournament_participants_number", "trp_tournament_participants", ":number"),
					(troop_get_slot, ":tournament_participants_number_2", "trp_tournament_participants", ":number_2"),
					(call_script, "script_get_troop_priority_point_for_tournament", ":tournament_participants_number"),
					(assign, ":var_6", reg0),
					(call_script, "script_get_troop_priority_point_for_tournament", ":tournament_participants_number_2"),
					(assign, ":var_7", reg0),
					(gt, ":var_7", ":var_6"),
					(troop_set_slot, "trp_tournament_participants", ":number", ":tournament_participants_number_2"),
					(troop_set_slot, "trp_tournament_participants", ":number_2", ":tournament_participants_number"),
				(try_end),
			(try_end)
		]),

	("remove_tournament_participants_randomly",
		[
			(store_script_param, ":script_param_1", 1),
			(try_for_range, ":unused", 0, ":script_param_1"),
				(assign, ":var_3", 0),
				(try_for_range, ":number", 0, 64),
					(troop_get_slot, ":tournament_participants_number", "trp_tournament_participants", ":number"),
					(ge, ":tournament_participants_number", 0),
					(store_character_level, ":character_level_tournament_participants_number", ":tournament_participants_number"),
					(val_min, ":character_level_tournament_participants_number", 38),
					(store_sub, ":value", 40, ":character_level_tournament_participants_number"),
					(val_add, ":var_3", ":value"),
				(try_end),
				(store_random_in_range, ":random_in_range_0_var_3", 0, ":var_3"),
				(assign, ":value_2", 1),
				(try_for_range, ":number", 0, 64),
					(eq, ":value_2", 1),
					(troop_get_slot, ":tournament_participants_number", "trp_tournament_participants", ":number"),
					(ge, ":tournament_participants_number", 0),
					(store_character_level, ":character_level_tournament_participants_number", ":tournament_participants_number"),
					(val_min, ":character_level_tournament_participants_number", 38),
					(store_sub, ":value", 40, ":character_level_tournament_participants_number"),
					(val_sub, ":random_in_range_0_var_3", ":value"),
					(lt, ":random_in_range_0_var_3", 0),
					(troop_set_slot, "trp_tournament_participants", ":number", -1),
					(assign, ":value_2", 0),
				(try_end),
			(try_end)
		]),

	("end_tournament_fight",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_get_num_tournament_participants"),
			(assign, ":var_2", reg0),
			(store_div, ":value", ":var_2", 2),
			(call_script, "script_remove_tournament_participants_randomly", ":value"),
			(assign, ":var_4", "$g_tournament_num_participants_for_fight"),
			(val_div, ":var_4", 2),
			(get_player_agent_no, ":player_agent_no"),
			(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
			(try_for_agents, ":value_2"),
				(agent_is_human, ":value_2"),
				(agent_get_troop_id, ":troop_id_value_2", ":value_2"),
				(neg|is_between, ":troop_id_value_2", "trp_town_1_arena_master", "trp_town_1_armorer"),
				(agent_get_team, ":team_value_2", ":value_2"),
				(assign, ":value_3", 0),
				(try_begin),
					(eq, ":script_param_1", 1),
					(eq, ":team_value_2", ":team_player_agent_no"),
					(val_add, ":value_3", 5000000),
				(try_end),
				(agent_get_kill_count, ":kill_count_value_2_1", ":value_2", 1),
				(store_mul, ":value_4", ":kill_count_value_2_1", 160000),
				(val_add, ":value_3", ":value_4"),
				(call_script, "script_get_troop_priority_point_for_tournament", ":troop_id_value_2"),
				(val_add, ":value_3", reg0),
				(try_begin),
					(eq, ":value_2", ":player_agent_no"),
					(eq, ":script_param_1", 0),
					(assign, ":value_5", 1),
					(try_begin),
						(ge, ":kill_count_value_2_1", 2),
						(assign, ":value_5", 0),
					(else_try),
						(eq, ":kill_count_value_2_1", 1),
						(le, "$g_tournament_cur_tier", 1),
						(assign, ":value_5", 0),
					(try_end),
					(eq, ":value_5", 1),
					(assign, ":value_3", 0),
				(try_end),
				(agent_set_slot, ":value_2", slot_agent_tournament_point, ":value_3"),
			(try_end),
			(try_for_range, ":unused", 0, ":var_4"),
				(assign, ":value_6", 0),
				(assign, ":value_7", -1),
				(try_for_agents, ":value_2"),
					(agent_is_human, ":value_2"),
					(agent_get_slot, ":value_2_tournament_point", ":value_2", slot_agent_tournament_point),
					(gt, ":value_2_tournament_point", ":value_6"),
					(assign, ":value_7", ":value_2"),
					(assign, ":value_6", ":value_2_tournament_point"),
				(try_end),
				(agent_set_slot, ":value_7", slot_agent_tournament_point, 0),
				(agent_get_troop_id, ":troop_id_value_2", ":value_7"),
				(call_script, "script_add_tournament_participant", ":troop_id_value_2"),
			(try_end),
			(assign, "$g_tournament_player_team_won", ":script_param_1"),
			(jump_to_menu, "mnu_town_tournament")
		]),

	("get_win_amount_for_tournament_bet",
		[
			(party_get_slot, ":current_town_town_player_odds", "$current_town", slot_town_player_odds),
			(try_begin),
				(eq, "$g_tournament_cur_tier", 0),
				(assign, ":value", 120),
			(else_try),
				(eq, "$g_tournament_cur_tier", 1),
				(assign, ":value", 90),
			(else_try),
				(eq, "$g_tournament_cur_tier", 2),
				(assign, ":value", 60),
			(else_try),
				(eq, "$g_tournament_cur_tier", 3),
				(assign, ":value", 40),
			(else_try),
				(eq, "$g_tournament_cur_tier", 4),
				(assign, ":value", 20),
			(else_try),
				(assign, ":value", 8),
			(try_end),
			(val_mul, ":value", ":current_town_town_player_odds"),
			(val_div, ":value", 100),
			(val_add, ":value", 100),
			(assign, reg0, ":value")
		]),

	("tournament_place_bet",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_get_win_amount_for_tournament_bet"),
			(assign, ":var_2", reg0),
			(val_mul, ":var_2", ":script_param_1"),
			(val_div, ":var_2", 100),
			(val_sub, ":var_2", ":script_param_1"),
			(val_add, "$g_tournament_bet_placed", ":script_param_1"),
			(val_add, "$g_tournament_bet_win_amount", ":var_2"),
			(troop_remove_gold, "trp_player", ":script_param_1"),
			(assign, "$g_tournament_last_bet_tier", "$g_tournament_cur_tier")
		]),

	("calculate_amount_of_cattle_can_be_stolen",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_get_max_skill_of_player_party", "skl_looting"),
			(assign, ":var_2", reg0),
			(store_mul, ":value", ":var_2", 2),
			(call_script, "script_party_count_fit_for_battle", "p_main_party"),
			(store_add, ":value_2", reg0, 10),
			(val_div, ":value_2", 10),
			(val_add, ":value", ":value_2"),
			(party_get_slot, ":script_param_1_village_number_of_cattle", ":script_param_1", slot_village_number_of_cattle),
			(val_min, ":value", ":script_param_1_village_number_of_cattle"),
			(assign, reg0, ":value")
		]),

	("draw_banner_to_region",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_script_param, ":script_param_6", 6),
			(store_script_param, ":script_param_7", 7),
			(store_script_param, ":script_param_8", 8),
			(store_script_param, ":script_param_9", 9),
			(store_script_param, ":script_param_10", 10),
			(troop_get_slot, ":script_param_1_custom_banner_bg_type", ":script_param_1", slot_troop_custom_banner_bg_type),
			(val_add, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_bg"),
			(troop_get_slot, ":script_param_1_custom_banner_bg_color_1", ":script_param_1", slot_troop_custom_banner_bg_color_1),
			(troop_get_slot, ":script_param_1_custom_banner_bg_color_2", ":script_param_1", slot_troop_custom_banner_bg_color_2),
			(troop_get_slot, ":script_param_1_custom_banner_num_charges", ":script_param_1", slot_troop_custom_banner_num_charges),
			(troop_get_slot, ":script_param_1_custom_banner_positioning", ":script_param_1", slot_troop_custom_banner_positioning),
			(call_script, "script_get_troop_custom_banner_num_positionings", ":script_param_1"),
			(assign, ":var_16", reg0),
			(val_mod, ":script_param_1_custom_banner_positioning", ":var_16"),
			(init_position, 2),
			(position_set_x, 2, ":script_param_4"),
			(position_set_y, 2, ":script_param_5"),
			(assign, ":value", 1),
			(convert_to_fixed_point, ":value"),
			(position_set_z, 2, ":value"),
			(init_position, 1),
			(position_set_x, 1, ":script_param_2"),
			(position_set_y, 1, ":script_param_3"),
			(position_move_z, 1, -20),
			(init_position, 3),
			(position_set_x, 3, ":script_param_8"),
			(position_set_y, 3, ":script_param_8"),
			(position_set_z, 3, ":value"),
			(try_begin),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_bg"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg01"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg02"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg03"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg08"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg09"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg10"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg11"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg12"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg13"),
				(this_or_next|eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg16"),
				(eq, ":script_param_1_custom_banner_bg_type", "mesh_custom_banner_fg17"),
				(cur_tableau_add_mesh_with_scale_and_vertex_color, ":script_param_1_custom_banner_bg_type", 1, 2, 0, ":script_param_1_custom_banner_bg_color_1"),
			(else_try),
				(cur_tableau_add_mesh_with_scale_and_vertex_color, ":script_param_1_custom_banner_bg_type", 1, 3, 0, ":script_param_1_custom_banner_bg_color_1"),
			(try_end),
			(position_move_z, 1, -20),
			(position_move_x, 2, ":script_param_4"),
			(position_move_y, 2, ":script_param_5"),
			(cur_tableau_add_mesh_with_scale_and_vertex_color, "mesh_custom_banner_bg", 1, 2, 0, ":script_param_1_custom_banner_bg_color_2"),
			(assign, ":var_18", ":script_param_6"),
			(val_min, ":var_18", ":script_param_7"),
			(val_min, ":var_18", ":script_param_9"),
			(call_script, "script_get_custom_banner_charge_type_position_scale_color", "trp_player", ":script_param_1_custom_banner_positioning"),
			(try_begin),
				(this_or_next|eq, ":script_param_10", 2),
				(eq, ":script_param_10", 3),
				(assign, ":value_2", 0),
				(try_begin),
					(eq, ":script_param_1_custom_banner_num_charges", 1),
					(assign, ":value_2", 1),
				(else_try),
					(eq, ":script_param_1_custom_banner_num_charges", 2),
					(eq, ":script_param_1_custom_banner_positioning", 1),
					(assign, ":value_2", 1),
				(else_try),
					(eq, ":script_param_1_custom_banner_num_charges", 3),
					(eq, ":script_param_1_custom_banner_positioning", 1),
					(assign, ":value_2", 1),
				(try_end),
				(try_begin),
					(eq, ":value_2", 1),
					(val_add, ":script_param_3", 30),
				(try_end),
			(try_end),
			(try_begin),
				(ge, ":script_param_1_custom_banner_num_charges", 1),
				(val_mul, reg1, ":var_18"),
				(val_div, reg1, 10000),
				(position_get_x, ":position_x_0", 0),
				(position_get_y, ":position_y_0", 0),
				(val_mul, ":position_x_0", ":script_param_6"),
				(val_mul, ":position_y_0", ":script_param_7"),
				(val_div, ":position_x_0", 10000),
				(val_div, ":position_y_0", 10000),
				(val_add, ":position_x_0", ":script_param_2"),
				(val_add, ":position_y_0", ":script_param_3"),
				(position_set_x, 0, ":position_x_0"),
				(position_set_y, 0, ":position_y_0"),
				(assign, ":value_3", reg1),
				(convert_to_fixed_point, ":value_3"),
				(store_mul, ":value_4", ":value_3", -1),
				(init_position, 4),
				(position_set_x, 4, ":value_3"),
				(position_set_y, 4, ":value_3"),
				(position_set_z, 4, ":value_3"),
				(store_div, ":value_5", reg0, 256),
				(try_begin),
					(this_or_next|eq, ":value_5", 1),
					(eq, ":value_5", 3),
					(position_set_x, 4, ":value_4"),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":value_5", 2),
					(eq, ":value_5", 3),
					(position_set_y, 4, ":value_4"),
				(try_end),
				(val_mod, reg0, 256),
				(cur_tableau_add_mesh_with_scale_and_vertex_color, reg0, 0, 4, 0, reg2),
			(try_end),
			(try_begin),
				(ge, ":script_param_1_custom_banner_num_charges", 2),
				(val_mul, reg4, ":var_18"),
				(val_div, reg4, 10000),
				(position_get_x, ":position_x_0", 1),
				(position_get_y, ":position_y_0", 1),
				(val_mul, ":position_x_0", ":script_param_6"),
				(val_mul, ":position_y_0", ":script_param_7"),
				(val_div, ":position_x_0", 10000),
				(val_div, ":position_y_0", 10000),
				(val_add, ":position_x_0", ":script_param_2"),
				(val_add, ":position_y_0", ":script_param_3"),
				(position_set_x, 1, ":position_x_0"),
				(position_set_y, 1, ":position_y_0"),
				(assign, ":value_3", reg4),
				(convert_to_fixed_point, ":value_3"),
				(store_mul, ":value_4", ":value_3", -1),
				(init_position, 4),
				(position_set_x, 4, ":value_3"),
				(position_set_y, 4, ":value_3"),
				(position_set_z, 4, ":value_3"),
				(store_div, ":value_5", reg3, 256),
				(try_begin),
					(this_or_next|eq, ":value_5", 1),
					(eq, ":value_5", 3),
					(position_set_x, 4, ":value_4"),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":value_5", 2),
					(eq, ":value_5", 3),
					(position_set_y, 4, ":value_4"),
				(try_end),
				(val_mod, reg3, 256),
				(cur_tableau_add_mesh_with_scale_and_vertex_color, reg3, 1, 4, 0, reg5),
			(try_end),
			(try_begin),
				(ge, ":script_param_1_custom_banner_num_charges", 3),
				(val_mul, reg7, ":var_18"),
				(val_div, reg7, 10000),
				(position_get_x, ":position_x_0", 2),
				(position_get_y, ":position_y_0", 2),
				(val_mul, ":position_x_0", ":script_param_6"),
				(val_mul, ":position_y_0", ":script_param_7"),
				(val_div, ":position_x_0", 10000),
				(val_div, ":position_y_0", 10000),
				(val_add, ":position_x_0", ":script_param_2"),
				(val_add, ":position_y_0", ":script_param_3"),
				(position_set_x, 2, ":position_x_0"),
				(position_set_y, 2, ":position_y_0"),
				(assign, ":value_3", reg7),
				(convert_to_fixed_point, ":value_3"),
				(store_mul, ":value_4", ":value_3", -1),
				(init_position, 4),
				(position_set_x, 4, ":value_3"),
				(position_set_y, 4, ":value_3"),
				(position_set_z, 4, ":value_3"),
				(store_div, ":value_5", reg6, 256),
				(try_begin),
					(this_or_next|eq, ":value_5", 1),
					(eq, ":value_5", 3),
					(position_set_x, 4, ":value_4"),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":value_5", 2),
					(eq, ":value_5", 3),
					(position_set_y, 4, ":value_4"),
				(try_end),
				(val_mod, reg6, 256),
				(cur_tableau_add_mesh_with_scale_and_vertex_color, reg6, 2, 4, 0, reg8),
			(try_end),
			(try_begin),
				(ge, ":script_param_1_custom_banner_num_charges", 4),
				(val_mul, reg10, ":var_18"),
				(val_div, reg10, 10000),
				(position_get_x, ":position_x_0", 3),
				(position_get_y, ":position_y_0", 3),
				(val_mul, ":position_x_0", ":script_param_6"),
				(val_mul, ":position_y_0", ":script_param_7"),
				(val_div, ":position_x_0", 10000),
				(val_div, ":position_y_0", 10000),
				(val_add, ":position_x_0", ":script_param_2"),
				(val_add, ":position_y_0", ":script_param_3"),
				(position_set_x, 3, ":position_x_0"),
				(position_set_y, 3, ":position_y_0"),
				(assign, ":value_3", reg10),
				(convert_to_fixed_point, ":value_3"),
				(store_mul, ":value_4", ":value_3", -1),
				(init_position, 4),
				(position_set_x, 4, ":value_3"),
				(position_set_y, 4, ":value_3"),
				(position_set_z, 4, ":value_3"),
				(store_div, ":value_5", reg9, 256),
				(try_begin),
					(this_or_next|eq, ":value_5", 1),
					(eq, ":value_5", 3),
					(position_set_x, 4, ":value_4"),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":value_5", 2),
					(eq, ":value_5", 3),
					(position_set_y, 4, ":value_4"),
				(try_end),
				(val_mod, reg9, 256),
				(cur_tableau_add_mesh_with_scale_and_vertex_color, reg9, 3, 4, 0, reg11),
			(try_end)
		]),

	("get_troop_custom_banner_num_positionings",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_get_slot, ":script_param_1_custom_banner_num_charges", ":script_param_1", slot_troop_custom_banner_num_charges),
			(try_begin),
				(eq, ":script_param_1_custom_banner_num_charges", 1),
				(assign, ":value", 2),
			(else_try),
				(eq, ":script_param_1_custom_banner_num_charges", 2),
				(assign, ":value", 4),
			(else_try),
				(eq, ":script_param_1_custom_banner_num_charges", 3),
				(assign, ":value", 6),
			(else_try),
				(assign, ":value", 2),
			(try_end),
			(assign, reg0, ":value")
		]),

	("get_custom_banner_charge_type_position_scale_color",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":script_param_1_custom_banner_num_charges", ":script_param_1", slot_troop_custom_banner_num_charges),
			(init_position, 0),
			(init_position, 1),
			(init_position, 2),
			(init_position, 3),
			(troop_get_slot, reg0, ":script_param_1", slot_troop_custom_banner_charge_type_1),
			(val_add, reg0, "mesh_custom_banner_charge_01"),
			(troop_get_slot, reg2, ":script_param_1", slot_troop_custom_banner_charge_color_1),
			(troop_get_slot, reg3, ":script_param_1", slot_troop_custom_banner_charge_type_2),
			(val_add, reg3, "mesh_custom_banner_charge_01"),
			(troop_get_slot, reg5, ":script_param_1", slot_troop_custom_banner_charge_color_2),
			(troop_get_slot, reg6, ":script_param_1", slot_troop_custom_banner_charge_type_3),
			(val_add, reg6, "mesh_custom_banner_charge_01"),
			(troop_get_slot, reg8, ":script_param_1", slot_troop_custom_banner_charge_color_3),
			(troop_get_slot, reg9, ":script_param_1", slot_troop_custom_banner_charge_type_4),
			(val_add, reg9, "mesh_custom_banner_charge_01"),
			(troop_get_slot, reg11, ":script_param_1", slot_troop_custom_banner_charge_color_4),
			(try_begin),
				(eq, ":script_param_1_custom_banner_num_charges", 1),
				(try_begin),
					(eq, ":script_param_2", 0),
					(assign, reg1, 100),
				(else_try),
					(assign, reg1, 50),
				(try_end),
			(else_try),
				(eq, ":script_param_1_custom_banner_num_charges", 2),
				(try_begin),
					(eq, ":script_param_2", 0),
					(position_set_y, 0, 25),
					(position_set_y, 1, -25),
					(assign, reg1, 40),
					(assign, reg4, 40),
				(else_try),
					(eq, ":script_param_2", 1),
					(position_set_x, 0, -25),
					(position_set_x, 1, 25),
					(assign, reg1, 40),
					(assign, reg4, 40),
				(else_try),
					(eq, ":script_param_2", 2),
					(position_set_x, 0, -25),
					(position_set_y, 0, 25),
					(position_set_x, 1, 25),
					(position_set_y, 1, -25),
					(assign, reg1, 50),
					(assign, reg4, 50),
				(else_try),
					(position_set_x, 0, -25),
					(position_set_y, 0, -25),
					(position_set_x, 1, 25),
					(position_set_y, 1, 25),
					(assign, reg1, 50),
					(assign, reg4, 50),
				(try_end),
			(else_try),
				(eq, ":script_param_1_custom_banner_num_charges", 3),
				(try_begin),
					(eq, ":script_param_2", 0),
					(position_set_y, 0, 33),
					(position_set_y, 2, -33),
					(assign, reg1, 30),
					(assign, reg4, 30),
					(assign, reg7, 30),
				(else_try),
					(eq, ":script_param_2", 1),
					(position_set_x, 0, -33),
					(position_set_x, 2, 33),
					(assign, reg1, 30),
					(assign, reg4, 30),
					(assign, reg7, 30),
				(else_try),
					(eq, ":script_param_2", 2),
					(position_set_x, 0, -30),
					(position_set_y, 0, 30),
					(position_set_x, 2, 30),
					(position_set_y, 2, -30),
					(assign, reg1, 35),
					(assign, reg4, 35),
					(assign, reg7, 35),
				(else_try),
					(eq, ":script_param_2", 3),
					(position_set_x, 0, -30),
					(position_set_y, 0, -30),
					(position_set_x, 2, 30),
					(position_set_y, 2, 30),
					(assign, reg1, 35),
					(assign, reg4, 35),
					(assign, reg7, 35),
				(else_try),
					(eq, ":script_param_2", 4),
					(position_set_x, 0, -25),
					(position_set_y, 0, -25),
					(position_set_y, 1, 25),
					(position_set_x, 2, 25),
					(position_set_y, 2, -25),
					(assign, reg1, 50),
					(assign, reg4, 50),
					(assign, reg7, 50),
				(else_try),
					(position_set_x, 0, -25),
					(position_set_y, 0, 25),
					(position_set_y, 1, -25),
					(position_set_x, 2, 25),
					(position_set_y, 2, 25),
					(assign, reg1, 50),
					(assign, reg4, 50),
					(assign, reg7, 50),
				(try_end),
			(else_try),
				(try_begin),
					(eq, ":script_param_2", 0),
					(position_set_x, 0, -25),
					(position_set_y, 0, 25),
					(position_set_x, 1, 25),
					(position_set_y, 1, 25),
					(position_set_x, 2, -25),
					(position_set_y, 2, -25),
					(position_set_x, 3, 25),
					(position_set_y, 3, -25),
					(assign, reg1, 50),
					(assign, reg4, 50),
					(assign, reg7, 50),
					(assign, reg10, 50),
				(else_try),
					(position_set_y, 0, 30),
					(position_set_x, 1, -30),
					(position_set_x, 2, 30),
					(position_set_y, 3, -30),
					(assign, reg1, 35),
					(assign, reg4, 35),
					(assign, reg7, 35),
					(assign, reg10, 35),
				(try_end),
			(try_end)
		]),

	("get_random_custom_banner",
		[
			(store_script_param, ":script_param_1", 1),
			(store_random_in_range, ":random_in_range_1_5", 1, 5),
			(troop_set_slot, ":script_param_1", slot_troop_custom_banner_num_charges, ":random_in_range_1_5"),
			(store_random_in_range, ":random_in_range_0_42", 0, 42),
			(call_script, "script_get_custom_banner_color_from_index", ":random_in_range_0_42"),
			(assign, ":var_4", reg0),
			(troop_set_slot, ":script_param_1", slot_troop_custom_banner_bg_color_1, ":var_4"),
			(assign, ":value", 1),
			(try_for_range, ":unused", 0, ":value"),
				(store_random_in_range, ":random_in_range_0_42", 0, 42),
				(call_script, "script_get_custom_banner_color_from_index", ":random_in_range_0_42"),
				(assign, ":var_7", reg0),
				(try_begin),
					(call_script, "script_cf_check_color_visibility", ":var_4", ":var_7"),
					(troop_set_slot, ":script_param_1", slot_troop_custom_banner_bg_color_2, ":var_7"),
				(else_try),
					(val_add, ":value", 1),
				(try_end),
			(try_end),
			(assign, ":value", 4),
			(assign, ":var_8", 0),
			(try_for_range, ":unused", 0, ":value"),
				(store_random_in_range, ":random_in_range_0_42", 0, 42),
				(call_script, "script_get_custom_banner_color_from_index", ":random_in_range_0_42"),
				(assign, ":var_9", reg0),
				(try_begin),
					(call_script, "script_cf_check_color_visibility", ":var_9", ":var_4"),
					(call_script, "script_cf_check_color_visibility", ":var_9", ":var_7"),
					(store_add, ":value_2", ":var_8", 87),
					(troop_set_slot, ":script_param_1", ":value_2", ":var_9"),
					(store_random_in_range, ":random_in_range_custom_banner_charge_01_tableau_mesh_custom_banner", "mesh_custom_banner_charge_01", "mesh_tableau_mesh_custom_banner"),
					(val_sub, ":random_in_range_custom_banner_charge_01_tableau_mesh_custom_banner", "mesh_custom_banner_charge_01"),
					(store_add, ":value_2", ":var_8", 92),
					(troop_set_slot, ":script_param_1", ":value_2", ":random_in_range_custom_banner_charge_01_tableau_mesh_custom_banner"),
					(val_add, ":var_8", 1),
				(else_try),
					(val_add, ":value", 1),
				(try_end),
			(try_end),
			(store_random_in_range, ":random_in_range_custom_banner_bg_custom_banner_charge_01", "mesh_custom_banner_bg", "mesh_custom_banner_charge_01"),
			(val_sub, ":random_in_range_custom_banner_bg_custom_banner_charge_01", "mesh_custom_banner_bg"),
			(troop_set_slot, ":script_param_1", slot_troop_custom_banner_bg_type, ":random_in_range_custom_banner_bg_custom_banner_charge_01"),
			(store_random_in_range, ":random_in_range_custom_banner_01_custom_banner_bg", "mesh_custom_banner_01", "mesh_custom_banner_bg"),
			(val_sub, ":random_in_range_custom_banner_01_custom_banner_bg", "mesh_custom_banner_01"),
			(troop_set_slot, ":script_param_1", slot_troop_custom_banner_flag_type, ":random_in_range_custom_banner_01_custom_banner_bg"),
			(store_random_in_range, ":random_in_range_0_4", 0, 4),
			(troop_set_slot, ":script_param_1", slot_troop_custom_banner_positioning, ":random_in_range_0_4")
		]),

	("get_custom_banner_color_from_index",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 4278190080),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":value_3", 0),
			(store_mod, ":value_4", ":script_param_1", 7),
			(try_begin),
				(eq, ":value_4", 0),
				(assign, ":value_3", 255),
			(else_try),
				(eq, ":value_4", 1),
				(assign, ":value", 238),
			(else_try),
				(eq, ":value_4", 2),
				(assign, ":value", 251),
				(assign, ":value_2", 172),
			(else_try),
				(eq, ":value_4", 3),
				(assign, ":value", 95),
				(assign, ":value_3", 255),
			(else_try),
				(eq, ":value_4", 4),
				(assign, ":value", 5),
				(assign, ":value_2", 68),
			(else_try),
				(eq, ":value_4", 5),
				(assign, ":value", 238),
				(assign, ":value_2", 238),
				(assign, ":value_3", 238),
			(else_try),
				(assign, ":value", 34),
				(assign, ":value_2", 34),
				(assign, ":value_3", 34),
			(try_end),
			(store_div, ":value_5", ":script_param_1", 7),
			(store_sub, ":value_5", 8, ":value_5"),
			(val_mul, ":value", ":value_5"),
			(val_div, ":value", 8),
			(val_mul, ":value_2", ":value_5"),
			(val_div, ":value_2", 8),
			(val_mul, ":value_3", ":value_5"),
			(val_div, ":value_3", 8),
			(val_mul, ":value_2", 256),
			(val_mul, ":value", 65536),
			(val_add, ":var_2", ":value_3"),
			(val_add, ":var_2", ":value_2"),
			(val_add, ":var_2", ":value"),
			(assign, reg0, ":var_2")
		]),

	("cf_check_color_visibility",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_mod, ":value", ":script_param_1", 256),
			(store_div, ":value_2", ":script_param_1", 256),
			(val_mod, ":value_2", 256),
			(store_div, ":value_3", ":script_param_1", 65536),
			(val_mod, ":value_3", 256),
			(store_mod, ":value_4", ":script_param_2", 256),
			(store_div, ":value_5", ":script_param_2", 256),
			(val_mod, ":value_5", 256),
			(store_div, ":value_6", ":script_param_2", 65536),
			(val_mod, ":value_6", 256),
			(store_sub, ":value_7", ":value_3", ":value_6"),
			(val_abs, ":value_7"),
			(store_sub, ":value_8", ":value_2", ":value_5"),
			(val_abs, ":value_8"),
			(store_sub, ":value_9", ":value", ":value_4"),
			(val_abs, ":value_9"),
			(assign, ":var_12", 0),
			(val_max, ":var_12", ":value_7"),
			(val_max, ":var_12", ":value_8"),
			(val_max, ":var_12", ":value_9"),
			(ge, ":var_12", 64)
		]),

	("get_next_active_kingdom",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", "fac_kingdoms_end"),
			(try_for_range, ":unused", "fac_player_supporters_faction", ":value"),
				(val_add, ":script_param_1", 1),
				(try_begin),
					(ge, ":script_param_1", "fac_kingdoms_end"),
					(assign, ":script_param_1", "fac_player_supporters_faction"),
				(try_end),
				(faction_slot_eq, ":script_param_1", slot_faction_state, 0),
				(neq, ":script_param_1", "fac_player_supporters_faction"),
				(assign, ":value", 0),
			(try_end),
			(assign, reg0, ":script_param_1")
		]),

	("remove_cattles_if_herd_is_close_to_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", ":script_param_2"),
			(try_for_parties, ":var_4"),
				(gt, ":var_3", 0),
				(party_slot_eq, ":var_4", slot_party_type, 17),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_var_4_script_param_1", ":var_4", ":script_param_1"),
				(lt, ":distance_to_party_from_party_var_4_script_param_1", 3),
				(assign, ":value", 1),
				(try_begin),
					(check_quest_active, "qst_move_cattle_herd"),
					(quest_slot_eq, "qst_move_cattle_herd", slot_quest_target_party, ":var_4"),
					(assign, ":value", 0),
				(try_end),
				(eq, ":value", 1),
				(party_count_companions_of_type, ":var_7", ":var_4", "trp_cattle"),
				(try_begin),
					(le, ":var_7", ":var_3"),
					(assign, ":value_2", ":var_7"),
					(remove_party, ":var_4"),
				(else_try),
					(assign, ":value_2", ":var_3"),
					(party_remove_members, ":var_4", "trp_cattle", ":var_3"),
				(try_end),
				(val_sub, ":var_3", ":value_2"),
				(try_begin),
					(party_slot_eq, ":script_param_1", slot_party_type, 4),
					(party_get_slot, ":script_param_1_village_number_of_cattle", ":script_param_1", slot_village_number_of_cattle),
					(val_add, ":script_param_1_village_number_of_cattle", ":value_2"),
					(party_set_slot, ":script_param_1", slot_village_number_of_cattle, ":script_param_1_village_number_of_cattle"),
				(try_end),
				(assign, reg3, ":value_2"),
				(str_store_party_name_link, 1, ":script_param_1"),
				(display_message, "@You brought {reg3} heads of cattle to {s1}."),
				(try_begin),
					(gt, "$cheat_mode", 0),
					(assign, reg4, ":script_param_1_village_number_of_cattle"),
					(display_message, "@{!}Village now has {reg4}"),
				(try_end),
			(try_end),
			(store_sub, reg0, ":script_param_2", ":var_3")
		]),

	("get_rumor_to_s61",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", reg4),
			(store_current_hours, ":current_hours"),
			(store_div, ":value", ":current_hours", 24),
			(assign, ":value_2", 0),
			(assign, ":value_3", 3),
			(try_for_range, ":number", 0, ":value_3"),
				(store_mul, ":value_4", ":number", 6781),
				(val_add, ":value_4", ":script_param_1"),
				(store_mod, ":value_5", ":value_4", 7),
				(val_add, ":value_4", ":current_hours"),
				(try_begin),
					(eq, ":value_5", 0),
					(try_begin),
						(store_sub, ":value_6", "p_castle_1", "p_town_1"),
						(store_mod, ":value_7", ":value_4", ":value_6"),
						(val_add, ":value_7", "p_town_1"),
						(party_slot_ge, ":value_7", 156, 1),
						(neq, ":value_7", "$current_town"),
						(str_store_party_name, 62, ":value_7"),
						(str_store_string, 61, "@I heard that there will be a tournament in {s62} soon."),
						(assign, ":value_2", 1),
					(try_end),
				(else_try),
					(eq, ":value_5", 1),
					(try_begin),
						(store_sub, ":value_6", "trp_knight_1_1_wife", "trp_kingdom_1_lord"),
						(store_mod, ":value_8", ":value_4", ":value_6"),
						(val_add, ":value_8", "trp_kingdom_1_lord"),
						(is_between, ":value_8", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_get_slot, ":value_8_lord_reputation_type", ":value_8", slot_lord_reputation_type),
						(try_begin),
							(ge, ":value_8_lord_reputation_type", 8),
							(try_begin),
								(eq, ":value_8_lord_reputation_type", 9),
								(assign, ":value_8_lord_reputation_type", 6),
							(else_try),
								(eq, ":value_8_lord_reputation_type", 10),
								(assign, ":value_8_lord_reputation_type", 6),
							(else_try),
								(call_script, "script_dplmc_get_troop_morality_value", ":value_8", 3),
								(lt, reg0, 0),
								(assign, ":value_8_lord_reputation_type", 5),
							(try_end),
							(ge, ":value_8_lord_reputation_type", 8),
							(assign, ":value_8_lord_reputation_type", 0),
						(try_end),
						(call_script, "script_dplmc_store_troop_is_female_reg", ":value_8", 4),
						(gt, ":value_8_lord_reputation_type", 0),
						(store_add, ":value_9", ":value_8_lord_reputation_type", "str_gossip_about_character_default"),
						(str_store_troop_name, 6, ":value_8"),
						(str_store_string, 61, ":value_9"),
						(assign, ":value_2", 1),
					(try_end),
					(try_begin),
						(neg|is_between, ":value_8", "trp_npc1", "trp_heroes_end"),
					(else_try),
						(troop_slot_eq, ":value_8", slot_troop_occupation, 15),
						(str_store_troop_name, 6, ":value_8"),
						(str_store_string, 61, "@I heard some people say they don't believe {s6} is really dead."),
						(assign, ":value_2", 1),
					(else_try),
						(this_or_next|troop_slot_eq, ":value_8", slot_troop_occupation, 11),
						(troop_slot_eq, ":value_8", slot_troop_occupation, 14),
						(str_store_troop_name, 6, ":value_8"),
						(str_store_string, 61, "@I heard a traveller say that he came across {s6} while journeying outside these lands."),
						(assign, ":value_2", 1),
					(else_try),
						(troop_slot_eq, ":value_8", slot_troop_occupation, 9),
						(neq, ":value_8", "$supported_pretender"),
						(troop_get_slot, reg4, ":value_8", slot_troop_original_faction),
						(is_between, reg4, "fac_kingdom_1", "fac_kingdoms_end"),
						(faction_slot_eq, reg4, slot_faction_state, 0),
						(faction_get_slot, reg4, reg4, slot_faction_leader),
						(gt, reg4, -1),
						(str_store_troop_name, 61, reg4),
						(str_store_string, 6, ":value_8"),
						(str_store_string, 61, "@I heard that {s6} intends to raise an army and seize the throne from {s61}."),
						(assign, ":value_2", 1),
					(try_end),
				(else_try),
					(eq, ":value_5", 2),
					(try_begin),
						(store_sub, ":value_6", "itm_trade_dummy01", "itm_trade_spice"),
						(store_add, ":value_10", ":value_4", ":value"),
						(store_mod, ":value_10", ":value_10", ":value_6"),
						(store_add, ":value_11", ":value_10", 267),
						(val_add, ":value_10", "itm_trade_spice"),
						(store_mul, ":value_12", 1000, 3),
						(val_div, ":value_12", 4),
						(assign, ":value_13", -1),
						(try_for_range, ":number_2", 0, 10),
							(store_sub, ":value_6", "p_castle_1", "p_town_1"),
							(store_add, ":value_14", ":value_4", ":number_2"),
							(store_mod, ":value_7", ":value_14", ":value_6"),
							(val_add, ":value_7", "p_town_1"),
							(neq, ":value_7", "$g_encountered_party"),
							(party_get_slot, ":value_7_value_11", ":value_7", ":value_11"),
							(lt, ":value_7_value_11", ":value_12"),
							(assign, ":value_12", ":value_7_value_11"),
							(assign, ":value_13", ":value_7"),
						(try_end),
						(ge, ":value_13", 0),
						(str_store_item_name, 62, ":value_10"),
						(str_store_party_name, 63, ":value_13"),
						(str_store_string, 61, "@I heard that one can buy {s62} very cheap at {s63}."),
						(assign, ":value_2", 1),
					(try_end),
				(else_try),
					(eq, ":value_5", 3),
					(try_begin),
						(store_sub, ":value_6", "itm_trade_dummy01", "itm_trade_spice"),
						(store_add, ":value_10", ":value_4", ":value"),
						(store_mod, ":value_10", ":value_10", ":value_6"),
						(store_add, ":value_11", ":value_10", 267),
						(val_add, ":value_10", "itm_trade_spice"),
						(store_mul, ":value_15", 1000, 5),
						(val_div, ":value_15", 4),
						(assign, ":value_16", -1),
						(try_for_range, ":number_2", 0, 10),
							(store_sub, ":value_6", "p_castle_1", "p_town_1"),
							(store_add, ":value_14", ":value_4", ":number_2"),
							(store_mod, ":value_7", ":value_14", ":value_6"),
							(val_add, ":value_7", "p_town_1"),
							(neq, ":value_7", "$g_encountered_party"),
							(party_get_slot, ":value_7_value_11", ":value_7", ":value_11"),
							(gt, ":value_7_value_11", ":value_15"),
							(assign, ":value_15", ":value_7_value_11"),
							(assign, ":value_16", ":value_7"),
						(try_end),
						(ge, ":value_16", 0),
						(str_store_item_name, 62, ":value_10"),
						(str_store_party_name, 63, ":value_16"),
						(str_store_string, 61, "@I heard that they pay a very high price for {s62} at {s63}."),
						(assign, ":value_2", 1),
					(try_end),
				(try_end),
				(try_begin),
					(gt, ":value_2", 0),
					(assign, ":value_3", 0),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2"),
			(assign, reg4, ":var_2")
		]),

	("lord_comment_to_s43",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(try_begin),
				(try_begin),
					(is_between, ":script_param_1_lord_reputation_type", 0, 8),
				(else_try),
					(neg|is_between, ":script_param_1_lord_reputation_type", 0, 8),
					(neq, ":script_param_1_lord_reputation_type", 9),
					(neq, ":script_param_1_lord_reputation_type", 25),
					(neq, ":script_param_1_lord_reputation_type", 21),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
					(lt, reg0, 0),
					(assign, ":script_param_1_lord_reputation_type", 5),
					(try_begin),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 5),
						(ge, reg0, 1),
						(assign, ":script_param_1_lord_reputation_type", 3),
					(else_try),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 1),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 22),
						(ge, reg0, 1),
						(assign, ":script_param_1_lord_reputation_type", 2),
					(try_end),
				(else_try),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 5),
					(ge, reg0, 1),
					(try_begin),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 9),
						(eq, ":script_param_1_lord_reputation_type", 25),
						(assign, ":script_param_1_lord_reputation_type", 7),
					(else_try),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
						(ge, reg0, 0),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 2),
						(ge, reg0, 0),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
						(ge, reg0, 0),
						(assign, ":script_param_1_lord_reputation_type", 7),
					(else_try),
						(assign, ":script_param_1_lord_reputation_type", 3),
					(try_end),
				(else_try),
					(neg|is_between, ":script_param_1_lord_reputation_type", 0, 8),
					(neq, ":script_param_1_lord_reputation_type", 25),
					(neq, ":script_param_1_lord_reputation_type", 9),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
					(lt, reg0, 0),
					(try_begin),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 2),
						(lt, reg0, 1),
						(assign, ":value", reg0),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
						(lt, reg0, 1),
						(this_or_next|lt, reg0, 0),
						(lt, ":value", 0),
						(assign, ":script_param_1_lord_reputation_type", 5),
					(else_try),
						(assign, ":script_param_1_lord_reputation_type", 4),
					(try_end),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 8),
					(assign, ":script_param_1_lord_reputation_type", 6),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 10),
					(assign, ":script_param_1_lord_reputation_type", 4),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 9),
					(assign, ":script_param_1_lord_reputation_type", 6),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 24),
					(assign, ":script_param_1_lord_reputation_type", 4),
				(else_try),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 21),
					(eq, ":script_param_1_lord_reputation_type", 23),
					(assign, ":script_param_1_lord_reputation_type", 6),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 22),
					(assign, ":script_param_1_lord_reputation_type", 1),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 2),
					(try_begin),
						(lt, reg0, 0),
						(assign, ":script_param_1_lord_reputation_type", 2),
					(try_end),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 25),
					(assign, ":script_param_1_lord_reputation_type", 7),
				(try_end),
				(store_random_in_range, ":random_in_range_0_20", 0, 20),
				(assign, ":value_2", ":script_param_1_lord_reputation_type"),
				(try_begin),
					(eq, 1, 1),
				(else_try),
					(store_current_hours, ":current_hours"),
					(val_sub, ":current_hours", 24),
					(this_or_next|neq, "$g_talk_troop_met", 1),
					(this_or_next|neg|troop_slot_ge, ":script_param_1", 5, 1),
					(this_or_next|neg|troop_slot_ge, ":script_param_1", 4, ":current_hours"),
					(this_or_next|eq, ":script_param_2", "str_rebellion_dilemma_default"),
					(eq, ":script_param_2", "str_rebellion_dilemma_2_default"),
					(assign, ":random_in_range_0_20", -1),
				(else_try),
					(is_between, ":random_in_range_0_20", 18, 20),
					(eq, ":script_param_1_lord_reputation_type", 1),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 2),
					(lt, reg0, 1),
					(assign, ":var_8", reg0),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
					(lt, reg0, 1),
					(val_add, ":var_8", reg0),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
					(lt, reg0, 1),
					(val_add, ":var_8", reg0),
					(lt, ":var_8", 0),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
					(lt, reg0, 1),
					(assign, ":value_2", 2),
				(else_try),
					(is_between, ":random_in_range_0_20", 18, 20),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 1),
					(ge, reg0, 1),
					(try_begin),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
						(eq, ":script_param_1_lord_reputation_type", 2),
						(assign, ":value_2", 2),
					(else_try),
						(assign, ":value_2", 1),
					(try_end),
				(else_try),
					(is_between, ":random_in_range_0_20", 16, 18),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
					(assign, ":var_9", reg0),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 5),
					(assign, ":var_10", reg0),
					(this_or_next|ge, ":var_9", 1),
					(ge, ":var_10", 1),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 2),
					(assign, ":value", reg0),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
					(assign, ":var_11", reg0),
					(try_begin),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 2),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 3),
						(this_or_next|lt, ":var_9", 0),
						(this_or_next|lt, ":value", 0),
						(lt, ":var_11", 0),
						(assign, ":value_2", 3),
					(else_try),
						(assign, ":value_2", 7),
					(try_end),
				(else_try),
					(is_between, ":random_in_range_0_20", 16, 18),
					(lt, ":var_9", 0),
					(assign, ":script_param_1_lord_reputation_type", 4),
				(else_try),
					(is_between, ":random_in_range_0_20", 16, 20),
					(eq, ":script_param_1_lord_reputation_type", 0),
					(this_or_next|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
					(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
					(try_begin),
						(is_between, ":random_in_range_0_20", 16, 18),
						(assign, ":value_2", 4),
					(else_try),
						(is_between, ":random_in_range_0_20", 18, 20),
						(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 1),
						(ge, reg0, 0),
						(assign, ":value_2", 1),
					(try_end),
				(else_try),
					(is_between, ":random_in_range_0_20", 16, 20),
					(store_mod, ":value_3", ":random_in_range_0_20", 4),
					(troop_get_slot, reg0, ":script_param_1", slot_troop_temp_decision_seed),
					(val_mod, reg0, 4),
					(eq, ":value_3", reg0),
					(neq, ":script_param_2", "str_rebellion_dilemma_default"),
					(neq, ":script_param_2", "str_rebellion_dilemma_2_default"),
					(neq, ":script_param_2", "str_changed_my_mind_default"),
					(neq, ":script_param_2", "str_political_philosophy_default"),
					(neq, ":script_param_2", "str_rebellion_rival_default"),
					(neq, ":script_param_2", "str_rebellion_agree_default"),
					(neq, ":script_param_2", "str_rebellion_refuse_default"),
					(neq, ":script_param_2", "str_talk_later_default"),
					(neq, ":script_param_2", "str_npc_claim_throne_liege"),
					(assign, ":value_2", 0),
				(try_end),
				(try_begin),
					(eq, 1, 0),
					(ge, "$cheat_mode", 1),
					(assign, ":var_13", reg1),
					(assign, ":var_14", reg2),
					(assign, reg0, ":random_in_range_0_20"),
					(assign, reg1, ":script_param_1_lord_reputation_type"),
					(assign, reg2, ":value_2"),
					(try_begin),
						(neq, ":script_param_1_lord_reputation_type", ":value_2"),
						(display_message, "@{!} DEBUG - random {reg0} (0 to 20), used reputation {reg2} instead of {reg1}"),
					(else_try),
						(lt, ":random_in_range_0_20", 0),
						(display_message, "@{!} DEBUG - variable responses disabled, kept reputation {reg2}"),
					(else_try),
						(display_message, "@{!} DEBUG - random {reg0} (0 to 20), kept reputation {reg2}"),
					(try_end),
					(assign, reg1, ":var_13"),
					(assign, reg2, ":var_14"),
				(try_end),
				(assign, ":script_param_1_lord_reputation_type", ":value_2"),
				(store_add, ":value_4", ":script_param_1_lord_reputation_type", ":script_param_2"),
				(str_store_string, 43, ":value_4"),
				(assign, reg0, ":value_4")
		]),

	("add_log_entry",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(try_begin),
				(party_is_active, ":script_param_3", 0),
				(party_get_slot, ":value", ":script_param_3", slot_town_lord),
				(store_faction_of_party, ":value_2", ":script_param_3"),
			(else_try),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
			(try_end),
			(try_begin),
				(is_between, ":script_param_4", 0, "trp_local_merchant"),
				(store_faction_of_troop, ":value_3", ":script_param_4"),
			(else_try),
				(assign, ":value_3", 0),
			(try_end),
			(val_add, "$num_log_entries", 1),
			(store_current_hours, ":current_hours"),
			(troop_set_slot, "trp_log_array_entry_type", "$num_log_entries", ":script_param_1"),
			(troop_set_slot, "trp_log_array_entry_time", "$num_log_entries", ":current_hours"),
			(troop_set_slot, "trp_log_array_actor", "$num_log_entries", ":script_param_2"),
			(troop_set_slot, "trp_log_array_center_object", "$num_log_entries", ":script_param_3"),
			(troop_set_slot, "trp_log_array_center_object_lord", "$num_log_entries", ":value"),
			(troop_set_slot, "trp_log_array_center_object_faction", "$num_log_entries", ":value_2"),
			(troop_set_slot, "trp_log_array_troop_object", "$num_log_entries", ":script_param_4"),
			(troop_set_slot, "trp_log_array_troop_object_faction", "$num_log_entries", ":value_3"),
			(troop_set_slot, "trp_log_array_faction_object", "$num_log_entries", ":script_param_5"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg3, "$num_log_entries"),
				(assign, reg4, ":script_param_1"),
				(display_message, "@{!}Log entry {reg3}: type {reg4}"),
				(try_begin),
					(gt, ":script_param_3", 0),
					(neq, ":script_param_1", 3),
					(neq, ":script_param_1", 5),
					(party_is_active, ":script_param_3"),
					(str_store_party_name, 4, ":script_param_3"),
					(display_message, "@{!}Center: {s4}"),
				(try_end),
				(try_begin),
					(gt, ":script_param_4", 0),
					(neq, ":script_param_1", 3),
					(neq, ":script_param_1", 5),
					(str_store_troop_name, 4, ":script_param_4"),
					(display_message, "@{!}Troop: {s4}"),
				(try_end),
				(try_begin),
					(gt, ":value", 0),
					(neq, ":script_param_1", 3),
					(neq, ":script_param_1", 5),
					(str_store_troop_name, 4, ":value"),
					(display_message, "@{!}Lord: {s4}"),
				(try_end),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_1", 11),
				(this_or_next|eq, ":script_param_1", 19),
				(eq, ":script_param_1", 18),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "@{!}Ally party is present"),
				(try_end),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(this_or_next|is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 5),
					(troop_slot_eq, ":troop", slot_troop_occupation, 7),
					(party_count_companions_of_type, ":var_11", "p_collective_friends", ":troop"),
					(gt, ":var_11", 0),
					(troop_set_slot, ":troop", slot_troop_present_at_event, "$num_log_entries"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":troop"),
						(display_message, "@{!}{s4} is present at event"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("get_relevant_comment_for_log_entry",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_get_slot, ":log_array_entry_type_script_param_1", "trp_log_array_entry_type", ":script_param_1"),
			(troop_get_slot, ":log_array_entry_time_script_param_1", "trp_log_array_entry_time", ":script_param_1"),
			(troop_get_slot, ":log_array_actor_script_param_1", "trp_log_array_actor", ":script_param_1"),
			(troop_get_slot, ":log_array_center_object_script_param_1", "trp_log_array_center_object", ":script_param_1"),
			(troop_get_slot, ":log_array_center_object_lord_script_param_1", "trp_log_array_center_object_lord", ":script_param_1"),
			(troop_get_slot, ":log_array_center_object_faction_script_param_1", "trp_log_array_center_object_faction", ":script_param_1"),
			(troop_get_slot, ":log_array_troop_object_script_param_1", "trp_log_array_troop_object", ":script_param_1"),
			(troop_get_slot, ":log_array_troop_object_faction_script_param_1", "trp_log_array_troop_object_faction", ":script_param_1"),
			(troop_get_slot, ":log_array_faction_object_script_param_1", "trp_log_array_faction_object", ":script_param_1"),
			(assign, ":value", 0),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(assign, ":value_4", 0),
			(troop_get_slot, ":g_talk_troop_lord_reputation_type", "$g_talk_troop", slot_lord_reputation_type),
			(assign, ":value_5", reg4),
			(try_begin),
				(is_between, ":log_array_troop_object_script_param_1", "trp_npc1", "trp_heroes_end"),
				(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
				(assign, ":value_5", 0),
				(try_begin),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
			(else_try),
				(is_between, ":log_array_actor_script_param_1", "trp_npc1", "trp_heroes_end"),
				(neq, ":log_array_actor_script_param_1", "$g_talk_troop"),
				(assign, ":value_5", 0),
				(try_begin),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_actor_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
			(try_end),
			(troop_get_slot, ":g_talk_troop_lord_reputation_type_2", "$g_talk_troop", slot_lord_reputation_type),
			(call_script, "script_dplmc_store_troop_is_female", "$g_talk_troop"),
			(assign, ":var_18", reg0),
			(try_begin),
				(neg|is_between, ":g_talk_troop_lord_reputation_type", 0, 8),
				(try_begin),
					(eq, ":g_talk_troop_lord_reputation_type_2", 24),
					(assign, ":g_talk_troop_lord_reputation_type", 4),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type_2", 25),
					(assign, ":g_talk_troop_lord_reputation_type", 7),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type_2", 21),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type_2", 23),
					(eq, ":g_talk_troop_lord_reputation_type_2", 9),
					(assign, ":g_talk_troop_lord_reputation_type", 6),
				(try_end),
			(try_end),
			(store_current_hours, ":current_hours"),
			(store_sub, ":value_6", ":current_hours", ":log_array_entry_time_script_param_1"),
			(assign, ":value_7", 0),
			(try_begin),
				(gt, "$players_kingdom", 0),
				(store_relation, ":value_7", "$players_kingdom", ":log_array_troop_object_faction_script_param_1"),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", -1),
				(try_begin),
					(assign, reg5, ":script_param_1"),
					(assign, reg6, ":log_array_entry_type_script_param_1"),
					(assign, reg8, ":log_array_entry_time_script_param_1"),
					(gt, "$players_kingdom", 0),
					(try_begin),
						(gt, ":log_array_troop_object_faction_script_param_1", 0),
						(assign, reg7, ":value_7"),
						(display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}: player's kingdom relation to troop object = {reg7}"),
					(else_try),
						(gt, ":log_array_center_object_faction_script_param_1", 0),
						(assign, reg7, ":value_7"),
						(display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}: player's kingdom relation to center object faction = {reg7}"),
					(else_try),
						(gt, ":log_array_faction_object_script_param_1", 0),
						(assign, reg7, ":value_7"),
						(display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}: player's kingdom relation to faction object = {reg7}"),
					(else_try),
						(display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}. No relevant kingdom relation"),
					(try_end),
				(else_try),
					(display_message, "@{!}Event #{reg5}, type {reg6}, time {reg8}. Player unaffiliated"),
				(try_end),
			(try_end),
			(call_script, "script_dplmc_get_troop_standing_in_faction", "$g_talk_troop", "$g_talk_troop_faction"),
			(try_begin),
				(ge, reg0, 50),
				(assign, ":value_8", 1),
			(else_try),
				(assign, ":value_8", 0),
			(try_end),
			(try_begin),
				(eq, ":log_array_entry_type_script_param_1", 45),
				(eq, "$g_talk_troop_met", 0),
				(is_between, "$g_talk_troop_faction_relation", -5, 5),
				(is_between, "$g_talk_troop_relation", -5, 5),
				(assign, ":value", 25),
				(troop_get_slot, ":player_renown", "trp_player", slot_troop_renown),
				(try_begin),
					(lt, "$g_disable_condescending_comments", 0),
					(call_script, "script_cf_dplmc_faction_has_bias_against_gender", "$g_talk_troop_faction", "$character_gender"),
					(val_mul, ":player_renown", 4),
					(val_add, ":player_renown", 3),
					(val_div, ":player_renown", 5),
				(try_end),
				(troop_get_slot, ":player_banner_scene_prop", "trp_player", slot_troop_banner_scene_prop),
				(store_random_in_range, ":random_in_range_100_200", 100, 200),
				(try_begin),
					(gt, ":value_8", 0),
					(eq, ":g_talk_troop_lord_reputation_type", 0),
					(gt, "$players_kingdom", 0),
					(assign, ":value_2", "str_comment_intro_liege_affiliated"),
					(try_begin),
						(faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
						(assign, ":value_2", "str_comment_intro_liege_affiliated_to_player"),
					(try_end),
				(else_try),
					(call_script, "script_cf_dplmc_faction_has_bias_against_gender", "$g_talk_troop_faction", "$character_gender"),
					(call_script, "script_troop_get_romantic_chemistry_with_troop", "$g_talk_troop", "trp_player"),
					(assign, ":var_26", reg0),
					(store_random_in_range, ":random_in_range_0_2", 0, 2),
					(this_or_next|eq, ":random_in_range_0_2", 0),
					(gt, ":var_26", 10),
					(this_or_next|gt, ":var_26", 10),
					(neq, ":var_18", "$character_gender"),
					(try_begin),
						(this_or_next|gt, ":player_renown", ":random_in_range_100_200"),
						(ge, "$g_disable_condescending_comments", 1),
						(assign, ":value_2", "str_comment_intro_female_famous_liege"),
						(val_add, ":value_2", ":g_talk_troop_lord_reputation_type"),
					(else_try),
						(ge, ":var_26", 9),
						(assign, ":value_2", "str_comment_intro_female_admiring_liege"),
						(val_add, ":value_2", ":g_talk_troop_lord_reputation_type"),
					(else_try),
						(gt, ":player_banner_scene_prop", 0),
						(assign, ":value_2", "str_comment_intro_female_noble_liege"),
						(val_add, ":value_2", ":g_talk_troop_lord_reputation_type"),
					(else_try),
						(assign, ":value_2", "str_comment_intro_female_common_liege"),
						(val_add, ":value_2", ":g_talk_troop_lord_reputation_type"),
					(try_end),
					(try_begin),
						(eq, ":value_2", "str_comment_intro_female_common_badtempered"),
						(assign, ":value_3", "str_rejoinder_intro_female_common_badtempered"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_noble_pitiless"),
						(assign, ":value_3", "str_rejoinder_intro_female_noble_pitiless"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_common_pitiless"),
						(assign, ":value_3", "str_rejoinder_intro_female_common_pitiless"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_noble_sadistic"),
						(assign, ":value_3", "str_rejoinder_intro_female_noble_sadistic"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_common_sadistic"),
						(assign, ":value_3", "str_rejoinder_intro_female_common_sadistic"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_common_upstanding"),
						(assign, ":value_3", "str_rejoinder_intro_female_common_upstanding"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_noble_upstanding"),
						(assign, ":value_3", "str_rejoinder_intro_female_noble_upstanding"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_common_martial"),
						(assign, ":value_3", "str_rejoinder_intro_female_common_martial"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_sadistic_admiring"),
						(assign, ":value_3", "str_rejoinder_intro_female_sadistic_admiring"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_badtempered_admiring"),
						(assign, ":value_3", "str_rejoinder_intro_female_badtempered_admiring"),
					(else_try),
						(eq, ":value_2", "str_comment_intro_female_pitiless_admiring"),
						(assign, ":value_3", "str_rejoinder_intro_female_pitiless_admiring"),
					(try_end),
				(else_try),
					(try_begin),
						(gt, ":player_renown", ":random_in_range_100_200"),
						(assign, ":value_2", "str_comment_intro_famous_liege"),
						(val_add, ":value_2", ":g_talk_troop_lord_reputation_type"),
					(else_try),
						(gt, ":player_banner_scene_prop", 0),
						(assign, ":value_2", "str_comment_intro_noble_liege"),
						(val_add, ":value_2", ":g_talk_troop_lord_reputation_type"),
						(try_begin),
							(eq, ":value_2", "str_comment_intro_noble_sadistic"),
							(assign, ":value_3", "str_rejoinder_intro_noble_sadistic"),
						(try_end),
					(else_try),
						(assign, ":value_2", "str_comment_intro_common_liege"),
						(val_add, ":value_2", ":g_talk_troop_lord_reputation_type"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 1),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(try_begin),
					(eq, ":log_array_center_object_lord_script_param_1", "$g_talk_troop"),
					(assign, ":value", 200),
					(assign, ":value_4", -1),
					(assign, ":value_2", "str_comment_you_raided_my_village_default"),
					(try_begin),
						(lt, "$g_talk_troop_faction_relation", -5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 6),
						(eq, ":g_talk_troop_lord_reputation_type", 7),
						(assign, ":value_2", "str_comment_you_raided_my_village_enemy_benevolent"),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", -5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 4),
						(eq, ":g_talk_troop_lord_reputation_type", 3),
						(assign, ":value_2", "str_comment_you_raided_my_village_enemy_coldblooded"),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", -5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_raided_my_village_enemy_spiteful"),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", -5),
						(assign, ":value_2", "str_comment_you_raided_my_village_enemy"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_raided_my_village_unfriendly_spiteful"),
					(else_try),
						(gt, "$g_talk_troop_relation", 5),
						(assign, ":value_2", "str_comment_you_raided_my_village_friendly"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 2),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(try_begin),
					(eq, ":log_array_center_object_lord_script_param_1", "$g_talk_troop"),
					(assign, ":value", 30),
					(assign, ":value_4", -1),
					(assign, ":value_2", "str_comment_you_robbed_my_village_default"),
					(try_begin),
						(lt, "$g_talk_troop_faction_relation", -5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 4),
						(eq, ":g_talk_troop_lord_reputation_type", 3),
						(assign, ":value_2", "str_comment_you_robbed_my_village_enemy_coldblooded"),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", -5),
						(assign, ":value_2", "str_comment_you_robbed_my_village_enemy"),
					(else_try),
						(gt, "$g_talk_troop_relation", 5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_robbed_my_village_friendly_spiteful"),
					(else_try),
						(gt, "$g_talk_troop_relation", 5),
						(assign, ":value_2", "str_comment_you_robbed_my_village_friendly"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 3),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(eq, ":log_array_faction_object_script_param_1", "$g_talk_troop_faction"),
				(eq, ":log_array_center_object_script_param_1", -1),
				(eq, ":log_array_troop_object_script_param_1", -1),
				(faction_slot_eq, "$g_talk_troop_faction", slot_faction_leader, "$g_talk_troop"),
				(assign, ":value", 30),
				(assign, ":value_4", -1),
				(assign, ":value_2", "str_comment_you_accosted_my_caravan_default"),
				(try_begin),
					(lt, "$g_talk_troop_faction_relation", -5),
					(assign, ":value_2", "str_comment_you_accosted_my_caravan_enemy"),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 4),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(try_begin),
					(eq, ":log_array_center_object_lord_script_param_1", "$g_talk_troop"),
					(assign, ":value", 40),
					(assign, ":value_4", 0),
					(try_begin),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 6),
						(eq, ":g_talk_troop_lord_reputation_type", 7),
						(assign, ":value_2", "str_comment_you_helped_villagers_benevolent"),
						(assign, ":value_4", 1),
					(else_try),
						(gt, "$g_talk_troop_relation", 5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_helped_villagers_friendly_cruel"),
						(assign, ":value_4", -1),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_helped_villagers_unfriendly_spiteful"),
						(assign, ":value_4", -1),
					(else_try),
						(gt, "$g_talk_troop_relation", 5),
						(assign, ":value_2", "str_comment_you_helped_villagers_friendly"),
					(else_try),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_helped_villagers_cruel"),
						(assign, ":value_4", -1),
					(else_try),
						(assign, ":value_2", "str_comment_you_helped_villagers_default"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 10),
				(try_begin),
					(eq, ":log_array_center_object_lord_script_param_1", "$g_talk_troop"),
					(store_faction_of_party, ":faction_of_party_log_array_center_object_script_param_1", ":log_array_center_object_script_param_1"),
					(eq, ":faction_of_party_log_array_center_object_script_param_1", "$players_kingdom"),
					(neq, "$g_talk_troop_faction", "$players_kingdom"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_captured_my_castle_enemy_spiteful"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_center_object_lord_script_param_1", "$g_talk_troop"),
					(store_faction_of_party, ":faction_of_party_log_array_center_object_script_param_1", ":log_array_center_object_script_param_1"),
					(eq, ":faction_of_party_log_array_center_object_script_param_1", "$players_kingdom"),
					(neq, "$g_talk_troop_faction", "$players_kingdom"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_captured_my_castle_enemy_chivalrous"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_center_object_lord_script_param_1", "$g_talk_troop"),
					(store_faction_of_party, ":faction_of_party_log_array_center_object_script_param_1", ":log_array_center_object_script_param_1"),
					(eq, ":faction_of_party_log_array_center_object_script_param_1", "$players_kingdom"),
					(neq, "$g_talk_troop_faction", "$players_kingdom"),
					(assign, ":value_2", "str_comment_you_captured_my_castle_enemy"),
					(assign, ":value", 200),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_captured_a_castle_allied_spiteful"),
					(assign, ":value", 75),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(gt, "$g_talk_troop_relation", 5),
					(assign, ":value_2", "str_comment_you_captured_a_castle_allied_friendly"),
					(assign, ":value", 75),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_captured_a_castle_allied_unfriendly_spiteful"),
					(assign, ":value", 75),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value_2", "str_comment_you_captured_a_castle_allied_unfriendly"),
					(assign, ":value", 75),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(assign, ":value_2", "str_comment_you_captured_a_castle_allied"),
					(assign, ":value", 75),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 24),
				(eq, "$players_kingdom", "$g_talk_troop_faction"),
				(faction_slot_eq, "$g_talk_troop_faction", slot_faction_leader, "$g_talk_troop"),
				(assign, ":value_2", "str_comment_you_claimed_the_throne_1_player_liege"),
				(assign, ":value", 500),
				(lt, "$g_talk_troop_relation", -10),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 25),
				(eq, "$players_kingdom", "$g_talk_troop_faction"),
				(faction_slot_eq, "$g_talk_troop_faction", slot_faction_leader, "$g_talk_troop"),
				(assign, ":value_2", "str_comment_you_claimed_the_throne_2_player_liege"),
				(assign, ":value", 500),
				(lt, "$g_talk_troop_relation", -10),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 22),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(troop_slot_ge, ":log_array_troop_object_script_param_1", 52, 8),
				(neq, ":log_array_troop_object_script_param_1", "trp_npc13"),
				(neg|troop_slot_ge, ":log_array_troop_object_script_param_1", 52, 21),
				(assign, ":value_5", 0),
				(try_begin),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(is_between, "$g_talk_troop", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_slot_eq, "$g_talk_troop", slot_troop_personalitymatch_object, ":log_array_troop_object_script_param_1"),
					(assign, ":value_2", "str_dplmc_comment_you_enfiefed_a_commoner_supportive"),
					(assign, ":value", 100),
					(assign, ":value_4", 0),
				(else_try),
					(call_script, "script_troop_get_relation_with_troop", ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(ge, reg0, 50),
					(assign, ":value_2", "str_dplmc_comment_you_enfiefed_a_commoner_supportive"),
					(assign, ":value", 100),
					(assign, ":value_4", 0),
				(else_try),
					(ge, reg0, 20),
					(this_or_next|is_between, ":g_talk_troop_lord_reputation_type_2", 8, 21),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 4),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_dplmc_comment_you_enfiefed_a_commoner_supportive"),
					(assign, ":value", 100),
					(assign, ":value_4", 0),
				(else_try),
					(troop_slot_eq, "$g_talk_troop", ":log_array_troop_object_script_param_1", 30),
				(else_try),
					(is_between, ":g_talk_troop_lord_reputation_type_2", 8, 21),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_enfiefed_a_commoner_nasty"),
					(assign, ":value", 100),
					(assign, ":value_4", -3),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_you_enfiefed_a_commoner_hesitant"),
					(assign, ":value", 100),
					(assign, ":value_4", -2),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_you_enfiefed_a_commoner_derisive"),
					(assign, ":value", 100),
					(assign, ":value_4", -4),
				(try_end),
			(else_try),
				(this_or_next|eq, ":log_array_entry_type_script_param_1", 11),
				(eq, ":log_array_entry_type_script_param_1", 17),
				(troop_slot_eq, "$g_talk_troop", slot_troop_present_at_event, ":script_param_1"),
				(try_begin),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_defeated_a_lord_unfriendly_spiteful"),
					(assign, ":value", 150),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value_2", "str_comment_we_defeated_a_lord_unfriendly"),
					(assign, ":value", 150),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_defeated_a_lord_cruel"),
					(assign, ":value", 150),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 2),
					(assign, ":value_2", "str_comment_we_defeated_a_lord_cruel"),
					(assign, ":value", 150),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_we_defeated_a_lord_upstanding"),
					(assign, ":value", 150),
				(else_try),
					(assign, ":value_2", "str_comment_we_defeated_a_lord_default"),
					(assign, ":value", 150),
				(try_end),
			(else_try),
				(this_or_next|eq, ":log_array_entry_type_script_param_1", 10),
				(eq, ":log_array_entry_type_script_param_1", 18),
				(troop_slot_eq, "$g_talk_troop", slot_troop_present_at_event, ":script_param_1"),
				(try_begin),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_fought_in_siege_unfriendly_spiteful"),
					(assign, ":value", 150),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value_2", "str_comment_we_fought_in_siege_unfriendly"),
					(assign, ":value", 150),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_fought_in_siege_cruel"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 2),
					(assign, ":value_2", "str_comment_we_fought_in_siege_quarrelsome"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_we_fought_in_siege_upstanding"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_we_fought_in_siege_default"),
					(assign, ":value", 150),
					(assign, ":value_4", 2),
				(else_try),
					(faction_slot_eq, "$players_kingdom", slot_faction_leader, "$g_talk_troop"),
					(assign, ":value_2", "str_comment_we_fought_in_siege_default"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(assign, ":value_2", "str_comment_we_fought_in_siege_default"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 20),
				(try_begin),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_give_castle_in_my_control"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_give_castle_in_my_control"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_you_give_castle_in_my_control"),
					(assign, ":value", 200),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 19),
				(troop_slot_eq, "$g_talk_troop", slot_troop_present_at_event, ":script_param_1"),
				(try_begin),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_unfriendly_spiteful"),
					(assign, ":value", 150),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_unfriendly"),
					(assign, ":value", 150),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_cruel"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 2),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_cruel"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_upstanding"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(faction_slot_eq, "$players_kingdom", slot_faction_leader, "$g_talk_troop"),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_default"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_default"),
					(assign, ":value", 150),
					(assign, ":value_4", 2),
				(else_try),
					(assign, ":value_2", "str_comment_we_fought_in_major_battle_default"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 35),
				(try_begin),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_player_suggestion_succeeded"),
					(assign, ":value", 200),
					(assign, ":value_4", 3),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 36),
				(try_begin),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_player_suggestion_failed"),
					(assign, ":value", 200),
					(assign, ":value_4", -5),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 11),
				(try_begin),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_defeated_me_enemy_chivalrous"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 5),
					(eq, ":g_talk_troop_lord_reputation_type", 2),
					(assign, ":value_2", "str_comment_you_defeated_me_enemy_spiteful"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_you_defeated_me_enemy"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 7),
					(eq, ":g_talk_troop_lord_reputation_type", 4),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy_pragmatic"),
					(assign, ":value", 85),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy_chivalrous"),
					(assign, ":value", 85),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy_spiteful"),
					(assign, ":value", 85),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy"),
					(assign, ":value", 85),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(faction_slot_eq, "$players_kingdom", slot_faction_leader, "$g_talk_troop"),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_liege"),
					(assign, ":value", 150),
					(assign, ":value_4", 1),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_unfriendly_spiteful"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_spiteful"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 7),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_unfriendly_chivalrous"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied"),
					(assign, ":value", 65),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 11),
				(try_begin),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_defeated_me_enemy_chivalrous"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 5),
					(eq, ":g_talk_troop_lord_reputation_type", 2),
					(assign, ":value_2", "str_comment_you_defeated_me_enemy_spiteful"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_you_defeated_me_enemy"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 7),
					(eq, ":g_talk_troop_lord_reputation_type", 4),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy_pragmatic"),
					(assign, ":value", 85),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy_chivalrous"),
					(assign, ":value", 85),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy_spiteful"),
					(assign, ":value", 85),
				(else_try),
					(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
					(assign, ":value_2", "str_comment_you_defeated_my_friend_enemy"),
					(assign, ":value", 85),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(faction_slot_eq, "$players_kingdom", slot_faction_leader, "$g_talk_troop"),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_liege"),
					(assign, ":value", 70),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_unfriendly_spiteful"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_spiteful"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 7),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied_unfriendly_chivalrous"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(assign, ":value_2", "str_comment_you_defeated_a_lord_allied"),
					(assign, ":value", 65),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 17),
				(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
				(eq, ":log_array_troop_object_faction_script_param_1", "$g_talk_troop_faction"),
				(assign, ":value_5", 0),
				(try_begin),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 7),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_you_helped_my_ally_unfriendly_chivalrous"),
					(assign, ":value", 65),
					(assign, ":value_4", 2),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value_2", "str_comment_you_helped_my_ally_unfriendly"),
					(assign, ":value", 0),
				(else_try),
					(gt, ":value_8", 0),
					(eq, ":g_talk_troop_lord_reputation_type", 0),
					(assign, ":value_2", "str_comment_you_helped_my_ally_liege"),
					(assign, ":value", 65),
					(assign, ":value_4", 3),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_helped_my_ally_unfriendly_spiteful"),
					(assign, ":value", 65),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_helped_my_ally_spiteful"),
					(assign, ":value", 65),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_you_helped_my_ally_chivalrous"),
					(assign, ":value", 65),
					(assign, ":value_4", 2),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_you_helped_my_ally_default"),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 14),
				(try_begin),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(troop_slot_eq, "$g_talk_troop", slot_troop_present_at_event, ":script_param_1"),
				(try_begin),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_were_defeated_unfriendly_spiteful"),
					(assign, ":value", 150),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value_2", "str_comment_we_were_defeated_unfriendly"),
					(assign, ":value", 150),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_we_were_defeated_cruel"),
					(assign, ":value", 150),
				(else_try),
					(assign, ":value_2", "str_comment_we_were_defeated_default"),
					(assign, ":value", 150),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 14),
				(try_begin),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_i_defeated_you_enemy_spiteful"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_i_defeated_you_enemy_chivalrous"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 6),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_i_defeated_you_enemy_benevolent"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 4),
					(assign, ":value_2", "str_comment_i_defeated_you_enemy_coldblooded"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_i_defeated_you_enemy"),
					(assign, ":value", 200),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_i_defeated_you_enemy"),
					(assign, ":value", 200),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(gt, "$g_talk_troop_relation", 5),
					(assign, ":value_2", "str_comment_you_were_defeated_allied_friendly_spiteful"),
					(assign, ":value", 80),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value_2", "str_comment_you_were_defeated_allied_unfriendly_cruel"),
					(assign, ":value", 80),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(le, "$g_talk_troop_relation", 5),
					(assign, ":value_2", "str_comment_you_were_defeated_allied_spiteful"),
					(assign, ":value", 80),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(eq, ":g_talk_troop_lord_reputation_type", 3),
					(assign, ":value_2", "str_comment_you_were_defeated_allied_pitiless"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(lt, "$g_talk_troop_relation", -15),
					(assign, ":value_2", "str_comment_you_were_defeated_allied_unfriendly_upstanding"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, "$g_talk_troop_relation", -10),
					(assign, ":value_2", "str_comment_you_were_defeated_allied_unfriendly"),
					(assign, ":value", 65),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(assign, ":value_2", "str_comment_you_were_defeated_allied"),
					(assign, ":value", 65),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 15),
				(troop_slot_eq, "$g_talk_troop", slot_troop_present_at_event, ":script_param_1"),
				(try_begin),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_abandoned_us_unfriendly_spiteful"),
					(assign, ":value", 150),
					(assign, ":value_4", -5),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(eq, ":g_talk_troop_lord_reputation_type", 3),
					(assign, ":value_2", "str_comment_you_abandoned_us_unfriendly_pitiless"),
					(assign, ":value", 150),
					(assign, ":value_4", -5),
				(else_try),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_abandoned_us_spiteful"),
					(assign, ":value_4", -5),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_you_abandoned_us_chivalrous"),
					(assign, ":value", 150),
					(assign, ":value_4", -2),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 7),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_abandoned_us_benefitofdoubt"),
					(assign, ":value", 150),
					(assign, ":value_4", -1),
				(else_try),
					(assign, ":value_2", "str_comment_you_abandoned_us_default"),
					(assign, ":value", 150),
					(assign, ":value_4", -2),
				(try_end),
			(else_try),
				(this_or_next|eq, ":log_array_entry_type_script_param_1", 15),
				(eq, ":log_array_entry_type_script_param_1", 16),
				(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(assign, reg7, ":value_6"),
					(display_message, "@{!}Elapsed hours: {reg7}"),
				(try_end),
				(gt, ":value_6", 2),
				(try_begin),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_ran_from_me_enemy_spiteful"),
					(assign, ":value", 25),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_you_ran_from_me_enemy_chivalrous"),
					(assign, ":value", 25),
				(else_try),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 6),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_you_ran_from_me_enemy_benevolent"),
					(assign, ":value", 25),
				(else_try),
					(eq, ":g_talk_troop_lord_reputation_type", 4),
					(assign, ":value_2", "str_comment_you_ran_from_me_enemy_coldblooded"),
					(assign, ":value", 25),
				(else_try),
					(assign, ":value_2", "str_comment_you_ran_from_me_enemy"),
					(assign, ":value", 25),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 16),
				(try_begin),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(lt, "$g_talk_troop_relation", 5),
					(eq, ":g_talk_troop_lord_reputation_type", 1),
					(assign, ":value_2", "str_comment_you_ran_from_foe_allied_chivalrous"),
					(assign, ":value", 80),
					(assign, ":value_4", -3),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_you_ran_from_foe_allied_upstanding"),
					(assign, ":value", 80),
					(assign, ":value_4", -1),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(lt, "$g_talk_troop_relation", 5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_ran_from_foe_allied_spiteful"),
					(assign, ":value", 80),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 13),
				(try_begin),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_let_me_go_spiteful"),
					(assign, ":value", 300),
					(assign, ":value_4", -15),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(ge, "$g_talk_troop_faction_relation", 0),
					(assign, ":value_2", "str_comment_you_let_me_go_default"),
					(assign, ":value", 300),
					(assign, ":value_4", 2),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(lt, "$g_talk_troop_faction_relation", 0),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_4", 5),
					(assign, ":value", 300),
					(assign, ":value_2", "str_comment_you_let_me_go_enemy_chivalrous"),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(lt, "$g_talk_troop_faction_relation", 0),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(eq, ":g_talk_troop_lord_reputation_type", 4),
					(assign, ":value", 300),
					(assign, ":value_2", "str_comment_you_let_me_go_enemy_coldblooded"),
				(else_try),
					(eq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(lt, "$g_talk_troop_faction_relation", 0),
					(assign, ":value", 300),
					(assign, ":value_2", "str_comment_you_let_me_go_enemy"),
					(assign, ":value_4", 1),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 1),
					(eq, ":g_talk_troop_lord_reputation_type", 6),
					(assign, ":value_2", "str_comment_you_let_go_a_lord_allied_chivalrous"),
					(assign, ":value", 80),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(eq, ":g_talk_troop_lord_reputation_type", 7),
					(assign, ":value_2", "str_comment_you_let_go_a_lord_allied_upstanding"),
					(assign, ":value", 80),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 4),
					(eq, ":g_talk_troop_lord_reputation_type", 3),
					(assign, ":value_2", "str_comment_you_let_go_a_lord_allied_coldblooded"),
					(assign, ":value", 80),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(lt, "$g_talk_troop_relation", -5),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_you_let_go_a_lord_allied_unfriendly_spiteful"),
					(assign, ":value", 80),
				(else_try),
					(eq, "$players_kingdom", "$g_talk_troop_faction"),
					(lt, ":value_7", 0),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(assign, ":value_2", "str_comment_you_let_go_a_lord_allied"),
					(assign, ":value", 80),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 21),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(try_begin),
					(eq, ":log_array_faction_object_script_param_1", "$g_talk_troop_faction"),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(eq, ":log_array_faction_object_script_param_1", "$players_kingdom"),
					(assign, ":value", 200),
					(try_begin),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 1),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_martial_unfriendly"),
					(else_try),
						(eq, ":g_talk_troop_lord_reputation_type", 1),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_martial"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 2),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_quarrelsome_unfriendly"),
					(else_try),
						(eq, ":g_talk_troop_lord_reputation_type", 2),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_quarrelsome"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 3),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_selfrighteous_unfriendly"),
					(else_try),
						(eq, ":g_talk_troop_lord_reputation_type", 3),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_selfrighteous"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 4),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_cunning_unfriendly"),
					(else_try),
						(eq, ":g_talk_troop_lord_reputation_type", 4),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_cunning"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_debauched_unfriendly"),
					(else_try),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_debauched"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 6),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_goodnatured_unfriendly"),
					(else_try),
						(eq, ":g_talk_troop_lord_reputation_type", 6),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_goodnatured"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 7),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_upstanding_unfriendly"),
					(else_try),
						(eq, ":g_talk_troop_lord_reputation_type", 7),
						(assign, ":value_2", "str_comment_pledged_allegiance_allied_upstanding"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 22),
				(eq, ":log_array_troop_object_script_param_1", "trp_player"),
				(try_begin),
					(eq, ":log_array_faction_object_script_param_1", "$g_talk_troop_faction"),
					(neq, ":log_array_actor_script_param_1", "$g_talk_troop"),
					(eq, ":log_array_faction_object_script_param_1", "$players_kingdom"),
					(assign, ":value", 110),
					(try_begin),
						(gt, "$g_talk_troop_relation", 5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_our_king_granted_you_a_fief_allied_friendly_cruel"),
					(else_try),
						(gt, "$g_talk_troop_relation", 5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 4),
						(assign, ":value_2", "str_comment_our_king_granted_you_a_fief_allied_friendly_cynical"),
					(else_try),
						(gt, "$g_talk_troop_relation", 5),
						(assign, ":value_2", "str_comment_our_king_granted_you_a_fief_allied_friendly"),
					(else_try),
						(is_between, "$g_talk_troop_relation", -5, 5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_our_king_granted_you_a_fief_allied_spiteful"),
						(assign, ":value_4", -2),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(eq, ":g_talk_troop_lord_reputation_type", 7),
						(assign, ":value_2", "str_comment_our_king_granted_you_a_fief_allied_unfriendly_upstanding"),
					(else_try),
						(lt, "$g_talk_troop_relation", -5),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_our_king_granted_you_a_fief_allied_unfriendly_spiteful"),
					(else_try),
						(assign, ":value_2", "str_comment_our_king_granted_you_a_fief_allied"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 23),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(try_begin),
					(eq, ":log_array_faction_object_script_param_1", "$g_talk_troop_faction"),
					(neq, ":log_array_troop_object_script_param_1", "$g_talk_troop"),
					(try_begin),
						(ge, "$g_talk_troop_faction_relation", 0),
						(neq, "$g_talk_troop_faction", "$players_kingdom"),
						(assign, ":value", 180),
						(try_begin),
							(gt, "$g_talk_troop_relation", 5),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_friendly"),
						(else_try),
							(ge, "$g_talk_troop_relation", 0),
							(eq, ":g_talk_troop_lord_reputation_type", 6),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_friendly"),
						(else_try),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_default"),
						(try_end),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", 0),
						(assign, ":value", 300),
						(try_begin),
							(ge, "$g_talk_troop_relation", 0),
							(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
							(eq, ":g_talk_troop_lord_reputation_type", 5),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_unfriendly_moralizing"),
						(else_try),
							(gt, "$g_talk_troop_relation", 5),
							(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 6),
							(eq, ":g_talk_troop_lord_reputation_type", 7),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_enemy_friendly"),
						(else_try),
							(gt, "$g_talk_troop_relation", 5),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_enemy"),
						(else_try),
							(is_between, "$g_talk_troop_relation", -5, 5),
							(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
							(eq, ":g_talk_troop_lord_reputation_type", 5),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_unfriendly_spiteful"),
							(assign, ":value_4", -2),
						(else_try),
							(lt, "$g_talk_troop_relation", -5),
							(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
							(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
							(eq, ":g_talk_troop_lord_reputation_type", 5),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_unfriendly_spiteful"),
						(else_try),
							(assign, ":value_2", "str_comment_you_renounced_your_alliegance_default"),
						(try_end),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 56),
				(eq, ":log_array_troop_object_script_param_1", "trp_player"),
				(try_begin),
					(neq, ":log_array_actor_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_actor_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(lt, "$g_talk_troop_relation", -5),
					(assign, ":value", 200),
					(assign, ":value_2", "str_comment_marriage_normal_nasty"),
				(else_try),
					(call_script, "script_troop_get_family_relation_to_troop", ":log_array_actor_script_param_1", "$g_talk_troop"),
					(ge, reg0, 5),
					(assign, ":value_2", "str_comment_marriage_normal_family"),
					(assign, ":value", 300),
					(assign, ":value_4", reg0),
					(val_div, ":value_4", 3),
				(else_try),
					(store_faction_of_troop, ":faction_of_troop_log_array_actor_script_param_1", ":log_array_actor_script_param_1"),
					(eq, ":faction_of_troop_log_array_actor_script_param_1", "$g_talk_troop_faction"),
					(assign, ":value_2", "str_comment_marriage_normal"),
					(assign, ":value", 100),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 57),
				(eq, ":log_array_troop_object_script_param_1", "trp_player"),
				(try_begin),
					(neq, ":log_array_actor_script_param_1", "$g_talk_troop"),
					(assign, ":value_5", 0),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(call_script, "script_troop_get_family_relation_to_troop", ":log_array_actor_script_param_1", "$g_talk_troop"),
					(ge, reg0, 5),
					(assign, ":value_2", "str_comment_marriage_elopement_family"),
					(assign, ":value", 300),
					(store_sub, ":value_4", 0, reg0),
					(val_div, ":value_4", 3),
				(else_try),
					(store_faction_of_troop, ":faction_of_troop_log_array_actor_script_param_1", ":log_array_actor_script_param_1"),
					(eq, ":faction_of_troop_log_array_actor_script_param_1", "$g_talk_troop_faction"),
					(faction_slot_eq, ":faction_of_troop_log_array_actor_script_param_1", slot_faction_leader, "$g_talk_troop"),
					(assign, ":value_2", "str_comment_marriage_elopement_liege"),
					(assign, ":value", 300),
					(assign, ":value_4", -10),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 31),
				(eq, ":log_array_actor_script_param_1", "$g_talk_troop"),
				(eq, ":log_array_center_object_script_param_1", "trp_player"),
				(neg|troop_slot_ge, ":log_array_troop_object_script_param_1", 30, "trp_player"),
				(str_store_troop_name, 54, ":log_array_troop_object_script_param_1"),
				(assign, ":value_5", 0),
				(try_begin),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 3),
					(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
					(eq, ":g_talk_troop_lord_reputation_type", 5),
					(assign, ":value_2", "str_comment_i_quarreled_with_you_over_woman_derisive"),
					(assign, ":value", 200),
					(assign, ":value_4", -20),
				(else_try),
					(assign, ":value_2", "str_comment_i_quarreled_with_you_over_woman_default"),
					(assign, ":value", 200),
					(assign, ":value_4", -20),
				(try_end),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 77),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(faction_slot_eq, ":log_array_faction_object_script_param_1", slot_faction_leader, "$g_talk_troop"),
				(eq, "$players_kingdom", ":log_array_faction_object_script_param_1"),
				(assign, ":value_4", -10),
				(assign, ":value_2", "str_comment_you_broke_truce_as_my_vassal"),
				(assign, ":value", 300),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 76),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(faction_slot_eq, ":log_array_faction_object_script_param_1", slot_faction_leader, "$g_talk_troop"),
				(eq, "$players_kingdom", ":log_array_faction_object_script_param_1"),
				(assign, ":value_4", -3),
				(assign, ":value_2", "str_comment_you_attacked_neutral_as_my_vassal"),
				(assign, ":value", 200),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 27),
				(eq, ":log_array_center_object_script_param_1", "$g_talk_troop"),
				(str_store_troop_name, 50, ":log_array_actor_script_param_1"),
				(str_store_troop_name, 51, ":log_array_center_object_script_param_1"),
				(str_store_troop_name, 54, ":log_array_troop_object_script_param_1"),
				(assign, ":value_2", "str_comment_lord_intervened_against_me"),
				(assign, ":value", -1),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 32),
				(eq, ":log_array_actor_script_param_1", "$g_talk_troop"),
				(str_store_troop_name, 51, ":log_array_center_object_script_param_1"),
				(str_store_troop_name, 54, ":log_array_troop_object_script_param_1"),
				(assign, ":value_2", "str_comment_i_protested_marshall_appointment"),
				(assign, ":value", -1),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 33),
				(eq, ":log_array_actor_script_param_1", "$g_talk_troop"),
				(str_store_troop_name, 51, ":log_array_center_object_script_param_1"),
				(str_store_troop_name, 54, ":log_array_troop_object_script_param_1"),
				(str_store_troop_name, 56, ":log_array_faction_object_script_param_1"),
				(assign, ":value_2", "str_comment_i_blamed_defeat"),
				(assign, ":value", -1),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 26),
				(eq, ":log_array_actor_script_param_1", "$g_talk_troop"),
				(str_store_party_name, 51, ":log_array_center_object_script_param_1"),
				(str_store_troop_name, 54, ":log_array_troop_object_script_param_1"),
				(str_store_faction_name, 56, ":log_array_faction_object_script_param_1"),
				(assign, ":value_2", "str_comment_i_was_entitled_to_fief"),
				(assign, ":value", -1),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 31),
				(eq, ":log_array_actor_script_param_1", "$g_talk_troop"),
				(str_store_troop_name, 51, ":log_array_center_object_script_param_1"),
				(str_store_troop_name, 54, ":log_array_troop_object_script_param_1"),
				(assign, ":value_5", 0),
				(try_begin),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(assign, ":value_2", "str_comment_i_quarreled_with_troop_over_woman"),
				(assign, ":value", -1),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 31),
				(eq, ":log_array_center_object_script_param_1", "$g_talk_troop"),
				(str_store_troop_name, 51, ":log_array_actor_script_param_1"),
				(str_store_troop_name, 54, ":log_array_troop_object_script_param_1"),
				(assign, ":value_5", 0),
				(try_begin),
					(call_script, "script_cf_dplmc_troop_is_female", ":log_array_troop_object_script_param_1"),
					(assign, ":value_5", 1),
				(try_end),
				(assign, ":value_2", "str_comment_i_quarreled_with_troop_over_woman"),
				(assign, ":value", -1),
			(else_try),
				(eq, ":log_array_entry_type_script_param_1", 66),
				(eq, ":log_array_actor_script_param_1", "trp_player"),
				(try_begin),
					(eq, ":log_array_center_object_lord_script_param_1", "$g_talk_troop"),
					(assign, ":value", 200),
					(assign, ":value_4", -1),
					(assign, ":value_2", "str_comment_you_stole_cattles_from_my_village_default"),
					(try_begin),
						(lt, "$g_talk_troop_faction_relation", -3),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 6),
						(eq, ":g_talk_troop_lord_reputation_type", 7),
						(assign, ":value_2", "str_comment_you_stole_cattles_from_my_village_enemy_benevolent"),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", -3),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 4),
						(eq, ":g_talk_troop_lord_reputation_type", 3),
						(assign, ":value_2", "str_comment_you_stole_cattles_from_my_village_enemy_coldblooded"),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", -3),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_stole_cattles_from_my_village_enemy_spiteful"),
					(else_try),
						(lt, "$g_talk_troop_faction_relation", -3),
						(assign, ":value_2", "str_comment_you_stole_cattles_from_my_village_enemy"),
					(else_try),
						(lt, "$g_talk_troop_relation", -3),
						(this_or_next|eq, ":g_talk_troop_lord_reputation_type", 2),
						(eq, ":g_talk_troop_lord_reputation_type", 5),
						(assign, ":value_2", "str_comment_you_stole_cattles_from_my_village_unfriendly_spiteful"),
					(else_try),
						(gt, "$g_talk_troop_relation", 6),
						(assign, ":value_2", "str_comment_you_stole_cattles_from_my_village_friendly"),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2"),
			(assign, reg1, ":value"),
			(assign, reg2, ":value_4"),
			(assign, reg3, ":value_3"),
			(assign, reg4, ":value_5")
		]),

	("get_relevant_comment_to_s42",
		[
			(troop_get_slot, ":g_talk_troop_lord_reputation_type", "$g_talk_troop", slot_lord_reputation_type),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(store_add, ":value", ":g_talk_troop_lord_reputation_type", "str_personality_archetypes"),
				(str_store_string, 15, ":value"),
				(display_message, "@{!}Reputation type: {s15}"),
			(try_end),
			(assign, ":value_2", 50),
			(assign, ":value_3", -1),
			(assign, ":value_4", -1),
			(assign, ":value_5", 0),
			(assign, ":value_6", -1),
			(assign, ":value_7", 0),
			(store_current_hours, ":current_hours"),
			(assign, ":value_8", 0),
			(troop_get_slot, ":g_talk_troop_last_comment_slot", "$g_talk_troop", slot_troop_last_comment_slot),
			(troop_set_slot, "$g_talk_troop", slot_troop_last_comment_slot, "$num_log_entries"),
			(store_add, ":value_9", "$num_log_entries", 1),
			(try_for_range, ":number", 1, ":value_9"),
				(troop_get_slot, ":log_array_entry_time_number", "trp_log_array_entry_time", ":number"),
				(store_sub, ":value_10", ":current_hours", ":log_array_entry_time_number"),
				(try_begin),
					(le, ":number", ":g_talk_troop_last_comment_slot"),
					(try_begin),
						(eq, ":number", ":g_talk_troop_last_comment_slot"),
						(eq, "$cheat_mode", 1),
						(assign, reg5, ":number"),
						(display_message, "@{!}Entries up to #{reg5} skipped"),
					(try_end),
				(else_try),
					(call_script, "script_get_relevant_comment_for_log_entry", ":number"),
					(gt, reg1, 10),
					(assign, ":var_16", reg1),
					(assign, ":var_17", reg0),
					(assign, ":var_18", reg3),
					(store_random_in_range, ":random_in_range_70_140", 70, 140),
					(val_mul, ":var_16", ":random_in_range_70_140"),
					(store_add, ":value_11", ":value_10", 500),
					(val_mul, ":var_16", 1000),
					(val_div, ":var_16", ":value_11"),
					(try_begin),
						(gt, ":var_16", ":value_2"),
						(assign, ":value_2", ":var_16"),
						(assign, ":value_3", ":var_17"),
						(assign, ":value_4", ":var_18"),
						(assign, ":value_6", ":number"),
						(assign, ":value_7", reg2),
						(assign, ":value_8", reg4),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(gt, ":value_3", 0),
				(assign, ":value_5", 1),
				(troop_get_slot, ":log_array_actor_value_6", "trp_log_array_actor", ":value_6"),
				(troop_get_slot, ":log_array_center_object_value_6", "trp_log_array_center_object", ":value_6"),
				(troop_get_slot, ":log_array_center_object_lord_value_6", "trp_log_array_center_object_lord", ":value_6"),
				(troop_get_slot, ":log_array_center_object_faction_value_6", "trp_log_array_center_object_faction", ":value_6"),
				(troop_get_slot, ":log_array_troop_object_value_6", "trp_log_array_troop_object", ":value_6"),
				(troop_get_slot, ":log_array_troop_object_faction_value_6", "trp_log_array_troop_object_faction", ":value_6"),
				(troop_get_slot, ":log_array_faction_object_value_6", "trp_log_array_faction_object", ":value_6"),
				(assign, reg4, ":value_8"),
				(try_begin),
					(ge, ":log_array_actor_value_6", 0),
					(str_store_troop_name, 50, ":log_array_actor_value_6"),
					(eq, ":value_3", "str_comment_i_quarreled_with_troop_over_woman"),
					(neq, ":log_array_actor_value_6", "$g_talk_troop"),
					(neq, ":log_array_actor_value_6", "trp_player"),
					(assign, reg3, 0),
					(try_begin),
						(call_script, "script_cf_dplmc_troop_is_female", ":log_array_actor_value_6"),
						(assign, reg3, 1),
					(try_end),
				(try_end),
				(try_begin),
					(ge, ":log_array_center_object_value_6", 0),
					(try_begin),
						(eq, ":value_3", "str_comment_i_quarreled_with_troop_over_woman"),
						(str_store_troop_name, 51, ":log_array_center_object_value_6"),
						(neq, ":log_array_center_object_value_6", "$g_talk_troop"),
						(neq, ":log_array_center_object_value_6", "trp_player"),
						(call_script, "script_dplmc_store_troop_is_female_reg", ":log_array_center_object_value_6", 3),
					(else_try),
						(neq, ":value_3", "str_comment_i_quarreled_with_troop_over_woman"),
						(str_store_party_name, 51, ":log_array_center_object_value_6"),
					(try_end),
				(try_end),
				(try_begin),
					(ge, ":log_array_center_object_lord_value_6", 0),
					(str_store_troop_name, 52, ":log_array_center_object_lord_value_6"),
				(try_end),
				(try_begin),
					(ge, ":log_array_center_object_faction_value_6", 0),
					(str_store_faction_name, 53, ":log_array_center_object_faction_value_6"),
				(try_end),
				(try_begin),
					(ge, ":log_array_troop_object_value_6", 0),
					(str_store_troop_name, 54, ":log_array_troop_object_value_6"),
				(try_end),
				(try_begin),
					(is_between, ":log_array_troop_object_faction_value_6", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(str_store_faction_name, 55, ":log_array_troop_object_faction_value_6"),
					(str_store_string, 55, "str_the_s55"),
				(else_try),
					(is_between, ":log_array_troop_object_value_6", "trp_bandit_e_mountain", "trp_bandit_e_black_khergit_horseman"),
					(str_store_string, 55, "str_bandits"),
				(else_try),
					(eq, ":log_array_troop_object_faction_value_6", "fac_deserters"),
					(str_store_string, 55, "str_deserters"),
				(else_try),
					(str_store_string, 55, "str_travellers_on_the_road"),
				(else_try),
				(try_end),
				(try_begin),
					(ge, ":log_array_faction_object_value_6", 0),
					(str_store_faction_name, 56, ":log_array_faction_object_value_6"),
				(try_end),
				(assign, "$g_last_comment_copied_to_s42", ":value_3"),
				(assign, "$g_rejoinder_to_last_comment", ":value_4"),
				(str_store_string, 42, ":value_3"),
			(try_end),
			(assign, reg0, ":value_5"),
			(assign, "$log_comment_relation_change", ":value_7")
		]),

	("merchant_road_info_to_s42",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", -1),
			(assign, ":value_4", -1),
			(str_clear, 32),
			(str_clear, 42),
			(str_clear, 47),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_set_slot, ":party", 265, 0),
			(try_end),
			(assign, ":var_7", 0),
			(assign, ":var_8", 0),
			(try_for_range, ":number", 0, "$num_log_entries"),
				(store_sub, ":value_5", "$num_log_entries", ":number"),
				(this_or_next|troop_slot_eq, "trp_log_array_entry_type", ":value_5", 3),
				(troop_slot_eq, "trp_log_array_entry_type", ":value_5", 5),
				(troop_get_slot, ":log_array_center_object_value_5", "trp_log_array_center_object", ":value_5"),
				(troop_get_slot, ":log_array_troop_object_value_5", "trp_log_array_troop_object", ":value_5"),
				(this_or_next|eq, ":log_array_center_object_value_5", ":script_param_1"),
				(eq, ":log_array_troop_object_value_5", ":script_param_1"),
				(troop_get_slot, ":log_array_entry_time_value_5", "trp_log_array_entry_time", ":value_5"),
				(store_current_hours, ":current_hours"),
				(store_sub, ":value_6", ":current_hours", ":log_array_entry_time_value_5"),
				(assign, reg3, ":value_6"),
				(lt, ":value_6", 672),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(troop_slot_eq, "trp_log_array_entry_type", ":value_5", 3),
					(display_message, "str_attack_on_travellers_found_reg3_hours_ago"),
				(else_try),
					(eq, "$cheat_mode", 1),
					(troop_slot_eq, "trp_log_array_entry_type", ":value_5", 5),
					(display_message, "str_trade_event_found_reg3_hours_ago"),
				(try_end),
				(try_begin),
					(lt, ":value_6", 24),
					(str_store_string, 46, "str_a_short_while_ago"),
				(else_try),
					(lt, ":value_6", 48),
					(str_store_string, 46, "str_one_day_ago"),
				(else_try),
					(lt, ":value_6", 72),
					(str_store_string, 46, "@two days ago"),
				(else_try),
					(lt, ":value_6", 154),
					(str_store_string, 46, "str_earlier_this_week"),
				(else_try),
					(lt, ":value_6", 240),
					(str_store_string, 46, "str_about_a_week_ago"),
				(else_try),
					(lt, ":value_6", 480),
					(str_store_string, 46, "str_about_two_weeks_ago"),
				(else_try),
					(str_store_string, 46, "str_several_weeks_ago"),
				(try_end),
				(troop_get_slot, ":log_array_actor_value_5", "trp_log_array_actor", ":value_5"),
				(troop_get_slot, ":log_array_faction_object_value_5", "trp_log_array_faction_object", ":value_5"),
				(str_store_string, 39, "str_unknown_assailants"),
				(assign, ":value_7", -1),
				(try_begin),
					(party_is_active, ":log_array_actor_value_5"),
					(store_faction_of_party, ":faction_of_party_log_array_actor_value_5", ":log_array_actor_value_5"),
					(eq, ":log_array_faction_object_value_5", ":faction_of_party_log_array_actor_value_5"),
					(assign, ":value_7", ":log_array_actor_value_5"),
					(str_store_party_name, 39, ":value_7"),
					(assign, "$g_bandit_party_for_bounty", -1),
					(try_begin),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_1"),
						(str_store_string, 39, "str_swadians"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_2"),
						(str_store_string, 39, "str_vaegirs"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_3"),
						(str_store_string, 39, "str_khergits"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_4"),
						(str_store_string, 39, "str_nords"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_5"),
						(str_store_string, 39, "str_rhodoks"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_6"),
						(str_store_string, 39, "str_sarranids"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_8"),
						(str_store_string, 39, "str_dragonstone"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_9"),
						(str_store_string, 39, "str_westerlands"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_10"),
						(str_store_string, 39, "str_reach"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_11"),
						(str_store_string, 39, "str_ironborn"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_12"),
						(str_store_string, 39, "str_pentos"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_13"),
						(str_store_string, 39, "str_tyrosh"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_14"),
						(str_store_string, 39, "str_myr"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_15"),
						(str_store_string, 39, "str_lys"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_16"),
						(str_store_string, 39, "str_volantis"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_17"),
						(str_store_string, 39, "str_norvos"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_18"),
						(str_store_string, 39, "str_lorath"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_19"),
						(str_store_string, 39, "str_sisters"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_20"),
						(str_store_string, 39, "str_targaryen"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_21"),
						(str_store_string, 39, "str_wildlings"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_kingdom_22"),
						(str_store_string, 39, "str_dothraki"),
					(else_try),
						(eq, ":log_array_faction_object_value_5", "fac_player_supporters_faction"),
						(str_store_string, 39, "str_your_followers"),
					(else_try),
						(assign, ":value", ":value_7"),
						(assign, ":value_2", ":log_array_center_object_value_5"),
						(assign, ":value_3", ":log_array_troop_object_value_5"),
						(assign, ":value_4", ":value_6"),
					(try_end),
				(try_end),
				(try_begin),
					(eq, ":log_array_center_object_value_5", ":script_param_1"),
					(troop_slot_eq, "trp_log_array_entry_type", ":value_5", 3),
					(party_slot_eq, ":log_array_troop_object_value_5", 265, 0),
					(party_set_slot, ":log_array_troop_object_value_5", 265, 1),
					(str_store_party_name, 40, ":log_array_troop_object_value_5"),
					(str_store_string, 44, "str_we_have_heard_that_travellers_heading_to_s40_were_attacked_on_the_road_s46_by_s39"),
					(str_store_string, 43, "str_s42"),
					(str_store_string, 42, "str_s43_s44"),
					(val_add, ":var_7", 1),
				(else_try),
					(eq, ":log_array_troop_object_value_5", ":script_param_1"),
					(troop_slot_eq, "trp_log_array_entry_type", ":value_5", 3),
					(party_slot_eq, ":log_array_center_object_value_5", 265, 0),
					(party_set_slot, ":log_array_center_object_value_5", 265, 1),
					(str_store_party_name, 40, ":log_array_center_object_value_5"),
					(str_store_string, 44, "str_we_have_heard_that_travellers_coming_from_s40_were_attacked_on_the_road_s46_by_s39"),
					(str_store_string, 43, "str_s42"),
					(str_store_string, 42, "str_s43_s44"),
					(val_add, ":var_7", 1),
				(else_try),
					(eq, ":log_array_troop_object_value_5", ":script_param_1"),
					(troop_slot_eq, "trp_log_array_entry_type", ":value_5", 5),
					(party_slot_eq, ":log_array_center_object_value_5", 265, 0),
					(party_set_slot, ":log_array_center_object_value_5", 265, 1),
					(str_store_party_name, 40, ":log_array_center_object_value_5"),
					(str_store_string, 44, "str_travellers_coming_from_s40_traded_here_s46"),
					(str_store_string, 43, "str_s42"),
					(str_store_string, 42, "str_s43_s44"),
					(val_add, ":var_8", 1),
				(try_end),
			(try_end),
			(try_begin),
				(le, ":var_8", 2),
				(eq, ":var_7", 0),
				(store_current_hours, ":current_hours_2"),
				(lt, ":current_hours_2", 168),
				(str_store_string, 42, "str_it_is_still_early_in_the_caravan_season_so_we_have_seen_little_tradings42"),
			(else_try),
				(eq, ":var_8", 0),
				(eq, ":var_7", 0),
				(str_store_string, 42, "str_there_has_been_very_little_trading_activity_here_recentlys42"),
			(else_try),
				(le, ":var_8", 2),
				(eq, ":var_7", 0),
				(str_store_string, 42, "str_there_has_some_trading_activity_here_recently_but_not_enoughs42"),
			(else_try),
				(le, ":var_8", 2),
				(le, ":var_7", 2),
				(str_store_string, 42, "str_there_has_some_trading_activity_here_recently_but_the_roads_are_dangerouss42"),
			(else_try),
				(ge, ":var_7", 3),
				(str_store_string, 42, "str_the_roads_around_here_are_very_dangerouss42"),
			(else_try),
				(ge, ":var_7", 1),
				(str_store_string, 42, "str_we_have_received_many_traders_in_town_here_although_there_is_some_danger_on_the_roadss42"),
			(else_try),
				(str_store_string, 42, "str_we_have_received_many_traders_in_town_heres42"),
			(try_end),
			(assign, ":value_8", 0),
			(try_for_range, ":number_2", 190, 205),
				(party_get_slot, ":script_param_1_number_2", ":script_param_1", ":number_2"),
				(is_between, ":script_param_1_number_2", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":script_param_1_number_2", 265, 0),
				(str_store_party_name, 41, ":script_param_1_number_2"),
				(try_begin),
					(eq, ":value_8", 1),
					(str_store_string, 44, "str_s44_s41"),
				(else_try),
					(str_store_string, 44, "str_s41"),
				(try_end),
				(assign, ":value_8", 1),
			(try_end),
			(try_begin),
				(eq, ":value_8", 1),
				(str_store_string, 47, "str_there_is_little_news_about_the_caravan_routes_to_the_towns_of_s44_and_nearby_parts_but_no_news_is_good_news_and_those_are_therefore_considered_safe"),
			(try_end),
			(assign, ":value_9", 0),
			(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
				(party_slot_eq, ":party_2", slot_village_market_town, ":script_param_1"),
				(party_slot_eq, ":party_2", 265, 0),
				(str_store_party_name, 41, ":party_2"),
				(try_begin),
					(eq, ":value_9", 1),
					(str_store_string, 44, "str_s44_s41"),
				(else_try),
					(str_store_string, 44, "str_s41"),
				(try_end),
				(assign, ":value_9", 1),
			(try_end),
			(try_begin),
				(eq, ":value_9", 1),
				(eq, ":value_8", 1),
				(str_store_string, 47, "str_s47_also_the_roads_to_the_villages_of_s44_and_other_outlying_hamlets_are_considered_safe"),
			(else_try),
				(eq, ":value_9", 1),
				(str_store_string, 47, "str_however_the_roads_to_the_villages_of_s44_and_other_outlying_hamlets_are_considered_safe"),
			(try_end),
			(str_store_string, 33, "str_we_have_shortages_of"),
			(assign, ":value_10", 0),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value_11", ":item", "itm_trade_spice"),
				(val_add, ":value_11", 267),
				(party_get_slot, ":script_param_1_value_11", ":script_param_1", ":value_11"),
				(gt, ":script_param_1_value_11", 1100),
				(str_store_item_name, 34, ":item"),
				(assign, reg1, ":script_param_1_value_11"),
				(str_store_string, 33, "str_s33_s34_reg1"),
				(assign, ":value_10", 1),
			(try_end),
			(try_begin),
				(eq, ":value_10", 0),
				(str_store_string, 32, "str_we_have_adequate_stores_of_all_commodities"),
			(else_try),
				(str_store_string, 32, "str_s33_and_some_other_commodities"),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2"),
			(assign, reg2, ":value_3"),
			(assign, reg3, ":value_4")
		]),

	("get_manhunt_information_to_s15",
		[
			(store_script_param, ":script_param_1", 1),
			(str_store_string, 15, "str_the_roads_are_full_of_brigands_friend_but_that_name_in_particular_does_not_sound_familiar_good_hunting_to_you_nonetheless"),
			(quest_get_slot, ":script_param_1_target_party", ":script_param_1", slot_quest_target_party),
			(try_begin),
				(is_between, "$g_talk_troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_get_slot, ":g_talk_troop_leaded_party", "$g_talk_troop", slot_troop_leaded_party),
			(else_try),
				(gt, "$g_encountered_party", "p_spawn_points_end"),
				(assign, ":g_talk_troop_leaded_party", "$g_encountered_party"),
			(else_try),
				(assign, ":g_talk_troop_leaded_party", -1),
			(try_end),
			(try_for_range, ":number", 0, "$num_log_entries"),
				(gt, ":g_talk_troop_leaded_party", -1),
				(troop_get_slot, ":log_array_actor_number", "trp_log_array_actor", ":number"),
				(eq, ":log_array_actor_number", ":g_talk_troop_leaded_party"),
				(troop_get_slot, ":log_array_troop_object_number", "trp_log_array_troop_object", ":number"),
				(eq, ":log_array_troop_object_number", ":script_param_1_target_party"),
				(store_current_hours, ":current_hours"),
				(troop_get_slot, ":log_array_entry_time_number", "trp_log_array_entry_time", ":number"),
				(val_sub, ":current_hours", ":log_array_entry_time_number"),
				(try_begin),
					(le, ":current_hours", 1),
					(str_store_string, 16, "str_less_than_an_hour_ago"),
				(else_try),
					(le, ":current_hours", 48),
					(assign, reg3, ":current_hours"),
					(str_store_string, 16, "str_maybe_reg3_hours_ago"),
				(else_try),
					(val_div, ":current_hours", 24),
					(assign, reg3, ":current_hours"),
					(str_store_string, 16, "str_reg3_days_ago"),
				(try_end),
				(troop_get_slot, ":log_array_center_object_number", "trp_log_array_center_object", ":number"),
				(str_store_party_name, 17, ":log_array_center_object_number"),
				(troop_get_slot, ":log_array_entry_type_number", "trp_log_array_entry_type", ":number"),
				(eq, ":log_array_entry_type_number", 70),
				(str_store_string, 15, "str_youre_in_luck_we_sighted_those_bastards_s16_near_s17_hurry_and_you_might_be_able_to_pick_up_their_trail_while_its_still_hot"),
			(try_end)
		]),

	("rebellion_arguments",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(store_faction_of_troop, ":faction_of_troop_script_param_3", ":script_param_3"),
			(store_faction_of_troop, ":faction_of_troop_script_param_3_2", ":script_param_3"),
			(try_begin),
				(eq, ":script_param_3", "trp_player"),
				(assign, ":value_3", "$player_right_to_rule"),
			(else_try),
				(is_between, ":script_param_3", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":script_param_3", slot_troop_original_faction, ":faction_of_troop_script_param_3"),
				(assign, ":value_3", 75),
			(else_try),
				(assign, ":value_3", 60),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 1),
				(store_sub, ":value_2", ":value_3", 30),
			(else_try),
				(eq, ":script_param_2", 2),
				(store_sub, ":value_2", "$player_honor", 20),
			(else_try),
				(eq, ":script_param_2", 5),
				(store_sub, ":value_2", "$player_honor", 20),
			(else_try),
				(eq, ":script_param_2", 4),
				(assign, ":value_2", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(assign, ":value_2", -40),
					(try_begin),
						(eq, "$players_kingdom", ":faction_of_troop_script_param_3_2"),
						(this_or_next|eq, ":faction_of_party_party", "$players_kingdom"),
						(this_or_next|eq, ":faction_of_party_party", "fac_player_faction"),
						(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
						(val_add, ":value_2", 5),
					(else_try),
						(eq, ":faction_of_party_party", ":faction_of_troop_script_param_3_2"),
						(val_add, ":value_2", 5),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 3),
				(assign, ":value_2", 20),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(neq, ":script_param_1", "$g_talk_troop"),
					(this_or_next|eq, ":faction_of_troop_troop", "fac_player_supporters_faction"),
					(eq, ":faction_of_troop_troop", "$players_kingdom"),
					(troop_slot_eq, ":troop", slot_troop_promised_fief, 1),
					(val_sub, ":value_2", 20),
				(try_end),
			(try_end),
			(val_clamp, ":value_2", -40, 41),
			(try_begin),
				(eq, ":script_param_1_lord_reputation_type", 1),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, ":value", 30),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_claims_to_the_throne_good_there_is_nothing_id_rather_do_than_fight_for_a_good_cause"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_claims_to_the_throne_well_there_is_nothing_id_rather_do_than_fight_for_a_good_cause_but_the_claim_you_make_seems_somewhat_weak"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value", 10),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_i_am_pleased_that_you_speak_of_upholding_my_ancient_rights_which_are_sometimes_trod_upon_in_these_sorry_days"),
					(else_try),
						(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 14),
						(str_store_string, 15, "str_i_am_pleased_that_you_speak_of_upholding_my_ancient_rights_but_sometimes_men_make_pledges_before_they_are_king_which_they_cannot_keep_once_they_take_the_throne"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value", 0),
					(try_begin),
						(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 3, 14),
						(str_store_string, 15, "str_you_speak_of_protecting_the_commons_well_i_supposed_thats_good_but_sometimes_the_commons_overstep_their_boundaries_im_more_concerned_that_your_claim_be_legal_so_i_can_swing_my_sword_with_a_good_conscience"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 3),
					(assign, ":value", -10),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_good_i_ask_for_no_more_than_my_due"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_unfortunately_you_are_not_wellknown_for_rewarding_those_to_whom_you_have_made_such_offers"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 4),
					(assign, ":value", -30),
					(str_store_string, 15, "str_you_speak_of_unifying_calradia_well_i_believe_that_well_always_be_fighting__its_important_that_we_fight_for_a_rightful_cause"),
				(try_end),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, ":value", -20),
					(str_store_string, 15, "str_you_talk_of_claims_to_the_throne_but_i_leave_bickering_about_legalities_to_the_lawyers_and_clerks"),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value", -30),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 14),
					(str_store_string, 15, "str_you_speak_of_ruling_justly_hah_ill_believe_theres_such_a_thing_as_a_just_king_when_i_see_one"),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value", 0),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 14),
					(str_store_string, 15, "str_you_spoke_of_protecting_the_rights_of_the_nobles_if_you_did_youd_be_the_first_king_to_do_so_in_a_very_long_time"),
				(else_try),
					(eq, ":script_param_2", 3),
					(assign, ":value", 30),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_ay_well_lets_see_if_you_deliver"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_bah_youre_not_known_for_delivering_on_your_pledges"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 4),
					(assign, ":value", 10),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_well_youve_done_a_good_job_at_making_calradia_bend_its_knee_to_you_so_maybe_thats_not_just_talk"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_id_be_impressed_if_i_thought_you_could_do_it_but_unfortunately_you_dont"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, ":value", -20),
					(str_store_string, 15, "str_you_speak_of_claims_to_the_throne_well_any_peasant_can_claim_to_be_a_kings_bastard"),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value", -30),
					(str_store_string, 15, "str_well_its_a_fine_thing_to_court_the_commons_with_promises_but_what_do_you_have_to_offer_me"),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value", 0),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 8, 15),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 7, 14),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_protecting_the_rights_of_lords_that_would_make_a_fine_change_if_my_rights_as_lord_would_be_respected"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_protecting_the_rights_of_lords_that_would_make_a_fine_change_if_my_rights_as_lord_would_be_respected_however_it_is_easy_for_you_to_make_promises_while_you_are_weak_that_you_have_no_intention_of_keeping_when_you_are_strong"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 3),
					(assign, ":value", 20),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_well_my_family_is_of_ancient_and_noble_lineage_so_you_promise_me_no_more_than_my_due_still_your_gesture_is_appreciated"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_well_you_make_that_pledge_but_i_am_not_impressed"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 4),
					(assign, ":value", 20),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_well_much_of_this_land_now_bends_its_knee_to_you_so_perhaps_that_is_not_just_talk"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_but_right_now_yours_is_just_one_squabbling_faction_among_many"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 4),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, ":value", -30),
					(str_store_string, 15, "str_you_speak_of_claims_well_no_offense_but_a_claim_unsupported_by_might_rarely_prospers"),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value", 10),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_protecting_the_commons_well_i_suppose_that_will_make_for_a_more_prosperous_realm_ive_always_tried_to_treat_my_peasants_decently_saves_going_to_bed_worrying_about_whether_youll_wake_up_with_the_roof_on_fire"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_protecting_the_commons_very_well_but_remember_that_peasants_are_more_likely_to_cause_trouble_if_you_make_promises_then_dont_deliver_than_if_you_never_made_the_promise_in_the_first_place"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value", 15),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 15),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 8, 14),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_protecting_the_rights_of_lords_good_youd_be_well_advised_to_do_that__men_fight_better_for_a_king_wholl_respect_their_rights"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_protecting_the_rights_of_lords_very_well_but_remember__failing_to_keep_promises_which_you_made_while_scrambling_up_the_throne_is_the_quickest_way_to_topple_off_of_it_once_you_get_there"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 3),
					(assign, ":value", -20),
					(str_store_string, 15, "str_you_speak_of_giving_me_land_very_good_but_often_i_find_that_when_a_man_makes_too_many_promises_trying_to_get_to_the_top_he_has_trouble_keeping_them_once_he_reaches_it"),
				(else_try),
					(eq, ":script_param_2", 4),
					(assign, ":value", 20),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_well_many_have_said_that_you_might_very_well_be_the_one_to_do_it"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_well_all_the_kings_say_that_im_not_sure_that_you_will_succeed_while_they_fail"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, ":value", -20),
					(str_store_string, 15, "str_you_speak_of_claims_do_you_think_i_care_for_the_nattering_of_lawyers"),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value", -20),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 9, 14),
					(str_store_string, 15, "str_you_speak_of_protecting_the_commons_how_kind_of_you_i_shall_tell_my_swineherd_all_about_your_sweet_promises_no_doubt_he_will_become_your_most_faithful_vassal"),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value", -10),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 8, 14),
					(str_store_string, 15, "str_you_speak_of_protecing_the_rights_of_lords_such_sweet_words_but_ill_tell_you_this__the_only_rights_that_are_respected_in_this_world_are_the_rights_to_dominate_whoever_is_weaker_and_to_submit_to_whoever_is_stronger"),
				(else_try),
					(eq, ":script_param_2", 3),
					(assign, ":value", 20),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_yes_very_good__but_you_had_best_deliver"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_giving_me_land_hah_perhaps_all_those_others_to_whom_you_promised_lands_will_simply_step_aside"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 4),
					(assign, ":value", 10),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_you_may_indeed_humble_the_other_kings_of_this_land_and_in_that_case_i_would_hope_that_you_would_remember_me_as_your_faithful_servant"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_but_you_are_weak_and_i_think_that_you_will_remain_weak"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 6),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, ":value", 10),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 14),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_claims_its_good_for_a_king_to_have_a_strong_claim_although_admittedly_im_more_concerned_that_he_rules_just_ly_than_with_legalities_anyway_your_claim_seems_wellfounded_to_me"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_claims_but_your_claim_seems_a_bit_weak_to_me"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value", 20),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_protecting_the_commons_i_like_that_my_tenants_are_a_happy_lot_i_think_but_i_hear_of_others_in_other_estates_that_arent_so_fortunate"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_protecting_the_commons_im_glad_to_hear_you_say_that_but_do_me_a_favor__dont_promise_the_commons_anything_you_cant_deliver_thats_a_sure_way_to_get_them_to_rebel_and_it_breaks_my_heart_to_have_to_put_them_down"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value", 0),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 15),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 8, 14),
					(str_store_string, 15, "str_you_speak_of_protecting_the_rights_of_lords_well_very_good_i_suppose_but_you_know__we_lords_can_take_of_ourselves_its_the_common_folk_who_need_a_strong_king_to_look_out_for_them_to_my_mind"),
				(else_try),
					(eq, ":script_param_2", 3),
					(assign, ":value", -15),
					(str_store_string, 15, "str_you_speak_of_giving_me_land_its_kind_of_you_really_though_that_is_not_necessary"),
				(else_try),
					(eq, ":script_param_2", 4),
					(assign, ":value", -25),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 1, 14),
					(str_store_string, 15, "str_you_speak_of_unifying_calradia_well_maybe_you_can_unite_this_land_by_the_sword_but_im_not_sure_that_this_will_make_you_a_good_ruler"),
				(try_end),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 7),
				(try_begin),
					(eq, ":script_param_2", 1),
					(assign, ":value", 10),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 14),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_claims_a_king_must_have_a_strong_legal_claim_for_there_not_to_be_chaos_in_the_realm_and_yours_is_wellestablished"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_claims_a_king_must_have_a_strong_legal_claim_for_there_not_to_be_chaos_in_the_realm_but_your_claim_is_not_so_strong"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value", -5),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 14),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 8, 15),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_protecting_the_rights_of_lords_it_is_of_course_important_that_a_king_respect_the_rights_of_his_vassals_although_i_worry_that_a_king_who_took_a_throne_without_proper_cause_would_not_rule_with_justice"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_protecting_the_rights_of_lords_it_is_of_course_important_that_a_king_respect_the_rights_of_his_vassals_however_i_would_like_to_know_that_you_would_indeed_deliver_on_your_promises"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value", 5),
					(call_script, "script_dplmc_print_cultural_word_to_sreg", ":script_param_1", 4, 14),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_protecting_the_commons_i_would_be_pleased_to_serve_a_king_who_respected_the_rights_of_his_subjects_although_i_worry_that_a_king_who_took_a_throne_without_proper_cause_would_not_rule_with_justice"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_protecting_the_commons_i_would_be_pleased_to_serve_a_king_who_respected_the_rights_of_his_subjects_however_i_would_like_to_know_that_you_would_indeed_deliver_on_your_promises"),
					(try_end),
				(else_try),
					(eq, ":script_param_2", 3),
					(assign, ":value", -40),
					(str_store_string, 15, "str_i_am_not_swayed_by_promises_of_reward"),
				(else_try),
					(eq, ":script_param_2", 4),
					(assign, ":value", 10),
					(try_begin),
						(gt, ":value_2", 0),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_it_would_be_good_to_bring_peace_to_the_realm_and_i_believe_that_you_are_strong_enough_to_do_so"),
					(else_try),
						(str_store_string, 15, "str_you_speak_of_unifying_calradia_it_would_be_good_to_bring_peace_the_realm_but_with_your_kingdom_in_its_current_state_i_worry_that_you_are_just_bringing_more_discord"),
					(try_end),
				(try_end),
			(try_end),
			(str_store_string, 14, "str_s15"),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2")
		]),

	("get_culture_with_party_faction_for_music",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(try_begin),
				(this_or_next|eq, ":faction_of_party_script_param_1", "fac_player_faction"),
				(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(assign, ":faction_of_party_script_param_1", "$players_kingdom"),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "p_town_1", "p_salt_mine"),
				(this_or_next|eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(neg|is_between, ":faction_of_party_script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(party_get_slot, ":faction_of_party_script_param_1", ":script_param_1", slot_center_original_faction),
			(try_end),
			(call_script, "script_get_culture_with_faction_for_music", ":faction_of_party_script_param_1")
		]),

	("get_culture_with_faction_for_music",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(eq, ":script_param_1", "fac_kingdom_1"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_2"),
				(assign, ":value", 2),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_3"),
				(assign, ":value", 32),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_4"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_5"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_6"),
				(assign, ":value", 32),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_8"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_9"),
				(assign, ":value", 8),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_10"),
				(assign, ":value", 32),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_11"),
				(assign, ":value", 4),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_12"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_13"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_14"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_15"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_16"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_17"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_18"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_19"),
				(assign, ":value", 4),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_20"),
				(assign, ":value", 16),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_21"),
				(assign, ":value", 2),
			(else_try),
				(eq, ":script_param_1", "fac_kingdom_22"),
				(assign, ":value", 16),
			(else_try),
				(this_or_next|eq, ":script_param_1", "fac_outlaws"),
				(this_or_next|eq, ":script_param_1", "fac_peasant_rebels"),
				(this_or_next|eq, ":script_param_1", "fac_deserters"),
				(this_or_next|eq, ":script_param_1", "fac_mountain_bandits"),
				(eq, ":script_param_1", "fac_forest_bandits"),
				(assign, ":value", 32),
			(else_try),
				(assign, ":value", 0),
			(try_end),
			(assign, reg0, ":value")
		]),

	("music_set_situation_with_culture",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(try_begin),
				(this_or_next|eq, ":script_param_1", 8192),
				(this_or_next|eq, ":script_param_1", 1048576),
				(this_or_next|eq, ":script_param_1", 524288),
				(this_or_next|eq, ":script_param_1", 16384),
				(eq, ":script_param_1", 2097152),
				(call_script, "script_get_culture_with_party_faction_for_music", "$g_encountered_party"),
				(val_or, ":var_2", reg0),
			(else_try),
				(this_or_next|eq, ":script_param_1", 4096),
				(eq, ":script_param_1", 1024),
				(call_script, "script_get_culture_with_party_faction_for_music", "$g_encountered_party"),
				(val_or, ":var_2", reg0),
				(call_script, "script_get_culture_with_party_faction_for_music", "p_main_party"),
				(val_or, ":var_2", reg0),
				(call_script, "script_get_closest_center", "p_main_party"),
				(call_script, "script_get_culture_with_party_faction_for_music", reg0),
				(val_or, ":var_2", reg0),
			(else_try),
				(eq, ":script_param_1", 2048),
				(call_script, "script_get_culture_with_faction_for_music", "$g_multiplayer_team_1_faction"),
				(val_or, ":var_2", reg0),
				(call_script, "script_get_culture_with_faction_for_music", "$g_multiplayer_team_2_faction"),
				(val_or, ":var_2", reg0),
			(else_try),
				(eq, ":script_param_1", 65536),
				(call_script, "script_get_culture_with_party_faction_for_music", "p_main_party"),
				(val_or, ":var_2", reg0),
				(call_script, "script_get_closest_center", "p_main_party"),
				(call_script, "script_get_culture_with_party_faction_for_music", reg0),
				(val_or, ":var_2", reg0),
			(else_try),
				(eq, ":script_param_1", 8388608),
				(call_script, "script_get_culture_with_party_faction_for_music", "p_main_party"),
				(val_or, ":var_2", reg0),
			(else_try),
				(eq, ":script_param_1", 32768),
				(call_script, "script_get_culture_with_party_faction_for_music", "$g_encountered_party"),
				(val_or, ":var_2", reg0),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_1", 8192),
				(eq, ":script_param_1", 1048576),
				(try_begin),
					(is_currently_night),
					(assign, ":script_param_1", 524288),
				(try_end),
			(try_end),
			(music_set_situation, ":script_param_1"),
			(music_set_culture, ":var_2")
		]),

	("combat_music_set_situation_with_culture",
		[
			(assign, ":value", 1024),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(try_for_agents, ":var_4"),
				(agent_is_alive, ":var_4"),
				(agent_is_human, ":var_4"),
				(agent_get_troop_id, ":troop_id_var_4", ":var_4"),
				(store_character_level, ":character_level_troop_id_var_4", ":troop_id_var_4"),
				(val_add, ":character_level_troop_id_var_4", 10),
				(val_mul, ":character_level_troop_id_var_4", ":character_level_troop_id_var_4"),
				(try_begin),
					(agent_is_ally, ":var_4"),
					(val_add, ":var_2", ":character_level_troop_id_var_4"),
				(else_try),
					(val_add, ":var_3", ":character_level_troop_id_var_4"),
				(try_end),
			(try_end),
			(val_mul, ":var_2", 4),
			(val_div, ":var_2", 3),
			(try_begin),
				(lt, ":var_2", ":var_3"),
				(assign, ":value", 4096),
			(try_end),
			(call_script, "script_music_set_situation_with_culture", ":value")
		]),

	("play_victorious_sound",
		[
			(call_script, "script_music_set_situation_with_culture", 8388608)
		]),

	("set_items_for_tournament",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_script_param, ":script_param_6", 6),
			(store_script_param, ":script_param_7", 7),
			(store_script_param, ":script_param_8", 8),
			(store_script_param, ":script_param_9", 9),
			(store_script_param, ":script_param_10", 10),
			(store_add, ":value", ":script_param_3", ":script_param_4"),
			(val_add, ":value", ":script_param_8"),
			(try_for_range, ":number", 0, 32),
				(mission_tpl_entry_clear_override_items, "mt_arena_melee_fight", ":number"),
				(assign, ":value_2", 0),
				(store_div, ":value_3", ":number", 8),
				(try_begin),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", ":script_param_1"),
					(assign, ":value_2", 1),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_horse"),
				(try_end),
				(try_begin),
					(eq, ":value_2", 1),
					(store_add, ":value_4", ":value", ":script_param_2"),
					(val_add, ":value_4", ":script_param_6"),
					(val_add, ":value_4", ":script_param_7"),
				(else_try),
					(store_add, ":value_4", ":value", ":script_param_5"),
				(try_end),
				(store_random_in_range, ":random_in_range_0_100", 0, ":value_4"),
				(store_add, ":value_5", "itm_mackie_tomahawk", ":value_3"),
				(try_begin),
					(val_sub, ":random_in_range_0_100", ":script_param_3"),
					(lt, ":random_in_range_0_100", 0),
					(try_begin),
						(store_random_in_range, ":random_in_range_0_100_2", 0, 100),
						(lt, ":random_in_range_0_100_2", 50),
						(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_sword"),
						(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", ":value_5"),
					(else_try),
						(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_sword_heavy"),
					(try_end),
				(else_try),
					(val_sub, ":random_in_range_0_100", ":script_param_4"),
					(lt, ":random_in_range_0_100", 0),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_axe"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", ":value_5"),
				(else_try),
					(val_sub, ":random_in_range_0_100", ":script_param_8"),
					(lt, ":random_in_range_0_100", 0),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_sword"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_crossbow"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_bolts"),
				(else_try),
					(eq, ":value_2", 0),
					(val_sub, ":random_in_range_0_100", ":script_param_5"),
					(lt, ":random_in_range_0_100", 0),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_bow"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_arrows"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_sword"),
				(else_try),
					(eq, ":value_2", 1),
					(val_sub, ":random_in_range_0_100", ":script_param_2"),
					(lt, ":random_in_range_0_100", 0),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_lance"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", ":value_5"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_sword"),
				(else_try),
					(eq, ":value_2", 1),
					(val_sub, ":random_in_range_0_100", ":script_param_6"),
					(lt, ":random_in_range_0_100", 0),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_javelin"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", ":value_5"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_sword"),
				(else_try),
					(eq, ":value_2", 1),
					(val_sub, ":random_in_range_0_100", ":script_param_7"),
					(lt, ":random_in_range_0_100", 0),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_bow"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_arrows"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", "itm_practice_sword"),
				(try_end),
				(try_begin),
					(ge, ":script_param_9", 0),
					(store_add, ":value_6", ":script_param_9", ":value_3"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", ":value_6"),
				(try_end),
				(try_begin),
					(ge, ":script_param_10", 0),
					(store_add, ":value_7", ":script_param_10", ":value_3"),
					(mission_tpl_entry_add_override_item, "mt_arena_melee_fight", ":number", ":value_7"),
				(try_end),
			(try_end)
		]),

	("custom_battle_end",
		[
			(assign, "$g_custom_battle_team1_death_count", 0),
			(assign, "$g_custom_battle_team2_death_count", 0),
			(get_player_agent_no, ":player_agent_no"),
			(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
			(try_for_agents, ":var_3"),
				(agent_is_human, ":var_3"),
				(neg|agent_is_alive, ":var_3"),
				(agent_get_team, ":team_var_3", ":var_3"),
				(try_begin),
					(eq, ":team_var_3", ":team_player_agent_no"),
					(val_add, "$g_custom_battle_team1_death_count", 1),
				(else_try),
					(val_add, "$g_custom_battle_team2_death_count", 1),
				(try_end),
			(try_end)
		]),

	("remove_troop_from_prison",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_set_slot, ":script_param_1", slot_troop_prisoner_of_party, -1),
			(try_begin),
				(eq, "$do_not_cancel_quest", 0),
				(check_quest_active, "qst_rescue_lord_by_replace"),
				(quest_slot_eq, "qst_rescue_lord_by_replace", slot_quest_target_troop, ":script_param_1"),
				(call_script, "script_cancel_quest", "qst_rescue_lord_by_replace"),
			(try_end),
			(try_begin),
				(eq, "$do_not_cancel_quest", 0),
				(check_quest_active, "qst_rescue_prisoner"),
				(quest_slot_eq, "qst_rescue_prisoner", slot_quest_target_troop, ":script_param_1"),
				(call_script, "script_cancel_quest", "qst_rescue_prisoner"),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_deliver_message_to_prisoner_lord"),
				(quest_slot_eq, "qst_deliver_message_to_prisoner_lord", slot_quest_target_troop, ":script_param_1"),
				(call_script, "script_cancel_quest", "qst_deliver_message_to_prisoner_lord"),
			(try_end)
		]),

	("determine_prisoner_agreed",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_attribute_level, ":attribute_level_player_3", "trp_player", 3),
			(store_skill_level, ":skill_level_persuasion_player", "skl_persuasion", "trp_player"),
			(store_skill_level, ":skill_level_leadership_player", "skl_leadership", "trp_player"),
			(val_mul, ":skill_level_persuasion_player", 3),
			(val_mul, ":skill_level_leadership_player", 3),
			(store_div, ":value", "$player_honor", 2),
			(troop_get_slot, ":7", 7),
			(val_div, ":7", 100),
			(assign, ":var_8", ":skill_level_persuasion_player"),
			(val_add, ":var_8", ":skill_level_leadership_player"),
			(val_add, ":var_8", ":attribute_level_player_3"),
			(val_add, ":var_8", ":value"),
			(val_add, ":var_8", ":7"),
			(val_min, ":script_param_2", ":var_8"),
			(store_random_in_range, ":random_in_range_script_param_2_var_8", ":script_param_2", ":var_8"),
			(assign, reg1, ":random_in_range_script_param_2_var_8"),
			(assign, reg2, ":script_param_2"),
			(assign, reg3, ":var_8"),
			(try_begin),
				(ge, ":random_in_range_script_param_2_var_8", 0),
				(troop_set_slot, ":script_param_1", 166, 1),
			(else_try),
				(troop_set_slot, ":script_param_1", 166, 0),
			(try_end),
			(troop_get_slot, reg0, ":script_param_1", 166)
		]),

	("jq_xp_to_next_lvl",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(lt, ":script_param_1", 600),
				(assign, ":value", 600),
			(else_try),
				(lt, ":script_param_1", 1360),
				(assign, ":value", 1360),
			(else_try),
				(lt, ":script_param_1", 2296),
				(assign, ":value", 2296),
			(else_try),
				(lt, ":script_param_1", 3426),
				(assign, ":value", 3426),
			(else_try),
				(lt, ":script_param_1", 4768),
				(assign, ":value", 4768),
			(else_try),
				(lt, ":script_param_1", 6345),
				(assign, ":value", 6345),
			(else_try),
				(lt, ":script_param_1", 8179),
				(assign, ":value", 8179),
			(else_try),
				(lt, ":script_param_1", 10297),
				(assign, ":value", 10297),
			(else_try),
				(lt, ":script_param_1", 13010),
				(assign, ":value", 13010),
			(else_try),
				(lt, ":script_param_1", 16161),
				(assign, ":value", 16161),
			(else_try),
				(lt, ":script_param_1", 19806),
				(assign, ":value", 19806),
			(else_try),
				(lt, ":script_param_1", 24007),
				(assign, ":value", 24007),
			(else_try),
				(lt, ":script_param_1", 28832),
				(assign, ":value", 28832),
			(else_try),
				(lt, ":script_param_1", 34362),
				(assign, ":value", 34362),
			(else_try),
				(lt, ":script_param_1", 40682),
				(assign, ":value", 40682),
			(else_try),
				(lt, ":script_param_1", 47892),
				(assign, ":value", 47892),
			(else_try),
				(lt, ":script_param_1", 56103),
				(assign, ":value", 56103),
			(else_try),
				(lt, ":script_param_1", 65441),
				(assign, ":value", 65441),
			(else_try),
				(lt, ":script_param_1", 77233),
				(assign, ":value", 77233),
			(else_try),
				(lt, ":script_param_1", 90809),
				(assign, ":value", 90809),
			(else_try),
				(lt, ":script_param_1", 106425),
				(assign, ":value", 106425),
			(else_try),
				(lt, ":script_param_1", 124371),
				(assign, ":value", 124371),
			(else_try),
				(lt, ":script_param_1", 144981),
				(assign, ":value", 144981),
			(else_try),
				(lt, ":script_param_1", 168636),
				(assign, ":value", 168636),
			(else_try),
				(lt, ":script_param_1", 195769),
				(assign, ":value", 195769),
			(else_try),
				(lt, ":script_param_1", 226879),
				(assign, ":value", 226879),
			(else_try),
				(lt, ":script_param_1", 262533),
				(assign, ":value", 262533),
			(else_try),
				(lt, ":script_param_1", 303381),
				(assign, ":value", 303381),
			(else_try),
				(lt, ":script_param_1", 350164),
				(assign, ":value", 350164),
			(else_try),
				(lt, ":script_param_1", 412091),
				(assign, ":value", 412091),
			(try_end),
			(store_sub, reg1, ":value", ":script_param_1"),
			(str_store_string, 1, "@{reg1}")
		]),

	("jq_extra_stats",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, reg5, ":script_param_2"),
			(assign, "$jq_last_checked_hero", ":script_param_1"),
			(str_store_troop_name, 9, ":script_param_1"),
			(store_troop_health, reg2, ":script_param_1"),
			(store_character_level, reg3, ":script_param_1"),
			(troop_get_slot, reg4, "trp_temp_array_c", ":script_param_2"),
			(str_store_string, 1, "@{s9}^^^Level: {reg3}^Health: {reg2}%^Morale: {reg4}"),
			(overlay_set_text, "$g_jq_equipment_status", 1),
			(try_for_range, ":number", 0, 8),
				(troop_get_inventory_slot, reg1, ":script_param_1", ":number"),
				(try_begin),
					(lt, reg1, 1),
					(str_store_string, 8, "@                n/a                "),
				(else_try),
					(str_store_item_name, 8, reg1),
				(try_end),
				(try_begin),
					(eq, ":number", 0),
					(overlay_set_text, "$g_jq_equipment_item0", 8),
				(else_try),
					(eq, ":number", 1),
					(overlay_set_text, "$g_jq_equipment_item1", 8),
				(else_try),
					(eq, ":number", 2),
					(overlay_set_text, "$g_jq_equipment_item2", 8),
				(else_try),
					(eq, ":number", 3),
					(overlay_set_text, "$g_jq_equipment_item3", 8),
				(else_try),
					(eq, ":number", 4),
					(overlay_set_text, "$g_jq_equipment_item4", 8),
				(else_try),
					(eq, ":number", 5),
					(overlay_set_text, "$g_jq_equipment_item5", 8),
				(else_try),
					(eq, ":number", 6),
					(overlay_set_text, "$g_jq_equipment_item6", 8),
				(else_try),
					(eq, ":number", 7),
					(overlay_set_text, "$g_jq_equipment_item7", 8),
				(try_end),
			(try_end),
			(set_result_string, 8)
		]),

	("jq_browse",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, "$jq_last_checked_hero", ":script_param_1"),
			(str_store_troop_name, 9, "$jq_dude"),
			(overlay_set_text, "$jq_troop_name", 9),
			(str_store_string, 9, "@{s9} feels..."),
			(overlay_set_text, "$jq_mrlc", 9),
			(call_script, "script_npc_morale", "$jq_dude"),
			(overlay_set_text, "$jq_feeling1", 6),
			(overlay_set_text, "$jq_feeling2", 7),
			(overlay_set_text, "$jq_feeling3", 8),
			(troop_get_slot, ":jq_dude_home", "$jq_dude", slot_troop_home),
			(str_store_party_name, 21, ":jq_dude_home"),
			(str_store_string, 9, "@Morale: {reg0}^^Origin: {s21}"),
			(overlay_set_text, "$jq_comphome", 9),
			(try_begin),
				(troop_is_mounted, "$jq_dude"),
				(str_store_string, 1, "@State: Riding"),
			(else_try),
				(str_store_string, 1, "@State: On foot"),
			(try_end),
			(overlay_set_text, "$jq_state", 1),
			(overlay_set_alpha, "$jq_portrait", 255),
			(set_fixed_point_multiplier, 1000),
			(position_set_x, 1, 1150),
			(position_set_y, 1, 1150),
			(overlay_set_size, "$jq_portrait", 1),
			(position_set_x, 1, 10),
			(position_set_y, 1, 295),
			(position_set_z, 1, 170),
			(overlay_set_position, "$jq_portrait", 1),
			(store_attribute_level, reg1, "$jq_dude", 0),
			(str_store_string, 1, "@ {reg1} "),
			(overlay_set_text, "$jqregstr", 1),
			(store_attribute_level, reg1, "$jq_dude", 1),
			(str_store_string, 1, "@ {reg1} "),
			(overlay_set_text, "$jqregagi", 1),
			(store_attribute_level, reg1, "$jq_dude", 2),
			(str_store_string, 1, "@ {reg1} "),
			(overlay_set_text, "$jqregint", 1),
			(store_attribute_level, reg1, "$jq_dude", 3),
			(str_store_string, 1, "@ {reg1} "),
			(overlay_set_text, "$jqregcha", 1),
			(store_troop_health, reg1, "$jq_dude"),
			(str_store_string, 1, "@ {reg1}%"),
			(overlay_set_text, "$jqhealth", 1),
			(store_character_level, reg1, "$jq_dude"),
			(str_store_string, 1, "@ {reg1} "),
			(overlay_set_text, "$jqreglvl", 1),
			(troop_get_xp, ":xp_l_jq_dude", "$jq_dude"),
			(call_script, "script_jq_xp_to_next_lvl", ":xp_l_jq_dude"),
			(overlay_set_text, "$jqtonextlvl", 1),
			(str_clear, 1),
			(try_for_range_backwards, reg1, 0, 37),
				(neg|is_between, reg1, 3, 7),
				(neg|is_between, reg1, 18, 22),
				(neg|is_between, reg1, 28, 33),
				(store_skill_level, reg2, reg1, "$jq_dude"),
				(str_store_string, 1, "@{s1}^{reg2}"),
				(overlay_set_text, "$jq_allskills", 1),
			(try_end),
			(str_clear, 1),
			(store_proficiency_level, reg1, "$jq_dude", 0),
			(str_store_string, 1, "@{s1}^^{reg1}"),
			(store_proficiency_level, reg1, "$jq_dude", 1),
			(str_store_string, 1, "@{s1}^^{reg1}"),
			(store_proficiency_level, reg1, "$jq_dude", 2),
			(str_store_string, 1, "@{s1}^^{reg1}"),
			(store_proficiency_level, reg1, "$jq_dude", 3),
			(str_store_string, 1, "@{s1}^^{reg1}"),
			(store_proficiency_level, reg1, "$jq_dude", 4),
			(str_store_string, 1, "@{s1}^^{reg1}"),
			(store_proficiency_level, reg1, "$jq_dude", 5),
			(str_store_string, 1, "@{s1}^^{reg1}"),
			(store_proficiency_level, reg1, "$jq_dude", 6),
			(str_store_string, 1, "@{s1}^^{reg1}"),
			(overlay_set_text, "$jq_allprofs", 1),
			(try_for_range, ":number", 0, 8),
				(troop_get_inventory_slot, reg1, "$jq_dude", ":number"),
				(try_begin),
					(lt, reg1, 1),
					(str_store_string, 8, "@n/a                                "),
				(else_try),
					(str_store_item_name, 8, reg1),
				(try_end),
				(try_begin),
					(eq, ":number", 0),
					(overlay_set_text, "$g_jq_equipment_item0", 8),
				(else_try),
					(eq, ":number", 1),
					(overlay_set_text, "$g_jq_equipment_item1", 8),
				(else_try),
					(eq, ":number", 2),
					(overlay_set_text, "$g_jq_equipment_item2", 8),
				(else_try),
					(eq, ":number", 3),
					(overlay_set_text, "$g_jq_equipment_item3", 8),
				(else_try),
					(eq, ":number", 4),
					(overlay_set_text, "$g_jq_equipment_item4", 8),
				(else_try),
					(eq, ":number", 5),
					(overlay_set_text, "$g_jq_equipment_item5", 8),
				(else_try),
					(eq, ":number", 6),
					(overlay_set_text, "$g_jq_equipment_item6", 8),
				(else_try),
					(eq, ":number", 7),
					(overlay_set_text, "$g_jq_equipment_item7", 8),
				(try_end),
			(try_end)
		]),

	("debug_variables",
		[
			(store_script_param, ":unused", 1),
			(store_script_param, ":unused_2", 2)
		]),

	("troop_describes_troop_to_s15",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(str_store_troop_name, 15, ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(str_store_string, 15, "str_you"),
			(else_try),
				(eq, ":script_param_2", ":script_param_1"),
				(str_store_string, 15, "str_myself"),
			(else_try),
				(call_script, "script_troop_get_family_relation_to_troop", ":script_param_2", ":script_param_1"),
				(gt, reg0, 0),
				(str_store_string, 15, "str_my_s11_s15"),
			(else_try),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_2", ":script_param_1"),
				(ge, reg0, 20),
				(str_store_string, 15, "str_my_friend_s15"),
			(try_end)
		]),

	("troop_describes_quarrel_with_troop_to_s14",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(str_store_troop_name, 15, ":script_param_1"),
			(str_store_troop_name, 16, ":script_param_2"),
			(str_store_string, 14, "str_stop_gap__s15_is_the_rival_of_s16"),
			(try_begin),
				(eq, ":script_param_1", "$g_talk_troop"),
				(call_script, "script_cf_test_lord_incompatibility_to_s17", ":script_param_1", ":script_param_2"),
				(str_store_string, 14, 17),
			(else_try),
				(eq, ":script_param_2", "$g_talk_troop"),
				(call_script, "script_cf_test_lord_incompatibility_to_s17", ":script_param_2", ":script_param_1"),
				(str_store_string, 14, 17),
			(else_try),
				(str_store_string, 14, "str_general_quarrel"),
			(try_end)
		]),

	("cf_test_lord_incompatibility_to_s17",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(troop_get_slot, ":script_param_2_lord_reputation_type", ":script_param_2", slot_lord_reputation_type),
			(troop_get_type, reg15, ":script_param_2"),
			(str_store_troop_name, 18, ":script_param_2"),
			(assign, ":var_6", 1),
			(call_script, "script_troop_get_family_relation_to_troop", ":script_param_2", ":script_param_1"),
			(assign, ":var_7", reg0),
			(try_begin),
				(gt, ":var_7", 0),
				(store_div, ":value_2", reg0, 5),
				(val_add, ":var_6", ":value_2"),
				(str_store_string, 18, "str_my_s11_s18"),
			(else_try),
				(gt, ":script_param_2_lord_reputation_type", 7),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(str_store_string, 18, "str_the_socalled_s11_s18"),
			(try_end),
			(assign, ":var_9", reg65),
			(assign, ":var_10", reg3),
			(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_2", 3),
			(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
			(assign, reg65, reg0),
			(assign, reg0, ":var_7"),
			(try_begin),
				(eq, ":script_param_1_lord_reputation_type", 1),
				(is_between, ":var_7", 1, 5),
				(assign, ":value", 100),
				(str_store_string, 17, "str_s18_would_cheat_me_of_my_inheritance_by_heaven_i_know_my_rights_and_im_not_going_to_back_down"),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 1),
				(eq, ":script_param_2_lord_reputation_type", 2),
				(str_store_string, 17, "str_s18_once_questioned_my_honour_and_my_bravery_i_long_for_the_day_when_i_can_meet_him_in_battle_and_make_him_retract_his_statement"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 1),
				(eq, ":script_param_2_lord_reputation_type", 7),
				(str_store_string, 17, "str_s18_once_questioned_my_judgment_in_battle_by_heaven_would_he_have_us_shirk_our_duty_to_smite_our_sovereigns_foes"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_2_lord_reputation_type", 1),
				(is_between, ":var_7", 1, 5),
				(assign, ":value", 100),
				(str_store_string, 17, "str_s18_seems_to_think_he_has_the_right_to_some_of_my_property_well_he_does_not"),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(eq, ":script_param_2_lord_reputation_type", 1),
				(str_store_string, 17, "str_s18_once_took_something_i_said_amiss_stubborn_bastard_wont_give_it_up_and_keeps_trying_to_get_me_to_recant_my_words"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(eq, ":script_param_2_lord_reputation_type", 4),
				(str_store_string, 17, "str_s18_is_a_crafty_weasel_and_i_dont_trust_him_one_bit"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(eq, ":script_param_2_lord_reputation_type", 7),
				(str_store_string, 17, "str_s18_i_despite_him_he_puts_on_such_a_nauseating_display_of_virtue_and_thinks_nothing_of_insulting_his_betters"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(eq, ":script_param_2_lord_reputation_type", 3),
				(str_store_string, 17, "str_s18_entered_into_a_little_deal_with_me_and_is_now_trying_to_wriggle_out_of_it"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(eq, ":script_param_2_lord_reputation_type", 5),
				(str_store_string, 17, "str_s18_once_ran_an_errand_for_me_and_now_thinks_i_owe_him_something_i_owe_his_ilk_nothing"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(eq, ":script_param_2_lord_reputation_type", 6),
				(str_store_string, 17, "str_s18_is_soft_and_weak_and_not_fit_to_govern_a_fief_and_i_have_always_detested_him"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 4),
				(eq, ":script_param_2_lord_reputation_type", 2),
				(str_store_string, 17, "str_s18_is_a_quarrelsome_oaf_and_a_liability_in_my_opinion_and_ive_let_him_know_as_much"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 4),
				(eq, ":script_param_2_lord_reputation_type", 6),
				(str_store_string, 17, "str_s18_i_am_sorry_to_say_is_far_too_softhearted_a_man_to_be_given_any_kind_of_responsibility_his_chivalry_will_allow_the_enemy_to_flee_to_fight_another_day_and_will_cost_the_lives_of_my_own_faithful_men"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 6),
				(eq, ":script_param_2_lord_reputation_type", 4),
				(str_store_string, 17, "str_s18_seems_to_have_something_against_me_for_some_reason_i_dont_like_to_talk_ill_of_people_but_i_think_hes_can_be_a_bit_of_a_cad_sometimes"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 6),
				(eq, ":script_param_2_lord_reputation_type", 3),
				(str_store_string, 17, "str_s18_has_always_treated_me_contemptuously_although_i_have_done_him_no_wrong"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 7),
				(eq, ":script_param_2_lord_reputation_type", 5),
				(str_store_string, 17, "str_s18_is_thoroughly_dishonorable_and_a_compulsive_spinner_of_intrigues_which_i_fear_will_drag_us_into_wars_or_incite_rebellions"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 7),
				(eq, ":script_param_2_lord_reputation_type", 1),
				(str_store_string, 17, "str_s18_disappoints_me_i_once_scolded_for_his_rashness_in_battle_and_he_took_offense_i_do_not_care_to_apologize_for_my_efforts_to_save_his_life_and_the_lives_of_his_men"),
				(assign, ":value", 50),
			(else_try),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 7),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(eq, ":script_param_2_lord_reputation_type", 8),
				(str_store_string, 17, "str_s18_squanders_money_and_carouses_in_a_way_most_unbefitting_a_noble_by_doing_so_he_disgraces_us_all"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 8),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 7),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 1),
				(eq, ":script_param_2_lord_reputation_type", 3),
				(str_store_string, 17, "str_s18_has_been_speaking_ill_of_me_behind_my_back_or_so_they_say"),
				(assign, ":value", 100),
			(else_try),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 2),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(eq, ":script_param_2_lord_reputation_type", 10),
				(str_store_string, 17, "str_s18_is_a_disgrace_reg3shehe_consorts_with_merchants_lends_money_at_interest_uses_coarse_language_and_shows_no_attempt_to_uphold_the_dignity_of_the_honor_bestowed_upon_reg3herhim"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 10),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 2),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 1),
				(eq, ":script_param_2_lord_reputation_type", 3),
				(str_store_string, 17, "str_s18_has_condemned_me_for_engaging_in_commerce_what_could_possibly_be_wrong_with_that"),
				(assign, ":value", 100),
			(else_try),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(eq, ":script_param_2_lord_reputation_type", 9),
				(str_store_string, 17, "str_s18_i_have_heard_has_been_encouraging_seditious_ideas_among_the_peasantry__a_foolish_move_which_endangers_us_all"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 9),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 5),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 1),
				(eq, ":script_param_2_lord_reputation_type", 3),
				(str_store_string, 17, "str_s18_has_called_me_out_for_the_way_i_deal_with_my_tenants_well_so_be_it_if_i_teach_them_that_they_are_the_equal_of_anyone_with_socalled_gentle_blood_what_is_it_to_reg3herhim"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 21),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 1),
				(eq, ":script_param_2_lord_reputation_type", 3),
				(str_store_string, 17, "str_a_most_gallant_gentleman_who_knows_how_to_treat_a_lady"),
				(assign, ":value", -50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 21),
				(eq, ":script_param_2_lord_reputation_type", 2),
				(str_store_string, 17, "str_a_base_cad"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 22),
				(eq, ":script_param_2_lord_reputation_type", 4),
				(str_store_string, 17, "str_a_man_who_treats_me_as_his_equal_which_is_rare"),
				(assign, ":value", -50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 22),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 1),
				(eq, ":script_param_2_lord_reputation_type", 5),
				(str_store_string, 17, "str_appears_to_value_me_with_his_estate_and_his_horse_as_prizes_worth_having"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 22),
				(neq, ":script_param_2_lord_reputation_type", 6),
				(str_store_string, 17, "str_a_bit_dull_but_what_can_you_expect"),
				(assign, ":value", 10),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(call_script, "script_troop_get_romantic_chemistry_with_troop", ":script_param_1", ":script_param_2"),
				(ge, reg0, 10),
				(str_store_string, 17, "str_the_man_whom_destiny_intends_for_me"),
				(assign, ":value", -50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(lt, reg0, 0),
				(str_store_string, 17, "str_is_not_right_for_me__i_cannot_say_why_but_he_makes_my_skin_crawl"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 3),
				(eq, ":script_param_2_lord_reputation_type", 4),
				(str_store_string, 17, "str_is_a_man_who_clearly_intends_to_make_his_mark_in_the_world"),
				(assign, ":value", -20),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(eq, ":script_param_2_lord_reputation_type", 6),
				(str_store_string, 17, "str_is_a_layabout_a_naif_prey_for_others_who_are_cleverer_than_he"),
				(assign, ":value", 30),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(eq, ":script_param_2_lord_reputation_type", 7),
				(str_store_string, 17, "str_is_a_man_of_stalwart_character"),
				(assign, ":value", -50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 5),
				(eq, ":script_param_2_lord_reputation_type", 4),
				(str_store_string, 17, "str_appears_to_be_a_man_of_low_morals"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(eq, ":script_param_2_lord_reputation_type", 2),
				(str_store_string, 17, "str_appears_to_be_a_man_who_lacks_selfdiscipline"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(eq, ":script_param_2_lord_reputation_type", 23),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(str_store_string, 17, "str_s18_is_soft_and_weak_and_not_fit_to_govern_a_fief_and_i_have_always_detested_him"),
				(str_store_string, 17, "str_s18_has_always_treated_me_contemptuously_although_i_have_done_him_no_wrong"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(eq, ":script_param_2_lord_reputation_type", 24),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(str_store_string, 17, "str_s18_has_always_treated_me_contemptuously_although_i_have_done_him_no_wrong"),
				(assign, ":value", 100),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(this_or_next|eq, ":script_param_2_lord_reputation_type", 25),
				(eq, ":script_param_2_lord_reputation_type", 21),
				(str_store_string, 17, "str_s18_once_took_something_i_said_amiss_stubborn_bastard_wont_give_it_up_and_keeps_trying_to_get_me_to_recant_my_words"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 4),
				(eq, ":script_param_2_lord_reputation_type", 25),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(str_store_string, 17, "str_s18_i_am_sorry_to_say_is_far_too_softhearted_a_man_to_be_given_any_kind_of_responsibility_his_chivalry_will_allow_the_enemy_to_flee_to_fight_another_day_and_will_cost_the_lives_of_my_own_faithful_men"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(eq, ":script_param_2_lord_reputation_type", 25),
				(str_store_string, 17, "str_s18_i_despite_him_he_puts_on_such_a_nauseating_display_of_virtue_and_thinks_nothing_of_insulting_his_betters"),
				(assign, ":value", 50),
			(else_try),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(eq, ":script_param_2_lord_reputation_type", 22),
				(str_store_string, 17, "str_s18_once_took_something_i_said_amiss_stubborn_bastard_wont_give_it_up_and_keeps_trying_to_get_me_to_recant_my_words"),
				(assign, ":value", 50),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 6),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(eq, ":script_param_2_lord_reputation_type", 24),
				(str_store_string, 17, "str_s18_seems_to_have_something_against_me_for_some_reason_i_dont_like_to_talk_ill_of_people_but_i_think_hes_can_be_a_bit_of_a_cad_sometimes"),
				(assign, ":value", 30),
			(else_try),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_2", 4),
				(ge, reg0, 1),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(str_store_string, 17, "str_is_a_man_of_stalwart_character"),
				(assign, ":value", -50),
			(else_try),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_2", 5),
				(ge, reg0, 1),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(str_store_string, 17, "str_is_a_man_of_stalwart_character"),
				(assign, ":value", -50),
			(try_end),
			(val_div, ":value", ":var_6"),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":script_param_1", slot_troop_personalitymatch_object, ":script_param_2"),
				(val_min, ":value", -100),
			(else_try),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_personalityclash_object, ":script_param_2"),
				(troop_slot_eq, ":script_param_1", slot_troop_personalityclash2_object, ":script_param_2"),
				(try_begin),
					(le, ":value", 0),
					(str_store_string, 17, "str_general_quarrel"),
				(try_end),
				(val_max, ":value", 100),
			(try_end),
			(assign, reg3, ":var_10"),
			(assign, reg65, ":var_9"),
			(assign, reg0, ":value"),
			(neq, ":value", 0)
		]),

	("troop_get_romantic_chemistry_with_troop",
		[
			(assign, ":var_1", reg1),
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_add, ":value", ":script_param_1", ":script_param_2"),
			(val_add, ":value", "$romantic_attraction_seed"),
			(store_mod, ":value_2", ":value", 5),
			(val_mul, ":value_2", ":value_2"),
			(val_mul, ":value_2", 3),
			(store_attribute_level, ":attribute_level_script_param_2_3", ":script_param_2", 3),
			(val_sub, ":attribute_level_script_param_2_3", ":value_2"),
			(val_mul, ":attribute_level_script_param_2_3", 2),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":script_param_1", slot_troop_personalitymatch_object, ":script_param_2"),
				(val_max, ":attribute_level_script_param_2_3", 15),
			(else_try),
				(is_between, ":script_param_2", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":script_param_2", slot_troop_personalitymatch_object, ":script_param_1"),
				(val_max, ":attribute_level_script_param_2_3", 15),
			(else_try),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_personalityclash_object, ":script_param_2"),
				(troop_slot_eq, ":script_param_1", slot_troop_personalityclash2_object, ":script_param_2"),
				(val_min, ":attribute_level_script_param_2_3", -15),
			(else_try),
				(is_between, ":script_param_2", "trp_npc1", "trp_kingdom_1_lord"),
				(this_or_next|troop_slot_eq, ":script_param_2", slot_troop_personalityclash_object, ":script_param_1"),
				(troop_slot_eq, ":script_param_2", slot_troop_personalityclash2_object, ":script_param_1"),
				(val_min, ":attribute_level_script_param_2_3", -15),
			(else_try),
				(call_script, "script_dplmc_store_is_female_troop_1_troop_2", ":script_param_1", ":script_param_2"),
				(eq, reg0, reg1),
				(val_min, ":attribute_level_script_param_2_3", -15),
			(try_end),
			(assign, reg1, ":var_1"),
			(assign, reg0, ":attribute_level_script_param_2_3")
		]),

	("cf_troop_get_romantic_attraction_to_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", 0),
			(assign, ":var_4", reg1),
			(call_script, "script_dplmc_store_is_female_troop_1_troop_2", ":script_param_1", ":script_param_2"),
			(assign, ":var_5", reg0),
			(assign, ":var_6", reg1),
			(assign, reg1, ":var_4"),
			(assign, reg0, -15),
			(neq, ":var_5", ":var_6"),
			(call_script, "script_troop_get_romantic_chemistry_with_troop", ":script_param_1", ":script_param_2"),
			(assign, ":var_7", reg0),
			(troop_get_slot, ":script_param_2_renown", ":script_param_2", slot_troop_renown),
			(assign, ":value", 60),
			(try_begin),
				(ge, "$g_dplmc_ai_changes", 2),
				(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
				(try_begin),
					(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_father),
					(ge, ":script_param_1_father", 0),
					(troop_get_slot, ":script_param_1_father_renown", ":script_param_1_father", slot_troop_renown),
					(val_max, ":script_param_1_renown", ":script_param_1_father_renown"),
				(try_end),
				(try_begin),
					(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_guardian),
					(ge, ":script_param_1_father", 0),
					(troop_get_slot, ":script_param_1_father_renown", ":script_param_1_father", slot_troop_renown),
					(val_max, ":script_param_1_renown", ":script_param_1_father_renown"),
				(try_end),
				(try_begin),
					(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_mother),
					(ge, ":script_param_1_father", 0),
					(troop_get_slot, ":script_param_1_father_renown", ":script_param_1_father", slot_troop_renown),
					(val_max, ":script_param_1_renown", ":script_param_1_father_renown"),
				(try_end),
				(try_begin),
					(ge, ":script_param_1_renown", 600),
					(store_div, ":value", ":script_param_1_renown", 10),
				(else_try),
					(lt, ":script_param_1_renown", 400),
					(store_div, ":value", ":script_param_1_renown", 10),
					(val_add, ":value", 20),
				(try_end),
				(val_clamp, ":value", 30, 90),
			(try_end),
			(val_div, ":script_param_2_renown", 5),
			(val_sub, ":script_param_2_renown", ":value"),
			(val_min, ":script_param_2_renown", 60),
			(try_begin),
				(assign, ":value_2", 0),
				(call_script, "script_cf_test_lord_incompatibility_to_s17", ":script_param_1", ":script_param_2"),
				(store_sub, ":value_2", 0, reg0),
			(try_end),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(try_begin),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(val_mul, ":script_param_2_renown", 2),
				(val_div, ":var_7", 2),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(val_div, ":script_param_2_renown", 2),
				(val_mul, ":var_7", 2),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 22),
				(val_div, ":script_param_2_renown", 2),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(val_div, ":script_param_2_renown", 2),
				(val_div, ":var_7", 2),
			(try_end),
			(val_add, ":var_3", ":var_7"),
			(val_add, ":var_3", ":value_2"),
			(val_add, ":var_3", ":script_param_2_renown"),
			(assign, reg0, ":var_3")
		]),

	("cf_random_political_event",
		[
			(store_random_in_range, ":random_in_range_npc1_knight_1_1_wife", "trp_npc1", "trp_knight_1_1_wife"),
			(store_random_in_range, ":random_in_range_npc1_knight_1_1_wife_2", "trp_npc1", "trp_knight_1_1_wife"),
			(troop_slot_eq, ":random_in_range_npc1_knight_1_1_wife", slot_troop_occupation, 2),
			(troop_slot_eq, ":random_in_range_npc1_knight_1_1_wife_2", slot_troop_occupation, 2),
			(neq, ":random_in_range_npc1_knight_1_1_wife", ":random_in_range_npc1_knight_1_1_wife_2"),
			(val_add, "$total_political_events", 1),
			(store_faction_of_troop, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", ":random_in_range_npc1_knight_1_1_wife"),
			(store_faction_of_troop, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2", ":random_in_range_npc1_knight_1_1_wife_2"),
			(assign, reg8, "$total_political_events"),
			(faction_get_slot, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", slot_faction_leader),
			(faction_get_slot, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2_leader", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2", slot_faction_leader),
			(this_or_next|eq, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2"),
			(this_or_next|eq, ":random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
			(eq, ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2_leader"),
			(call_script, "script_troop_get_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife", ":random_in_range_npc1_knight_1_1_wife_2"),
			(assign, ":var_7", reg0),
			(store_random_in_range, ":random_in_range_0_100", 0, 100),
			(try_begin),
				(eq, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2"),
				(neq, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader", "trp_player"),
				(le, ":var_7", -10),
				(call_script, "script_troop_get_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
				(gt, reg0, 0),
				(assign, ":var_9", reg0),
				(call_script, "script_troop_get_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
				(gt, reg0, 0),
				(store_mul, ":value", ":var_9", reg0),
				(val_div, ":value", 4),
				(le, ":random_in_range_0_100", ":value"),
				(str_store_troop_name, 4, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
				(str_store_troop_name, 5, ":random_in_range_npc1_knight_1_1_wife"),
				(str_store_troop_name, 6, ":random_in_range_npc1_knight_1_1_wife_2"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_check_reg8_s4_reconciles_s5_and_s6_"),
				(try_end),
				(call_script, "script_troop_change_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife", ":random_in_range_npc1_knight_1_1_wife_2", 20),
				(val_add, "$total_random_quarrel_changes", 20),
			(else_try),
				(eq, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2"),
				(le, ":var_7", -10),
				(try_begin),
					(eq, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader", "trp_player"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_diagnostic__player_should_receive_consultation_quest_here_if_not_already_active"),
					(try_end),
					(neg|check_quest_active, "qst_consult_with_minister"),
					(neg|check_quest_active, "qst_resolve_dispute"),
					(eq, "$g_minister_notification_quest", 0),
					(assign, "$g_minister_notification_quest", "qst_resolve_dispute"),
					(quest_set_slot, "qst_resolve_dispute", slot_quest_target_troop, ":random_in_range_npc1_knight_1_1_wife"),
					(quest_set_slot, "qst_resolve_dispute", slot_quest_object_troop, ":random_in_range_npc1_knight_1_1_wife_2"),
					(call_script, "script_add_notification_menu", "mnu_notification_player_should_consult", 0, 0),
				(else_try),
					(call_script, "script_troop_get_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
					(assign, ":var_11", reg0),
					(call_script, "script_troop_get_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
					(assign, ":var_12", reg0),
					(store_random_in_range, ":random_in_range_-5_5", -5, 5),
					(val_add, ":var_11", ":random_in_range_-5_5"),
					(try_begin),
						(ge, ":var_11", ":var_12"),
						(assign, ":value_2", ":random_in_range_npc1_knight_1_1_wife"),
						(assign, ":value_3", ":random_in_range_npc1_knight_1_1_wife_2"),
					(else_try),
						(assign, ":value_3", ":random_in_range_npc1_knight_1_1_wife"),
						(assign, ":value_2", ":random_in_range_npc1_knight_1_1_wife_2"),
					(try_end),
					(str_store_troop_name, 4, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
					(str_store_troop_name, 5, ":value_2"),
					(str_store_troop_name, 6, ":value_3"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_check_reg8_s4_rules_in_s5s_favor_in_quarrel_with_s6_"),
					(try_end),
					(call_script, "script_add_log_entry", 27, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader", ":value_3", ":value_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife"),
					(call_script, "script_troop_change_relation_with_troop", ":value_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader", 10),
					(call_script, "script_troop_change_relation_with_troop", ":value_3", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader", -20),
					(val_add, "$total_random_quarrel_changes", -10),
				(try_end),
			(else_try),
				(is_between, ":random_in_range_npc1_knight_1_1_wife", "trp_npc1", "trp_kingdom_1_lord"),
				(is_between, ":random_in_range_npc1_knight_1_1_wife_2", "trp_npc1", "trp_kingdom_1_lord"),
				(ge, ":var_7", -10),
				(this_or_next|troop_slot_eq, ":random_in_range_npc1_knight_1_1_wife", slot_troop_personalityclash_object, ":random_in_range_npc1_knight_1_1_wife_2"),
				(troop_slot_eq, ":random_in_range_npc1_knight_1_1_wife", slot_troop_personalityclash2_object, ":random_in_range_npc1_knight_1_1_wife_2"),
				(str_store_troop_name, 5, ":random_in_range_npc1_knight_1_1_wife"),
				(str_store_troop_name, 6, ":random_in_range_npc1_knight_1_1_wife_2"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_check_reg8_new_rivalry_generated_between_s5_and_s6"),
				(try_end),
				(call_script, "script_troop_change_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife", ":random_in_range_npc1_knight_1_1_wife_2", -30),
				(val_add, "$total_random_quarrel_changes", -30),
			(else_try),
				(eq, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2"),
				(ge, ":var_7", -10),
				(call_script, "script_cf_test_lord_incompatibility_to_s17", ":random_in_range_npc1_knight_1_1_wife", ":random_in_range_npc1_knight_1_1_wife_2"),
				(assign, ":var_16", reg0),
				(gt, ":var_16", 0),
				(lt, ":random_in_range_0_100", ":var_16"),
				(str_store_troop_name, 5, ":random_in_range_npc1_knight_1_1_wife"),
				(str_store_troop_name, 6, ":random_in_range_npc1_knight_1_1_wife_2"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_check_reg8_new_rivalry_generated_between_s5_and_s6"),
				(try_end),
				(call_script, "script_troop_change_relation_with_troop", ":random_in_range_npc1_knight_1_1_wife", ":random_in_range_npc1_knight_1_1_wife_2", -30),
				(val_add, "$total_random_quarrel_changes", -30),
			(else_try),
				(store_current_hours, ":current_hours"),
				(ge, ":current_hours", 24),
				(neq, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2"),
				(is_between, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(call_script, "script_cf_troop_can_intrigue", ":random_in_range_npc1_knight_1_1_wife_2", 0),
				(neq, ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2_leader"),
				(neq, ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
				(str_store_troop_name, 5, ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
				(str_store_troop_name, 6, ":random_in_range_npc1_knight_1_1_wife_2"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(display_message, "str_check_reg8_s5_attempts_to_win_over_s6"),
				(try_end),
				(call_script, "script_calculate_troop_political_factors_for_liege", ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_leader"),
				(assign, ":var_18", reg0),
				(call_script, "script_calculate_troop_political_factors_for_liege", ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife_2_leader"),
				(assign, ":var_19", reg0),
				(try_begin),
					(gt, ":var_18", ":var_19"),
					(try_begin),
						(ge, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":random_in_range_npc1_knight_1_1_wife_2"),
						(display_message, "@{!}DEBUG - {s4} faction changed in subornment"),
					(try_end),
					(call_script, "script_change_troop_faction", ":random_in_range_npc1_knight_1_1_wife_2", ":faction_of_troop_random_in_range_npc1_knight_1_1_wife"),
				(try_end),
			(try_end)
		]),

	("evaluate_realm_stability",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":script_param_1"),
				(val_add, ":var_2", 1),
				(call_script, "script_calculate_troop_political_factors_for_liege", ":troop", ":script_param_1_leader"),
				(try_begin),
					(le, reg3, -10),
					(val_add, ":var_4", 1),
				(else_try),
					(le, reg3, 10),
					(val_add, ":var_3", 1),
				(try_end),
			(try_end),
			(try_begin),
				(gt, ":var_2", 0),
				(store_mul, ":value", ":var_4", 100),
				(val_div, ":value", ":var_2"),
				(store_mul, ":value_2", ":var_3", 100),
				(val_div, ":value_2", ":var_2"),
				(store_mul, ":value_3", ":value", 2),
				(val_add, ":value_3", ":value_2"),
				(faction_set_slot, ":script_param_1", slot_faction_war_damage_inflicted_when_marshal_appointed, ":value_3"),
				(assign, reg0, ":value"),
				(assign, reg1, ":value_2"),
				(assign, reg1, ":value_2"),
			(else_try),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_faction_name, 1, ":script_param_1"),
					(display_message, "str_s1_has_no_lords"),
				(try_end),
				(assign, reg0, 0),
				(assign, reg1, 0),
			(try_end)
		]),

	("battle_political_consequences",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(str_store_party_name, 4, ":script_param_2"),
				(str_store_party_name, 5, ":script_param_1"),
				(display_message, "str_do_political_consequences_for_s4_victory_over_s5"),
			(try_end),
			(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", "p_main_party"),
				(assign, ":faction_of_party_script_param_2", "$players_kingdom"),
			(try_end),
			(party_get_template_id, ":template_id_script_param_1", ":script_param_1"),
			(try_begin),
				(this_or_next|eq, ":template_id_script_param_1", "pt_village_farmers"),
				(this_or_next|eq, ":template_id_script_param_1", "pt_kingdom_caravan_party"),
				(this_or_next|eq, ":template_id_script_param_1", "pt_village_farmers_r"),
				(this_or_next|eq, ":template_id_script_param_1", "pt_kingdom_caravan_party_r"),
				(this_or_next|eq, ":template_id_script_param_1", "pt_village_farmers_e"),
				(eq, ":template_id_script_param_1", "pt_kingdom_caravan_party_e"),
				(party_get_slot, ":script_param_1_ai_object", ":script_param_1", slot_party_ai_object),
				(party_get_slot, ":script_param_1_last_traded_center", ":script_param_1", slot_party_last_traded_center),
				(call_script, "script_add_log_entry", 3, ":script_param_2", ":script_param_1_last_traded_center", ":script_param_1_ai_object", ":faction_of_party_script_param_2"),
				(try_begin),
					(eq, "$cheat_mode", 2),
					(neg|is_between, ":faction_of_party_script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(str_store_string, 65, "str_bandits_attacked_a_party_on_the_roads_so_a_bounty_is_probably_available"),
					(call_script, "script_add_notification_menu", "mnu_debug_alert_from_s65", 0, 0),
					(str_store_party_name, 15, ":script_param_1_last_traded_center"),
					(str_store_party_name, 16, ":script_param_1_ai_object"),
					(display_message, "str_travellers_attacked_on_road_from_s15_to_s16"),
				(try_end),
			(try_end),
			(try_begin),
				(party_get_template_id, ":template_id_script_param_2", ":script_param_2"),
				(eq, ":template_id_script_param_2", "pt_kingdom_hero_party"),
				(neq, ":script_param_2", "p_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_2_0", ":script_param_2", 0),
				(is_between, ":party_stack_troop_id_script_param_2_0", "trp_npc1", "trp_knight_1_1_wife"),
				(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
				(party_collect_attachments_to_party, ":script_param_2", "p_temp_party_2"),
				(party_get_num_companion_stacks, ":num_companion_stacks_temp_party_2", "p_temp_party_2"),
				(try_for_range, ":number", 0, ":num_companion_stacks_temp_party_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_temp_party_2_number", "p_temp_party_2", ":number"),
					(is_between, ":party_stack_troop_id_temp_party_2_number", "trp_npc1", "trp_knight_1_1_wife"),
					(try_begin),
						(troop_get_slot, ":party_stack_troop_id_temp_party_2_number_leaded_party", ":party_stack_troop_id_temp_party_2_number", slot_troop_leaded_party),
						(party_is_active, ":party_stack_troop_id_temp_party_2_number_leaded_party"),
						(call_script, "script_cf_party_under_player_suggestion", ":party_stack_troop_id_temp_party_2_number_leaded_party"),
						(call_script, "script_add_log_entry", 35, "trp_player", -1, ":party_stack_troop_id_temp_party_2_number", -1),
					(try_end),
					(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_temp_party_2_number", ":party_stack_troop_id_temp_party_2_number"),
					(eq, ":faction_of_troop_party_stack_troop_id_temp_party_2_number", ":faction_of_party_script_param_2"),
					(neq, ":party_stack_troop_id_temp_party_2_number", ":party_stack_troop_id_script_param_2_0"),
					(try_begin),
						(eq, "$cheat_mode", 4),
						(str_store_troop_name, 15, ":party_stack_troop_id_temp_party_2_number"),
						(str_store_troop_name, 16, ":party_stack_troop_id_script_param_2_0"),
						(display_message, "str_s15_shares_joy_of_victory_with_s16"),
					(try_end),
					(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_temp_party_2_number", ":party_stack_troop_id_script_param_2_0", 3),
					(val_add, "$total_battle_ally_changes", 3),
				(try_end),
				(party_clear, "p_temp_party_2"),
			(try_end),
			(try_begin),
				(party_collect_attachments_to_party, ":script_param_1", "p_temp_party_2"),
				(party_get_num_companion_stacks, ":num_companion_stacks_temp_party_2", "p_temp_party_2"),
				(try_begin),
					(gt, "$marshall_defeated_in_battle", 0),
					(str_store_troop_name, 15, "$marshall_defeated_in_battle"),
					(store_faction_of_troop, ":faction_of_troop_marshall_defeated_in_battle", "$marshall_defeated_in_battle"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_faction_marshall_s15_involved_in_defeat"),
					(try_end),
				(else_try),
					(eq, "$marshall_defeated_in_battle", "trp_player"),
					(eq, ":script_param_1", "p_main_party"),
					(faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 0),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_player_faction_marshall_involved_in_defeat"),
					(try_end),
				(else_try),
					(assign, "$marshall_defeated_in_battle", -1),
				(try_end),
				(try_for_range, ":number", 0, ":num_companion_stacks_temp_party_2"),
					(party_stack_get_troop_id, ":party_stack_troop_id_temp_party_2_number", "p_temp_party_2", ":number"),
					(troop_slot_eq, ":party_stack_troop_id_temp_party_2_number", slot_troop_occupation, 2),
					(try_begin),
						(troop_get_slot, ":party_stack_troop_id_temp_party_2_number_leaded_party_2", ":party_stack_troop_id_temp_party_2_number", slot_troop_leaded_party),
						(party_is_active, ":party_stack_troop_id_temp_party_2_number_leaded_party_2"),
						(call_script, "script_cf_party_under_player_suggestion", ":party_stack_troop_id_temp_party_2_number_leaded_party"),
						(call_script, "script_add_log_entry", 36, "trp_player", -1, ":party_stack_troop_id_temp_party_2_number", -1),
					(try_end),
					(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_temp_party_2_number", ":party_stack_troop_id_temp_party_2_number"),
					(faction_get_slot, ":faction_of_troop_party_stack_troop_id_temp_party_2_number_leader", ":faction_of_troop_party_stack_troop_id_temp_party_2_number", slot_faction_leader),
					(neq, ":party_stack_troop_id_temp_party_2_number", ":faction_of_troop_party_stack_troop_id_temp_party_2_number_leader"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 14, ":party_stack_troop_id_temp_party_2_number"),
						(str_store_faction_name, 15, ":faction_of_troop_party_stack_troop_id_temp_party_2_number"),
						(display_message, "str_s14_of_s15_defeated_in_battle_loses_one_point_relation_with_liege"),
					(try_end),
					(try_begin),
						(this_or_next|neq, ":faction_of_troop_party_stack_troop_id_temp_party_2_number_leader", "trp_player"),
						(eq, "$players_kingdom", ":faction_of_troop_party_stack_troop_id_temp_party_2_number"),
						(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_temp_party_2_number", ":faction_of_troop_party_stack_troop_id_temp_party_2_number_leader", -1),
						(val_add, "$total_battle_ally_changes", -1),
					(try_end),
					(call_script, "script_faction_inflict_war_damage_on_faction", ":faction_of_party_script_param_2", ":faction_of_troop_party_stack_troop_id_temp_party_2_number", 10),
					(try_begin),
						(this_or_next|is_between, ":party_stack_troop_id_script_param_2_0", "trp_npc1", "trp_knight_1_1_wife"),
						(eq, ":party_stack_troop_id_script_param_2_0", "trp_player"),
						(this_or_next|neq, ":party_stack_troop_id_script_param_2_0", "trp_player"),
						(eq, ":script_param_2", "p_main_party"),
						(this_or_next|troop_slot_eq, ":party_stack_troop_id_temp_party_2_number", slot_lord_reputation_type, 2),
						(this_or_next|troop_slot_eq, ":party_stack_troop_id_temp_party_2_number", slot_lord_reputation_type, 3),
						(troop_slot_eq, ":party_stack_troop_id_temp_party_2_number", slot_lord_reputation_type, 5),
						(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_temp_party_2_number", ":party_stack_troop_id_script_param_2_0", -1),
						(val_add, "$total_battle_enemy_changes", -1),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 14, ":party_stack_troop_id_temp_party_2_number"),
							(str_store_troop_name, 15, ":party_stack_troop_id_script_param_2_0"),
							(display_message, "str_s14_defeated_in_battle_by_s15_loses_one_point_relation"),
						(try_end),
					(try_end),
					(gt, "$marshall_defeated_in_battle", -1),
					(eq, ":faction_of_troop_party_stack_troop_id_temp_party_2_number", ":faction_of_troop_marshall_defeated_in_battle"),
					(str_store_troop_name, 14, ":party_stack_troop_id_temp_party_2_number"),
					(call_script, "script_cf_test_lord_incompatibility_to_s17", ":party_stack_troop_id_temp_party_2_number", "$marshall_defeated_in_battle"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_s14_blames_s15_for_defeat"),
					(try_end),
					(call_script, "script_add_log_entry", 33, ":party_stack_troop_id_temp_party_2_number", "$marshall_defeated_in_battle", ":faction_of_troop_party_stack_troop_id_temp_party_2_number_leader", ":faction_of_party_script_param_2"),
					(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_temp_party_2_number", ":faction_of_troop_party_stack_troop_id_temp_party_2_number_leader", -15),
					(val_add, "$total_battle_ally_changes", -15),
					(neq, "$marshall_defeated_in_battle", ":faction_of_troop_party_stack_troop_id_temp_party_2_number_leader"),
					(call_script, "script_troop_change_relation_with_troop", ":party_stack_troop_id_temp_party_2_number", "$marshall_defeated_in_battle", -15),
					(val_add, "$total_battle_ally_changes", -15),
				(try_end),
				(party_clear, "p_temp_party_2"),
			(try_end)
		]),

	("faction_inflict_war_damage_on_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_add, ":value", ":script_param_2", 140),
			(val_sub, ":value", "fac_player_supporters_faction"),
			(faction_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
			(val_add, ":script_param_1_value", ":script_param_3"),
			(faction_set_slot, ":script_param_1", ":value", ":script_param_1_value"),
			(try_begin),
				(ge, "$cheat_mode", 1),
				(str_store_faction_name, 4, ":script_param_1"),
				(str_store_faction_name, 5, ":script_param_2"),
				(assign, reg3, ":script_param_1_value"),
				(assign, reg4, ":script_param_3"),
				(display_message, "@{!}{s4} inflicts {reg4} damage on {s5}, raising total inflicted to {reg3}"),
			(try_end),
			(faction_get_slot, ":script_param_2_marshall", ":script_param_2", slot_faction_marshall),
			(try_begin),
				(ge, ":script_param_2_marshall", 0),
				(gt, ":script_param_3", 0),
				(troop_get_slot, ":script_param_2_marshall_days_on_mission", ":script_param_2_marshall", slot_troop_days_on_mission),
				(val_add, ":script_param_2_marshall_days_on_mission", ":script_param_3"),
				(val_min, ":script_param_2_marshall_days_on_mission", 100),
				(troop_set_slot, ":script_param_2_marshall", slot_troop_days_on_mission, ":script_param_2_marshall_days_on_mission"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":script_param_2_marshall"),
					(assign, reg4, ":script_param_3"),
					(assign, reg5, ":script_param_2_marshall_days_on_mission"),
					(display_message, "@{!}War damage raises {s4}'s controversy by {reg4} to {reg5}"),
				(try_end),
			(try_end),
			(faction_get_slot, ":script_param_2_marshall", ":script_param_1", slot_faction_marshall),
			(try_begin),
				(ge, ":script_param_2_marshall", 0),
				(val_div, ":script_param_3", 3),
				(gt, ":script_param_3", 0),
				(troop_get_slot, ":script_param_2_marshall_days_on_mission", ":script_param_2_marshall", slot_troop_days_on_mission),
				(val_sub, ":script_param_2_marshall_days_on_mission", ":script_param_3"),
				(val_max, ":script_param_2_marshall_days_on_mission", 0),
				(troop_set_slot, ":script_param_2_marshall", slot_troop_days_on_mission, ":script_param_2_marshall_days_on_mission"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":script_param_2_marshall"),
					(assign, reg4, ":script_param_3"),
					(assign, reg5, ":script_param_2_marshall_days_on_mission"),
					(display_message, "@{!}War damage lowers {s4}'s controversy by {reg4} to {reg5}"),
				(try_end),
			(try_end)
		]),

	("calculate_troop_political_factors_for_liege",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(store_faction_of_troop, ":faction_of_troop_script_param_2", ":script_param_2"),
			(try_begin),
				(eq, ":faction_of_troop_script_param_2", "fac_player_faction"),
				(assign, ":faction_of_troop_script_param_2", "fac_player_supporters_faction"),
			(try_end),
			(assign, ":value", 0),
			(try_begin),
				(neg|faction_slot_eq, ":faction_of_troop_script_param_2", slot_faction_leader, ":script_param_2"),
				(assign, ":value", 1),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_troop_name, 32, ":script_param_2"),
					(display_message, "str_s32_is_undeclared_rebel"),
				(try_end),
			(try_end),
			(assign, ":value_2", 0),
			(assign, ":value_3", 0),
			(assign, ":var_8", 0),
			(assign, ":value_4", -1),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(is_between, ":script_param_1", "trp_npc1", "trp_knight_1_1_wife"),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(eq, ":value_4", -1),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(assign, ":value_4", ":party"),
				(try_end),
			(try_end),
			(assign, ":value_5", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(neq, ":party", ":value_4"),
				(gt, ":value_4", 0),
				(try_begin),
					(is_between, ":party", "p_town_1", "p_castle_1"),
					(assign, ":value_6", 9000),
				(else_try),
					(is_between, ":party", "p_castle_1", "p_village_1"),
					(assign, ":value_6", 6000),
				(else_try),
					(assign, ":value_6", 1000),
				(try_end),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_value_4_party", ":value_4", ":party"),
				(val_add, ":distance_to_party_from_party_value_4_party", 10),
				(val_div, ":value_6", ":distance_to_party_from_party_value_4_party"),
				(val_div, ":value_6", ":distance_to_party_from_party_value_4_party"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(try_begin),
					(eq, ":faction_of_party_party", ":faction_of_troop_script_param_2"),
					(assign, ":value_5", 1),
					(val_add, ":var_8", ":value_6"),
				(else_try),
					(neq, ":faction_of_party_party", ":faction_of_troop_script_param_2"),
					(store_relation, ":relation_faction_of_party_party_faction_of_troop_script_param_2", ":faction_of_party_party", ":faction_of_troop_script_param_2"),
					(try_begin),
						(this_or_next|eq, ":value", 1),
						(lt, ":relation_faction_of_party_party_faction_of_troop_script_param_2", 0),
						(val_div, ":value_6", 2),
					(else_try),
						(val_div, ":value_6", 4),
					(try_end),
					(val_sub, ":var_8", ":value_6"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_5", 0),
				(val_add, ":var_8", 20),
				(try_begin),
					(eq, "$cheat_mode", 2),
					(display_message, "str_small_bonus_for_no_base"),
				(try_end),
			(try_end),
			(val_clamp, ":var_8", -100, 100),
			(assign, ":var_16", ":var_8"),
			(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 1),
			(assign, ":var_17", reg0),
			(try_begin),
				(lt, ":var_17", 1),
				(this_or_next|lt, ":var_17", 0),
				(eq, ":script_param_1_lord_reputation_type", 4),
				(val_mul, ":var_16", 2),
			(else_try),
				(ge, ":var_17", 0),
				(this_or_next|ge, ":var_17", 1),
				(eq, ":script_param_1_lord_reputation_type", 1),
				(val_div, ":var_16", 2),
			(try_end),
			(assign, ":var_18", 0),
			(try_for_range, ":troop", "trp_kingdom_heroes_including_player_begin", "trp_knight_1_1_wife"),
				(assign, ":value_7", ":troop"),
				(this_or_next|troop_slot_eq, ":value_7", slot_troop_occupation, 2),
				(this_or_next|eq, ":value_7", "trp_kingdom_heroes_including_player_begin"),
				(is_between, ":value_7", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(store_faction_of_troop, ":faction_of_troop_value_7", ":value_7"),
				(try_begin),
					(eq, ":troop", "trp_kingdom_heroes_including_player_begin"),
					(assign, ":value_7", "trp_player"),
					(assign, ":faction_of_troop_value_7", "$players_kingdom"),
					(try_begin),
						(eq, "$g_talk_troop", ":script_param_1"),
						(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
						(eq, ":faction_of_troop_script_param_1", ":faction_of_troop_script_param_2"),
						(assign, ":faction_of_troop_value_7", 0),
					(try_end),
				(try_end),
				(eq, ":faction_of_troop_value_7", ":faction_of_troop_script_param_2"),
				(neg|faction_slot_eq, ":faction_of_troop_value_7", slot_faction_leader, ":value_7"),
				(neq, ":value", 1),
				(neg|is_between, ":value_7", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":value_7"),
				(assign, ":var_23", reg0),
				(call_script, "script_troop_get_relation_with_troop", ":value_7", ":script_param_2"),
				(assign, ":var_24", reg0),
				(store_mul, ":value_8", ":var_23", ":var_24"),
				(val_div, ":value_8", 100),
				(try_begin),
					(eq, "$cheat_mode", 2),
					(eq, "$g_talk_troop", ":script_param_1"),
					(str_store_faction_name, 20, ":faction_of_troop_value_7"),
					(str_store_troop_name, 15, ":value_7"),
					(assign, reg15, ":value_8"),
					(display_message, "str_s15_considered_member_of_faction_s20_weight_of_reg15"),
				(try_end),
				(val_add, ":var_18", ":value_8"),
			(try_end),
			(val_clamp, ":var_18", -100, 101),
			(try_begin),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2"),
				(assign, ":var_26", reg0),
				(val_add, ":var_18", ":var_26"),
			(try_end),
			(val_div, ":var_18", 2),
			(val_clamp, ":var_18", -100, 101),
			(assign, ":var_27", ":var_18"),
			(try_begin),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 6),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(val_mul, ":var_27", 2),
			(try_end),
			(assign, ":value_2", 0),
			(assign, ":var_28", ":value_2"),
			(try_begin),
				(eq, 1, 0),
				(neq, ":script_param_2", "trp_player"),
				(neq, ":script_param_2", "$supported_pretender"),
				(assign, ":value_9", 0),
				(assign, ":value_10", 0),
				(assign, ":value_11", 0),
			(else_try),
				(troop_get_slot, ":script_param_1_lord_recruitment_argument", ":script_param_1", slot_lord_recruitment_argument),
				(call_script, "script_rebellion_arguments", ":script_param_1", ":script_param_1_lord_recruitment_argument", ":script_param_2"),
				(assign, ":value_10", reg0),
				(assign, ":value_9", reg1),
				(store_add, ":value_11", ":value_10", ":value_9"),
				(store_skill_level, ":skill_level_persuasion_player", "skl_persuasion", "trp_player"),
				(try_begin),
					(gt, ":value_11", 0),
					(store_add, ":value_12", ":skill_level_persuasion_player", 5),
					(val_mul, ":value_12", 2),
					(val_div, ":value_12", 3),
					(val_mul, ":value_11", ":value_12"),
					(val_div, ":value_11", 10),
				(else_try),
					(lt, ":value_11", 0),
					(store_sub, ":value_13", 10, ":skill_level_persuasion_player"),
					(val_mul, ":value_11", ":value_13"),
					(val_div, ":value_11", 10),
				(try_end),
				(try_begin),
					(neq, ":script_param_2", "trp_player"),
					(neq, ":script_param_2", "$supported_pretender"),
					(val_div, ":value_9", 2),
					(val_div, ":value_10", 2),
					(val_div, ":value_11", 2),
				(try_end),
			(try_end),
			(try_begin),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(eq, ":faction_of_troop_script_param_1", ":faction_of_troop_script_param_2"),
				(assign, ":value_3", 0),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(store_sub, ":value_3", 60, "$player_right_to_rule"),
			(else_try),
				(troop_get_slot, ":script_param_1_original_faction", ":script_param_1", slot_troop_original_faction),
				(troop_get_slot, ":script_param_2_original_faction", ":script_param_2", slot_troop_original_faction),
				(eq, ":script_param_1_original_faction", ":script_param_2_original_faction"),
				(assign, ":value_3", 10),
			(else_try),
				(assign, ":value_3", 50),
			(try_end),
			(val_clamp, ":value_3", 0, 101),
			(assign, ":var_38", ":value_3"),
			(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
			(assign, ":var_39", reg0),
			(try_begin),
				(this_or_next|lt, ":var_39", 0),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(val_div, ":var_38", 2),
			(else_try),
				(this_or_next|ge, ":var_39", 1),
				(eq, ":script_param_1_lord_reputation_type", 7),
				(val_mul, ":var_38", 2),
			(try_end),
			(assign, reg1, ":var_8"),
			(assign, reg2, ":var_16"),
			(assign, reg3, ":var_18"),
			(assign, reg4, ":var_27"),
			(assign, reg5, ":value_2"),
			(assign, reg6, ":var_28"),
			(assign, reg7, ":value_9"),
			(assign, reg17, ":value_10"),
			(assign, reg8, ":value_11"),
			(assign, reg9, ":value_3"),
			(assign, reg10, ":var_38"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(eq, "$g_talk_troop", ":script_param_1"),
				(str_store_troop_name, 20, ":script_param_1"),
				(str_store_faction_name, 21, ":faction_of_troop_script_param_2"),
				(str_store_troop_name, 22, ":script_param_2"),
				(display_message, "@{!}G talk troop {s20} evaluates being vassal to {s22} of {s21}"),
				(display_message, "str_base_result_for_security_reg1"),
				(display_message, "str_result_for_security_weighted_by_personality_reg2"),
				(display_message, "str_base_result_for_political_connections_reg3"),
				(display_message, "str_result_for_political_connections_weighted_by_personality_reg4"),
				(try_begin),
					(this_or_next|eq, ":script_param_2", "trp_player"),
					(eq, ":script_param_2", "$supported_pretender"),
					(display_message, "str_result_for_argument_strength_reg7"),
					(display_message, "str_result_for_argument_appeal_reg17"),
					(display_message, "str_combined_result_for_argument_modified_by_persuasion_reg8"),
				(try_end),
				(display_message, "str_base_changing_sides_penalty_reg9"),
				(display_message, "str_changing_sides_penalty_weighted_by_personality_reg10"),
			(try_end),
			(store_add, ":value_14", ":var_16", ":var_27"),
			(val_add, ":value_14", ":var_28"),
			(val_add, ":value_14", ":value_11"),
			(val_sub, ":value_14", ":var_38"),
			(assign, reg0, ":value_14"),
			(try_begin),
				(eq, "$cheat_mode", 2),
				(display_message, "@{!}DEBUG -- Analyzing lord allegiances, combined bonuses and penalties = {reg0}"),
			(try_end)
		]),

	("cf_troop_can_intrigue",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(try_begin),
				(gt, ":script_param_1", 0),
				(troop_is_hero, ":script_param_1"),
				(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 15),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 0),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(party_is_active, ":script_param_1_leaded_party"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(eq, ":script_param_1", "$g_talk_troop"),
				(display_message, "str_intrigue_test_troop_party_is_active"),
			(try_end),
			(party_get_battle_opponent, ":battle_opponent_script_param_1_leaded_party", ":script_param_1_leaded_party"),
			(le, ":battle_opponent_script_param_1_leaded_party", 0),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(eq, ":script_param_1", "$g_talk_troop"),
				(display_message, "str_intrigue_test_troop_party_is_not_in_battle"),
			(try_end),
			(troop_slot_eq, ":script_param_1", slot_troop_prisoner_of_party, -1),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(eq, ":script_param_1", "$g_talk_troop"),
				(display_message, "str_intrigue_test_troop_is_not_prisoner"),
			(try_end),
			(party_get_attached_to, ":attached_to_script_param_1_leaded_party", ":script_param_1_leaded_party"),
			(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party", ":script_param_1_leaded_party"),
			(assign, ":value_2", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(neq, ":script_param_1", ":troop"),
				(eq, ":value_2", 0),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(party_is_active, ":troop_leaded_party"),
				(neq, ":script_param_1_leaded_party", ":troop_leaded_party"),
				(store_faction_of_party, ":faction_of_party_troop_leaded_party", ":troop_leaded_party"),
				(eq, ":faction_of_party_script_param_1_leaded_party", ":faction_of_party_troop_leaded_party"),
				(try_begin),
					(eq, ":attached_to_script_param_1_leaded_party", -1),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_troop_leaded_party", ":script_param_1_leaded_party", ":troop_leaded_party"),
					(lt, ":distance_to_party_from_party_script_param_1_leaded_party_troop_leaded_party", 3),
					(assign, ":value_2", 1),
				(else_try),
					(is_between, ":attached_to_script_param_1_leaded_party", "p_town_1", "p_village_1"),
					(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
					(eq, ":attached_to_script_param_1_leaded_party", ":attached_to_troop_leaded_party"),
					(assign, ":value_2", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(eq, ":script_param_1", "$g_talk_troop"),
				(display_message, "str_intrigue_test_troop_is_nearby"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 0),
			(try_end),
			(eq, ":value_2", 0)
		]),

	("troop_change_relation_with_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(call_script, "script_change_player_relation_with_troop", ":script_param_2", ":script_param_3"),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(call_script, "script_change_player_relation_with_troop", ":script_param_1", ":script_param_3"),
			(else_try),
				(eq, ":script_param_1", ":script_param_2"),
			(else_try),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2"),
				(store_add, ":value", reg0, ":script_param_3"),
				(val_clamp, ":value", -100, 101),
				(try_begin),
					(eq, ":value", 0),
					(assign, ":value", 1),
				(try_end),
				(store_add, ":value_2", ":script_param_2", 0),
				(troop_set_slot, ":script_param_1", ":value_2", ":value"),
				(store_add, ":value_3", ":script_param_1", 0),
				(troop_set_slot, ":script_param_2", ":value_3", ":value"),
			(try_end),
			(try_begin),
				(lt, ":script_param_3", -5),
				(try_begin),
					(eq, ":script_param_1", "trp_player"),
					(assign, ":var_7", "$players_kingdom"),
				(else_try),
					(store_faction_of_troop, ":var_7", ":script_param_1"),
				(try_end),
				(try_begin),
					(eq, ":script_param_2", "trp_player"),
					(assign, ":var_8", "$players_kingdom"),
				(else_try),
					(store_faction_of_troop, ":var_8", ":script_param_2"),
				(try_end),
				(eq, ":var_7", ":var_8"),
				(is_between, ":var_7", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(store_mul, ":value_4", ":script_param_3", -1),
				(troop_get_slot, ":script_param_1_days_on_mission", ":script_param_1", slot_troop_days_on_mission),
				(val_add, ":script_param_1_days_on_mission", ":value_4"),
				(val_min, ":script_param_1_days_on_mission", 100),
				(troop_set_slot, ":script_param_1", slot_troop_days_on_mission, ":script_param_1_days_on_mission"),
				(troop_get_slot, ":script_param_2_days_on_mission", ":script_param_2", slot_troop_days_on_mission),
				(val_add, ":script_param_2_days_on_mission", ":value_4"),
				(val_min, ":script_param_2_days_on_mission", 100),
				(troop_set_slot, ":script_param_2", slot_troop_days_on_mission, ":script_param_2_days_on_mission"),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(is_between, ":script_param_1", "trp_npc1", "trp_knight_1_1_wife"),
				(is_between, ":script_param_2", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(is_between, ":script_param_2", "trp_npc1", "trp_knight_1_1_wife"),
				(neq, ":script_param_1", ":script_param_2"),
				(try_begin),
					(gt, ":script_param_3", 0),
					(val_add, "$total_relation_adds", ":script_param_3"),
				(else_try),
					(val_sub, "$total_relation_subs", ":script_param_3"),
				(try_end),
			(try_end),
			(try_begin),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(store_faction_of_troop, ":faction_of_troop_script_param_2", ":script_param_2"),
				(faction_get_slot, ":faction_of_troop_script_param_1_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
				(eq, ":faction_of_troop_script_param_1", ":faction_of_troop_script_param_2"),
				(eq, ":script_param_2", ":faction_of_troop_script_param_1_leader"),
				(call_script, "script_troop_set_title_according_to_faction", ":script_param_1", ":faction_of_troop_script_param_1"),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 4),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(is_between, ":script_param_1", "trp_npc1", "trp_knight_1_1_wife"),
				(is_between, ":script_param_2", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(is_between, ":script_param_2", "trp_npc1", "trp_knight_1_1_wife"),
				(neq, ":script_param_1", ":script_param_2"),
				(str_store_troop_name, 20, ":script_param_1"),
				(str_store_troop_name, 15, ":script_param_2"),
				(assign, reg4, ":script_param_3"),
				(assign, reg14, ":value"),
				(display_message, "str_s20_relation_with_s15_changed_by_reg4_to_reg14"),
				(assign, reg4, "$total_relation_adds"),
				(display_message, "str_total_additions_reg4"),
				(assign, reg4, "$total_relation_subs"),
				(display_message, "str_total_subtractions_reg4"),
				(assign, reg4, "$total_courtship_quarrel_changes"),
				(display_message, "@{!}DEBUG -- Total courtship quarrel changes: {reg4}"),
				(assign, reg4, "$total_random_quarrel_changes"),
				(display_message, "@{!}DEBUG -- Total random quarrel changes: {reg4}"),
				(assign, reg4, "$total_battle_ally_changes"),
				(display_message, "@{!}DEBUG -- Total battle changes for allies: {reg4}"),
				(assign, reg4, "$total_battle_enemy_changes"),
				(display_message, "@{!}DEBUG -- Total battle changes for enemies: {reg4}"),
				(assign, reg4, "$total_promotion_changes"),
				(display_message, "@{!}DEBUG -- Total promotion changes: {reg4}"),
				(assign, reg4, "$total_feast_changes"),
				(display_message, "@{!}DEBUG -- Total feast changes: {reg4}"),
				(assign, reg4, "$total_policy_dispute_changes"),
				(assign, reg5, "$number_of_controversial_policy_decisions"),
				(display_message, "@{!}DEBUG -- Total policy dispute changes: {reg4} from {reg5} decisions"),
				(assign, reg4, "$total_indictment_changes"),
				(display_message, "@{!}DEBUG -- Total faction switch changes: {reg4}"),
				(assign, reg4, "$total_no_fief_changes"),
				(display_message, "@{!}DEBUG -- Total no fief changes: {reg4}"),
				(assign, reg4, "$total_relation_changes_through_convergence"),
				(display_message, "@{!}DEBUG -- Total changes through convergence: {reg4}"),
				(assign, reg4, "$total_vassal_days_responding_to_campaign"),
				(display_message, "@{!}DEBUG -- Total vassal responses to campaign: {reg4}"),
				(assign, reg4, "$total_vassal_days_on_campaign"),
				(display_message, "@{!}DEBUG -- Total vassal campaign days: {reg4}"),
				(val_max, "$total_vassal_days_on_campaign", 1),
				(store_mul, ":value_5", "$total_vassal_days_responding_to_campaign", 100),
				(val_div, ":value_5", "$total_vassal_days_on_campaign"),
				(assign, reg4, ":value_5"),
				(display_message, "@{!}DEBUG -- Vassal response rate: {reg4}"),
			(try_end)
		]),

	("troop_get_relation_with_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|lt, ":script_param_1", 0),
				(lt, ":script_param_2", 0),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_1", "trp_player"),
				(call_script, "script_troop_get_player_relation", ":script_param_2"),
				(assign, ":value", reg0),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(call_script, "script_troop_get_player_relation", ":script_param_1"),
				(assign, ":value", reg0),
			(else_try),
				(store_add, ":value_2", ":script_param_2", 0),
				(troop_get_slot, ":value", ":script_param_1", ":value_2"),
			(try_end),
			(val_clamp, ":value", -100, 101),
			(assign, reg0, ":value")
		]),

	("appoint_faction_marshall",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
			(faction_get_slot, ":script_param_1_marshall", ":script_param_1", slot_faction_marshall),
			(faction_set_slot, ":script_param_1", slot_faction_marshall, ":script_param_2"),
			(faction_get_slot, ":script_param_1_marshall", ":script_param_1", slot_faction_marshall),
			(try_begin),
				(ge, ":script_param_1_marshall", 0),
				(troop_get_slot, ":script_param_1_marshall_leaded_party", ":script_param_1_marshall", slot_troop_leaded_party),
				(party_is_active, ":script_param_1_marshall_leaded_party"),
				(party_set_marshall, ":script_param_1_marshall_leaded_party", 0),
			(try_end),
			(try_begin),
				(ge, ":script_param_2", 0),
				(troop_get_slot, ":script_param_2_leaded_party", ":script_param_2", slot_troop_leaded_party),
				(party_is_active, ":script_param_2_leaded_party"),
				(party_set_marshall, ":script_param_2_leaded_party", 1),
			(try_end),
			(try_begin),
				(neq, ":script_param_2", ":script_param_1_leader"),
				(neq, ":script_param_2", ":script_param_1_marshall"),
				(this_or_next|eq, ":script_param_2", "trp_player"),
				(is_between, ":script_param_2", "trp_npc1", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_2", slot_troop_occupation, 2),
				(this_or_next|eq, ":script_param_2", "trp_player"),
				(is_between, ":script_param_2", "trp_npc1", "trp_knight_1_1_wife"),
				(this_or_next|neq, ":script_param_1", "fac_player_supporters_faction"),
				(neg|check_quest_active, "qst_rebel_against_kingdom"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_faction_name, 15, ":script_param_1"),
					(display_message, "str_checking_lord_reactions_in_s15"),
				(try_end),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_2", ":script_param_1_leader", 5),
				(val_add, "$total_promotion_changes", 5),
				(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", ":script_param_1"),
				(assign, ":var_7", reg0),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", ":script_param_1"),
					(neq, ":troop", ":script_param_2"),
					(neq, ":troop", ":script_param_1_leader"),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_2", ":troop"),
					(store_sub, ":value", reg0, 10),
					(val_div, ":value", 15),
					(try_begin),
						(eq, ":script_param_2", "trp_player"),
						(ge, ":var_7", 50),
						(val_min, ":value", 0),
					(try_end),
					(neq, ":value", 0),
					(try_begin),
						(troop_slot_eq, ":troop", slot_troop_stance_on_faction_issue, ":script_param_2"),
						(val_add, ":value", 1),
						(val_max, ":value", 0),
					(try_end),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_1_leader", ":troop", ":value"),
					(val_add, "$total_promotion_changes", ":value"),
					(lt, ":value", -2),
					(store_random_in_range, ":random_in_range_1_10", 1, 10),
					(val_add, ":value", ":random_in_range_1_10"),
					(lt, ":value", 0),
					(str_store_troop_name, 14, ":troop"),
					(str_store_troop_name, 15, ":script_param_2"),
					(try_begin),
						(ge, ":var_7", 10),
						(this_or_next|ge, ":var_7", 50),
						(gt, "$g_player_chancellor", 0),
						(neg|troop_slot_eq, ":troop", slot_troop_met, 0),
						(display_message, "str_s14_protests_the_appointment_of_s15_as_marshall"),
					(else_try),
						(call_script, "script_dplmc_store_troop_is_eligible_for_affiliate_messages", ":troop"),
						(this_or_next|gt, reg0, 0),
						(eq, "$cheat_mode", 1),
						(display_message, "str_s14_protests_the_appointment_of_s15_as_marshall"),
					(try_end),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_1_leader", ":troop", -10),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_2", ":troop", -5),
					(val_add, "$total_promotion_changes", -15),
					(call_script, "script_add_log_entry", 32, ":troop", ":script_param_2", ":script_param_1_leader", "$g_encountered_party_faction"),
				(try_end),
			(try_end)
		]),

	("center_get_item_consumption",
		[]),

	("locate_player_minister",
		[
			(assign, ":value", "fac_player_supporters_faction"),
			(try_begin),
				(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
				(ge, reg0, 50),
				(assign, ":value", "$players_kingdom"),
			(try_end),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(lt, ":value_2", "p_town_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(this_or_next|eq, ":faction_of_party_party", ":value"),
				(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
				(neg|party_slot_ge, ":party", 7, "trp_npc1"),
				(assign, ":value_2", ":party"),
			(try_end),
			(troop_get_slot, ":g_player_minister_cur_center", "$g_player_minister", slot_troop_cur_center),
			(troop_set_slot, "$g_player_minister", slot_troop_cur_center, ":value_2"),
			(try_begin),
				(neq, ":g_player_minister_cur_center", ":party"),
				(str_store_party_name, 10, ":party"),
				(str_store_troop_name, 11, "$g_player_minister"),
				(display_message, "str_s11_relocates_to_s10"),
			(try_end)
		]),

	("lord_get_home_center",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(troop_get_slot, ":script_param_1_original_faction", ":script_param_1", slot_troop_original_faction),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(assign, ":value_3", 10),
				(try_begin),
					(is_between, ":party", "p_town_1", "p_castle_1"),
					(assign, ":value_3", 20),
				(try_end),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_home, ":party"),
					(val_add, ":value_3", 6),
				(else_try),
					(party_slot_eq, ":party", 402, ":script_param_1"),
					(val_add, ":value_3", 5),
				(else_try),
					(is_between, ":script_param_1_original_faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(party_slot_eq, ":party", slot_center_original_faction, ":script_param_1_original_faction"),
					(val_add, ":value_3", 4),
				(try_end),
				(gt, ":value_3", ":value_2"),
				(assign, ":value", ":party"),
				(assign, ":value_2", ":value_3"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_village_1"),
				(eq, ":value", -1),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(assign, ":value", ":party"),
			(try_end),
			(try_begin),
				(eq, ":value", -1),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(eq, ":value", -1),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(try_begin),
						(neg|is_between, ":party", "p_town_1", "p_village_1"),
						(party_get_slot, ":party_village_bound_center", ":party", slot_village_bound_center),
						(assign, ":value", ":party_village_bound_center"),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", -1),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(eq, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
				(is_between, "$g_player_court", "p_town_1", "p_village_1"),
				(store_faction_of_party, ":faction_of_party_g_player_court", "$g_player_court"),
				(eq, ":faction_of_party_g_player_court", "fac_player_supporters_faction"),
				(assign, ":value", "$g_player_court"),
			(try_end),
			(try_begin),
				(eq, ":value", -1),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(faction_get_slot, ":faction_of_troop_script_param_1_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
				(neq, ":script_param_1", ":faction_of_troop_script_param_1_leader"),
				(ge, ":faction_of_troop_script_param_1_leader", 0),
				(call_script, "script_lord_get_home_center", ":faction_of_troop_script_param_1_leader"),
				(gt, reg0, -1),
				(assign, ":value", reg0),
			(try_end),
			(try_begin),
				(eq, ":value", -1),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(try_for_range, ":party_2", "p_town_1", "p_village_1"),
					(eq, ":value", -1),
					(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
					(eq, ":faction_of_troop_script_param_1", ":faction_of_party_party_2"),
					(assign, ":value", ":party_2"),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("get_kingdom_lady_social_determinants",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", 0),
			(try_begin),
				(troop_slot_ge, ":script_param_1", 30, 0),
				(troop_get_slot, ":value_2", ":script_param_1", slot_troop_spouse),
			(else_try),
				(troop_slot_ge, ":script_param_1", 31, 0),
				(troop_get_slot, ":value_2", ":script_param_1", slot_troop_father),
			(else_try),
				(troop_slot_ge, ":script_param_1", 32, 0),
				(troop_get_slot, ":value_2", ":script_param_1", slot_troop_mother),
				(troop_slot_eq, ":value_2", slot_troop_occupation, 2),
			(else_try),
				(troop_slot_ge, ":script_param_1", 33, 0),
				(troop_get_slot, ":value_2", ":script_param_1", slot_troop_guardian),
			(try_end),
			(try_begin),
				(this_or_next|is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 6),
				(neg|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(assign, ":value_4", 1),
			(else_try),
				(assign, ":value_4", 0),
				(assign, ":value_2", ":script_param_1"),
			(try_end),
			(try_begin),
				(eq, ":value_4", 0),
				(call_script, "script_lord_get_home_center", ":script_param_1"),
				(assign, ":value", reg0),
				(is_between, ":value", "p_town_1", "p_village_1"),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 6),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(gt, ":value_2", -1),
				(troop_get_slot, ":value_2_leaded_party", ":value_2", slot_troop_leaded_party),
				(party_is_active, ":value_2_leaded_party"),
				(party_get_attached_to, ":attached_to_value_2_leaded_party", ":value_2_leaded_party"),
				(eq, ":attached_to_value_2_leaded_party", ":faction_of_troop_script_param_1_ai_object"),
				(is_between, ":faction_of_troop_script_param_1_ai_object", "p_town_1", "p_village_1"),
				(assign, ":value", ":faction_of_troop_script_param_1_ai_object"),
			(else_try),
				(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
				(try_begin),
					(is_between, "$g_player_court", "p_town_1", "p_village_1"),
					(assign, ":value", "$g_player_court"),
				(else_try),
					(troop_get_slot, ":script_param_1_cur_center", ":script_param_1", slot_troop_cur_center),
					(is_between, ":script_param_1_cur_center", "p_town_1", "p_village_1"),
					(party_slot_eq, ":script_param_1_cur_center", slot_town_lord, "trp_player"),
					(assign, ":value", ":script_param_1_cur_center"),
				(try_end),
				(is_between, ":value", "p_town_1", "p_village_1"),
			(else_try),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(this_or_next|eq, ":faction_of_troop_script_param_1", ":faction_of_party_party"),
					(neg|is_between, ":faction_of_troop_script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
					(gt, ":party_town_lord", -1),
					(call_script, "script_troop_get_family_relation_to_troop", ":script_param_1", ":party_town_lord"),
					(try_begin),
						(eq, ":value_4", 0),
						(eq, ":party_town_lord", ":script_param_1"),
						(val_max, reg0, 16),
					(try_end),
					(try_begin),
						(this_or_next|is_between, ":faction_of_troop_script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
						(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
						(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":party_town_lord"),
						(val_max, reg0, 1),
					(try_end),
					(try_begin),
						(eq, "$cheat_mode", 2),
						(str_store_troop_name, 3, ":script_param_1"),
						(str_store_troop_name, 4, ":party_town_lord"),
						(str_store_party_name, 5, ":party"),
						(display_message, "str_checking_s3_at_s5_with_s11_relationship_with_s4_score_reg0"),
						(str_clear, 11),
					(try_end),
					(gt, reg0, ":value_3"),
					(assign, ":value_3", reg0),
					(assign, ":value", ":party"),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2"),
			(assign, reg1, ":value")
		]),

	("age_troop_one_year",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", reg0),
			(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
			(assign, ":var_3", reg0),
			(assign, reg0, ":var_2"),
			(troop_get_slot, ":script_param_1_age", ":script_param_1", slot_troop_age),
			(troop_get_slot, ":script_param_1_age_appearance", ":script_param_1", slot_troop_age_appearance),
			(val_add, ":script_param_1_age", 1),
			(store_random_in_range, ":random_in_range_1_5", 1, 5),
			(try_begin),
				(eq, ":var_3", 1),
			(try_end),
			(val_add, ":script_param_1_age_appearance", ":random_in_range_1_5"),
			(try_begin),
				(gt, ":script_param_1_age", 45),
				(store_attribute_level, ":attribute_level_script_param_1_0", ":script_param_1", 0),
				(store_attribute_level, ":attribute_level_script_param_1_1", ":script_param_1", 1),
				(store_random_in_range, ":random_in_range_0_50", 0, 50),
				(try_begin),
					(lt, ":random_in_range_0_50", ":attribute_level_script_param_1_0"),
					(troop_raise_attribute, ":script_param_1", 0, -1),
				(try_end),
				(try_begin),
					(lt, ":random_in_range_0_50", ":attribute_level_script_param_1_1"),
					(troop_raise_attribute, ":script_param_1", 1, -1),
				(try_end),
			(try_end),
			(val_clamp, ":script_param_1_age_appearance", 1, 100),
			(troop_set_slot, ":script_param_1", slot_troop_age, ":script_param_1_age"),
			(troop_set_slot, ":script_param_1", slot_troop_age_appearance, ":script_param_1_age_appearance"),
			(troop_set_age, ":script_param_1", ":script_param_1_age_appearance")
		]),

	("init_troop_age",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(gt, ":script_param_2", 20),
				(troop_set_slot, ":script_param_1", slot_troop_age, 20),
			(else_try),
				(troop_set_slot, ":script_param_1", slot_troop_age, ":script_param_2"),
			(try_end),
			(store_sub, ":value", ":script_param_2", 20),
			(troop_set_age, ":script_param_1", 0),
			(try_begin),
				(gt, ":value", 0),
				(try_for_range, ":unused", 0, ":value"),
					(call_script, "script_age_troop_one_year", ":script_param_1"),
				(try_end),
			(try_end)
		]),

	("assign_troop_love_interests",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", reg0),
			(assign, ":var_3", reg1),
			(try_begin),
				(this_or_next|is_between, ":script_param_1", "trp_knight_1_1", "trp_kingdom_1_pretender"),
				(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(troop_slot_eq, ":script_param_1", slot_troop_spouse, -1),
				(troop_slot_eq, ":script_param_1", slot_troop_betrothed, -1),
				(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
				(assign, ":value", reg0),
				(try_begin),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 8),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 22),
					(assign, ":value", 2),
				(try_end),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(try_begin),
					(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_get_slot, ":script_param_1_personalitymatch_object", ":script_param_1", slot_troop_personalitymatch_object),
					(is_between, ":script_param_1_personalitymatch_object", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_script_param_1_personalitymatch_object", ":script_param_1_personalitymatch_object"),
					(eq, ":faction_of_troop_script_param_1", ":faction_of_troop_script_param_1_personalitymatch_object"),
					(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", ":script_param_1_personalitymatch_object"),
					(lt, reg0, 2),
					(call_script, "script_dplmc_store_troop_is_female", ":script_param_1_personalitymatch_object"),
					(neq, ":value", reg0),
					(neq, ":script_param_1_personalitymatch_object", ":script_param_1"),
					(neg|troop_slot_ge, ":script_param_1_personalitymatch_object", 2, 11),
					(troop_slot_ge, ":script_param_1_personalitymatch_object", 2, 2),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_1_personalitymatch_object"),
					(ge, reg0, 0),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_love_interest_1, ":script_param_1_personalitymatch_object"),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_love_interest_2, ":script_param_1_personalitymatch_object"),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_love_interest_3, ":script_param_1_personalitymatch_object"),
					(try_begin),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_1, -1),
						(troop_slot_eq, ":script_param_1", slot_troop_love_interest_1, 0),
						(troop_set_slot, ":script_param_1", slot_troop_love_interest_1, ":script_param_1_personalitymatch_object"),
					(else_try),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_2, -1),
						(troop_slot_eq, ":script_param_1", slot_troop_love_interest_2, 0),
						(troop_set_slot, ":script_param_1", slot_troop_love_interest_2, ":script_param_1_personalitymatch_object"),
					(else_try),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_3, -1),
						(troop_slot_eq, ":script_param_1", slot_troop_love_interest_3, 0),
						(troop_set_slot, ":script_param_1", slot_troop_love_interest_3, ":script_param_1_personalitymatch_object"),
					(try_end),
				(try_end),
				(try_for_range, ":unused", 0, 50),
					(store_random_in_range, ":script_param_1_personalitymatch_object", "trp_knight_1_1_wife", "trp_heroes_end"),
					(troop_slot_eq, ":script_param_1_personalitymatch_object", slot_troop_spouse, -1),
					(store_faction_of_troop, ":faction_of_troop_script_param_1_personalitymatch_object", ":script_param_1_personalitymatch_object"),
					(eq, ":faction_of_troop_script_param_1", ":faction_of_troop_script_param_1_personalitymatch_object"),
					(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", ":script_param_1_personalitymatch_object"),
					(lt, reg0, 2),
					(call_script, "script_dplmc_store_troop_is_female", ":script_param_1_personalitymatch_object"),
					(neq, ":value", reg0),
					(neq, ":script_param_1_personalitymatch_object", ":script_param_1"),
					(neg|troop_slot_ge, ":script_param_1_personalitymatch_object", 2, 11),
					(troop_slot_ge, ":script_param_1_personalitymatch_object", 2, 2),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_1_personalitymatch_object"),
					(eq, reg0, 0),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_love_interest_1, ":script_param_1_personalitymatch_object"),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_love_interest_2, ":script_param_1_personalitymatch_object"),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_love_interest_3, ":script_param_1_personalitymatch_object"),
					(try_begin),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_1, -1),
						(troop_slot_eq, ":script_param_1", slot_troop_love_interest_1, 0),
						(troop_set_slot, ":script_param_1", slot_troop_love_interest_1, ":script_param_1_personalitymatch_object"),
					(else_try),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_2, -1),
						(troop_slot_eq, ":script_param_1", slot_troop_love_interest_2, 0),
						(troop_set_slot, ":script_param_1", slot_troop_love_interest_2, ":script_param_1_personalitymatch_object"),
					(else_try),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_3, -1),
						(troop_slot_eq, ":script_param_1", slot_troop_love_interest_3, 0),
						(troop_set_slot, ":script_param_1", slot_troop_love_interest_3, ":script_param_1_personalitymatch_object"),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg1, ":var_3"),
			(assign, reg0, ":var_2")
		]),

	("faction_conclude_feast",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(str_store_faction_name, 3, ":script_param_1"),
			(str_store_party_name, 4, ":script_param_2"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_s3_feast_concludes_at_s4"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "fac_player_faction"),
				(assign, ":script_param_1", "$players_kingdom"),
			(try_end),
			(party_set_slot, ":script_param_2", slot_town_has_tournament, 0),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_1", ":faction_of_troop_troop"),
				(val_add, ":var_3", 1),
				(troop_slot_eq, ":troop", slot_troop_cur_center, ":script_param_2"),
				(val_add, ":var_4", 1),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 8),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 7),
				(this_or_next|troop_slot_eq, ":troop", slot_troop_occupation, 5),
				(troop_slot_eq, ":troop", slot_troop_occupation, 6),
				(troop_get_slot, ":troop_betrothed", ":troop", slot_troop_betrothed),
				(gt, ":troop_betrothed", 0),
				(troop_get_slot, ":troop_betrothed_leaded_party", ":troop_betrothed", slot_troop_leaded_party),
				(party_is_active, ":troop_betrothed_leaded_party"),
				(party_get_attached_to, ":attached_to_troop_betrothed_leaded_party", ":troop_betrothed_leaded_party"),
				(eq, ":attached_to_troop_betrothed_leaded_party", ":script_param_2"),
				(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop"),
				(store_faction_of_troop, ":faction_of_troop_troop_betrothed", ":troop_betrothed"),
				(eq, ":faction_of_troop_troop_betrothed", ":faction_of_troop_troop_2"),
				(eq, ":faction_of_troop_troop_2", ":script_param_1"),
				(store_current_hours, ":current_hours"),
				(troop_get_slot, ":troop_betrothal_time", ":troop", slot_troop_betrothal_time),
				(val_sub, ":current_hours", ":troop_betrothal_time"),
				(ge, ":current_hours", 144),
				(call_script, "script_get_kingdom_lady_social_determinants", ":troop"),
				(assign, ":var_14", reg1),
				(neq, ":troop", "trp_player"),
				(neq, ":troop_betrothed", "trp_player"),
				(party_get_slot, ":script_param_2_town_lord", ":script_param_2", slot_town_lord),
				(assign, ":value", 0),
				(try_begin),
					(eq, ":script_param_2", ":var_14"),
					(assign, ":value", 1),
				(else_try),
					(ge, ":script_param_2_town_lord", 0),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_father, ":script_param_2_town_lord"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_mother, ":script_param_2_town_lord"),
					(troop_slot_eq, ":troop", slot_troop_guardian, ":script_param_2_town_lord"),
					(assign, ":value", 1),
				(else_try),
					(ge, ":current_hours", 480),
					(ge, ":script_param_2_town_lord", 0),
					(this_or_next|eq, ":troop", ":script_param_2_town_lord"),
					(this_or_next|eq, ":troop_betrothed", ":script_param_2_town_lord"),
					(this_or_next|troop_slot_eq, ":troop_betrothed", slot_troop_father, ":script_param_2_town_lord"),
					(troop_slot_eq, ":troop_betrothed", slot_troop_mother, ":script_param_2_town_lord"),
					(assign, ":value", 1),
				(else_try),
					(ge, ":current_hours", 1440),
					(ge, ":script_param_2_town_lord", 0),
					(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_2_town_lord", ":troop"),
					(assign, ":var_17", reg0),
					(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_2_town_lord", ":troop_betrothed"),
					(this_or_next|faction_slot_eq, ":faction_of_troop_troop", slot_faction_leader, ":script_param_2_town_lord"),
					(this_or_next|ge, reg0, 1),
					(ge, ":var_17", 1),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(call_script, "script_courtship_event_bride_marry_groom", ":troop", ":troop_betrothed", 0),
			(try_end),
			(party_get_slot, ":script_param_2_town_lord_2", ":script_param_2", slot_town_lord),
			(assign, ":value_2", 0),
			(try_begin),
				(check_quest_active, "qst_organize_feast"),
				(quest_slot_eq, "qst_organize_feast", slot_quest_target_center, ":script_param_2"),
				(assign, ":script_param_2_town_lord_2", "trp_player"),
				(assign, ":var_20", 400),
				(call_script, "script_succeed_quest", "qst_organize_feast"),
				(call_script, "script_end_quest", "qst_organize_feast"),
				(call_script, "script_internal_politics_rate_feast_to_s9", "trp_household_possessions", ":var_20", "$players_kingdom", 1),
				(assign, ":value_2", reg0),
			(else_try),
				(assign, ":value_2", 60),
			(try_end),
			(try_begin),
				(ge, "$cheat_mode", 1),
				(str_store_troop_name, 4, ":script_param_2_town_lord_2"),
				(assign, reg4, ":value_2"),
				(display_message, "@{!}DEBUG - {s4}'s feast has rating of {reg4}"),
			(try_end),
			(try_begin),
				(ge, ":script_param_2_town_lord_2", 0),
				(store_div, ":value_3", ":value_2", 3),
				(call_script, "script_change_troop_renown", ":script_param_2_town_lord_2", ":value_3"),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
					(party_is_active, ":troop_leaded_party"),
					(party_get_attached_to, ":attached_to_troop_leaded_party", ":troop_leaded_party"),
					(eq, ":attached_to_troop_leaded_party", ":script_param_2"),
					(assign, ":var_24", ":value_2"),
					(val_div, ":var_24", 20),
					(try_begin),
						(eq, ":script_param_2_town_lord_2", "trp_player"),
						(val_sub, ":var_24", 1),
						(val_max, ":var_24", 0),
					(try_end),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_2_town_lord_2", ":troop", ":var_24"),
					(val_add, "$total_feast_changes", ":var_24"),
				(try_end),
			(try_end),
			(assign, reg3, ":var_4"),
			(assign, reg4, ":var_3"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "str_attendance_reg3_nobles_out_of_reg4"),
			(try_end)
		]),

	("lady_evaluate_troop_as_suitor",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_troop_get_romantic_chemistry_with_troop", ":script_param_1", ":script_param_2"),
			(assign, ":var_3", reg0),
			(try_begin),
				(call_script, "script_cf_test_lord_incompatibility_to_s17", ":script_param_1", ":script_param_2"),
			(try_end),
			(store_sub, ":value", 0, reg0),
			(assign, reg2, ":value"),
			(try_begin),
				(troop_get_slot, ":script_param_2_renown", ":script_param_2", slot_troop_renown),
				(val_div, ":script_param_2_renown", 20),
				(try_begin),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 21),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 24),
					(val_mul, ":script_param_2_renown", 2),
					(val_sub, ":script_param_2_renown", 15),
				(try_end),
			(try_end),
			(store_add, ":value_2", ":script_param_2_renown", ":value"),
			(val_add, ":value_2", ":var_3"),
			(assign, reg0, ":value_2")
		]),

	("courtship_event_troop_court_lady",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":script_param_2_love_interests_end", ":script_param_2", slot_troop_love_interests_end),
			(troop_set_slot, ":script_param_2", slot_troop_love_interests_end, ":script_param_1"),
			(try_begin),
				(eq, ":script_param_2_love_interests_end", "trp_player"),
				(troop_slot_ge, ":script_param_2", 5, 2),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", "trp_player"),
				(assign, ":var_4", reg0),
				(try_begin),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(gt, ":var_4", -20),
					(call_script, "script_add_log_entry", 31, ":script_param_1", "trp_player", ":script_param_2", 0),
				(else_try),
					(is_between, ":var_4", -5, -25),
					(call_script, "script_add_log_entry", 31, ":script_param_1", "trp_player", ":script_param_2", 0),
				(try_end),
			(else_try),
				(neq, ":script_param_2_love_interests_end", "trp_player"),
				(neq, ":script_param_1", ":script_param_2_love_interests_end"),
				(ge, ":script_param_2_love_interests_end", "trp_npc1"),
				(call_script, "script_cf_test_lord_incompatibility_to_s17", ":script_param_1", ":script_param_2_love_interests_end"),
				(call_script, "script_add_log_entry", 31, ":script_param_1", ":script_param_2_love_interests_end", ":script_param_2", 0),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2_love_interests_end"),
				(ge, reg0, 0),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_1", ":script_param_2_love_interests_end", -20),
				(val_add, "$total_courtship_quarrel_changes", -20),
			(else_try),
				(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
				(neq, ":script_param_1", ":script_param_2_love_interests_end"),
				(ge, ":script_param_2_love_interests_end", "trp_npc1"),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2_love_interests_end"),
				(lt, reg0, 10),
				(call_script, "script_add_log_entry", 31, ":script_param_1", ":script_param_2_love_interests_end", ":script_param_2", 0),
				(ge, reg0, 0),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_1", ":script_param_2_love_interests_end", -20),
				(val_add, "$total_courtship_quarrel_changes", -20),
			(try_end),
			(call_script, "script_lady_evaluate_troop_as_suitor", ":script_param_2", ":script_param_1"),
			(store_random_in_range, ":random_in_range_5_16", 5, 16),
			(store_div, ":value", reg0, ":random_in_range_5_16"),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_2", ":script_param_1"),
			(assign, ":var_7", reg0),
			(call_script, "script_troop_change_relation_with_troop", ":script_param_2", ":script_param_1", ":value"),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_2", ":script_param_1"),
			(assign, ":var_8", reg0),
			(try_begin),
				(ge, ":var_8", 10),
				(lt, ":var_7", 10),
				(call_script, "script_add_log_entry", 51, ":script_param_2", 0, ":script_param_1", 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "str_note__favor_event_logged"),
				(try_end),
			(else_try),
				(this_or_next|lt, ":var_8", -20),
				(ge, ":var_8", 20),
				(call_script, "script_get_kingdom_lady_social_determinants", ":script_param_2"),
				(assign, ":var_9", reg0),
				(ge, ":var_9", 0),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":var_9"),
				(assign, ":var_10", reg0),
				(assign, ":value_2", -1),
				(assign, ":value_3", -1),
				(assign, ":value_4", ":var_10"),
				(assign, ":value_5", -1),
				(try_for_range, ":troop", "trp_knight_1_1", "trp_kingdom_1_pretender"),
					(neq, ":troop", ":script_param_1"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_love_interest_1, ":script_param_2"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_love_interest_2, ":script_param_2"),
					(troop_slot_eq, ":troop", slot_troop_love_interest_3, ":script_param_2"),
					(try_begin),
						(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_2"),
						(gt, reg0, ":value_2"),
						(assign, ":value_3", ":troop"),
						(assign, ":value_2", reg0),
					(try_end),
					(try_begin),
						(call_script, "script_troop_get_relation_with_troop", ":troop", ":var_9"),
						(gt, reg0, ":value_4"),
						(assign, ":value_5", ":troop"),
						(assign, ":value_4", reg0),
					(try_end),
				(try_end),
				(try_begin),
					(lt, ":var_8", -20),
					(this_or_next|troop_slot_eq, ":var_9", slot_lord_reputation_type, 3),
					(this_or_next|troop_slot_eq, ":var_9", slot_lord_reputation_type, 5),
					(troop_slot_eq, ":var_9", slot_lord_reputation_type, 2),
					(eq, ":value_5", -1),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
					(troop_slot_eq, ":script_param_1", slot_troop_betrothed, -1),
					(troop_slot_eq, ":script_param_2", slot_troop_betrothed, -1),
					(call_script, "script_add_log_entry", 53, ":script_param_2", 0, ":script_param_1", 0),
					(troop_set_slot, ":script_param_1", slot_troop_betrothed, ":script_param_2"),
					(troop_set_slot, ":script_param_2", slot_troop_betrothed, ":script_param_1"),
					(store_current_hours, ":current_hours"),
					(troop_set_slot, ":script_param_2", slot_troop_betrothal_time, ":current_hours"),
					(troop_set_slot, ":script_param_1", slot_troop_betrothal_time, ":current_hours"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_result_lady_forced_to_agree_to_engagement"),
					(try_end),
				(else_try),
					(lt, ":var_8", -20),
					(call_script, "script_add_log_entry", 54, ":script_param_2", 0, ":script_param_1", 0),
					(call_script, "script_courtship_event_lady_break_relation_with_suitor", ":script_param_2", ":script_param_1"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_result_lady_rejects_suitor"),
					(try_end),
				(else_try),
					(gt, ":var_8", 20),
					(gt, ":var_10", 0),
					(eq, ":value_3", -1),
					(troop_slot_eq, ":script_param_1", slot_troop_betrothed, -1),
					(troop_slot_eq, ":script_param_2", slot_troop_betrothed, -1),
					(call_script, "script_add_log_entry", 52, ":script_param_2", 0, ":script_param_1", 0),
					(troop_set_slot, ":script_param_1", slot_troop_betrothed, ":script_param_2"),
					(troop_set_slot, ":script_param_2", slot_troop_betrothed, ":script_param_1"),
					(store_current_hours, ":current_hours"),
					(troop_set_slot, ":script_param_2", slot_troop_betrothal_time, ":current_hours"),
					(troop_set_slot, ":script_param_1", slot_troop_betrothal_time, ":current_hours"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":script_param_2"),
						(str_store_troop_name, 5, ":script_param_1"),
						(display_message, "str_result_happy_engagement_between_s4_and_s5"),
					(try_end),
				(else_try),
					(gt, ":var_8", 20),
					(eq, ":value_3", -1),
					(this_or_next|troop_slot_eq, ":var_9", slot_lord_reputation_type, 22),
					(troop_slot_eq, ":var_9", slot_lord_reputation_type, 24),
					(troop_slot_eq, ":script_param_1", slot_troop_betrothed, -1),
					(troop_slot_eq, ":script_param_2", slot_troop_betrothed, -1),
					(call_script, "script_courtship_event_bride_marry_groom", ":script_param_2", ":script_param_1", 1),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":script_param_2"),
						(str_store_troop_name, 5, ":script_param_1"),
						(display_message, "str_result_s4_elopes_with_s5"),
					(try_end),
				(else_try),
					(troop_slot_eq, ":script_param_2", slot_lord_reputation_type, 21),
					(eq, ":value_5", -1),
					(gt, ":var_10", 4),
					(store_random_in_range, ":random_in_range_5_16", 0, 5),
					(eq, ":random_in_range_5_16", 0),
					(troop_slot_eq, ":script_param_1", slot_troop_betrothed, -1),
					(troop_slot_eq, ":script_param_2", slot_troop_betrothed, -1),
					(call_script, "script_add_log_entry", 59, ":script_param_2", 0, ":script_param_1", 0),
					(troop_set_slot, ":script_param_1", slot_troop_betrothed, ":script_param_2"),
					(troop_set_slot, ":script_param_2", slot_troop_betrothed, ":script_param_1"),
					(store_current_hours, ":current_hours"),
					(troop_set_slot, ":script_param_2", slot_troop_betrothal_time, ":current_hours"),
					(troop_set_slot, ":script_param_1", slot_troop_betrothal_time, ":current_hours"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 4, ":script_param_2"),
						(str_store_troop_name, 5, ":script_param_1"),
						(display_message, "str_result_s4_reluctantly_agrees_to_engagement_with_s5"),
					(try_end),
				(else_try),
					(gt, ":var_8", 20),
					(store_random_in_range, reg3, 0, 3),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(display_message, "str_result_stalemate_patience_roll_=_reg3"),
					(try_end),
					(eq, reg3, 0),
					(call_script, "script_add_log_entry", 58, ":script_param_2", 0, ":script_param_1", 0),
					(call_script, "script_courtship_event_lady_break_relation_with_suitor", ":script_param_2", ":script_param_1"),
				(try_end),
			(try_end)
		]),

	("courtship_event_lady_break_relation_with_suitor",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_range, ":number", 35, 38),
				(troop_slot_eq, ":script_param_2", ":number", ":script_param_1"),
				(troop_set_slot, ":script_param_2", ":number", -1),
			(try_end),
			(call_script, "script_assign_troop_love_interests", ":script_param_2"),
			(try_begin),
				(troop_slot_eq, ":script_param_1", slot_troop_betrothed, ":script_param_2"),
				(troop_set_slot, ":script_param_1", slot_troop_betrothed, -1),
			(try_end),
			(try_begin),
				(troop_slot_eq, ":script_param_2", slot_troop_betrothed, ":script_param_1"),
				(troop_set_slot, ":script_param_2", slot_troop_betrothed, -1),
			(try_end)
		]),

	("courtship_event_bride_marry_groom",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(assign, ":value", "$g_encountered_party"),
			(else_try),
				(troop_get_slot, ":value", ":script_param_1", slot_troop_cur_center),
				(lt, ":value", 1),
				(troop_get_slot, ":value", ":script_param_2", slot_troop_cur_center),
			(try_end),
			(store_faction_of_troop, ":faction_of_troop_script_param_2", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_3", 0),
				(call_script, "script_add_log_entry", 61, ":script_param_1", ":value", ":script_param_2", 0),
			(else_try),
				(call_script, "script_add_log_entry", 57, ":script_param_1", ":value", ":script_param_2", 0),
			(try_end),
			(str_store_troop_name, 3, ":script_param_1"),
			(str_store_troop_name, 4, ":script_param_2"),
			(str_store_party_name, 5, ":value"),
			(try_begin),
				(display_log_message, "str_s3_marries_s4_at_s5"),
			(try_end),
			(troop_set_slot, ":script_param_1", slot_troop_spouse, ":script_param_2"),
			(troop_set_slot, ":script_param_2", slot_troop_spouse, ":script_param_1"),
			(try_for_range, ":number", 35, 38),
				(troop_set_slot, ":script_param_2", ":number", 0),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(try_for_range, ":number", 35, 38),
					(troop_slot_eq, ":troop", ":number", ":script_param_1"),
					(call_script, "script_courtship_event_lady_break_relation_with_suitor", ":script_param_1", ":troop"),
				(try_end),
			(try_end),
			(troop_set_slot, ":script_param_1", slot_troop_betrothed, -1),
			(troop_set_slot, ":script_param_2", slot_troop_betrothed, -1),
			(try_for_range, ":troop_2", "trp_npc1", "trp_heroes_end"),
				(neq, ":troop_2", ":script_param_1"),
				(neq, ":troop_2", ":script_param_2"),
				(call_script, "script_troop_get_family_relation_to_troop", ":script_param_1", ":troop_2"),
				(gt, reg0, 0),
				(store_div, ":value_2", reg0, 3),
				(try_begin),
					(eq, ":script_param_3", 1),
					(val_mul, ":value_2", -2),
				(try_end),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_2", ":troop_2", ":value_2"),
				(val_add, "$total_courtship_quarrel_changes", ":value_2"),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_2", "trp_player"),
				(eq, ":script_param_1", "trp_player"),
				(call_script, "script_change_player_right_to_rule", 15),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(check_quest_active, "qst_wed_betrothed"),
				(call_script, "script_succeed_quest", "qst_wed_betrothed"),
				(call_script, "script_end_quest", "qst_wed_betrothed"),
			(try_end),
			(try_begin),
				(check_quest_active, "qst_visit_lady"),
				(quest_slot_eq, "qst_visit_lady", slot_quest_giver_troop, ":script_param_1"),
				(call_script, "script_abort_quest", "qst_visit_lady", 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(check_quest_active, "qst_visit_lady"),
				(call_script, "script_abort_quest", "qst_visit_lady", 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(check_quest_active, "qst_duel_courtship_rival"),
				(call_script, "script_abort_quest", "qst_duel_courtship_rival", 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(call_script, "script_player_join_faction", ":faction_of_troop_script_param_2"),
				(assign, "$player_has_homage", 1),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":script_param_1"),
					(display_message, "@{!} DEBUG - {s4} faction change in marriage case 5"),
				(try_end),
				(troop_set_faction, ":script_param_1", "$players_kingdom"),
				(call_script, "script_troop_set_title_according_to_faction", ":script_param_1", "$players_kingdom"),
			(else_try),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":script_param_1"),
					(display_message, "@{!}DEBUG - {s4} faction changed by marriage, case 6"),
				(try_end),
				(troop_set_faction, ":script_param_1", ":faction_of_troop_script_param_2"),
				(call_script, "script_troop_set_title_according_to_faction", ":script_param_2", ":faction_of_troop_script_param_2"),
				(call_script, "script_troop_set_title_according_to_faction", ":script_param_1", ":faction_of_troop_script_param_2"),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_2", "trp_player"),
				(eq, ":script_param_1", "trp_player"),
				(unlock_achievement, 39),
				(try_begin),
					(eq, ":script_param_3", 1),
					(unlock_achievement, 40),
				(try_end),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_2", "trp_player"),
				(eq, ":script_param_1", "trp_player"),
				(call_script, "script_start_wedding_cutscene", ":script_param_2", ":script_param_1"),
			(try_end)
		]),

	("npc_decision_checklist_party_ai",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, "$g_talk_troop", ":script_param_1"),
			(try_end),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":script_param_1", "$g_talk_troop"),
				(str_store_string, 15, "str__i_must_attend_to_this_matter_before_i_worry_about_the_affairs_of_the_realm"),
			(try_end),
			(party_get_attached_to, ":attached_to_script_param_1_leaded_party", ":script_param_1_leaded_party"),
			(try_begin),
				(lt, ":attached_to_script_param_1_leaded_party", 0),
				(party_get_cur_town, ":attached_to_script_param_1_leaded_party", ":script_param_1_leaded_party"),
			(try_end),
			(assign, ":value", -1),
			(try_begin),
				(neg|is_between, ":attached_to_script_param_1_leaded_party", "p_town_1", "p_salt_mine"),
				(assign, ":attached_to_script_param_1_leaded_party", -1),
			(else_try),
				(party_get_slot, ":value", ":attached_to_script_param_1_leaded_party", slot_center_is_besieged_by),
				(try_begin),
					(neg|party_is_active, ":value"),
					(assign, ":value", -1),
				(try_end),
			(try_end),
			(call_script, "script_party_count_fit_for_battle", ":script_param_1_leaded_party"),
			(assign, ":var_6", reg0),
			(call_script, "script_party_get_ideal_size", ":script_param_1_leaded_party"),
			(assign, ":var_7", reg0),
			(store_mul, ":value_2", ":var_6", 100),
			(val_div, ":value_2", ":var_7"),
			(try_begin),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_num_towns, 0),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_num_castles, 0),
				(assign, ":value_3", 0),
			(else_try),
				(party_get_num_prisoners, ":num_prisoners_script_param_1_leaded_party", ":script_param_1_leaded_party"),
				(val_max, ":var_6", 1),
				(store_div, ":value_3", ":num_prisoners_script_param_1_leaded_party", ":var_6"),
			(try_end),
			(assign, ":value_4", 0),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_troop_script_param_1", ":faction"),
				(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
				(assign, ":value_4", 1),
			(try_end),
			(assign, ":value_5", 0),
			(try_begin),
				(this_or_next|party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_state, 5),
				(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_state, 1),
				(party_get_slot, ":script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", slot_party_ai_object),
				(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party_ai_object"),
				(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_troop_script_param_1", ":faction_of_party_script_param_1_leaded_party_ai_object"),
				(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":script_param_1_leaded_party_ai_object"),
				(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", 10),
				(this_or_next|party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_village_state, 5),
				(this_or_next|party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_village_state, 0),
				(party_slot_eq, ":script_param_1_leaded_party_ai_object", slot_village_state, 1),
				(assign, ":value_5", 1),
			(try_end),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(party_get_slot, ":script_param_1_leaded_party_ai_state", ":script_param_1_leaded_party", slot_party_ai_state),
			(party_get_slot, ":script_param_1_leaded_party_ai_object_2", ":script_param_1_leaded_party", slot_party_ai_object),
			(party_get_slot, ":script_param_1_leaded_party_cached_strength", ":script_param_1_leaded_party", slot_party_cached_strength),
			(store_current_hours, ":current_hours"),
			(party_get_slot, ":script_param_1_leaded_party_last_in_any_center", ":script_param_1_leaded_party", slot_party_last_in_any_center),
			(val_sub, ":current_hours", ":script_param_1_leaded_party_last_in_any_center"),
			(store_current_hours, ":current_hours_2"),
			(party_get_slot, ":script_param_1_leaded_party_last_in_home_center", ":script_param_1_leaded_party", slot_party_last_in_home_center),
			(val_sub, ":current_hours_2", ":script_param_1_leaded_party_last_in_home_center"),
			(store_current_hours, ":current_hours_3"),
			(party_get_slot, ":script_param_1_leaded_party_last_in_combat", ":script_param_1_leaded_party", slot_party_last_in_combat),
			(val_sub, ":current_hours_3", ":script_param_1_leaded_party_last_in_combat"),
			(store_current_hours, ":current_hours_4"),
			(party_get_slot, ":script_param_1_leaded_party_leader_last_courted", ":script_param_1_leaded_party", slot_party_leader_last_courted),
			(val_sub, ":current_hours_4", ":script_param_1_leaded_party_leader_last_courted"),
			(troop_get_slot, ":script_param_1_temp_decision_seed", ":script_param_1", slot_troop_temp_decision_seed),
			(store_mod, ":value_6", ":script_param_1_temp_decision_seed", 73),
			(try_begin),
				(eq, ":script_param_1_lord_reputation_type", 1),
				(val_add, ":value_6", 27),
			(else_try),
				(neq, ":script_param_1_lord_reputation_type", 5),
				(neq, ":script_param_1_lord_reputation_type", 2),
				(val_add, ":value_6", 14),
			(try_end),
			(try_begin),
				(gt, ":value_6", ":current_hours_3"),
				(val_add, ":value_6", ":current_hours_3"),
				(val_div, ":value_6", 2),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(eq, ":script_param_1", "$g_talk_troop"),
				(str_store_troop_name, 4, ":script_param_1"),
				(assign, reg3, ":current_hours"),
				(assign, reg4, ":current_hours_4"),
				(assign, reg5, ":current_hours_3"),
				(assign, reg6, ":current_hours_2"),
				(assign, reg7, ":value_6"),
			(try_end),
			(str_store_string, 17, "str_the_other_matter_took_precedence"),
			(assign, ":value_7", 0),
			(try_begin),
				(ge, ":attached_to_script_param_1_leaded_party", 0),
				(this_or_next|le, ":var_6", 10),
				(le, ":value_2", 30),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":attached_to_script_param_1_leaded_party"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_need_to_raise_some_men_before_attempting_anything_else"),
					(str_store_string, 16, "str_i_need_to_raise_some_men_before_attempting_anything_else"),
				(try_end),
			(else_try),
				(gt, ":value", -1),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":attached_to_script_param_1_leaded_party"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_cannot_leave_this_fortress_now_as_it_is_under_siege"),
					(str_store_string, 16, "str_after_all_we_are_under_siege"),
				(try_end),
			(else_try),
				(eq, ":script_param_1_leaded_party_ai_state", 14),
				(neg|party_is_in_any_town, ":script_param_1_leaded_party"),
				(ge, ":script_param_1_leaded_party_ai_object_2", 0),
				(party_is_active, ":script_param_1_leaded_party_ai_object_2"),
				(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party_ai_object_2", ":script_param_1_leaded_party_ai_object_2"),
				(eq, ":faction_of_troop_script_param_1", ":faction_of_party_script_param_1_leaded_party_ai_object_2"),
				(assign, ":value_8", 14),
				(assign, ":value_9", ":script_param_1_leaded_party_ai_object_2"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_we_are_not_strong_enough_to_face_the_enemy_out_in_the_open"),
					(str_store_string, 16, "str_i_should_probably_seek_shelter_behind_some_stout_walls"),
				(try_end),
			(else_try),
				(is_between, ":attached_to_script_param_1_leaded_party", "p_town_1", "p_village_1"),
				(party_get_slot, ":attached_to_script_param_1_leaded_party_center_sortie_enemy_strength", ":attached_to_script_param_1_leaded_party", slot_center_sortie_enemy_strength),
				(party_get_slot, ":attached_to_script_param_1_leaded_party_center_sortie_enemy_strength", ":attached_to_script_param_1_leaded_party", slot_center_sortie_enemy_strength),
				(ge, ":attached_to_script_param_1_leaded_party_center_sortie_enemy_strength", 50),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":attached_to_script_param_1_leaded_party"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_enemies_are_reported_to_be_nearby_and_we_should_stand_ready_to_either_man_the_walls_or_sortie_out_to_do_battle"),
					(str_store_string, 16, "str_the_enemy_is_nearby"),
				(try_end),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(str_clear, 15),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
				(party_set_ai_initiative, ":script_param_1_leaded_party", 10),
				(party_get_slot, ":script_param_1_leaded_party_ai_object_2", ":script_param_1_leaded_party", slot_party_ai_object),
				(assign, ":value_10", ":script_param_1_leaded_party_ai_object_2"),
				(call_script, "script_find_center_to_defend", ":script_param_1"),
				(assign, ":var_38", reg0),
				(assign, ":value_11", 0),
				(try_begin),
					(lt, ":script_param_1_leaded_party_ai_object_2", 0),
					(store_random_in_range, ":random_in_range_0_8", 0, 8),
					(this_or_next|eq, "$g_gathering_new_started", 1),
					(eq, ":random_in_range_0_8", 0),
					(assign, ":var_41", 0),
					(assign, ":var_42", 0),
					(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
						(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
						(party_is_active, ":troop_leaded_party"),
						(val_add, ":var_42", 1),
						(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
						(party_slot_eq, ":troop_leaded_party", slot_party_ai_object, ":script_param_1_leaded_party"),
						(party_is_active, ":script_param_1_leaded_party"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_troop_leaded_party_script_param_1_leaded_party", ":troop_leaded_party", ":script_param_1_leaded_party"),
						(lt, ":distance_to_party_from_party_troop_leaded_party_script_param_1_leaded_party", 15),
						(val_add, ":var_41", 1),
					(try_end),
					(assign, ":value_12", -1),
					(try_begin),
						(gt, ":var_42", 0),
						(store_mul, ":value_12", ":var_41", 100),
						(val_div, ":value_12", ":var_42"),
					(try_end),
					(try_begin),
						(le, ":value_12", 35),
						(assign, ":value_13", ":var_38"),
						(try_begin),
							(eq, "$g_gathering_new_started", 1),
							(assign, ":value_14", 100000),
							(try_for_range, ":party", "p_town_1", "p_salt_mine"),
								(store_faction_of_party, ":faction_of_party_party", ":party"),
								(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
								(try_begin),
									(neq, ":party", ":var_38"),
									(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_party", ":script_param_1_leaded_party", ":party"),
									(lt, ":distance_to_party_from_party_script_param_1_leaded_party_party", ":value_14"),
									(assign, ":value_14", ":distance_to_party_from_party_script_param_1_leaded_party_party"),
									(assign, ":value_13", ":party"),
								(try_end),
							(try_end),
						(else_try),
							(assign, ":value_15", 150),
							(try_begin),
								(ge, ":value_12", 15),
								(store_sub, ":value_15", 35, ":value_12"),
								(val_add, ":value_15", 5),
								(val_mul, ":value_15", 6),
							(try_end),
							(try_begin),
								(ge, ":var_38", 0),
								(store_distance_to_party_from_party, reg12, ":script_param_1_leaded_party", ":var_38"),
							(else_try),
								(assign, reg12, 0),
							(try_end),
							(assign, ":value_16", 0),
							(try_for_range, ":party", "p_town_1", "p_village_1"),
								(store_faction_of_party, ":faction_of_party_party", ":party"),
								(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
								(try_begin),
									(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_party", ":script_param_1_leaded_party", ":party"),
									(try_begin),
										(ge, ":var_38", 0),
										(store_distance_to_party_from_party, reg13, ":party", ":var_38"),
									(else_try),
										(assign, reg13, 0),
									(try_end),
									(store_sub, reg11, reg13, reg12),
									(this_or_next|ge, reg11, 40),
									(this_or_next|ge, ":distance_to_party_from_party_script_param_1_leaded_party_party", ":value_15"),
									(eq, ":party", ":var_38"),
								(else_try),
									(val_add, ":value_16", 1),
								(try_end),
							(try_end),
							(try_begin),
								(ge, ":value_16", 0),
								(store_random_in_range, ":random_in_range_0_value_16", 0, ":value_16"),
								(val_add, ":random_in_range_0_value_16", 1),
								(assign, ":value_16", 0),
								(try_for_range, ":party", "p_town_1", "p_village_1"),
									(store_faction_of_party, ":faction_of_party_party", ":party"),
									(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
									(try_begin),
										(neq, ":party", ":var_38"),
										(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_party", ":script_param_1_leaded_party", ":party"),
										(lt, ":distance_to_party_from_party_script_param_1_leaded_party_party", ":value_15"),
										(try_begin),
											(ge, ":var_38", 0),
											(store_distance_to_party_from_party, reg13, ":party", ":var_38"),
										(else_try),
											(assign, reg13, 0),
										(try_end),
										(store_sub, reg11, reg13, reg12),
										(lt, reg11, 40),
										(val_sub, ":random_in_range_0_value_16", 1),
										(eq, ":random_in_range_0_value_16", 0),
										(assign, ":value_13", ":party"),
									(try_end),
								(try_end),
							(try_end),
						(try_end),
						(assign, ":value_10", ":value_13"),
						(assign, ":value_11", 1),
					(try_end),
				(else_try),
					(is_between, ":script_param_1_leaded_party_ai_object_2", "p_town_1", "p_salt_mine"),
					(party_get_position, 1, ":script_param_1_leaded_party"),
					(party_get_position, 2, ":script_param_1_leaded_party_ai_object_2"),
					(get_distance_between_positions, ":distance_to_party_from_party_script_param_1_leaded_party_party", 1, 2),
					(le, ":distance_to_party_from_party_script_param_1_leaded_party_party", 3),
					(assign, ":value_10", -1),
				(try_end),
				(try_begin),
					(eq, ":value_10", -1),
					(assign, ":value_8", -1),
				(else_try),
					(assign, ":value_8", 16),
				(try_end),
				(assign, ":value_9", ":value_10"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(try_begin),
						(eq, ":value_10", -1),
						(str_store_string, 14, "str_as_the_marshall_i_am_assembling_the_army_of_the_realm"),
					(else_try),
						(try_begin),
							(eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
							(eq, ":value_11", 1),
							(le, "$number_of_report_to_army_quest_notes", 13),
							(check_quest_active, "qst_report_to_army"),
							(str_store_party_name_link, 10, ":value_10"),
							(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
							(str_store_troop_name_link, 11, ":faction_of_troop_script_param_1_marshall"),
							(store_current_hours, ":current_hours_5"),
							(call_script, "script_game_get_date_text", 0, ":current_hours_5"),
							(str_store_string, 14, "str_as_the_marshall_i_am_assembling_the_army_of_the_realm_and_travel_to_lands_near_s10_to_inform_more_vassals"),
							(str_store_string, 14, "@({s1}) {s11}: {s14}"),
							(add_quest_note_from_sreg, "qst_report_to_army", "$number_of_report_to_army_quest_notes", 14, 0),
							(val_add, "$number_of_report_to_army_quest_notes", 1),
						(try_end),
						(assign, reg0, ":value_10"),
						(str_store_party_name, 10, ":value_10"),
						(str_store_string, 14, "str_as_the_marshall_i_am_assembling_the_army_of_the_realm_and_travel_to_lands_near_s10_to_inform_more_vassals"),
					(try_end),
					(str_store_string, 16, "str_i_intend_to_assemble_the_army_of_the_realm"),
				(try_end),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 2),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(assign, ":value_8", 1),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_as_the_marshall_i_am_leading_the_siege"),
					(str_store_string, 16, "str_i_intend_to_begin_the_siege"),
				(try_end),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 3),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(assign, ":value_8", 5),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_as_the_marshall_i_am_leading_our_raid"),
					(str_store_string, 16, "str_i_intend_to_start_our_raid"),
				(try_end),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 5),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(party_is_active, ":faction_of_troop_script_param_1_ai_object"),
				(party_get_battle_opponent, ":value", ":faction_of_troop_script_param_1_ai_object"),
				(try_begin),
					(gt, ":value", 0),
					(party_is_active, ":value"),
					(assign, ":value_8", 10),
					(assign, ":value_9", ":value"),
					(try_begin),
						(eq, ":script_param_1", "$g_talk_troop"),
						(str_store_string, 14, "str_as_the_marshall_i_am_leading_our_forces_to_engage_the_enemy_in_battle"),
						(str_store_string, 16, "str_i_intend_to_lead_our_forces_out_to_engage_the_enemy"),
					(try_end),
				(else_try),
					(assign, ":value_8", 4),
					(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object"),
					(try_begin),
						(eq, ":script_param_1", "$g_talk_troop"),
						(str_store_string, 14, "str_as_the_marshall_i_am_leading_our_forces_in_search_of_the_enemy"),
						(str_store_string, 16, "str_i_intend_to_lead_our_forces_out_to_find_the_enemy"),
					(try_end),
				(try_end),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 4),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(party_is_active, ":faction_of_troop_script_param_1_ai_object"),
				(assign, ":value_8", 10),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_as_the_marshall_i_am_leading_our_forces_to_engage_the_enemy_in_battle"),
					(str_store_string, 16, "str_i_intend_to_lead_our_forces_out_to_engage_the_enemy"),
				(try_end),
			(else_try),
				(assign, ":var_59", 30),
				(call_script, "script_lord_get_home_center", ":script_param_1"),
				(assign, ":value_17", reg0),
				(gt, ":value_17", -1),
				(party_slot_eq, ":value_17", slot_town_lord, ":script_param_1"),
				(assign, ":value_18", 0),
				(party_get_position, 0, ":value_17"),
				(party_get_position, 1, ":script_param_1_leaded_party"),
				(get_distance_between_positions, ":distance_to_party_from_party_script_param_1_leaded_party_party", 0, 1),
				(try_begin),
					(le, ":distance_to_party_from_party_script_param_1_leaded_party_party", 9000),
					(store_div, ":value_18", ":distance_to_party_from_party_script_param_1_leaded_party_party", 600),
					(store_sub, ":value_18", 15, ":value_18"),
				(else_try),
					(assign, ":value_18", 0),
				(try_end),
				(val_add, ":var_59", ":value_18"),
				(assign, ":value_19", 35),
				(try_begin),
					(this_or_next|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 4),
					(this_or_next|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 5),
					(this_or_next|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 3),
					(this_or_next|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 2),
					(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
					(assign, ":value_19", 0),
					(try_begin),
						(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, "trp_player"),
						(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
						(try_begin),
							(eq, ":game_reduce_campaign_ai", 0),
							(assign, ":value_19", 0),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 1),
							(assign, ":value_19", -10),
						(else_try),
							(eq, ":game_reduce_campaign_ai", 2),
							(assign, ":value_19", -15),
						(try_end),
					(try_end),
				(try_end),
				(val_add, ":var_59", ":value_19"),
				(val_max, ":var_59", 25),
				(lt, ":value_2", ":var_59"),
				(try_begin),
					(store_div, ":value_20", ":var_59", 3),
					(ge, ":value_2", ":value_20"),
					(troop_get_slot, ":script_param_1_wealth", ":script_param_1", slot_troop_wealth),
					(le, ":script_param_1_wealth", 1800),
					(assign, ":value_7", 1),
				(try_end),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":value_17"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_dont_have_enough_troops_and_i_need_to_get_some_more"),
					(str_store_string, 16, "str_i_am_running_low_on_troops"),
				(try_end),
				(eq, ":value_7", 0),
			(else_try),
				(eq, ":value_7", 0),
				(party_slot_ge, ":script_param_1_leaded_party", 261, "trp_kingdom_heroes_including_player_begin"),
				(party_get_slot, ":script_param_1_leaded_party_262", ":script_param_1_leaded_party", 262),
				(party_get_slot, ":script_param_1_leaded_party_263", ":script_param_1_leaded_party", 263),
				(party_get_slot, ":script_param_1_leaded_party_264", ":script_param_1_leaded_party", 264),
				(ge, ":script_param_1_leaded_party_263", 0),
				(store_current_hours, ":current_hours_6"),
				(val_sub, ":current_hours_6", ":script_param_1_leaded_party_264"),
				(party_is_active, ":script_param_1_leaded_party_263"),
				(party_get_slot, ":script_param_1_leaded_party_263_village_state", ":script_param_1_leaded_party_263", slot_village_state),
				(store_faction_of_party, ":faction_of_party_script_param_1_leaded_party_263", ":script_param_1_leaded_party_263"),
				(store_relation, ":relation_faction_of_troop_script_param_1_faction_of_party_script_param_1_leaded_party_263", ":faction_of_troop_script_param_1", ":faction_of_party_script_param_1_leaded_party_263"),
				(assign, ":value_21", 1),
				(try_begin),
					(gt, ":current_hours_6", 48),
					(assign, ":value_21", 0),
				(else_try),
					(eq, ":script_param_1_leaded_party_262", 5),
					(this_or_next|ge, ":relation_faction_of_troop_script_param_1_faction_of_party_script_param_1_leaded_party_263", 0),
					(ge, ":script_param_1_leaded_party_263_village_state", 2),
					(assign, ":value_21", 0),
				(else_try),
					(eq, ":script_param_1_leaded_party_262", 1),
					(ge, ":relation_faction_of_troop_script_param_1_faction_of_party_script_param_1_leaded_party_263", 0),
					(assign, ":value_21", 0),
				(else_try),
					(this_or_next|eq, ":script_param_1_leaded_party_262", 7),
					(this_or_next|eq, ":script_param_1_leaded_party_262", 14),
					(this_or_next|eq, ":script_param_1_leaded_party_262", 11),
					(eq, ":script_param_1_leaded_party_262", 16),
					(le, ":relation_faction_of_troop_script_param_1_faction_of_party_script_param_1_leaded_party_263", 0),
					(assign, ":value_21", 0),
				(try_end),
				(eq, ":value_21", 1),
				(assign, ":value_8", ":script_param_1_leaded_party_262"),
				(assign, ":value_9", ":script_param_1_leaded_party_263"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_we_are_following_your_direction"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_5", 0),
				(check_quest_active, "qst_wed_betrothed"),
				(quest_slot_eq, "qst_wed_betrothed", slot_quest_giver_troop, ":script_param_1"),
				(quest_get_slot, ":wed_betrothed_target_troop", "qst_wed_betrothed", slot_quest_target_troop),
				(call_script, "script_get_kingdom_lady_social_determinants", ":wed_betrothed_target_troop"),
				(assign, ":var_75", reg1),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":var_75"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_need_to_make_preparations_for_your_wedding"),
					(str_store_string, 16, "str_after_all_i_need_to_make_preparations_for_your_wedding"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_5", 0),
				(check_quest_active, "qst_wed_betrothed_female"),
				(quest_slot_eq, "qst_wed_betrothed_female", slot_quest_giver_troop, ":script_param_1"),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 6),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object_2", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object_2"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_am_heading_to_the_site_of_our_wedding"),
					(str_store_string, 16, "str_after_all_we_are_soon_to_be_wed"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_5", 0),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 6),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object_2", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(party_slot_eq, ":faction_of_troop_script_param_1_ai_object_2", slot_town_lord, ":script_param_1"),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object_2"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_am_hosting_a_feast_there"),
					(str_store_string, 16, "str_i_have_a_feast_to_host"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_5", 0),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 6),
				(troop_get_slot, ":script_param_1_betrothed", ":script_param_1", slot_troop_betrothed),
				(is_between, ":script_param_1_betrothed", "trp_knight_1_1_wife", "trp_heroes_end"),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object_2", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object_2"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_am_to_be_the_bridegroom_there"),
					(str_store_string, 16, "str_my_wedding_day_draws_near"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(gt, ":value_3", 35),
				(eq, ":value_5", 0),
				(call_script, "script_lord_get_home_center", ":script_param_1"),
				(assign, ":value_17", reg0),
				(gt, ":value_17", -1),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":value_17"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_have_too_much_loot_and_too_many_prisoners_and_need_to_secure_them"),
					(str_store_string, 16, "str_i_should_think_of_dropping_off_some_of_my_prisoners"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(assign, ":value_22", -1),
				(assign, ":value_23", 100),
				(eq, ":value_5", 0),
				(try_for_range, ":party_2", "p_town_1", "p_village_1"),
					(party_slot_eq, ":party_2", slot_town_lord, ":script_param_1"),
					(party_get_slot, ":party_2_cached_strength", ":party_2", slot_party_cached_strength),
					(lt, ":party_2_cached_strength", ":value_23"),
					(assign, ":value_22", ":party_2"),
					(assign, ":value_23", ":party_2_cached_strength"),
				(try_end),
				(gt, ":value_22", -1),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":value_22"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_need_to_reinforce_it_as_it_is_poorly_garrisoned"),
					(str_store_string, 16, "str_there_is_a_hole_in_our_defenses"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":script_param_1_leaded_party_ai_state", 12),
				(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
				(party_is_active, ":faction_of_troop_script_param_1_marshall_leaded_party"),
				(call_script, "script_npc_decision_checklist_troop_follow_or_not", ":script_param_1"),
				(eq, reg0, 1),
				(assign, ":value_8", 12),
				(assign, ":value_9", ":faction_of_troop_script_param_1_marshall_leaded_party"),
				(try_begin),
					(eq, "$g_talk_troop", ":script_param_1"),
					(str_store_string, 14, "str_i_am_following_the_marshals_orders"),
					(str_store_string, 16, "str_the_marshal_has_given_me_this_command"),
				(try_end),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 5),
				(is_between, ":faction_of_troop_script_param_1_ai_object", "p_village_1", "p_salt_mine"),
				(call_script, "script_npc_decision_checklist_troop_follow_or_not", ":script_param_1"),
				(eq, reg0, 1),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(party_get_slot, ":faction_of_troop_script_param_1_ai_object_village_raided_by", ":faction_of_troop_script_param_1_ai_object", slot_village_raided_by),
				(party_is_active, ":faction_of_troop_script_param_1_ai_object_village_raided_by"),
				(party_get_slot, ":faction_of_troop_script_param_1_ai_object_center_sortie_enemy_strength", ":faction_of_troop_script_param_1_ai_object", slot_center_sortie_enemy_strength),
				(lt, ":faction_of_troop_script_param_1_ai_object_center_sortie_enemy_strength", 4000),
				(assign, ":value_8", 10),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object_village_raided_by"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_our_realm_needs_my_support_there_is_enemy_raiding_one_of_our_villages_which_is_not_to_far_from_here_i_am_going_there"),
					(str_store_string, 16, "str_the_marshal_has_issued_a_summons"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(call_script, "script_npc_decision_checklist_troop_follow_or_not", ":script_param_1"),
				(eq, reg0, 1),
				(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
				(assign, ":value_8", 11),
				(assign, ":value_9", ":faction_of_troop_script_param_1_marshall_leaded_party"),
				(try_begin),
					(eq, "$g_talk_troop", ":script_param_1"),
					(str_store_string, 14, "str_i_am_answering_the_marshals_summons"),
					(str_store_string, 16, "str_the_marshal_has_issued_a_summons"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_4", 1),
				(assign, ":value_24", -1),
				(try_for_range, ":troop_2", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop_2", slot_troop_occupation, 2),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(eq, ":faction_of_troop_troop_2", ":faction_of_troop_script_param_1"),
					(neq, ":troop_2", ":script_param_1"),
					(troop_get_slot, ":troop_2_leaded_party", ":troop_2", slot_troop_leaded_party),
					(gt, ":troop_2_leaded_party", 1),
					(party_is_active, ":troop_2_leaded_party"),
					(this_or_next|party_slot_eq, ":troop_2_leaded_party", slot_party_ai_state, 5),
					(party_slot_eq, ":troop_2_leaded_party", slot_party_ai_state, 1),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":troop_2"),
					(gt, reg0, 4),
					(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
					(troop_get_slot, ":troop_2_renown", ":troop_2", slot_troop_renown),
					(le, ":script_param_1_renown", ":troop_2_renown"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":troop_2_leaded_party"),
					(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", 5),
					(assign, ":value_24", ":troop_2_leaded_party"),
				(try_end),
				(gt, ":value_24", 0),
				(assign, ":value_8", 11),
				(assign, ":value_9", ":value_24"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(party_stack_get_troop_id, ":party_stack_troop_id_value_9_0", ":value_9", 0),
					(str_store_troop_name, 10, ":party_stack_troop_id_value_9_0"),
					(call_script, "script_troop_get_family_relation_to_troop", ":party_stack_troop_id_value_9_0", "$g_talk_troop"),
					(try_begin),
						(eq, reg0, 0),
						(str_store_string, 11, "str_comradeinarms"),
					(try_end),
					(str_store_string, 14, "str_i_am_supporting_my_s11_s10"),
					(str_store_string, 16, "str_i_believe_that_one_of_my_comrades_is_in_need"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_4", 1),
				(eq, ":value_5", 0),
				(assign, ":value_25", -1),
				(assign, ":value_26", 50),
				(try_for_range, ":party_2", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
					(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_troop_script_param_1", ":faction_of_party_party_2"),
					(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
					(party_get_slot, ":party_2_cached_strength_2", ":party_2", slot_party_cached_strength),
					(val_mul, ":party_2_cached_strength_2", 3),
					(val_mul, ":party_2_cached_strength_2", 2),
					(lt, ":party_2_cached_strength_2", ":script_param_1_leaded_party_cached_strength"),
					(lt, ":party_2_cached_strength_2", 750),
					(party_slot_eq, ":party_2", slot_village_state, 0),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":party_2", ":script_param_1_leaded_party"),
					(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":value_26"),
					(assign, ":value_25", ":party_2"),
					(assign, ":value_26", ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object"),
				(try_end),
				(is_between, ":value_25", "p_town_1", "p_salt_mine"),
				(assign, ":value_8", 1),
				(assign, ":value_9", ":value_25"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_faction_name, 20, ":faction_of_troop_script_param_1"),
					(str_store_party_name, 21, ":value_9"),
					(display_message, "str_s20_decided_to_attack_s21"),
				(try_end),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_a_fortress_is_vulnerable"),
					(str_store_string, 16, "str_i_believe_that_the_enemy_may_be_vulnerable"),
				(try_end),
			(else_try),
				(assign, ":value_27", -1),
				(assign, ":value_28", 300),
				(troop_get_slot, ":script_param_1_wealth", ":script_param_1", slot_troop_wealth),
				(val_div, ":script_param_1_wealth", 10),
				(val_add, ":value_28", ":script_param_1_wealth"),
				(eq, ":value_5", 0),
				(try_begin),
					(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
					(assign, reg17, 0),
					(try_begin),
						(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_state, 11),
						(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_object, ":faction_of_troop_script_param_1_marshall"),
						(assign, reg17, 1),
					(else_try),
						(party_slot_eq, ":script_param_1_leaded_party", slot_party_following_player, 1),
						(assign, reg17, 1),
					(try_end),
					(eq, reg17, 1),
					(try_begin),
						(neq, ":faction_of_troop_script_param_1_marshall", "trp_player"),
						(neg|party_slot_eq, ":script_param_1_leaded_party", slot_party_following_player, 1),
						(val_add, ":value_28", 125),
					(else_try),
						(val_add, ":value_28", 250),
					(try_end),
				(try_end),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(assign, reg17, 0),
					(try_begin),
						(is_between, ":party", "p_village_1", "p_salt_mine"),
						(party_slot_eq, ":party", slot_village_state, 0),
						(assign, reg17, 1),
					(else_try),
						(party_slot_eq, ":party", slot_center_is_besieged_by, -1),
						(assign, reg17, 1),
					(try_end),
					(eq, reg17, 1),
					(party_get_slot, ":party_center_accumulated_tariffs", ":party", slot_center_accumulated_tariffs),
					(party_get_slot, ":party_center_accumulated_rents", ":party", slot_center_accumulated_rents),
					(store_add, ":value_29", ":party_center_accumulated_rents", ":party_center_accumulated_tariffs"),
					(gt, ":value_29", ":value_28"),
					(assign, ":value_27", ":party"),
					(assign, ":value_28", ":value_29"),
				(try_end),
				(is_between, ":value_27", "p_town_1", "p_salt_mine"),
				(try_begin),
					(is_between, ":value_27", "p_town_1", "p_village_1"),
					(assign, ":value_8", 7),
					(assign, ":value_9", ":value_27"),
				(else_try),
					(assign, ":value_8", 16),
					(assign, ":value_9", ":value_27"),
				(try_end),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_need_to_inspect_my_properties_and_collect_my_dues"),
					(str_store_string, 16, "str_it_has_been_too_long_since_i_have_inspected_my_estates"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(this_or_next|gt, ":current_hours", 504),
				(lt, ":value_6", 25),
				(gt, ":current_hours", 168),
				(eq, ":value_5", 0),
				(call_script, "script_lord_get_home_center", ":script_param_1"),
				(assign, ":value_17", reg0),
				(gt, ":value_17", -1),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":value_17"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_my_men_are_weary_so_we_are_returning_home"),
					(str_store_string, 16, "str_my_men_are_becoming_weary"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(this_or_next|gt, ":current_hours_3", 12),
				(lt, ":current_hours", 96),
				(eq, ":value_5", 0),
				(eq, ":value_4", 1),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
				(lt, reg0, 1),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 8),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(assign, ":value_30", -1),
				(assign, ":value_28", 0),
				(try_for_range, ":party_3", "p_village_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party_3", ":party_3"),
					(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_party_party_3", ":faction_of_troop_script_param_1"),
					(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
					(neg|party_slot_ge, ":party_3", 35, 2),
					(party_get_slot, ":party_3_town_lord", ":party_3", slot_town_lord),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":party_3_town_lord"),
					(assign, ":var_105", reg0),
					(lt, ":var_105", ":value_28"),
					(assign, ":value_28", ":var_105"),
					(assign, ":value_30", ":party_3"),
				(try_end),
				(is_between, ":value_30", "p_town_1", "p_salt_mine"),
				(assign, ":value_8", 5),
				(assign, ":value_9", ":value_30"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_have_a_score_to_settle_with_the_lord_there"),
					(str_store_string, 16, "str_i_am_thinking_of_settling_an_old_score"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_4", 1),
				(eq, ":value_5", 0),
				(this_or_next|gt, ":current_hours_3", 12),
				(lt, ":current_hours", 96),
				(gt, ":value_6", 40),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
				(lt, reg0, 1),
				(this_or_next|lt, reg0, 0),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 8),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 3),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 4),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(troop_get_slot, ":script_param_1_wealth_2", ":script_param_1", slot_troop_wealth),
				(lt, ":script_param_1_wealth_2", 500),
				(assign, ":value_28", 0),
				(assign, ":value_30", -1),
				(try_for_range, ":party_3", "p_village_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party_3", ":party_3"),
					(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_party_party_3", ":faction_of_troop_script_param_1"),
					(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
					(this_or_next|party_slot_eq, ":party_3", slot_village_state, 0),
					(party_slot_eq, ":party_3", slot_village_state, 1),
					(party_get_slot, reg17, ":party_3", slot_town_prosperity),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":party_3"),
					(val_sub, reg17, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object"),
					(gt, reg17, ":value_28"),
					(assign, ":value_28", reg17),
					(assign, ":value_30", ":party_3"),
				(try_end),
				(gt, ":value_30", -1),
				(assign, ":value_8", 5),
				(assign, ":value_9", ":value_30"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_am_short_of_money_and_i_hear_that_there_is_much_wealth_there"),
					(str_store_string, 16, "str_i_need_to_refill_my_purse_preferably_with_the_enemys_money"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_4", 1),
				(eq, ":value_5", 0),
				(gt, ":value_6", 65),
				(assign, ":value_28", 0),
				(assign, ":value_30", -1),
				(try_for_range, ":party_3", "p_village_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party_3", ":party_3"),
					(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_party_party_3", ":faction_of_troop_script_param_1"),
					(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
					(neg|party_slot_eq, ":party_3", slot_village_state, 2),
					(party_get_slot, ":party_3_town_prosperity", ":party_3", slot_town_prosperity),
					(val_mul, ":party_3_town_prosperity", 2),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":party_3"),
					(val_sub, ":party_3_town_prosperity", ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object"),
					(gt, ":party_3_town_prosperity", ":value_28"),
					(assign, ":value_28", ":party_3_town_prosperity"),
					(assign, ":value_30", ":party_3"),
				(try_end),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
				(lt, reg0, 1),
				(gt, ":value_30", -1),
				(assign, ":value_8", 5),
				(assign, ":value_9", ":value_30"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_by_striking_at_the_enemys_richest_lands_perhaps_i_can_draw_them_out_to_battle"),
					(str_store_string, 16, "str_i_am_thinking_of_going_on_the_attack"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(assign, reg0, 0),
				(try_begin),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 0),
					(this_or_next|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
					(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
					(this_or_next|neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, "trp_player"),
					(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
					(assign, reg0, 0),
				(else_try),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
					(eq, ":script_param_1_lord_reputation_type", 10),
					(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 4),
				(try_end),
				(this_or_next|ge, reg0, 1),
				(eq, ":script_param_1_lord_reputation_type", 7),
				(eq, ":value_4", 1),
				(eq, ":value_5", 0),
				(assign, ":value_31", -1),
				(try_for_range, ":faction_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_troop_script_param_1", ":faction_2"),
					(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
					(faction_slot_eq, ":faction_2", slot_faction_state, 0),
					(store_add, ":value_32", ":faction_2", 140),
					(val_sub, ":value_32", "fac_player_supporters_faction"),
					(faction_get_slot, ":faction_of_troop_script_param_1_value_32", ":faction_of_troop_script_param_1", ":value_32"),
					(store_add, ":value_33", ":faction_of_troop_script_param_1", 140),
					(val_sub, ":value_33", "fac_player_supporters_faction"),
					(faction_get_slot, ":faction_2_value_33", ":faction_2", ":value_33"),
					(gt, ":faction_of_troop_script_param_1_value_32", 80),
					(lt, ":faction_of_troop_script_param_1_value_32", ":faction_2_value_33"),
					(assign, ":value_31", ":faction_2"),
				(try_end),
				(gt, ":value_31", -1),
				(assign, ":value_30", -1),
				(assign, ":value_28", 50),
				(try_for_range, ":party_4", "p_village_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party_3", ":party_4"),
					(eq, ":faction_of_party_party_3", ":value_31"),
					(neg|party_slot_eq, ":party_4", slot_village_state, 2),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":party_4"),
					(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":value_28"),
					(assign, ":value_28", ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object"),
					(assign, ":value_30", ":party_4"),
				(try_end),
				(gt, ":value_30", -1),
				(assign, ":value_8", 5),
				(assign, ":value_9", ":value_30"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_perhaps_if_i_strike_one_more_blow_we_may_end_this_war_on_our_terms_"),
					(str_store_string, 16, "str_we_may_be_able_to_bring_this_war_to_a_close_with_a_few_more_blows"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 6),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object_2", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(party_get_slot, ":faction_of_troop_script_param_1_ai_object_2_town_lord", ":faction_of_troop_script_param_1_ai_object_2", slot_town_lord),
				(eq, ":value_5", 0),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":faction_of_troop_script_param_1_ai_object_2_town_lord"),
				(assign, ":var_116", reg0),
				(ge, ":var_116", 0),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":faction_of_troop_script_param_1_ai_object_2"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_wish_to_attend_the_feast_there"),
					(str_store_string, 16, "str_there_is_a_feast_which_i_wish_to_attend"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(neg|troop_slot_eq, "trp_player", slot_troop_betrothed, ":script_param_1"),
				(troop_slot_eq, ":script_param_1", slot_troop_spouse, -1),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(gt, ":current_hours_4", 72),
				(eq, ":value_5", 0),
				(assign, ":value_27", -1),
				(assign, ":value_28", 150),
				(try_for_range, ":number", 35, 38),
					(troop_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
					(is_between, ":script_param_1_number", "trp_knight_1_1_wife", "trp_heroes_end"),
					(troop_get_slot, ":script_param_1_number_cur_center", ":script_param_1_number", slot_troop_cur_center),
					(is_between, ":script_param_1_number_cur_center", "p_town_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_script_param_1_number_cur_center", ":script_param_1_number_cur_center"),
					(eq, ":faction_of_troop_script_param_1", ":faction_of_party_script_param_1_number_cur_center"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":script_param_1_number_cur_center"),
					(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":value_28"),
					(assign, ":value_27", ":script_param_1_number_cur_center"),
					(assign, ":value_28", ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object"),
				(try_end),
				(gt, ":value_27", -1),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":value_27"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_there_is_a_fair_lady_there_whom_i_wish_to_court"),
					(str_store_string, 16, "str_i_have_the_inclination_to_pay_court_to_a_fair_lady"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(assign, ":script_param_1_leaded_party_ai_object", -1),
				(assign, ":value_28", 60),
				(eq, ":value_5", 0),
				(gt, ":value_6", 40),
				(try_for_range, ":party_5", "p_town_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party", ":party_5"),
					(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
					(party_slot_ge, ":party_5", 55, 0),
					(party_get_slot, ":party_5_center_sortie_strength", ":party_5", slot_center_sortie_strength),
					(party_get_slot, ":party_5_center_sortie_enemy_strength", ":party_5", slot_center_sortie_enemy_strength),
					(store_mul, ":value_34", ":party_5_center_sortie_enemy_strength", 14),
					(val_div, ":value_34", 10),
					(party_get_slot, ":script_param_1_leaded_party_cached_strength_2", ":script_param_1_leaded_party", slot_party_cached_strength),
					(this_or_next|neg|party_is_in_town, ":script_param_1_leaded_party", ":party_5"),
					(gt, ":party_5_center_sortie_strength", ":value_34"),
					(ge, ":script_param_1_leaded_party_cached_strength_2", 100),
					(party_get_slot, reg17, ":party_5", slot_town_lord),
					(call_script, "script_troop_get_relation_with_troop", reg17, ":script_param_1"),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 7),
					(gt, reg0, -5),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":script_param_1_leaded_party", ":party_5"),
					(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":value_28"),
					(assign, ":script_param_1_leaded_party_ai_object", ":party_5"),
					(assign, ":value_28", ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object"),
				(try_end),
				(is_between, ":script_param_1_leaded_party_ai_object", "p_town_1", "p_salt_mine"),
				(assign, ":value_8", 4),
				(assign, ":value_9", ":script_param_1_leaded_party_ai_object"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_we_have_heard_reports_that_the_enemy_is_in_the_area"),
					(str_store_string, 16, "str_i_have_heard_reports_of_enemy_incursions_into_our_territory"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(gt, ":current_hours_2", 168),
				(eq, ":value_5", 0),
				(call_script, "script_lord_get_home_center", ":script_param_1"),
				(assign, ":value_17", reg0),
				(gt, ":value_17", -1),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":value_17"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_need_to_spend_some_time_with_my_household"),
					(str_store_string, 16, "str_it_has_been_a_long_time_since_i_have_been_able_to_spend_time_with_my_household"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_4", 1),
				(gt, ":value_6", 65),
				(eq, ":value_5", 0),
				(assign, ":party_5", -1),
				(assign, ":value_28", 75),
				(try_for_range, ":party_6", "p_village_1", "p_salt_mine"),
					(store_faction_of_party, ":faction_of_party_party_3", ":party_6"),
					(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_party_party_3", ":faction_of_troop_script_param_1"),
					(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":party_6", ":script_param_1_leaded_party"),
					(lt, ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object", ":value_28"),
					(assign, ":value_28", ":distance_to_party_from_party_script_param_1_leaded_party_script_param_1_leaded_party_ai_object"),
					(assign, ":party_5", ":party_6"),
				(try_end),
				(is_between, ":party_5", "p_village_1", "p_salt_mine"),
				(assign, ":value_8", 4),
				(assign, ":value_9", ":party_5"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_am_watching_the_borders"),
					(str_store_string, 16, "str_i_may_be_needed_to_watch_the_borders"),
				(try_end),
			(else_try),
				(eq, 1, 0),
			(else_try),
				(eq, ":value_7", 0),
				(call_script, "script_lord_get_home_center", ":script_param_1"),
				(assign, ":value_17", reg0),
				(is_between, ":value_17", "p_town_1", "p_salt_mine"),
				(eq, ":value_5", 0),
				(assign, ":value_8", 4),
				(assign, ":value_9", ":value_17"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_will_guard_the_areas_near_my_home"),
					(str_store_string, 16, "str_i_am_perhaps_needed_most_at_home"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_5", 0),
				(call_script, "script_lord_get_home_center", ":script_param_1"),
				(assign, ":value_17", reg0),
				(is_between, ":value_17", "p_town_1", "p_village_1"),
				(assign, ":value_8", 7),
				(assign, ":value_9", ":value_17"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_cant_think_of_anything_better_to_do"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(eq, ":value_5", 1),
				(party_get_slot, ":value_8", ":script_param_1_leaded_party", slot_party_ai_state),
				(party_get_slot, ":value_9", ":script_param_1_leaded_party", slot_party_ai_object),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_am_completing_what_i_have_already_begun"),
				(try_end),
			(else_try),
				(eq, ":value_7", 0),
				(assign, ":value_8", -1),
				(assign, ":value_9", -1),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 14, "str_i_dont_even_have_a_home_to_which_to_return"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 2),
				(str_store_troop_name, 10, ":script_param_1"),
				(display_message, "str_debug__s10_decides_s14_faction_ai_s15"),
			(try_end),
			(assign, reg0, ":value_8"),
			(assign, reg1, ":value_9")
		]),

	("npc_decision_checklist_troop_follow_or_not",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_state", ":faction_of_troop_script_param_1", slot_faction_ai_state),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|lt, ":faction_of_troop_script_param_1_marshall", 0),
				(eq, ":faction_of_troop_script_param_1_marshall", -1),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str__i_am_acting_independently_because_no_marshal_is_appointed"),
				(try_end),
			(else_try),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
				(neg|party_is_active, ":faction_of_troop_script_param_1_marshall_leaded_party"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str__i_am_acting_independently_because_our_marshal_is_currently_indisposed"),
				(try_end),
			(else_try),
				(neq, ":faction_of_troop_script_param_1_ai_state", 2),
				(neq, ":faction_of_troop_script_param_1_ai_state", 3),
				(neq, ":faction_of_troop_script_param_1_ai_state", 5),
				(neq, ":faction_of_troop_script_param_1_ai_state", 4),
				(neq, ":faction_of_troop_script_param_1_ai_state", 1),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str__i_am_acting_independently_because_our_realm_is_currently_not_on_campaign"),
				(try_end),
			(else_try),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":faction_of_troop_script_param_1_marshall"),
				(assign, ":var_8", reg0),
				(try_begin),
					(le, ":var_8", -10),
					(assign, ":value_2", 10000),
				(else_try),
					(store_mul, ":value_2", ":var_8", -1000),
				(try_end),
				(val_add, ":value_2", 1500),
				(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
				(try_begin),
					(neq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 0),
						(val_add, ":value_2", -1250),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 2),
						(val_add, ":value_2", 1250),
					(try_end),
				(else_try),
					(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, "trp_player"),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 0),
						(val_add, ":value_2", -1000),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
						(val_add, ":value_2", -1500),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 2),
						(val_add, ":value_2", -2000),
					(try_end),
				(try_end),
				(troop_get_slot, ":script_param_1_temp_decision_seed", ":script_param_1", slot_troop_temp_decision_seed),
				(le, ":script_param_1_temp_decision_seed", ":value_2"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str__i_am_not_accompanying_the_marshal_because_i_fear_that_he_may_lead_us_into_disaster"),
				(try_end),
			(else_try),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_prisoner_of_party", ":faction_of_troop_script_param_1_marshall", slot_troop_prisoner_of_party),
				(lt, ":var_8", 0),
				(ge, ":faction_of_troop_script_param_1_marshall_prisoner_of_party", 50),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str_i_am_not_accompanying_the_marshal_because_i_question_his_judgment"),
				(try_end),
			(else_try),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_prisoner_of_party", ":faction_of_troop_script_param_1_marshall", slot_troop_prisoner_of_party),
				(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":faction_of_troop_script_param_1_marshall"),
				(lt, ":var_8", 5),
				(ge, ":faction_of_troop_script_param_1_marshall_prisoner_of_party", 80),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str_i_am_not_accompanying_the_marshal_because_will_be_reappointment"),
				(try_end),
			(else_try),
				(store_sub, ":value_3", 50, ":var_8"),
				(store_mul, ":value_2", ":value_3", 70),
				(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
				(try_begin),
					(neq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 0),
						(val_add, ":value_2", -1200),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 2),
						(val_add, ":value_2", 1200),
					(try_end),
				(else_try),
					(eq, ":faction_of_troop_script_param_1_marshall", "trp_player"),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 0),
						(val_add, ":value_2", -1000),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
						(val_add, ":value_2", -1500),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 2),
						(val_add, ":value_2", -2000),
					(try_end),
				(try_end),
				(try_begin),
					(eq, ":script_param_1_lord_reputation_type", 3),
					(val_add, ":value_2", 1500),
				(else_try),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 8),
					(eq, ":script_param_1_lord_reputation_type", 2),
					(val_add, ":value_2", 1000),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 4),
					(val_add, ":value_2", 500),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 7),
				(else_try),
					(this_or_next|eq, ":script_param_1_lord_reputation_type", 9),
					(eq, ":script_param_1_lord_reputation_type", 6),
					(val_add, ":value_2", -500),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 10),
					(val_add, ":value_2", -1000),
				(try_end),
				(try_begin),
					(troop_slot_eq, ":faction_of_troop_script_param_1_marshall", slot_lord_reputation_type, 2),
					(val_add, ":value_2", -750),
				(else_try),
					(this_or_next|troop_slot_eq, ":faction_of_troop_script_param_1_marshall", slot_lord_reputation_type, 1),
					(troop_slot_eq, ":faction_of_troop_script_param_1_marshall", slot_lord_reputation_type, 7),
					(val_add, ":value_2", -250),
				(try_end),
				(val_add, ":value_2", 2000),
				(troop_get_slot, ":script_param_1_temp_decision_seed", ":script_param_1", slot_troop_temp_decision_seed),
				(le, ":script_param_1_temp_decision_seed", ":value_2"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str_i_am_not_accompanying_the_marshal_because_i_can_do_greater_deeds"),
				(try_end),
			(else_try),
				(store_current_hours, ":current_hours"),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_last_rest_time", ":faction_of_troop_script_param_1", slot_faction_ai_last_rest_time),
				(val_sub, ":current_hours", ":faction_of_troop_script_param_1_ai_last_rest_time"),
				(assign, ":var_16", 360),
				(store_mul, ":value_4", ":var_8", 6),
				(val_add, ":var_16", ":value_4"),
				(try_begin),
					(eq, ":script_param_1_lord_reputation_type", 7),
					(val_mul, ":var_16", 4),
					(val_div, ":var_16", 3),
				(try_end),
				(str_store_troop_name, 16, ":faction_of_troop_script_param_1_marshall"),
				(gt, ":current_hours", ":var_16"),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str__s16_has_kept_us_on_campaign_on_far_too_long_and_there_are_other_pressing_matters_to_which_i_must_attend"),
				(try_end),
			(else_try),
				(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
				(neg|party_is_active, ":script_param_1_leaded_party"),
			(else_try),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party_2", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
				(assign, ":value_5", 40),
				(try_begin),
					(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
					(assign, ":value_5", 50),
				(try_end),
				(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
				(try_begin),
					(neq, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
					(neq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, "trp_player"),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 2),
						(try_begin),
							(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
							(val_add, ":value_5", -10),
						(else_try),
							(val_add, ":value_5", -8),
						(try_end),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
						(try_begin),
							(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
							(val_add, ":value_5", -5),
						(else_try),
							(val_add, ":value_5", -4),
						(try_end),
					(try_end),
				(else_try),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 2),
						(try_begin),
							(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
							(val_add, ":value_5", 25),
						(else_try),
							(val_add, ":value_5", 20),
						(try_end),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
						(try_begin),
							(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
							(val_add, ":value_5", 15),
						(else_try),
							(val_add, ":value_5", 12),
						(try_end),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 0),
						(try_begin),
							(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 1),
							(val_add, ":value_5", 5),
						(else_try),
							(val_add, ":value_5", 4),
						(try_end),
					(try_end),
				(try_end),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(assign, reg17, 0),
				(try_begin),
					(try_begin),
						(neg|is_between, ":faction_of_troop_script_param_1_ai_object", "p_village_1", "p_salt_mine"),
						(assign, reg17, 1),
					(try_end),
					(try_begin),
						(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 5),
						(assign, reg17, 1),
					(try_end),
					(eq, reg17, 1),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_faction_of_troop_script_param_1_marshall_leaded_party_2_script_param_1_leaded_party", ":faction_of_troop_script_param_1_marshall_leaded_party_2", ":script_param_1_leaded_party"),
					(gt, ":distance_to_party_from_party_faction_of_troop_script_param_1_marshall_leaded_party_2_script_param_1_leaded_party", ":value_5"),
					(try_begin),
						(eq, ":script_param_1", "$g_talk_troop"),
						(str_store_string, 15, "str__i_am_not_participating_in_the_marshals_campaign_because_i_do_not_know_where_to_find_our_main_army"),
					(try_end),
				(else_try),
					(eq, reg17, 0),
					(assign, reg17, 1),
					(try_begin),
						(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_state, 11),
						(party_slot_eq, ":script_param_1_leaded_party", slot_party_ai_object, ":faction_of_troop_script_param_1_marshall_leaded_party_2"),
						(assign, reg17, 0),
					(try_end),
					(eq, reg17, 1),
					(party_get_slot, ":faction_of_troop_script_param_1_ai_object_center_sortie_enemy_strength", ":faction_of_troop_script_param_1_ai_object", slot_center_sortie_enemy_strength),
					(try_begin),
						(ge, ":faction_of_troop_script_param_1_ai_object_center_sortie_enemy_strength", 4000),
						(val_sub, ":faction_of_troop_script_param_1_ai_object_center_sortie_enemy_strength", 4000),
						(store_div, ":value_5", ":faction_of_troop_script_param_1_ai_object_center_sortie_enemy_strength", 200),
						(val_add, ":value_5", 70),
					(else_try),
						(store_div, ":value_5", ":faction_of_troop_script_param_1_ai_object_center_sortie_enemy_strength", 100),
						(val_add, ":value_5", 30),
					(try_end),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_faction_of_troop_script_param_1_marshall_leaded_party_2_script_param_1_leaded_party", ":faction_of_troop_script_param_1_ai_object", ":script_param_1_leaded_party"),
					(gt, ":distance_to_party_from_party_faction_of_troop_script_param_1_marshall_leaded_party_2_script_param_1_leaded_party", ":value_5"),
					(try_begin),
						(eq, ":script_param_1", "$g_talk_troop"),
						(str_store_string, 15, "str__i_am_acting_independently_although_some_enemies_have_been_spotted_within_our_borders_they_havent_come_in_force_and_the_local_troops_should_be_able_to_dispatch_them"),
					(try_end),
				(try_end),
				(gt, ":distance_to_party_from_party_faction_of_troop_script_param_1_marshall_leaded_party_2_script_param_1_leaded_party", ":value_5"),
			(else_try),
				(try_begin),
					(eq, ":script_param_1", "$g_talk_troop"),
					(str_store_string, 15, "str__the_needs_of_the_realm_must_come_first"),
				(try_end),
				(assign, ":value", 1),
			(try_end),
			(assign, reg0, ":value")
		]),

	("find_total_prosperity_score",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(is_between, ":script_param_1", "p_town_1", "p_village_1"),
				(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
				(store_add, ":value", ":script_param_1_town_prosperity", 200),
				(val_div, ":value", 10),
				(try_begin),
					(is_between, ":script_param_1", "p_town_1", "p_castle_1"),
					(store_mul, ":value_2", ":value", 15),
				(else_try),
					(store_mul, ":value_2", ":value", 5),
				(try_end),
				(assign, ":value_3", ":value_2"),
				(try_for_range_backwards, ":var_6", "p_village_1", "p_salt_mine"),
					(party_slot_eq, ":var_6", slot_village_bound_center, ":script_param_1"),
					(party_get_slot, ":var_6_town_prosperity", ":var_6", slot_town_prosperity),
					(store_add, ":value_4", ":var_6_town_prosperity", 200),
					(val_div, ":value_4", 10),
					(store_mul, ":value_5", ":value_4", 5),
					(val_add, ":value_3", ":value_5"),
				(try_end),
			(else_try),
				(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
				(store_add, ":value", ":script_param_1_town_prosperity", 200),
				(val_div, ":value", 10),
				(store_mul, ":value_2", ":value", 5),
				(assign, ":value_3", ":value_2"),
			(try_end),
			(val_div, ":value_3", 10),
			(assign, reg0, ":value_3")
		]),

	("calculate_center_assailability_score",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", -1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(store_current_hours, ":current_hours"),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_last_offensive_time", ":faction_of_troop_script_param_1", slot_faction_ai_last_offensive_time),
			(val_sub, ":current_hours", ":faction_of_troop_script_param_1_ai_last_offensive_time"),
			(store_div, ":value_2", ":current_hours", 12),
			(val_add, ":value_2", 30),
			(val_min, ":value_2", 100),
			(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
			(assign, ":value_3", -1),
			(assign, ":value_4", 0),
			(try_begin),
				(gt, ":faction_of_troop_script_param_1_marshall", 0),
				(troop_get_slot, ":value_3", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
				(party_is_active, ":value_3"),
				(party_get_slot, ":value_4", ":value_3", slot_party_cached_strength),
				(party_get_slot, ":value_3_follower_strength", ":value_3", slot_party_follower_strength),
			(try_end),
			(faction_get_slot, ":faction_of_troop_script_param_1_last_attacked_center", ":faction_of_troop_script_param_1", slot_faction_last_attacked_center),
			(faction_get_slot, ":faction_of_troop_script_param_1_last_attacked_hours", ":faction_of_troop_script_param_1", slot_faction_last_attacked_hours),
			(try_begin),
				(store_current_hours, ":current_hours_2"),
				(store_add, ":value_5", ":faction_of_troop_script_param_1_last_attacked_hours", 24),
				(gt, ":current_hours_2", ":value_5"),
				(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_last_attacked_center, 0),
				(assign, ":faction_of_troop_script_param_1_last_attacked_center", 0),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":faction_of_troop_script_param_1_last_attacked_center", 0),
				(this_or_next|eq, ":faction_of_troop_script_param_1_last_attacked_center", ":script_param_2"),
				(this_or_next|eq, "$g_do_not_skip_other_than_current_ai_object", 1),
				(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(party_is_active, ":script_param_2"),
				(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
				(store_relation, ":relation_faction_of_party_script_param_2_faction_of_troop_script_param_1", ":faction_of_party_script_param_2", ":faction_of_troop_script_param_1"),
				(lt, ":relation_faction_of_party_script_param_2_faction_of_troop_script_param_1", 0),
				(assign, ":value_6", -1),
				(try_begin),
					(is_between, ":script_param_2", "p_town_1", "p_village_1"),
					(neg|party_slot_eq, ":script_param_2", slot_center_is_besieged_by, -1),
					(party_get_slot, ":script_param_2_center_is_besieged_by", ":script_param_2", slot_center_is_besieged_by),
					(party_is_active, ":script_param_2_center_is_besieged_by"),
					(store_faction_of_party, ":value_6", ":script_param_2_center_is_besieged_by"),
				(try_end),
				(this_or_next|eq, ":value_6", -1),
				(eq, ":value_6", ":faction_of_troop_script_param_1"),
				(assign, ":value_7", 0),
				(try_begin),
					(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
					(try_begin),
						(party_slot_eq, ":script_param_2", slot_village_state, 1),
						(party_get_slot, ":script_param_2_village_raided_by", ":script_param_2", slot_village_raided_by),
						(party_is_active, ":script_param_2_village_raided_by"),
						(store_faction_of_party, ":faction_of_party_script_param_2_village_raided_by", ":script_param_2_village_raided_by"),
						(neq, ":faction_of_party_script_param_2_village_raided_by", ":faction_of_troop_script_param_1"),
						(assign, ":value_8", 1),
					(else_try),
						(assign, ":value_8", 0),
					(try_end),
					(this_or_next|party_slot_eq, ":script_param_2", slot_village_state, 2),
					(eq, ":value_8", 1),
					(assign, ":value_7", 1),
				(try_end),
				(eq, ":value_7", 0),
				(assign, ":value_9", 0),
				(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(is_between, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
					(neq, ":faction", ":faction_of_troop_script_param_1"),
					(faction_get_slot, ":faction_ai_object", ":faction", slot_faction_ai_object),
					(eq, ":faction_ai_object", ":script_param_2"),
					(store_relation, ":relation_faction_of_party_script_param_2_faction", ":faction_of_party_script_param_2", ":faction"),
					(lt, ":relation_faction_of_party_script_param_2_faction", 0),
					(assign, ":value_9", 1),
				(try_end),
				(eq, ":value_9", 0),
				(try_begin),
					(is_between, ":script_param_2", "p_town_1", "p_village_1"),
					(party_get_slot, ":script_param_2_cached_strength", ":script_param_2", slot_party_cached_strength),
					(party_get_slot, ":script_param_2_nearby_friend_strength", ":script_param_2", slot_party_nearby_friend_strength),
					(val_div, ":script_param_2_nearby_friend_strength", 2),
					(store_add, ":value_10", ":script_param_2_cached_strength", ":script_param_2_nearby_friend_strength"),
					(val_mul, ":value_10", 4),
					(val_div, ":value_10", 3),
					(assign, ":value_11", ":value_4"),
					(val_add, ":value_11", ":value_3_follower_strength"),
					(store_mul, ":value_12", ":value_11", 100),
					(try_begin),
						(gt, ":value_10", 0),
						(val_div, ":value_12", ":value_10"),
					(else_try),
						(assign, ":value_12", 1000),
					(try_end),
				(else_try),
					(party_get_slot, ":script_param_2_nearby_friend_strength", ":script_param_2", slot_party_nearby_friend_strength),
					(assign, ":value_10", 1000),
					(assign, ":value_11", ":value_4"),
					(val_add, ":value_11", ":value_3_follower_strength"),
					(store_mul, ":value_12", ":value_11", 100),
					(try_begin),
						(gt, ":value_10", 0),
						(val_div, ":value_12", ":value_10"),
					(else_try),
						(assign, ":value_12", 1000),
					(try_end),
				(try_end),
				(ge, ":value_12", 120),
				(store_sub, ":value_13", ":value_12", 120),
				(try_begin),
					(lt, ":value_13", 100),
					(store_add, ":value_14", ":value_13", 20),
				(else_try),
					(lt, ":value_13", 200),
					(store_sub, ":value_14", ":value_13", 100),
					(val_div, ":value_14", 2),
					(val_add, ":value_14", 120),
				(else_try),
					(lt, ":value_13", 400),
					(store_sub, ":value_14", ":value_13", 200),
					(val_div, ":value_14", 5),
					(val_add, ":value_14", 170),
				(else_try),
					(lt, ":value_13", 800),
					(store_sub, ":value_14", ":value_13", 400),
					(val_div, ":value_14", 10),
					(val_add, ":value_14", 210),
				(else_try),
					(assign, ":value_14", 250),
				(try_end),
				(assign, ":var_36", 0),
				(assign, ":value_15", 0),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_party_script_param_2", ":party", ":script_param_2"),
					(val_add, ":value_15", ":distance_to_party_from_party_party_script_param_2"),
					(val_add, ":var_36", 1),
				(try_end),
				(try_begin),
					(gt, ":var_36", 0),
					(store_div, ":value_16", ":value_15", ":var_36"),
					(try_begin),
						(ge, ":value_3", 0),
						(party_is_active, ":value_3"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_value_3_script_param_2", ":value_3", ":script_param_2"),
					(else_try),
						(assign, ":distance_to_party_from_party_value_3_script_param_2", 100),
					(try_end),
					(try_begin),
						(faction_get_slot, ":faction_of_troop_script_param_1_ai_state", ":faction_of_troop_script_param_1", slot_faction_ai_state),
						(eq, ":faction_of_troop_script_param_1_ai_state", 2),
						(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
						(ge, ":faction_of_troop_script_param_1_ai_object", 0),
						(neq, ":faction_of_troop_script_param_1_ai_object", ":script_param_2"),
						(try_begin),
							(ge, ":value_14", 300),
							(assign, ":value_14", 200),
						(else_try),
							(ge, ":value_14", 100),
							(val_sub, ":value_14", 100),
							(val_div, ":value_14", 2),
							(val_add, ":value_14", 100),
						(try_end),
						(try_begin),
							(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
							(eq, "$g_do_not_skip_other_than_current_ai_object", 0),
							(assign, ":value_14", 0),
						(try_end),
						(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_last_attacked_center, ":faction_of_troop_script_param_1_ai_object"),
						(store_current_hours, ":current_hours_2"),
						(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_last_attacked_hours, ":current_hours_2"),
						(eq, ":script_param_3", 0),
						(store_mul, ":value_17", ":distance_to_party_from_party_value_3_script_param_2", 2),
						(val_div, ":value_17", 3),
					(else_try),
						(store_div, ":value_17", ":distance_to_party_from_party_value_3_script_param_2", 3),
					(try_end),
					(store_add, ":value_15", ":value_16", ":value_17"),
				(else_try),
					(assign, ":value_15", 100),
				(try_end),
				(try_begin),
					(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
					(assign, ":var_46", reg0),
					(gt, ":var_46", 0),
					(try_begin),
						(lt, ":value_15", 30),
						(assign, ":value_18", 100),
					(else_try),
						(lt, ":value_15", 80),
						(store_sub, ":value_18", ":value_15", 30),
						(val_div, ":value_18", 1),
						(store_sub, ":value_18", 100, ":value_18"),
					(else_try),
						(lt, ":value_15", 160),
						(store_sub, ":value_18", ":value_15", 80),
						(val_div, ":value_18", 2),
						(store_sub, ":value_18", 50, ":value_18"),
					(else_try),
						(assign, ":value_18", 10),
					(try_end),
				(else_try),
					(try_begin),
						(lt, ":value_15", 40),
						(assign, ":value_18", 100),
					(else_try),
						(lt, ":value_15", 140),
						(store_sub, ":value_18", ":value_15", 40),
						(val_div, ":value_18", 2),
						(store_sub, ":value_18", 100, ":value_18"),
					(else_try),
						(lt, ":value_15", 300),
						(store_sub, ":value_18", ":value_15", 140),
						(val_div, ":value_18", 4),
						(store_sub, ":value_18", 50, ":value_18"),
					(else_try),
						(assign, ":value_18", 10),
					(try_end),
				(try_end),
				(try_begin),
					(lt, ":value_18", 100),
					(ge, "$g_dplmc_ai_changes", 0),
					(party_slot_eq, ":script_param_2", slot_center_ex_faction, ":faction_of_troop_script_param_1"),
					(party_get_slot, reg0, ":script_param_2", 403),
					(gt, reg0, 0),
					(store_current_hours, ":current_hours_3"),
					(val_sub, ":current_hours_3", reg0),
					(try_begin),
						(ge, "$g_dplmc_ai_changes", 2),
						(assign, reg0, 504),
					(else_try),
						(ge, "$g_dplmc_ai_changes", 1),
						(assign, reg0, 336),
					(else_try),
						(assign, reg0, 168),
					(try_end),
					(lt, ":current_hours_3", reg0),
					(val_add, ":value_18", 100),
					(val_div, ":value_18", 2),
				(try_end),
				(store_mul, ":value", ":value_18", ":value_14"),
				(val_mul, ":value", ":value_2"),
				(val_div, ":value", 100),
				(call_script, "script_find_total_prosperity_score", ":script_param_2"),
				(assign, ":var_49", reg0),
				(val_mul, ":var_49", 3),
				(val_div, ":var_49", 2),
				(val_mul, ":value", ":var_49"),
				(try_begin),
					(party_slot_eq, ":script_param_2", slot_center_ex_faction, ":faction_of_troop_script_param_1"),
					(party_slot_eq, ":script_param_2", slot_center_original_faction, ":faction_of_troop_script_param_1"),
					(val_mul, ":value", 12),
					(val_div, ":value", 10),
				(else_try),
					(this_or_next|party_slot_eq, ":script_param_2", slot_center_ex_faction, ":faction_of_troop_script_param_1"),
					(party_slot_eq, ":script_param_2", slot_center_original_faction, ":faction_of_troop_script_param_1"),
					(val_mul, ":value", 11),
					(val_div, ":value", 10),
				(try_end),
				(val_div, ":value", 1000),
				(try_begin),
					(eq, ":faction_of_party_script_param_2", "fac_player_supporters_faction"),
					(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
					(assign, ":var_51", 0),
					(try_for_range, ":party_2", "p_town_1", "p_village_1"),
						(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
						(eq, ":faction_of_party_party_2", "fac_player_supporters_faction"),
						(val_add, ":var_51", 1),
					(try_end),
					(try_begin),
						(eq, ":game_reduce_campaign_ai", 2),
						(try_begin),
							(le, ":var_51", 2),
							(assign, ":value_19", 0),
						(else_try),
							(eq, ":var_51", 3),
							(assign, ":value_19", 20),
						(else_try),
							(eq, ":var_51", 4),
							(assign, ":value_19", 40),
						(else_try),
							(eq, ":var_51", 5),
							(eq, ":var_51", 6),
							(assign, ":value_19", 55),
						(else_try),
							(eq, ":var_51", 7),
							(eq, ":var_51", 8),
							(eq, ":var_51", 9),
							(assign, ":value_19", 70),
						(else_try),
							(assign, ":value_19", 85),
						(try_end),
					(else_try),
						(eq, ":game_reduce_campaign_ai", 1),
						(try_begin),
							(le, ":var_51", 1),
							(assign, ":value_19", 25),
						(else_try),
							(eq, ":var_51", 2),
							(assign, ":value_19", 45),
						(else_try),
							(eq, ":var_51", 3),
							(assign, ":value_19", 60),
						(else_try),
							(eq, ":var_51", 4),
							(eq, ":var_51", 5),
							(assign, ":value_19", 75),
						(else_try),
							(eq, ":var_51", 6),
							(eq, ":var_51", 7),
							(eq, ":var_51", 8),
							(assign, ":value_19", 85),
						(else_try),
							(assign, ":value_19", 92),
						(try_end),
					(else_try),
						(assign, ":value_19", 100),
					(try_end),
					(val_mul, ":value", ":value_19"),
					(val_div, ":value", 100),
				(try_end),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(eq, ":faction_of_troop_script_param_1", "fac_kingdom_4"),
					(ge, ":value", -1),
					(assign, reg0, ":value"),
					(assign, reg7, ":var_49"),
					(assign, reg8, ":value_14"),
					(assign, reg9, ":value_18"),
					(assign, reg10, ":value_2"),
					(str_store_party_name, 8, ":script_param_2"),
					(assign, reg11, ":script_param_3"),
				(try_end),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_12"),
			(assign, reg2, ":value_18"),
			(assign, reg3, ":var_49")
		]),

	("find_center_to_defend",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_state", ":faction_of_troop_script_param_1", slot_faction_ai_state),
			(assign, ":value", -1),
			(try_begin),
				(gt, ":faction_of_troop_script_param_1_marshall", 0),
				(troop_get_slot, ":value", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
			(try_end),
			(assign, ":value_2", -1),
			(assign, ":value_3", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
				(party_get_slot, ":party_center_sortie_enemy_strength", ":party", slot_center_sortie_enemy_strength),
				(assign, ":var_11", ":party_center_sortie_enemy_strength"),
				(assign, ":value_4", 0),
				(try_begin),
					(is_between, ":party", "p_town_1", "p_village_1"),
					(party_slot_ge, ":party", 54, 0),
					(call_script, "script_find_total_prosperity_score", ":party"),
					(assign, ":value_5", reg0),
					(party_get_slot, ":party_cached_strength", ":party", slot_party_cached_strength),
					(val_mul, ":party_cached_strength", 4),
					(val_div, ":party_cached_strength", 3),
					(assign, ":var_15", 0),
					(val_add, ":party_cached_strength", ":var_15"),
					(store_mul, ":value_6", ":var_11", 100),
					(val_add, ":party_cached_strength", 1),
					(val_max, ":party_cached_strength", 1),
					(val_div, ":value_6", ":party_cached_strength"),
					(assign, ":value_7", 0),
					(party_get_slot, ":party_center_is_besieged_by", ":party", slot_center_is_besieged_by),
					(try_begin),
						(party_is_active, ":party_center_is_besieged_by"),
						(try_begin),
							(eq, ":party_center_is_besieged_by", "p_main_party"),
							(assign, ":value_7", 1),
						(else_try),
							(store_faction_of_party, ":faction_of_party_party_center_is_besieged_by", ":party_center_is_besieged_by"),
							(eq, ":faction_of_party_party_center_is_besieged_by", "fac_player_faction"),
							(assign, ":value_7", 1),
						(else_try),
							(party_get_attached_to, ":attached_to_main_party", "p_main_party"),
							(ge, ":attached_to_main_party", 0),
							(eq, ":attached_to_main_party", ":party_center_is_besieged_by"),
							(assign, ":value_7", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":value_7", 0),
						(try_begin),
							(lt, ":value_6", 40),
							(assign, ":value_4", 1),
						(else_try),
							(lt, ":value_6", 80),
							(store_sub, ":value_4", ":value_6", 40),
							(val_div, ":value_4", 5),
							(val_add, ":value_4", 1),
						(else_try),
							(lt, ":value_6", 120),
							(store_sub, ":value_4", ":value_6", 80),
							(val_div, ":value_4", 4),
							(val_add, ":value_4", 7),
						(else_try),
							(lt, ":value_6", 200),
							(store_sub, ":value_4", ":value_6", 120),
							(val_div, ":value_4", 10),
							(val_add, ":value_4", 17),
						(else_try),
							(assign, ":value_4", 25),
						(try_end),
					(else_try),
						(try_begin),
							(lt, ":value_6", 200),
							(val_div, ":value_4", 10),
							(val_add, ":value_4", 6),
						(else_try),
							(assign, ":value_4", 26),
						(try_end),
					(try_end),
				(else_try),
					(is_between, ":party", "p_village_1", "p_salt_mine"),
					(party_slot_eq, ":party", slot_village_state, 1),
					(gt, ":var_11", 0),
					(call_script, "script_find_total_prosperity_score", ":party"),
					(assign, ":value_6", 100),
					(assign, ":value_5", reg0),
					(assign, ":value_4", 10),
				(try_end),
				(gt, ":value_4", 0),
				(try_begin),
					(is_between, ":party", "p_town_1", "p_village_1"),
					(assign, ":value_8", 120),
					(try_begin),
						(ge, ":value", 0),
						(party_is_active, ":value"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_value_party", ":value", ":party"),
					(else_try),
						(assign, ":distance_to_party_from_party_value_party", 100),
					(try_end),
					(try_begin),
						(eq, ":faction_of_troop_script_param_1_ai_state", 5),
						(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
						(is_between, ":faction_of_troop_script_param_1_ai_object", "p_town_1", "p_village_1"),
						(neq, ":faction_of_troop_script_param_1_ai_object", ":party"),
						(val_mul, ":distance_to_party_from_party_value_party", 2),
						(val_add, ":distance_to_party_from_party_value_party", 20),
					(try_end),
					(val_mul, ":distance_to_party_from_party_value_party", 2),
					(try_begin),
						(lt, ":distance_to_party_from_party_value_party", 10),
						(assign, ":value_9", 100),
					(else_try),
						(lt, ":distance_to_party_from_party_value_party", 160),
						(store_sub, ":value_9", ":distance_to_party_from_party_value_party", 10),
						(val_div, ":value_9", 3),
						(store_sub, ":value_9", 100, ":value_9"),
					(else_try),
						(lt, ":distance_to_party_from_party_value_party", 360),
						(store_sub, ":value_9", ":distance_to_party_from_party_value_party", 250),
						(val_div, ":value_9", 5),
						(store_sub, ":value_9", 50, ":value_9"),
					(else_try),
						(assign, ":value_9", 10),
					(try_end),
				(else_try),
					(store_add, ":value_8", ":var_11", 20000),
					(val_div, ":value_8", 200),
					(assign, ":value_9", 70),
				(try_end),
				(try_begin),
					(eq, 0, "$g_dplmc_ai_changes"),
					(party_slot_ge, ":party", 7, 0),
					(val_mul, ":value_4", 120),
					(val_div, ":value_4", 100),
				(try_end),
				(store_mul, ":value_10", ":value_8", ":value_5"),
				(val_mul, ":value_10", ":value_4"),
				(val_mul, ":value_10", ":value_9"),
				(val_div, ":value_10", 10000),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(gt, ":value_10", 0),
					(eq, ":faction_of_troop_script_param_1", "fac_kingdom_6"),
					(assign, reg0, ":value_10"),
					(str_store_party_name, 32, ":party"),
					(assign, reg1, ":value_5"),
					(assign, reg2, ":value_8"),
					(assign, reg3, ":value_4"),
					(assign, reg4, ":value_9"),
				(try_end),
				(gt, ":value_10", ":value_3"),
				(assign, ":value_2", ":party"),
				(assign, ":value_3", ":value_10"),
				(assign, ":var_26", ":var_11"),
			(try_end),
			(val_mul, ":value_3", 3),
			(val_div, ":value_3", 2),
			(assign, reg0, ":value_2"),
			(assign, reg1, ":value_3"),
			(assign, reg2, ":var_26")
		]),

	("npc_decision_checklist_peace_or_war",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_dplmc_translate_inactive_player_supporter_faction_2", ":script_param_1", ":script_param_2"),
			(assign, ":script_param_1", reg0),
			(assign, ":script_param_2", reg1),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":var_6", 0),
			(assign, ":value_3", 0),
			(assign, ":var_8", 0),
			(assign, ":value_4", 0),
			(assign, "$g_concession_demanded", 0),
			(assign, ":value_5", 0),
			(assign, ":value_6", 0),
			(assign, ":var_12", 0),
			(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", "fac_player_supporters_faction"),
				(assign, ":value_7", "$player_honor"),
				(val_add, ":value_2", 2),
			(else_try),
				(assign, ":value_7", 0),
			(try_end),
			(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
			(faction_get_slot, ":script_param_2_leader", ":script_param_2", slot_faction_leader),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_1_leader", ":script_param_2_leader"),
			(assign, ":var_17", reg0),
			(val_min, ":var_17", 10),
			(val_add, ":value_7", ":var_17"),
			(str_store_troop_name, 15, ":script_param_1_leader"),
			(str_store_troop_name, 16, ":script_param_2_leader"),
			(assign, ":value_8", 0),
			(assign, ":value_9", 0),
			(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":script_param_1", ":script_param_2"),
			(assign, ":var_20", reg0),
			(str_clear, 12),
			(try_begin),
				(eq, ":var_20", -2),
				(str_store_string, 12, "str_s15_is_at_war_with_s16_"),
				(store_add, ":value_10", ":script_param_2", 140),
				(val_sub, ":value_10", "fac_player_supporters_faction"),
				(faction_get_slot, ":value_9", ":script_param_1", ":value_10"),
				(store_add, ":value_11", ":script_param_1", 140),
				(val_sub, ":value_11", "fac_player_supporters_faction"),
				(faction_get_slot, ":value_8", ":script_param_2", ":value_11"),
			(else_try),
				(eq, ":var_20", 1),
				(str_store_string, 12, "str_in_the_short_term_s15_has_a_truce_with_s16_as_a_matter_of_general_policy_"),
			(else_try),
				(eq, ":var_20", -1),
				(str_store_string, 12, "str_in_the_short_term_s15_was_recently_provoked_by_s16_and_is_under_pressure_to_declare_war_as_a_matter_of_general_policy_"),
			(try_end),
			(try_begin),
				(is_between, "$g_talk_troop", "trp_npc1", "trp_knight_1_1_wife"),
				(str_clear, 12),
			(try_end),
			(try_begin),
				(gt, ":script_param_3", -1),
				(store_skill_level, ":skill_level_persuasion_script_param_3", "skl_persuasion", ":script_param_3"),
				(val_mul, ":skill_level_persuasion_script_param_3", 2),
				(val_add, ":value_7", ":skill_level_persuasion_script_param_3"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(assign, reg4, ":value_7"),
					(display_message, "str_envoymodified_diplomacy_score_honor_plus_relation_plus_envoy_persuasion_=_reg4"),
				(try_end),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_set_slot, ":faction", slot_faction_temp_slot, 0),
			(try_end),
			(try_for_parties, ":var_25"),
				(assign, ":value_12", 0),
				(try_begin),
					(is_between, ":var_25", "p_town_1", "p_castle_1"),
					(assign, ":value_12", 3),
				(else_try),
					(is_between, ":var_25", "p_castle_1", "p_village_1"),
					(assign, ":value_12", 2),
				(else_try),
					(is_between, ":var_25", "p_village_1", "p_salt_mine"),
					(assign, ":value_12", 1),
				(else_try),
					(party_get_template_id, ":template_id_var_25", ":var_25"),
					(eq, ":template_id_var_25", "pt_kingdom_hero_party"),
					(assign, ":value_12", 2),
				(try_end),
				(store_faction_of_party, ":faction_of_party_var_25", ":var_25"),
				(party_get_slot, ":var_25_center_original_faction", ":var_25", slot_center_original_faction),
				(party_get_slot, ":var_25_center_ex_faction", ":var_25", slot_center_ex_faction),
				(try_begin),
					(is_between, ":faction_of_party_var_25", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_get_slot, ":faction_of_party_var_25_temp_slot", ":faction_of_party_var_25", slot_faction_temp_slot),
					(val_add, ":faction_of_party_var_25_temp_slot", ":value_12"),
					(faction_set_slot, ":faction_of_party_var_25", slot_faction_temp_slot, ":faction_of_party_var_25_temp_slot"),
				(try_end),
				(try_begin),
					(eq, ":faction_of_party_var_25", ":script_param_2"),
					(val_add, ":value_2", ":value_12"),
					(try_begin),
						(this_or_next|eq, ":var_25_center_original_faction", ":script_param_1"),
						(eq, ":var_25_center_ex_faction", ":script_param_1"),
						(val_add, ":var_6", 1),
						(try_begin),
							(is_between, ":var_25", "p_town_1", "p_village_1"),
							(assign, "$g_concession_demanded", ":var_25"),
							(str_store_party_name, 18, "$g_concession_demanded"),
							(eq, ":var_25_center_ex_faction", ":script_param_1"),
							(this_or_next|lt, ":value_5", 1),
							(party_slot_ge, ":var_25", 403, ":value_6"),
							(assign, ":value_5", ":var_25"),
							(party_get_slot, ":value_6", ":var_25", 403),
						(try_end),
					(try_end),
				(else_try),
					(eq, ":faction_of_party_var_25", ":script_param_1"),
					(val_add, ":value", ":value_12"),
				(try_end),
			(try_end),
			(assign, ":value_13", -1),
			(assign, ":value_14", 60),
			(assign, ":value_15", -1),
			(assign, ":value_16", -1),
			(assign, ":value_17", -1),
			(assign, ":value_18", -1),
			(faction_get_slot, ":script_param_1_temp_slot", ":script_param_1", slot_faction_temp_slot),
			(faction_get_slot, ":script_param_1_temp_slot_2", ":script_param_1", slot_faction_temp_slot),
			(faction_get_slot, ":script_param_2_temp_slot", ":script_param_2", slot_faction_temp_slot),
			(assign, ":var_41", 0),
			(assign, ":var_42", 0),
			(try_for_range, ":faction_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_get_slot, ":faction_2_temp_slot", ":faction_2", slot_faction_temp_slot),
				(assign, ":var_45", ":faction_2_temp_slot"),
				(assign, ":var_46", ":faction_2_temp_slot"),
				(try_for_range, ":faction_3", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(neq, ":faction_3", ":faction_2"),
					(faction_get_slot, ":faction_3_temp_slot", ":faction_3", slot_faction_temp_slot),
					(call_script, "script_dplmc_get_faction_truce_length_with_faction", ":faction_2", ":faction_3"),
					(try_begin),
						(gt, reg0, 30),
						(store_mul, reg0, ":faction_3_temp_slot", 9),
						(val_div, reg0, 10),
						(val_add, ":var_45", reg0),
						(val_add, ":var_46", reg0),
					(else_try),
						(gt, reg0, 30),
						(store_mul, reg0, ":faction_3_temp_slot", 9),
						(val_div, reg0, 10),
						(val_add, ":var_46", reg0),
					(try_end),
				(try_end),
				(try_begin),
					(eq, ":faction_2", ":script_param_1"),
					(assign, ":script_param_1_temp_slot", ":var_45"),
					(assign, ":script_param_1_temp_slot_2", ":var_46"),
				(else_try),
					(store_relation, ":relation_faction_2_script_param_1", ":faction_2", ":script_param_1"),
					(lt, ":relation_faction_2_script_param_1", 0),
					(val_add, ":var_41", ":faction_3_temp_slot"),
				(try_end),
				(try_begin),
					(eq, ":faction_2", ":script_param_2"),
					(assign, ":script_param_2_temp_slot", ":var_46"),
				(else_try),
					(store_relation, ":relation_faction_2_script_param_1", ":faction_2", ":script_param_2"),
					(lt, ":relation_faction_2_script_param_1", 0),
					(val_add, ":var_42", ":faction_3_temp_slot"),
				(try_end),
				(try_begin),
					(gt, ":var_45", ":value_16"),
					(assign, ":value_15", ":faction_2"),
					(assign, ":value_16", ":var_45"),
				(try_end),
				(try_begin),
					(gt, ":var_46", ":value_18"),
					(assign, ":value_17", ":faction_2"),
					(assign, ":value_18", ":var_46"),
				(try_end),
				(gt, ":faction_2_temp_slot", ":value_14"),
				(assign, ":value_13", ":faction_2"),
				(assign, ":value_14", ":faction_2_temp_slot"),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 2),
				(gt, ":value_13", 1),
				(str_store_faction_name, 4, ":value_13"),
				(assign, reg3, ":value_14"),
				(display_message, "@{!}DEBUG - {s4} strongest kingdom with {reg3} strength"),
				(try_begin),
					(gt, ":value_15", 0),
					(neq, ":value_15", ":value_13"),
					(str_store_faction_name, 4, ":value_15"),
					(assign, reg3, ":value_16"),
					(display_message, "@{!}DEBUG - including offensive and defensive alliances {s4} strongest kingdom with {reg3} strength"),
				(try_end),
				(try_begin),
					(gt, ":value_17", 0),
					(neq, ":value_17", ":value_13"),
					(neq, ":value_17", ":value_15"),
					(str_store_faction_name, 4, ":value_17"),
					(assign, reg3, ":value_18"),
					(display_message, "@{!}DEBUG - including only defensive alliances {s4} strongest kingdom with {reg3} strength"),
				(try_end),
				(assign, reg3, ":value_14"),
				(str_store_faction_name, 4, ":value_13"),
			(try_end),
			(assign, ":value_19", 1),
			(try_begin),
				(gt, ":value", 0),
				(store_mul, ":value_19", ":value_2", 100),
				(val_div, ":value_19", ":value"),
			(try_end),
			(assign, ":value_20", 1),
			(try_begin),
				(gt, ":script_param_1_temp_slot", 0),
				(store_mul, ":value_20", ":script_param_2_temp_slot", 100),
				(val_div, ":value_20", ":script_param_1_temp_slot"),
			(try_end),
			(assign, ":value_21", 1),
			(try_begin),
				(gt, ":script_param_1_temp_slot_2", 0),
				(store_mul, ":value_21", ":script_param_2_temp_slot", 100),
				(val_div, ":value_21", ":script_param_1_temp_slot_2"),
			(try_end),
			(assign, ":value_22", 1),
			(try_begin),
				(gt, ":script_param_1_temp_slot_2", 0),
				(store_mul, ":value_22", ":var_41", 100),
				(val_div, ":value_22", ":script_param_1_temp_slot_2"),
			(try_end),
			(try_for_range, ":faction_4", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction_4", ":script_param_2"),
				(neq, ":faction_4", ":script_param_1"),
				(faction_slot_eq, ":faction_4", slot_faction_state, 0),
				(store_relation, ":relation_faction_2_script_param_1", ":faction_4", ":script_param_1"),
				(lt, ":relation_faction_2_script_param_1", 0),
				(assign, ":value_3", ":faction_4"),
				(val_add, ":var_8", 1),
				(call_script, "script_dplmc_get_faction_truce_length_with_faction", ":script_param_2", ":faction_4"),
				(try_begin),
					(le, reg0, 30),
					(val_add, ":var_12", 1),
				(try_end),
				(store_relation, ":relation_faction_2_script_param_1", ":faction_4", ":script_param_2"),
				(lt, ":relation_faction_2_script_param_1", 0),
				(assign, ":value_4", ":faction_4"),
			(try_end),
			(store_current_hours, ":current_hours"),
			(faction_get_slot, ":script_param_1_ai_last_decisive_event", ":script_param_1", slot_faction_ai_last_decisive_event),
			(store_sub, ":value_23", ":current_hours", ":script_param_1_ai_last_decisive_event"),
			(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1_leader", 4),
			(try_begin),
				(gt, "$supported_pretender", 0),
				(this_or_next|eq, "$supported_pretender", ":script_param_1_leader"),
				(eq, "$supported_pretender", ":script_param_2_leader"),
				(this_or_next|eq, ":script_param_1", "$supported_pretender_old_faction"),
				(eq, ":script_param_2", "$supported_pretender_old_faction"),
				(assign, ":value_24", -3),
				(assign, ":value_25", "str_s12s15_cannot_negotiate_with_s16_as_to_do_so_would_undermine_reg4herhis_own_claim_to_the_throne_this_civil_war_must_almost_certainly_end_with_the_defeat_of_one_side_or_another"),
			(else_try),
				(lt, ":value_7", -20),
				(this_or_next|lt, ":value_21", 125),
				(lt, ":value_19", 125),
				(lt, ":value_8", 400),
				(this_or_next|neq, ":var_20", -2),
				(lt, ":value_23", 720),
				(this_or_next|lt, ":value_22", 125),
				(eq, ":var_8", 0),
				(assign, ":value_24", -3),
				(assign, ":value_25", "str_s12s15_considers_s16_to_be_dangerous_and_untrustworthy_and_shehe_wants_to_bring_s16_down"),
			(else_try),
				(gt, ":var_6", 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "@{!}Actor centers held by target noted"),
				(try_end),
				(lt, ":value_8", 200),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "@{!}War damage under minimum"),
				(try_end),
				(this_or_next|lt, ":value_21", 125),
				(lt, ":value_19", 125),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "@{!}Strength ratio correct"),
				(try_end),
				(this_or_next|lt, ":value_22", 125),
				(eq, ":var_8", 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(display_message, "@{!}Third party wars"),
				(try_end),
				(assign, ":value_24", -2),
				(assign, ":value_25", "str_s12s15_is_anxious_to_reclaim_old_lands_such_as_s18_now_held_by_s16"),
			(else_try),
				(eq, ":var_20", -2),
				(this_or_next|lt, ":value_21", 125),
				(lt, ":value_19", 125),
				(le, ":var_8", 1),
				(ge, ":value_9", 5),
				(this_or_next|neq, ":var_20", -2),
				(lt, ":value_23", 720),
				(store_mul, ":value_26", ":value_8", 2),
				(gt, ":value_9", ":value_26"),
				(assign, ":value_24", -2),
				(assign, ":value_25", "str_s12s15_feels_that_reg4shehe_is_winning_the_war_against_s16_and_sees_no_reason_not_to_continue"),
			(else_try),
				(le, ":var_20", -1),
				(this_or_next|eq, ":var_20", -1),
				(le, ":value_9", 1),
				(this_or_next|lt, ":value_20", 150),
				(lt, ":value_19", 150),
				(this_or_next|lt, ":value_22", 150),
				(eq, ":var_8", 0),
				(faction_slot_ge, ":script_param_1", 62, 60),
				(assign, ":value_24", -1),
				(assign, ":value_25", "str_s12s15_faces_too_much_internal_discontent_to_feel_comfortable_ignoring_recent_provocations_by_s16s_subjects"),
			(else_try),
				(eq, ":var_20", -2),
				(lt, ":value_9", 100),
				(eq, ":var_8", 1),
				(assign, ":value_24", -1),
				(assign, ":value_25", "str_s12even_though_reg4shehe_is_fighting_on_two_fronts_s15_is_inclined_to_continue_the_war_against_s16_for_a_little_while_longer_for_the_sake_of_honor"),
			(else_try),
				(eq, ":var_20", -2),
				(lt, ":value_9", 100),
				(eq, ":var_8", 0),
				(assign, ":value_24", -1),
				(assign, ":value_25", "str_s12s15_feels_that_reg4shehe_must_pursue_the_war_against_s16_for_a_little_while_longer_for_the_sake_of_honor"),
			(else_try),
				(this_or_next|faction_slot_eq, ":script_param_1", slot_faction_ai_state, 2),
				(this_or_next|faction_slot_eq, ":script_param_1", slot_faction_ai_state, 3),
				(faction_slot_eq, ":script_param_1", slot_faction_ai_state, 4),
				(faction_get_slot, ":script_param_1_ai_object", ":script_param_1", slot_faction_ai_object),
				(party_is_active, ":script_param_1_ai_object"),
				(store_faction_of_party, ":faction_of_party_script_param_1_ai_object", ":script_param_1_ai_object"),
				(eq, ":faction_of_party_script_param_1_ai_object", ":script_param_2"),
				(str_store_party_name, 17, ":script_param_1_ai_object"),
				(assign, ":value_24", -1),
				(assign, ":value_25", "str_s12s15_is_currently_on_the_offensive_against_s17_now_held_by_s16_and_reluctant_to_negotiate"),
			(else_try),
				(this_or_next|eq, ":value_15", ":script_param_2"),
				(eq, ":value_13", ":script_param_2"),
				(eq, ":var_8", 0),
				(this_or_next|ge, ":var_20", -1),
				(lt, ":value_23", 1440),
				(assign, ":value_27", 0),
				(try_for_range, ":faction_5", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(neq, ":faction_5", ":script_param_1"),
					(neq, ":faction_5", ":script_param_2"),
					(faction_slot_eq, ":faction_5", slot_faction_state, 0),
					(store_relation, ":relation_faction_5_script_param_2", ":faction_5", ":script_param_2"),
					(lt, ":relation_faction_5_script_param_2", 0),
					(assign, ":value_27", 1),
				(try_end),
				(eq, ":value_27", 1),
				(assign, ":value_24", -1),
				(assign, ":value_25", "str_s12s15_is_alarmed_by_the_growing_power_of_s16"),
			(else_try),
				(eq, ":var_8", 0),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(display_message, "@{!}DEBUG -- No third party wars for {s15}"),
				(try_end),
				(eq, ":script_param_1", ":value_13"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(display_message, "@{!}DEBUG -- {s15} is strongest kingdom"),
				(try_end),
				(faction_get_slot, ":value", ":script_param_1", slot_faction_temp_slot),
				(faction_get_slot, ":value_2", ":script_param_2", slot_faction_temp_slot),
				(store_sub, ":value_28", ":value", ":value_2"),
				(store_sub, reg0, ":script_param_1_temp_slot", ":script_param_2_temp_slot"),
				(this_or_next|ge, reg0, 30),
				(ge, ":value_28", 30),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(display_message, "@{!}DEBUG -- {s15} has 30 point advantage over {s16}"),
				(try_end),
				(assign, ":value_29", 0),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(eq, ":faction_of_party_party", ":script_param_1"),
					(try_for_range, ":party_2", "p_town_1", "p_village_1"),
						(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
						(eq, ":faction_of_party_party_2", ":script_param_2"),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_party_2_party", ":party_2", ":party"),
						(lt, ":distance_to_party_from_party_party_2_party", 25),
						(assign, ":value_29", 1),
					(try_end),
				(try_end),
				(eq, ":value_29", 1),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(display_message, "@{!}DEBUG -- {s15} has proximity to {s16}"),
				(try_end),
				(assign, ":value_24", -1),
				(assign, ":value_25", "str_s12s15_declared_war_to_control_calradia"),
			(else_try),
				(lt, ":value_7", -20),
				(assign, ":value_24", 0),
				(assign, ":value_25", "str_s12s15_distrusts_s16_and_fears_that_any_deals_struck_between_the_two_realms_will_not_be_kept"),
			(else_try),
				(lt, ":relation_script_param_1_script_param_2", 0),
				(ge, ":var_8", 2),
				(assign, ":value_24", 3),
				(assign, ":value_25", "str_s12s15_is_at_war_on_too_many_fronts_and_eager_to_make_peace_with_s16"),
			(else_try),
				(gt, ":value_4", 0),
				(eq, ":var_6", 0),
				(this_or_next|ge, ":relation_script_param_1_script_param_2", 0),
				(eq, 1, 1),
				(assign, ":value_24", 3),
				(str_store_faction_name, 17, ":value_4"),
				(assign, ":value_25", "str_s12s15_seems_to_think_that_s16_and_reg4shehe_have_a_common_enemy_in_the_s17"),
			(else_try),
				(eq, ":var_20", -2),
				(ge, ":value_23", 720),
				(assign, ":value_24", 2),
				(assign, ":value_25", "str_s12s15_feels_frustrated_by_reg4herhis_inability_to_strike_a_decisive_blow_against_s16"),
			(else_try),
				(lt, ":relation_script_param_1_script_param_2", 0),
				(gt, ":value_8", 100),
				(val_mul, ":value_26", 2),
				(lt, ":value_9", ":value_26"),
				(assign, ":value_24", 2),
				(assign, ":value_25", "str_s12s15_has_suffered_enough_in_the_war_with_s16_for_too_little_gain_and_is_ready_to_pursue_a_peace"),
			(else_try),
				(gt, ":value_3", 0),
				(ge, ":value_7", 0),
				(lt, ":relation_script_param_1_script_param_2", 0),
				(assign, ":value_24", 1),
				(str_store_faction_name, 17, ":value_3"),
				(assign, ":value_25", "str_s12s15_would_like_to_firm_up_a_truce_with_s16_to_respond_to_the_threat_from_the_s17"),
			(else_try),
				(gt, ":value_3", 0),
				(ge, ":value_7", 0),
				(assign, ":value_24", 1),
				(str_store_faction_name, 17, ":value_3"),
				(assign, ":value_25", "str_s12s15_wishes_to_be_at_peace_with_s16_so_as_to_pursue_the_war_against_the_s17"),
			(else_try),
				(gt, ":value_19", 175),
				(assign, ":value_24", 1),
				(assign, ":value_25", "str_s12s15_seems_to_be_intimidated_by_s16_and_would_like_to_avoid_hostilities"),
			(else_try),
				(lt, ":relation_script_param_1_script_param_2", 0),
				(assign, ":value_24", 1),
				(assign, ":value_25", "str_s12s15_has_no_particular_reason_to_continue_the_war_with_s16_and_would_probably_make_peace_if_given_the_opportunity"),
			(else_try),
				(assign, ":value_24", 1),
				(assign, ":value_25", "str_s12s15_seems_to_be_willing_to_improve_relations_with_s16"),
			(try_end),
			(try_begin),
				(gt, "$g_concession_demanded", 0),
				(gt, ":value_5", 0),
				(neq, "$g_concession_demanded", ":value_5"),
				(try_begin),
					(is_between, "$g_concession_demanded", "p_town_1", "p_castle_1"),
					(neg|is_between, ":value_5", "p_town_1", "p_castle_1"),
				(else_try),
					(is_between, ":value_5", "p_town_1", "p_castle_1"),
					(neg|is_between, "$g_concession_demanded", "p_town_1", "p_castle_1"),
					(assign, "$g_concession_demanded", ":value_5"),
				(else_try),
					(party_slot_eq, ":value_5", slot_center_original_faction, ":script_param_1"),
					(neg|party_slot_eq, "$g_concession_demanded", slot_center_original_faction, ":script_param_1"),
					(assign, "$g_concession_demanded", ":value_5"),
				(try_end),
				(eq, "$g_concession_demanded", ":value_5"),
				(str_store_party_name, 18, "$g_concession_demanded"),
			(try_end),
			(str_store_string, 14, ":value_25"),
			(assign, reg0, ":value_24"),
			(assign, reg1, ":value_25")
		]),

	("npc_decision_checklist_male_guardian_assess_suitor",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(assign, ":var_5", "$players_kingdom"),
			(else_try),
				(store_faction_of_troop, ":var_5", ":script_param_2"),
			(try_end),
			(store_relation, ":relation_faction_of_troop_script_param_1_var_5", ":faction_of_troop_script_param_1", ":var_5"),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2"),
			(assign, ":var_7", reg0),
			(troop_get_slot, ":script_param_2_renown", ":script_param_2", slot_troop_renown),
			(assign, ":value", -1),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(gt, "$marriage_candidate", 0),
				(try_for_range, ":troop", "trp_knight_1_1", "trp_kingdom_1_pretender"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_love_interest_1, "$marriage_candidate"),
					(this_or_next|troop_slot_eq, ":troop", slot_troop_love_interest_2, "$marriage_candidate"),
					(troop_slot_eq, ":troop", slot_troop_love_interest_3, "$marriage_candidate"),
					(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
					(gt, reg0, 5),
					(troop_slot_ge, ":troop", 7, ":script_param_2_renown"),
					(assign, ":value", ":troop"),
					(str_store_troop_name, 14, ":troop"),
					(str_store_troop_name, 16, "$marriage_candidate"),
				(try_end),
			(try_end),
			(try_begin),
				(lt, ":script_param_2_renown", 50),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
				(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
				(assign, ":value_2", "str_excuse_me_how_can_you_possibly_imagine_yourself_worthy_to_marry_into_our_family"),
				(assign, ":value_3", -3),
			(else_try),
				(lt, ":script_param_2_renown", 50),
				(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 6),
				(assign, ":value_2", "str_em_with_regard_to_her_ladyship_we_were_looking_specifically_for_a_groom_of_some_distinction_fight_hard_count_your_dinars_and_perhaps_some_day_in_the_future_we_may_speak_of_such_things_my_good_man"),
				(assign, ":value_3", -1),
			(else_try),
				(lt, ":script_param_2_renown", 50),
				(assign, ":value_2", "str_em_with_regard_to_her_ladyship_we_were_looking_specifically_for_a_groom_of_some_distinction"),
				(assign, ":value_3", -2),
			(else_try),
				(lt, ":script_param_2_renown", 200),
				(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 6),
				(assign, ":value_2", "str_it_is_too_early_for_you_to_be_speaking_of_such_things_you_are_still_making_your_mark_in_the_world"),
				(assign, ":value_3", -1),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(neq, ":var_5", "$players_kingdom"),
				(str_store_faction_name, 4, ":faction_of_troop_script_param_1"),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 2),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(assign, ":value_2", "str_you_dont_serve_the_s4_so_id_say_no_one_day_we_may_be_at_war_and_i_prefer_not_to_have_to_kill_my_inlaws_if_at_all_possible"),
				(assign, ":value_3", -1),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(neq, ":var_5", "$players_kingdom"),
				(neq, ":script_param_1_lord_reputation_type", 6),
				(neq, ":script_param_1_lord_reputation_type", 4),
				(assign, ":value_2", "str_as_you_are_not_a_vassal_of_the_s4_i_must_decline_your_request_the_twists_of_fate_may_mean_that_we_will_one_day_cross_swords_and_i_would_hope_not_to_make_a_widow_of_a_lady_whom_i_am_obligated_to_protect"),
				(assign, ":value_3", -1),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(lt, ":relation_faction_of_troop_script_param_1_var_5", 0),
				(assign, ":value_2", "str_as_you_are_not_a_vassal_of_the_s4_i_must_decline_your_request_the_twists_of_fate_may_mean_that_we_will_one_day_cross_swords_and_i_would_hope_not_to_make_a_widow_of_a_lady_whom_i_am_obligated_to_protect"),
				(assign, ":value_3", -1),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(neq, "$player_has_homage", 1),
				(neg|faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 0),
				(assign, ":value_2", "str_as_you_are_not_a_pledged_vassal_of_our_liege_with_the_right_to_hold_land_i_must_refuse_your_request_to_marry_into_our_family"),
				(assign, ":value_3", -1),
			(else_try),
				(gt, ":value", -1),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 3),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(assign, ":value_2", "str_look_here_lad__the_young_s14_has_been_paying_court_to_s16_and_youll_have_to_admit__hes_a_finer_catch_for_her_than_you_so_lets_have_no_more_of_this_talk_shall_we"),
				(assign, ":value_3", -1),
			(else_try),
				(lt, ":var_7", -4),
				(assign, ":value_2", "str_i_do_not_care_for_you_sir_and_i_consider_it_my_duty_to_protect_the_ladies_of_my_household_from_undesirable_suitors"),
				(assign, ":value_3", -3),
			(else_try),
				(lt, ":var_7", 5),
				(assign, ":value_2", "str_hmm_young_girls_may_easily_be_led_astray_so_out_of_a_sense_of_duty_to_the_ladies_of_my_household_i_think_i_would_like_to_get_to_know_you_a_bit_better_we_may_speak_of_this_at_a_later_date"),
				(assign, ":value_3", -1),
			(else_try),
				(assign, ":value_2", "str_you_may_indeed_make_a_fine_match_for_the_young_mistress"),
				(assign, ":value_3", 1),
			(try_end),
			(assign, reg0, ":value_3"),
			(assign, reg1, ":value_2")
		]),

	("npc_decision_checklist_marry_female_pc",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", reg1),
			(call_script, "script_dplmc_store_is_female_troop_1_troop_2", "trp_player", ":script_param_1"),
			(assign, ":var_3", reg0),
			(assign, ":var_4", reg1),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(call_script, "script_troop_get_romantic_chemistry_with_troop", ":script_param_1", "trp_player"),
			(assign, ":var_6", reg0),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_1", "trp_player"),
			(assign, ":var_7", reg0),
			(assign, ":value", -1),
			(try_for_range, ":troop", "trp_knight_1_1_wife", "trp_heroes_end"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_1, ":troop"),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_love_interest_2, ":troop"),
				(troop_slot_eq, ":script_param_1", slot_troop_love_interest_3, ":troop"),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":value"),
				(assign, ":var_10", reg0),
				(gt, ":var_10", ":var_7"),
				(assign, ":value", ":troop"),
			(try_end),
			(assign, ":var_11", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(troop_slot_eq, ":party", slot_troop_renown, "trp_player"),
				(val_add, ":var_11", 1),
			(try_end),
			(assign, ":value_2", 0),
			(try_begin),
				(troop_slot_ge, "trp_player", 34, "trp_npc1"),
				(neg|troop_slot_eq, "trp_player", slot_troop_betrothed, ":script_param_1"),
				(str_store_string, 14, "str_my_lady_engaged_to_another"),
			(else_try),
				(lt, ":var_7", -3),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 7),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 4),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 8),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 10),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 9),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 24),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 25),
				(eq, ":script_param_1_lord_reputation_type", 6),
				(str_store_string, 14, "str_madame__given_our_relations_in_the_past_this_proposal_is_most_surprising_i_do_not_think_that_you_are_the_kind_of_woman_who_can_be_bent_to_a_hushands_will_and_i_would_prefer_not_to_have_our_married_life_be_a_source_of_constant_acrimony"),
			(else_try),
				(lt, ":var_7", -10),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 2),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(str_store_string, 14, "str_i_would_prefer_to_marry_a_proper_maiden_who_will_obey_her_husband_and_is_not_likely_to_split_his_head_with_a_sword"),
			(else_try),
				(lt, ":var_6", 5),
				(str_store_string, 14, "str_my_lady_not_sufficient_chemistry"),
			(else_try),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 7),
				(eq, ":script_param_1_lord_reputation_type", 1),
				(neq, ":var_4", 1),
				(eq, ":var_3", 1),
				(troop_get_slot, ":script_param_1_set_decision_seed", ":script_param_1", slot_troop_set_decision_seed),
				(val_add, ":script_param_1_set_decision_seed", "$romantic_attraction_seed"),
				(val_mod, ":script_param_1_set_decision_seed", 5),
				(try_begin),
					(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
					(assign, ":script_param_1_set_decision_seed", 0),
				(else_try),
					(ge, "$g_disable_condescending_comments", 2),
					(assign, ":script_param_1_set_decision_seed", 0),
				(try_end),
				(try_begin),
					(neq, ":script_param_1_set_decision_seed", 0),
				(else_try),
					(this_or_next|lt, ":var_6", 15),
					(this_or_next|lt, ":var_7", 30),
					(lt, "$player_honor", 10),
					(assign, ":script_param_1_set_decision_seed", 1),
				(else_try),
					(lt, "$g_disable_condescending_comments", 2),
					(store_sub, reg0, 100, ":var_6"),
					(lt, ":var_7", reg0),
					(assign, ":script_param_1_set_decision_seed", 1),
				(else_try),
					(lt, "$g_disable_condescending_comments", 2),
					(store_character_level, reg0, "trp_player"),
					(val_mul, reg0, 3),
					(val_div, reg0, 4),
					(store_character_level, reg1, ":script_param_1"),
					(lt, reg1, reg0),
					(assign, ":script_param_1_set_decision_seed", 1),
				(else_try),
					(lt, "$g_disable_condescending_comments", 2),
					(troop_get_slot, ":script_param_1_mother", ":script_param_1", slot_troop_mother),
					(assign, reg1, 0),
					(try_for_range, ":troop_2", "trp_knight_1_1_wife", "trp_heroes_end"),
						(neg|troop_slot_ge, ":troop_2", 2, 11),
						(assign, reg0, 0),
						(try_begin),
							(troop_slot_eq, ":troop_2", slot_troop_guardian, ":script_param_1"),
							(assign, reg0, 1),
						(else_try),
							(is_between, ":script_param_1_mother", "trp_npc1", "trp_heroes_end"),
							(this_or_next|eq, ":troop_2", ":script_param_1_mother"),
							(troop_slot_eq, ":troop_2", slot_troop_mother, ":script_param_1_mother"),
							(assign, reg0, 1),
						(try_end),
						(neq, reg0, 0),
						(call_script, "script_troop_get_player_relation", ":troop_2"),
						(try_begin),
							(ge, reg0, 1),
							(val_max, reg1, 2),
						(else_try),
							(eq, reg0, 0),
							(val_max, reg1, 1),
						(else_try),
							(val_max, reg1, 3),
						(try_end),
					(try_end),
					(neq, reg0, 0),
					(neq, reg0, 2),
					(assign, ":script_param_1_set_decision_seed", 1),
				(try_end),
				(neq, ":script_param_1_set_decision_seed", 0),
				(str_store_string, 14, "str_my_lady_while_i_admire_your_valor_you_will_forgive_me_if_i_tell_you_that_a_woman_like_you_does_not_uphold_to_my_ideal_of_the_feminine_of_the_delicate_and_of_the_pure"),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 2),
				(lt, ":var_6", 15),
				(str_store_string, 14, "str_nah_i_want_a_woman_wholl_keep_quiet_and_do_what_shes_told_i_dont_think_thats_you"),
			(else_try),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 3),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(ge, ":var_6", 10),
				(eq, ":var_11", 0),
				(str_store_string, 14, "str_my_lady_you_are_possessed_of_great_charms_but_no_properties_until_you_obtain_some_to_marry_you_would_be_an_act_of_ingratitude_towards_my_ancestors_and_my_lineage"),
			(else_try),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 3),
				(eq, ":script_param_1_lord_reputation_type", 5),
				(eq, ":var_11", 0),
				(str_store_string, 14, "str_my_lady_you_are_a_woman_of_no_known_family_of_no_possessions__in_short_a_nobody_do_you_think_that_you_are_fit_to_marry_into_may_family"),
			(else_try),
				(lt, ":var_6", 5),
				(lt, ":var_7", 20),
				(neq, ":script_param_1_lord_reputation_type", 5),
				(neq, ":script_param_1_lord_reputation_type", 3),
				(str_store_string, 14, "str_my_lady__forgive_me__the_quality_of_our_bond_is_not_of_the_sort_which_the_poets_tell_us_is_necessary_to_sustain_a_happy_marriage"),
			(else_try),
				(eq, ":script_param_1_lord_reputation_type", 4),
				(faction_get_slot, ":11_g_talk_troop_faction", 11, "$g_talk_troop_faction"),
				(str_store_troop_name, 4, ":11_g_talk_troop_faction"),
				(call_script, "script_troop_get_relation_with_troop", ":11_g_talk_troop_faction", "trp_player"),
				(lt, reg0, -10),
				(str_store_string, 14, "str_um_i_think_that_if_i_want_to_stay_on_s4s_good_side_id_best_not_marry_you"),
			(else_try),
				(gt, "$players_kingdom", 0),
				(neq, "$players_kingdom", "$g_talk_troop_faction"),
				(faction_get_slot, ":11_g_talk_troop_faction", 11, "$g_talk_troop_faction"),
				(call_script, "script_dplmc_store_troop_is_female_reg", ":11_g_talk_troop_faction", 4),
				(str_store_string, 14, "str_you_serve_another_realm_i_dont_see_s4_granting_reg4herhis_blessing_to_our_union"),
			(else_try),
				(gt, ":value", -1),
				(str_store_troop_name, 4, ":value"),
				(str_store_string, 14, "str_madame_my_heart_currently_belongs_to_s4"),
			(else_try),
				(troop_slot_ge, ":script_param_1", 34, 1),
				(troop_get_slot, ":value", ":script_param_1", slot_troop_betrothed),
				(str_store_troop_name, 4, ":value"),
				(str_store_string, 14, "str_madame_my_heart_currently_belongs_to_s4"),
			(else_try),
				(troop_slot_ge, ":script_param_1", 30, 1),
				(troop_get_slot, ":value", ":script_param_1", slot_troop_spouse),
				(str_store_troop_name, 4, ":value"),
				(str_store_string, 14, "str_madame_my_heart_currently_belongs_to_s4"),
			(else_try),
				(this_or_next|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(str_store_string, 14, "str_my_lady_while_i_admire_your_valor_you_will_forgive_me_if_i_tell_you_that_a_woman_like_you_does_not_uphold_to_my_ideal_of_the_feminine_of_the_delicate_and_of_the_pure"),
			(else_try),
				(lt, ":var_7", 10),
				(assign, ":value_2", 2),
				(str_store_string, 14, "str_my_lady_you_are_a_woman_of_great_spirit_and_bravery_possessed_of_beauty_grace_and_wit_i_shall_give_your_proposal_consideration"),
			(else_try),
				(assign, ":value_2", 1),
				(str_store_string, 14, "str_my_lady_you_are_a_woman_of_great_spirit_and_bravery_possessed_of_beauty_grace_and_wit_i_would_be_most_honored_were_you_to_become_my_wife"),
			(try_end),
			(assign, reg1, ":var_2"),
			(assign, reg0, ":value_2")
		]),

	("courtship_poem_reactions",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg4, ":script_param_2"),
				(assign, reg5, ":script_param_1_lord_reputation_type"),
				(display_message, "str_poem_choice_reg4_lady_rep_reg5"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 1),
				(eq, ":script_param_1_lord_reputation_type", 21),
				(str_store_string, 11, "str_ah__kais_and_layali__such_a_sad_tale_many_a_time_has_it_been_recounted_for_my_family_by_the_wandering_poets_who_come_to_our_home_and_it_has_never_failed_to_bring_tears_to_our_eyes"),
				(assign, ":value", 5),
			(else_try),
				(eq, ":script_param_2", 1),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(str_store_string, 11, "str_kais_and_layali_three_hundred_stanzas_of_pathetic_sniveling_if_you_ask_me_if_kais_wanted_to_escape_heartbreak_he_should_have_learned_to_live_within_his_station_and_not_yearn_for_what_he_cannot_have"),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_2", 1),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(str_store_string, 11, "str_kais_and_layali_no_one_should_ever_have_written_such_a_sad_poem_if_it_was_the_destiny_of_kais_and_layali_to_be_together_than_their_love_should_have_conquered_all_obstacles"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_2", 1),
				(str_store_string, 11, "str_ah_kais_and_layali_a_very_old_standby_but_moving_in_its_way"),
				(assign, ":value", 3),
			(else_try),
				(eq, ":script_param_2", 2),
				(eq, ":script_param_1_lord_reputation_type", 22),
				(str_store_string, 11, "str_the_saga_of_helgered_and_kara_such_happy_times_in_which_our_ancestors_lived_women_like_kara_could_venture_out_into_the_world_like_men_win_a_name_for_themselves_and_not_linger_in_their_husbands_shadow"),
				(assign, ":value", 5),
			(else_try),
				(eq, ":script_param_2", 2),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(str_store_string, 11, "str_ah_the_saga_of_helgered_and_kara_now_there_was_a_lady_who_knew_what_she_wanted_and_was_not_afraid_to_obtain_it"),
				(assign, ":value", 2),
			(else_try),
				(eq, ":script_param_2", 2),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(str_store_string, 11, "str_the_saga_of_helgered_and_kara_a_terrible_tale__but_it_speaks_of_a_very_great_love_if_she_were_willing_to_make_war_on_her_own_family"),
				(assign, ":value", 2),
			(else_try),
				(eq, ":script_param_2", 2),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(str_store_string, 11, "str_the_saga_of_helgered_and_kara_as_i_recall_kara_valued_her_own_base_passions_over_duty_to_her_family_that_she_made_war_on_her_own_father_i_have_no_time_for_a_poem_which_praises_such_a_woman"),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_2", 2),
				(eq, ":script_param_1_lord_reputation_type", 21),
				(str_store_string, 11, "str_the_saga_of_helgered_and_kara_how_could_a_woman_don_armor_and_carry_a_sword_how_could_a_man_love_so_ungentle_a_creature"),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_2", 3),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(str_store_string, 11, "str_a_conversation_in_the_garden_i_cannot_understand_the_lady_in_that_poem_if_she_loves_the_man_why_does_she_tease_him_so"),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_2", 3),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(str_store_string, 11, "str_a_conversation_in_the_garden_let_us_see__it_is_morally_unedifying_it_exalts_deception_it_ends_with_a_maiden_surrendering_to_her_base_passions_and_yet_i_cannot_help_but_find_it_charming_perhaps_because_it_tells_us_that_love_need_not_be_tragic_to_be_memorable"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_2", 3),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(str_store_string, 11, "str_a_conversation_in_the_garden_now_that_is_a_tale_every_lady_should_know_by_heart_to_learn_the_subtleties_of_the_politics_she_must_practice"),
				(assign, ":value", 5),
			(else_try),
				(eq, ":script_param_2", 3),
				(str_store_string, 11, "str_a_conversation_in_the_garden_it_is_droll_i_suppose__although_there_is_nothing_there_that_truly_stirs_my_soul"),
				(assign, ":value", 3),
			(else_try),
				(eq, ":script_param_2", 5),
				(eq, ":script_param_1_lord_reputation_type", 22),
				(str_store_string, 11, "str_storming_the_fortress_of_love_ah_yes_the_lady_sits_within_doing_nothing_while_the_man_is_the_one_who_strives_and_achieves_i_have_enough_of_that_in_my_daily_life_why_listen_to_poems_about_it"),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_2", 5),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 21),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(str_store_string, 11, "str_storming_the_fortress_of_love_ah_yes_an_uplifting_tribute_to_the_separate_virtues_of_man_and_woman"),
				(assign, ":value", 3),
			(else_try),
				(eq, ":script_param_2", 5),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(str_store_string, 11, "str_storming_the_fortress_of_love_ah_yes_but_although_it_is_a_fine_tale_of_virtues_it_speaks_nothing_of_passion"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_2", 5),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(str_store_string, 11, "str_storming_the_fortress_of_love_ah_a_sermon_dressed_up_as_a_love_poem_if_you_ask_me"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_2", 4),
				(eq, ":script_param_1_lord_reputation_type", 23),
				(str_store_string, 11, "str_a_hearts_desire_ah_such_a_beautiful_account_of_the_perfect_perfect_love_to_love_like_that_must_be_to_truly_know_rapture"),
				(assign, ":value", 4),
			(else_try),
				(eq, ":script_param_2", 4),
				(eq, ":script_param_1_lord_reputation_type", 24),
				(str_store_string, 11, "str_a_hearts_desire_silly_if_you_ask_me_if_the_poet_desires_a_lady_then_he_should_endeavor_to_win_her__and_not_dress_up_his_desire_with_a_pretense_of_piety"),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_2", 4),
				(eq, ":script_param_1_lord_reputation_type", 25),
				(str_store_string, 11, "str_a_hearts_desire_hmm__it_is_an_interesting_exploration_of_earthly_and_divine_love_it_does_speak_of_the_spiritual_quest_which_brings_out_the_best_in_man_but_i_wonder_if_the_poet_has_not_confused_his_yearning_for_higher_things_with_his_baser_passions"),
				(assign, ":value", 2),
			(else_try),
				(eq, ":script_param_2", 4),
				(str_store_string, 11, "str_a_hearts_desire_oh_yes__it_is_very_worthy_and_philosophical_but_if_i_am_to_listen_to_a_bard_strum_a_lute_for_three_hours_i_personally_prefer_there_to_be_a_bit_of_a_story"),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg4, ":value"),
				(display_message, "str_result_reg4_string_s11"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("diplomacy_faction_get_diplomatic_status_with_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_dplmc_translate_inactive_player_supporter_faction_2", ":script_param_1", ":script_param_2"),
			(assign, ":script_param_1", reg0),
			(assign, ":script_param_2", reg1),
			(store_add, ":value", ":script_param_2", 120),
			(store_add, ":value_2", ":script_param_2", 130),
			(val_sub, ":value", "fac_player_supporters_faction"),
			(val_sub, ":value_2", "fac_player_supporters_faction"),
			(assign, ":value_3", 0),
			(assign, ":value_4", 0),
			(try_begin),
				(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(lt, ":relation_script_param_1_script_param_2", 0),
				(assign, ":value_3", -2),
			(else_try),
				(faction_slot_ge, ":script_param_1", ":value", 1),
				(assign, ":value_3", 1),
				(faction_get_slot, ":value_4", ":script_param_1", ":value"),
			(else_try),
				(faction_slot_ge, ":script_param_1", ":value_2", 1),
				(assign, ":value_3", -1),
				(faction_get_slot, ":value_4", ":script_param_1", ":value_2"),
			(try_end),
			(assign, reg0, ":value_3"),
			(assign, reg1, ":value_4")
		]),

	("faction_follows_controversial_policy",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
			(try_begin),
				(ge, "$cheat_mode", 1),
				(str_store_faction_name, 3, ":script_param_1"),
				(display_message, "str_calculating_effect_for_policy_for_s3"),
				(val_add, "$number_of_controversial_policy_decisions", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 80),
				(assign, ":value", 0),
				(assign, ":value_2", -2),
				(assign, ":value_3", -1),
			(else_try),
				(eq, ":script_param_2", 81),
				(assign, ":value", -3),
				(assign, ":value_2", 0),
				(assign, ":value_3", 0),
			(else_try),
				(eq, ":script_param_2", 83),
				(assign, ":value", 3),
				(assign, ":value_2", 1),
				(assign, ":value_3", 0),
			(else_try),
				(eq, ":script_param_2", 84),
				(assign, ":value", 0),
				(assign, ":value_2", -3),
				(assign, ":value_3", -5),
			(else_try),
				(eq, ":script_param_2", 82),
				(assign, ":value", -5),
				(assign, ":value_2", 0),
				(assign, ":value_3", 0),
			(else_try),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
				(assign, ":value_3", 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_1_leader", "trp_player"),
				(call_script, "script_change_player_honor", ":value_3"),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":script_param_1"),
				(neq, ":troop", ":script_param_1_leader"),
				(try_begin),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 22),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 1),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 2),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 3),
					(troop_slot_eq, ":troop", slot_lord_reputation_type, 5),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_1_leader", ":troop", ":value"),
					(val_add, "$total_policy_dispute_changes", ":value"),
				(try_end),
				(try_begin),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 25),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 1),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 6),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 3),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 9),
					(this_or_next|troop_slot_eq, ":troop", slot_lord_reputation_type, 10),
					(troop_slot_eq, ":troop", slot_lord_reputation_type, 7),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_1_leader", ":troop", ":value_2"),
					(val_add, "$total_policy_dispute_changes", ":value_2"),
				(try_end),
			(try_end)
		]),

	("internal_politics_rate_feast_to_s9",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_4", 4),
			(val_max, ":script_param_2", 1),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(item_set_slot, ":item", slot_item_amount_available, 0),
			(try_end),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":item", ":script_param_1", ":number"),
				(is_between, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number", ":script_param_1", ":number"),
				(item_get_slot, ":item_amount_available", ":item", slot_item_amount_available),
				(val_add, ":item_amount_available", ":troop_inventory_slot_item_amount_script_param_1_number"),
				(item_set_slot, ":item", slot_item_amount_available, ":item_amount_available"),
			(try_end),
			(assign, ":var_9", 0),
			(assign, ":var_10", 0),
			(store_div, ":value", ":script_param_2", 12),
			(try_for_range, ":item_2", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(item_get_slot, ":item_2_amount_available", ":item_2", slot_item_amount_available),
				(val_add, ":var_9", ":item_2_amount_available"),
				(ge, ":item_2_amount_available", ":value"),
				(val_add, ":var_10", 1),
			(try_end),
			(val_mul, ":var_9", 100),
			(val_div, ":var_9", ":script_param_2"),
			(val_min, ":var_9", 100),
			(val_mul, ":var_10", 85),
			(val_div, ":var_10", 10),
			(val_min, ":var_10", 100),
			(assign, ":var_14", 0),
			(assign, ":var_15", 0),
			(store_div, ":value_2", ":script_param_2", 4),
			(try_for_range, ":item_3", "itm_trade_wine", "itm_trade_smoked_fish"),
				(assign, ":var_18", ":item_3"),
				(item_get_slot, ":var_18_amount_available", ":var_18", slot_item_amount_available),
				(val_add, ":var_14", ":var_18_amount_available"),
				(ge, ":var_18_amount_available", ":value_2"),
				(val_add, ":var_15", 1),
			(try_end),
			(val_mul, ":var_14", 200),
			(val_max, ":script_param_2", 1),
			(val_div, ":var_14", ":script_param_2"),
			(val_min, ":var_14", 100),
			(val_mul, ":var_15", 50),
			(item_get_slot, ":trade_spice_amount_available", "itm_trade_spice", slot_item_amount_available),
			(store_mul, ":value_3", ":trade_spice_amount_available", 100),
			(val_max, ":value", 1),
			(val_div, ":trade_spice_amount_available", ":value"),
			(val_min, ":value_3", 100),
			(item_get_slot, ":trade_oil_amount_available", "itm_trade_oil", slot_item_amount_available),
			(store_mul, ":value_4", ":trade_oil_amount_available", 100),
			(val_max, ":value", 1),
			(val_div, ":trade_oil_amount_available", ":value"),
			(val_min, ":value_4", 100),
			(store_div, ":value_5", ":var_9", 20),
			(val_add, ":value_5", "str_feast_description"),
			(str_store_string, 8, ":value_5"),
			(str_store_string, 9, "str_of_food_which_must_come_before_everything_else_the_amount_is_s8"),
			(store_div, ":value_6", ":var_10", 20),
			(val_add, ":value_6", "str_feast_description"),
			(str_store_string, 8, ":value_6"),
			(str_store_string, 9, "str_s9_and_the_variety_is_s8_"),
			(store_div, ":value_7", ":var_14", 20),
			(val_add, ":value_7", "str_feast_description"),
			(str_store_string, 8, ":value_7"),
			(str_store_string, 9, "str_s9_of_drink_which_guests_will_expect_in_great_abundance_the_amount_is_s8"),
			(store_div, ":value_8", ":var_15", 20),
			(val_add, ":value_8", "str_feast_description"),
			(str_store_string, 8, ":value_8"),
			(str_store_string, 9, "str_s9_and_the_variety_is_s8_"),
			(store_div, ":value_9", ":value_3", 20),
			(val_add, ":value_9", "str_feast_description"),
			(str_store_string, 8, ":value_9"),
			(str_store_string, 9, "str_s9_of_spice_which_is_essential_to_demonstrate_that_we_spare_no_expense_as_hosts_the_amount_is_s8_"),
			(store_div, ":value_10", ":value_4", 20),
			(val_add, ":value_10", "str_feast_description"),
			(str_store_string, 8, ":value_10"),
			(str_store_string, 9, "str_s9_of_oil_which_we_shall_require_to_light_the_lamps_the_amount_is_s8"),
			(store_mul, ":value_11", ":var_9", 8),
			(store_add, ":value_12", ":var_9", ":var_10"),
			(val_mul, ":value_12", 2),
			(val_add, ":value_12", ":var_15"),
			(val_add, ":value_12", ":var_14"),
			(val_add, ":value_12", ":trade_spice_amount_available"),
			(val_add, ":value_12", ":trade_oil_amount_available"),
			(val_min, ":value_12", ":value_11"),
			(val_div, ":value_12", 8),
			(val_clamp, ":value_12", 1, 101),
			(store_div, ":value_13", ":value_12", 20),
			(val_add, ":value_13", "str_feast_description"),
			(str_store_string, 8, ":value_13"),
			(str_store_string, 9, "str_s9_overall_our_table_will_be_considered_s8"),
			(assign, reg0, ":value_12"),
			(try_begin),
				(eq, ":script_param_4", 1),
				(assign, ":var_33", ":script_param_2"),
				(try_for_range, ":unused", 0, 1999),
					(gt, ":var_33", 0),
					(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
						(item_set_slot, ":item", slot_item_is_checked, 0),
					(try_end),
					(troop_get_inventory_capacity, ":inventory_capacity_script_param_1_2", ":script_param_1"),
					(try_for_range, ":number_2", 0, ":inventory_capacity_script_param_1_2"),
						(troop_get_inventory_slot, ":item", ":script_param_1", ":number_2"),
						(this_or_next|eq, ":item", "itm_trade_spice"),
						(this_or_next|eq, ":item", "itm_trade_oil"),
						(this_or_next|eq, ":item", "itm_trade_wine"),
						(this_or_next|eq, ":item", "itm_trade_ale"),
						(is_between, ":item", "itm_trade_smoked_fish", "itm_trade_dummy01"),
						(item_slot_eq, ":item", slot_item_is_checked, 0),
						(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number_2", ":script_param_1", ":number_2"),
						(gt, ":troop_inventory_slot_item_amount_script_param_1_number_2", 0),
						(val_sub, ":troop_inventory_slot_item_amount_script_param_1_number_2", 1),
						(troop_inventory_slot_set_item_amount, ":script_param_1", ":number_2", ":troop_inventory_slot_item_amount_script_param_1_number_2"),
						(val_sub, ":var_33", 1),
						(item_set_slot, ":item", slot_item_is_checked, 1),
					(try_end),
				(try_end),
			(try_end)
		]),

	("faction_get_adjective_to_s10",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(eq, ":script_param_1", "fac_player_faction"),
				(assign, ":script_param_1", "$players_kingdom"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "fac_player_supporters_faction"),
				(str_store_string, 10, "str_rebel"),
			(else_try),
				(this_or_next|eq, ":script_param_1", "fac_outlaws"),
				(this_or_next|eq, ":script_param_1", "fac_mountain_bandits"),
				(this_or_next|eq, ":script_param_1", "fac_forest_bandits"),
				(eq, ":script_param_1", "fac_deserters"),
				(str_store_string, 10, "str_bandit"),
			(else_try),
				(faction_get_slot, ":script_param_1_adjective", ":script_param_1", slot_faction_adjective),
				(str_store_string, 10, ":script_param_1_adjective"),
			(try_end)
		]),

	("setup_tavern_attacker",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(neg|troop_slot_eq, "trp_hired_assassin", slot_troop_cur_center, "$g_encountered_party"),
				(troop_slot_eq, "trp_belligerent_drunk", slot_troop_cur_center, "$g_encountered_party"),
				(set_visitor, ":script_param_1", "trp_belligerent_drunk"),
			(try_end),
			(try_begin),
				(troop_slot_eq, "trp_hired_assassin", slot_troop_cur_center, "$g_encountered_party"),
				(set_visitor, ":script_param_1", "trp_hired_assassin"),
			(try_end)
		]),

	("activate_tavern_attackers",
		[
			(set_party_battle_mode),
			(try_for_agents, ":var_1"),
				(agent_get_troop_id, ":troop_id_var_1", ":var_1"),
				(this_or_next|eq, ":troop_id_var_1", "trp_fugitive"),
				(this_or_next|eq, ":troop_id_var_1", "trp_belligerent_drunk"),
				(eq, ":troop_id_var_1", "trp_hired_assassin"),
				(agent_set_team, ":var_1", 1),
				(assign, "$g_main_attacker_agent", ":var_1"),
				(agent_ai_set_aggressiveness, ":var_1", 199),
			(try_end)
		]),

	("deactivate_tavern_attackers",
		[
			(finish_party_battle_mode),
			(try_for_agents, ":var_1"),
				(agent_get_troop_id, ":troop_id_var_1", ":var_1"),
				(this_or_next|eq, ":troop_id_var_1", "trp_fugitive"),
				(this_or_next|eq, ":troop_id_var_1", "trp_belligerent_drunk"),
				(eq, ":troop_id_var_1", "trp_hired_assassin"),
				(agent_set_team, ":var_1", 0),
				(agent_ai_set_aggressiveness, ":var_1", 0),
			(try_end)
		]),

	("activate_town_guard",
		[
			(set_party_battle_mode),
			(try_for_agents, ":var_1"),
				(agent_get_troop_id, ":troop_id_var_1", ":var_1"),
				(is_between, ":troop_id_var_1", "trp_swadian_r_peasant", "trp_bandit_n_looter"),
				(agent_set_team, ":var_1", 1),
			(else_try),
				(this_or_next|is_between, ":var_1", "trp_swadian_town_walker_m_average", "trp_tournament_master"),
				(is_between, ":var_1", "trp_town_1_armorer", "trp_village_1_elder"),
				(agent_clear_scripted_mode, ":var_1"),
				(agent_set_team, ":var_1", 2),
			(try_end)
		]),

	("cf_prisoner_offered_parole",
		[
			(store_script_param, ":script_param_1", 1),
			(eq, 1, 0),
			(troop_get_slot, ":script_param_1_prisoner_of_party", ":script_param_1", slot_troop_prisoner_of_party),
			(party_is_active, ":script_param_1_prisoner_of_party"),
			(is_between, ":script_param_1_prisoner_of_party", "p_town_1", "p_village_1"),
			(party_get_slot, ":script_param_1_prisoner_of_party_town_lord", ":script_param_1_prisoner_of_party", slot_town_lord),
			(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
			(troop_get_slot, ":script_param_1_prisoner_of_party_town_lord_lord_reputation_type", ":script_param_1_prisoner_of_party_town_lord", slot_lord_reputation_type),
			(neq, ":script_param_1_lord_reputation_type", 5),
			(neq, ":script_param_1_prisoner_of_party_town_lord_lord_reputation_type", 5),
			(neq, ":script_param_1_prisoner_of_party_town_lord_lord_reputation_type", 2),
			(this_or_next|eq, ":script_param_1_prisoner_of_party_town_lord_lord_reputation_type", 6),
			(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
			(troop_slot_eq, ":script_param_1", slot_troop_occupation, 6),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_1_prisoner_of_party_town_lord", ":script_param_1"),
			(ge, reg0, -10)
		]),

	("neutral_behavior_in_fight",
		[
			(get_player_agent_no, ":player_agent_no"),
			(agent_get_position, 3, ":player_agent_no"),
			(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
			(try_begin),
				(gt, "$g_main_attacker_agent", 0),
				(agent_is_active, "$g_main_attacker_agent"),
				(agent_get_team, ":team_l_g_main_attacker_agent", "$g_main_attacker_agent"),
				(agent_get_position, 5, "$g_main_attacker_agent"),
			(else_try),
				(assign, ":team_l_g_main_attacker_agent", -1),
				(agent_get_position, 5, ":player_agent_no"),
			(try_end),
			(set_fixed_point_multiplier, 100),
			(try_for_agents, ":var_4"),
				(agent_get_team, ":team_var_4", ":var_4"),
				(neq, ":team_var_4", ":team_l_g_main_attacker_agent"),
				(neq, ":team_var_4", ":team_player_agent_no"),
				(agent_get_troop_id, ":troop_id_var_4", ":var_4"),
				(neg|is_between, ":troop_id_var_4", "trp_swadian_n_peasant", "trp_bandit_n_looter"),
				(agent_get_position, 4, ":var_4"),
				(assign, ":value", 0),
				(assign, ":value_2", -1),
				(try_begin),
					(neg|agent_slot_eq, ":var_4", slot_agent_is_running_away, 0),
					(agent_get_slot, ":var_4_is_running_away", ":var_4", slot_agent_is_running_away),
					(store_sub, ":value_3", ":var_4_is_running_away", 1),
					(entry_point_get_position, 6, ":value_3"),
					(get_distance_between_positions, ":distance_between_positions_6_4", 6, 4),
					(lt, ":distance_between_positions_6_4", 100),
					(agent_set_slot, ":var_4", slot_agent_is_running_away, 0),
				(try_end),
				(agent_slot_eq, ":var_4", slot_agent_is_running_away, 0),
				(try_begin),
					(get_distance_between_positions, ":distance_between_positions_4_5", 4, 5),
					(get_distance_between_positions, ":distance_between_positions_4_3", 4, 3),
					(val_min, ":distance_between_positions_4_5", ":distance_between_positions_4_3"),
					(this_or_next|gt, ":distance_between_positions_4_5", 700),
					(main_hero_fallen),
					(agent_set_scripted_destination, ":var_4", 4),
				(else_try),
					(try_for_range, ":value_3", 0, 64),
						(neg|entry_point_is_auto_generated, ":value_3"),
						(entry_point_get_position, 6, ":value_3"),
						(get_distance_between_positions, ":distance_between_positions_6_4", 6, 4),
						(get_distance_between_positions, ":distance_between_positions_6_3", 6, 3),
						(store_sub, ":value_4", ":distance_between_positions_6_3", ":distance_between_positions_6_4"),
						(ge, ":value_4", 0),
						(try_begin),
							(ge, ":distance_between_positions_6_4", 2000),
							(store_sub, ":value_5", ":distance_between_positions_6_4", 2000),
							(val_min, ":value_5", 1000),
							(val_min, ":distance_between_positions_6_4", 2000),
							(val_sub, ":distance_between_positions_6_4", ":value_5"),
						(try_end),
						(val_mul, ":value_4", ":distance_between_positions_6_4"),
						(try_begin),
							(ge, ":value_4", ":value"),
							(assign, ":value", ":value_4"),
							(assign, ":value_2", ":value_3"),
						(try_end),
					(try_end),
					(try_begin),
						(ge, ":value_2", 0),
						(entry_point_get_position, 6, ":value_2"),
						(agent_set_speed_limit, ":var_4", 10),
						(agent_set_scripted_destination, ":var_4", 6),
						(store_add, ":value_6", ":value_2", 1),
						(agent_set_slot, ":var_4", slot_agent_is_running_away, ":value_6"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("party_inflict_attrition",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":unused", 3),
			(party_clear, "p_temp_casualties"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
				(store_mul, ":value", ":script_param_2", ":party_stack_size_script_param_1_number"),
				(store_div, ":value_2", ":value", 100),
				(party_add_members, "p_temp_casualties", ":party_stack_troop_id_script_param_1_number", ":value_2"),
				(store_mul, ":value_3", ":value_2", 100),
				(store_sub, ":value_4", ":value", ":value_3"),
				(try_begin),
					(gt, ":value_4", 0),
					(store_random_in_range, ":random_in_range_0_100", 0, 100),
					(lt, ":random_in_range_0_100", ":value_4"),
					(party_add_members, "p_temp_casualties", ":party_stack_troop_id_script_param_1_number", ":value_2"),
				(try_end),
			(try_end),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", "p_temp_casualties"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", "p_temp_casualties", ":number"),
				(party_stack_get_size, ":party_stack_size_script_param_1_number", "p_temp_casualties", ":number"),
				(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_number", ":party_stack_size_script_param_1_number"),
				(eq, "$cheat_mode", 1),
				(assign, reg3, ":party_stack_size_script_param_1_number"),
				(str_store_troop_name, 4, ":party_stack_troop_id_script_param_1_number"),
				(str_store_party_name, 5, ":script_param_1"),
				(str_store_string, 65, "str_s5_suffers_attrition_reg3_x_s4"),
				(display_message, "str_s65"),
				(try_begin),
					(eq, "$debug_message_in_queue", 0),
					(call_script, "script_add_notification_menu", "mnu_debug_alert_from_s65", 0, 0),
					(assign, "$debug_message_in_queue", 1),
				(try_end),
			(try_end)
		]),

	("add_rumor_string_to_troop_notes",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(str_store_troop_name, 10, "$g_talk_troop"),
			(str_store_string_reg, 11, ":script_param_3"),
			(store_current_hours, ":current_hours"),
			(call_script, "script_game_get_date_text", 0, ":current_hours"),
			(str_store_string, 5, "str_s10_said_on_s1_s11__"),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":script_param_1_current_rumor", ":script_param_1", slot_troop_current_rumor),
				(val_add, ":script_param_1_current_rumor", 1),
				(try_begin),
					(neg|is_between, ":script_param_1_current_rumor", 3, 16),
					(assign, ":script_param_1_current_rumor", 3),
				(try_end),
				(troop_set_slot, ":script_param_1", slot_troop_current_rumor, ":script_param_1_current_rumor"),
				(add_troop_note_from_sreg, ":script_param_1", ":script_param_1_current_rumor", 5, 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_troop_name, 3, ":script_param_1"),
					(assign, reg4, ":script_param_1_current_rumor"),
					(display_message, "str_rumor_note_to_s3s_slot_reg4_s5"),
				(try_end),
			(try_end),
			(try_begin),
				(is_between, ":script_param_2", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":script_param_1_current_rumor", ":script_param_2", slot_troop_current_rumor),
				(val_add, ":script_param_1_current_rumor", 1),
				(try_begin),
					(neg|is_between, ":script_param_1_current_rumor", 3, 16),
					(assign, ":script_param_1_current_rumor", 3),
				(try_end),
				(troop_set_slot, ":script_param_2", slot_troop_current_rumor, ":script_param_1_current_rumor"),
				(add_troop_note_from_sreg, ":script_param_2", ":script_param_1_current_rumor", 5, 0),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_troop_name, 3, ":script_param_2"),
					(assign, reg4, ":script_param_1_current_rumor"),
					(display_message, "str_rumor_note_to_s3s_slot_reg4_s5"),
				(try_end),
			(try_end)
		]),

	("character_can_wed_character",
		[]),

	("troop_change_career",
		[]),

	("center_get_goods_availability",
		[
			(store_script_param, ":script_param_1", 1),
			(str_store_party_name, 4, ":script_param_1"),
			(assign, ":var_2", 0),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(try_begin),
					(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
					(item_get_slot, ":item_rural_demand", ":item", slot_item_rural_demand),
				(else_try),
					(item_get_slot, ":item_rural_demand", ":item", slot_item_urban_demand),
				(try_end),
				(gt, ":item_rural_demand", 2),
				(store_div, ":value", ":item_rural_demand", 3),
				(store_sub, ":value_2", ":item", "itm_trade_spice"),
				(val_add, ":value_2", 267),
				(party_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
				(store_sub, ":value_3", ":script_param_1_value_2", 950),
				(gt, ":value_3", 100),
				(val_div, ":value_3", 100),
				(val_min, ":value_3", ":value"),
				(val_add, ":var_2", ":value_3"),
			(try_end),
			(assign, reg0, ":var_2"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG -- hardship index for {s4} = {reg0}"),
			(try_end)
		]),

	("lord_find_alternative_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":value_2", -5),
			(troop_get_slot, ":script_param_1_original_faction", ":script_param_1", slot_troop_original_faction),
			(assign, ":value_3", -2),
			(try_begin),
				(gt, ":script_param_1_original_faction", 0),
				(faction_get_slot, ":value_3", ":script_param_1_original_faction", slot_faction_culture),
				(lt, ":value_3", 1),
				(assign, ":value_3", ":script_param_1_original_faction"),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(this_or_next|party_slot_eq, ":party", slot_town_lord, -1),
				(party_slot_eq, ":party", slot_town_lord, -3),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(neq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
				(faction_get_slot, ":faction_of_party_party_leader", ":faction_of_party_party", slot_faction_leader),
				(this_or_next|neq, ":faction_of_party_party_leader", "trp_player"),
				(ge, "$player_right_to_rule", 25),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":faction_of_party_party_leader"),
				(assign, ":value_4", reg0),
				(try_begin),
					(ge, "$g_dplmc_ai_changes", 0),
					(ge, reg0, 0),
					(try_begin),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_original_faction, ":faction_of_party_party"),
						(this_or_next|party_slot_eq, ":party", 402, ":script_param_1"),
						(troop_slot_eq, ":script_param_1", slot_troop_home, ":party"),
						(val_add, ":value_4", 20),
					(else_try),
						(gt, ":script_param_1_original_faction", 0),
						(party_slot_eq, ":party", slot_center_original_faction, ":script_param_1_original_faction"),
						(val_add, ":value_4", 5),
					(else_try),
						(gt, ":value_3", 0),
						(faction_slot_eq, ":faction_of_party_party", slot_faction_culture, ":value_3"),
						(val_add, ":value_4", 5),
					(try_end),
				(try_end),
				(gt, ":value_4", ":value_2"),
				(assign, ":value", ":faction_of_party_party"),
				(assign, ":value_2", ":value_4"),
			(try_end),
			(try_begin),
				(eq, ":value", -1),
				(assign, ":value_2", 0),
				(try_begin),
					(ge, "$g_dplmc_ai_changes", 1),
					(assign, ":value_2", -5),
				(try_end),
				(store_add, ":value_5", ":value_2", 1),
				(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(faction_slot_eq, ":faction", slot_faction_state, 0),
					(faction_get_slot, ":faction_of_party_party_leader", ":faction", slot_faction_leader),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":faction_of_party_party_leader"),
					(assign, ":value_4", reg0),
					(try_begin),
						(neq, ":faction", ":faction_of_troop_script_param_1"),
						(ge, "$g_dplmc_ai_changes", 0),
						(ge, reg0, ":value_5"),
						(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
							(troop_slot_eq, ":troop", slot_troop_occupation, 2),
							(neq, ":troop", ":script_param_1"),
							(neq, ":troop", ":faction_of_party_party_leader"),
							(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
							(eq, ":faction_of_troop_troop", ":faction"),
							(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":troop"),
							(try_begin),
								(ge, reg0, 20),
								(val_add, ":value_4", 1),
							(else_try),
								(lt, reg0, -19),
								(val_sub, ":value_4", 1),
							(try_end),
						(try_end),
						(try_begin),
							(eq, ":script_param_1_original_faction", ":faction"),
							(val_add, ":value_4", 5),
						(else_try),
							(gt, ":value_3", 0),
							(faction_slot_eq, ":faction", slot_faction_culture, ":value_3"),
							(val_add, ":value_4", 2),
						(try_end),
						(val_max, ":value_4", ":value_5"),
					(try_end),
					(gt, ":value_4", ":value_2"),
					(assign, ":value", ":faction"),
					(assign, ":value_2", ":value_4"),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("set_up_duel_with_troop",
		[
			(store_script_param, "$g_duel_troop", 1),
			(assign, "$g_start_arena_fight_at_nearest_town", 1),
			(try_begin),
				(eq, "$g_start_arena_fight_at_nearest_town", 1),
			(try_end),
			(unlock_achievement, 48),
			(jump_to_menu, "mnu_arena_duel_fight"),
			(finish_mission)
		]),

	("test_player_for_career_and_marriage_incompatability",
		[]),

	("deduct_casualties_from_garrison",
		[
			(try_for_agents, ":var_1"),
				(agent_get_troop_id, ":troop_id_var_1", ":var_1"),
				(is_between, ":troop_id_var_1", "trp_novice_fighter", "trp_tournament_master"),
				(neg|agent_is_alive, ":var_1"),
				(try_begin),
					(store_troop_count_companions, ":troop_count_companions_troop_id_var_1_g_encountered_party", ":troop_id_var_1", "$g_encountered_party"),
					(eq, ":troop_count_companions_troop_id_var_1_g_encountered_party", 0),
					(assign, ":troop_id_var_1", 0),
					(try_for_range, ":number", 41, 45),
						(faction_get_slot, ":troop_id_var_1", "$g_encountered_party_faction", ":number"),
						(faction_get_slot, ":g_encountered_party_faction_number", "$g_encountered_party_faction", ":number"),
						(store_troop_count_companions, ":troop_count_companions_troop_id_var_1_g_encountered_party", ":g_encountered_party_faction_number", "$g_encountered_party"),
						(gt, ":troop_count_companions_troop_id_var_1_g_encountered_party", 0),
						(assign, ":troop_id_var_1", ":g_encountered_party_faction_number"),
					(try_end),
				(try_end),
				(gt, ":troop_id_var_1", 0),
				(party_remove_members, "$g_encountered_party", ":troop_id_var_1", 1),
				(str_store_troop_name, 4, ":troop_id_var_1"),
				(str_store_party_name, 5, "$g_encountered_party"),
			(try_end)
		]),

	("npc_decision_checklist_take_stand_on_issue",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(assign, ":value", -1),
			(faction_get_slot, ":faction_of_troop_script_param_1_political_issue", ":faction_of_troop_script_param_1", slot_faction_political_issue),
			(assign, ":value_2", 0),
			(try_begin),
				(is_between, ":faction_of_troop_script_param_1_political_issue", "p_town_1", "p_salt_mine"),
				(gt, "$g_dont_give_fief_to_player_days", 1),
				(assign, ":value_2", 1),
			(else_try),
				(gt, "$g_dont_give_marshalship_to_player_days", 1),
				(assign, ":value_2", 1),
			(try_end),
			(faction_get_slot, ":faction_of_troop_script_param_1_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
			(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
			(assign, ":var_7", reg0),
			(assign, ":value_3", -1),
			(try_begin),
				(lt, "$g_disable_condescending_comments", 2),
				(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 4),
				(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 6),
				(neg|troop_slot_ge, ":script_param_1", 52, 8),
				(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
				(store_sub, ":value_3", 1, reg0),
				(try_begin),
					(call_script, "script_cf_dplmc_faction_has_bias_against_gender", ":faction_of_troop_script_param_1", ":value_3"),
				(else_try),
					(assign, ":value_3", -1),
				(try_end),
			(try_end),
			(assign, ":var_9", 0),
			(assign, ":value_4", 0),
			(troop_set_slot, "trp_player", slot_troop_temp_slot, 0),
			(try_begin),
				(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
				(eq, "$player_has_homage", 1),
				(troop_get_slot, ":value_4", "trp_player", slot_troop_renown),
				(val_add, ":var_9", 1),
				(try_begin),
					(lt, "$g_disable_condescending_comments", 0),
					(eq, ":value_3", "$character_gender"),
					(val_mul, ":value_4", 4),
					(val_add, ":value_4", 3),
					(val_div, ":value_4", 5),
				(try_end),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_set_slot, ":troop", 164, 0),
				(troop_set_slot, ":troop", slot_troop_temp_slot, 0),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(troop_get_slot, ":troop_renown", ":troop", slot_troop_renown),
				(val_add, ":var_9", 1),
				(try_begin),
					(lt, "$g_disable_condescending_comments", 0),
					(call_script, "script_dplmc_store_troop_is_female", ":troop"),
					(eq, reg0, ":value_3"),
					(val_mul, ":troop_renown", 4),
					(val_add, ":troop_renown", 3),
					(val_div, ":troop_renown", 5),
				(try_end),
				(val_add, ":value_4", ":troop_renown"),
			(try_end),
			(assign, ":var_14", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
				(assign, ":value_5", 1),
				(try_begin),
					(ge, "$g_dplmc_ai_changes", 0),
					(try_begin),
						(party_slot_eq, ":party", slot_party_type, 3),
						(assign, ":value_5", 3),
					(else_try),
						(neg|party_slot_eq, ":party", slot_party_type, 4),
						(this_or_next|party_slot_eq, ":party", slot_party_type, 2),
						(is_between, ":party", "p_town_1", "p_village_1"),
						(assign, ":value_5", 2),
					(try_end),
				(else_try),
					(is_between, ":party", "p_town_1", "p_castle_1"),
					(assign, ":value_5", 2),
				(try_end),
				(val_add, ":var_14", ":value_5"),
				(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
				(this_or_next|eq, ":party_town_lord", "trp_player"),
				(is_between, ":party_town_lord", "trp_npc1", "trp_heroes_end"),
				(try_begin),
					(is_between, ":faction_of_troop_script_param_1_political_issue", "p_town_1", "p_salt_mine"),
					(neq, ":party", ":faction_of_troop_script_param_1_political_issue"),
					(troop_get_slot, ":party_town_lord_164", ":party_town_lord", 164),
					(store_distance_to_party_from_party, reg0, ":party", ":faction_of_troop_script_param_1_political_issue"),
					(gt, reg0, 0),
					(try_begin),
						(eq, ":party_town_lord_164", 0),
						(assign, ":party_town_lord_164", reg0),
					(else_try),
						(val_min, ":party_town_lord_164", reg0),
					(try_end),
					(troop_set_slot, ":party_town_lord", 164, ":party_town_lord_164"),
				(try_end),
				(troop_get_slot, ":party_town_lord_temp_slot", ":party_town_lord", slot_troop_temp_slot),
				(val_add, ":party_town_lord_temp_slot", ":value_5"),
				(troop_set_slot, ":party_town_lord", slot_troop_temp_slot, ":party_town_lord_temp_slot"),
			(try_end),
			(val_max, ":var_14", 1),
			(store_div, ":value_6", ":value_4", ":var_14"),
			(val_max, ":var_9", 1),
			(assign, ":var_22", 0),
			(try_for_range, ":troop", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
				(store_sub, ":faction_of_troop_troop", ":faction_of_troop_script_param_1", 1),
				(try_begin),
					(eq, ":troop", "trp_kingdom_heroes_including_player_begin"),
					(assign, ":troop", "trp_player"),
					(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
					(eq, "$player_has_homage", 1),
					(assign, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
				(else_try),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(try_end),
				(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
				(troop_get_slot, ":troop_renown", ":troop", slot_troop_renown),
				(try_begin),
					(lt, "$g_disable_condescending_comments", 0),
					(call_script, "script_dplmc_store_troop_is_female", ":troop"),
					(eq, reg0, ":value_3"),
					(val_mul, ":troop_renown", 4),
					(val_add, ":troop_renown", 3),
					(val_div, ":troop_renown", 5),
				(try_end),
				(troop_get_slot, ":troop_temp_slot", ":troop", slot_troop_temp_slot),
				(val_max, ":troop_temp_slot", 1),
				(store_div, reg0, ":troop_renown", ":troop_temp_slot"),
				(val_sub, reg0, ":value_6"),
				(val_mul, reg0, reg0),
				(val_add, ":var_22", reg0),
			(try_end),
			(store_div, reg0, ":var_9", 2),
			(val_add, ":var_22", reg0),
			(val_div, ":var_22", ":var_9"),
			(assign, reg0, ":var_22"),
			(convert_to_fixed_point, reg0),
			(store_sqrt, reg0, reg0),
			(convert_from_fixed_point, reg0),
			(assign, ":var_24", reg0),
			(val_add, reg0, 5),
			(val_div, reg0, 10),
			(val_max, ":var_24", reg0),
			(store_sub, ":value_7", ":value_6", ":var_24"),
			(val_max, ":value_7", 0),
			(try_begin),
				(is_between, ":faction_of_troop_script_param_1_political_issue", "p_town_1", "p_salt_mine"),
				(try_begin),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
					(is_between, ":faction_of_troop_script_param_1_political_issue", "p_village_1", "p_salt_mine"),
					(assign, ":value_8", -1),
					(assign, ":value_9", -1),
					(try_begin),
						(ge, "$g_dplmc_ai_changes", 1),
						(try_begin),
							(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 6),
							(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 7),
							(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 9),
							(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 21),
							(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 25),
							(this_or_next|is_between, ":script_param_1", "trp_kingdom_1_lord", "trp_knight_1_1"),
							(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
							(assign, ":value_9", -6),
						(else_try),
							(ge, ":faction_of_troop_script_param_1_leader", 0),
							(this_or_next|eq, ":faction_of_troop_script_param_1_leader", ":script_param_1"),
							(this_or_next|troop_slot_eq, ":faction_of_troop_script_param_1_leader", slot_troop_spouse, ":script_param_1"),
							(troop_slot_eq, ":script_param_1", slot_troop_spouse, ":faction_of_troop_script_param_1_leader"),
							(assign, ":value_9", -6),
						(try_end),
					(try_end),
					(try_begin),
						(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
						(eq, "$player_has_homage", 1),
						(eq, ":value_2", 0),
						(troop_slot_eq, "trp_player", slot_troop_temp_slot, 0),
						(call_script, "script_troop_get_relation_with_troop", "trp_player", ":script_param_1"),
						(assign, ":value_10", reg0),
						(try_begin),
							(this_or_next|neq, ":value_3", "$character_gender"),
							(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
							(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, "trp_player"),
							(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
						(else_try),
							(val_sub, ":value_10", 20),
						(try_end),
						(gt, ":value_10", ":value_9"),
						(neg|troop_slot_ge, "trp_player", 150, 75),
						(assign, ":value_8", "trp_player"),
						(assign, ":value_9", ":value_10"),
					(try_end),
					(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
						(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(troop_slot_eq, ":troop", slot_troop_temp_slot, 0),
						(try_begin),
							(eq, ":troop", ":script_param_1"),
							(assign, ":value_10", 50),
						(else_try),
							(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
							(assign, ":value_10", reg0),
						(try_end),
						(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
						(try_begin),
							(eq, reg0, ":value_3"),
							(val_sub, ":value_10", 20),
						(try_end),
						(neg|troop_slot_ge, ":troop", 150, 75),
						(gt, ":value_10", ":value_9"),
						(assign, ":value_8", ":troop"),
						(assign, ":value_9", ":value_10"),
					(try_end),
					(gt, ":value_8", -1),
					(assign, ":value", ":value_8"),
					(assign, ":value_11", "str_political_explanation_lord_lacks_center"),
				(else_try),
					(ge, "$g_dplmc_ai_changes", 1),
					(call_script, "script_dplmc_get_troop_standing_in_faction", ":script_param_1", ":faction_of_troop_script_param_1"),
					(ge, reg0, 50),
					(assign, ":value_12", -1),
					(assign, ":value_13", -1),
					(assign, ":value_14", 0),
					(try_begin),
						(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
						(eq, "$player_has_homage", 1),
						(eq, ":value_2", 0),
						(call_script, "script_dplmc_calculate_troop_score_for_center_aux", ":script_param_1", "trp_player", ":faction_of_troop_script_param_1_political_issue"),
						(assign, ":value_12", "trp_player"),
						(assign, ":value_13", reg0),
						(assign, ":value_14", reg1),
					(try_end),
					(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
						(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(call_script, "script_dplmc_calculate_troop_score_for_center_aux", ":script_param_1", ":troop", ":faction_of_troop_script_param_1_political_issue"),
						(this_or_next|eq, ":value_12", -1),
						(gt, reg0, ":value_13"),
						(assign, ":value_12", ":troop"),
						(assign, ":value_13", reg0),
						(assign, ":value_14", reg1),
					(try_end),
					(gt, ":value_12", -1),
					(assign, ":value", ":value_12"),
					(assign, ":value_11", ":value_14"),
				(else_try),
					(is_between, ":faction_of_troop_script_param_1_political_issue", "p_town_1", "p_village_1"),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 4),
					(party_get_slot, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", ":faction_of_troop_script_param_1_political_issue", slot_center_last_taken_by_troop),
					(try_begin),
						(try_begin),
							(neq, ":faction_of_troop_script_param_1", "$players_kingdom"),
							(assign, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", -1),
						(else_try),
							(eq, "$player_has_homage", 0),
							(assign, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", -1),
						(else_try),
							(eq, ":faction_of_troop_script_param_1_political_issue", "$g_castle_requested_by_player"),
							(assign, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", "trp_player"),
						(else_try),
							(eq, ":faction_of_troop_script_param_1_political_issue", "$g_castle_requested_for_troop"),
							(assign, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", "trp_player"),
						(else_try),
							(gt, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", -1),
							(store_faction_of_troop, ":faction_of_troop_faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop"),
							(neq, ":faction_of_troop_faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", ":faction_of_troop_script_param_1"),
							(assign, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", -1),
						(try_end),
					(try_end),
					(gt, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", -1),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(gt, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", -1),
						(str_store_troop_name, 3, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop"),
						(display_message, "@{!}Castle taken by {s3}"),
					(try_end),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop"),
					(assign, ":value_10", reg0),
					(try_begin),
						(ge, "$g_dplmc_ai_changes", 1),
						(try_begin),
							(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 1),
							(val_add, reg0, 5),
						(else_try),
							(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 7),
							(val_add, reg0, 5),
						(try_end),
					(try_end),
					(ge, reg0, 0),
					(neg|troop_slot_ge, ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", 150, 25),
					(troop_get_slot, ":troop_renown", ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", slot_troop_renown),
					(try_begin),
						(lt, "$g_disable_condescending_comments", 0),
						(call_script, "script_dplmc_store_troop_is_female", ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop"),
						(eq, reg0, ":value_3"),
						(val_mul, ":troop_renown", 4),
						(val_add, ":troop_renown", 3),
						(val_div, ":troop_renown", 5),
					(try_end),
					(troop_get_slot, ":troop_temp_slot", ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop", slot_troop_temp_slot),
					(val_max, ":troop_temp_slot", 1),
					(store_div, ":value_15", ":troop_renown", ":troop_temp_slot"),
					(val_mul, ":value_15", 6),
					(val_div, ":value_15", 4),
					(try_begin),
						(ge, "$g_dplmc_ai_changes", 1),
						(store_div, reg0, ":troop_renown", ":troop_temp_slot"),
						(val_add, reg0, ":var_24"),
						(val_max, ":value_15", reg0),
					(try_end),
					(ge, ":value_15", ":value_6"),
					(assign, ":value", ":faction_of_troop_script_param_1_political_issue_center_last_taken_by_troop"),
					(assign, ":value_11", "str_political_explanation_lord_took_center"),
				(else_try),
					(assign, ":value_16", -1),
					(assign, ":value_9", ":value_6"),
					(val_div, ":value_9", 3),
					(val_mul, ":value_9", 2),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(assign, reg3, ":value_9"),
						(display_message, "@{!}Two-thirds average renown = {reg3}"),
					(try_end),
					(try_begin),
						(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
						(eq, "$player_has_homage", 1),
						(eq, ":value_2", 0),
						(call_script, "script_troop_get_relation_with_troop", "trp_player", ":script_param_1"),
						(assign, ":value_10", reg0),
						(this_or_next|gt, ":var_7", 0),
						(ge, ":value_10", 20),
						(neg|troop_slot_ge, "trp_player", 150, 50),
						(troop_get_slot, ":troop_renown", "trp_player", slot_troop_renown),
						(try_begin),
							(lt, "$g_disable_condescending_comments", 0),
							(eq, ":value_3", "$character_gender"),
							(val_mul, ":troop_renown", 4),
							(val_add, ":troop_renown", 3),
							(val_div, ":troop_renown", 5),
						(try_end),
						(troop_get_slot, ":troop_temp_slot", "trp_player", slot_troop_temp_slot),
						(val_max, ":troop_temp_slot", 1),
						(store_div, ":value_15", ":troop_renown", ":troop_temp_slot"),
						(assign, ":value_16", "trp_player"),
						(assign, ":value_9", ":value_15"),
					(try_end),
					(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
						(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
						(assign, ":value_10", reg0),
						(assign, reg0, 0),
						(try_begin),
							(lt, ":value_10", 20),
							(gt, ":var_7", 0),
							(neq, ":troop", ":script_param_1"),
							(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
						(try_end),
						(this_or_next|gt, reg0, 0),
						(this_or_next|eq, ":troop", ":script_param_1"),
						(ge, ":value_10", 20),
						(neg|troop_slot_ge, ":troop", 150, 50),
						(troop_get_slot, ":troop_renown", ":troop", slot_troop_renown),
						(try_begin),
							(lt, "$g_disable_condescending_comments", 0),
							(call_script, "script_dplmc_store_troop_is_female", ":troop"),
							(eq, reg0, ":value_3"),
							(val_mul, ":troop_renown", 4),
							(val_add, ":troop_renown", 3),
							(val_div, ":troop_renown", 5),
						(try_end),
						(troop_get_slot, ":troop_temp_slot", ":troop", slot_troop_temp_slot),
						(val_max, ":troop_temp_slot", 1),
						(store_div, ":value_15", ":troop_renown", ":troop_temp_slot"),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 10, ":troop"),
							(assign, reg3, ":value_15"),
							(display_message, "@{!}DEBUG -- Colleague test: score for {s10} = {reg3}"),
						(try_end),
						(gt, ":value_15", ":value_9"),
						(assign, ":value_16", ":troop"),
						(assign, ":value_9", ":value_15"),
					(try_end),
					(gt, ":value_16", -1),
					(assign, ":value", ":value_16"),
					(assign, ":value_11", "str_political_explanation_most_deserving_friend"),
				(else_try),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
					(neg|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
					(assign, ":value_17", -1),
					(assign, ":value_9", 0),
					(try_begin),
						(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
						(eq, "$player_has_homage", 1),
						(eq, ":value_2", 0),
						(call_script, "script_troop_get_relation_with_troop", "trp_player", ":script_param_1"),
						(assign, ":value_10", reg0),
						(ge, ":value_10", 0),
						(troop_get_slot, ":troop_renown", "trp_player", slot_troop_renown),
						(try_begin),
							(lt, "$g_disable_condescending_comments", 0),
							(eq, ":value_3", "$character_gender"),
							(val_mul, ":troop_renown", 4),
							(val_add, ":troop_renown", 3),
							(val_div, ":troop_renown", 5),
						(try_end),
						(troop_get_slot, ":troop_temp_slot", "trp_player", slot_troop_temp_slot),
						(neg|troop_slot_ge, "trp_player", 150, 25),
						(val_max, ":troop_temp_slot", 1),
						(store_div, ":value_15", ":troop_renown", ":troop_temp_slot"),
						(assign, ":value_17", "trp_player"),
						(assign, ":value_9", ":value_15"),
					(try_end),
					(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
						(this_or_next|is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
						(assign, ":value_10", reg0),
						(this_or_next|eq, ":troop", ":script_param_1"),
						(ge, ":value_10", 0),
						(neg|troop_slot_ge, ":troop", 150, 25),
						(troop_get_slot, ":troop_renown", ":troop", slot_troop_renown),
						(try_begin),
							(lt, "$g_disable_condescending_comments", 0),
							(call_script, "script_dplmc_store_troop_is_female", ":troop"),
							(eq, reg0, ":value_3"),
							(val_mul, ":troop_renown", 4),
							(val_add, ":troop_renown", 3),
							(val_div, ":troop_renown", 5),
						(try_end),
						(troop_get_slot, ":troop_temp_slot", ":troop", slot_troop_temp_slot),
						(val_max, ":troop_temp_slot", 1),
						(store_div, ":value_15", ":troop_renown", ":troop_temp_slot"),
						(gt, ":value_15", ":value_9"),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_string, 10, ":troop"),
							(assign, reg3, ":value_15"),
							(display_message, "@{!}DEBUG -- Open test: score for {s10} = {reg3}"),
						(try_end),
						(assign, ":value_17", ":troop"),
						(assign, ":value_9", ":value_15"),
					(try_end),
					(gt, ":value_17", -1),
					(assign, ":value", ":value_17"),
					(assign, ":value_11", "str_political_explanation_most_deserving_in_faction"),
				(else_try),
					(ge, "$g_dplmc_ai_changes", 0),
					(call_script, "script_dplmc_get_troop_standing_in_faction", ":script_param_1", ":faction_of_troop_script_param_1"),
					(this_or_next|ge, reg0, 50),
					(ge, "$g_dplmc_ai_changes", 1),
					(this_or_next|lt, reg0, 50),
					(lt, "$g_dplmc_ai_changes", 1),
					(assign, ":var_38", reg1),
					(assign, ":value_9", 0),
					(assign, ":value_17", -1),
					(try_for_range, ":troop", "trp_kingdom_heroes_including_player_begin", "trp_heroes_end"),
						(store_sub, ":faction_of_troop_troop", ":faction_of_troop_script_param_1", 1),
						(try_begin),
							(eq, ":troop", "trp_kingdom_heroes_including_player_begin"),
							(assign, ":troop", "trp_player"),
							(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
							(eq, "$player_has_homage", 1),
							(assign, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(else_try),
							(troop_slot_eq, ":troop", slot_troop_occupation, 2),
							(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
						(try_end),
						(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
						(call_script, "script_dplmc_calculate_troop_score_for_center_aux", ":script_param_1", ":troop", ":faction_of_troop_script_param_1_political_issue"),
						(this_or_next|eq, ":value_17", -1),
						(ge, reg0, ":value_9"),
						(assign, ":value_9", reg0),
						(assign, ":value_11", reg1),
						(assign, ":value_17", ":troop"),
					(try_end),
					(gt, ":value_17", -1),
					(assign, ":value", ":value_17"),
					(assign, reg1, ":var_38"),
				(else_try),
					(assign, ":value", ":script_param_1"),
					(assign, ":value_11", "str_political_explanation_self"),
				(try_end),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_political_issue", 1),
				(assign, ":value_18", 15),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 7),
					(assign, ":value_18", 5),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(assign, ":value_18", 25),
				(try_end),
				(assign, ":value_19", -1),
				(assign, ":value_9", 0),
				(try_begin),
					(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
					(eq, "$player_has_homage", 1),
					(eq, "$g_player_is_captive", 0),
					(eq, ":value_2", 0),
					(call_script, "script_troop_get_relation_with_troop", "trp_player", ":script_param_1"),
					(ge, reg0, ":value_18"),
					(assign, ":value_19", "trp_player"),
					(troop_get_slot, ":troop_renown", "trp_player", slot_troop_renown),
					(try_begin),
						(lt, "$g_disable_condescending_comments", 0),
						(eq, ":value_3", "$character_gender"),
						(val_mul, ":troop_renown", 4),
						(val_add, ":troop_renown", 3),
						(val_div, ":troop_renown", 5),
					(try_end),
					(troop_get_slot, ":player_days_on_mission", "trp_player", slot_troop_days_on_mission),
					(val_add, ":player_days_on_mission", 50),
					(store_div, ":value_9", ":troop_renown", ":player_days_on_mission"),
				(try_end),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(troop_slot_eq, ":troop", slot_troop_prisoner_of_party, -1),
					(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":troop"),
					(call_script, "script_troop_get_relation_with_troop", ":troop", ":script_param_1"),
					(assign, ":value_10", reg0),
					(this_or_next|eq, ":troop", ":script_param_1"),
					(ge, ":value_10", ":value_18"),
					(troop_get_slot, ":troop_renown", ":troop", slot_troop_renown),
					(try_begin),
						(lt, "$g_disable_condescending_comments", 0),
						(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
						(eq, reg0, ":value_3"),
						(val_mul, ":troop_renown", 4),
						(val_add, ":troop_renown", 3),
						(val_div, ":troop_renown", 5),
					(try_end),
					(troop_get_slot, ":player_days_on_mission", ":troop", slot_troop_days_on_mission),
					(val_add, ":player_days_on_mission", 50),
					(store_div, ":value_20", ":troop_renown", ":player_days_on_mission"),
					(gt, ":value_20", ":value_9"),
					(assign, ":value_19", ":troop"),
					(assign, ":value_9", ":value_20"),
				(try_end),
				(assign, ":value", ":value_19"),
				(assign, ":value_11", "str_political_explanation_marshal"),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(gt, ":value", -1),
				(str_store_troop_name, 8, ":script_param_1"),
				(str_store_troop_name, 9, ":value"),
				(str_store_string, 10, ":value_11"),
				(display_message, "@{!}DEBUG -- {s8} backs {s9}:{s10}"),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_11")
		]),

	("npc_decision_checklist_evaluate_faction_strategy",
		[]),

	("process_player_enterprise",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(item_get_slot, ":script_param_1_overhead_per_run", ":script_param_1", slot_item_overhead_per_run),
			(item_get_slot, ":script_param_1_base_price", ":script_param_1", slot_item_base_price),
			(store_sub, ":value", ":script_param_1", "itm_trade_spice"),
			(val_add, ":value", 267),
			(party_get_slot, ":script_param_2_value", ":script_param_2", ":value"),
			(val_clamp, ":script_param_2_value", 100, 10001),
			(store_mul, ":value_2", ":script_param_1_base_price", ":script_param_2_value"),
			(val_div, ":value_2", 1000),
			(item_get_slot, ":script_param_1_output_per_run", ":script_param_1", slot_item_output_per_run),
			(store_mul, ":value_3", ":script_param_1_output_per_run", ":value_2"),
			(item_get_slot, ":script_param_1_primary_raw_material", ":script_param_1", slot_item_primary_raw_material),
			(item_get_slot, ":script_param_1_base_price", ":script_param_1_primary_raw_material", slot_item_base_price),
			(store_sub, ":value", ":script_param_1_primary_raw_material", "itm_trade_spice"),
			(val_add, ":value", 267),
			(party_get_slot, ":script_param_2_value", ":script_param_2", ":value"),
			(try_begin),
				(ge, "$g_dplmc_gold_changes", 1),
				(call_script, "script_dplmc_assess_ability_to_purchase_good_from_center", ":script_param_1_primary_raw_material", ":script_param_2"),
				(val_max, ":script_param_2_value", reg0),
			(try_end),
			(val_clamp, ":script_param_2_value", 100, 10001),
			(store_mul, ":value_4", ":script_param_1_base_price", ":script_param_2_value"),
			(val_div, ":value_4", 1000),
			(item_get_slot, ":script_param_1_input_number", ":script_param_1", slot_item_input_number),
			(try_begin),
				(lt, ":script_param_1_input_number", 0),
				(store_div, ":value_5", ":value_4", 2),
			(else_try),
				(store_mul, ":value_5", ":value_4", ":script_param_1_input_number"),
			(try_end),
			(try_begin),
				(item_slot_ge, ":script_param_1", 57, 1),
				(item_get_slot, ":script_param_1_secondary_raw_material", ":script_param_1", slot_item_secondary_raw_material),
				(item_get_slot, ":script_param_1_base_price", ":script_param_1_secondary_raw_material", slot_item_base_price),
				(store_sub, ":value", ":script_param_1_secondary_raw_material", "itm_trade_spice"),
				(val_add, ":value", 267),
				(party_get_slot, ":script_param_2_value", ":script_param_2", ":value"),
				(try_begin),
					(ge, "$g_dplmc_gold_changes", 1),
					(call_script, "script_dplmc_assess_ability_to_purchase_good_from_center", ":script_param_1_secondary_raw_material", ":script_param_2"),
					(val_max, ":script_param_2_value", reg0),
				(try_end),
				(val_clamp, ":script_param_2_value", 100, 10001),
				(try_begin),
					(lt, ":script_param_1_input_number", 0),
					(store_div, ":value_6", ":value_6", 2),
				(else_try),
					(store_mul, ":value_6", ":value_6", ":script_param_1_input_number"),
				(try_end),
				(store_mul, ":value_6", ":script_param_1_base_price", ":script_param_2_value"),
				(val_div, ":value_6", 1000),
			(else_try),
				(assign, ":value_6", 0),
			(try_end),
			(store_sub, ":value_7", ":value_3", ":value_5"),
			(val_sub, ":value_7", ":script_param_1_overhead_per_run"),
			(val_sub, ":value_7", ":value_6"),
			(assign, reg0, ":value_7"),
			(assign, reg1, ":value_3"),
			(assign, reg2, ":value_5"),
			(assign, reg3, ":script_param_1_overhead_per_run"),
			(assign, reg4, ":value_2"),
			(assign, reg5, ":value_4"),
			(assign, reg10, ":value_6")
		]),

	("replace_scene_items_with_spawn_items_before_ms",
		[
			(try_for_range, ":number", 0, "itm_items_end"),
				(scene_item_get_num_instances, ":scene_item_num_instances_number", ":number"),
				(item_set_slot, ":number", slot_item_num_positions, 0),
				(assign, ":var_3", 0),
				(try_for_range, ":number_2", 0, ":scene_item_num_instances_number"),
					(scene_item_get_instance, ":scene_item_instance_number_number_2", ":number", ":number_2"),
					(prop_instance_get_position, "$g_position_to_use_for_replacing_scene_items", ":scene_item_instance_number_number_2"),
					(store_add, ":value", 23, ":var_3"),
					(item_set_slot, ":number", ":value", "$g_position_to_use_for_replacing_scene_items"),
					(val_add, ":var_3", 1),
					(val_add, "$g_position_to_use_for_replacing_scene_items", 1),
					(item_set_slot, ":number", slot_item_num_positions, ":var_3"),
				(try_end),
				(replace_scene_items_with_scene_props, ":number", "spr_empty"),
			(try_end)
		]),

	("replace_scene_items_with_spawn_items_after_ms",
		[
			(try_for_range, ":number", 0, "itm_items_end"),
				(item_get_slot, ":number_num_positions", ":number", slot_item_num_positions),
				(try_for_range, ":number_2", 0, ":number_num_positions"),
					(store_add, ":value", 23, ":number_2"),
					(item_get_slot, ":number_value", ":number", ":value"),
					(set_spawn_position, ":number_value"),
					(spawn_item, ":number", 0),
				(try_end),
			(try_end)
		]),

	("cf_is_melee_weapon_for_tutorial",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "itm_we_sar_spear_staff_quarter"),
				(eq, ":script_param_1", "itm_practice_sword"),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 1)
		]),

	("iterate_pointer_arrow",
		[
			(store_mission_timer_a_msec, ":mission_timer_a_msec"),
			(try_begin),
				(assign, ":var_2", ":mission_timer_a_msec"),
				(assign, ":var_3", ":mission_timer_a_msec"),
				(val_mod, ":var_2", 1080),
				(val_div, ":var_2", 3),
				(scene_prop_get_instance, ":scene_prop_instance_pointer_arrow_0", "spr_pointer_arrow", 0),
				(prop_instance_get_position, 0, ":scene_prop_instance_pointer_arrow_0"),
				(position_set_z_to_ground_level, 0),
				(position_move_z, 0, "$g_pointer_arrow_height_adder", 1),
				(set_fixed_point_multiplier, 100),
				(val_mul, ":var_2", 100),
				(store_sin, ":value", ":var_2"),
				(position_move_z, 0, ":value", 1),
				(position_move_z, 0, 100, 1),
				(val_mod, ":var_3", 2880),
				(val_div, ":var_3", 8),
				(init_position, 1),
				(position_rotate_z, 1, ":var_3"),
				(position_copy_rotation, 0, 1),
				(prop_instance_set_position, ":scene_prop_instance_pointer_arrow_0", 0),
			(try_end)
		]),

	("find_center_to_attack_alt",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(call_script, "script_npc_decision_checklist_evaluate_enemy_center_for_attack", ":script_param_1", ":party", ":script_param_2", ":script_param_3"),
				(assign, ":var_7", reg0),
				(gt, ":var_7", ":value_2"),
				(assign, ":value", ":party"),
				(assign, ":value_2", ":var_7"),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2")
		]),

	("npc_decision_checklist_evaluate_enemy_center_for_attack",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(assign, ":value_3", 0),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":script_param_3", 1),
				(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
				(ge, ":faction_of_troop_script_param_1_marshall", 0),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
			(else_try),
				(troop_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(try_end),
			(assign, "$g_use_current_ai_object_as_s8", 0),
			(party_get_slot, ":script_param_2_403", ":script_param_2", 403),
			(try_begin),
				(eq, ":script_param_2_403", 0),
				(assign, ":script_param_2_403", -1),
			(else_try),
				(store_current_hours, reg0),
				(val_sub, ":script_param_2_403", reg0),
			(try_end),
			(try_begin),
				(ge, "$g_dplmc_ai_changes", 2),
				(assign, ":value_4", 504),
			(else_try),
				(ge, "$g_dplmc_ai_changes", 1),
				(assign, ":value_4", 336),
			(else_try),
				(ge, "$g_dplmc_ai_changes", 0),
				(assign, ":value_4", 168),
			(else_try),
				(assign, ":value_4", 0),
			(try_end),
			(try_begin),
				(neg|party_is_active, ":faction_of_troop_script_param_1_marshall_leaded_party"),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_party_not_active"),
			(else_try),
				(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
				(store_relation, ":relation_faction_of_party_script_param_2_faction_of_troop_script_param_1", ":faction_of_party_script_param_2", ":faction_of_troop_script_param_1"),
				(ge, ":relation_faction_of_party_script_param_2_faction_of_troop_script_param_1", 0),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_is_friendly"),
			(else_try),
				(is_between, ":script_param_2", "p_town_1", "p_village_1"),
				(assign, ":value_5", -1),
				(try_begin),
					(neg|party_slot_eq, ":script_param_2", slot_center_is_besieged_by, -1),
					(party_get_slot, ":script_param_2_center_is_besieged_by", ":script_param_2", slot_center_is_besieged_by),
					(party_is_active, ":script_param_2_center_is_besieged_by"),
					(store_faction_of_party, ":value_5", ":script_param_2_center_is_besieged_by"),
				(try_end),
				(neq, ":value_5", -1),
				(neq, ":value_5", ":faction_of_troop_script_param_1"),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_is_already_besieged"),
			(else_try),
				(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
				(assign, ":value_6", 0),
				(try_begin),
					(party_slot_eq, ":script_param_2", slot_village_state, 1),
					(party_get_slot, ":script_param_2_village_raided_by", ":script_param_2", slot_village_raided_by),
					(party_is_active, ":script_param_2_village_raided_by"),
					(store_faction_of_party, ":faction_of_party_script_param_2_village_raided_by", ":script_param_2_village_raided_by"),
					(neq, ":faction_of_party_script_param_2_village_raided_by", ":faction_of_troop_script_param_1"),
					(assign, ":value_7", 1),
				(else_try),
					(assign, ":value_7", 0),
				(try_end),
				(try_begin),
					(this_or_next|party_slot_eq, ":script_param_2", slot_village_state, 2),
					(eq, ":value_7", 1),
					(assign, ":value_6", 1),
				(try_end),
				(eq, ":value_6", 1),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_is_looted_or_raided_already"),
			(else_try),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 3),
				(this_or_next|gt, reg0, 0),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 9),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 25),
				(this_or_next|troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 7),
				(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 6),
				(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_marshal_does_not_want_to_attack_innocents"),
			(else_try),
				(assign, ":value_8", 1000),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_party_script_param_2", ":party", ":script_param_2"),
					(lt, ":distance_to_party_from_party_party_script_param_2", ":value_8"),
					(assign, ":value_8", ":distance_to_party_from_party_party_script_param_2"),
				(try_end),
				(gt, ":value_8", 75),
				(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
				(gt, reg0, 0),
				(this_or_next|lt, "$g_dplmc_ai_changes", 0),
				(this_or_next|neg|party_slot_eq, ":script_param_2", slot_center_ex_faction, ":faction_of_troop_script_param_1"),
				(this_or_next|lt, ":script_param_2_403", 0),
				(ge, ":script_param_2_403", ":value_4"),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_far_away_our_cautious_marshal_does_not_wish_to_reconnoiter"),
			(else_try),
				(gt, ":value_8", 90),
				(this_or_next|lt, "$g_dplmc_ai_changes", 0),
				(this_or_next|neg|party_slot_eq, ":script_param_2", slot_center_ex_faction, ":faction_of_troop_script_param_1"),
				(this_or_next|lt, ":script_param_2_403", 0),
				(ge, ":script_param_2_403", ":value_4"),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_far_away_even_for_our_aggressive_marshal_to_reconnoiter"),
			(else_try),
				(is_between, ":script_param_2", "p_town_1", "p_village_1"),
				(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
				(lt, reg0, 0),
				(this_or_next|lt, "$g_dplmc_ai_changes", 0),
				(this_or_next|neg|party_slot_eq, ":script_param_2", slot_center_ex_faction, ":faction_of_troop_script_param_1"),
				(this_or_next|lt, ":script_param_2_403", 0),
				(ge, ":script_param_2_403", ":value_4"),
				(assign, ":value_9", 0),
				(try_for_range, ":party_2", "p_town_1", "p_village_1"),
					(eq, ":value_9", 0),
					(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
					(eq, ":faction_of_party_party_2", ":faction_of_troop_script_param_1"),
					(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_2_party_2", ":script_param_2", ":party_2"),
					(lt, ":distance_to_party_from_party_script_param_2_party_2", 60),
					(assign, ":value_9", 1),
				(try_end),
				(eq, ":value_9", 0),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_is_indefensible"),
			(else_try),
				(party_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party_cached_strength", ":faction_of_troop_script_param_1_marshall_leaded_party", slot_party_cached_strength),
				(party_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party_follower_strength", ":faction_of_troop_script_param_1_marshall_leaded_party", slot_party_follower_strength),
				(party_get_slot, ":faction_of_troop_script_param_1_marshall_leaded_party_nearby_friend_strength", ":faction_of_troop_script_param_1_marshall_leaded_party", slot_party_nearby_friend_strength),
				(store_add, ":value_10", ":faction_of_troop_script_param_1_marshall_leaded_party_cached_strength", ":faction_of_troop_script_param_1_marshall_leaded_party_follower_strength"),
				(val_add, ":value_10", ":faction_of_troop_script_param_1_marshall_leaded_party_nearby_friend_strength"),
				(try_begin),
					(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
					(assign, ":value_11", 10),
				(else_try),
					(party_get_slot, ":value_11", ":script_param_2", slot_party_cached_strength),
					(party_get_slot, ":script_param_2_nearby_friend_strength", ":script_param_2", slot_party_nearby_friend_strength),
					(val_add, ":value_11", ":script_param_2_nearby_friend_strength"),
				(try_end),
				(val_max, ":value_11", 1),
				(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
				(lt, reg0, 0),
				(store_mul, ":value_3", ":value_10", 100),
				(val_div, ":value_3", ":value_11"),
				(lt, ":value_3", 150),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_protected_by_enemy_army_aggressive"),
			(else_try),
				(ge, ":value_11", ":value_10"),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_protected_by_enemy_army_cautious"),
			(else_try),
				(store_mul, ":value_3", ":value_10", 100),
				(val_div, ":value_3", ":value_11"),
				(lt, ":value_3", 185),
				(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
				(gt, reg0, 0),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_cautious_marshal_believes_center_too_difficult_to_capture"),
			(else_try),
				(lt, ":value_3", 140),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_even_aggressive_marshal_believes_center_too_difficult_to_capture"),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 3),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(is_between, ":faction_of_troop_script_param_1_ai_object", "p_village_1", "p_salt_mine"),
				(neq, ":script_param_2", ":faction_of_troop_script_param_1_ai_object"),
				(party_slot_eq, ":faction_of_troop_script_param_1_ai_object", slot_village_state, 5),
				(store_current_hours, ":current_hours"),
				(party_get_slot, ":faction_of_troop_script_param_1_ai_object_center_siege_begin_hours", ":faction_of_troop_script_param_1_ai_object", slot_center_siege_begin_hours),
				(val_sub, ":current_hours", ":faction_of_troop_script_param_1_ai_object_center_siege_begin_hours"),
				(gt, ":current_hours", 4),
				(call_script, "script_npc_decision_checklist_evaluate_enemy_center_for_attack", ":script_param_1", ":faction_of_troop_script_param_1_ai_object", ":script_param_3", 0),
				(gt, reg0, -1),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_we_have_already_committed_too_much_time_to_our_present_siege_to_move_elsewhere"),
			(else_try),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_ai_state, 3),
				(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
				(neq, ":script_param_2", ":faction_of_troop_script_param_1_ai_object"),
				(is_between, ":faction_of_troop_script_param_1_ai_object", "p_village_1", "p_salt_mine"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_faction_of_troop_script_param_1_marshall_leaded_party_faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1_marshall_leaded_party", ":faction_of_troop_script_param_1_ai_object"),
				(lt, ":distance_to_party_from_party_faction_of_troop_script_param_1_marshall_leaded_party_faction_of_troop_script_param_1_ai_object", 10),
				(call_script, "script_npc_decision_checklist_evaluate_enemy_center_for_attack", ":script_param_1", ":faction_of_troop_script_param_1_ai_object", ":script_param_3", 0),
				(gt, reg0, -1),
				(assign, "$g_use_current_ai_object_as_s8", 1),
				(assign, ":value", -1),
				(assign, ":value_2", "str_center_we_are_already_here_we_should_at_least_loot_the_village"),
			(else_try),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(eq, ":faction_of_troop_script_param_1", "fac_kingdom_3"),
					(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
					(store_relation, ":relation_faction_of_party_script_param_2_faction_of_troop_script_param_1", ":faction_of_party_script_param_2", ":faction_of_troop_script_param_1"),
					(lt, ":relation_faction_of_party_script_param_2_faction_of_troop_script_param_1", 0),
				(try_end),
				(call_script, "script_calculate_center_assailability_score", ":script_param_1", ":script_param_2", ":script_param_4"),
				(assign, ":var_39", reg0),
				(assign, ":value_3", reg1),
				(assign, ":value", ":var_39"),
				(try_begin),
					(le, ":value_3", 100),
					(try_begin),
						(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
						(gt, reg0, 0),
						(assign, ":value_2", "str_center_cautious_marshal_believes_center_too_difficult_to_capture"),
					(else_try),
						(assign, ":value_2", "str_center_even_aggressive_marshal_believes_center_too_difficult_to_capture"),
					(try_end),
				(else_try),
					(le, ":value_3", 150),
					(try_begin),
						(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
						(lt, reg0, 0),
						(assign, ":value_2", "str_center_protected_by_enemy_army_cautious"),
					(else_try),
						(assign, ":value_2", "str_center_protected_by_enemy_army_aggressive"),
					(try_end),
				(else_try),
					(try_begin),
						(le, ":var_39", "$g_faction_object_score"),
						(assign, ":value_2", "str_center_value_outweighed_by_difficulty_of_capture"),
					(else_try),
						(assign, ":value_2", "str_center_value_justifies_the_difficulty_of_capture"),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2"),
			(assign, reg2, ":value_3")
		]),

	("npc_decision_checklist_faction_ai_alt",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(str_store_troop_name, 4, ":script_param_1"),
			(str_store_faction_name, 33, ":faction_of_troop_script_param_1"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG -- {s4} produces a faction strategy for {s33}"),
			(try_end),
			(faction_get_slot, ":faction_of_troop_script_param_1_marshall", ":faction_of_troop_script_param_1", slot_faction_marshall),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_state", ":faction_of_troop_script_param_1", slot_faction_ai_state),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1", slot_faction_ai_object),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(try_begin),
				(gt, ":faction_of_troop_script_param_1_marshall", 0),
				(troop_get_slot, ":value", ":faction_of_troop_script_param_1_marshall", slot_troop_leaded_party),
				(party_is_active, ":value"),
				(party_get_slot, ":value_cached_strength", ":value", slot_party_cached_strength),
				(party_get_slot, ":value_follower_strength", ":value", slot_party_follower_strength),
				(store_add, ":value_2", ":value_cached_strength", ":value_follower_strength"),
			(try_end),
			(store_current_hours, ":current_hours"),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_last_offensive_time", ":faction_of_troop_script_param_1", slot_faction_ai_last_offensive_time),
			(val_sub, ":current_hours", ":faction_of_troop_script_param_1_ai_last_offensive_time"),
			(store_current_hours, ":current_hours_2"),
			(faction_get_slot, ":faction_of_troop_script_param_1_last_feast_concluded", ":faction_of_troop_script_param_1", slot_faction_last_feast_concluded),
			(val_sub, ":current_hours_2", ":faction_of_troop_script_param_1_last_feast_concluded"),
			(store_current_hours, ":current_hours_3"),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_current_state_started", ":faction_of_troop_script_param_1", slot_faction_ai_current_state_started),
			(val_sub, ":current_hours_3", ":faction_of_troop_script_param_1_ai_current_state_started"),
			(store_current_hours, ":current_hours_4"),
			(faction_get_slot, ":faction_of_troop_script_param_1_ai_last_rest_time", ":faction_of_troop_script_param_1", slot_faction_ai_last_rest_time),
			(val_sub, ":current_hours_4", ":faction_of_troop_script_param_1_ai_last_rest_time"),
			(try_begin),
				(ge, ":current_hours", 1080),
				(assign, ":value_3", 100),
			(else_try),
				(ge, ":current_hours", 480),
				(store_sub, ":value_3", ":current_hours", 480),
				(val_div, ":value_3", 20),
				(val_add, ":value_3", 64),
			(else_try),
				(ge, ":current_hours", 240),
				(store_sub, ":value_3", ":current_hours", 240),
				(val_div, ":value_3", 10),
				(val_add, ":value_3", 40),
			(else_try),
				(store_div, ":value_3", ":current_hours", 6),
			(try_end),
			(call_script, "script_find_center_to_defend", ":script_param_1"),
			(assign, ":var_19", reg0),
			(assign, ":var_20", reg1),
			(assign, ":var_21", reg2),
			(assign, ":var_22", 0),
			(assign, ":var_23", 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(this_or_next|is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":faction_of_troop_script_param_1"),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(party_is_active, ":troop_leaded_party"),
				(val_add, ":var_23", 1),
				(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
				(party_slot_eq, ":troop_leaded_party", slot_party_ai_object, ":value"),
				(party_is_active, ":value"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_troop_leaded_party_value", ":troop_leaded_party", ":value"),
				(lt, ":distance_to_party_from_party_troop_leaded_party_value", 15),
				(val_add, ":var_22", 1),
			(try_end),
			(assign, ":value_4", -1),
			(try_begin),
				(gt, ":var_23", 0),
				(store_mul, ":value_4", ":var_22", 100),
				(val_div, ":value_4", ":var_23"),
			(try_end),
			(store_mul, ":value_5", ":value_4", 3),
			(val_add, ":value_5", 90),
			(try_begin),
				(ge, ":faction_of_troop_script_param_1_marshall", 0),
				(ge, ":value", 0),
				(party_is_active, ":value"),
				(call_script, "script_party_count_fit_for_battle", ":value"),
				(assign, ":var_30", reg0),
				(ge, ":var_30", 40),
				(call_script, "script_find_center_to_attack_alt", ":script_param_1", 1, 0),
				(assign, ":value_6", reg0),
				(assign, ":value_7", reg1),
				(call_script, "script_find_center_to_attack_alt", ":script_param_1", 1, 1),
				(assign, ":value_8", reg0),
				(assign, ":value_9", reg1),
			(else_try),
				(assign, ":value_7", 0),
				(assign, ":value_9", 0),
				(assign, ":value_6", -1),
				(assign, ":value_8", -1),
			(try_end),
			(try_begin),
				(ge, ":value_7", ":value_8"),
				(assign, ":value_10", ":value_6"),
				(assign, ":value_11", ":value_7"),
			(else_try),
				(assign, ":value_10", ":value_8"),
				(assign, ":value_11", ":value_9"),
			(try_end),
			(try_begin),
				(eq, ":faction_of_troop_script_param_1_ai_state", 2),
				(val_mul, ":value_11", 3),
				(val_div, ":value_11", 2),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(try_begin),
					(is_between, ":value_10", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 4, ":value_10"),
					(display_message, "@{!}Best offensive target {s4} has value level of {reg1}"),
				(else_try),
					(display_message, "@{!}No center found to attack"),
				(try_end),
				(try_begin),
					(is_between, ":var_19", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 4, ":var_19"),
					(assign, reg1, ":var_20"),
					(display_message, "@{!}Best threat of {s4} has value level of {reg1}"),
				(else_try),
					(display_message, "@{!}No center found to defend"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(try_begin),
					(is_between, ":var_19", "p_town_1", "p_salt_mine"),
					(str_store_party_name, 4, ":var_19"),
					(assign, reg1, ":var_20"),
					(display_message, "@Best threat of {s4} has value level of {reg1}"),
				(else_try),
					(display_message, "@No center found to defend"),
				(try_end),
			(try_end),
			(assign, "$g_target_after_gathering", -1),
			(store_current_hours, ":current_hours_5"),
			(try_begin),
				(ge, ":value_11", ":var_20"),
				(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_last_safe_hours, ":current_hours_5"),
			(try_end),
			(faction_get_slot, ":faction_of_troop_script_param_1_last_safe_hours", ":faction_of_troop_script_param_1", slot_faction_last_safe_hours),
			(try_begin),
				(eq, ":faction_of_troop_script_param_1_last_safe_hours", 0),
				(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_last_safe_hours, ":current_hours_5"),
			(try_end),
			(faction_get_slot, ":faction_of_troop_script_param_1_last_safe_hours", ":faction_of_troop_script_param_1", slot_faction_last_safe_hours),
			(store_sub, ":value_12", ":current_hours_5", ":faction_of_troop_script_param_1_last_safe_hours"),
			(str_store_faction_name, 7, ":faction_of_troop_script_param_1"),
			(assign, ":value_13", 1),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(store_relation, ":relation_faction_of_troop_script_param_1_faction", ":faction_of_troop_script_param_1", ":faction"),
				(lt, ":relation_faction_of_troop_script_param_1_faction", 0),
				(assign, ":value_13", 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(eq, ":faction_of_troop_script_param_1_ai_state", 6),
				(ge, ":current_hours_3", 72),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(assign, "$player_marshal_ai_state", 0),
				(assign, "$player_marshal_ai_object", -1),
			(else_try),
				(eq, "$players_kingdom", "fac_player_supporters_faction"),
				(faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
				(neq, ":script_param_1", "trp_player"),
				(eq, ":faction_of_troop_script_param_1_ai_state", 6),
				(le, ":current_hours_3", 48),
				(party_slot_eq, ":faction_of_troop_script_param_1_ai_object", slot_town_lord, "trp_player"),
				(store_faction_of_party, ":faction_of_party_faction_of_troop_script_param_1_ai_object", ":faction_of_troop_script_param_1_ai_object"),
				(eq, ":faction_of_party_faction_of_troop_script_param_1_ai_object", "$players_kingdom"),
				(assign, ":value_14", 6),
				(assign, ":value_15", ":faction_of_troop_script_param_1_ai_object"),
			(else_try),
				(eq, ":script_param_1", "trp_player"),
				(str_clear, 14),
				(assign, ":value_14", "$player_marshal_ai_state"),
				(assign, ":value_15", "$player_marshal_ai_object"),
			(else_try),
				(neq, ":faction_of_troop_script_param_1_ai_state", 0),
				(neq, ":faction_of_troop_script_param_1_ai_state", 6),
				(party_is_active, ":value"),
				(party_slot_eq, ":value", slot_party_ai_state, 14),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_the_enemy_temporarily_has_the_field"),
			(else_try),
				(neq, ":faction_of_troop_script_param_1_ai_state", 6),
				(assign, ":value_16", 0),
				(try_begin),
					(eq, ":faction_of_troop_script_param_1_ai_state", 2),
					(is_between, ":faction_of_troop_script_param_1_ai_object", "p_town_1", "p_village_1"),
					(party_get_slot, ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1_ai_object", slot_center_is_besieged_by),
					(party_is_active, ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by"),
					(store_faction_of_party, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by"),
					(eq, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1"),
					(assign, ":value_16", 1),
				(try_end),
				(assign, ":value_17", 0),
				(try_begin),
					(eq, ":faction_of_troop_script_param_1_ai_state", 5),
					(gt, ":value", 0),
					(party_is_active, ":value"),
					(assign, ":value_18", -1),
					(try_begin),
						(party_slot_eq, ":value", slot_party_ai_state, 7),
						(party_get_slot, ":value_ai_object", ":value", slot_party_ai_object),
						(party_get_battle_opponent, ":battle_opponent_value_ai_object", ":value_ai_object"),
						(ge, ":battle_opponent_value_ai_object", 0),
						(assign, ":value_18", ":value_ai_object"),
					(else_try),
						(party_slot_eq, ":value", slot_party_ai_state, 10),
						(party_get_slot, ":value_ai_object", ":value", slot_party_ai_object),
						(ge, ":value_ai_object", 0),
						(neg|is_between, ":value_ai_object", "p_town_1", "p_salt_mine"),
						(party_is_active, ":value_ai_object"),
						(party_get_battle_opponent, ":value_18", ":value_ai_object"),
					(try_end),
					(eq, ":value_18", ":faction_of_troop_script_param_1_ai_object"),
					(assign, ":value_17", 1),
				(try_end),
				(eq, ":value_16", 0),
				(eq, ":value_17", 0),
				(ge, ":current_hours_4", 1240),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_the_vassals_are_tired_we_let_them_rest_for_some_time"),
			(else_try),
				(party_is_active, ":value"),
				(eq, ":value_13", 0),
				(is_between, ":var_19", "p_town_1", "p_salt_mine"),
				(gt, ":var_20", ":value_11"),
				(assign, ":value_19", 0),
				(assign, ":value_20", 0),
				(try_begin),
					(is_between, ":var_19", "p_village_1", "p_salt_mine"),
					(assign, ":value_19", 0),
				(else_try),
					(try_begin),
						(lt, ":value_12", 3),
						(assign, ":value_21", 150),
					(else_try),
						(lt, ":value_12", 6),
						(assign, ":value_21", 140),
					(else_try),
						(lt, ":value_12", 9),
						(assign, ":value_21", 132),
					(else_try),
						(lt, ":value_12", 12),
						(assign, ":value_21", 124),
					(else_try),
						(lt, ":value_12", 15),
						(assign, ":value_21", 118),
					(else_try),
						(lt, ":value_12", 18),
						(assign, ":value_21", 114),
					(else_try),
						(lt, ":value_12", 21),
						(assign, ":value_21", 110),
					(else_try),
						(lt, ":value_12", 24),
						(assign, ":value_21", 106),
					(else_try),
						(lt, ":value_12", 27),
						(assign, ":value_21", 102),
					(else_try),
						(lt, ":value_12", 31),
						(assign, ":value_21", 98),
					(else_try),
						(lt, ":value_12", 34),
						(assign, ":value_21", 94),
					(else_try),
						(lt, ":value_12", 37),
						(assign, ":value_21", 90),
					(else_try),
						(lt, ":value_12", 40),
						(assign, ":value_21", 86),
					(else_try),
						(lt, ":value_12", 43),
						(assign, ":value_21", 82),
					(else_try),
						(lt, ":value_12", 46),
						(assign, ":value_21", 79),
					(else_try),
						(lt, ":value_12", 49),
						(assign, ":value_21", 76),
					(else_try),
						(lt, ":value_12", 52),
						(assign, ":value_21", 73),
					(else_try),
						(lt, ":value_12", 56),
						(assign, ":value_21", 70),
					(else_try),
						(lt, ":value_12", 60),
						(assign, ":value_21", 68),
					(else_try),
						(lt, ":value_12", 66),
						(assign, ":value_21", 66),
					(else_try),
						(lt, ":value_12", 72),
						(assign, ":value_21", 64),
					(else_try),
						(lt, ":value_12", 80),
						(assign, ":value_21", 62),
					(else_try),
						(lt, ":value_12", 90),
						(assign, ":value_21", 60),
					(else_try),
						(lt, ":value_12", 100),
						(assign, ":value_21", 58),
					(else_try),
						(assign, ":value_21", 56),
					(try_end),
					(store_mul, ":value_22", ":var_21", ":value_21"),
					(val_div, ":value_22", 100),
					(try_begin),
						(lt, ":value_2", ":value_22"),
						(assign, ":value_19", 1),
					(try_end),
				(else_try),
					(eq, ":faction_of_troop_script_param_1_ai_state", 5),
					(neq, ":var_19", ":faction_of_troop_script_param_1_ai_object"),
					(assign, ":value_23", 0),
					(try_begin),
						(gt, ":value", 0),
						(party_is_active, ":value"),
						(assign, ":value_18", -1),
						(try_begin),
							(party_slot_eq, ":value", slot_party_ai_state, 7),
							(party_get_slot, ":value_ai_object", ":value", slot_party_ai_object),
							(party_get_battle_opponent, ":battle_opponent_value_ai_object", ":value_ai_object"),
							(ge, ":battle_opponent_value_ai_object", 0),
							(assign, ":value_18", ":value_ai_object"),
						(else_try),
							(party_slot_eq, ":value", slot_party_ai_state, 10),
							(party_get_slot, ":value_ai_object", ":value", slot_party_ai_object),
							(ge, ":value_ai_object", 0),
							(neg|is_between, ":value_ai_object", "p_town_1", "p_salt_mine"),
							(party_is_active, ":value_ai_object"),
							(party_get_battle_opponent, ":value_18", ":value_ai_object"),
						(try_end),
						(eq, ":value_18", ":faction_of_troop_script_param_1_ai_object"),
						(assign, ":value_23", 1),
					(try_end),
					(eq, ":value_23", 0),
					(store_mul, ":value_22", ":var_21", 80),
					(val_div, ":value_22", 100),
					(lt, ":value_2", ":value_22"),
					(this_or_next|is_between, ":var_19", "p_town_1", "p_village_1"),
					(neq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(assign, ":value_20", 1),
				(try_end),
				(this_or_next|eq, ":value_19", 1),
				(eq, ":value_20", 1),
				(assign, ":value_14", 1),
				(assign, ":value_15", -1),
				(str_store_party_name, 21, ":var_19"),
				(str_store_string, 14, "str_we_should_prepare_to_defend_s21_but_we_should_gather_our_forces_until_we_are_strong_enough_to_engage_them"),
				(try_begin),
					(eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(assign, "$g_gathering_reason", ":var_19"),
				(try_end),
			(else_try),
				(party_is_active, ":value"),
				(is_between, ":var_19", "p_town_1", "p_village_1"),
				(ge, ":var_20", ":value_11"),
				(party_slot_ge, ":var_19", 54, 0),
				(assign, ":value_14", 5),
				(assign, ":value_15", ":var_19"),
				(str_store_party_name, 21, ":var_19"),
				(str_store_string, 14, "str_we_should_ride_to_break_the_siege_of_s21"),
			(else_try),
				(party_is_active, ":value"),
				(ge, ":var_20", ":value_11"),
				(is_between, ":var_19", "p_village_1", "p_salt_mine"),
				(assign, ":value_14", 5),
				(assign, ":value_15", ":var_19"),
				(str_store_party_name, 21, ":var_19"),
				(str_store_string, 14, "str_we_should_ride_to_defeat_the_enemy_gathered_near_s21"),
			(else_try),
				(this_or_next|eq, ":faction_of_troop_script_param_1_ai_state", 1),
				(this_or_next|eq, ":faction_of_troop_script_param_1_ai_state", 2),
				(eq, ":faction_of_troop_script_param_1_ai_state", 3),
				(ge, ":current_hours_4", ":value_5"),
				(ge, ":current_hours_3", 24),
				(assign, ":value_24", 0),
				(try_begin),
					(is_between, ":faction_of_troop_script_param_1_ai_object", "p_town_1", "p_village_1"),
					(party_get_battle_opponent, ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1_ai_object"),
					(party_is_active, ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by"),
					(store_faction_of_party, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by"),
					(this_or_next|eq, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1"),
					(eq, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", "fac_player_faction"),
					(assign, ":value_24", 1),
				(else_try),
					(is_between, ":faction_of_troop_script_param_1_ai_object", "p_town_1", "p_village_1"),
					(party_get_slot, ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1_ai_object", slot_center_is_besieged_by),
					(party_is_active, ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by"),
					(store_faction_of_party, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1_ai_object_center_is_besieged_by"),
					(this_or_next|eq, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", ":faction_of_troop_script_param_1"),
					(eq, ":faction_of_party_faction_of_troop_script_param_1_ai_object_center_is_besieged_by", "fac_player_faction"),
					(assign, ":value_24", 1),
				(else_try),
					(is_between, ":faction_of_troop_script_param_1_ai_object", "p_town_1", "p_salt_mine"),
					(neg|is_between, ":faction_of_troop_script_param_1_ai_object", "p_town_1", "p_village_1"),
					(party_slot_eq, ":faction_of_troop_script_param_1_ai_object", slot_village_state, 1),
					(assign, ":value_24", 1),
				(try_end),
				(eq, ":value_24", 0),
				(assign, reg7, ":current_hours_4"),
				(assign, reg8, ":value_5"),
				(str_store_string, 14, "str_this_offensive_needs_to_wind_down_soon_so_the_vassals_can_attend_to_their_own_business"),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
			(else_try),
				(party_is_active, ":value"),
				(eq, ":value_13", 0),
				(eq, ":faction_of_troop_script_param_1_ai_state", 0),
				(ge, ":current_hours", 60),
				(lt, ":current_hours_4", 120),
				(assign, ":value_14", 1),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_it_is_time_to_go_on_the_offensive_and_we_must_first_assemble_the_army"),
				(try_begin),
					(eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(assign, "$g_gathering_reason", -1),
				(try_end),
			(else_try),
				(party_is_active, ":value"),
				(eq, ":faction_of_troop_script_param_1_ai_state", 1),
				(eq, ":value_13", 0),
				(lt, ":current_hours_3", 54),
				(lt, ":value_4", 12),
				(str_store_string, 14, "str_we_must_continue_to_gather_the_army_before_we_ride_forth_on_an_offensive_operation"),
				(assign, ":value_14", 1),
				(assign, ":value_15", -1),
			(else_try),
				(assign, ":var_59", 50),
				(eq, ":value_13", 0),
				(try_begin),
					(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
					(lt, reg0, 0),
					(val_mul, ":var_59", 9),
					(val_div, ":var_59", 10),
				(try_end),
				(party_is_active, ":value"),
				(eq, ":faction_of_troop_script_param_1_ai_state", 1),
				(try_begin),
					(lt, ":current_hours_3", 6),
					(assign, ":value_25", 1500),
				(else_try),
					(lt, ":current_hours_3", 10),
					(assign, ":value_25", 1000),
				(else_try),
					(lt, ":current_hours_3", 14),
					(assign, ":value_25", 720),
				(else_try),
					(lt, ":current_hours_3", 18),
					(assign, ":value_25", 480),
				(else_try),
					(lt, ":current_hours_3", 22),
					(assign, ":value_25", 360),
				(else_try),
					(lt, ":current_hours_3", 26),
					(assign, ":value_25", 240),
				(else_try),
					(lt, ":current_hours_3", 30),
					(assign, ":value_25", 180),
				(else_try),
					(lt, ":current_hours_3", 34),
					(assign, ":value_25", 120),
				(else_try),
					(lt, ":current_hours_3", 38),
					(assign, ":value_25", 100),
				(else_try),
					(lt, ":current_hours_3", 42),
					(assign, ":value_25", 80),
				(else_try),
					(lt, ":current_hours_3", 46),
					(assign, ":value_25", 65),
				(else_try),
					(lt, ":current_hours_3", 50),
					(assign, ":value_25", 55),
				(else_try),
					(assign, ":value_25", ":var_59"),
				(try_end),
				(try_begin),
					(call_script, "script_dplmc_store_troop_personality_caution_level", ":script_param_1"),
					(lt, reg0, 0),
					(val_mul, ":value_25", 9),
					(val_div, ":value_25", 10),
				(try_end),
				(le, ":value_11", ":value_25"),
				(le, ":current_hours_3", 54),
				(str_store_string, 14, "str_we_have_assembled_some_vassals"),
				(assign, ":value_14", 1),
				(assign, ":value_15", -1),
			(else_try),
				(party_is_active, ":value"),
				(neq, ":faction_of_troop_script_param_1_ai_state", 0),
				(neq, ":faction_of_troop_script_param_1_ai_state", 6),
				(assign, ":value_10", ":value_8"),
				(is_between, ":value_10", "p_town_1", "p_village_1"),
				(ge, ":value_11", ":var_59"),
				(assign, ":value_14", 2),
				(assign, ":value_15", ":value_10"),
				(str_store_string, 14, "str_we_believe_the_fortress_will_be_worth_the_effort_to_take_it"),
			(else_try),
				(party_is_active, ":value"),
				(neq, ":faction_of_troop_script_param_1_ai_state", 0),
				(neq, ":faction_of_troop_script_param_1_ai_state", 6),
				(assign, ":value_10", ":value_8"),
				(is_between, ":value_10", "p_village_1", "p_salt_mine"),
				(ge, ":value_11", ":var_59"),
				(assign, ":value_14", 3),
				(assign, ":value_15", ":value_10"),
				(str_store_string, 14, "str_we_shall_leave_a_fiery_trail_through_the_heart_of_the_enemys_lands_targeting_the_wealthy_settlements_if_we_can"),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_ai_state", 1),
				(str_store_string, 14, "str_the_army_will_be_disbanded_because_we_have_been_waiting_too_long_without_a_target"),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_ai_state", 6),
				(gt, ":current_hours_3", 72),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_it_is_time_for_the_feast_to_conclude"),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_ai_state", 6),
				(le, ":current_hours_3", 72),
				(assign, ":value_14", 6),
				(assign, ":value_15", ":faction_of_troop_script_param_1_ai_object"),
				(str_store_string, 14, "str_we_should_continue_the_feast_unless_there_is_an_emergency"),
			(else_try),
				(check_quest_active, "qst_organize_feast"),
				(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
				(quest_get_slot, ":organize_feast_target_center", "qst_organize_feast", slot_quest_target_center),
				(assign, ":value_14", 6),
				(assign, ":value_15", ":organize_feast_target_center"),
				(str_store_string, 14, "str_you_had_wished_to_hold_a_feast"),
			(else_try),
				(check_quest_active, "qst_wed_betrothed_female"),
				(quest_get_slot, ":wed_betrothed_female_giver_troop", "qst_wed_betrothed_female", slot_quest_giver_troop),
				(troop_slot_eq, ":wed_betrothed_female_giver_troop", slot_troop_prisoner_of_party, -1),
				(store_faction_of_troop, ":faction_of_troop_wed_betrothed_female_giver_troop", ":wed_betrothed_female_giver_troop"),
				(eq, ":faction_of_troop_wed_betrothed_female_giver_troop", ":faction_of_troop_script_param_1"),
				(faction_get_slot, ":faction_of_troop_wed_betrothed_female_giver_troop_leader", ":faction_of_troop_wed_betrothed_female_giver_troop", slot_faction_leader),
				(assign, ":value_26", -1),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(eq, ":value_26", -1),
					(party_slot_eq, ":party", slot_town_lord, ":wed_betrothed_female_giver_troop"),
					(party_slot_ge, ":party", 54, 0),
					(assign, ":value_26", ":party"),
				(try_end),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(eq, ":value_26", -1),
					(party_slot_eq, ":party", slot_town_lord, ":faction_of_troop_wed_betrothed_female_giver_troop_leader"),
					(party_slot_ge, ":party", 54, 0),
					(assign, ":value_26", ":party"),
				(try_end),
				(is_between, ":value_26", "p_town_1", "p_village_1"),
				(assign, ":value_14", 6),
				(assign, ":value_15", ":value_26"),
				(str_store_string, 14, "str_your_wedding_day_approaches_my_lady"),
			(else_try),
				(check_quest_active, "qst_wed_betrothed"),
				(neg|quest_slot_ge, "qst_wed_betrothed", 23, 362),
				(quest_get_slot, ":wed_betrothed_target_troop", "qst_wed_betrothed", slot_quest_target_troop),
				(call_script, "script_get_kingdom_lady_social_determinants", ":wed_betrothed_target_troop"),
				(assign, ":value_27", reg0),
				(store_faction_of_troop, ":faction_of_troop_value_27", ":value_27"),
				(eq, ":faction_of_troop_value_27", ":faction_of_troop_script_param_1"),
				(troop_slot_eq, ":value_27", slot_troop_prisoner_of_party, -1),
				(assign, ":value_28", reg1),
				(is_between, ":value_28", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":value_28", slot_center_is_besieged_by, -1),
				(assign, ":value_14", 6),
				(assign, ":value_15", ":value_28"),
				(str_store_string, 14, "str_your_wedding_day_approaches"),
			(else_try),
				(ge, ":current_hours_2", 192),
				(assign, ":value_26", -1),
				(try_for_range, ":troop_2", "trp_knight_1_1_wife", "trp_heroes_end"),
					(troop_get_slot, ":wed_betrothed_female_giver_troop", ":troop_2", slot_troop_betrothed),
					(gt, ":wed_betrothed_female_giver_troop", 0),
					(store_faction_of_troop, ":faction_of_troop_troop_2", ":troop_2"),
					(store_faction_of_troop, ":faction_of_troop_wed_betrothed_female_giver_troop", ":wed_betrothed_female_giver_troop"),
					(try_begin),
						(troop_slot_ge, ":wed_betrothed_female_giver_troop", 8, 0),
					(else_try),
						(neq, ":faction_of_troop_wed_betrothed_female_giver_troop", ":faction_of_troop_troop_2"),
						(neq, ":faction_of_troop_wed_betrothed_female_giver_troop", "fac_player_faction"),
						(call_script, "script_courtship_event_lady_break_relation_with_suitor", ":troop_2", ":wed_betrothed_female_giver_troop"),
					(else_try),
						(eq, ":faction_of_troop_troop_2", ":faction_of_troop_script_param_1"),
						(neg|troop_slot_ge, ":wed_betrothed_female_giver_troop", 2, 11),
						(neg|troop_slot_ge, ":troop_2", 2, 11),
						(store_current_hours, ":current_hours_6"),
						(troop_get_slot, ":troop_2_betrothal_time", ":troop_2", slot_troop_betrothal_time),
						(val_sub, ":current_hours_6", ":troop_2_betrothal_time"),
						(ge, ":current_hours_6", 719),
						(call_script, "script_get_kingdom_lady_social_determinants", ":troop_2"),
						(assign, ":value_28", reg1),
						(assign, ":value_26", ":value_28"),
						(assign, ":var_75", ":troop_2"),
						(assign, ":var_76", ":wed_betrothed_female_giver_troop"),
					(try_end),
				(try_end),
				(ge, ":value_26", "p_town_1"),
				(assign, ":value_14", 6),
				(assign, ":value_15", ":value_26"),
				(str_store_troop_name, 22, ":var_75"),
				(str_store_troop_name, 23, ":var_76"),
				(str_store_string, 14, "str_s22_and_s23_wish_to_marry"),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_ai_state", 0),
				(gt, ":current_hours_2", 240),
				(assign, ":value_29", 0),
				(assign, ":value_26", -1),
				(try_for_range, ":party_2", "p_town_1", "p_village_1"),
					(store_faction_of_party, ":faction_of_party_party_2", ":party_2"),
					(eq, ":faction_of_party_party_2", ":faction_of_troop_script_param_1"),
					(try_begin),
						(neg|party_slot_eq, ":party_2", slot_village_state, 5),
						(party_get_slot, ":party_2_town_lord", ":party_2", slot_town_lord),
						(is_between, ":party_2_town_lord", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_get_slot, ":party_2_town_lord_renown", ":party_2_town_lord", slot_troop_renown),
						(store_random_in_range, ":random_in_range_0_1000", 0, 1000),
						(val_add, ":party_2_town_lord_renown", ":random_in_range_0_1000"),
						(gt, ":party_2_town_lord_renown", ":value_29"),
						(assign, ":value_29", ":party_2_town_lord_renown"),
						(assign, ":value_26", ":party_2"),
					(else_try),
						(this_or_next|party_slot_eq, ":party_2", slot_village_state, 5),
						(party_slot_eq, ":party_2", slot_village_state, 1),
						(assign, ":value_29", 9999),
						(assign, ":value_26", -1),
					(try_end),
				(try_end),
				(is_between, ":value_26", "p_town_1", "p_village_1"),
				(party_get_slot, ":value_27", ":value_26", slot_town_lord),
				(troop_slot_eq, ":value_27", slot_troop_prisoner_of_party, -1),
				(assign, ":value_14", 6),
				(assign, ":value_15", ":value_26"),
				(str_store_string, 14, "str_it_has_been_a_long_time_since_the_lords_of_the_realm_gathered_for_a_feast"),
			(else_try),
				(neq, ":faction_of_troop_script_param_1_ai_state", 0),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_the_circumstances_which_led_to_this_decision_no_longer_apply_so_we_should_stop_and_reconsider_shortly"),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_ai_state", 0),
				(eq, ":value_13", 1),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_we_are_currently_at_peace"),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_ai_state", 0),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, -1),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_we_are_waiting_for_selection_of_marshal"),
			(else_try),
				(eq, ":faction_of_troop_script_param_1_ai_state", 0),
				(assign, ":value_14", 0),
				(assign, ":value_15", -1),
				(str_store_string, 14, "str_the_vassals_still_need_time_to_attend_to_their_own_business"),
			(try_end),
			(assign, reg0, ":value_14"),
			(assign, reg1, ":value_15")
		]),

	("faction_last_reconnoitered_center",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_sub, ":value", ":script_param_1", "fac_player_supporters_faction"),
			(val_add, ":value", 268),
			(store_current_hours, ":current_hours"),
			(party_get_slot, ":script_param_2_value", ":script_param_2", ":value"),
			(try_begin),
				(lt, ":script_param_2_value", 1),
				(assign, ":current_hours", 1000),
			(else_try),
				(val_sub, ":current_hours", ":script_param_2_value"),
			(try_end),
			(assign, reg0, ":current_hours"),
			(assign, reg1, ":script_param_2_value")
		]),

	("reduce_exact_number_to_estimate",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(lt, ":script_param_1", 500),
				(assign, ":value", 0),
			(else_try),
				(lt, ":script_param_1", 1000),
				(assign, ":value", 750),
			(else_try),
				(lt, ":script_param_1", 2000),
				(assign, ":value", 1500),
			(else_try),
				(lt, ":script_param_1", 4000),
				(assign, ":value", 3000),
			(else_try),
				(lt, ":script_param_1", 8000),
				(assign, ":value", 6000),
			(else_try),
				(lt, ":script_param_1", 16000),
				(assign, ":value", 12000),
			(else_try),
				(assign, ":value", 24000),
			(try_end),
			(game_get_reduce_campaign_ai, reg0),
			(try_begin),
				(lt, reg0, 1),
				(assign, ":value", ":script_param_1"),
			(else_try),
				(eq, reg0, 1),
				(val_add, ":value", ":script_param_1"),
				(val_div, ":value", 2),
			(try_end),
			(assign, reg0, ":value")
		]),

	("calculate_castle_prosperities_by_using_its_villages",
		[
			(try_for_range, ":party", "p_castle_1", "p_village_1"),
				(assign, ":var_2", 0),
				(assign, ":var_3", 0),
				(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
					(party_get_slot, ":party_2_village_bound_center", ":party_2", slot_village_bound_center),
					(eq, ":party", ":party_2_village_bound_center"),
					(party_get_slot, ":party_2_town_prosperity", ":party_2", slot_town_prosperity),
					(val_add, ":var_2", ":party_2_town_prosperity"),
					(val_add, ":var_3", 1),
				(try_end),
				(try_begin),
					(ge, ":var_3", 1),
					(store_div, ":value", ":var_2", ":var_3"),
				(else_try),
					(assign, ":value", 50),
				(try_end),
				(party_set_slot, ":party", slot_town_prosperity, ":value"),
			(try_end)
		]),

	("initialize_tavern_variables",
		[
			(assign, "$g_main_attacker_agent", 0),
			(assign, "$g_attacker_drawn_weapon", 0),
			(assign, "$g_start_belligerent_drunk_fight", 0),
			(assign, "$g_start_hired_assassin_fight", 0),
			(assign, "$g_belligerent_drunk_leaving", 0)
		]),

	("prepare_alley_to_fight",
		[
			(party_get_slot, ":current_town_town_alley", "$current_town", slot_town_alley),
			(modify_visitors_at_site, ":current_town_town_alley"),
			(reset_visitors),
			(set_visitor, 0, "trp_player"),
			(troop_get_slot, ":troop_trees_844", "$troop_trees", 844),
			(set_visitor, 3, ":troop_trees_844"),
			(assign, "$talked_with_merchant", 0),
			(set_jump_mission, "mt_alley_fight"),
			(jump_to_scene, ":current_town_town_alley"),
			(change_screen_mission)
		]),

	("prepare_town_to_fight",
		[
			(str_store_party_name_link, 9, "$g_starting_town"),
			(str_store_string, 2, "str_save_town_from_bandits"),
			(call_script, "script_start_quest", "qst_save_town_from_bandits", "$g_talk_troop"),
			(assign, "$g_mt_mode", 0),
			(store_faction_of_party, ":faction_of_party_current_town", "$current_town"),
			(faction_get_slot, ":faction_of_party_current_town_quick_battle_tier_1_archer", ":faction_of_party_current_town", slot_faction_quick_battle_tier_1_archer),
			(faction_get_slot, ":faction_of_party_current_town_quick_battle_tier_1_archer_2", ":faction_of_party_current_town", slot_faction_quick_battle_tier_1_archer),
			(faction_get_slot, ":faction_of_party_current_town_quick_battle_tier_2_archer", ":faction_of_party_current_town", slot_faction_quick_battle_tier_2_archer),
			(party_get_slot, ":current_town_town_center", "$current_town", slot_town_center),
			(modify_visitors_at_site, ":current_town_town_center"),
			(reset_visitors),
			(try_begin),
				(try_for_range, ":number", 0, 8),
					(store_add, ":value", 160, ":number"),
					(party_get_slot, ":current_town_value", "$current_town", ":value"),
					(gt, ":current_town_value", 0),
					(store_add, ":value_2", 32, ":number"),
					(set_visitor, ":value_2", ":current_town_value"),
				(try_end),
			(try_end),
			(set_visitors, 25, ":faction_of_party_current_town_quick_battle_tier_1_archer", 1),
			(set_visitors, 26, ":faction_of_party_current_town_quick_battle_tier_1_archer_2", 1),
			(set_visitors, 27, ":faction_of_party_current_town_quick_battle_tier_2_archer", 1),
			(troop_get_slot, ":troop_trees_843", "$troop_trees", 843),
			(troop_get_slot, ":troop_trees_844", "$troop_trees", 844),
			(set_visitors, 10, ":troop_trees_843", 1),
			(set_visitors, 11, ":troop_trees_844", 1),
			(set_visitors, 12, ":troop_trees_843", 1),
			(store_faction_of_party, ":faction_of_party_g_starting_town", "$g_starting_town"),
			(try_begin),
				(eq, ":faction_of_party_g_starting_town", "fac_kingdom_3"),
				(assign, ":value_3", "trp_swadian_merchant"),
			(else_try),
				(eq, ":faction_of_party_g_starting_town", "fac_kingdom_3"),
				(assign, ":value_3", "trp_swadian_merchant"),
			(else_try),
				(eq, ":faction_of_party_g_starting_town", "fac_kingdom_3"),
				(assign, ":value_3", "trp_swadian_merchant"),
			(else_try),
				(eq, ":faction_of_party_g_starting_town", "fac_kingdom_3"),
				(assign, ":value_3", "trp_swadian_merchant"),
			(else_try),
				(eq, ":faction_of_party_g_starting_town", "fac_kingdom_3"),
				(assign, ":value_3", "trp_swadian_merchant"),
			(else_try),
				(eq, ":faction_of_party_g_starting_town", "fac_kingdom_3"),
				(assign, ":value_3", "trp_swadian_merchant"),
			(try_end),
			(str_store_troop_name, 10, ":value_3"),
			(troop_get_slot, ":troop_trees_843", "$troop_trees", 843),
			(set_visitors, 24, ":troop_trees_843", 1),
			(set_visitors, 2, ":troop_trees_843", 2),
			(set_visitors, 4, ":troop_trees_843", 1),
			(set_visitors, 5, ":troop_trees_843", 2),
			(set_visitors, 6, ":troop_trees_843", 1),
			(set_visitors, 7, ":troop_trees_843", 1),
			(set_visitors, 3, ":value_3", 1),
			(set_jump_mission, "mt_town_fight"),
			(jump_to_scene, ":current_town_town_center"),
			(change_screen_mission)
		]),

	("change_player_right_to_rule",
		[
			(store_script_param_1, ":script_param_1"),
			(val_add, "$player_right_to_rule", ":script_param_1"),
			(val_clamp, "$player_right_to_rule", 0, 100),
			(try_begin),
				(gt, ":script_param_1", 0),
				(display_message, "@You gain right to rule."),
			(else_try),
				(lt, ":script_param_1", 0),
				(display_message, "@You lose right to rule."),
			(try_end)
		]),

	("indict_lord_for_treason",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", reg0),
			(assign, ":var_4", reg3),
			(assign, ":var_5", reg4),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
				(party_set_slot, ":party", slot_town_lord, -1),
			(try_end),
			(faction_get_slot, ":script_param_2_leader", ":script_param_2", slot_faction_leader),
			(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2_leader"),
			(assign, ":var_8", reg0),
			(store_sub, ":value", -150, ":var_8"),
			(val_div, ":value", 40),
			(val_min, ":value", -1),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(this_or_next|is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_2", ":faction_of_troop_troop"),
				(call_script, "script_troop_get_family_relation_to_troop", ":script_param_1", ":troop"),
				(assign, ":var_12", reg0),
				(val_max, ":var_12", 0),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2_leader"),
				(assign, ":var_13", reg0),
				(try_begin),
					(ge, ":var_13", 20),
					(store_div, reg0, ":var_13", 20),
					(val_add, ":var_12", reg0),
				(else_try),
					(lt, ":var_13", 0),
					(store_div, reg0, ":var_13", 20),
					(val_sub, reg0, 1),
					(val_add, ":var_12", reg0),
				(try_end),
				(store_random_in_range, reg0, 0, 3),
				(val_add, ":var_12", reg0),
				(assign, reg0, ":var_12"),
				(assign, ":var_14", ":value"),
				(try_begin),
					(neq, ":var_12", 0),
					(store_div, ":value_2", reg0, 3),
					(val_sub, ":var_14", ":value_2"),
				(try_end),
				(lt, ":var_14", 0),
				(call_script, "script_troop_change_relation_with_troop", ":script_param_2_leader", ":troop", ":var_14"),
				(val_add, "$total_indictment_changes", ":var_14"),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(str_store_troop_name, 17, ":troop"),
					(str_store_troop_name, 18, ":script_param_2_leader"),
					(assign, reg3, ":var_14"),
					(display_message, "str_trial_influences_s17s_relation_with_s18_by_reg3"),
				(try_end),
			(try_end),
			(assign, ":value_3", "fac_outlaws"),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(assign, ":value_3", 0),
			(else_try),
				(call_script, "script_lord_find_alternative_faction", ":script_param_1"),
				(assign, ":value_3", reg0),
			(try_end),
			(try_begin),
				(is_between, ":value_3", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(str_store_troop_name, 4, ":script_param_1"),
					(display_message, "@{!}DEBUG - {s4} faction changed in indictment"),
				(try_end),
				(call_script, "script_change_troop_faction", ":script_param_1", ":value_3"),
				(try_begin),
					(neq, ":value_3", "fac_player_supporters_faction"),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 0),
					(troop_set_slot, ":script_param_1", slot_troop_occupation, 2),
				(try_end),
				(str_store_faction_name, 10, ":value_3"),
				(str_store_string, 11, "str_with_the_s10"),
			(else_try),
				(neq, ":script_param_1", "trp_player"),
				(troop_set_slot, ":script_param_1", slot_troop_occupation, 14),
				(call_script, "script_change_troop_faction", ":script_param_1", "fac_outlaws"),
				(str_store_string, 11, "str_outside_calradia"),
			(else_try),
				(eq, ":script_param_1", "trp_player"),
				(call_script, "script_player_leave_faction", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(str_store_string, 9, "str_you_have_been_indicted_for_treason_to_s7_your_properties_have_been_confiscated_and_you_would_be_well_advised_to_flee_for_your_life"),
			(else_try),
				(str_store_troop_name, 4, ":script_param_1"),
				(str_store_faction_name, 5, ":script_param_2"),
				(str_store_troop_name, 6, ":script_param_2_leader"),
				(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
				(assign, reg4, reg0),
				(str_store_string, 9, "str_by_order_of_s6_s4_of_the_s5_has_been_indicted_for_treason_the_lord_has_been_stripped_of_all_reg4herhis_properties_and_has_fled_for_reg4herhis_life_he_is_rumored_to_have_gone_into_exile_s11"),
			(try_end),
			(display_log_message, "@{!}{s9}"),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(try_begin),
				(party_is_active, ":script_param_1_leaded_party"),
				(neq, ":script_param_1_leaded_party", "p_main_party"),
				(remove_party, ":script_param_1_leaded_party"),
				(troop_set_slot, ":script_param_1", slot_troop_leaded_party, -1),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(this_or_next|eq, ":script_param_2", "fac_player_supporters_faction"),
				(this_or_next|eq, ":value_3", "fac_player_supporters_faction"),
				(this_or_next|eq, ":script_param_2", "$players_kingdom"),
				(eq, ":value_3", "$players_kingdom"),
				(call_script, "script_add_notification_menu", "mnu_notification_treason_indictment", ":script_param_1", ":script_param_2"),
			(try_end),
			(assign, reg0, ":var_3"),
			(assign, reg3, ":var_4"),
			(assign, reg4, ":var_5")
		]),

	("give_center_to_faction_while_maintaining_lord",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":faction_of_party_script_param_1", "fac_player_supporters_faction"),
				(eq, ":script_param_2", "$players_kingdom"),
			(else_try),
				(party_set_slot, ":script_param_1", slot_center_ex_faction, ":faction_of_party_script_param_1"),
				(store_current_hours, ":current_hours"),
				(party_set_slot, ":script_param_1", 403, ":current_hours"),
			(try_end),
			(party_set_faction, ":script_param_1", ":script_param_2"),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 4),
				(party_get_slot, ":script_param_1_village_farmer_party", ":script_param_1", slot_village_farmer_party),
				(gt, ":script_param_1_village_farmer_party", 0),
				(party_is_active, ":script_param_1_village_farmer_party"),
				(party_set_faction, ":script_param_1_village_farmer_party", ":script_param_2"),
			(try_end),
			(call_script, "script_update_faction_notes", ":script_param_2"),
			(call_script, "script_update_center_notes", ":script_param_1"),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_village_bound_center, ":script_param_1"),
				(call_script, "script_give_center_to_faction_while_maintaining_lord", ":party", ":script_param_2"),
			(try_end)
		]),

	("check_concilio_calradi_achievement",
		[
			(try_begin),
				(eq, "$players_kingdom", "fac_player_supporters_faction"),
				(faction_get_slot, ":player_supporters_faction_leader", "fac_player_supporters_faction", slot_faction_leader),
				(eq, ":player_supporters_faction_leader", "trp_player"),
				(assign, ":var_2", 0),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":faction_of_troop_troop", "fac_player_supporters_faction"),
					(val_add, ":var_2", 1),
				(try_end),
				(ge, ":var_2", 3),
				(unlock_achievement, 54),
			(try_end)
		]),

	("refresh_center_inventories",
		[
			(set_merchandise_modifier_quality, 150),
			(reset_item_probabilities, 100),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_get_slot, ":party_town_merchant", ":party", slot_town_merchant),
				(reset_item_probabilities, 100),
				(assign, ":var_3", 0),
				(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
					(call_script, "script_center_get_production", ":party", ":item"),
					(assign, ":value", reg0),
					(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
						(party_slot_eq, ":party_2", slot_village_bound_center, ":party"),
						(call_script, "script_center_get_production", ":party_2", ":item"),
						(val_div, reg0, 3),
						(val_add, ":value", reg0),
					(try_end),
					(val_max, ":value", 1),
					(val_mul, ":value", 4),
					(val_add, ":var_3", ":value"),
				(try_end),
				(party_get_slot, ":party_town_prosperity", ":party", slot_town_prosperity),
				(assign, ":var_8", 25),
				(try_begin),
					(ge, ":party_town_prosperity", 50),
					(store_sub, ":value_2", ":party_town_prosperity", 50),
					(val_mul, ":value_2", 2),
					(val_add, ":value_2", 100),
					(val_mul, ":var_8", ":value_2"),
					(val_div, ":var_8", 100),
				(else_try),
					(store_sub, ":value_2", ":party_town_prosperity", 50),
					(val_add, ":value_2", 100),
					(val_mul, ":var_8", ":value_2"),
					(val_div, ":var_8", 100),
				(try_end),
				(val_clamp, ":var_8", 10, 40),
				(try_begin),
					(is_between, ":party", "p_castle_1", "p_village_1"),
					(val_div, ":var_8", 2),
				(try_end),
				(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
					(call_script, "script_center_get_production", ":party", ":item"),
					(assign, ":value", reg0),
					(try_for_range, ":party_2", "p_village_1", "p_salt_mine"),
						(party_slot_eq, ":party_2", slot_village_bound_center, ":party"),
						(call_script, "script_center_get_production", ":party_2", ":item"),
						(val_div, reg0, 3),
						(val_add, ":value", reg0),
					(try_end),
					(val_max, ":value", 1),
					(val_mul, ":value", 4),
					(val_mul, ":value", ":var_8"),
					(val_mul, ":value", 100),
					(val_div, ":value", ":var_3"),
					(set_item_probability_in_merchandise, ":item", ":value"),
				(try_end),
				(troop_clear_inventory, ":party_town_merchant"),
				(troop_add_merchandise, ":party_town_merchant", 11, ":var_8"),
				(troop_ensure_inventory_space, ":party_town_merchant", 20),
				(troop_sort_inventory, ":party_town_merchant"),
				(store_troop_gold, ":troop_gold_party_town_merchant", ":party_town_merchant"),
				(party_get_slot, ":party_town_prosperity_2", ":party", slot_town_prosperity),
				(try_begin),
					(ge, ":party_town_prosperity_2", 75),
					(lt, ":troop_gold_party_town_merchant", 8000),
					(store_random_in_range, ":random_in_range_2000_4000", 2000, 4000),
					(call_script, "script_troop_add_gold", ":party_town_merchant", ":random_in_range_2000_4000"),
				(else_try),
					(ge, ":party_town_prosperity_2", 50),
					(lt, ":troop_gold_party_town_merchant", 4000),
					(store_random_in_range, ":random_in_range_2000_4000", 1000, 2000),
					(call_script, "script_troop_add_gold", ":party_town_merchant", ":random_in_range_2000_4000"),
				(else_try),
					(ge, ":party_town_prosperity_2", 0),
					(lt, ":troop_gold_party_town_merchant", 400),
					(store_random_in_range, ":random_in_range_2000_4000", 300, 500),
					(call_script, "script_troop_add_gold", ":party_town_merchant", ":random_in_range_2000_4000"),
				(try_end),
			(try_end)
		]),

	("refresh_center_armories",
		[
			(reset_item_probabilities, 100),
			(set_merchandise_modifier_quality, 150),
			(try_for_range, ":troop", "trp_town_1_armorer", "trp_town_1_weaponsmith"),
				(store_sub, ":value", ":troop", "trp_town_1_armorer"),
				(val_add, ":value", "p_town_1"),
				(troop_clear_inventory, ":troop"),
				(party_get_slot, ":value_center_original_faction", ":value", slot_center_original_faction),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 13, 16),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 12, 16),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 14, 8),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 15, 4),
				(troop_ensure_inventory_space, ":troop", 30),
				(troop_sort_inventory, ":troop"),
				(store_troop_gold, ":troop_gold_troop", ":troop"),
				(party_get_slot, ":value_town_prosperity", ":value", slot_town_prosperity),
				(try_begin),
					(ge, ":value_town_prosperity", 75),
					(lt, ":troop_gold_troop", 8000),
					(store_random_in_range, ":random_in_range_2000_4000", 2000, 4000),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
				(else_try),
					(ge, ":value_town_prosperity", 50),
					(lt, ":troop_gold_troop", 4000),
					(store_random_in_range, ":random_in_range_2000_4000", 1000, 2000),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
				(else_try),
					(ge, ":value_town_prosperity", 0),
					(lt, ":troop_gold_troop", 400),
					(store_random_in_range, ":random_in_range_2000_4000", 300, 500),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
				(try_end),
			(try_end)
		]),

	("refresh_center_weaponsmiths",
		[
			(reset_item_probabilities, 100),
			(set_merchandise_modifier_quality, 150),
			(try_for_range, ":troop", "trp_town_1_weaponsmith", "trp_town_1_tavernkeeper"),
				(store_sub, ":value", ":troop", "trp_town_1_weaponsmith"),
				(val_add, ":value", "p_town_1"),
				(troop_clear_inventory, ":troop"),
				(party_get_slot, ":value_center_original_faction", ":value", slot_center_original_faction),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 2, 5),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 3, 5),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 4, 5),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 7, 6),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 8, 4),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 9, 3),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 10, 5),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 5, 2),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 6, 2),
				(troop_ensure_inventory_space, ":troop", 30),
				(troop_sort_inventory, ":troop"),
				(store_troop_gold, ":troop_gold_troop", ":troop"),
				(party_get_slot, ":value_town_prosperity", ":value", slot_town_prosperity),
				(try_begin),
					(ge, ":value_town_prosperity", 75),
					(lt, ":troop_gold_troop", 8000),
					(store_random_in_range, ":random_in_range_2000_4000", 2000, 4000),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
				(else_try),
					(ge, ":value_town_prosperity", 50),
					(lt, ":troop_gold_troop", 4000),
					(store_random_in_range, ":random_in_range_2000_4000", 1000, 2000),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
				(else_try),
					(ge, ":value_town_prosperity", 0),
					(lt, ":troop_gold_troop", 400),
					(store_random_in_range, ":random_in_range_2000_4000", 300, 500),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
				(try_end),
			(try_end)
		]),

	("refresh_center_stables",
		[
			(reset_item_probabilities, 100),
			(set_merchandise_modifier_quality, 150),
			(try_for_range, ":troop", "trp_town_1_horse_merchant", "trp_town_1_mayor"),
				(troop_clear_inventory, ":troop"),
				(store_sub, ":value", ":troop", "trp_town_1_horse_merchant"),
				(val_add, ":value", "p_town_1"),
				(party_get_slot, ":value_center_original_faction", ":value", slot_center_original_faction),
				(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 1, 10),
				(troop_ensure_inventory_space, ":troop", 65),
				(troop_sort_inventory, ":troop"),
				(store_troop_gold, ":troop_gold_troop", ":troop"),
				(party_get_slot, ":value_town_prosperity", ":value", slot_town_prosperity),
				(try_begin),
					(ge, ":value_town_prosperity", 75),
					(lt, ":troop_gold_troop", 8000),
					(store_random_in_range, ":random_in_range_2000_4000", 2000, 4000),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
					(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 1, 5),
				(else_try),
					(ge, ":value_town_prosperity", 50),
					(lt, ":troop_gold_troop", 4000),
					(store_random_in_range, ":random_in_range_2000_4000", 1000, 2000),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
					(troop_add_merchandise_with_faction, ":troop", ":value_center_original_faction", 1, 2),
				(else_try),
					(ge, ":value_town_prosperity", 0),
					(lt, ":troop_gold_troop", 400),
					(store_random_in_range, ":random_in_range_2000_4000", 300, 500),
					(call_script, "script_troop_add_gold", ":troop", ":random_in_range_2000_4000"),
				(try_end),
			(try_end)
		]),

	("dplmc_send_recruiter",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", ":script_param_1"),
			(val_mul, ":var_3", 20),
			(val_add, ":var_3", 10),
			(call_script, "script_dplmc_withdraw_from_treasury", ":var_3"),
			(set_spawn_radius, 1),
			(spawn_around_party, "$current_town", "pt_dplmc_recruiter"),
			(assign, ":var_4", reg0),
			(party_set_ai_behavior, ":var_4", 0),
			(party_set_slot, ":var_4", slot_party_type, 12),
			(party_set_slot, ":var_4", slot_production_sources_end, ":script_param_1"),
			(party_set_slot, ":var_4", 236, ":script_param_2"),
			(party_set_slot, ":var_4", 234, "$current_town"),
			(assign, ":var_5", "$players_kingdom"),
			(party_set_faction, ":var_4", ":var_5")
		]),

	("troop_can_use_item",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(item_get_type, ":type_script_param_2", ":script_param_2"),
			(try_begin),
				(eq, ":type_script_param_2", 20),
				(item_get_slot, ":script_param_2_intelligence_requirement", ":script_param_2", slot_item_intelligence_requirement),
			(else_try),
				(item_get_slot, ":script_param_2_intelligence_requirement", ":script_param_2", 65),
			(try_end),
			(try_begin),
				(eq, ":script_param_2_intelligence_requirement", 0),
			(else_try),
				(eq, ":script_param_3", 32),
				(val_add, ":script_param_2_intelligence_requirement", 1),
			(else_try),
				(eq, ":script_param_3", 33),
				(val_sub, ":script_param_2_intelligence_requirement", 1),
			(else_try),
				(eq, ":script_param_3", 18),
				(neq, ":type_script_param_2", 1),
				(val_add, ":script_param_2_intelligence_requirement", 1),
			(else_try),
				(eq, ":script_param_3", 19),
				(val_add, ":script_param_2_intelligence_requirement", 2),
			(else_try),
				(eq, ":script_param_3", 17),
				(val_add, ":script_param_2_intelligence_requirement", 4),
			(try_end),
			(try_begin),
				(eq, ":type_script_param_2", 1),
				(store_skill_level, ":skill_level_24_script_param_1", 24, ":script_param_1"),
			(else_try),
				(this_or_next|eq, ":type_script_param_2", 9),
				(this_or_next|eq, ":type_script_param_2", 2),
				(this_or_next|eq, ":type_script_param_2", 3),
				(this_or_next|eq, ":type_script_param_2", 4),
				(this_or_next|eq, ":type_script_param_2", 12),
				(this_or_next|eq, ":type_script_param_2", 13),
				(this_or_next|eq, ":type_script_param_2", 14),
				(eq, ":type_script_param_2", 15),
				(store_attribute_level, ":skill_level_24_script_param_1", ":script_param_1", 0),
			(else_try),
				(eq, ":type_script_param_2", 7),
				(store_skill_level, ":skill_level_24_script_param_1", 26, ":script_param_1"),
			(else_try),
				(eq, ":type_script_param_2", 8),
				(store_skill_level, ":skill_level_24_script_param_1", 33, ":script_param_1"),
			(else_try),
				(eq, ":type_script_param_2", 10),
				(store_skill_level, ":skill_level_24_script_param_1", 34, ":script_param_1"),
			(else_try),
				(eq, ":type_script_param_2", 20),
				(store_attribute_level, ":skill_level_24_script_param_1", ":script_param_1", 2),
			(try_end),
			(try_begin),
				(this_or_next|lt, ":skill_level_24_script_param_1", ":script_param_2_intelligence_requirement"),
				(this_or_next|is_between, ":script_param_2", 37, 54),
				(eq, ":script_param_3", 30),
				(assign, reg0, 0),
			(else_try),
				(troop_slot_eq, ":script_param_1", 314, 1),
				(item_slot_eq, ":script_param_2", 10, 1),
				(assign, reg0, 0),
			(else_try),
				(assign, reg0, 1),
			(try_end)
		]),

	("get_item_value_with_imod",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_item_value, ":item_value_script_param_1", ":script_param_1"),
			(item_get_slot, ":script_param_2_72", ":script_param_2", 72),
			(val_mul, ":item_value_script_param_1", ":script_param_2_72"),
			(assign, reg0, ":item_value_script_param_1")
		]),

	("get_item_score_with_imod",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(item_get_type, ":type_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":type_script_param_1", 20),
				(item_get_slot, ":script_param_1_intelligence_requirement", ":script_param_1", slot_item_intelligence_requirement),
			(else_try),
				(eq, ":type_script_param_1", 1),
				(item_get_slot, ":script_param_1_41", ":script_param_1", 41),
				(item_get_slot, ":script_param_1_44", ":script_param_1", 44),
				(item_get_slot, ":script_param_1_45", ":script_param_1", 45),
				(try_begin),
					(eq, ":script_param_2", 31),
					(val_add, ":script_param_1_41", -2),
				(else_try),
					(eq, ":script_param_2", 30),
					(val_add, ":script_param_1_41", -5),
				(else_try),
					(eq, ":script_param_2", 18),
					(val_add, ":script_param_1_44", 3),
					(val_add, ":script_param_1_45", 4),
				(else_try),
					(eq, ":script_param_2", 35),
					(val_add, ":script_param_1_41", 1),
					(val_add, ":script_param_1_44", 1),
					(val_add, ":script_param_1_45", 1),
				(else_try),
					(eq, ":script_param_2", 36),
					(val_add, ":script_param_1_41", 2),
					(val_add, ":script_param_1_44", 2),
					(val_add, ":script_param_1_45", 2),
				(try_end),
				(store_mul, ":value", 2, ":script_param_1_41"),
				(store_mul, ":value_2", 2, ":script_param_1_44"),
				(store_mul, ":value_3", 1, ":script_param_1_45"),
				(assign, ":script_param_1_intelligence_requirement", 1),
				(val_add, ":script_param_1_intelligence_requirement", ":value"),
				(val_add, ":script_param_1_intelligence_requirement", ":value_2"),
				(val_add, ":script_param_1_intelligence_requirement", ":value_3"),
			(else_try),
				(eq, ":type_script_param_1", 7),
				(item_get_slot, ":script_param_1_42", ":script_param_1", 42),
				(item_get_slot, ":script_param_1_44_2", ":script_param_1", 44),
				(item_get_slot, ":script_param_1_43", ":script_param_1", 43),
				(try_begin),
					(eq, ":script_param_2", 1),
					(val_add, ":script_param_1_44_2", -4),
				(else_try),
					(eq, ":script_param_2", 5),
					(val_add, ":script_param_1_44_2", -2),
				(else_try),
					(eq, ":script_param_2", 25),
					(val_add, ":script_param_1_44_2", 2),
				(else_try),
					(eq, ":script_param_2", 27),
					(val_add, ":script_param_1_44_2", 4),
				(try_end),
				(val_add, ":script_param_1_44_2", 5),
				(store_mul, ":script_param_1_intelligence_requirement", ":script_param_1_44_2", ":script_param_1_42"),
				(val_mul, ":script_param_1_intelligence_requirement", ":script_param_1_43"),
			(else_try),
				(this_or_next|eq, ":type_script_param_1", 12),
				(this_or_next|eq, ":type_script_param_1", 13),
				(this_or_next|eq, ":type_script_param_1", 14),
				(eq, ":type_script_param_1", 15),
				(item_get_slot, ":script_param_1_41_2", ":script_param_1", 41),
				(item_get_slot, ":script_param_1_44_3", ":script_param_1", 44),
				(item_get_slot, ":script_param_1_45_2", ":script_param_1", 45),
				(store_add, ":script_param_1_intelligence_requirement", ":script_param_1_41_2", ":script_param_1_44_3"),
				(val_add, ":script_param_1_intelligence_requirement", ":script_param_1_45_2"),
				(store_mul, ":value_4", 2, ":script_param_1_41_2"),
				(store_mul, ":value_5", 2, ":script_param_1_44_3"),
				(store_mul, ":value_6", 1, ":script_param_1_45_2"),
				(assign, ":script_param_1_intelligence_requirement", 1),
				(val_add, ":script_param_1_intelligence_requirement", ":value_4"),
				(val_add, ":script_param_1_intelligence_requirement", ":value_5"),
				(val_add, ":script_param_1_intelligence_requirement", ":value_6"),
				(assign, ":var_20", 0),
				(try_begin),
					(gt, ":script_param_1_41_2", 0),
					(val_add, ":var_20", 1),
				(try_end),
				(try_begin),
					(gt, ":script_param_1_44_3", 0),
					(val_add, ":var_20", 1),
				(try_end),
				(try_begin),
					(gt, ":script_param_1_45_2", 0),
					(val_add, ":var_20", 1),
				(try_end),
				(try_begin),
					(eq, ":script_param_2", 0),
					(assign, ":value_7", 0),
				(else_try),
					(eq, ":script_param_2", 1),
					(assign, ":value_7", -20),
				(else_try),
					(eq, ":script_param_2", 2),
					(assign, ":value_7", -15),
				(else_try),
					(eq, ":script_param_2", 5),
					(assign, ":value_7", -10),
				(else_try),
					(eq, ":script_param_2", 7),
					(assign, ":value_7", -5),
				(else_try),
					(eq, ":script_param_2", 21),
					(assign, ":value_7", -15),
				(else_try),
					(eq, ":script_param_2", 22),
					(assign, ":value_7", -10),
				(else_try),
					(eq, ":script_param_2", 24),
					(assign, ":value_7", 5),
				(else_try),
					(eq, ":script_param_2", 25),
					(assign, ":value_7", 10),
				(else_try),
					(eq, ":script_param_2", 26),
					(assign, ":value_7", 15),
				(else_try),
					(eq, ":script_param_2", 27),
					(assign, ":value_7", 20),
				(else_try),
					(eq, ":script_param_2", 29),
					(assign, ":value_7", 30),
				(try_end),
				(val_mul, ":value_7", ":script_param_1_intelligence_requirement"),
				(val_div, ":value_7", 100),
				(val_mul, ":value_7", ":var_20"),
				(val_add, ":script_param_1_intelligence_requirement", ":value_7"),
			(else_try),
				(this_or_next|eq, ":type_script_param_1", 2),
				(this_or_next|eq, ":type_script_param_1", 3),
				(this_or_next|eq, ":type_script_param_1", 8),
				(this_or_next|eq, ":type_script_param_1", 9),
				(this_or_next|eq, ":type_script_param_1", 16),
				(this_or_next|eq, ":type_script_param_1", 17),
				(eq, ":type_script_param_1", 4),
				(item_get_slot, ":script_param_1_43_2", ":script_param_1", 43),
				(item_get_slot, ":script_param_1_42_2", ":script_param_1", 42),
				(item_get_slot, ":script_param_1_45_3", ":script_param_1", 45),
				(item_get_slot, ":script_param_1_44_4", ":script_param_1", 44),
				(val_mod, ":script_param_1_45_3", 256),
				(val_mod, ":script_param_1_44_4", 256),
				(assign, ":var_26", ":script_param_1_45_3"),
				(val_max, ":var_26", ":script_param_1_44_4"),
				(try_begin),
					(eq, ":script_param_2", 1),
					(val_add, ":var_26", -5),
				(else_try),
					(eq, ":script_param_2", 2),
					(val_add, ":var_26", -3),
				(else_try),
					(eq, ":script_param_2", 3),
					(val_add, ":var_26", -3),
					(val_add, ":script_param_1_43_2", -3),
				(else_try),
					(eq, ":script_param_2", 4),
					(val_add, ":var_26", -1),
				(else_try),
					(eq, ":script_param_2", 13),
					(val_add, ":var_26", 3),
					(val_add, ":script_param_1_43_2", 3),
				(else_try),
					(eq, ":script_param_2", 14),
					(val_add, ":var_26", 4),
				(else_try),
					(eq, ":script_param_2", 17),
					(val_add, ":var_26", 5),
					(val_add, ":script_param_1_43_2", 1),
				(else_try),
					(eq, ":script_param_2", 18),
					(val_add, ":var_26", 2),
					(val_add, ":script_param_1_43_2", -2),
				(else_try),
					(eq, ":script_param_2", 19),
					(val_add, ":var_26", 3),
					(val_add, ":script_param_1_43_2", -3),
				(try_end),
				(try_begin),
					(this_or_next|eq, ":type_script_param_1", 8),
					(this_or_next|eq, ":type_script_param_1", 9),
					(this_or_next|eq, ":type_script_param_1", 16),
					(eq, ":type_script_param_1", 17),
					(store_mul, ":script_param_1_intelligence_requirement", ":var_26", ":script_param_1_43_2"),
				(else_try),
					(this_or_next|eq, ":type_script_param_1", 2),
					(this_or_next|eq, ":type_script_param_1", 3),
					(eq, ":type_script_param_1", 4),
					(store_mul, ":script_param_1_intelligence_requirement", ":var_26", ":script_param_1_43_2"),
					(val_mul, ":script_param_1_intelligence_requirement", ":script_param_1_42_2"),
				(try_end),
			(else_try),
				(this_or_next|eq, ":type_script_param_1", 5),
				(this_or_next|eq, ":type_script_param_1", 6),
				(this_or_next|eq, ":type_script_param_1", 18),
				(eq, ":type_script_param_1", 10),
				(item_get_slot, ":script_param_1_44_4", ":script_param_1", 44),
				(val_mod, ":script_param_1_44_4", 256),
				(assign, ":script_param_1_intelligence_requirement", ":script_param_1_44_4"),
				(val_add, ":script_param_1_intelligence_requirement", 3),
				(try_begin),
					(eq, ":script_param_2", 0),
					(val_mul, ":script_param_1_intelligence_requirement", 2),
				(else_try),
					(eq, ":script_param_2", 42),
					(val_mul, ":script_param_1_intelligence_requirement", 2),
					(val_add, ":script_param_1_intelligence_requirement", 1),
				(else_try),
					(eq, ":script_param_2", 3),
					(val_sub, ":script_param_1_intelligence_requirement", 3),
					(val_mul, ":script_param_1_intelligence_requirement", 2),
				(else_try),
					(eq, ":script_param_2", 18),
					(val_add, ":script_param_1_intelligence_requirement", 2),
					(val_mul, ":script_param_1_intelligence_requirement", 2),
				(else_try),
					(eq, ":script_param_2", 13),
					(val_add, ":script_param_1_intelligence_requirement", 3),
					(val_mul, ":script_param_1_intelligence_requirement", 2),
				(try_end),
			(try_end),
			(assign, reg0, ":script_param_1_intelligence_requirement")
		]),

	("print_wpn_upgrades_to_s0",
		[
			(store_script_param_1, ":script_param_1"),
			(str_store_string, 0, "str_empty_string"),
			(troop_get_slot, ":script_param_1_317", ":script_param_1", 317),
			(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 0),
			(try_begin),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(str_store_item_name, 10, ":inventory_slot_script_param_1_0"),
			(else_try),
				(str_store_string, 10, "str_none"),
			(try_end),
			(val_add, ":script_param_1_317", "str_hero_wpn_slot_none"),
			(str_store_string, 1, ":script_param_1_317"),
			(str_store_string, 0, "@{s0}^{s1}"),
			(troop_get_slot, ":script_param_1_317", ":script_param_1", 318),
			(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 1),
			(try_begin),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(str_store_item_name, 10, ":inventory_slot_script_param_1_0"),
			(else_try),
				(str_store_string, 10, "str_none"),
			(try_end),
			(val_add, ":script_param_1_317", "str_hero_wpn_slot_none"),
			(str_store_string, 1, ":script_param_1_317"),
			(str_store_string, 0, "@{s0}^{s1}"),
			(troop_get_slot, ":script_param_1_317", ":script_param_1", 319),
			(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 2),
			(try_begin),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(str_store_item_name, 10, ":inventory_slot_script_param_1_0"),
			(else_try),
				(str_store_string, 10, "str_none"),
			(try_end),
			(val_add, ":script_param_1_317", "str_hero_wpn_slot_none"),
			(str_store_string, 1, ":script_param_1_317"),
			(str_store_string, 0, "@{s0}^{s1}"),
			(troop_get_slot, ":script_param_1_317", ":script_param_1", 320),
			(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 3),
			(try_begin),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(str_store_item_name, 10, ":inventory_slot_script_param_1_0"),
			(else_try),
				(str_store_string, 10, "str_none"),
			(try_end),
			(val_add, ":script_param_1_317", "str_hero_wpn_slot_none"),
			(str_store_string, 1, ":script_param_1_317"),
			(str_store_string, 0, "@{s0}^{s1}")
		]),

	("copy_upgrade_to_all_heroes",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", 1),
				(troop_get_slot, ":script_param_1_317", ":script_param_1", 317),
				(troop_get_slot, ":script_param_1_318", ":script_param_1", 318),
				(troop_get_slot, ":script_param_1_319", ":script_param_1", 319),
				(troop_get_slot, ":script_param_1_320", ":script_param_1", 320),
				(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_set_slot, ":troop", 317, ":script_param_1_317"),
					(troop_set_slot, ":troop", 318, ":script_param_1_318"),
					(troop_set_slot, ":troop", 319, ":script_param_1_319"),
					(troop_set_slot, ":troop", 320, ":script_param_1_320"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 2),
				(troop_get_slot, ":script_param_1_313", ":script_param_1", 313),
				(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_set_slot, ":troop", 313, ":script_param_1_313"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 3),
				(troop_get_slot, ":script_param_1_314", ":script_param_1", 314),
				(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_set_slot, ":troop", 314, ":script_param_1_314"),
				(try_end),
			(try_end)
		]),

	("auto_loot_all",
		[
			(try_for_range, ":unused", 0, 2),
				(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
				(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
					(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
					(is_between, ":party_stack_troop_id_main_party_number", "trp_npc1", "trp_kingdom_1_lord"),
					(call_script, "script_auto_loot_troop", ":party_stack_troop_id_main_party_number", "$pool_troop"),
					(call_script, "script_auto_loot_troop", ":party_stack_troop_id_main_party_number", "$pool_troop"),
				(try_end),
			(try_end),
			(troop_sort_inventory, "$pool_troop")
		]),

	("auto_loot_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":script_param_1_313", ":script_param_1", 313),
			(troop_get_slot, ":script_param_1_314", ":script_param_1", 314),
			(call_script, "script_transfer_inventory", ":script_param_1", ":script_param_2", 0),
			(try_begin),
				(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_slot_ge, ":script_param_1", 317, 1),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 0),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_1", 0),
				(troop_set_inventory_slot, ":script_param_1", 0, -1),
				(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
			(try_end),
			(try_begin),
				(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_slot_ge, ":script_param_1", 318, 1),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 1),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_1", 1),
				(troop_set_inventory_slot, ":script_param_1", 1, -1),
				(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
			(try_end),
			(try_begin),
				(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_slot_ge, ":script_param_1", 319, 1),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 2),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_1", 2),
				(troop_set_inventory_slot, ":script_param_1", 2, -1),
				(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
			(try_end),
			(try_begin),
				(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_slot_ge, ":script_param_1", 320, 1),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", 3),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_1", 3),
				(troop_set_inventory_slot, ":script_param_1", 3, -1),
				(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
			(try_end),
			(try_for_range, ":number", 4, 9),
				(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_1", ":number"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_1", ":number"),
				(item_get_type, ":type_inventory_slot_script_param_1_0", ":inventory_slot_script_param_1_0"),
				(try_begin),
					(this_or_next|eq, ":type_inventory_slot_script_param_1_0", 12),
					(this_or_next|eq, ":type_inventory_slot_script_param_1_0", 13),
					(this_or_next|eq, ":type_inventory_slot_script_param_1_0", 14),
					(eq, ":type_inventory_slot_script_param_1_0", 15),
					(neq, ":script_param_1_313", 0),
					(troop_set_inventory_slot, ":script_param_1", ":number", -1),
					(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
				(else_try),
					(eq, ":type_inventory_slot_script_param_1_0", 1),
					(neq, ":script_param_1_314", 0),
					(troop_set_inventory_slot, ":script_param_1", ":number", -1),
					(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
				(try_end),
			(try_end),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(assign, ":value_3", -1),
			(assign, ":value_4", 0),
			(assign, ":value_5", -1),
			(assign, ":value_6", 0),
			(assign, ":value_7", -1),
			(assign, ":value_8", 0),
			(assign, ":value_9", -1),
			(assign, ":value_10", 0),
			(assign, ":value_11", -1),
			(assign, ":value_12", 0),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_2", ":script_param_2"),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_2"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":number"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_2", ":number"),
				(call_script, "script_troop_can_use_item", ":script_param_1", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
				(eq, reg0, 1),
				(call_script, "script_get_item_score_with_imod", ":inventory_slot_script_param_1_0", ":inventory_slot_modifier_script_param_1_0"),
				(assign, ":var_23", reg0),
				(item_get_type, ":type_inventory_slot_script_param_1_0_2", ":inventory_slot_script_param_1_0"),
				(try_begin),
					(is_between, ":inventory_slot_script_param_1_0", 37, 50),
					(call_script, "script_get_book_read_slot", ":script_param_1", ":inventory_slot_script_param_1_0"),
					(assign, ":var_25", reg0),
					(troop_slot_eq, "trp_book_read", ":var_25", 0),
					(gt, ":var_23", ":value_12"),
					(assign, ":value_11", ":number"),
					(assign, ":value_12", ":var_23"),
				(else_try),
					(eq, ":type_inventory_slot_script_param_1_0_2", 1),
					(eq, ":script_param_1_314", 1),
					(gt, ":var_23", ":value_10"),
					(assign, ":value_9", ":number"),
					(assign, ":value_10", ":var_23"),
				(else_try),
					(try_begin),
						(eq, ":type_inventory_slot_script_param_1_0_2", 12),
						(eq, ":script_param_1_313", 1),
						(gt, ":var_23", ":value_2"),
						(assign, ":value", ":number"),
						(assign, ":value_2", ":var_23"),
					(else_try),
						(eq, ":type_inventory_slot_script_param_1_0_2", 13),
						(eq, ":script_param_1_313", 1),
						(gt, ":var_23", ":value_4"),
						(assign, ":value_3", ":number"),
						(assign, ":value_4", ":var_23"),
					(else_try),
						(eq, ":type_inventory_slot_script_param_1_0_2", 14),
						(eq, ":script_param_1_313", 1),
						(gt, ":var_23", ":value_6"),
						(assign, ":value_5", ":number"),
						(assign, ":value_6", ":var_23"),
					(else_try),
						(eq, ":type_inventory_slot_script_param_1_0_2", 15),
						(eq, ":script_param_1_313", 1),
						(gt, ":var_23", ":value_8"),
						(assign, ":value_7", ":number"),
						(assign, ":value_8", ":var_23"),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(assign, ":value_13", ":value"),
				(ge, ":value_13", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":value_13"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_4", ":script_param_1", 4),
				(eq, ":inventory_slot_script_param_1_4", -1),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_2", ":value_13"),
				(troop_set_inventory_slot, ":script_param_1", 4, ":inventory_slot_script_param_1_0"),
				(troop_set_inventory_slot_modifier, ":script_param_1", 4, ":inventory_slot_modifier_script_param_1_0"),
				(troop_set_inventory_slot, ":script_param_2", ":value_13", -1),
			(try_end),
			(try_begin),
				(assign, ":value_13", ":value_3"),
				(ge, ":value_13", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":value_13"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_5", ":script_param_1", 5),
				(eq, ":inventory_slot_script_param_1_5", -1),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_2", ":value_13"),
				(troop_set_inventory_slot, ":script_param_1", 5, ":inventory_slot_script_param_1_0"),
				(troop_set_inventory_slot_modifier, ":script_param_1", 5, ":inventory_slot_modifier_script_param_1_0"),
				(troop_set_inventory_slot, ":script_param_2", ":value_13", -1),
			(try_end),
			(try_begin),
				(assign, ":value_13", ":value_5"),
				(ge, ":value_13", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":value_13"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_6", ":script_param_1", 6),
				(eq, ":inventory_slot_script_param_1_6", -1),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_2", ":value_13"),
				(troop_set_inventory_slot, ":script_param_1", 6, ":inventory_slot_script_param_1_0"),
				(troop_set_inventory_slot_modifier, ":script_param_1", 6, ":inventory_slot_modifier_script_param_1_0"),
				(troop_set_inventory_slot, ":script_param_2", ":value_13", -1),
			(try_end),
			(try_begin),
				(assign, ":value_13", ":value_7"),
				(ge, ":value_13", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":value_13"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_7", ":script_param_1", 7),
				(eq, ":inventory_slot_script_param_1_7", -1),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_2", ":value_13"),
				(troop_set_inventory_slot, ":script_param_1", 7, ":inventory_slot_script_param_1_0"),
				(troop_set_inventory_slot_modifier, ":script_param_1", 7, ":inventory_slot_modifier_script_param_1_0"),
				(troop_set_inventory_slot, ":script_param_2", ":value_13", -1),
			(try_end),
			(try_begin),
				(assign, ":value_13", ":value_9"),
				(ge, ":value_13", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":value_13"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_8", ":script_param_1", 8),
				(eq, ":inventory_slot_script_param_1_8", -1),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_2", ":value_13"),
				(troop_set_inventory_slot, ":script_param_1", 8, ":inventory_slot_script_param_1_0"),
				(troop_set_inventory_slot_modifier, ":script_param_1", 8, ":inventory_slot_modifier_script_param_1_0"),
				(troop_set_inventory_slot, ":script_param_2", ":value_13", -1),
			(try_end),
			(try_begin),
				(assign, ":value_13", ":value_11"),
				(ge, ":value_13", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":value_13"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(store_free_inventory_capacity, ":free_inventory_capacity_script_param_1", ":script_param_1"),
				(gt, ":free_inventory_capacity_script_param_1", 0),
				(troop_slot_eq, ":script_param_1", 330, 0),
				(troop_add_item, ":script_param_1", ":inventory_slot_script_param_1_0"),
				(troop_set_slot, ":script_param_1", 330, ":inventory_slot_script_param_1_0"),
				(troop_set_inventory_slot, ":script_param_2", ":value_13", -1),
			(try_end),
			(try_for_range, ":number", 0, 4),
				(store_add, ":value_14", ":number", 317),
				(troop_get_slot, ":script_param_1_value_14", ":script_param_1", ":value_14"),
				(gt, ":script_param_1_value_14", 0),
				(call_script, "script_scan_for_best_item_of_type", ":script_param_2", ":script_param_1_value_14", ":script_param_1"),
				(assign, ":value_13", reg0),
				(neq, ":value_13", -1),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_0", ":script_param_2", ":value_13"),
				(ge, ":inventory_slot_script_param_1_0", 0),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(eq, ":inventory_slot_script_param_1_number", -1),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_0", ":script_param_2", ":value_13"),
				(troop_set_inventory_slot, ":script_param_2", ":value_13", -1),
				(troop_set_inventory_slot, ":script_param_1", ":number", ":inventory_slot_script_param_1_0"),
				(troop_set_inventory_slot_modifier, ":script_param_1", ":number", ":inventory_slot_modifier_script_param_1_0"),
			(try_end)
		]),

	("scan_for_best_item_of_type",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(ge, ":inventory_slot_script_param_1_number", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(try_begin),
					(item_slot_eq, ":inventory_slot_script_param_1_number", 75, 1),
					(assign, ":value_3", 2),
				(else_try),
					(item_get_type, ":value_3", ":inventory_slot_script_param_1_number"),
				(try_end),
				(eq, ":value_3", ":script_param_2"),
				(call_script, "script_troop_can_use_item", ":script_param_3", ":inventory_slot_script_param_1_number", ":inventory_slot_modifier_script_param_1_number"),
				(eq, reg0, 1),
				(call_script, "script_get_item_score_with_imod", ":inventory_slot_script_param_1_number", ":inventory_slot_modifier_script_param_1_number"),
				(gt, reg0, ":value_2"),
				(assign, ":value", ":number"),
				(assign, ":value_2", reg0),
			(try_end),
			(assign, reg0, ":value")
		]),

	("transfer_inventory",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
			(troop_sort_inventory, ":script_param_1"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":inventory_slot_script_param_1_number", -1),
				(assign, ":value", 1),
				(try_begin),
					(is_between, ":inventory_slot_script_param_1_number", 37, 50),
					(eq, ":script_param_3", 0),
					(troop_slot_eq, ":script_param_1", 330, ":inventory_slot_script_param_1_number"),
					(call_script, "script_get_book_read_slot", ":script_param_1", ":inventory_slot_script_param_1_number"),
					(assign, ":var_10", reg0),
					(troop_get_slot, ":book_reading_progress_var_10", "trp_book_reading_progress", ":var_10"),
					(lt, ":book_reading_progress_var_10", 1000),
					(assign, ":value", 0),
				(else_try),
					(eq, ":script_param_3", 0),
					(is_between, ":inventory_slot_script_param_1_number", 50, 54),
					(assign, ":value", 0),
				(try_end),
				(eq, ":value", 1),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_number", ":inventory_slot_modifier_script_param_1_number"),
				(val_sub, ":free_inventory_capacity_script_param_2", 1),
				(try_begin),
					(is_between, ":inventory_slot_script_param_1_number", "itm_trade_spice", "itm_trade_dummy01"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number", ":script_param_1", ":number"),
					(troop_get_inventory_capacity, ":inventory_capacity_script_param_2", ":script_param_2"),
					(store_sub, ":value_2", ":inventory_capacity_script_param_2", ":free_inventory_capacity_script_param_2"),
					(troop_inventory_slot_set_item_amount, ":script_param_2", ":value_2", ":troop_inventory_slot_item_amount_script_param_1_number"),
				(try_end),
				(troop_set_inventory_slot, ":script_param_1", ":number", -1),
			(try_end)
		]),

	("transfer_special_inventory",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
			(troop_sort_inventory, ":script_param_1"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":inventory_slot_script_param_1_number", -1),
				(assign, ":value", 0),
				(try_begin),
					(call_script, "script_get_item_value_with_imod", ":inventory_slot_script_param_1_number", ":inventory_slot_modifier_script_param_1_number"),
					(assign, ":var_9", reg0),
					(val_div, ":var_9", 100),
					(ge, ":var_9", "$g_price_threshold_for_picking"),
					(assign, ":value", 1),
				(else_try),
					(item_get_type, ":type_inventory_slot_script_param_1_number", ":inventory_slot_script_param_1_number"),
					(this_or_next|eq, ":type_inventory_slot_script_param_1_number", 11),
					(this_or_next|eq, ":type_inventory_slot_script_param_1_number", 19),
					(eq, ":type_inventory_slot_script_param_1_number", 20),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_number", ":inventory_slot_modifier_script_param_1_number"),
				(val_sub, ":free_inventory_capacity_script_param_2", 1),
				(try_begin),
					(is_between, ":inventory_slot_script_param_1_number", "itm_trade_spice", "itm_trade_dummy01"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number", ":script_param_1", ":number"),
					(troop_get_inventory_capacity, ":inventory_capacity_script_param_2", ":script_param_2"),
					(store_sub, ":value_2", ":inventory_capacity_script_param_2", ":free_inventory_capacity_script_param_2"),
					(troop_inventory_slot_set_item_amount, ":script_param_2", ":value_2", ":troop_inventory_slot_item_amount_script_param_1_number"),
				(try_end),
				(troop_set_inventory_slot, ":script_param_1", ":number", -1),
			(try_end)
		]),

	("init_item_score",
		[
			(item_set_slot, 0, 66, 150),
			(item_set_slot, 0, 65, 0),
			(item_set_slot, 0, 73, 0),
			(item_set_slot, 0, 44, 10),
			(item_set_slot, 0, 45, 16),
			(item_set_slot, 0, 43, 103),
			(item_set_slot, 0, 42, 90),
			(item_set_slot, 0, 41, 0),
			(item_set_slot, 1, 66, 450),
			(item_set_slot, 1, 65, 0),
			(item_set_slot, 1, 73, 13),
			(item_set_slot, 1, 44, 19),
			(item_set_slot, 1, 45, 0),
			(item_set_slot, 1, 43, 80),
			(item_set_slot, 1, 42, 158),
			(item_set_slot, 1, 47, 1),
			(item_set_slot, 1, 41, 0),
			(item_set_slot, 2, 66, 250),
			(item_set_slot, 2, 65, 0),
			(item_set_slot, 2, 73, 0),
			(item_set_slot, 2, 44, 0),
			(item_set_slot, 2, 45, 11),
			(item_set_slot, 2, 43, 95),
			(item_set_slot, 2, 42, 95),
			(item_set_slot, 2, 41, 0),
			(item_set_slot, 3, 66, 500),
			(item_set_slot, 3, 65, 0),
			(item_set_slot, 3, 73, 18),
			(item_set_slot, 3, 44, 0),
			(item_set_slot, 3, 45, 27),
			(item_set_slot, 3, 43, 88),
			(item_set_slot, 3, 42, 108),
			(item_set_slot, 3, 41, 2097152),
			(item_set_slot, 4, 66, 300),
			(item_set_slot, 4, 65, 0),
			(item_set_slot, 4, 73, 42),
			(item_set_slot, 4, 44, 0),
			(item_set_slot, 4, 45, 0),
			(item_set_slot, 4, 43, 0),
			(item_set_slot, 4, 42, 95),
			(item_set_slot, 4, 41, 0),
			(item_set_slot, 5, 66, 225),
			(item_set_slot, 5, 65, 0),
			(item_set_slot, 5, 73, 42),
			(item_set_slot, 5, 44, 0),
			(item_set_slot, 5, 45, 0),
			(item_set_slot, 5, 43, 0),
			(item_set_slot, 5, 42, 55),
			(item_set_slot, 5, 41, 0),
			(item_set_slot, 6, 66, 100),
			(item_set_slot, 6, 65, 0),
			(item_set_slot, 6, 73, 17),
			(item_set_slot, 6, 44, 268),
			(item_set_slot, 6, 45, 0),
			(item_set_slot, 6, 43, 98),
			(item_set_slot, 6, 41, 2097152),
			(item_set_slot, 7, 66, 300),
			(item_set_slot, 7, 65, 0),
			(item_set_slot, 7, 73, 17),
			(item_set_slot, 7, 44, 288),
			(item_set_slot, 7, 45, 0),
			(item_set_slot, 7, 43, 42),
			(item_set_slot, 7, 41, 2097152),
			(item_set_slot, 7, 10, 1),
			(item_set_slot, 8, 66, 350),
			(item_set_slot, 8, 65, 0),
			(item_set_slot, 8, 73, 42),
			(item_set_slot, 8, 44, 16),
			(item_set_slot, 8, 45, 0),
			(item_set_slot, 8, 43, 102),
			(item_set_slot, 8, 42, 0),
			(item_set_slot, 8, 41, 0),
			(item_set_slot, 9, 66, 0),
			(item_set_slot, 9, 65, 0),
			(item_set_slot, 9, 73, 35),
			(item_set_slot, 9, 41, 40),
			(item_set_slot, 9, 44, 3),
			(item_set_slot, 9, 45, 8),
			(item_set_slot, 9, 41, 0),
			(item_set_slot, 10, 66, 250),
			(item_set_slot, 10, 65, 0),
			(item_set_slot, 10, 73, 27),
			(item_set_slot, 10, 42, 150),
			(item_set_slot, 10, 44, 1),
			(item_set_slot, 10, 43, 82),
			(item_set_slot, 10, 41, 0),
			(item_set_slot, 11, 66, 350),
			(item_set_slot, 11, 65, 0),
			(item_set_slot, 11, 73, 0),
			(item_set_slot, 11, 44, 0),
			(item_set_slot, 11, 45, 0),
			(item_set_slot, 11, 43, 120),
			(item_set_slot, 11, 42, 115),
			(item_set_slot, 11, 41, 0),
			(item_set_slot, 12, 66, 350),
			(item_set_slot, 12, 65, 0),
			(item_set_slot, 12, 73, 0),
			(item_set_slot, 12, 44, 16),
			(item_set_slot, 12, 45, 16),
			(item_set_slot, 12, 43, 120),
			(item_set_slot, 12, 42, 115),
			(item_set_slot, 12, 41, 0),
			(item_set_slot, 13, 66, 150),
			(item_set_slot, 13, 65, 0),
			(item_set_slot, 13, 73, 14),
			(item_set_slot, 13, 44, 15),
			(item_set_slot, 13, 45, 18),
			(item_set_slot, 13, 43, 100),
			(item_set_slot, 13, 42, 102),
			(item_set_slot, 13, 41, 0),
			(item_set_slot, 14, 66, 400),
			(item_set_slot, 14, 65, 0),
			(item_set_slot, 14, 73, 18),
			(item_set_slot, 14, 44, 0),
			(item_set_slot, 14, 45, 19),
			(item_set_slot, 14, 43, 91),
			(item_set_slot, 14, 42, 108),
			(item_set_slot, 14, 41, 2097152),
			(item_set_slot, 15, 66, 150),
			(item_set_slot, 15, 65, 0),
			(item_set_slot, 15, 73, 0),
			(item_set_slot, 15, 44, 10),
			(item_set_slot, 15, 45, 16),
			(item_set_slot, 15, 43, 103),
			(item_set_slot, 15, 42, 40),
			(item_set_slot, 15, 41, 0),
			(item_set_slot, 16, 66, 4000),
			(item_set_slot, 16, 65, 0),
			(item_set_slot, 16, 73, 0),
			(item_set_slot, 16, 41, 0),
			(item_set_slot, 17, 66, 400),
			(item_set_slot, 17, 65, 0),
			(item_set_slot, 17, 73, 13),
			(item_set_slot, 17, 44, 35),
			(item_set_slot, 17, 45, 0),
			(item_set_slot, 17, 43, 96),
			(item_set_slot, 17, 42, 150),
			(item_set_slot, 17, 47, 1),
			(item_set_slot, 17, 46, 1),
			(item_set_slot, 17, 41, 0),
			(item_set_slot, 18, 66, 200),
			(item_set_slot, 18, 65, 0),
			(item_set_slot, 18, 73, 18),
			(item_set_slot, 18, 44, 0),
			(item_set_slot, 18, 45, 28),
			(item_set_slot, 18, 43, 85),
			(item_set_slot, 18, 42, 70),
			(item_set_slot, 18, 41, 0),
			(item_set_slot, 19, 66, 400),
			(item_set_slot, 19, 65, 12),
			(item_set_slot, 19, 73, 18),
			(item_set_slot, 19, 44, 0),
			(item_set_slot, 19, 45, 29),
			(item_set_slot, 19, 43, 80),
			(item_set_slot, 19, 42, 70),
			(item_set_slot, 19, 41, 0),
			(item_set_slot, 20, 66, 200),
			(item_set_slot, 20, 65, 10),
			(item_set_slot, 20, 73, 17),
			(item_set_slot, 20, 44, 28),
			(item_set_slot, 20, 45, 26),
			(item_set_slot, 20, 43, 100),
			(item_set_slot, 20, 42, 95),
			(item_set_slot, 20, 41, 0),
			(item_set_slot, 21, 66, 200),
			(item_set_slot, 21, 65, 10),
			(item_set_slot, 21, 73, 17),
			(item_set_slot, 21, 44, 28),
			(item_set_slot, 21, 45, 26),
			(item_set_slot, 21, 43, 100),
			(item_set_slot, 21, 42, 95),
			(item_set_slot, 21, 41, 0),
			(item_set_slot, 22, 66, 400),
			(item_set_slot, 22, 65, 12),
			(item_set_slot, 22, 73, 18),
			(item_set_slot, 22, 44, 0),
			(item_set_slot, 22, 45, 29),
			(item_set_slot, 22, 43, 80),
			(item_set_slot, 22, 42, 70),
			(item_set_slot, 22, 41, 0),
			(item_set_slot, 23, 66, 200),
			(item_set_slot, 23, 65, 10),
			(item_set_slot, 23, 73, 17),
			(item_set_slot, 23, 44, 28),
			(item_set_slot, 23, 45, 26),
			(item_set_slot, 23, 43, 100),
			(item_set_slot, 23, 42, 95),
			(item_set_slot, 23, 41, 0),
			(item_set_slot, 24, 66, 200),
			(item_set_slot, 24, 65, 10),
			(item_set_slot, 24, 73, 17),
			(item_set_slot, 24, 44, 28),
			(item_set_slot, 24, 45, 26),
			(item_set_slot, 24, 43, 100),
			(item_set_slot, 24, 42, 95),
			(item_set_slot, 24, 41, 0),
			(item_set_slot, 25, 66, 200),
			(item_set_slot, 25, 65, 10),
			(item_set_slot, 25, 73, 17),
			(item_set_slot, 25, 44, 28),
			(item_set_slot, 25, 45, 26),
			(item_set_slot, 25, 43, 100),
			(item_set_slot, 25, 42, 95),
			(item_set_slot, 25, 41, 0),
			(item_set_slot, 26, 66, 200),
			(item_set_slot, 26, 65, 10),
			(item_set_slot, 26, 73, 17),
			(item_set_slot, 26, 44, 28),
			(item_set_slot, 26, 45, 26),
			(item_set_slot, 26, 43, 100),
			(item_set_slot, 26, 42, 95),
			(item_set_slot, 26, 41, 0),
			(item_set_slot, 27, 66, 400),
			(item_set_slot, 27, 65, 12),
			(item_set_slot, 27, 73, 18),
			(item_set_slot, 27, 44, 0),
			(item_set_slot, 27, 45, 29),
			(item_set_slot, 27, 43, 80),
			(item_set_slot, 27, 42, 70),
			(item_set_slot, 27, 41, 0),
			(item_set_slot, 28, 66, 400),
			(item_set_slot, 28, 65, 0),
			(item_set_slot, 28, 73, 13),
			(item_set_slot, 28, 44, 35),
			(item_set_slot, 28, 45, 0),
			(item_set_slot, 28, 43, 96),
			(item_set_slot, 28, 42, 150),
			(item_set_slot, 28, 47, 1),
			(item_set_slot, 28, 46, 1),
			(item_set_slot, 28, 41, 0),
			(item_set_slot, 29, 66, 400),
			(item_set_slot, 29, 65, 0),
			(item_set_slot, 29, 73, 13),
			(item_set_slot, 29, 44, 35),
			(item_set_slot, 29, 45, 0),
			(item_set_slot, 29, 43, 96),
			(item_set_slot, 29, 42, 150),
			(item_set_slot, 29, 47, 1),
			(item_set_slot, 29, 46, 1),
			(item_set_slot, 29, 41, 0),
			(item_set_slot, 30, 66, 400),
			(item_set_slot, 30, 65, 0),
			(item_set_slot, 30, 73, 13),
			(item_set_slot, 30, 44, 35),
			(item_set_slot, 30, 45, 0),
			(item_set_slot, 30, 43, 96),
			(item_set_slot, 30, 42, 150),
			(item_set_slot, 30, 47, 1),
			(item_set_slot, 30, 46, 1),
			(item_set_slot, 30, 41, 0),
			(item_set_slot, 31, 66, 400),
			(item_set_slot, 31, 65, 0),
			(item_set_slot, 31, 73, 13),
			(item_set_slot, 31, 44, 35),
			(item_set_slot, 31, 45, 0),
			(item_set_slot, 31, 43, 96),
			(item_set_slot, 31, 42, 150),
			(item_set_slot, 31, 47, 1),
			(item_set_slot, 31, 46, 1),
			(item_set_slot, 31, 41, 0),
			(item_set_slot, 32, 66, 400),
			(item_set_slot, 32, 65, 12),
			(item_set_slot, 32, 73, 18),
			(item_set_slot, 32, 44, 0),
			(item_set_slot, 32, 45, 29),
			(item_set_slot, 32, 43, 80),
			(item_set_slot, 32, 42, 70),
			(item_set_slot, 32, 41, 0),
			(item_set_slot, 33, 66, 400),
			(item_set_slot, 33, 65, 12),
			(item_set_slot, 33, 73, 18),
			(item_set_slot, 33, 44, 0),
			(item_set_slot, 33, 45, 29),
			(item_set_slot, 33, 43, 80),
			(item_set_slot, 33, 42, 70),
			(item_set_slot, 33, 41, 0),
			(item_set_slot, 34, 66, 100),
			(item_set_slot, 34, 65, 0),
			(item_set_slot, 34, 67, 0),
			(item_set_slot, 34, 73, 26),
			(item_set_slot, 34, 41, 0),
			(item_set_slot, 34, 44, 0),
			(item_set_slot, 34, 45, 10),
			(item_set_slot, 34, 41, 0),
			(item_set_slot, 35, 66, 0),
			(item_set_slot, 35, 65, 0),
			(item_set_slot, 35, 73, 0),
			(item_set_slot, 35, 41, 40),
			(item_set_slot, 35, 44, 10),
			(item_set_slot, 35, 45, 14),
			(item_set_slot, 35, 41, 0),
			(item_set_slot, 36, 66, 350),
			(item_set_slot, 36, 65, 0),
			(item_set_slot, 36, 73, 0),
			(item_set_slot, 36, 42, 50),
			(item_set_slot, 36, 44, 1),
			(item_set_slot, 36, 43, 100),
			(item_set_slot, 36, 41, 0),
			(item_set_slot, 37, 66, 200),
			(item_set_slot, 37, 65, 0),
			(item_set_slot, 37, 73, 0),
			(item_set_slot, 37, 41, 0),
			(item_set_slot, 38, 66, 200),
			(item_set_slot, 38, 65, 0),
			(item_set_slot, 38, 73, 0),
			(item_set_slot, 38, 41, 0),
			(item_set_slot, 39, 66, 200),
			(item_set_slot, 39, 65, 0),
			(item_set_slot, 39, 73, 0),
			(item_set_slot, 39, 41, 0),
			(item_set_slot, 40, 66, 200),
			(item_set_slot, 40, 65, 0),
			(item_set_slot, 40, 73, 0),
			(item_set_slot, 40, 41, 0),
			(item_set_slot, 41, 66, 200),
			(item_set_slot, 41, 65, 0),
			(item_set_slot, 41, 73, 0),
			(item_set_slot, 41, 41, 0),
			(item_set_slot, 42, 66, 200),
			(item_set_slot, 42, 65, 0),
			(item_set_slot, 42, 73, 0),
			(item_set_slot, 42, 41, 0),
			(item_set_slot, 43, 66, 200),
			(item_set_slot, 43, 65, 0),
			(item_set_slot, 43, 73, 0),
			(item_set_slot, 43, 41, 0),
			(item_set_slot, 44, 66, 200),
			(item_set_slot, 44, 65, 0),
			(item_set_slot, 44, 73, 0),
			(item_set_slot, 44, 41, 0),
			(item_set_slot, 45, 66, 200),
			(item_set_slot, 45, 65, 0),
			(item_set_slot, 45, 73, 0),
			(item_set_slot, 45, 41, 0),
			(item_set_slot, 46, 66, 200),
			(item_set_slot, 46, 65, 0),
			(item_set_slot, 46, 73, 0),
			(item_set_slot, 46, 41, 0),
			(item_set_slot, 47, 66, 200),
			(item_set_slot, 47, 65, 0),
			(item_set_slot, 47, 73, 0),
			(item_set_slot, 47, 41, 0),
			(item_set_slot, 48, 66, 200),
			(item_set_slot, 48, 65, 0),
			(item_set_slot, 48, 73, 0),
			(item_set_slot, 48, 41, 0),
			(item_set_slot, 49, 66, 200),
			(item_set_slot, 49, 65, 0),
			(item_set_slot, 49, 73, 0),
			(item_set_slot, 49, 41, 0),
			(item_set_slot, 50, 66, 200),
			(item_set_slot, 50, 65, 0),
			(item_set_slot, 50, 73, 0),
			(item_set_slot, 50, 41, 0),
			(item_set_slot, 51, 66, 200),
			(item_set_slot, 51, 65, 0),
			(item_set_slot, 51, 73, 0),
			(item_set_slot, 51, 41, 0),
			(item_set_slot, 52, 66, 200),
			(item_set_slot, 52, 65, 0),
			(item_set_slot, 52, 73, 0),
			(item_set_slot, 52, 41, 0),
			(item_set_slot, 53, 66, 200),
			(item_set_slot, 53, 65, 0),
			(item_set_slot, 53, 73, 0),
			(item_set_slot, 53, 41, 0),
			(item_set_slot, 54, 66, 4000),
			(item_set_slot, 54, 65, 0),
			(item_set_slot, 54, 73, 16),
			(item_set_slot, 54, 41, 0),
			(item_set_slot, 55, 66, 5000),
			(item_set_slot, 55, 65, 0),
			(item_set_slot, 55, 73, 10),
			(item_set_slot, 55, 41, 0),
			(item_set_slot, 56, 66, 5000),
			(item_set_slot, 56, 65, 0),
			(item_set_slot, 56, 73, 11),
			(item_set_slot, 56, 41, 0),
			(item_set_slot, 57, 66, 5000),
			(item_set_slot, 57, 65, 0),
			(item_set_slot, 57, 73, 24),
			(item_set_slot, 57, 41, 0),
			(item_set_slot, 58, 66, 4000),
			(item_set_slot, 58, 65, 0),
			(item_set_slot, 58, 73, 10),
			(item_set_slot, 58, 41, 0),
			(item_set_slot, 59, 66, 4000),
			(item_set_slot, 59, 65, 0),
			(item_set_slot, 59, 73, 24),
			(item_set_slot, 59, 41, 0),
			(item_set_slot, 60, 66, 4000),
			(item_set_slot, 60, 65, 0),
			(item_set_slot, 60, 73, 10),
			(item_set_slot, 60, 41, 0),
			(item_set_slot, 61, 66, 4000),
			(item_set_slot, 61, 65, 0),
			(item_set_slot, 61, 73, 24),
			(item_set_slot, 61, 41, 0),
			(item_set_slot, 62, 66, 3000),
			(item_set_slot, 62, 65, 0),
			(item_set_slot, 62, 73, 16),
			(item_set_slot, 62, 41, 0),
			(item_set_slot, 63, 66, 1000),
			(item_set_slot, 63, 65, 0),
			(item_set_slot, 63, 73, 17),
			(item_set_slot, 63, 41, 0),
			(item_set_slot, 64, 66, 4000),
			(item_set_slot, 64, 65, 0),
			(item_set_slot, 64, 73, 17),
			(item_set_slot, 64, 41, 0),
			(item_set_slot, 65, 66, 6000),
			(item_set_slot, 65, 65, 0),
			(item_set_slot, 65, 73, 26),
			(item_set_slot, 65, 41, 0),
			(item_set_slot, 66, 66, 5000),
			(item_set_slot, 66, 65, 0),
			(item_set_slot, 66, 73, 26),
			(item_set_slot, 66, 41, 0),
			(item_set_slot, 67, 66, 4000),
			(item_set_slot, 67, 65, 0),
			(item_set_slot, 67, 73, 25),
			(item_set_slot, 67, 41, 0),
			(item_set_slot, 68, 66, 4000),
			(item_set_slot, 68, 65, 0),
			(item_set_slot, 68, 73, 25),
			(item_set_slot, 68, 41, 0),
			(item_set_slot, 69, 66, 4000),
			(item_set_slot, 69, 65, 0),
			(item_set_slot, 69, 73, 10),
			(item_set_slot, 69, 41, 0),
			(item_set_slot, 70, 66, 4000),
			(item_set_slot, 70, 65, 0),
			(item_set_slot, 70, 73, 25),
			(item_set_slot, 70, 41, 0),
			(item_set_slot, 71, 66, 3000),
			(item_set_slot, 71, 65, 0),
			(item_set_slot, 71, 73, 19),
			(item_set_slot, 71, 41, 0),
			(item_set_slot, 72, 66, 3000),
			(item_set_slot, 72, 65, 0),
			(item_set_slot, 72, 73, 19),
			(item_set_slot, 72, 41, 0),
			(item_set_slot, 73, 66, 5000),
			(item_set_slot, 73, 65, 0),
			(item_set_slot, 73, 73, 17),
			(item_set_slot, 73, 41, 0),
			(item_set_slot, 74, 66, 2000),
			(item_set_slot, 74, 65, 0),
			(item_set_slot, 74, 73, 9),
			(item_set_slot, 74, 41, 0),
			(item_set_slot, 75, 66, 2000),
			(item_set_slot, 75, 65, 0),
			(item_set_slot, 75, 73, 9),
			(item_set_slot, 75, 41, 0),
			(item_set_slot, 76, 66, 3000),
			(item_set_slot, 76, 65, 0),
			(item_set_slot, 76, 73, 19),
			(item_set_slot, 76, 41, 0),
			(item_set_slot, 77, 66, 2000),
			(item_set_slot, 77, 65, 0),
			(item_set_slot, 77, 73, 9),
			(item_set_slot, 77, 41, 0),
			(item_set_slot, 78, 66, 2000),
			(item_set_slot, 78, 65, 0),
			(item_set_slot, 78, 73, 9),
			(item_set_slot, 78, 41, 0),
			(item_set_slot, 79, 66, 3000),
			(item_set_slot, 79, 65, 0),
			(item_set_slot, 79, 73, 19),
			(item_set_slot, 79, 41, 0),
			(item_set_slot, 80, 66, 3000),
			(item_set_slot, 80, 65, 0),
			(item_set_slot, 80, 73, 9),
			(item_set_slot, 80, 41, 0),
			(item_set_slot, 81, 66, 2000),
			(item_set_slot, 81, 65, 0),
			(item_set_slot, 81, 73, 9),
			(item_set_slot, 81, 41, 0),
			(item_set_slot, 82, 66, 6000),
			(item_set_slot, 82, 65, 0),
			(item_set_slot, 82, 73, 26),
			(item_set_slot, 82, 41, 0),
			(item_set_slot, 83, 66, 6000),
			(item_set_slot, 83, 65, 0),
			(item_set_slot, 83, 73, 26),
			(item_set_slot, 83, 41, 0),
			(item_set_slot, 84, 66, 6000),
			(item_set_slot, 84, 65, 0),
			(item_set_slot, 84, 73, 26),
			(item_set_slot, 84, 41, 0),
			(item_set_slot, 85, 66, 5000),
			(item_set_slot, 85, 65, 0),
			(item_set_slot, 85, 73, 17),
			(item_set_slot, 85, 41, 0),
			(item_set_slot, 86, 66, 5000),
			(item_set_slot, 86, 65, 0),
			(item_set_slot, 86, 73, 19),
			(item_set_slot, 86, 41, 0),
			(item_set_slot, 87, 66, 5000),
			(item_set_slot, 87, 65, 0),
			(item_set_slot, 87, 73, 19),
			(item_set_slot, 87, 41, 0),
			(item_set_slot, 88, 66, 5000),
			(item_set_slot, 88, 65, 0),
			(item_set_slot, 88, 73, 17),
			(item_set_slot, 88, 41, 0),
			(item_set_slot, 89, 66, 5000),
			(item_set_slot, 89, 65, 0),
			(item_set_slot, 89, 73, 10),
			(item_set_slot, 89, 41, 0),
			(item_set_slot, 90, 66, 5000),
			(item_set_slot, 90, 65, 0),
			(item_set_slot, 90, 73, 17),
			(item_set_slot, 90, 41, 0),
			(item_set_slot, 91, 66, 5000),
			(item_set_slot, 91, 65, 0),
			(item_set_slot, 91, 73, 19),
			(item_set_slot, 91, 41, 0),
			(item_set_slot, 92, 66, 5000),
			(item_set_slot, 92, 65, 0),
			(item_set_slot, 92, 73, 19),
			(item_set_slot, 92, 41, 0),
			(item_set_slot, 93, 66, 5000),
			(item_set_slot, 93, 65, 0),
			(item_set_slot, 93, 73, 10),
			(item_set_slot, 93, 41, 0),
			(item_set_slot, 94, 66, 5000),
			(item_set_slot, 94, 65, 0),
			(item_set_slot, 94, 73, 19),
			(item_set_slot, 94, 41, 0),
			(item_set_slot, 95, 66, 5000),
			(item_set_slot, 95, 65, 0),
			(item_set_slot, 95, 73, 19),
			(item_set_slot, 95, 41, 0),
			(item_set_slot, 96, 66, 1500),
			(item_set_slot, 96, 65, 0),
			(item_set_slot, 96, 73, 16),
			(item_set_slot, 96, 41, 0),
			(item_set_slot, 97, 66, 600),
			(item_set_slot, 97, 65, 0),
			(item_set_slot, 97, 73, 16),
			(item_set_slot, 97, 41, 0),
			(item_set_slot, 98, 66, 500),
			(item_set_slot, 98, 65, 0),
			(item_set_slot, 98, 73, 16),
			(item_set_slot, 98, 41, 0),
			(item_set_slot, 99, 66, 1000),
			(item_set_slot, 99, 65, 0),
			(item_set_slot, 99, 73, 16),
			(item_set_slot, 99, 41, 0),
			(item_set_slot, 100, 66, 1500),
			(item_set_slot, 100, 65, 0),
			(item_set_slot, 100, 73, 16),
			(item_set_slot, 100, 41, 0),
			(item_set_slot, 101, 66, 1500),
			(item_set_slot, 101, 65, 0),
			(item_set_slot, 101, 73, 16),
			(item_set_slot, 101, 41, 0),
			(item_set_slot, 102, 66, 2000),
			(item_set_slot, 102, 65, 0),
			(item_set_slot, 102, 73, 16),
			(item_set_slot, 102, 41, 0),
			(item_set_slot, 103, 66, 4000),
			(item_set_slot, 103, 65, 0),
			(item_set_slot, 103, 73, 16),
			(item_set_slot, 103, 41, 0),
			(item_set_slot, 104, 66, 4000),
			(item_set_slot, 104, 65, 0),
			(item_set_slot, 104, 73, 16),
			(item_set_slot, 104, 41, 0),
			(item_set_slot, 105, 66, 3000),
			(item_set_slot, 105, 65, 0),
			(item_set_slot, 105, 73, 16),
			(item_set_slot, 105, 41, 0),
			(item_set_slot, 106, 66, 2000),
			(item_set_slot, 106, 65, 0),
			(item_set_slot, 106, 73, 0),
			(item_set_slot, 106, 41, 0),
			(item_set_slot, 107, 66, 3000),
			(item_set_slot, 107, 65, 0),
			(item_set_slot, 107, 73, 16),
			(item_set_slot, 107, 41, 0),
			(item_set_slot, 108, 66, 1000),
			(item_set_slot, 108, 65, 0),
			(item_set_slot, 108, 73, 0),
			(item_set_slot, 108, 41, 0),
			(item_set_slot, 109, 66, 1500),
			(item_set_slot, 109, 65, 0),
			(item_set_slot, 109, 73, 0),
			(item_set_slot, 109, 41, 0),
			(item_set_slot, 110, 66, 600),
			(item_set_slot, 110, 65, 0),
			(item_set_slot, 110, 73, 16),
			(item_set_slot, 110, 41, 0),
			(item_set_slot, 111, 66, 4000),
			(item_set_slot, 111, 65, 0),
			(item_set_slot, 111, 73, 0),
			(item_set_slot, 111, 41, 0),
			(item_set_slot, 112, 66, 4000),
			(item_set_slot, 112, 65, 0),
			(item_set_slot, 112, 73, 0),
			(item_set_slot, 112, 41, 0),
			(item_set_slot, 113, 66, 4000),
			(item_set_slot, 113, 65, 0),
			(item_set_slot, 113, 73, 0),
			(item_set_slot, 113, 41, 0),
			(item_set_slot, 114, 66, 4000),
			(item_set_slot, 114, 65, 0),
			(item_set_slot, 114, 73, 0),
			(item_set_slot, 114, 41, 0),
			(item_set_slot, 115, 66, 4000),
			(item_set_slot, 115, 65, 0),
			(item_set_slot, 115, 73, 0),
			(item_set_slot, 115, 41, 0),
			(item_set_slot, 116, 66, 4000),
			(item_set_slot, 116, 65, 0),
			(item_set_slot, 116, 73, 0),
			(item_set_slot, 116, 41, 0),
			(item_set_slot, 117, 66, 4000),
			(item_set_slot, 117, 65, 0),
			(item_set_slot, 117, 73, 0),
			(item_set_slot, 117, 41, 0),
			(item_set_slot, 118, 66, 4000),
			(item_set_slot, 118, 65, 0),
			(item_set_slot, 118, 73, 0),
			(item_set_slot, 118, 41, 0),
			(item_set_slot, 119, 66, 4000),
			(item_set_slot, 119, 65, 0),
			(item_set_slot, 119, 73, 0),
			(item_set_slot, 119, 41, 0),
			(item_set_slot, 120, 66, 4000),
			(item_set_slot, 120, 65, 0),
			(item_set_slot, 120, 73, 0),
			(item_set_slot, 120, 41, 0),
			(item_set_slot, 121, 66, 4000),
			(item_set_slot, 121, 65, 0),
			(item_set_slot, 121, 73, 0),
			(item_set_slot, 121, 41, 0),
			(item_set_slot, 122, 66, 4000),
			(item_set_slot, 122, 65, 0),
			(item_set_slot, 122, 73, 0),
			(item_set_slot, 122, 41, 0),
			(item_set_slot, 123, 66, 4000),
			(item_set_slot, 123, 65, 0),
			(item_set_slot, 123, 73, 0),
			(item_set_slot, 123, 41, 0),
			(item_set_slot, 124, 66, 4000),
			(item_set_slot, 124, 65, 0),
			(item_set_slot, 124, 73, 0),
			(item_set_slot, 124, 41, 0),
			(item_set_slot, 125, 66, 4000),
			(item_set_slot, 125, 65, 0),
			(item_set_slot, 125, 73, 0),
			(item_set_slot, 125, 41, 0),
			(item_set_slot, 126, 66, 4000),
			(item_set_slot, 126, 65, 0),
			(item_set_slot, 126, 73, 0),
			(item_set_slot, 126, 41, 0),
			(item_set_slot, 127, 66, 4000),
			(item_set_slot, 127, 65, 0),
			(item_set_slot, 127, 73, 0),
			(item_set_slot, 127, 41, 0),
			(item_set_slot, 128, 66, 4000),
			(item_set_slot, 128, 65, 0),
			(item_set_slot, 128, 73, 0),
			(item_set_slot, 128, 41, 0),
			(item_set_slot, 129, 66, 4000),
			(item_set_slot, 129, 65, 0),
			(item_set_slot, 129, 73, 0),
			(item_set_slot, 129, 41, 0),
			(item_set_slot, 130, 66, 4000),
			(item_set_slot, 130, 65, 0),
			(item_set_slot, 130, 73, 0),
			(item_set_slot, 130, 41, 0),
			(item_set_slot, 131, 66, 4000),
			(item_set_slot, 131, 65, 0),
			(item_set_slot, 131, 73, 0),
			(item_set_slot, 131, 41, 0),
			(item_set_slot, 132, 66, 4000),
			(item_set_slot, 132, 65, 0),
			(item_set_slot, 132, 73, 0),
			(item_set_slot, 132, 41, 0),
			(item_set_slot, 133, 66, 4000),
			(item_set_slot, 133, 65, 0),
			(item_set_slot, 133, 73, 0),
			(item_set_slot, 133, 41, 0),
			(item_set_slot, 134, 66, 4000),
			(item_set_slot, 134, 65, 0),
			(item_set_slot, 134, 73, 0),
			(item_set_slot, 134, 41, 0),
			(item_set_slot, 135, 66, 4000),
			(item_set_slot, 135, 65, 0),
			(item_set_slot, 135, 73, 0),
			(item_set_slot, 135, 41, 0),
			(item_set_slot, 136, 66, 4000),
			(item_set_slot, 136, 65, 0),
			(item_set_slot, 136, 73, 0),
			(item_set_slot, 136, 41, 0),
			(item_set_slot, 137, 66, 5000),
			(item_set_slot, 137, 65, 0),
			(item_set_slot, 137, 73, 0),
			(item_set_slot, 137, 41, 0),
			(item_set_slot, 138, 66, 4000),
			(item_set_slot, 138, 65, 0),
			(item_set_slot, 138, 73, 0),
			(item_set_slot, 138, 41, 0),
			(item_set_slot, 139, 66, 4000),
			(item_set_slot, 139, 65, 0),
			(item_set_slot, 139, 73, 0),
			(item_set_slot, 139, 41, 0),
			(item_set_slot, 140, 66, 4000),
			(item_set_slot, 140, 65, 0),
			(item_set_slot, 140, 73, 0),
			(item_set_slot, 140, 41, 0),
			(item_set_slot, 141, 66, 4000),
			(item_set_slot, 141, 65, 0),
			(item_set_slot, 141, 73, 0),
			(item_set_slot, 141, 41, 0),
			(item_set_slot, 142, 66, 4000),
			(item_set_slot, 142, 65, 0),
			(item_set_slot, 142, 73, 0),
			(item_set_slot, 142, 41, 0),
			(item_set_slot, 143, 66, 4000),
			(item_set_slot, 143, 65, 0),
			(item_set_slot, 143, 73, 0),
			(item_set_slot, 143, 41, 0),
			(item_set_slot, 144, 66, 4000),
			(item_set_slot, 144, 65, 0),
			(item_set_slot, 144, 73, 0),
			(item_set_slot, 144, 41, 0),
			(item_set_slot, 145, 66, 4000),
			(item_set_slot, 145, 65, 0),
			(item_set_slot, 145, 73, 0),
			(item_set_slot, 145, 41, 0),
			(item_set_slot, 146, 66, 4000),
			(item_set_slot, 146, 65, 0),
			(item_set_slot, 146, 73, 0),
			(item_set_slot, 146, 41, 0),
			(item_set_slot, 147, 66, 4000),
			(item_set_slot, 147, 65, 0),
			(item_set_slot, 147, 73, 0),
			(item_set_slot, 147, 41, 0),
			(item_set_slot, 148, 66, 4000),
			(item_set_slot, 148, 65, 0),
			(item_set_slot, 148, 73, 0),
			(item_set_slot, 148, 41, 0),
			(item_set_slot, 149, 66, 4000),
			(item_set_slot, 149, 65, 0),
			(item_set_slot, 149, 73, 0),
			(item_set_slot, 149, 41, 0),
			(item_set_slot, 150, 66, 4000),
			(item_set_slot, 150, 65, 0),
			(item_set_slot, 150, 73, 0),
			(item_set_slot, 150, 41, 0),
			(item_set_slot, 151, 66, 4000),
			(item_set_slot, 151, 65, 0),
			(item_set_slot, 151, 73, 0),
			(item_set_slot, 151, 41, 0),
			(item_set_slot, 152, 66, 4000),
			(item_set_slot, 152, 65, 0),
			(item_set_slot, 152, 73, 0),
			(item_set_slot, 152, 41, 0),
			(item_set_slot, 153, 66, 4000),
			(item_set_slot, 153, 65, 0),
			(item_set_slot, 153, 73, 0),
			(item_set_slot, 153, 41, 0),
			(item_set_slot, 154, 66, 4000),
			(item_set_slot, 154, 65, 0),
			(item_set_slot, 154, 73, 0),
			(item_set_slot, 154, 41, 0),
			(item_set_slot, 155, 66, 4000),
			(item_set_slot, 155, 65, 0),
			(item_set_slot, 155, 73, 0),
			(item_set_slot, 155, 41, 0),
			(item_set_slot, 156, 66, 4000),
			(item_set_slot, 156, 65, 0),
			(item_set_slot, 156, 73, 0),
			(item_set_slot, 156, 41, 0),
			(item_set_slot, 157, 66, 4000),
			(item_set_slot, 157, 65, 0),
			(item_set_slot, 157, 73, 0),
			(item_set_slot, 157, 41, 0),
			(item_set_slot, 158, 66, 4000),
			(item_set_slot, 158, 65, 0),
			(item_set_slot, 158, 73, 0),
			(item_set_slot, 158, 41, 0),
			(item_set_slot, 159, 66, 4000),
			(item_set_slot, 159, 65, 0),
			(item_set_slot, 159, 73, 0),
			(item_set_slot, 159, 41, 0),
			(item_set_slot, 160, 66, 4000),
			(item_set_slot, 160, 65, 0),
			(item_set_slot, 160, 73, 0),
			(item_set_slot, 160, 41, 0),
			(item_set_slot, 161, 66, 100),
			(item_set_slot, 161, 65, 0),
			(item_set_slot, 161, 73, 0),
			(item_set_slot, 161, 41, 0),
			(item_set_slot, 162, 66, 100),
			(item_set_slot, 162, 65, 0),
			(item_set_slot, 162, 73, 0),
			(item_set_slot, 162, 41, 0),
			(item_set_slot, 163, 66, 100),
			(item_set_slot, 163, 65, 0),
			(item_set_slot, 163, 73, 0),
			(item_set_slot, 163, 41, 0),
			(item_set_slot, 164, 66, 200),
			(item_set_slot, 164, 65, 0),
			(item_set_slot, 164, 73, 0),
			(item_set_slot, 164, 41, 0),
			(item_set_slot, 165, 66, 200),
			(item_set_slot, 165, 65, 0),
			(item_set_slot, 165, 73, 0),
			(item_set_slot, 165, 41, 0),
			(item_set_slot, 166, 66, 100),
			(item_set_slot, 166, 65, 0),
			(item_set_slot, 166, 73, 0),
			(item_set_slot, 166, 41, 0),
			(item_set_slot, 167, 66, 100),
			(item_set_slot, 167, 65, 0),
			(item_set_slot, 167, 73, 0),
			(item_set_slot, 167, 41, 0),
			(item_set_slot, 168, 66, 100),
			(item_set_slot, 168, 65, 0),
			(item_set_slot, 168, 73, 0),
			(item_set_slot, 168, 41, 0),
			(item_set_slot, 169, 66, 100),
			(item_set_slot, 169, 65, 0),
			(item_set_slot, 169, 73, 0),
			(item_set_slot, 169, 41, 0),
			(item_set_slot, 170, 66, 100),
			(item_set_slot, 170, 65, 0),
			(item_set_slot, 170, 73, 0),
			(item_set_slot, 170, 41, 0),
			(item_set_slot, 171, 66, 100),
			(item_set_slot, 171, 65, 0),
			(item_set_slot, 171, 73, 0),
			(item_set_slot, 171, 41, 0),
			(item_set_slot, 172, 66, 4000),
			(item_set_slot, 172, 65, 0),
			(item_set_slot, 172, 73, 0),
			(item_set_slot, 172, 41, 0),
			(item_set_slot, 173, 66, 1600),
			(item_set_slot, 173, 65, 0),
			(item_set_slot, 173, 73, 0),
			(item_set_slot, 173, 41, 0),
			(item_set_slot, 174, 66, 4000),
			(item_set_slot, 174, 65, 0),
			(item_set_slot, 174, 73, 0),
			(item_set_slot, 174, 41, 0),
			(item_set_slot, 175, 66, 4000),
			(item_set_slot, 175, 65, 0),
			(item_set_slot, 175, 73, 0),
			(item_set_slot, 175, 41, 0),
			(item_set_slot, 176, 66, 4000),
			(item_set_slot, 176, 65, 0),
			(item_set_slot, 176, 73, 0),
			(item_set_slot, 176, 41, 0),
			(item_set_slot, 177, 66, 4000),
			(item_set_slot, 177, 65, 0),
			(item_set_slot, 177, 73, 0),
			(item_set_slot, 177, 41, 0),
			(item_set_slot, 178, 66, 1500),
			(item_set_slot, 178, 65, 0),
			(item_set_slot, 178, 73, 11),
			(item_set_slot, 178, 41, 0),
			(item_set_slot, 179, 66, 4000),
			(item_set_slot, 179, 65, 0),
			(item_set_slot, 179, 73, 0),
			(item_set_slot, 179, 41, 0),
			(item_set_slot, 180, 66, 4000),
			(item_set_slot, 180, 65, 0),
			(item_set_slot, 180, 73, 0),
			(item_set_slot, 180, 41, 0),
			(item_set_slot, 181, 66, 4000),
			(item_set_slot, 181, 65, 0),
			(item_set_slot, 181, 73, 0),
			(item_set_slot, 181, 41, 0),
			(item_set_slot, 182, 66, 0),
			(item_set_slot, 182, 65, 0),
			(item_set_slot, 182, 73, 36),
			(item_set_slot, 182, 41, 40),
			(item_set_slot, 182, 44, 15),
			(item_set_slot, 182, 45, 40),
			(item_set_slot, 182, 41, 0),
			(item_set_slot, 183, 66, 0),
			(item_set_slot, 183, 65, 3),
			(item_set_slot, 183, 73, 36),
			(item_set_slot, 183, 41, 40),
			(item_set_slot, 183, 44, 15),
			(item_set_slot, 183, 45, 50),
			(item_set_slot, 183, 41, 0),
			(item_set_slot, 184, 66, 0),
			(item_set_slot, 184, 65, 3),
			(item_set_slot, 184, 73, 36),
			(item_set_slot, 184, 41, 40),
			(item_set_slot, 184, 44, 15),
			(item_set_slot, 184, 45, 40),
			(item_set_slot, 184, 41, 0),
			(item_set_slot, 185, 66, 0),
			(item_set_slot, 185, 65, 3),
			(item_set_slot, 185, 73, 36),
			(item_set_slot, 185, 41, 40),
			(item_set_slot, 185, 44, 15),
			(item_set_slot, 185, 45, 40),
			(item_set_slot, 185, 41, 0),
			(item_set_slot, 186, 66, 0),
			(item_set_slot, 186, 65, 3),
			(item_set_slot, 186, 73, 36),
			(item_set_slot, 186, 41, 40),
			(item_set_slot, 186, 44, 15),
			(item_set_slot, 186, 45, 40),
			(item_set_slot, 186, 41, 0),
			(item_set_slot, 187, 66, 0),
			(item_set_slot, 187, 65, 3),
			(item_set_slot, 187, 73, 36),
			(item_set_slot, 187, 41, 40),
			(item_set_slot, 187, 44, 15),
			(item_set_slot, 187, 45, 40),
			(item_set_slot, 187, 41, 0),
			(item_set_slot, 188, 66, 0),
			(item_set_slot, 188, 65, 0),
			(item_set_slot, 188, 73, 36),
			(item_set_slot, 188, 41, 36),
			(item_set_slot, 188, 44, 0),
			(item_set_slot, 188, 45, 10),
			(item_set_slot, 188, 41, 0),
			(item_set_slot, 189, 66, 0),
			(item_set_slot, 189, 65, 0),
			(item_set_slot, 189, 73, 36),
			(item_set_slot, 189, 41, 36),
			(item_set_slot, 189, 44, 0),
			(item_set_slot, 189, 45, 10),
			(item_set_slot, 189, 41, 0),
			(item_set_slot, 190, 66, 0),
			(item_set_slot, 190, 65, 3),
			(item_set_slot, 190, 73, 36),
			(item_set_slot, 190, 41, 40),
			(item_set_slot, 190, 44, 0),
			(item_set_slot, 190, 45, 5),
			(item_set_slot, 190, 41, 0),
			(item_set_slot, 191, 66, 0),
			(item_set_slot, 191, 65, 3),
			(item_set_slot, 191, 73, 36),
			(item_set_slot, 191, 41, 40),
			(item_set_slot, 191, 44, 0),
			(item_set_slot, 191, 45, 5),
			(item_set_slot, 191, 41, 0),
			(item_set_slot, 192, 66, 0),
			(item_set_slot, 192, 65, 2),
			(item_set_slot, 192, 73, 36),
			(item_set_slot, 192, 41, 40),
			(item_set_slot, 192, 44, 10),
			(item_set_slot, 192, 45, 20),
			(item_set_slot, 192, 41, 0),
			(item_set_slot, 193, 66, 0),
			(item_set_slot, 193, 65, 2),
			(item_set_slot, 193, 73, 36),
			(item_set_slot, 193, 41, 40),
			(item_set_slot, 193, 44, 10),
			(item_set_slot, 193, 45, 20),
			(item_set_slot, 193, 41, 0),
			(item_set_slot, 194, 66, 0),
			(item_set_slot, 194, 65, 2),
			(item_set_slot, 194, 73, 36),
			(item_set_slot, 194, 41, 40),
			(item_set_slot, 194, 44, 10),
			(item_set_slot, 194, 45, 20),
			(item_set_slot, 194, 41, 0),
			(item_set_slot, 195, 66, 0),
			(item_set_slot, 195, 65, 1),
			(item_set_slot, 195, 73, 36),
			(item_set_slot, 195, 41, 30),
			(item_set_slot, 195, 44, 10),
			(item_set_slot, 195, 45, 5),
			(item_set_slot, 195, 41, 0),
			(item_set_slot, 196, 66, 0),
			(item_set_slot, 196, 65, 1),
			(item_set_slot, 196, 73, 36),
			(item_set_slot, 196, 41, 30),
			(item_set_slot, 196, 44, 10),
			(item_set_slot, 196, 45, 5),
			(item_set_slot, 196, 41, 0),
			(item_set_slot, 197, 66, 0),
			(item_set_slot, 197, 65, 3),
			(item_set_slot, 197, 73, 36),
			(item_set_slot, 197, 41, 45),
			(item_set_slot, 197, 44, 0),
			(item_set_slot, 197, 45, 25),
			(item_set_slot, 197, 41, 0),
			(item_set_slot, 198, 66, 0),
			(item_set_slot, 198, 65, 3),
			(item_set_slot, 198, 73, 36),
			(item_set_slot, 198, 41, 45),
			(item_set_slot, 198, 44, 0),
			(item_set_slot, 198, 45, 25),
			(item_set_slot, 198, 41, 0),
			(item_set_slot, 199, 66, 0),
			(item_set_slot, 199, 65, 3),
			(item_set_slot, 199, 73, 36),
			(item_set_slot, 199, 41, 45),
			(item_set_slot, 199, 44, 0),
			(item_set_slot, 199, 45, 25),
			(item_set_slot, 199, 41, 0),
			(item_set_slot, 200, 66, 0),
			(item_set_slot, 200, 65, 3),
			(item_set_slot, 200, 73, 36),
			(item_set_slot, 200, 41, 40),
			(item_set_slot, 200, 44, 10),
			(item_set_slot, 200, 45, 40),
			(item_set_slot, 200, 41, 0),
			(item_set_slot, 201, 66, 0),
			(item_set_slot, 201, 65, 3),
			(item_set_slot, 201, 73, 36),
			(item_set_slot, 201, 41, 40),
			(item_set_slot, 201, 44, 35),
			(item_set_slot, 201, 45, 50),
			(item_set_slot, 201, 41, 0),
			(item_set_slot, 202, 66, 0),
			(item_set_slot, 202, 65, 3),
			(item_set_slot, 202, 73, 36),
			(item_set_slot, 202, 41, 40),
			(item_set_slot, 202, 44, 35),
			(item_set_slot, 202, 45, 50),
			(item_set_slot, 202, 41, 0),
			(item_set_slot, 203, 66, 0),
			(item_set_slot, 203, 65, 3),
			(item_set_slot, 203, 73, 36),
			(item_set_slot, 203, 41, 40),
			(item_set_slot, 203, 44, 35),
			(item_set_slot, 203, 45, 50),
			(item_set_slot, 203, 41, 0),
			(item_set_slot, 204, 66, 0),
			(item_set_slot, 204, 65, 3),
			(item_set_slot, 204, 73, 36),
			(item_set_slot, 204, 41, 40),
			(item_set_slot, 204, 44, 35),
			(item_set_slot, 204, 45, 50),
			(item_set_slot, 204, 41, 0),
			(item_set_slot, 205, 66, 0),
			(item_set_slot, 205, 65, 3),
			(item_set_slot, 205, 73, 36),
			(item_set_slot, 205, 41, 40),
			(item_set_slot, 205, 44, 30),
			(item_set_slot, 205, 45, 40),
			(item_set_slot, 205, 41, 0),
			(item_set_slot, 206, 66, 0),
			(item_set_slot, 206, 65, 3),
			(item_set_slot, 206, 73, 36),
			(item_set_slot, 206, 41, 42),
			(item_set_slot, 206, 44, 35),
			(item_set_slot, 206, 45, 50),
			(item_set_slot, 206, 41, 0),
			(item_set_slot, 207, 66, 0),
			(item_set_slot, 207, 65, 2),
			(item_set_slot, 207, 73, 36),
			(item_set_slot, 207, 41, 45),
			(item_set_slot, 207, 44, 0),
			(item_set_slot, 207, 45, 10),
			(item_set_slot, 207, 41, 0),
			(item_set_slot, 208, 66, 0),
			(item_set_slot, 208, 65, 2),
			(item_set_slot, 208, 73, 36),
			(item_set_slot, 208, 41, 45),
			(item_set_slot, 208, 44, 0),
			(item_set_slot, 208, 45, 10),
			(item_set_slot, 208, 41, 0),
			(item_set_slot, 209, 66, 0),
			(item_set_slot, 209, 65, 0),
			(item_set_slot, 209, 73, 35),
			(item_set_slot, 209, 41, 25),
			(item_set_slot, 209, 44, 0),
			(item_set_slot, 209, 45, 10),
			(item_set_slot, 209, 41, 0),
			(item_set_slot, 210, 66, 0),
			(item_set_slot, 210, 65, 0),
			(item_set_slot, 210, 73, 35),
			(item_set_slot, 210, 41, 25),
			(item_set_slot, 210, 44, 0),
			(item_set_slot, 210, 45, 10),
			(item_set_slot, 210, 41, 0),
			(item_set_slot, 211, 66, 0),
			(item_set_slot, 211, 65, 3),
			(item_set_slot, 211, 73, 0),
			(item_set_slot, 211, 41, 36),
			(item_set_slot, 211, 44, 0),
			(item_set_slot, 211, 45, 20),
			(item_set_slot, 211, 41, 0),
			(item_set_slot, 212, 66, 200),
			(item_set_slot, 212, 65, 8),
			(item_set_slot, 212, 73, 18),
			(item_set_slot, 212, 44, 0),
			(item_set_slot, 212, 45, 23),
			(item_set_slot, 212, 43, 65),
			(item_set_slot, 212, 42, 60),
			(item_set_slot, 212, 41, 0),
			(item_set_slot, 213, 66, 600),
			(item_set_slot, 213, 65, 13),
			(item_set_slot, 213, 73, 18),
			(item_set_slot, 213, 44, 0),
			(item_set_slot, 213, 45, 40),
			(item_set_slot, 213, 43, 80),
			(item_set_slot, 213, 42, 119),
			(item_set_slot, 213, 41, 2097152),
			(item_set_slot, 213, 10, 1),
			(item_set_slot, 214, 66, 600),
			(item_set_slot, 214, 65, 13),
			(item_set_slot, 214, 73, 18),
			(item_set_slot, 214, 44, 0),
			(item_set_slot, 214, 45, 40),
			(item_set_slot, 214, 43, 80),
			(item_set_slot, 214, 42, 102),
			(item_set_slot, 214, 41, 2097152),
			(item_set_slot, 214, 10, 1),
			(item_set_slot, 215, 66, 200),
			(item_set_slot, 215, 65, 0),
			(item_set_slot, 215, 73, 0),
			(item_set_slot, 215, 44, 0),
			(item_set_slot, 215, 45, 15),
			(item_set_slot, 215, 43, 98),
			(item_set_slot, 215, 42, 70),
			(item_set_slot, 215, 41, 0),
			(item_set_slot, 216, 66, 700),
			(item_set_slot, 216, 65, 12),
			(item_set_slot, 216, 73, 18),
			(item_set_slot, 216, 44, 0),
			(item_set_slot, 216, 45, 30),
			(item_set_slot, 216, 43, 70),
			(item_set_slot, 216, 42, 126),
			(item_set_slot, 216, 41, 2097152),
			(item_set_slot, 216, 10, 1),
			(item_set_slot, 217, 66, 800),
			(item_set_slot, 217, 65, 13),
			(item_set_slot, 217, 73, 18),
			(item_set_slot, 217, 44, 0),
			(item_set_slot, 217, 45, 28),
			(item_set_slot, 217, 43, 60),
			(item_set_slot, 217, 42, 79),
			(item_set_slot, 217, 41, 2097152),
			(item_set_slot, 217, 10, 1),
			(item_set_slot, 218, 66, 800),
			(item_set_slot, 218, 65, 13),
			(item_set_slot, 218, 73, 18),
			(item_set_slot, 218, 44, 0),
			(item_set_slot, 218, 45, 30),
			(item_set_slot, 218, 43, 60),
			(item_set_slot, 218, 42, 82),
			(item_set_slot, 218, 41, 2097152),
			(item_set_slot, 218, 10, 1),
			(item_set_slot, 219, 66, 600),
			(item_set_slot, 219, 65, 0),
			(item_set_slot, 219, 73, 13),
			(item_set_slot, 219, 44, 32),
			(item_set_slot, 219, 45, 40),
			(item_set_slot, 219, 43, 90),
			(item_set_slot, 219, 42, 163),
			(item_set_slot, 219, 41, 2097152),
			(item_set_slot, 219, 10, 1),
			(item_set_slot, 220, 66, 600),
			(item_set_slot, 220, 65, 0),
			(item_set_slot, 220, 73, 13),
			(item_set_slot, 220, 44, 34),
			(item_set_slot, 220, 45, 42),
			(item_set_slot, 220, 43, 80),
			(item_set_slot, 220, 42, 170),
			(item_set_slot, 220, 41, 2097152),
			(item_set_slot, 220, 10, 1),
			(item_set_slot, 221, 66, 600),
			(item_set_slot, 221, 65, 12),
			(item_set_slot, 221, 73, 13),
			(item_set_slot, 221, 44, 32),
			(item_set_slot, 221, 45, 44),
			(item_set_slot, 221, 43, 80),
			(item_set_slot, 221, 42, 187),
			(item_set_slot, 221, 41, 2097152),
			(item_set_slot, 221, 10, 1),
			(item_set_slot, 222, 66, 400),
			(item_set_slot, 222, 65, 0),
			(item_set_slot, 222, 73, 13),
			(item_set_slot, 222, 44, 14),
			(item_set_slot, 222, 45, 19),
			(item_set_slot, 222, 43, 100),
			(item_set_slot, 222, 42, 182),
			(item_set_slot, 222, 41, 0),
			(item_set_slot, 222, 10, 1),
			(item_set_slot, 223, 66, 600),
			(item_set_slot, 223, 65, 12),
			(item_set_slot, 223, 73, 17),
			(item_set_slot, 223, 44, 0),
			(item_set_slot, 223, 45, 40),
			(item_set_slot, 223, 43, 85),
			(item_set_slot, 223, 42, 112),
			(item_set_slot, 223, 41, 2097152),
			(item_set_slot, 223, 10, 1),
			(item_set_slot, 224, 66, 400),
			(item_set_slot, 224, 65, 0),
			(item_set_slot, 224, 73, 0),
			(item_set_slot, 224, 44, 33),
			(item_set_slot, 224, 45, 25),
			(item_set_slot, 224, 43, 110),
			(item_set_slot, 224, 42, 200),
			(item_set_slot, 224, 47, 1),
			(item_set_slot, 224, 41, 2097152),
			(item_set_slot, 225, 66, 400),
			(item_set_slot, 225, 65, 0),
			(item_set_slot, 225, 73, 0),
			(item_set_slot, 225, 44, 33),
			(item_set_slot, 225, 45, 25),
			(item_set_slot, 225, 43, 110),
			(item_set_slot, 225, 42, 145),
			(item_set_slot, 225, 41, 0),
			(item_set_slot, 226, 66, 400),
			(item_set_slot, 226, 65, 0),
			(item_set_slot, 226, 73, 0),
			(item_set_slot, 226, 44, 33),
			(item_set_slot, 226, 45, 25),
			(item_set_slot, 226, 43, 110),
			(item_set_slot, 226, 42, 144),
			(item_set_slot, 226, 41, 0),
			(item_set_slot, 227, 66, 400),
			(item_set_slot, 227, 65, 0),
			(item_set_slot, 227, 73, 0),
			(item_set_slot, 227, 44, 33),
			(item_set_slot, 227, 45, 25),
			(item_set_slot, 227, 43, 110),
			(item_set_slot, 227, 42, 122),
			(item_set_slot, 227, 41, 2097152),
			(item_set_slot, 228, 66, 400),
			(item_set_slot, 228, 65, 0),
			(item_set_slot, 228, 73, 0),
			(item_set_slot, 228, 44, 33),
			(item_set_slot, 228, 45, 25),
			(item_set_slot, 228, 43, 110),
			(item_set_slot, 228, 42, 200),
			(item_set_slot, 228, 47, 1),
			(item_set_slot, 228, 41, 0),
			(item_set_slot, 229, 66, 400),
			(item_set_slot, 229, 65, 12),
			(item_set_slot, 229, 73, 13),
			(item_set_slot, 229, 44, 30),
			(item_set_slot, 229, 45, 25),
			(item_set_slot, 229, 43, 96),
			(item_set_slot, 229, 42, 125),
			(item_set_slot, 229, 41, 2097152),
			(item_set_slot, 230, 66, 400),
			(item_set_slot, 230, 65, 12),
			(item_set_slot, 230, 73, 13),
			(item_set_slot, 230, 44, 30),
			(item_set_slot, 230, 45, 25),
			(item_set_slot, 230, 43, 100),
			(item_set_slot, 230, 42, 123),
			(item_set_slot, 230, 41, 2097152),
			(item_set_slot, 231, 66, 400),
			(item_set_slot, 231, 65, 12),
			(item_set_slot, 231, 73, 13),
			(item_set_slot, 231, 44, 30),
			(item_set_slot, 231, 45, 27),
			(item_set_slot, 231, 43, 102),
			(item_set_slot, 231, 42, 88),
			(item_set_slot, 231, 41, 2097152),
			(item_set_slot, 232, 66, 400),
			(item_set_slot, 232, 65, 12),
			(item_set_slot, 232, 73, 13),
			(item_set_slot, 232, 44, 30),
			(item_set_slot, 232, 45, 27),
			(item_set_slot, 232, 43, 110),
			(item_set_slot, 232, 42, 152),
			(item_set_slot, 232, 47, 1),
			(item_set_slot, 232, 41, 2097152),
			(item_set_slot, 233, 66, 400),
			(item_set_slot, 233, 65, 12),
			(item_set_slot, 233, 73, 13),
			(item_set_slot, 233, 44, 25),
			(item_set_slot, 233, 45, 30),
			(item_set_slot, 233, 43, 112),
			(item_set_slot, 233, 42, 178),
			(item_set_slot, 233, 41, 2097152),
			(item_set_slot, 234, 66, 200),
			(item_set_slot, 234, 65, 0),
			(item_set_slot, 234, 73, 13),
			(item_set_slot, 234, 44, 14),
			(item_set_slot, 234, 45, 0),
			(item_set_slot, 234, 43, 100),
			(item_set_slot, 234, 42, 154),
			(item_set_slot, 234, 47, 1),
			(item_set_slot, 234, 41, 0),
			(item_set_slot, 235, 66, 300),
			(item_set_slot, 235, 65, 0),
			(item_set_slot, 235, 73, 13),
			(item_set_slot, 235, 44, 20),
			(item_set_slot, 235, 45, 0),
			(item_set_slot, 235, 43, 100),
			(item_set_slot, 235, 42, 135),
			(item_set_slot, 235, 41, 0),
			(item_set_slot, 236, 66, 400),
			(item_set_slot, 236, 65, 0),
			(item_set_slot, 236, 73, 13),
			(item_set_slot, 236, 44, 22),
			(item_set_slot, 236, 45, 0),
			(item_set_slot, 236, 43, 100),
			(item_set_slot, 236, 42, 142),
			(item_set_slot, 236, 41, 0),
			(item_set_slot, 237, 66, 100),
			(item_set_slot, 237, 65, 0),
			(item_set_slot, 237, 73, 13),
			(item_set_slot, 237, 44, 19),
			(item_set_slot, 237, 45, 18),
			(item_set_slot, 237, 43, 100),
			(item_set_slot, 237, 42, 130),
			(item_set_slot, 237, 41, 0),
			(item_set_slot, 237, 10, 1),
			(item_set_slot, 238, 66, 200),
			(item_set_slot, 238, 65, 0),
			(item_set_slot, 238, 73, 13),
			(item_set_slot, 238, 44, 20),
			(item_set_slot, 238, 45, 20),
			(item_set_slot, 238, 43, 104),
			(item_set_slot, 238, 42, 140),
			(item_set_slot, 238, 41, 0),
			(item_set_slot, 238, 10, 1),
			(item_set_slot, 239, 66, 300),
			(item_set_slot, 239, 65, 0),
			(item_set_slot, 239, 73, 13),
			(item_set_slot, 239, 44, 23),
			(item_set_slot, 239, 45, 23),
			(item_set_slot, 239, 43, 97),
			(item_set_slot, 239, 42, 140),
			(item_set_slot, 239, 41, 0),
			(item_set_slot, 239, 10, 1),
			(item_set_slot, 240, 66, 600),
			(item_set_slot, 240, 65, 0),
			(item_set_slot, 240, 73, 13),
			(item_set_slot, 240, 44, 30),
			(item_set_slot, 240, 45, 44),
			(item_set_slot, 240, 43, 80),
			(item_set_slot, 240, 42, 170),
			(item_set_slot, 240, 41, 0),
			(item_set_slot, 240, 10, 1),
			(item_set_slot, 241, 66, 100),
			(item_set_slot, 241, 65, 0),
			(item_set_slot, 241, 73, 0),
			(item_set_slot, 241, 44, 0),
			(item_set_slot, 241, 45, 10),
			(item_set_slot, 241, 43, 99),
			(item_set_slot, 241, 42, 40),
			(item_set_slot, 241, 41, 0),
			(item_set_slot, 242, 66, 600),
			(item_set_slot, 242, 65, 13),
			(item_set_slot, 242, 73, 17),
			(item_set_slot, 242, 44, 0),
			(item_set_slot, 242, 45, 40),
			(item_set_slot, 242, 43, 85),
			(item_set_slot, 242, 42, 115),
			(item_set_slot, 242, 41, 2097152),
			(item_set_slot, 242, 10, 1),
			(item_set_slot, 243, 66, 600),
			(item_set_slot, 243, 65, 12),
			(item_set_slot, 243, 73, 17),
			(item_set_slot, 243, 44, 43),
			(item_set_slot, 243, 45, 40),
			(item_set_slot, 243, 43, 90),
			(item_set_slot, 243, 42, 104),
			(item_set_slot, 243, 41, 2097152),
			(item_set_slot, 244, 66, 600),
			(item_set_slot, 244, 65, 12),
			(item_set_slot, 244, 73, 17),
			(item_set_slot, 244, 44, 43),
			(item_set_slot, 244, 45, 40),
			(item_set_slot, 244, 43, 90),
			(item_set_slot, 244, 42, 122),
			(item_set_slot, 244, 41, 2097152),
			(item_set_slot, 244, 10, 1),
			(item_set_slot, 245, 66, 600),
			(item_set_slot, 245, 65, 12),
			(item_set_slot, 245, 73, 14),
			(item_set_slot, 245, 44, 45),
			(item_set_slot, 245, 45, 45),
			(item_set_slot, 245, 43, 110),
			(item_set_slot, 245, 42, 122),
			(item_set_slot, 245, 41, 0),
			(item_set_slot, 246, 66, 600),
			(item_set_slot, 246, 65, 13),
			(item_set_slot, 246, 73, 17),
			(item_set_slot, 246, 44, 0),
			(item_set_slot, 246, 45, 42),
			(item_set_slot, 246, 43, 85),
			(item_set_slot, 246, 42, 120),
			(item_set_slot, 246, 41, 2097152),
			(item_set_slot, 246, 10, 1),
			(item_set_slot, 247, 66, 600),
			(item_set_slot, 247, 65, 12),
			(item_set_slot, 247, 73, 17),
			(item_set_slot, 247, 44, 43),
			(item_set_slot, 247, 45, 40),
			(item_set_slot, 247, 43, 90),
			(item_set_slot, 247, 42, 122),
			(item_set_slot, 247, 41, 2097152),
			(item_set_slot, 247, 10, 1),
			(item_set_slot, 248, 66, 600),
			(item_set_slot, 248, 65, 12),
			(item_set_slot, 248, 73, 17),
			(item_set_slot, 248, 44, 43),
			(item_set_slot, 248, 45, 40),
			(item_set_slot, 248, 43, 90),
			(item_set_slot, 248, 42, 114),
			(item_set_slot, 248, 41, 2097152),
			(item_set_slot, 248, 10, 1),
			(item_set_slot, 249, 66, 700),
			(item_set_slot, 249, 65, 13),
			(item_set_slot, 249, 73, 0),
			(item_set_slot, 249, 44, 36),
			(item_set_slot, 249, 45, 45),
			(item_set_slot, 249, 43, 85),
			(item_set_slot, 249, 42, 143),
			(item_set_slot, 249, 41, 2097152),
			(item_set_slot, 249, 10, 1),
			(item_set_slot, 250, 66, 700),
			(item_set_slot, 250, 65, 12),
			(item_set_slot, 250, 73, 17),
			(item_set_slot, 250, 44, 34),
			(item_set_slot, 250, 45, 42),
			(item_set_slot, 250, 43, 80),
			(item_set_slot, 250, 42, 148),
			(item_set_slot, 250, 41, 2097152),
			(item_set_slot, 250, 10, 1),
			(item_set_slot, 251, 66, 700),
			(item_set_slot, 251, 65, 12),
			(item_set_slot, 251, 73, 17),
			(item_set_slot, 251, 44, 34),
			(item_set_slot, 251, 45, 42),
			(item_set_slot, 251, 43, 80),
			(item_set_slot, 251, 42, 148),
			(item_set_slot, 251, 41, 2097152),
			(item_set_slot, 251, 10, 1),
			(item_set_slot, 252, 66, 700),
			(item_set_slot, 252, 65, 12),
			(item_set_slot, 252, 73, 17),
			(item_set_slot, 252, 44, 34),
			(item_set_slot, 252, 45, 42),
			(item_set_slot, 252, 43, 80),
			(item_set_slot, 252, 42, 148),
			(item_set_slot, 252, 41, 2097152),
			(item_set_slot, 252, 10, 1),
			(item_set_slot, 253, 66, 300),
			(item_set_slot, 253, 65, 0),
			(item_set_slot, 253, 73, 42),
			(item_set_slot, 253, 44, 2),
			(item_set_slot, 253, 45, 0),
			(item_set_slot, 253, 43, 0),
			(item_set_slot, 253, 42, 91),
			(item_set_slot, 253, 41, 0),
			(item_set_slot, 254, 66, 300),
			(item_set_slot, 254, 65, 0),
			(item_set_slot, 254, 73, 42),
			(item_set_slot, 254, 44, 5),
			(item_set_slot, 254, 45, 0),
			(item_set_slot, 254, 43, 0),
			(item_set_slot, 254, 42, 91),
			(item_set_slot, 254, 41, 0),
			(item_set_slot, 255, 66, 300),
			(item_set_slot, 255, 65, 0),
			(item_set_slot, 255, 73, 42),
			(item_set_slot, 255, 44, 6),
			(item_set_slot, 255, 45, 0),
			(item_set_slot, 255, 43, 0),
			(item_set_slot, 255, 42, 91),
			(item_set_slot, 255, 41, 0),
			(item_set_slot, 256, 66, 300),
			(item_set_slot, 256, 65, 0),
			(item_set_slot, 256, 73, 42),
			(item_set_slot, 256, 44, 5),
			(item_set_slot, 256, 45, 0),
			(item_set_slot, 256, 43, 0),
			(item_set_slot, 256, 42, 91),
			(item_set_slot, 256, 41, 0),
			(item_set_slot, 257, 66, 300),
			(item_set_slot, 257, 65, 0),
			(item_set_slot, 257, 73, 42),
			(item_set_slot, 257, 44, 2),
			(item_set_slot, 257, 45, 0),
			(item_set_slot, 257, 43, 0),
			(item_set_slot, 257, 42, 91),
			(item_set_slot, 257, 41, 0),
			(item_set_slot, 258, 66, 300),
			(item_set_slot, 258, 65, 0),
			(item_set_slot, 258, 73, 42),
			(item_set_slot, 258, 44, 4),
			(item_set_slot, 258, 45, 0),
			(item_set_slot, 258, 43, 0),
			(item_set_slot, 258, 42, 91),
			(item_set_slot, 258, 41, 0),
			(item_set_slot, 259, 66, 300),
			(item_set_slot, 259, 65, 0),
			(item_set_slot, 259, 73, 42),
			(item_set_slot, 259, 44, 6),
			(item_set_slot, 259, 45, 0),
			(item_set_slot, 259, 43, 0),
			(item_set_slot, 259, 42, 91),
			(item_set_slot, 259, 41, 0),
			(item_set_slot, 260, 66, 225),
			(item_set_slot, 260, 65, 0),
			(item_set_slot, 260, 73, 42),
			(item_set_slot, 260, 44, 6),
			(item_set_slot, 260, 45, 0),
			(item_set_slot, 260, 43, 0),
			(item_set_slot, 260, 42, 63),
			(item_set_slot, 260, 41, 0),
			(item_set_slot, 261, 66, 225),
			(item_set_slot, 261, 65, 0),
			(item_set_slot, 261, 73, 42),
			(item_set_slot, 261, 44, 14),
			(item_set_slot, 261, 45, 0),
			(item_set_slot, 261, 43, 0),
			(item_set_slot, 261, 42, 63),
			(item_set_slot, 261, 41, 0),
			(item_set_slot, 262, 66, 225),
			(item_set_slot, 262, 65, 0),
			(item_set_slot, 262, 73, 42),
			(item_set_slot, 262, 44, 12),
			(item_set_slot, 262, 45, 0),
			(item_set_slot, 262, 43, 0),
			(item_set_slot, 262, 42, 63),
			(item_set_slot, 262, 41, 0),
			(item_set_slot, 263, 66, 225),
			(item_set_slot, 263, 65, 0),
			(item_set_slot, 263, 73, 42),
			(item_set_slot, 263, 44, 8),
			(item_set_slot, 263, 45, 0),
			(item_set_slot, 263, 43, 0),
			(item_set_slot, 263, 42, 63),
			(item_set_slot, 263, 41, 0),
			(item_set_slot, 264, 66, 225),
			(item_set_slot, 264, 65, 0),
			(item_set_slot, 264, 73, 42),
			(item_set_slot, 264, 44, 14),
			(item_set_slot, 264, 45, 0),
			(item_set_slot, 264, 43, 0),
			(item_set_slot, 264, 42, 63),
			(item_set_slot, 264, 41, 0),
			(item_set_slot, 265, 66, 225),
			(item_set_slot, 265, 65, 0),
			(item_set_slot, 265, 73, 42),
			(item_set_slot, 265, 44, 16),
			(item_set_slot, 265, 45, 0),
			(item_set_slot, 265, 43, 0),
			(item_set_slot, 265, 42, 63),
			(item_set_slot, 265, 41, 0),
			(item_set_slot, 266, 66, 100),
			(item_set_slot, 266, 65, 1),
			(item_set_slot, 266, 73, 17),
			(item_set_slot, 266, 44, 274),
			(item_set_slot, 266, 45, 0),
			(item_set_slot, 266, 43, 90),
			(item_set_slot, 266, 41, 2097152),
			(item_set_slot, 267, 66, 100),
			(item_set_slot, 267, 65, 1),
			(item_set_slot, 267, 73, 17),
			(item_set_slot, 267, 44, 277),
			(item_set_slot, 267, 45, 0),
			(item_set_slot, 267, 43, 95),
			(item_set_slot, 267, 41, 2097152),
			(item_set_slot, 268, 66, 100),
			(item_set_slot, 268, 65, 3),
			(item_set_slot, 268, 73, 17),
			(item_set_slot, 268, 44, 288),
			(item_set_slot, 268, 45, 0),
			(item_set_slot, 268, 43, 75),
			(item_set_slot, 268, 41, 2097152),
			(item_set_slot, 268, 10, 1),
			(item_set_slot, 269, 66, 100),
			(item_set_slot, 269, 65, 3),
			(item_set_slot, 269, 73, 17),
			(item_set_slot, 269, 44, 288),
			(item_set_slot, 269, 45, 0),
			(item_set_slot, 269, 43, 80),
			(item_set_slot, 269, 41, 2097152),
			(item_set_slot, 269, 10, 1),
			(item_set_slot, 270, 66, 100),
			(item_set_slot, 270, 65, 2),
			(item_set_slot, 270, 73, 17),
			(item_set_slot, 270, 44, 281),
			(item_set_slot, 270, 45, 0),
			(item_set_slot, 270, 43, 95),
			(item_set_slot, 270, 41, 2097152),
			(item_set_slot, 271, 66, 100),
			(item_set_slot, 271, 65, 2),
			(item_set_slot, 271, 73, 17),
			(item_set_slot, 271, 44, 281),
			(item_set_slot, 271, 45, 0),
			(item_set_slot, 271, 43, 95),
			(item_set_slot, 271, 41, 2097152),
			(item_set_slot, 272, 66, 100),
			(item_set_slot, 272, 65, 3),
			(item_set_slot, 272, 73, 17),
			(item_set_slot, 272, 44, 290),
			(item_set_slot, 272, 45, 0),
			(item_set_slot, 272, 43, 80),
			(item_set_slot, 272, 41, 2097152),
			(item_set_slot, 272, 10, 1),
			(item_set_slot, 273, 66, 225),
			(item_set_slot, 273, 65, 0),
			(item_set_slot, 273, 73, 17),
			(item_set_slot, 273, 44, 281),
			(item_set_slot, 273, 45, 0),
			(item_set_slot, 273, 43, 50),
			(item_set_slot, 273, 41, 2097152),
			(item_set_slot, 274, 66, 225),
			(item_set_slot, 274, 65, 0),
			(item_set_slot, 274, 73, 17),
			(item_set_slot, 274, 44, 286),
			(item_set_slot, 274, 45, 0),
			(item_set_slot, 274, 43, 50),
			(item_set_slot, 274, 41, 2097152),
			(item_set_slot, 275, 66, 225),
			(item_set_slot, 275, 65, 0),
			(item_set_slot, 275, 73, 17),
			(item_set_slot, 275, 44, 296),
			(item_set_slot, 275, 45, 0),
			(item_set_slot, 275, 43, 50),
			(item_set_slot, 275, 41, 2097152),
			(item_set_slot, 275, 10, 1),
			(item_set_slot, 276, 66, 225),
			(item_set_slot, 276, 65, 0),
			(item_set_slot, 276, 73, 17),
			(item_set_slot, 276, 44, 306),
			(item_set_slot, 276, 45, 0),
			(item_set_slot, 276, 43, 45),
			(item_set_slot, 276, 41, 2097152),
			(item_set_slot, 276, 10, 1),
			(item_set_slot, 277, 66, 225),
			(item_set_slot, 277, 65, 0),
			(item_set_slot, 277, 73, 17),
			(item_set_slot, 277, 44, 314),
			(item_set_slot, 277, 45, 0),
			(item_set_slot, 277, 43, 45),
			(item_set_slot, 277, 41, 2097152),
			(item_set_slot, 277, 10, 1),
			(item_set_slot, 278, 66, 400),
			(item_set_slot, 278, 65, 0),
			(item_set_slot, 278, 73, 42),
			(item_set_slot, 278, 44, 14),
			(item_set_slot, 278, 45, 0),
			(item_set_slot, 278, 43, 97),
			(item_set_slot, 278, 42, 8),
			(item_set_slot, 278, 41, 0),
			(item_set_slot, 279, 66, 500),
			(item_set_slot, 279, 65, 4),
			(item_set_slot, 279, 73, 42),
			(item_set_slot, 279, 44, 47),
			(item_set_slot, 279, 45, 0),
			(item_set_slot, 279, 43, 91),
			(item_set_slot, 279, 42, 75),
			(item_set_slot, 279, 41, 0),
			(item_set_slot, 280, 66, 300),
			(item_set_slot, 280, 65, 0),
			(item_set_slot, 280, 73, 13),
			(item_set_slot, 280, 44, 22),
			(item_set_slot, 280, 45, 18),
			(item_set_slot, 280, 43, 100),
			(item_set_slot, 280, 42, 75),
			(item_set_slot, 280, 41, 0),
			(item_set_slot, 281, 66, 400),
			(item_set_slot, 281, 65, 2),
			(item_set_slot, 281, 73, 42),
			(item_set_slot, 281, 44, 45),
			(item_set_slot, 281, 45, 0),
			(item_set_slot, 281, 43, 87),
			(item_set_slot, 281, 42, 65),
			(item_set_slot, 281, 41, 0),
			(item_set_slot, 282, 66, 300),
			(item_set_slot, 282, 65, 1),
			(item_set_slot, 282, 73, 42),
			(item_set_slot, 282, 44, 22),
			(item_set_slot, 282, 45, 18),
			(item_set_slot, 282, 43, 100),
			(item_set_slot, 282, 42, 75),
			(item_set_slot, 282, 41, 0),
			(item_set_slot, 283, 66, 400),
			(item_set_slot, 283, 65, 2),
			(item_set_slot, 283, 73, 42),
			(item_set_slot, 283, 44, 42),
			(item_set_slot, 283, 45, 0),
			(item_set_slot, 283, 43, 89),
			(item_set_slot, 283, 42, 65),
			(item_set_slot, 283, 41, 0),
			(item_set_slot, 284, 66, 300),
			(item_set_slot, 284, 65, 2),
			(item_set_slot, 284, 73, 42),
			(item_set_slot, 284, 44, 22),
			(item_set_slot, 284, 45, 18),
			(item_set_slot, 284, 43, 100),
			(item_set_slot, 284, 42, 65),
			(item_set_slot, 284, 41, 0),
			(item_set_slot, 285, 66, 2500),
			(item_set_slot, 285, 65, 14),
			(item_set_slot, 285, 67, 2),
			(item_set_slot, 285, 73, 29),
			(item_set_slot, 285, 41, 0),
			(item_set_slot, 285, 44, 54),
			(item_set_slot, 285, 45, 8),
			(item_set_slot, 285, 41, 0),
			(item_set_slot, 286, 66, 800),
			(item_set_slot, 286, 65, 0),
			(item_set_slot, 286, 67, 0),
			(item_set_slot, 286, 73, 26),
			(item_set_slot, 286, 41, 0),
			(item_set_slot, 286, 44, 20),
			(item_set_slot, 286, 45, 5),
			(item_set_slot, 286, 41, 0),
			(item_set_slot, 287, 66, 2000),
			(item_set_slot, 287, 65, 12),
			(item_set_slot, 287, 67, 2),
			(item_set_slot, 287, 73, 29),
			(item_set_slot, 287, 41, 0),
			(item_set_slot, 287, 44, 42),
			(item_set_slot, 287, 45, 11),
			(item_set_slot, 287, 41, 0),
			(item_set_slot, 288, 66, 2000),
			(item_set_slot, 288, 65, 12),
			(item_set_slot, 288, 67, 1),
			(item_set_slot, 288, 73, 29),
			(item_set_slot, 288, 41, 0),
			(item_set_slot, 288, 44, 40),
			(item_set_slot, 288, 45, 7),
			(item_set_slot, 288, 41, 0),
			(item_set_slot, 289, 66, 800),
			(item_set_slot, 289, 65, 0),
			(item_set_slot, 289, 67, 0),
			(item_set_slot, 289, 73, 26),
			(item_set_slot, 289, 41, 0),
			(item_set_slot, 289, 44, 15),
			(item_set_slot, 289, 45, 6),
			(item_set_slot, 289, 41, 0),
			(item_set_slot, 290, 66, 1600),
			(item_set_slot, 290, 65, 10),
			(item_set_slot, 290, 67, 1),
			(item_set_slot, 290, 73, 29),
			(item_set_slot, 290, 41, 0),
			(item_set_slot, 290, 44, 25),
			(item_set_slot, 290, 45, 5),
			(item_set_slot, 290, 41, 0),
			(item_set_slot, 291, 66, 2500),
			(item_set_slot, 291, 65, 12),
			(item_set_slot, 291, 67, 2),
			(item_set_slot, 291, 73, 29),
			(item_set_slot, 291, 41, 0),
			(item_set_slot, 291, 44, 54),
			(item_set_slot, 291, 45, 10),
			(item_set_slot, 291, 41, 0),
			(item_set_slot, 292, 66, 300),
			(item_set_slot, 292, 65, 0),
			(item_set_slot, 292, 67, 0),
			(item_set_slot, 292, 73, 26),
			(item_set_slot, 292, 41, 0),
			(item_set_slot, 292, 44, 3),
			(item_set_slot, 292, 45, 1),
			(item_set_slot, 292, 41, 0),
			(item_set_slot, 293, 66, 300),
			(item_set_slot, 293, 65, 0),
			(item_set_slot, 293, 67, 0),
			(item_set_slot, 293, 73, 26),
			(item_set_slot, 293, 41, 0),
			(item_set_slot, 293, 44, 10),
			(item_set_slot, 293, 45, 2),
			(item_set_slot, 293, 41, 0),
			(item_set_slot, 294, 66, 300),
			(item_set_slot, 294, 65, 0),
			(item_set_slot, 294, 67, 0),
			(item_set_slot, 294, 73, 26),
			(item_set_slot, 294, 41, 0),
			(item_set_slot, 294, 44, 3),
			(item_set_slot, 294, 45, 1),
			(item_set_slot, 294, 41, 0),
			(item_set_slot, 295, 66, 200),
			(item_set_slot, 295, 65, 0),
			(item_set_slot, 295, 67, 0),
			(item_set_slot, 295, 73, 26),
			(item_set_slot, 295, 41, 0),
			(item_set_slot, 295, 44, 10),
			(item_set_slot, 295, 45, 10),
			(item_set_slot, 295, 41, 0),
			(item_set_slot, 296, 66, 300),
			(item_set_slot, 296, 65, 0),
			(item_set_slot, 296, 67, 0),
			(item_set_slot, 296, 73, 26),
			(item_set_slot, 296, 41, 0),
			(item_set_slot, 296, 44, 10),
			(item_set_slot, 296, 45, 10),
			(item_set_slot, 296, 41, 0),
			(item_set_slot, 297, 66, 100),
			(item_set_slot, 297, 65, 0),
			(item_set_slot, 297, 67, 0),
			(item_set_slot, 297, 73, 26),
			(item_set_slot, 297, 41, 0),
			(item_set_slot, 297, 44, 0),
			(item_set_slot, 297, 45, 8),
			(item_set_slot, 297, 41, 0),
			(item_set_slot, 298, 66, 300),
			(item_set_slot, 298, 65, 0),
			(item_set_slot, 298, 67, 0),
			(item_set_slot, 298, 73, 26),
			(item_set_slot, 298, 41, 0),
			(item_set_slot, 298, 44, 0),
			(item_set_slot, 298, 45, 20),
			(item_set_slot, 298, 41, 0),
			(item_set_slot, 299, 66, 300),
			(item_set_slot, 299, 65, 12),
			(item_set_slot, 299, 67, 1),
			(item_set_slot, 299, 73, 29),
			(item_set_slot, 299, 41, 0),
			(item_set_slot, 299, 44, 0),
			(item_set_slot, 299, 45, 20),
			(item_set_slot, 299, 41, 0),
			(item_set_slot, 300, 66, 100),
			(item_set_slot, 300, 65, 0),
			(item_set_slot, 300, 67, 0),
			(item_set_slot, 300, 73, 26),
			(item_set_slot, 300, 41, 0),
			(item_set_slot, 300, 44, 0),
			(item_set_slot, 300, 45, 5),
			(item_set_slot, 300, 41, 0),
			(item_set_slot, 301, 66, 100),
			(item_set_slot, 301, 65, 0),
			(item_set_slot, 301, 67, 0),
			(item_set_slot, 301, 73, 26),
			(item_set_slot, 301, 41, 0),
			(item_set_slot, 301, 44, 0),
			(item_set_slot, 301, 45, 14),
			(item_set_slot, 301, 41, 0),
			(item_set_slot, 302, 66, 100),
			(item_set_slot, 302, 65, 0),
			(item_set_slot, 302, 67, 0),
			(item_set_slot, 302, 73, 26),
			(item_set_slot, 302, 41, 0),
			(item_set_slot, 302, 44, 0),
			(item_set_slot, 302, 45, 20),
			(item_set_slot, 302, 41, 0),
			(item_set_slot, 303, 66, 300),
			(item_set_slot, 303, 65, 0),
			(item_set_slot, 303, 67, 1),
			(item_set_slot, 303, 73, 29),
			(item_set_slot, 303, 41, 0),
			(item_set_slot, 303, 44, 0),
			(item_set_slot, 303, 45, 26),
			(item_set_slot, 303, 41, 0),
			(item_set_slot, 304, 66, 300),
			(item_set_slot, 304, 65, 0),
			(item_set_slot, 304, 67, 0),
			(item_set_slot, 304, 73, 26),
			(item_set_slot, 304, 41, 0),
			(item_set_slot, 304, 44, 0),
			(item_set_slot, 304, 45, 14),
			(item_set_slot, 304, 41, 0),
			(item_set_slot, 305, 66, 300),
			(item_set_slot, 305, 65, 0),
			(item_set_slot, 305, 67, 0),
			(item_set_slot, 305, 73, 26),
			(item_set_slot, 305, 41, 0),
			(item_set_slot, 305, 44, 0),
			(item_set_slot, 305, 45, 14),
			(item_set_slot, 305, 41, 0),
			(item_set_slot, 306, 66, 100),
			(item_set_slot, 306, 65, 0),
			(item_set_slot, 306, 73, 0),
			(item_set_slot, 306, 41, 0),
			(item_set_slot, 306, 44, 0),
			(item_set_slot, 306, 45, 20),
			(item_set_slot, 306, 41, 0),
			(item_set_slot, 307, 66, 100),
			(item_set_slot, 307, 65, 0),
			(item_set_slot, 307, 67, 0),
			(item_set_slot, 307, 73, 26),
			(item_set_slot, 307, 41, 0),
			(item_set_slot, 307, 44, 0),
			(item_set_slot, 307, 45, 14),
			(item_set_slot, 307, 41, 0),
			(item_set_slot, 308, 66, 125),
			(item_set_slot, 308, 65, 0),
			(item_set_slot, 308, 67, 0),
			(item_set_slot, 308, 73, 26),
			(item_set_slot, 308, 41, 0),
			(item_set_slot, 308, 44, 0),
			(item_set_slot, 308, 45, 10),
			(item_set_slot, 308, 41, 0),
			(item_set_slot, 309, 66, 300),
			(item_set_slot, 309, 65, 0),
			(item_set_slot, 309, 67, 0),
			(item_set_slot, 309, 73, 26),
			(item_set_slot, 309, 41, 0),
			(item_set_slot, 309, 44, 0),
			(item_set_slot, 309, 45, 32),
			(item_set_slot, 309, 41, 0),
			(item_set_slot, 310, 66, 300),
			(item_set_slot, 310, 65, 0),
			(item_set_slot, 310, 67, 1),
			(item_set_slot, 310, 73, 29),
			(item_set_slot, 310, 41, 0),
			(item_set_slot, 310, 44, 0),
			(item_set_slot, 310, 45, 32),
			(item_set_slot, 310, 41, 0),
			(item_set_slot, 311, 66, 100),
			(item_set_slot, 311, 65, 0),
			(item_set_slot, 311, 67, 0),
			(item_set_slot, 311, 73, 26),
			(item_set_slot, 311, 41, 0),
			(item_set_slot, 311, 44, 0),
			(item_set_slot, 311, 45, 5),
			(item_set_slot, 311, 41, 0),
			(item_set_slot, 312, 66, 300),
			(item_set_slot, 312, 65, 0),
			(item_set_slot, 312, 67, 1),
			(item_set_slot, 312, 73, 29),
			(item_set_slot, 312, 41, 0),
			(item_set_slot, 312, 44, 0),
			(item_set_slot, 312, 45, 5),
			(item_set_slot, 312, 41, 0),
			(item_set_slot, 313, 66, 300),
			(item_set_slot, 313, 65, 0),
			(item_set_slot, 313, 67, 1),
			(item_set_slot, 313, 73, 29),
			(item_set_slot, 313, 41, 0),
			(item_set_slot, 313, 44, 0),
			(item_set_slot, 313, 45, 5),
			(item_set_slot, 313, 41, 0),
			(item_set_slot, 314, 66, 300),
			(item_set_slot, 314, 65, 0),
			(item_set_slot, 314, 67, 0),
			(item_set_slot, 314, 73, 26),
			(item_set_slot, 314, 41, 0),
			(item_set_slot, 314, 44, 0),
			(item_set_slot, 314, 45, 5),
			(item_set_slot, 314, 41, 0),
			(item_set_slot, 315, 66, 100),
			(item_set_slot, 315, 65, 0),
			(item_set_slot, 315, 67, 0),
			(item_set_slot, 315, 73, 26),
			(item_set_slot, 315, 41, 0),
			(item_set_slot, 315, 44, 0),
			(item_set_slot, 315, 45, 14),
			(item_set_slot, 315, 41, 0),
			(item_set_slot, 316, 66, 100),
			(item_set_slot, 316, 65, 0),
			(item_set_slot, 316, 67, 0),
			(item_set_slot, 316, 73, 26),
			(item_set_slot, 316, 41, 0),
			(item_set_slot, 316, 44, 0),
			(item_set_slot, 316, 45, 14),
			(item_set_slot, 316, 41, 0),
			(item_set_slot, 317, 66, 300),
			(item_set_slot, 317, 65, 0),
			(item_set_slot, 317, 67, 1),
			(item_set_slot, 317, 73, 29),
			(item_set_slot, 317, 41, 0),
			(item_set_slot, 317, 44, 0),
			(item_set_slot, 317, 45, 26),
			(item_set_slot, 317, 41, 0),
			(item_set_slot, 318, 66, 300),
			(item_set_slot, 318, 65, 12),
			(item_set_slot, 318, 67, 1),
			(item_set_slot, 318, 73, 29),
			(item_set_slot, 318, 41, 0),
			(item_set_slot, 318, 44, 0),
			(item_set_slot, 318, 45, 40),
			(item_set_slot, 318, 41, 0),
			(item_set_slot, 319, 66, 200),
			(item_set_slot, 319, 65, 12),
			(item_set_slot, 319, 67, 1),
			(item_set_slot, 319, 73, 29),
			(item_set_slot, 319, 41, 0),
			(item_set_slot, 319, 44, 12),
			(item_set_slot, 319, 45, 0),
			(item_set_slot, 319, 41, 0),
			(item_set_slot, 320, 66, 200),
			(item_set_slot, 320, 65, 12),
			(item_set_slot, 320, 67, 1),
			(item_set_slot, 320, 73, 29),
			(item_set_slot, 320, 41, 0),
			(item_set_slot, 320, 44, 12),
			(item_set_slot, 320, 45, 0),
			(item_set_slot, 320, 41, 0),
			(item_set_slot, 321, 66, 200),
			(item_set_slot, 321, 65, 0),
			(item_set_slot, 321, 67, 1),
			(item_set_slot, 321, 73, 29),
			(item_set_slot, 321, 41, 0),
			(item_set_slot, 321, 44, 10),
			(item_set_slot, 321, 45, 0),
			(item_set_slot, 321, 41, 0),
			(item_set_slot, 322, 66, 200),
			(item_set_slot, 322, 65, 12),
			(item_set_slot, 322, 67, 1),
			(item_set_slot, 322, 73, 29),
			(item_set_slot, 322, 41, 0),
			(item_set_slot, 322, 44, 12),
			(item_set_slot, 322, 45, 0),
			(item_set_slot, 322, 41, 0),
			(item_set_slot, 323, 66, 100),
			(item_set_slot, 323, 65, 0),
			(item_set_slot, 323, 67, 1),
			(item_set_slot, 323, 73, 29),
			(item_set_slot, 323, 41, 0),
			(item_set_slot, 323, 44, 10),
			(item_set_slot, 323, 45, 0),
			(item_set_slot, 323, 41, 0),
			(item_set_slot, 324, 66, 100),
			(item_set_slot, 324, 65, 0),
			(item_set_slot, 324, 67, 1),
			(item_set_slot, 324, 73, 29),
			(item_set_slot, 324, 41, 0),
			(item_set_slot, 324, 44, 10),
			(item_set_slot, 324, 45, 0),
			(item_set_slot, 324, 41, 0),
			(item_set_slot, 325, 66, 100),
			(item_set_slot, 325, 65, 0),
			(item_set_slot, 325, 67, 0),
			(item_set_slot, 325, 73, 26),
			(item_set_slot, 325, 41, 0),
			(item_set_slot, 325, 44, 5),
			(item_set_slot, 325, 45, 0),
			(item_set_slot, 325, 41, 0),
			(item_set_slot, 326, 66, 200),
			(item_set_slot, 326, 65, 12),
			(item_set_slot, 326, 67, 1),
			(item_set_slot, 326, 73, 29),
			(item_set_slot, 326, 41, 0),
			(item_set_slot, 326, 44, 12),
			(item_set_slot, 326, 45, 0),
			(item_set_slot, 326, 41, 0),
			(item_set_slot, 327, 66, 200),
			(item_set_slot, 327, 65, 12),
			(item_set_slot, 327, 67, 1),
			(item_set_slot, 327, 73, 29),
			(item_set_slot, 327, 41, 0),
			(item_set_slot, 327, 44, 12),
			(item_set_slot, 327, 45, 0),
			(item_set_slot, 327, 41, 0),
			(item_set_slot, 328, 66, 200),
			(item_set_slot, 328, 65, 12),
			(item_set_slot, 328, 67, 1),
			(item_set_slot, 328, 73, 29),
			(item_set_slot, 328, 41, 0),
			(item_set_slot, 328, 44, 12),
			(item_set_slot, 328, 45, 0),
			(item_set_slot, 328, 41, 0),
			(item_set_slot, 329, 66, 100),
			(item_set_slot, 329, 65, 0),
			(item_set_slot, 329, 67, 0),
			(item_set_slot, 329, 73, 26),
			(item_set_slot, 329, 41, 2),
			(item_set_slot, 329, 44, 0),
			(item_set_slot, 329, 45, 0),
			(item_set_slot, 329, 41, 0),
			(item_set_slot, 330, 66, 100),
			(item_set_slot, 330, 65, 0),
			(item_set_slot, 330, 67, 0),
			(item_set_slot, 330, 73, 26),
			(item_set_slot, 330, 41, 3),
			(item_set_slot, 330, 44, 0),
			(item_set_slot, 330, 45, 0),
			(item_set_slot, 330, 41, 0),
			(item_set_slot, 331, 66, 100),
			(item_set_slot, 331, 65, 0),
			(item_set_slot, 331, 67, 0),
			(item_set_slot, 331, 73, 26),
			(item_set_slot, 331, 41, 3),
			(item_set_slot, 331, 44, 0),
			(item_set_slot, 331, 45, 0),
			(item_set_slot, 331, 41, 0),
			(item_set_slot, 332, 66, 100),
			(item_set_slot, 332, 65, 0),
			(item_set_slot, 332, 67, 0),
			(item_set_slot, 332, 73, 26),
			(item_set_slot, 332, 41, 4),
			(item_set_slot, 332, 44, 0),
			(item_set_slot, 332, 45, 0),
			(item_set_slot, 332, 41, 0),
			(item_set_slot, 333, 66, 100),
			(item_set_slot, 333, 65, 0),
			(item_set_slot, 333, 67, 0),
			(item_set_slot, 333, 73, 26),
			(item_set_slot, 333, 41, 3),
			(item_set_slot, 333, 44, 0),
			(item_set_slot, 333, 45, 0),
			(item_set_slot, 333, 41, 0),
			(item_set_slot, 334, 66, 100),
			(item_set_slot, 334, 65, 0),
			(item_set_slot, 334, 67, 0),
			(item_set_slot, 334, 73, 26),
			(item_set_slot, 334, 41, 4),
			(item_set_slot, 334, 44, 0),
			(item_set_slot, 334, 45, 0),
			(item_set_slot, 334, 41, 0),
			(item_set_slot, 335, 66, 100),
			(item_set_slot, 335, 65, 0),
			(item_set_slot, 335, 67, 0),
			(item_set_slot, 335, 73, 26),
			(item_set_slot, 335, 41, 5),
			(item_set_slot, 335, 44, 0),
			(item_set_slot, 335, 45, 0),
			(item_set_slot, 335, 41, 0),
			(item_set_slot, 336, 66, 100),
			(item_set_slot, 336, 65, 0),
			(item_set_slot, 336, 67, 0),
			(item_set_slot, 336, 73, 26),
			(item_set_slot, 336, 41, 2),
			(item_set_slot, 336, 44, 0),
			(item_set_slot, 336, 45, 0),
			(item_set_slot, 336, 41, 0),
			(item_set_slot, 337, 66, 400),
			(item_set_slot, 337, 65, 0),
			(item_set_slot, 337, 73, 0),
			(item_set_slot, 337, 41, 20),
			(item_set_slot, 337, 44, 0),
			(item_set_slot, 337, 45, 0),
			(item_set_slot, 337, 41, 0),
			(item_set_slot, 338, 66, 100),
			(item_set_slot, 338, 65, 0),
			(item_set_slot, 338, 67, 0),
			(item_set_slot, 338, 73, 26),
			(item_set_slot, 338, 41, 8),
			(item_set_slot, 338, 44, 0),
			(item_set_slot, 338, 45, 0),
			(item_set_slot, 338, 41, 0),
			(item_set_slot, 339, 66, 300),
			(item_set_slot, 339, 65, 0),
			(item_set_slot, 339, 73, 0),
			(item_set_slot, 339, 41, 15),
			(item_set_slot, 339, 44, 0),
			(item_set_slot, 339, 45, 0),
			(item_set_slot, 339, 41, 0),
			(item_set_slot, 340, 66, 100),
			(item_set_slot, 340, 65, 0),
			(item_set_slot, 340, 73, 0),
			(item_set_slot, 340, 41, 1),
			(item_set_slot, 340, 44, 0),
			(item_set_slot, 340, 45, 0),
			(item_set_slot, 340, 41, 0),
			(item_set_slot, 341, 66, 100),
			(item_set_slot, 341, 65, 0),
			(item_set_slot, 341, 67, 0),
			(item_set_slot, 341, 73, 26),
			(item_set_slot, 341, 41, 5),
			(item_set_slot, 341, 44, 0),
			(item_set_slot, 341, 45, 0),
			(item_set_slot, 341, 41, 0),
			(item_set_slot, 342, 66, 600),
			(item_set_slot, 342, 65, 14),
			(item_set_slot, 342, 67, 2),
			(item_set_slot, 342, 73, 29),
			(item_set_slot, 342, 41, 45),
			(item_set_slot, 342, 44, 0),
			(item_set_slot, 342, 45, 0),
			(item_set_slot, 342, 41, 0),
			(item_set_slot, 343, 66, 600),
			(item_set_slot, 343, 65, 0),
			(item_set_slot, 343, 67, 0),
			(item_set_slot, 343, 73, 26),
			(item_set_slot, 343, 41, 20),
			(item_set_slot, 343, 44, 0),
			(item_set_slot, 343, 45, 0),
			(item_set_slot, 343, 41, 0),
			(item_set_slot, 344, 66, 100),
			(item_set_slot, 344, 65, 0),
			(item_set_slot, 344, 67, 0),
			(item_set_slot, 344, 73, 26),
			(item_set_slot, 344, 41, 8),
			(item_set_slot, 344, 44, 0),
			(item_set_slot, 344, 45, 0),
			(item_set_slot, 344, 41, 0),
			(item_set_slot, 345, 66, 100),
			(item_set_slot, 345, 65, 0),
			(item_set_slot, 345, 67, 0),
			(item_set_slot, 345, 73, 26),
			(item_set_slot, 345, 41, 18),
			(item_set_slot, 345, 44, 0),
			(item_set_slot, 345, 45, 0),
			(item_set_slot, 345, 41, 0),
			(item_set_slot, 346, 66, 600),
			(item_set_slot, 346, 65, 13),
			(item_set_slot, 346, 67, 2),
			(item_set_slot, 346, 73, 29),
			(item_set_slot, 346, 41, 45),
			(item_set_slot, 346, 44, 0),
			(item_set_slot, 346, 45, 0),
			(item_set_slot, 346, 41, 0),
			(item_set_slot, 347, 66, 600),
			(item_set_slot, 347, 65, 14),
			(item_set_slot, 347, 67, 2),
			(item_set_slot, 347, 73, 29),
			(item_set_slot, 347, 41, 45),
			(item_set_slot, 347, 44, 0),
			(item_set_slot, 347, 45, 0),
			(item_set_slot, 347, 41, 0),
			(item_set_slot, 348, 66, 400),
			(item_set_slot, 348, 65, 12),
			(item_set_slot, 348, 67, 1),
			(item_set_slot, 348, 73, 29),
			(item_set_slot, 348, 41, 30),
			(item_set_slot, 348, 44, 0),
			(item_set_slot, 348, 45, 0),
			(item_set_slot, 348, 41, 0),
			(item_set_slot, 349, 66, 400),
			(item_set_slot, 349, 65, 12),
			(item_set_slot, 349, 67, 1),
			(item_set_slot, 349, 73, 29),
			(item_set_slot, 349, 41, 33),
			(item_set_slot, 349, 44, 0),
			(item_set_slot, 349, 45, 0),
			(item_set_slot, 349, 41, 0),
			(item_set_slot, 350, 66, 400),
			(item_set_slot, 350, 65, 12),
			(item_set_slot, 350, 67, 1),
			(item_set_slot, 350, 73, 29),
			(item_set_slot, 350, 41, 37),
			(item_set_slot, 350, 44, 0),
			(item_set_slot, 350, 45, 0),
			(item_set_slot, 350, 41, 0),
			(item_set_slot, 351, 66, 100),
			(item_set_slot, 351, 65, 0),
			(item_set_slot, 351, 67, 0),
			(item_set_slot, 351, 73, 26),
			(item_set_slot, 351, 41, 9),
			(item_set_slot, 351, 44, 0),
			(item_set_slot, 351, 45, 0),
			(item_set_slot, 351, 41, 0),
			(item_set_slot, 352, 66, 400),
			(item_set_slot, 352, 65, 12),
			(item_set_slot, 352, 67, 1),
			(item_set_slot, 352, 73, 29),
			(item_set_slot, 352, 41, 35),
			(item_set_slot, 352, 44, 0),
			(item_set_slot, 352, 45, 0),
			(item_set_slot, 352, 41, 0),
			(item_set_slot, 353, 66, 600),
			(item_set_slot, 353, 65, 14),
			(item_set_slot, 353, 67, 2),
			(item_set_slot, 353, 73, 29),
			(item_set_slot, 353, 41, 45),
			(item_set_slot, 353, 44, 0),
			(item_set_slot, 353, 45, 0),
			(item_set_slot, 353, 41, 0),
			(item_set_slot, 354, 66, 400),
			(item_set_slot, 354, 65, 13),
			(item_set_slot, 354, 67, 2),
			(item_set_slot, 354, 73, 29),
			(item_set_slot, 354, 41, 45),
			(item_set_slot, 354, 44, 0),
			(item_set_slot, 354, 45, 0),
			(item_set_slot, 354, 46, 1),
			(item_set_slot, 354, 41, 0),
			(item_set_slot, 355, 66, 600),
			(item_set_slot, 355, 65, 14),
			(item_set_slot, 355, 67, 2),
			(item_set_slot, 355, 73, 29),
			(item_set_slot, 355, 41, 45),
			(item_set_slot, 355, 44, 0),
			(item_set_slot, 355, 45, 0),
			(item_set_slot, 355, 46, 1),
			(item_set_slot, 355, 41, 0),
			(item_set_slot, 356, 66, 500),
			(item_set_slot, 356, 65, 0),
			(item_set_slot, 356, 73, 27),
			(item_set_slot, 356, 42, 30),
			(item_set_slot, 356, 44, 5),
			(item_set_slot, 356, 43, 100),
			(item_set_slot, 356, 41, 0),
			(item_set_slot, 357, 66, 250),
			(item_set_slot, 357, 65, 0),
			(item_set_slot, 357, 73, 27),
			(item_set_slot, 357, 42, 36),
			(item_set_slot, 357, 44, 10),
			(item_set_slot, 357, 43, 93),
			(item_set_slot, 357, 41, 0),
			(item_set_slot, 358, 66, 200),
			(item_set_slot, 358, 65, 0),
			(item_set_slot, 358, 73, 27),
			(item_set_slot, 358, 42, 30),
			(item_set_slot, 358, 44, 5),
			(item_set_slot, 358, 43, 103),
			(item_set_slot, 358, 41, 0),
			(item_set_slot, 359, 66, 200),
			(item_set_slot, 359, 65, 0),
			(item_set_slot, 359, 73, 27),
			(item_set_slot, 359, 42, 30),
			(item_set_slot, 359, 44, 10),
			(item_set_slot, 359, 43, 103),
			(item_set_slot, 359, 41, 0),
			(item_set_slot, 360, 66, 200),
			(item_set_slot, 360, 65, 0),
			(item_set_slot, 360, 73, 27),
			(item_set_slot, 360, 42, 36),
			(item_set_slot, 360, 44, 2),
			(item_set_slot, 360, 43, 96),
			(item_set_slot, 360, 41, 0),
			(item_set_slot, 361, 66, 250),
			(item_set_slot, 361, 65, 0),
			(item_set_slot, 361, 73, 27),
			(item_set_slot, 361, 42, 36),
			(item_set_slot, 361, 44, 5),
			(item_set_slot, 361, 43, 93),
			(item_set_slot, 361, 41, 0),
			(item_set_slot, 362, 66, 300),
			(item_set_slot, 362, 65, 0),
			(item_set_slot, 362, 73, 27),
			(item_set_slot, 362, 42, 36),
			(item_set_slot, 362, 44, 10),
			(item_set_slot, 362, 43, 90),
			(item_set_slot, 362, 41, 0),
			(item_set_slot, 363, 66, 400),
			(item_set_slot, 363, 65, 0),
			(item_set_slot, 363, 73, 27),
			(item_set_slot, 363, 42, 50),
			(item_set_slot, 363, 44, 2),
			(item_set_slot, 363, 43, 93),
			(item_set_slot, 363, 41, 0),
			(item_set_slot, 364, 66, 400),
			(item_set_slot, 364, 65, 0),
			(item_set_slot, 364, 73, 27),
			(item_set_slot, 364, 42, 50),
			(item_set_slot, 364, 44, 5),
			(item_set_slot, 364, 43, 90),
			(item_set_slot, 364, 41, 0),
			(item_set_slot, 365, 66, 400),
			(item_set_slot, 365, 65, 0),
			(item_set_slot, 365, 73, 27),
			(item_set_slot, 365, 42, 50),
			(item_set_slot, 365, 44, 10),
			(item_set_slot, 365, 43, 87),
			(item_set_slot, 365, 41, 0),
			(item_set_slot, 366, 66, 400),
			(item_set_slot, 366, 65, 0),
			(item_set_slot, 366, 73, 27),
			(item_set_slot, 366, 42, 50),
			(item_set_slot, 366, 44, 15),
			(item_set_slot, 366, 43, 84),
			(item_set_slot, 366, 41, 0),
			(item_set_slot, 367, 66, 300),
			(item_set_slot, 367, 65, 0),
			(item_set_slot, 367, 73, 27),
			(item_set_slot, 367, 42, 40),
			(item_set_slot, 367, 44, 2),
			(item_set_slot, 367, 43, 105),
			(item_set_slot, 367, 41, 0),
			(item_set_slot, 368, 66, 300),
			(item_set_slot, 368, 65, 0),
			(item_set_slot, 368, 73, 27),
			(item_set_slot, 368, 42, 40),
			(item_set_slot, 368, 44, 5),
			(item_set_slot, 368, 43, 103),
			(item_set_slot, 368, 41, 0),
			(item_set_slot, 369, 66, 300),
			(item_set_slot, 369, 65, 0),
			(item_set_slot, 369, 73, 27),
			(item_set_slot, 369, 42, 40),
			(item_set_slot, 369, 44, 10),
			(item_set_slot, 369, 43, 100),
			(item_set_slot, 369, 41, 0),
			(item_set_slot, 370, 66, 400),
			(item_set_slot, 370, 65, 0),
			(item_set_slot, 370, 73, 27),
			(item_set_slot, 370, 42, 50),
			(item_set_slot, 370, 44, 15),
			(item_set_slot, 370, 43, 81),
			(item_set_slot, 370, 41, 0),
			(item_set_slot, 371, 66, 700),
			(item_set_slot, 371, 65, 0),
			(item_set_slot, 371, 73, 27),
			(item_set_slot, 371, 42, 43),
			(item_set_slot, 371, 44, 15),
			(item_set_slot, 371, 43, 85),
			(item_set_slot, 371, 41, 0),
			(item_set_slot, 371, 10, 1),
			(item_set_slot, 372, 66, 700),
			(item_set_slot, 372, 65, 0),
			(item_set_slot, 372, 73, 27),
			(item_set_slot, 372, 42, 43),
			(item_set_slot, 372, 44, 15),
			(item_set_slot, 372, 43, 78),
			(item_set_slot, 372, 41, 0),
			(item_set_slot, 372, 10, 1),
			(item_set_slot, 373, 66, 400),
			(item_set_slot, 373, 65, 0),
			(item_set_slot, 373, 73, 27),
			(item_set_slot, 373, 42, 40),
			(item_set_slot, 373, 44, 5),
			(item_set_slot, 373, 43, 87),
			(item_set_slot, 373, 41, 0),
			(item_set_slot, 374, 66, 400),
			(item_set_slot, 374, 65, 0),
			(item_set_slot, 374, 73, 27),
			(item_set_slot, 374, 42, 50),
			(item_set_slot, 374, 44, 5),
			(item_set_slot, 374, 43, 84),
			(item_set_slot, 374, 41, 0),
			(item_set_slot, 375, 66, 400),
			(item_set_slot, 375, 65, 0),
			(item_set_slot, 375, 73, 27),
			(item_set_slot, 375, 42, 60),
			(item_set_slot, 375, 44, 5),
			(item_set_slot, 375, 43, 81),
			(item_set_slot, 375, 41, 0),
			(item_set_slot, 376, 66, 400),
			(item_set_slot, 376, 65, 0),
			(item_set_slot, 376, 73, 27),
			(item_set_slot, 376, 42, 30),
			(item_set_slot, 376, 44, 5),
			(item_set_slot, 376, 43, 100),
			(item_set_slot, 376, 41, 0),
			(item_set_slot, 377, 66, 2500),
			(item_set_slot, 377, 65, 8),
			(item_set_slot, 377, 67, 1),
			(item_set_slot, 377, 73, 29),
			(item_set_slot, 377, 41, 0),
			(item_set_slot, 377, 44, 45),
			(item_set_slot, 377, 45, 15),
			(item_set_slot, 377, 41, 0),
			(item_set_slot, 378, 66, 2500),
			(item_set_slot, 378, 65, 14),
			(item_set_slot, 378, 67, 2),
			(item_set_slot, 378, 73, 29),
			(item_set_slot, 378, 41, 0),
			(item_set_slot, 378, 44, 54),
			(item_set_slot, 378, 45, 13),
			(item_set_slot, 378, 41, 0),
			(item_set_slot, 379, 66, 2000),
			(item_set_slot, 379, 65, 12),
			(item_set_slot, 379, 67, 1),
			(item_set_slot, 379, 73, 29),
			(item_set_slot, 379, 41, 0),
			(item_set_slot, 379, 44, 40),
			(item_set_slot, 379, 45, 14),
			(item_set_slot, 379, 41, 0),
			(item_set_slot, 380, 66, 2000),
			(item_set_slot, 380, 65, 12),
			(item_set_slot, 380, 67, 1),
			(item_set_slot, 380, 73, 29),
			(item_set_slot, 380, 41, 0),
			(item_set_slot, 380, 44, 40),
			(item_set_slot, 380, 45, 14),
			(item_set_slot, 380, 41, 0),
			(item_set_slot, 381, 66, 2500),
			(item_set_slot, 381, 65, 14),
			(item_set_slot, 381, 67, 1),
			(item_set_slot, 381, 73, 29),
			(item_set_slot, 381, 41, 0),
			(item_set_slot, 381, 44, 40),
			(item_set_slot, 381, 45, 14),
			(item_set_slot, 381, 41, 0),
			(item_set_slot, 382, 66, 2500),
			(item_set_slot, 382, 65, 14),
			(item_set_slot, 382, 67, 1),
			(item_set_slot, 382, 73, 29),
			(item_set_slot, 382, 41, 0),
			(item_set_slot, 382, 44, 40),
			(item_set_slot, 382, 45, 14),
			(item_set_slot, 382, 41, 0),
			(item_set_slot, 383, 66, 400),
			(item_set_slot, 383, 65, 12),
			(item_set_slot, 383, 67, 2),
			(item_set_slot, 383, 73, 29),
			(item_set_slot, 383, 41, 37),
			(item_set_slot, 383, 44, 0),
			(item_set_slot, 383, 45, 0),
			(item_set_slot, 383, 41, 0),
			(item_set_slot, 384, 66, 400),
			(item_set_slot, 384, 65, 12),
			(item_set_slot, 384, 67, 2),
			(item_set_slot, 384, 73, 29),
			(item_set_slot, 384, 41, 37),
			(item_set_slot, 384, 44, 0),
			(item_set_slot, 384, 45, 0),
			(item_set_slot, 384, 41, 0),
			(item_set_slot, 385, 66, 400),
			(item_set_slot, 385, 65, 12),
			(item_set_slot, 385, 67, 2),
			(item_set_slot, 385, 73, 29),
			(item_set_slot, 385, 41, 37),
			(item_set_slot, 385, 44, 0),
			(item_set_slot, 385, 45, 0),
			(item_set_slot, 385, 41, 0),
			(item_set_slot, 386, 66, 400),
			(item_set_slot, 386, 65, 12),
			(item_set_slot, 386, 67, 2),
			(item_set_slot, 386, 73, 29),
			(item_set_slot, 386, 41, 33),
			(item_set_slot, 386, 44, 0),
			(item_set_slot, 386, 45, 0),
			(item_set_slot, 386, 41, 0),
			(item_set_slot, 387, 66, 400),
			(item_set_slot, 387, 65, 12),
			(item_set_slot, 387, 67, 2),
			(item_set_slot, 387, 73, 29),
			(item_set_slot, 387, 41, 37),
			(item_set_slot, 387, 44, 0),
			(item_set_slot, 387, 45, 0),
			(item_set_slot, 387, 41, 0),
			(item_set_slot, 388, 66, 400),
			(item_set_slot, 388, 65, 12),
			(item_set_slot, 388, 67, 2),
			(item_set_slot, 388, 73, 29),
			(item_set_slot, 388, 41, 37),
			(item_set_slot, 388, 44, 0),
			(item_set_slot, 388, 45, 0),
			(item_set_slot, 388, 41, 0),
			(item_set_slot, 389, 66, 400),
			(item_set_slot, 389, 65, 12),
			(item_set_slot, 389, 67, 2),
			(item_set_slot, 389, 73, 29),
			(item_set_slot, 389, 41, 37),
			(item_set_slot, 389, 44, 0),
			(item_set_slot, 389, 45, 0),
			(item_set_slot, 389, 41, 0),
			(item_set_slot, 390, 66, 400),
			(item_set_slot, 390, 65, 12),
			(item_set_slot, 390, 67, 2),
			(item_set_slot, 390, 73, 29),
			(item_set_slot, 390, 41, 37),
			(item_set_slot, 390, 44, 0),
			(item_set_slot, 390, 45, 0),
			(item_set_slot, 390, 41, 0),
			(item_set_slot, 391, 66, 400),
			(item_set_slot, 391, 65, 12),
			(item_set_slot, 391, 67, 2),
			(item_set_slot, 391, 73, 29),
			(item_set_slot, 391, 41, 37),
			(item_set_slot, 391, 44, 0),
			(item_set_slot, 391, 45, 0),
			(item_set_slot, 391, 41, 0),
			(item_set_slot, 392, 66, 400),
			(item_set_slot, 392, 65, 12),
			(item_set_slot, 392, 67, 2),
			(item_set_slot, 392, 73, 29),
			(item_set_slot, 392, 41, 37),
			(item_set_slot, 392, 44, 0),
			(item_set_slot, 392, 45, 0),
			(item_set_slot, 392, 41, 0),
			(item_set_slot, 393, 66, 100),
			(item_set_slot, 393, 65, 0),
			(item_set_slot, 393, 73, 0),
			(item_set_slot, 393, 41, 3),
			(item_set_slot, 393, 44, 0),
			(item_set_slot, 393, 45, 0),
			(item_set_slot, 393, 41, 0),
			(item_set_slot, 394, 66, 500),
			(item_set_slot, 394, 65, 0),
			(item_set_slot, 394, 67, 0),
			(item_set_slot, 394, 73, 26),
			(item_set_slot, 394, 41, 0),
			(item_set_slot, 394, 44, 10),
			(item_set_slot, 394, 45, 5),
			(item_set_slot, 394, 41, 0),
			(item_set_slot, 395, 66, 500),
			(item_set_slot, 395, 65, 0),
			(item_set_slot, 395, 67, 0),
			(item_set_slot, 395, 73, 26),
			(item_set_slot, 395, 41, 0),
			(item_set_slot, 395, 44, 10),
			(item_set_slot, 395, 45, 5),
			(item_set_slot, 395, 41, 0),
			(item_set_slot, 396, 66, 500),
			(item_set_slot, 396, 65, 0),
			(item_set_slot, 396, 67, 0),
			(item_set_slot, 396, 73, 26),
			(item_set_slot, 396, 41, 0),
			(item_set_slot, 396, 44, 10),
			(item_set_slot, 396, 45, 5),
			(item_set_slot, 396, 41, 0),
			(item_set_slot, 397, 66, 1500),
			(item_set_slot, 397, 65, 0),
			(item_set_slot, 397, 67, 0),
			(item_set_slot, 397, 73, 26),
			(item_set_slot, 397, 41, 0),
			(item_set_slot, 397, 44, 25),
			(item_set_slot, 397, 45, 5),
			(item_set_slot, 397, 41, 0),
			(item_set_slot, 398, 66, 1500),
			(item_set_slot, 398, 65, 0),
			(item_set_slot, 398, 67, 0),
			(item_set_slot, 398, 73, 26),
			(item_set_slot, 398, 41, 0),
			(item_set_slot, 398, 44, 25),
			(item_set_slot, 398, 45, 5),
			(item_set_slot, 398, 41, 0),
			(item_set_slot, 399, 66, 2000),
			(item_set_slot, 399, 65, 0),
			(item_set_slot, 399, 67, 0),
			(item_set_slot, 399, 73, 26),
			(item_set_slot, 399, 41, 0),
			(item_set_slot, 399, 44, 26),
			(item_set_slot, 399, 45, 4),
			(item_set_slot, 399, 41, 0),
			(item_set_slot, 400, 66, 2000),
			(item_set_slot, 400, 65, 0),
			(item_set_slot, 400, 67, 0),
			(item_set_slot, 400, 73, 26),
			(item_set_slot, 400, 41, 0),
			(item_set_slot, 400, 44, 26),
			(item_set_slot, 400, 45, 4),
			(item_set_slot, 400, 41, 0),
			(item_set_slot, 401, 66, 300),
			(item_set_slot, 401, 65, 12),
			(item_set_slot, 401, 67, 1),
			(item_set_slot, 401, 73, 29),
			(item_set_slot, 401, 41, 0),
			(item_set_slot, 401, 44, 0),
			(item_set_slot, 401, 45, 40),
			(item_set_slot, 401, 41, 0),
			(item_set_slot, 402, 66, 400),
			(item_set_slot, 402, 65, 12),
			(item_set_slot, 402, 67, 1),
			(item_set_slot, 402, 73, 29),
			(item_set_slot, 402, 41, 0),
			(item_set_slot, 402, 44, 0),
			(item_set_slot, 402, 45, 40),
			(item_set_slot, 402, 41, 0),
			(item_set_slot, 403, 66, 600),
			(item_set_slot, 403, 65, 14),
			(item_set_slot, 403, 73, 0),
			(item_set_slot, 403, 41, 45),
			(item_set_slot, 403, 44, 0),
			(item_set_slot, 403, 45, 0),
			(item_set_slot, 403, 41, 0),
			(item_set_slot, 404, 66, 600),
			(item_set_slot, 404, 65, 14),
			(item_set_slot, 404, 73, 0),
			(item_set_slot, 404, 41, 45),
			(item_set_slot, 404, 44, 0),
			(item_set_slot, 404, 45, 0),
			(item_set_slot, 404, 41, 0),
			(item_set_slot, 405, 66, 400),
			(item_set_slot, 405, 65, 12),
			(item_set_slot, 405, 67, 1),
			(item_set_slot, 405, 73, 29),
			(item_set_slot, 405, 41, 29),
			(item_set_slot, 405, 44, 0),
			(item_set_slot, 405, 45, 0),
			(item_set_slot, 405, 41, 0),
			(item_set_slot, 406, 66, 200),
			(item_set_slot, 406, 65, 0),
			(item_set_slot, 406, 67, 0),
			(item_set_slot, 406, 73, 26),
			(item_set_slot, 406, 41, 0),
			(item_set_slot, 406, 44, 5),
			(item_set_slot, 406, 45, 1),
			(item_set_slot, 406, 41, 0),
			(item_set_slot, 407, 66, 200),
			(item_set_slot, 407, 65, 0),
			(item_set_slot, 407, 67, 0),
			(item_set_slot, 407, 73, 26),
			(item_set_slot, 407, 41, 0),
			(item_set_slot, 407, 44, 5),
			(item_set_slot, 407, 45, 1),
			(item_set_slot, 407, 41, 0),
			(item_set_slot, 408, 66, 200),
			(item_set_slot, 408, 65, 0),
			(item_set_slot, 408, 67, 0),
			(item_set_slot, 408, 73, 26),
			(item_set_slot, 408, 41, 0),
			(item_set_slot, 408, 44, 5),
			(item_set_slot, 408, 45, 1),
			(item_set_slot, 408, 41, 0),
			(item_set_slot, 409, 66, 200),
			(item_set_slot, 409, 65, 0),
			(item_set_slot, 409, 67, 0),
			(item_set_slot, 409, 73, 26),
			(item_set_slot, 409, 41, 0),
			(item_set_slot, 409, 44, 5),
			(item_set_slot, 409, 45, 1),
			(item_set_slot, 409, 41, 0),
			(item_set_slot, 410, 66, 200),
			(item_set_slot, 410, 65, 0),
			(item_set_slot, 410, 67, 0),
			(item_set_slot, 410, 73, 26),
			(item_set_slot, 410, 41, 0),
			(item_set_slot, 410, 44, 5),
			(item_set_slot, 410, 45, 1),
			(item_set_slot, 410, 41, 0),
			(item_set_slot, 411, 66, 200),
			(item_set_slot, 411, 65, 0),
			(item_set_slot, 411, 67, 0),
			(item_set_slot, 411, 73, 26),
			(item_set_slot, 411, 41, 0),
			(item_set_slot, 411, 44, 5),
			(item_set_slot, 411, 45, 1),
			(item_set_slot, 411, 41, 0),
			(item_set_slot, 412, 66, 400),
			(item_set_slot, 412, 65, 12),
			(item_set_slot, 412, 67, 1),
			(item_set_slot, 412, 73, 29),
			(item_set_slot, 412, 41, 35),
			(item_set_slot, 412, 44, 0),
			(item_set_slot, 412, 45, 0),
			(item_set_slot, 412, 41, 0),
			(item_set_slot, 413, 66, 400),
			(item_set_slot, 413, 65, 12),
			(item_set_slot, 413, 67, 2),
			(item_set_slot, 413, 73, 29),
			(item_set_slot, 413, 41, 37),
			(item_set_slot, 413, 44, 0),
			(item_set_slot, 413, 45, 0),
			(item_set_slot, 413, 41, 0),
			(item_set_slot, 414, 66, 1500),
			(item_set_slot, 414, 65, 0),
			(item_set_slot, 414, 67, 0),
			(item_set_slot, 414, 73, 26),
			(item_set_slot, 414, 41, 0),
			(item_set_slot, 414, 44, 25),
			(item_set_slot, 414, 45, 15),
			(item_set_slot, 414, 41, 0),
			(item_set_slot, 415, 66, 1500),
			(item_set_slot, 415, 65, 12),
			(item_set_slot, 415, 67, 1),
			(item_set_slot, 415, 73, 29),
			(item_set_slot, 415, 41, 0),
			(item_set_slot, 415, 44, 35),
			(item_set_slot, 415, 45, 15),
			(item_set_slot, 415, 41, 0),
			(item_set_slot, 416, 66, 1500),
			(item_set_slot, 416, 65, 12),
			(item_set_slot, 416, 67, 1),
			(item_set_slot, 416, 73, 29),
			(item_set_slot, 416, 41, 0),
			(item_set_slot, 416, 44, 35),
			(item_set_slot, 416, 45, 15),
			(item_set_slot, 416, 41, 0),
			(item_set_slot, 417, 66, 400),
			(item_set_slot, 417, 65, 14),
			(item_set_slot, 417, 67, 2),
			(item_set_slot, 417, 73, 29),
			(item_set_slot, 417, 41, 45),
			(item_set_slot, 417, 44, 0),
			(item_set_slot, 417, 45, 0),
			(item_set_slot, 417, 41, 0),
			(item_set_slot, 418, 66, 500),
			(item_set_slot, 418, 65, 0),
			(item_set_slot, 418, 67, 0),
			(item_set_slot, 418, 73, 26),
			(item_set_slot, 418, 41, 0),
			(item_set_slot, 418, 44, 8),
			(item_set_slot, 418, 45, 5),
			(item_set_slot, 418, 41, 0),
			(item_set_slot, 419, 66, 1500),
			(item_set_slot, 419, 65, 11),
			(item_set_slot, 419, 67, 1),
			(item_set_slot, 419, 73, 29),
			(item_set_slot, 419, 41, 0),
			(item_set_slot, 419, 44, 25),
			(item_set_slot, 419, 45, 15),
			(item_set_slot, 419, 41, 0),
			(item_set_slot, 420, 66, 100),
			(item_set_slot, 420, 65, 0),
			(item_set_slot, 420, 73, 0),
			(item_set_slot, 420, 44, 25),
			(item_set_slot, 420, 45, 21),
			(item_set_slot, 420, 43, 108),
			(item_set_slot, 420, 42, 40),
			(item_set_slot, 420, 41, 0),
			(item_set_slot, 421, 66, 600),
			(item_set_slot, 421, 65, 12),
			(item_set_slot, 421, 73, 18),
			(item_set_slot, 421, 44, 0),
			(item_set_slot, 421, 45, 37),
			(item_set_slot, 421, 43, 85),
			(item_set_slot, 421, 42, 100),
			(item_set_slot, 421, 41, 2097152),
			(item_set_slot, 421, 10, 1),
			(item_set_slot, 422, 66, 1000),
			(item_set_slot, 422, 65, 12),
			(item_set_slot, 422, 73, 18),
			(item_set_slot, 422, 44, 0),
			(item_set_slot, 422, 45, 25),
			(item_set_slot, 422, 43, 65),
			(item_set_slot, 422, 42, 74),
			(item_set_slot, 422, 41, 2097152),
			(item_set_slot, 422, 10, 1),
			(item_set_slot, 423, 66, 1000),
			(item_set_slot, 423, 65, 12),
			(item_set_slot, 423, 73, 18),
			(item_set_slot, 423, 44, 0),
			(item_set_slot, 423, 45, 26),
			(item_set_slot, 423, 43, 65),
			(item_set_slot, 423, 42, 74),
			(item_set_slot, 423, 41, 2097152),
			(item_set_slot, 423, 10, 1),
			(item_set_slot, 424, 66, 600),
			(item_set_slot, 424, 65, 12),
			(item_set_slot, 424, 73, 0),
			(item_set_slot, 424, 44, 0),
			(item_set_slot, 424, 45, 44),
			(item_set_slot, 424, 43, 85),
			(item_set_slot, 424, 42, 96),
			(item_set_slot, 424, 41, 2097152),
			(item_set_slot, 424, 10, 1),
			(item_set_slot, 425, 66, 200),
			(item_set_slot, 425, 65, 8),
			(item_set_slot, 425, 73, 18),
			(item_set_slot, 425, 44, 0),
			(item_set_slot, 425, 45, 30),
			(item_set_slot, 425, 43, 100),
			(item_set_slot, 425, 42, 61),
			(item_set_slot, 425, 41, 0),
			(item_set_slot, 426, 66, 200),
			(item_set_slot, 426, 65, 8),
			(item_set_slot, 426, 73, 18),
			(item_set_slot, 426, 44, 0),
			(item_set_slot, 426, 45, 30),
			(item_set_slot, 426, 43, 100),
			(item_set_slot, 426, 42, 71),
			(item_set_slot, 426, 41, 0),
			(item_set_slot, 427, 66, 600),
			(item_set_slot, 427, 65, 12),
			(item_set_slot, 427, 73, 13),
			(item_set_slot, 427, 44, 32),
			(item_set_slot, 427, 45, 44),
			(item_set_slot, 427, 43, 80),
			(item_set_slot, 427, 42, 170),
			(item_set_slot, 427, 41, 2097152),
			(item_set_slot, 427, 10, 1),
			(item_set_slot, 428, 66, 600),
			(item_set_slot, 428, 65, 13),
			(item_set_slot, 428, 73, 17),
			(item_set_slot, 428, 44, 0),
			(item_set_slot, 428, 45, 42),
			(item_set_slot, 428, 43, 85),
			(item_set_slot, 428, 42, 74),
			(item_set_slot, 428, 41, 2097152),
			(item_set_slot, 428, 10, 1),
			(item_set_slot, 429, 66, 600),
			(item_set_slot, 429, 65, 12),
			(item_set_slot, 429, 73, 18),
			(item_set_slot, 429, 44, 0),
			(item_set_slot, 429, 45, 40),
			(item_set_slot, 429, 43, 85),
			(item_set_slot, 429, 42, 100),
			(item_set_slot, 429, 41, 2097152),
			(item_set_slot, 429, 10, 1),
			(item_set_slot, 430, 66, 400),
			(item_set_slot, 430, 65, 10),
			(item_set_slot, 430, 67, 2),
			(item_set_slot, 430, 73, 29),
			(item_set_slot, 430, 41, 33),
			(item_set_slot, 430, 44, 0),
			(item_set_slot, 430, 45, 0),
			(item_set_slot, 430, 41, 0),
			(item_set_slot, 431, 66, 400),
			(item_set_slot, 431, 65, 10),
			(item_set_slot, 431, 67, 2),
			(item_set_slot, 431, 73, 29),
			(item_set_slot, 431, 41, 35),
			(item_set_slot, 431, 44, 0),
			(item_set_slot, 431, 45, 0),
			(item_set_slot, 431, 41, 0),
			(item_set_slot, 432, 66, 400),
			(item_set_slot, 432, 65, 10),
			(item_set_slot, 432, 67, 2),
			(item_set_slot, 432, 73, 29),
			(item_set_slot, 432, 41, 35),
			(item_set_slot, 432, 44, 0),
			(item_set_slot, 432, 45, 0),
			(item_set_slot, 432, 41, 0),
			(item_set_slot, 433, 66, 400),
			(item_set_slot, 433, 65, 10),
			(item_set_slot, 433, 67, 2),
			(item_set_slot, 433, 73, 29),
			(item_set_slot, 433, 41, 35),
			(item_set_slot, 433, 44, 0),
			(item_set_slot, 433, 45, 0),
			(item_set_slot, 433, 41, 0),
			(item_set_slot, 434, 66, 400),
			(item_set_slot, 434, 65, 10),
			(item_set_slot, 434, 67, 2),
			(item_set_slot, 434, 73, 29),
			(item_set_slot, 434, 41, 35),
			(item_set_slot, 434, 44, 0),
			(item_set_slot, 434, 45, 0),
			(item_set_slot, 434, 41, 0),
			(item_set_slot, 435, 66, 400),
			(item_set_slot, 435, 65, 10),
			(item_set_slot, 435, 67, 2),
			(item_set_slot, 435, 73, 29),
			(item_set_slot, 435, 41, 35),
			(item_set_slot, 435, 44, 0),
			(item_set_slot, 435, 45, 0),
			(item_set_slot, 435, 41, 0),
			(item_set_slot, 436, 66, 400),
			(item_set_slot, 436, 65, 10),
			(item_set_slot, 436, 67, 2),
			(item_set_slot, 436, 73, 29),
			(item_set_slot, 436, 41, 35),
			(item_set_slot, 436, 44, 0),
			(item_set_slot, 436, 45, 0),
			(item_set_slot, 436, 41, 0),
			(item_set_slot, 437, 66, 500),
			(item_set_slot, 437, 65, 0),
			(item_set_slot, 437, 67, 0),
			(item_set_slot, 437, 73, 26),
			(item_set_slot, 437, 41, 0),
			(item_set_slot, 437, 44, 16),
			(item_set_slot, 437, 45, 4),
			(item_set_slot, 437, 41, 0),
			(item_set_slot, 438, 66, 100),
			(item_set_slot, 438, 65, 0),
			(item_set_slot, 438, 67, 0),
			(item_set_slot, 438, 73, 26),
			(item_set_slot, 438, 41, 9),
			(item_set_slot, 438, 44, 0),
			(item_set_slot, 438, 45, 0),
			(item_set_slot, 438, 41, 0),
			(item_set_slot, 439, 66, 800),
			(item_set_slot, 439, 65, 0),
			(item_set_slot, 439, 67, 0),
			(item_set_slot, 439, 73, 26),
			(item_set_slot, 439, 41, 0),
			(item_set_slot, 439, 44, 20),
			(item_set_slot, 439, 45, 5),
			(item_set_slot, 439, 41, 0),
			(item_set_slot, 440, 66, 800),
			(item_set_slot, 440, 65, 0),
			(item_set_slot, 440, 67, 0),
			(item_set_slot, 440, 73, 26),
			(item_set_slot, 440, 41, 0),
			(item_set_slot, 440, 44, 20),
			(item_set_slot, 440, 45, 5),
			(item_set_slot, 440, 41, 0),
			(item_set_slot, 441, 66, 400),
			(item_set_slot, 441, 65, 2),
			(item_set_slot, 441, 73, 27),
			(item_set_slot, 441, 42, 65),
			(item_set_slot, 441, 44, 15),
			(item_set_slot, 441, 43, 90),
			(item_set_slot, 441, 41, 0),
			(item_set_slot, 442, 66, 400),
			(item_set_slot, 442, 65, 2),
			(item_set_slot, 442, 73, 27),
			(item_set_slot, 442, 42, 57),
			(item_set_slot, 442, 44, 15),
			(item_set_slot, 442, 43, 90),
			(item_set_slot, 442, 41, 0),
			(item_set_slot, 443, 66, 2500),
			(item_set_slot, 443, 65, 14),
			(item_set_slot, 443, 67, 2),
			(item_set_slot, 443, 73, 29),
			(item_set_slot, 443, 41, 0),
			(item_set_slot, 443, 44, 54),
			(item_set_slot, 443, 45, 18),
			(item_set_slot, 443, 41, 0),
			(item_set_slot, 444, 66, 1600),
			(item_set_slot, 444, 65, 12),
			(item_set_slot, 444, 67, 1),
			(item_set_slot, 444, 73, 29),
			(item_set_slot, 444, 41, 0),
			(item_set_slot, 444, 44, 37),
			(item_set_slot, 444, 45, 4),
			(item_set_slot, 444, 41, 0),
			(item_set_slot, 445, 66, 1600),
			(item_set_slot, 445, 65, 12),
			(item_set_slot, 445, 67, 1),
			(item_set_slot, 445, 73, 29),
			(item_set_slot, 445, 41, 0),
			(item_set_slot, 445, 44, 44),
			(item_set_slot, 445, 45, 15),
			(item_set_slot, 445, 41, 0),
			(item_set_slot, 446, 66, 1600),
			(item_set_slot, 446, 65, 12),
			(item_set_slot, 446, 67, 1),
			(item_set_slot, 446, 73, 29),
			(item_set_slot, 446, 41, 0),
			(item_set_slot, 446, 44, 37),
			(item_set_slot, 446, 45, 4),
			(item_set_slot, 446, 41, 0),
			(item_set_slot, 447, 66, 1800),
			(item_set_slot, 447, 65, 12),
			(item_set_slot, 447, 67, 1),
			(item_set_slot, 447, 73, 29),
			(item_set_slot, 447, 41, 0),
			(item_set_slot, 447, 44, 40),
			(item_set_slot, 447, 45, 14),
			(item_set_slot, 447, 41, 0),
			(item_set_slot, 448, 66, 1800),
			(item_set_slot, 448, 65, 12),
			(item_set_slot, 448, 67, 1),
			(item_set_slot, 448, 73, 29),
			(item_set_slot, 448, 41, 0),
			(item_set_slot, 448, 44, 40),
			(item_set_slot, 448, 45, 14),
			(item_set_slot, 448, 41, 0),
			(item_set_slot, 449, 66, 1800),
			(item_set_slot, 449, 65, 12),
			(item_set_slot, 449, 67, 1),
			(item_set_slot, 449, 73, 29),
			(item_set_slot, 449, 41, 0),
			(item_set_slot, 449, 44, 40),
			(item_set_slot, 449, 45, 14),
			(item_set_slot, 449, 41, 0),
			(item_set_slot, 450, 66, 1800),
			(item_set_slot, 450, 65, 12),
			(item_set_slot, 450, 67, 1),
			(item_set_slot, 450, 73, 29),
			(item_set_slot, 450, 41, 0),
			(item_set_slot, 450, 44, 40),
			(item_set_slot, 450, 45, 14),
			(item_set_slot, 450, 41, 0),
			(item_set_slot, 451, 66, 200),
			(item_set_slot, 451, 65, 0),
			(item_set_slot, 451, 73, 0),
			(item_set_slot, 451, 41, 0),
			(item_set_slot, 451, 44, 4),
			(item_set_slot, 451, 45, 1),
			(item_set_slot, 451, 41, 0),
			(item_set_slot, 452, 66, 200),
			(item_set_slot, 452, 65, 0),
			(item_set_slot, 452, 73, 0),
			(item_set_slot, 452, 41, 0),
			(item_set_slot, 452, 44, 4),
			(item_set_slot, 452, 45, 1),
			(item_set_slot, 452, 41, 0),
			(item_set_slot, 453, 66, 200),
			(item_set_slot, 453, 65, 0),
			(item_set_slot, 453, 73, 0),
			(item_set_slot, 453, 41, 0),
			(item_set_slot, 453, 44, 4),
			(item_set_slot, 453, 45, 1),
			(item_set_slot, 453, 41, 0),
			(item_set_slot, 454, 66, 200),
			(item_set_slot, 454, 65, 0),
			(item_set_slot, 454, 73, 0),
			(item_set_slot, 454, 41, 0),
			(item_set_slot, 454, 44, 4),
			(item_set_slot, 454, 45, 1),
			(item_set_slot, 454, 41, 0),
			(item_set_slot, 455, 66, 1500),
			(item_set_slot, 455, 65, 12),
			(item_set_slot, 455, 67, 1),
			(item_set_slot, 455, 73, 29),
			(item_set_slot, 455, 41, 0),
			(item_set_slot, 455, 44, 37),
			(item_set_slot, 455, 45, 8),
			(item_set_slot, 455, 41, 0),
			(item_set_slot, 456, 66, 200),
			(item_set_slot, 456, 65, 0),
			(item_set_slot, 456, 67, 0),
			(item_set_slot, 456, 73, 26),
			(item_set_slot, 456, 41, 0),
			(item_set_slot, 456, 44, 15),
			(item_set_slot, 456, 45, 1),
			(item_set_slot, 456, 41, 0),
			(item_set_slot, 457, 66, 1800),
			(item_set_slot, 457, 65, 12),
			(item_set_slot, 457, 67, 1),
			(item_set_slot, 457, 73, 29),
			(item_set_slot, 457, 41, 0),
			(item_set_slot, 457, 44, 44),
			(item_set_slot, 457, 45, 15),
			(item_set_slot, 457, 41, 0),
			(item_set_slot, 458, 66, 400),
			(item_set_slot, 458, 65, 12),
			(item_set_slot, 458, 67, 1),
			(item_set_slot, 458, 73, 29),
			(item_set_slot, 458, 41, 30),
			(item_set_slot, 458, 44, 0),
			(item_set_slot, 458, 45, 0),
			(item_set_slot, 458, 41, 0),
			(item_set_slot, 459, 66, 400),
			(item_set_slot, 459, 65, 10),
			(item_set_slot, 459, 67, 2),
			(item_set_slot, 459, 73, 29),
			(item_set_slot, 459, 41, 40),
			(item_set_slot, 459, 44, 0),
			(item_set_slot, 459, 45, 0),
			(item_set_slot, 459, 41, 0),
			(item_set_slot, 460, 66, 2000),
			(item_set_slot, 460, 65, 12),
			(item_set_slot, 460, 67, 1),
			(item_set_slot, 460, 73, 29),
			(item_set_slot, 460, 41, 0),
			(item_set_slot, 460, 44, 37),
			(item_set_slot, 460, 45, 8),
			(item_set_slot, 460, 41, 0),
			(item_set_slot, 461, 66, 100),
			(item_set_slot, 461, 65, 0),
			(item_set_slot, 461, 67, 0),
			(item_set_slot, 461, 73, 26),
			(item_set_slot, 461, 41, 5),
			(item_set_slot, 461, 44, 0),
			(item_set_slot, 461, 45, 0),
			(item_set_slot, 461, 41, 0),
			(item_set_slot, 462, 66, 100),
			(item_set_slot, 462, 65, 0),
			(item_set_slot, 462, 67, 0),
			(item_set_slot, 462, 73, 26),
			(item_set_slot, 462, 41, 5),
			(item_set_slot, 462, 44, 0),
			(item_set_slot, 462, 45, 0),
			(item_set_slot, 462, 41, 0),
			(item_set_slot, 463, 66, 200),
			(item_set_slot, 463, 65, 0),
			(item_set_slot, 463, 73, 17),
			(item_set_slot, 463, 44, 25),
			(item_set_slot, 463, 45, 15),
			(item_set_slot, 463, 43, 115),
			(item_set_slot, 463, 42, 65),
			(item_set_slot, 463, 41, 0),
			(item_set_slot, 464, 66, 100),
			(item_set_slot, 464, 65, 0),
			(item_set_slot, 464, 67, 0),
			(item_set_slot, 464, 73, 26),
			(item_set_slot, 464, 41, 5),
			(item_set_slot, 464, 44, 0),
			(item_set_slot, 464, 45, 0),
			(item_set_slot, 464, 41, 0),
			(item_set_slot, 465, 66, 200),
			(item_set_slot, 465, 65, 0),
			(item_set_slot, 465, 67, 0),
			(item_set_slot, 465, 73, 26),
			(item_set_slot, 465, 41, 0),
			(item_set_slot, 465, 44, 5),
			(item_set_slot, 465, 45, 1),
			(item_set_slot, 465, 41, 0),
			(item_set_slot, 466, 66, 100),
			(item_set_slot, 466, 65, 0),
			(item_set_slot, 466, 67, 0),
			(item_set_slot, 466, 73, 26),
			(item_set_slot, 466, 41, 5),
			(item_set_slot, 466, 44, 0),
			(item_set_slot, 466, 45, 0),
			(item_set_slot, 466, 41, 0),
			(item_set_slot, 467, 66, 200),
			(item_set_slot, 467, 65, 0),
			(item_set_slot, 467, 67, 0),
			(item_set_slot, 467, 73, 26),
			(item_set_slot, 467, 41, 0),
			(item_set_slot, 467, 44, 5),
			(item_set_slot, 467, 45, 1),
			(item_set_slot, 467, 41, 0),
			(item_set_slot, 468, 66, 200),
			(item_set_slot, 468, 65, 0),
			(item_set_slot, 468, 67, 0),
			(item_set_slot, 468, 73, 26),
			(item_set_slot, 468, 41, 0),
			(item_set_slot, 468, 44, 5),
			(item_set_slot, 468, 45, 1),
			(item_set_slot, 468, 41, 0),
			(item_set_slot, 469, 66, 400),
			(item_set_slot, 469, 65, 12),
			(item_set_slot, 469, 67, 1),
			(item_set_slot, 469, 73, 29),
			(item_set_slot, 469, 41, 35),
			(item_set_slot, 469, 44, 0),
			(item_set_slot, 469, 45, 0),
			(item_set_slot, 469, 41, 0),
			(item_set_slot, 470, 66, 500),
			(item_set_slot, 470, 65, 0),
			(item_set_slot, 470, 67, 0),
			(item_set_slot, 470, 73, 26),
			(item_set_slot, 470, 41, 0),
			(item_set_slot, 470, 44, 5),
			(item_set_slot, 470, 45, 10),
			(item_set_slot, 470, 41, 0),
			(item_set_slot, 471, 66, 500),
			(item_set_slot, 471, 65, 0),
			(item_set_slot, 471, 67, 0),
			(item_set_slot, 471, 73, 26),
			(item_set_slot, 471, 41, 0),
			(item_set_slot, 471, 44, 16),
			(item_set_slot, 471, 45, 4),
			(item_set_slot, 471, 41, 0),
			(item_set_slot, 472, 66, 500),
			(item_set_slot, 472, 65, 12),
			(item_set_slot, 472, 67, 2),
			(item_set_slot, 472, 73, 29),
			(item_set_slot, 472, 41, 45),
			(item_set_slot, 472, 44, 0),
			(item_set_slot, 472, 45, 0),
			(item_set_slot, 472, 41, 0),
			(item_set_slot, 473, 66, 400),
			(item_set_slot, 473, 65, 10),
			(item_set_slot, 473, 67, 1),
			(item_set_slot, 473, 73, 29),
			(item_set_slot, 473, 41, 22),
			(item_set_slot, 473, 44, 0),
			(item_set_slot, 473, 45, 0),
			(item_set_slot, 473, 41, 0),
			(item_set_slot, 474, 66, 500),
			(item_set_slot, 474, 65, 0),
			(item_set_slot, 474, 67, 0),
			(item_set_slot, 474, 73, 26),
			(item_set_slot, 474, 41, 0),
			(item_set_slot, 474, 44, 60),
			(item_set_slot, 474, 45, 30),
			(item_set_slot, 474, 41, 0),
			(item_set_slot, 475, 66, 500),
			(item_set_slot, 475, 65, 0),
			(item_set_slot, 475, 67, 0),
			(item_set_slot, 475, 73, 26),
			(item_set_slot, 475, 41, 0),
			(item_set_slot, 475, 44, 60),
			(item_set_slot, 475, 45, 30),
			(item_set_slot, 475, 41, 0),
			(item_set_slot, 476, 66, 500),
			(item_set_slot, 476, 65, 0),
			(item_set_slot, 476, 67, 0),
			(item_set_slot, 476, 73, 26),
			(item_set_slot, 476, 41, 0),
			(item_set_slot, 476, 44, 60),
			(item_set_slot, 476, 45, 30),
			(item_set_slot, 476, 41, 0),
			(item_set_slot, 477, 66, 500),
			(item_set_slot, 477, 65, 0),
			(item_set_slot, 477, 67, 0),
			(item_set_slot, 477, 73, 26),
			(item_set_slot, 477, 41, 0),
			(item_set_slot, 477, 44, 60),
			(item_set_slot, 477, 45, 20),
			(item_set_slot, 477, 41, 0),
			(item_set_slot, 478, 66, 500),
			(item_set_slot, 478, 65, 0),
			(item_set_slot, 478, 67, 0),
			(item_set_slot, 478, 73, 26),
			(item_set_slot, 478, 41, 0),
			(item_set_slot, 478, 44, 60),
			(item_set_slot, 478, 45, 30),
			(item_set_slot, 478, 41, 0),
			(item_set_slot, 479, 66, 400),
			(item_set_slot, 479, 65, 10),
			(item_set_slot, 479, 67, 1),
			(item_set_slot, 479, 73, 29),
			(item_set_slot, 479, 41, 60),
			(item_set_slot, 479, 44, 0),
			(item_set_slot, 479, 45, 0),
			(item_set_slot, 479, 46, 1),
			(item_set_slot, 479, 41, 0),
			(item_set_slot, 480, 66, 400),
			(item_set_slot, 480, 65, 10),
			(item_set_slot, 480, 67, 1),
			(item_set_slot, 480, 73, 29),
			(item_set_slot, 480, 41, 60),
			(item_set_slot, 480, 44, 0),
			(item_set_slot, 480, 45, 0),
			(item_set_slot, 480, 46, 1),
			(item_set_slot, 480, 41, 0),
			(item_set_slot, 481, 66, 400),
			(item_set_slot, 481, 65, 10),
			(item_set_slot, 481, 67, 1),
			(item_set_slot, 481, 73, 29),
			(item_set_slot, 481, 41, 60),
			(item_set_slot, 481, 44, 0),
			(item_set_slot, 481, 45, 0),
			(item_set_slot, 481, 46, 1),
			(item_set_slot, 481, 41, 0),
			(item_set_slot, 482, 66, 400),
			(item_set_slot, 482, 65, 10),
			(item_set_slot, 482, 67, 1),
			(item_set_slot, 482, 73, 29),
			(item_set_slot, 482, 41, 60),
			(item_set_slot, 482, 44, 0),
			(item_set_slot, 482, 45, 0),
			(item_set_slot, 482, 46, 1),
			(item_set_slot, 482, 41, 0),
			(item_set_slot, 483, 66, 400),
			(item_set_slot, 483, 65, 10),
			(item_set_slot, 483, 67, 1),
			(item_set_slot, 483, 73, 29),
			(item_set_slot, 483, 41, 60),
			(item_set_slot, 483, 44, 0),
			(item_set_slot, 483, 45, 0),
			(item_set_slot, 483, 46, 1),
			(item_set_slot, 483, 41, 0),
			(item_set_slot, 484, 66, 400),
			(item_set_slot, 484, 65, 10),
			(item_set_slot, 484, 67, 1),
			(item_set_slot, 484, 73, 29),
			(item_set_slot, 484, 41, 60),
			(item_set_slot, 484, 44, 0),
			(item_set_slot, 484, 45, 0),
			(item_set_slot, 484, 46, 1),
			(item_set_slot, 484, 41, 0),
			(item_set_slot, 485, 66, 400),
			(item_set_slot, 485, 65, 10),
			(item_set_slot, 485, 67, 1),
			(item_set_slot, 485, 73, 29),
			(item_set_slot, 485, 41, 60),
			(item_set_slot, 485, 44, 0),
			(item_set_slot, 485, 45, 0),
			(item_set_slot, 485, 46, 1),
			(item_set_slot, 485, 41, 0),
			(item_set_slot, 486, 66, 400),
			(item_set_slot, 486, 65, 10),
			(item_set_slot, 486, 67, 1),
			(item_set_slot, 486, 73, 29),
			(item_set_slot, 486, 41, 60),
			(item_set_slot, 486, 44, 0),
			(item_set_slot, 486, 45, 0),
			(item_set_slot, 486, 46, 1),
			(item_set_slot, 486, 41, 0),
			(item_set_slot, 487, 66, 400),
			(item_set_slot, 487, 65, 10),
			(item_set_slot, 487, 67, 1),
			(item_set_slot, 487, 73, 29),
			(item_set_slot, 487, 41, 60),
			(item_set_slot, 487, 44, 0),
			(item_set_slot, 487, 45, 0),
			(item_set_slot, 487, 46, 1),
			(item_set_slot, 487, 41, 0),
			(item_set_slot, 488, 66, 400),
			(item_set_slot, 488, 65, 10),
			(item_set_slot, 488, 67, 1),
			(item_set_slot, 488, 73, 29),
			(item_set_slot, 488, 41, 60),
			(item_set_slot, 488, 44, 0),
			(item_set_slot, 488, 45, 0),
			(item_set_slot, 488, 46, 1),
			(item_set_slot, 488, 41, 0),
			(item_set_slot, 489, 66, 400),
			(item_set_slot, 489, 65, 12),
			(item_set_slot, 489, 73, 18),
			(item_set_slot, 489, 44, 0),
			(item_set_slot, 489, 45, 25),
			(item_set_slot, 489, 43, 95),
			(item_set_slot, 489, 42, 62),
			(item_set_slot, 489, 41, 0),
			(item_set_slot, 490, 66, 400),
			(item_set_slot, 490, 65, 12),
			(item_set_slot, 490, 73, 18),
			(item_set_slot, 490, 44, 0),
			(item_set_slot, 490, 45, 25),
			(item_set_slot, 490, 43, 95),
			(item_set_slot, 490, 42, 62),
			(item_set_slot, 490, 41, 0),
			(item_set_slot, 491, 66, 400),
			(item_set_slot, 491, 65, 12),
			(item_set_slot, 491, 73, 18),
			(item_set_slot, 491, 44, 0),
			(item_set_slot, 491, 45, 27),
			(item_set_slot, 491, 43, 95),
			(item_set_slot, 491, 42, 70),
			(item_set_slot, 491, 41, 0),
			(item_set_slot, 492, 66, 2000),
			(item_set_slot, 492, 65, 0),
			(item_set_slot, 492, 67, 0),
			(item_set_slot, 492, 73, 26),
			(item_set_slot, 492, 41, 0),
			(item_set_slot, 492, 44, 17),
			(item_set_slot, 492, 45, 0),
			(item_set_slot, 492, 41, 0),
			(item_set_slot, 493, 66, 2000),
			(item_set_slot, 493, 65, 12),
			(item_set_slot, 493, 67, 1),
			(item_set_slot, 493, 73, 29),
			(item_set_slot, 493, 41, 0),
			(item_set_slot, 493, 44, 46),
			(item_set_slot, 493, 45, 7),
			(item_set_slot, 493, 41, 0),
			(item_set_slot, 494, 66, 2000),
			(item_set_slot, 494, 65, 12),
			(item_set_slot, 494, 67, 1),
			(item_set_slot, 494, 73, 29),
			(item_set_slot, 494, 41, 0),
			(item_set_slot, 494, 44, 33),
			(item_set_slot, 494, 45, 15),
			(item_set_slot, 494, 41, 0),
			(item_set_slot, 495, 66, 2000),
			(item_set_slot, 495, 65, 12),
			(item_set_slot, 495, 67, 1),
			(item_set_slot, 495, 73, 29),
			(item_set_slot, 495, 41, 0),
			(item_set_slot, 495, 44, 33),
			(item_set_slot, 495, 45, 15),
			(item_set_slot, 495, 41, 0),
			(item_set_slot, 496, 66, 200),
			(item_set_slot, 496, 65, 10),
			(item_set_slot, 496, 73, 0),
			(item_set_slot, 496, 44, 28),
			(item_set_slot, 496, 45, 20),
			(item_set_slot, 496, 43, 110),
			(item_set_slot, 496, 42, 61),
			(item_set_slot, 496, 41, 0),
			(item_set_slot, 497, 66, 1600),
			(item_set_slot, 497, 65, 12),
			(item_set_slot, 497, 67, 1),
			(item_set_slot, 497, 73, 29),
			(item_set_slot, 497, 41, 0),
			(item_set_slot, 497, 44, 37),
			(item_set_slot, 497, 45, 15),
			(item_set_slot, 497, 41, 0),
			(item_set_slot, 498, 66, 2500),
			(item_set_slot, 498, 65, 14),
			(item_set_slot, 498, 67, 1),
			(item_set_slot, 498, 73, 29),
			(item_set_slot, 498, 41, 0),
			(item_set_slot, 498, 44, 46),
			(item_set_slot, 498, 45, 12),
			(item_set_slot, 498, 41, 0),
			(item_set_slot, 499, 66, 2500),
			(item_set_slot, 499, 65, 14),
			(item_set_slot, 499, 67, 2),
			(item_set_slot, 499, 73, 29),
			(item_set_slot, 499, 41, 0),
			(item_set_slot, 499, 44, 54),
			(item_set_slot, 499, 45, 10),
			(item_set_slot, 499, 41, 0),
			(item_set_slot, 500, 66, 100),
			(item_set_slot, 500, 65, 12),
			(item_set_slot, 500, 67, 0),
			(item_set_slot, 500, 73, 26),
			(item_set_slot, 500, 41, 0),
			(item_set_slot, 500, 44, 0),
			(item_set_slot, 500, 45, 40),
			(item_set_slot, 500, 41, 0),
			(item_set_slot, 501, 66, 100),
			(item_set_slot, 501, 65, 12),
			(item_set_slot, 501, 67, 0),
			(item_set_slot, 501, 73, 26),
			(item_set_slot, 501, 41, 0),
			(item_set_slot, 501, 44, 0),
			(item_set_slot, 501, 45, 40),
			(item_set_slot, 501, 41, 0),
			(item_set_slot, 502, 66, 600),
			(item_set_slot, 502, 65, 13),
			(item_set_slot, 502, 67, 2),
			(item_set_slot, 502, 73, 29),
			(item_set_slot, 502, 41, 45),
			(item_set_slot, 502, 44, 0),
			(item_set_slot, 502, 45, 0),
			(item_set_slot, 502, 46, 1),
			(item_set_slot, 502, 41, 0),
			(item_set_slot, 503, 66, 100),
			(item_set_slot, 503, 65, 0),
			(item_set_slot, 503, 67, 0),
			(item_set_slot, 503, 73, 26),
			(item_set_slot, 503, 41, 5),
			(item_set_slot, 503, 44, 0),
			(item_set_slot, 503, 45, 0),
			(item_set_slot, 503, 41, 0),
			(item_set_slot, 504, 66, 100),
			(item_set_slot, 504, 65, 0),
			(item_set_slot, 504, 67, 0),
			(item_set_slot, 504, 73, 26),
			(item_set_slot, 504, 41, 5),
			(item_set_slot, 504, 44, 0),
			(item_set_slot, 504, 45, 0),
			(item_set_slot, 504, 41, 0),
			(item_set_slot, 505, 66, 400),
			(item_set_slot, 505, 65, 12),
			(item_set_slot, 505, 67, 2),
			(item_set_slot, 505, 73, 29),
			(item_set_slot, 505, 41, 34),
			(item_set_slot, 505, 44, 0),
			(item_set_slot, 505, 45, 0),
			(item_set_slot, 505, 41, 0),
			(item_set_slot, 506, 66, 400),
			(item_set_slot, 506, 65, 12),
			(item_set_slot, 506, 67, 2),
			(item_set_slot, 506, 73, 29),
			(item_set_slot, 506, 41, 34),
			(item_set_slot, 506, 44, 0),
			(item_set_slot, 506, 45, 0),
			(item_set_slot, 506, 41, 0),
			(item_set_slot, 507, 66, 400),
			(item_set_slot, 507, 65, 12),
			(item_set_slot, 507, 67, 2),
			(item_set_slot, 507, 73, 29),
			(item_set_slot, 507, 41, 33),
			(item_set_slot, 507, 44, 0),
			(item_set_slot, 507, 45, 0),
			(item_set_slot, 507, 41, 0),
			(item_set_slot, 508, 66, 600),
			(item_set_slot, 508, 65, 13),
			(item_set_slot, 508, 67, 2),
			(item_set_slot, 508, 73, 29),
			(item_set_slot, 508, 41, 45),
			(item_set_slot, 508, 44, 0),
			(item_set_slot, 508, 45, 0),
			(item_set_slot, 508, 41, 0),
			(item_set_slot, 509, 66, 600),
			(item_set_slot, 509, 65, 13),
			(item_set_slot, 509, 67, 2),
			(item_set_slot, 509, 73, 29),
			(item_set_slot, 509, 41, 45),
			(item_set_slot, 509, 44, 0),
			(item_set_slot, 509, 45, 0),
			(item_set_slot, 509, 41, 0),
			(item_set_slot, 510, 66, 400),
			(item_set_slot, 510, 65, 12),
			(item_set_slot, 510, 67, 2),
			(item_set_slot, 510, 73, 29),
			(item_set_slot, 510, 41, 37),
			(item_set_slot, 510, 44, 0),
			(item_set_slot, 510, 45, 0),
			(item_set_slot, 510, 41, 0),
			(item_set_slot, 511, 66, 100),
			(item_set_slot, 511, 65, 0),
			(item_set_slot, 511, 73, 0),
			(item_set_slot, 511, 44, 25),
			(item_set_slot, 511, 45, 9),
			(item_set_slot, 511, 43, 108),
			(item_set_slot, 511, 42, 40),
			(item_set_slot, 511, 41, 0),
			(item_set_slot, 512, 66, 100),
			(item_set_slot, 512, 65, 0),
			(item_set_slot, 512, 73, 0),
			(item_set_slot, 512, 44, 25),
			(item_set_slot, 512, 45, 9),
			(item_set_slot, 512, 43, 108),
			(item_set_slot, 512, 42, 40),
			(item_set_slot, 512, 41, 0),
			(item_set_slot, 513, 66, 100),
			(item_set_slot, 513, 65, 0),
			(item_set_slot, 513, 73, 0),
			(item_set_slot, 513, 44, 25),
			(item_set_slot, 513, 45, 9),
			(item_set_slot, 513, 43, 108),
			(item_set_slot, 513, 42, 40),
			(item_set_slot, 513, 41, 0),
			(item_set_slot, 514, 66, 100),
			(item_set_slot, 514, 65, 0),
			(item_set_slot, 514, 73, 0),
			(item_set_slot, 514, 44, 25),
			(item_set_slot, 514, 45, 9),
			(item_set_slot, 514, 43, 108),
			(item_set_slot, 514, 42, 40),
			(item_set_slot, 514, 41, 0),
			(item_set_slot, 515, 66, 500),
			(item_set_slot, 515, 65, 0),
			(item_set_slot, 515, 67, 0),
			(item_set_slot, 515, 73, 26),
			(item_set_slot, 515, 41, 0),
			(item_set_slot, 515, 44, 5),
			(item_set_slot, 515, 45, 5),
			(item_set_slot, 515, 41, 0),
			(item_set_slot, 516, 66, 500),
			(item_set_slot, 516, 65, 0),
			(item_set_slot, 516, 67, 0),
			(item_set_slot, 516, 73, 26),
			(item_set_slot, 516, 41, 0),
			(item_set_slot, 516, 44, 5),
			(item_set_slot, 516, 45, 5),
			(item_set_slot, 516, 41, 0),
			(item_set_slot, 517, 66, 2000),
			(item_set_slot, 517, 65, 12),
			(item_set_slot, 517, 67, 1),
			(item_set_slot, 517, 73, 29),
			(item_set_slot, 517, 41, 0),
			(item_set_slot, 517, 44, 37),
			(item_set_slot, 517, 45, 5),
			(item_set_slot, 517, 41, 0),
			(item_set_slot, 518, 66, 2000),
			(item_set_slot, 518, 65, 12),
			(item_set_slot, 518, 67, 1),
			(item_set_slot, 518, 73, 29),
			(item_set_slot, 518, 41, 0),
			(item_set_slot, 518, 44, 37),
			(item_set_slot, 518, 45, 5),
			(item_set_slot, 518, 41, 0),
			(item_set_slot, 519, 66, 2000),
			(item_set_slot, 519, 65, 12),
			(item_set_slot, 519, 67, 1),
			(item_set_slot, 519, 73, 29),
			(item_set_slot, 519, 41, 0),
			(item_set_slot, 519, 44, 37),
			(item_set_slot, 519, 45, 5),
			(item_set_slot, 519, 41, 0),
			(item_set_slot, 520, 66, 2000),
			(item_set_slot, 520, 65, 12),
			(item_set_slot, 520, 67, 1),
			(item_set_slot, 520, 73, 29),
			(item_set_slot, 520, 41, 0),
			(item_set_slot, 520, 44, 37),
			(item_set_slot, 520, 45, 5),
			(item_set_slot, 520, 41, 0),
			(item_set_slot, 521, 66, 2000),
			(item_set_slot, 521, 65, 12),
			(item_set_slot, 521, 67, 1),
			(item_set_slot, 521, 73, 29),
			(item_set_slot, 521, 41, 0),
			(item_set_slot, 521, 44, 37),
			(item_set_slot, 521, 45, 5),
			(item_set_slot, 521, 41, 0),
			(item_set_slot, 522, 66, 2000),
			(item_set_slot, 522, 65, 14),
			(item_set_slot, 522, 67, 2),
			(item_set_slot, 522, 73, 29),
			(item_set_slot, 522, 41, 0),
			(item_set_slot, 522, 44, 54),
			(item_set_slot, 522, 45, 10),
			(item_set_slot, 522, 41, 0),
			(item_set_slot, 523, 66, 2000),
			(item_set_slot, 523, 65, 14),
			(item_set_slot, 523, 67, 2),
			(item_set_slot, 523, 73, 29),
			(item_set_slot, 523, 41, 0),
			(item_set_slot, 523, 44, 54),
			(item_set_slot, 523, 45, 10),
			(item_set_slot, 523, 41, 0),
			(item_set_slot, 524, 66, 2000),
			(item_set_slot, 524, 65, 14),
			(item_set_slot, 524, 67, 2),
			(item_set_slot, 524, 73, 29),
			(item_set_slot, 524, 41, 0),
			(item_set_slot, 524, 44, 54),
			(item_set_slot, 524, 45, 15),
			(item_set_slot, 524, 41, 0),
			(item_set_slot, 525, 66, 2000),
			(item_set_slot, 525, 65, 14),
			(item_set_slot, 525, 67, 2),
			(item_set_slot, 525, 73, 29),
			(item_set_slot, 525, 41, 0),
			(item_set_slot, 525, 44, 54),
			(item_set_slot, 525, 45, 15),
			(item_set_slot, 525, 41, 0),
			(item_set_slot, 526, 66, 2000),
			(item_set_slot, 526, 65, 14),
			(item_set_slot, 526, 67, 2),
			(item_set_slot, 526, 73, 29),
			(item_set_slot, 526, 41, 0),
			(item_set_slot, 526, 44, 54),
			(item_set_slot, 526, 45, 15),
			(item_set_slot, 526, 41, 0),
			(item_set_slot, 527, 66, 2000),
			(item_set_slot, 527, 65, 14),
			(item_set_slot, 527, 67, 2),
			(item_set_slot, 527, 73, 29),
			(item_set_slot, 527, 41, 0),
			(item_set_slot, 527, 44, 54),
			(item_set_slot, 527, 45, 15),
			(item_set_slot, 527, 41, 0),
			(item_set_slot, 528, 66, 2000),
			(item_set_slot, 528, 65, 14),
			(item_set_slot, 528, 67, 2),
			(item_set_slot, 528, 73, 29),
			(item_set_slot, 528, 41, 0),
			(item_set_slot, 528, 44, 54),
			(item_set_slot, 528, 45, 10),
			(item_set_slot, 528, 41, 0),
			(item_set_slot, 529, 66, 2000),
			(item_set_slot, 529, 65, 14),
			(item_set_slot, 529, 67, 2),
			(item_set_slot, 529, 73, 29),
			(item_set_slot, 529, 41, 0),
			(item_set_slot, 529, 44, 60),
			(item_set_slot, 529, 45, 20),
			(item_set_slot, 529, 41, 0),
			(item_set_slot, 530, 66, 2000),
			(item_set_slot, 530, 65, 14),
			(item_set_slot, 530, 67, 2),
			(item_set_slot, 530, 73, 29),
			(item_set_slot, 530, 41, 0),
			(item_set_slot, 530, 44, 54),
			(item_set_slot, 530, 45, 15),
			(item_set_slot, 530, 41, 0),
			(item_set_slot, 531, 66, 2000),
			(item_set_slot, 531, 65, 14),
			(item_set_slot, 531, 67, 2),
			(item_set_slot, 531, 73, 29),
			(item_set_slot, 531, 41, 0),
			(item_set_slot, 531, 44, 54),
			(item_set_slot, 531, 45, 15),
			(item_set_slot, 531, 41, 0),
			(item_set_slot, 532, 66, 2000),
			(item_set_slot, 532, 65, 14),
			(item_set_slot, 532, 67, 2),
			(item_set_slot, 532, 73, 29),
			(item_set_slot, 532, 41, 0),
			(item_set_slot, 532, 44, 54),
			(item_set_slot, 532, 45, 15),
			(item_set_slot, 532, 41, 0),
			(item_set_slot, 533, 66, 2000),
			(item_set_slot, 533, 65, 14),
			(item_set_slot, 533, 67, 2),
			(item_set_slot, 533, 73, 29),
			(item_set_slot, 533, 41, 0),
			(item_set_slot, 533, 44, 54),
			(item_set_slot, 533, 45, 15),
			(item_set_slot, 533, 41, 0),
			(item_set_slot, 534, 66, 2000),
			(item_set_slot, 534, 65, 14),
			(item_set_slot, 534, 67, 2),
			(item_set_slot, 534, 73, 29),
			(item_set_slot, 534, 41, 0),
			(item_set_slot, 534, 44, 54),
			(item_set_slot, 534, 45, 15),
			(item_set_slot, 534, 41, 0),
			(item_set_slot, 535, 66, 2000),
			(item_set_slot, 535, 65, 14),
			(item_set_slot, 535, 67, 2),
			(item_set_slot, 535, 73, 29),
			(item_set_slot, 535, 41, 0),
			(item_set_slot, 535, 44, 54),
			(item_set_slot, 535, 45, 15),
			(item_set_slot, 535, 41, 0),
			(item_set_slot, 536, 66, 2000),
			(item_set_slot, 536, 65, 14),
			(item_set_slot, 536, 67, 2),
			(item_set_slot, 536, 73, 29),
			(item_set_slot, 536, 41, 0),
			(item_set_slot, 536, 44, 54),
			(item_set_slot, 536, 45, 15),
			(item_set_slot, 536, 41, 0),
			(item_set_slot, 537, 66, 500),
			(item_set_slot, 537, 65, 0),
			(item_set_slot, 537, 67, 0),
			(item_set_slot, 537, 73, 26),
			(item_set_slot, 537, 41, 0),
			(item_set_slot, 537, 44, 20),
			(item_set_slot, 537, 45, 0),
			(item_set_slot, 537, 41, 0),
			(item_set_slot, 538, 66, 500),
			(item_set_slot, 538, 65, 0),
			(item_set_slot, 538, 67, 0),
			(item_set_slot, 538, 73, 26),
			(item_set_slot, 538, 41, 0),
			(item_set_slot, 538, 44, 18),
			(item_set_slot, 538, 45, 0),
			(item_set_slot, 538, 41, 0),
			(item_set_slot, 539, 66, 500),
			(item_set_slot, 539, 65, 0),
			(item_set_slot, 539, 67, 0),
			(item_set_slot, 539, 73, 26),
			(item_set_slot, 539, 41, 0),
			(item_set_slot, 539, 44, 28),
			(item_set_slot, 539, 45, 3),
			(item_set_slot, 539, 41, 0),
			(item_set_slot, 540, 66, 500),
			(item_set_slot, 540, 65, 0),
			(item_set_slot, 540, 67, 0),
			(item_set_slot, 540, 73, 26),
			(item_set_slot, 540, 41, 0),
			(item_set_slot, 540, 44, 12),
			(item_set_slot, 540, 45, 0),
			(item_set_slot, 540, 41, 0),
			(item_set_slot, 541, 66, 500),
			(item_set_slot, 541, 65, 0),
			(item_set_slot, 541, 67, 0),
			(item_set_slot, 541, 73, 26),
			(item_set_slot, 541, 41, 0),
			(item_set_slot, 541, 44, 22),
			(item_set_slot, 541, 45, 6),
			(item_set_slot, 541, 41, 0),
			(item_set_slot, 542, 66, 500),
			(item_set_slot, 542, 65, 0),
			(item_set_slot, 542, 67, 0),
			(item_set_slot, 542, 73, 26),
			(item_set_slot, 542, 41, 0),
			(item_set_slot, 542, 44, 18),
			(item_set_slot, 542, 45, 3),
			(item_set_slot, 542, 41, 0),
			(item_set_slot, 543, 66, 2000),
			(item_set_slot, 543, 65, 12),
			(item_set_slot, 543, 67, 1),
			(item_set_slot, 543, 73, 29),
			(item_set_slot, 543, 41, 0),
			(item_set_slot, 543, 44, 36),
			(item_set_slot, 543, 45, 10),
			(item_set_slot, 543, 41, 0),
			(item_set_slot, 544, 66, 2000),
			(item_set_slot, 544, 65, 12),
			(item_set_slot, 544, 67, 1),
			(item_set_slot, 544, 73, 29),
			(item_set_slot, 544, 41, 0),
			(item_set_slot, 544, 44, 36),
			(item_set_slot, 544, 45, 10),
			(item_set_slot, 544, 41, 0),
			(item_set_slot, 545, 66, 2000),
			(item_set_slot, 545, 65, 12),
			(item_set_slot, 545, 67, 1),
			(item_set_slot, 545, 73, 29),
			(item_set_slot, 545, 41, 0),
			(item_set_slot, 545, 44, 37),
			(item_set_slot, 545, 45, 10),
			(item_set_slot, 545, 41, 0),
			(item_set_slot, 546, 66, 500),
			(item_set_slot, 546, 65, 0),
			(item_set_slot, 546, 67, 0),
			(item_set_slot, 546, 73, 26),
			(item_set_slot, 546, 41, 0),
			(item_set_slot, 546, 44, 14),
			(item_set_slot, 546, 45, 4),
			(item_set_slot, 546, 41, 0),
			(item_set_slot, 547, 66, 500),
			(item_set_slot, 547, 65, 0),
			(item_set_slot, 547, 67, 0),
			(item_set_slot, 547, 73, 26),
			(item_set_slot, 547, 41, 0),
			(item_set_slot, 547, 44, 14),
			(item_set_slot, 547, 45, 4),
			(item_set_slot, 547, 41, 0),
			(item_set_slot, 548, 66, 500),
			(item_set_slot, 548, 65, 0),
			(item_set_slot, 548, 73, 0),
			(item_set_slot, 548, 41, 0),
			(item_set_slot, 548, 44, 25),
			(item_set_slot, 548, 45, 8),
			(item_set_slot, 548, 41, 0),
			(item_set_slot, 549, 66, 2000),
			(item_set_slot, 549, 65, 12),
			(item_set_slot, 549, 73, 0),
			(item_set_slot, 549, 41, 0),
			(item_set_slot, 549, 44, 33),
			(item_set_slot, 549, 45, 10),
			(item_set_slot, 549, 41, 0),
			(item_set_slot, 550, 66, 500),
			(item_set_slot, 550, 65, 0),
			(item_set_slot, 550, 67, 0),
			(item_set_slot, 550, 73, 26),
			(item_set_slot, 550, 41, 0),
			(item_set_slot, 550, 44, 22),
			(item_set_slot, 550, 45, 10),
			(item_set_slot, 550, 41, 0),
			(item_set_slot, 551, 66, 500),
			(item_set_slot, 551, 65, 10),
			(item_set_slot, 551, 67, 0),
			(item_set_slot, 551, 73, 26),
			(item_set_slot, 551, 41, 0),
			(item_set_slot, 551, 44, 26),
			(item_set_slot, 551, 45, 10),
			(item_set_slot, 551, 41, 0),
			(item_set_slot, 552, 66, 2000),
			(item_set_slot, 552, 65, 12),
			(item_set_slot, 552, 73, 0),
			(item_set_slot, 552, 41, 0),
			(item_set_slot, 552, 44, 35),
			(item_set_slot, 552, 45, 10),
			(item_set_slot, 552, 41, 0),
			(item_set_slot, 553, 66, 500),
			(item_set_slot, 553, 65, 0),
			(item_set_slot, 553, 73, 0),
			(item_set_slot, 553, 41, 0),
			(item_set_slot, 553, 44, 22),
			(item_set_slot, 553, 45, 7),
			(item_set_slot, 553, 41, 0),
			(item_set_slot, 554, 66, 500),
			(item_set_slot, 554, 65, 0),
			(item_set_slot, 554, 67, 0),
			(item_set_slot, 554, 73, 26),
			(item_set_slot, 554, 41, 0),
			(item_set_slot, 554, 44, 14),
			(item_set_slot, 554, 45, 10),
			(item_set_slot, 554, 41, 0),
			(item_set_slot, 555, 66, 500),
			(item_set_slot, 555, 65, 0),
			(item_set_slot, 555, 67, 0),
			(item_set_slot, 555, 73, 26),
			(item_set_slot, 555, 41, 0),
			(item_set_slot, 555, 44, 23),
			(item_set_slot, 555, 45, 10),
			(item_set_slot, 555, 41, 0),
			(item_set_slot, 556, 66, 500),
			(item_set_slot, 556, 65, 0),
			(item_set_slot, 556, 73, 0),
			(item_set_slot, 556, 41, 0),
			(item_set_slot, 556, 44, 26),
			(item_set_slot, 556, 45, 10),
			(item_set_slot, 556, 41, 0),
			(item_set_slot, 557, 66, 2000),
			(item_set_slot, 557, 65, 0),
			(item_set_slot, 557, 67, 1),
			(item_set_slot, 557, 73, 29),
			(item_set_slot, 557, 41, 0),
			(item_set_slot, 557, 44, 40),
			(item_set_slot, 557, 45, 5),
			(item_set_slot, 557, 41, 0),
			(item_set_slot, 558, 66, 2000),
			(item_set_slot, 558, 65, 0),
			(item_set_slot, 558, 67, 1),
			(item_set_slot, 558, 73, 29),
			(item_set_slot, 558, 41, 5),
			(item_set_slot, 558, 44, 40),
			(item_set_slot, 558, 45, 5),
			(item_set_slot, 558, 41, 0),
			(item_set_slot, 559, 66, 500),
			(item_set_slot, 559, 65, 0),
			(item_set_slot, 559, 67, 0),
			(item_set_slot, 559, 73, 26),
			(item_set_slot, 559, 41, 0),
			(item_set_slot, 559, 44, 18),
			(item_set_slot, 559, 45, 10),
			(item_set_slot, 559, 41, 0),
			(item_set_slot, 560, 66, 500),
			(item_set_slot, 560, 65, 0),
			(item_set_slot, 560, 73, 0),
			(item_set_slot, 560, 41, 5),
			(item_set_slot, 560, 44, 10),
			(item_set_slot, 560, 45, 10),
			(item_set_slot, 560, 41, 0),
			(item_set_slot, 561, 66, 2000),
			(item_set_slot, 561, 65, 12),
			(item_set_slot, 561, 67, 1),
			(item_set_slot, 561, 73, 29),
			(item_set_slot, 561, 41, 0),
			(item_set_slot, 561, 44, 37),
			(item_set_slot, 561, 45, 5),
			(item_set_slot, 561, 41, 0),
			(item_set_slot, 562, 66, 2000),
			(item_set_slot, 562, 65, 14),
			(item_set_slot, 562, 67, 1),
			(item_set_slot, 562, 73, 29),
			(item_set_slot, 562, 41, 0),
			(item_set_slot, 562, 44, 43),
			(item_set_slot, 562, 45, 15),
			(item_set_slot, 562, 41, 0),
			(item_set_slot, 563, 66, 2000),
			(item_set_slot, 563, 65, 12),
			(item_set_slot, 563, 67, 1),
			(item_set_slot, 563, 73, 29),
			(item_set_slot, 563, 41, 0),
			(item_set_slot, 563, 44, 37),
			(item_set_slot, 563, 45, 5),
			(item_set_slot, 563, 41, 0),
			(item_set_slot, 564, 66, 2000),
			(item_set_slot, 564, 65, 14),
			(item_set_slot, 564, 67, 1),
			(item_set_slot, 564, 73, 29),
			(item_set_slot, 564, 41, 0),
			(item_set_slot, 564, 44, 42),
			(item_set_slot, 564, 45, 10),
			(item_set_slot, 564, 41, 0),
			(item_set_slot, 565, 66, 2000),
			(item_set_slot, 565, 65, 12),
			(item_set_slot, 565, 67, 1),
			(item_set_slot, 565, 73, 29),
			(item_set_slot, 565, 41, 0),
			(item_set_slot, 565, 44, 37),
			(item_set_slot, 565, 45, 6),
			(item_set_slot, 565, 41, 0),
			(item_set_slot, 566, 66, 2000),
			(item_set_slot, 566, 65, 12),
			(item_set_slot, 566, 67, 1),
			(item_set_slot, 566, 73, 29),
			(item_set_slot, 566, 41, 0),
			(item_set_slot, 566, 44, 37),
			(item_set_slot, 566, 45, 10),
			(item_set_slot, 566, 41, 0),
			(item_set_slot, 567, 66, 2000),
			(item_set_slot, 567, 65, 12),
			(item_set_slot, 567, 67, 1),
			(item_set_slot, 567, 73, 29),
			(item_set_slot, 567, 41, 0),
			(item_set_slot, 567, 44, 41),
			(item_set_slot, 567, 45, 10),
			(item_set_slot, 567, 41, 0),
			(item_set_slot, 568, 66, 2000),
			(item_set_slot, 568, 65, 12),
			(item_set_slot, 568, 67, 1),
			(item_set_slot, 568, 73, 29),
			(item_set_slot, 568, 41, 0),
			(item_set_slot, 568, 44, 37),
			(item_set_slot, 568, 45, 10),
			(item_set_slot, 568, 41, 0),
			(item_set_slot, 569, 66, 2000),
			(item_set_slot, 569, 65, 12),
			(item_set_slot, 569, 67, 1),
			(item_set_slot, 569, 73, 29),
			(item_set_slot, 569, 41, 0),
			(item_set_slot, 569, 44, 37),
			(item_set_slot, 569, 45, 18),
			(item_set_slot, 569, 41, 0),
			(item_set_slot, 570, 66, 500),
			(item_set_slot, 570, 65, 0),
			(item_set_slot, 570, 67, 0),
			(item_set_slot, 570, 73, 26),
			(item_set_slot, 570, 41, 0),
			(item_set_slot, 570, 44, 10),
			(item_set_slot, 570, 45, 10),
			(item_set_slot, 570, 41, 0),
			(item_set_slot, 571, 66, 500),
			(item_set_slot, 571, 65, 0),
			(item_set_slot, 571, 67, 0),
			(item_set_slot, 571, 73, 26),
			(item_set_slot, 571, 41, 0),
			(item_set_slot, 571, 44, 10),
			(item_set_slot, 571, 45, 10),
			(item_set_slot, 571, 41, 0),
			(item_set_slot, 572, 66, 2000),
			(item_set_slot, 572, 65, 12),
			(item_set_slot, 572, 67, 1),
			(item_set_slot, 572, 73, 29),
			(item_set_slot, 572, 41, 0),
			(item_set_slot, 572, 44, 37),
			(item_set_slot, 572, 45, 5),
			(item_set_slot, 572, 41, 0),
			(item_set_slot, 573, 66, 2000),
			(item_set_slot, 573, 65, 12),
			(item_set_slot, 573, 67, 1),
			(item_set_slot, 573, 73, 29),
			(item_set_slot, 573, 41, 0),
			(item_set_slot, 573, 44, 42),
			(item_set_slot, 573, 45, 10),
			(item_set_slot, 573, 41, 0),
			(item_set_slot, 574, 66, 2000),
			(item_set_slot, 574, 65, 12),
			(item_set_slot, 574, 67, 1),
			(item_set_slot, 574, 73, 29),
			(item_set_slot, 574, 41, 0),
			(item_set_slot, 574, 44, 37),
			(item_set_slot, 574, 45, 10),
			(item_set_slot, 574, 41, 0),
			(item_set_slot, 575, 66, 2000),
			(item_set_slot, 575, 65, 12),
			(item_set_slot, 575, 67, 1),
			(item_set_slot, 575, 73, 29),
			(item_set_slot, 575, 41, 0),
			(item_set_slot, 575, 44, 37),
			(item_set_slot, 575, 45, 10),
			(item_set_slot, 575, 41, 0),
			(item_set_slot, 576, 66, 1000),
			(item_set_slot, 576, 65, 0),
			(item_set_slot, 576, 67, 0),
			(item_set_slot, 576, 73, 26),
			(item_set_slot, 576, 41, 5),
			(item_set_slot, 576, 44, 34),
			(item_set_slot, 576, 45, 10),
			(item_set_slot, 576, 41, 0),
			(item_set_slot, 577, 66, 2000),
			(item_set_slot, 577, 65, 14),
			(item_set_slot, 577, 67, 2),
			(item_set_slot, 577, 73, 29),
			(item_set_slot, 577, 41, 5),
			(item_set_slot, 577, 44, 37),
			(item_set_slot, 577, 45, 10),
			(item_set_slot, 577, 41, 0),
			(item_set_slot, 578, 66, 2000),
			(item_set_slot, 578, 65, 14),
			(item_set_slot, 578, 67, 0),
			(item_set_slot, 578, 73, 26),
			(item_set_slot, 578, 41, 6),
			(item_set_slot, 578, 44, 40),
			(item_set_slot, 578, 45, 13),
			(item_set_slot, 578, 41, 0),
			(item_set_slot, 579, 66, 1000),
			(item_set_slot, 579, 65, 0),
			(item_set_slot, 579, 67, 0),
			(item_set_slot, 579, 73, 26),
			(item_set_slot, 579, 41, 3),
			(item_set_slot, 579, 44, 26),
			(item_set_slot, 579, 45, 10),
			(item_set_slot, 579, 41, 0),
			(item_set_slot, 580, 66, 1000),
			(item_set_slot, 580, 65, 0),
			(item_set_slot, 580, 67, 0),
			(item_set_slot, 580, 73, 26),
			(item_set_slot, 580, 41, 0),
			(item_set_slot, 580, 44, 26),
			(item_set_slot, 580, 45, 10),
			(item_set_slot, 580, 41, 0),
			(item_set_slot, 581, 66, 1000),
			(item_set_slot, 581, 65, 12),
			(item_set_slot, 581, 67, 0),
			(item_set_slot, 581, 73, 26),
			(item_set_slot, 581, 41, 6),
			(item_set_slot, 581, 44, 36),
			(item_set_slot, 581, 45, 10),
			(item_set_slot, 581, 41, 0),
			(item_set_slot, 582, 66, 1000),
			(item_set_slot, 582, 65, 0),
			(item_set_slot, 582, 67, 0),
			(item_set_slot, 582, 73, 26),
			(item_set_slot, 582, 41, 0),
			(item_set_slot, 582, 44, 30),
			(item_set_slot, 582, 45, 10),
			(item_set_slot, 582, 41, 0),
			(item_set_slot, 583, 66, 2000),
			(item_set_slot, 583, 65, 14),
			(item_set_slot, 583, 67, 2),
			(item_set_slot, 583, 73, 29),
			(item_set_slot, 583, 41, 0),
			(item_set_slot, 583, 44, 54),
			(item_set_slot, 583, 45, 15),
			(item_set_slot, 583, 41, 0),
			(item_set_slot, 584, 66, 2000),
			(item_set_slot, 584, 65, 14),
			(item_set_slot, 584, 67, 2),
			(item_set_slot, 584, 73, 29),
			(item_set_slot, 584, 41, 0),
			(item_set_slot, 584, 44, 54),
			(item_set_slot, 584, 45, 15),
			(item_set_slot, 584, 41, 0),
			(item_set_slot, 585, 66, 2000),
			(item_set_slot, 585, 65, 12),
			(item_set_slot, 585, 67, 1),
			(item_set_slot, 585, 73, 29),
			(item_set_slot, 585, 41, 0),
			(item_set_slot, 585, 44, 35),
			(item_set_slot, 585, 45, 10),
			(item_set_slot, 585, 41, 0),
			(item_set_slot, 586, 66, 2000),
			(item_set_slot, 586, 65, 12),
			(item_set_slot, 586, 67, 1),
			(item_set_slot, 586, 73, 29),
			(item_set_slot, 586, 41, 0),
			(item_set_slot, 586, 44, 35),
			(item_set_slot, 586, 45, 10),
			(item_set_slot, 586, 41, 0),
			(item_set_slot, 587, 66, 500),
			(item_set_slot, 587, 65, 0),
			(item_set_slot, 587, 67, 0),
			(item_set_slot, 587, 73, 26),
			(item_set_slot, 587, 41, 0),
			(item_set_slot, 587, 44, 22),
			(item_set_slot, 587, 45, 6),
			(item_set_slot, 587, 41, 0),
			(item_set_slot, 588, 66, 500),
			(item_set_slot, 588, 65, 0),
			(item_set_slot, 588, 67, 0),
			(item_set_slot, 588, 73, 26),
			(item_set_slot, 588, 41, 4),
			(item_set_slot, 588, 44, 22),
			(item_set_slot, 588, 45, 6),
			(item_set_slot, 588, 41, 0),
			(item_set_slot, 589, 66, 500),
			(item_set_slot, 589, 65, 0),
			(item_set_slot, 589, 67, 0),
			(item_set_slot, 589, 73, 26),
			(item_set_slot, 589, 41, 0),
			(item_set_slot, 589, 44, 22),
			(item_set_slot, 589, 45, 6),
			(item_set_slot, 589, 41, 0),
			(item_set_slot, 590, 66, 500),
			(item_set_slot, 590, 65, 0),
			(item_set_slot, 590, 67, 0),
			(item_set_slot, 590, 73, 26),
			(item_set_slot, 590, 41, 4),
			(item_set_slot, 590, 44, 22),
			(item_set_slot, 590, 45, 10),
			(item_set_slot, 590, 41, 0),
			(item_set_slot, 591, 66, 2000),
			(item_set_slot, 591, 65, 12),
			(item_set_slot, 591, 67, 1),
			(item_set_slot, 591, 73, 29),
			(item_set_slot, 591, 41, 0),
			(item_set_slot, 591, 44, 37),
			(item_set_slot, 591, 45, 10),
			(item_set_slot, 591, 41, 0),
			(item_set_slot, 592, 66, 2000),
			(item_set_slot, 592, 65, 12),
			(item_set_slot, 592, 67, 1),
			(item_set_slot, 592, 73, 29),
			(item_set_slot, 592, 41, 0),
			(item_set_slot, 592, 44, 37),
			(item_set_slot, 592, 45, 10),
			(item_set_slot, 592, 41, 0),
			(item_set_slot, 593, 66, 2000),
			(item_set_slot, 593, 65, 12),
			(item_set_slot, 593, 67, 1),
			(item_set_slot, 593, 73, 29),
			(item_set_slot, 593, 41, 5),
			(item_set_slot, 593, 44, 37),
			(item_set_slot, 593, 45, 10),
			(item_set_slot, 593, 41, 0),
			(item_set_slot, 594, 66, 500),
			(item_set_slot, 594, 65, 0),
			(item_set_slot, 594, 67, 0),
			(item_set_slot, 594, 73, 26),
			(item_set_slot, 594, 41, 0),
			(item_set_slot, 594, 44, 27),
			(item_set_slot, 594, 45, 11),
			(item_set_slot, 594, 41, 0),
			(item_set_slot, 595, 66, 2000),
			(item_set_slot, 595, 65, 14),
			(item_set_slot, 595, 67, 2),
			(item_set_slot, 595, 73, 29),
			(item_set_slot, 595, 41, 0),
			(item_set_slot, 595, 44, 54),
			(item_set_slot, 595, 45, 5),
			(item_set_slot, 595, 41, 0),
			(item_set_slot, 596, 66, 2000),
			(item_set_slot, 596, 65, 14),
			(item_set_slot, 596, 67, 2),
			(item_set_slot, 596, 73, 29),
			(item_set_slot, 596, 41, 0),
			(item_set_slot, 596, 44, 54),
			(item_set_slot, 596, 45, 5),
			(item_set_slot, 596, 41, 0),
			(item_set_slot, 597, 66, 2000),
			(item_set_slot, 597, 65, 12),
			(item_set_slot, 597, 67, 1),
			(item_set_slot, 597, 73, 29),
			(item_set_slot, 597, 41, 0),
			(item_set_slot, 597, 44, 35),
			(item_set_slot, 597, 45, 13),
			(item_set_slot, 597, 41, 0),
			(item_set_slot, 598, 66, 2000),
			(item_set_slot, 598, 65, 12),
			(item_set_slot, 598, 67, 1),
			(item_set_slot, 598, 73, 29),
			(item_set_slot, 598, 41, 0),
			(item_set_slot, 598, 44, 37),
			(item_set_slot, 598, 45, 3),
			(item_set_slot, 598, 41, 0),
			(item_set_slot, 599, 66, 2000),
			(item_set_slot, 599, 65, 14),
			(item_set_slot, 599, 67, 2),
			(item_set_slot, 599, 73, 29),
			(item_set_slot, 599, 41, 0),
			(item_set_slot, 599, 44, 54),
			(item_set_slot, 599, 45, 3),
			(item_set_slot, 599, 41, 0),
			(item_set_slot, 600, 66, 2000),
			(item_set_slot, 600, 65, 12),
			(item_set_slot, 600, 67, 1),
			(item_set_slot, 600, 73, 29),
			(item_set_slot, 600, 41, 0),
			(item_set_slot, 600, 44, 40),
			(item_set_slot, 600, 45, 10),
			(item_set_slot, 600, 41, 0),
			(item_set_slot, 601, 66, 2000),
			(item_set_slot, 601, 65, 14),
			(item_set_slot, 601, 67, 1),
			(item_set_slot, 601, 73, 29),
			(item_set_slot, 601, 41, 0),
			(item_set_slot, 601, 44, 40),
			(item_set_slot, 601, 45, 10),
			(item_set_slot, 601, 41, 0),
			(item_set_slot, 602, 66, 2000),
			(item_set_slot, 602, 65, 14),
			(item_set_slot, 602, 67, 2),
			(item_set_slot, 602, 73, 29),
			(item_set_slot, 602, 41, 0),
			(item_set_slot, 602, 44, 46),
			(item_set_slot, 602, 45, 8),
			(item_set_slot, 602, 41, 0),
			(item_set_slot, 603, 66, 2000),
			(item_set_slot, 603, 65, 12),
			(item_set_slot, 603, 67, 1),
			(item_set_slot, 603, 73, 29),
			(item_set_slot, 603, 41, 0),
			(item_set_slot, 603, 44, 40),
			(item_set_slot, 603, 45, 10),
			(item_set_slot, 603, 41, 0),
			(item_set_slot, 604, 66, 2000),
			(item_set_slot, 604, 65, 12),
			(item_set_slot, 604, 67, 1),
			(item_set_slot, 604, 73, 29),
			(item_set_slot, 604, 41, 0),
			(item_set_slot, 604, 44, 40),
			(item_set_slot, 604, 45, 10),
			(item_set_slot, 604, 41, 0),
			(item_set_slot, 605, 66, 500),
			(item_set_slot, 605, 65, 0),
			(item_set_slot, 605, 67, 0),
			(item_set_slot, 605, 73, 26),
			(item_set_slot, 605, 41, 0),
			(item_set_slot, 605, 44, 24),
			(item_set_slot, 605, 45, 0),
			(item_set_slot, 605, 41, 0),
			(item_set_slot, 606, 66, 500),
			(item_set_slot, 606, 65, 0),
			(item_set_slot, 606, 67, 0),
			(item_set_slot, 606, 73, 26),
			(item_set_slot, 606, 41, 0),
			(item_set_slot, 606, 44, 24),
			(item_set_slot, 606, 45, 0),
			(item_set_slot, 606, 41, 0),
			(item_set_slot, 607, 66, 2000),
			(item_set_slot, 607, 65, 12),
			(item_set_slot, 607, 67, 0),
			(item_set_slot, 607, 73, 26),
			(item_set_slot, 607, 41, 0),
			(item_set_slot, 607, 44, 37),
			(item_set_slot, 607, 45, 10),
			(item_set_slot, 607, 41, 0),
			(item_set_slot, 608, 66, 1000),
			(item_set_slot, 608, 65, 12),
			(item_set_slot, 608, 67, 0),
			(item_set_slot, 608, 73, 26),
			(item_set_slot, 608, 41, 0),
			(item_set_slot, 608, 44, 35),
			(item_set_slot, 608, 45, 10),
			(item_set_slot, 608, 41, 0),
			(item_set_slot, 609, 66, 2000),
			(item_set_slot, 609, 65, 12),
			(item_set_slot, 609, 67, 1),
			(item_set_slot, 609, 73, 29),
			(item_set_slot, 609, 41, 0),
			(item_set_slot, 609, 44, 40),
			(item_set_slot, 609, 45, 10),
			(item_set_slot, 609, 41, 0),
			(item_set_slot, 610, 66, 400),
			(item_set_slot, 610, 65, 10),
			(item_set_slot, 610, 67, 2),
			(item_set_slot, 610, 73, 29),
			(item_set_slot, 610, 41, 33),
			(item_set_slot, 610, 44, 0),
			(item_set_slot, 610, 45, 0),
			(item_set_slot, 610, 41, 0),
			(item_set_slot, 611, 66, 400),
			(item_set_slot, 611, 65, 10),
			(item_set_slot, 611, 67, 2),
			(item_set_slot, 611, 73, 29),
			(item_set_slot, 611, 41, 33),
			(item_set_slot, 611, 44, 0),
			(item_set_slot, 611, 45, 0),
			(item_set_slot, 611, 41, 0),
			(item_set_slot, 612, 66, 400),
			(item_set_slot, 612, 65, 10),
			(item_set_slot, 612, 73, 0),
			(item_set_slot, 612, 41, 33),
			(item_set_slot, 612, 44, 0),
			(item_set_slot, 612, 45, 0),
			(item_set_slot, 612, 41, 0),
			(item_set_slot, 613, 66, 2500),
			(item_set_slot, 613, 65, 14),
			(item_set_slot, 613, 67, 1),
			(item_set_slot, 613, 73, 29),
			(item_set_slot, 613, 41, 0),
			(item_set_slot, 613, 44, 54),
			(item_set_slot, 613, 45, 15),
			(item_set_slot, 613, 41, 0),
			(item_set_slot, 614, 66, 2000),
			(item_set_slot, 614, 65, 12),
			(item_set_slot, 614, 67, 1),
			(item_set_slot, 614, 73, 29),
			(item_set_slot, 614, 41, 0),
			(item_set_slot, 614, 44, 35),
			(item_set_slot, 614, 45, 0),
			(item_set_slot, 614, 41, 0),
			(item_set_slot, 615, 66, 5000),
			(item_set_slot, 615, 65, 12),
			(item_set_slot, 615, 67, 1),
			(item_set_slot, 615, 73, 29),
			(item_set_slot, 615, 41, 0),
			(item_set_slot, 615, 44, 35),
			(item_set_slot, 615, 45, 6),
			(item_set_slot, 615, 41, 0),
			(item_set_slot, 616, 66, 2000),
			(item_set_slot, 616, 65, 12),
			(item_set_slot, 616, 67, 1),
			(item_set_slot, 616, 73, 29),
			(item_set_slot, 616, 41, 0),
			(item_set_slot, 616, 44, 35),
			(item_set_slot, 616, 45, 0),
			(item_set_slot, 616, 41, 0),
			(item_set_slot, 617, 66, 5000),
			(item_set_slot, 617, 65, 12),
			(item_set_slot, 617, 67, 1),
			(item_set_slot, 617, 73, 29),
			(item_set_slot, 617, 41, 0),
			(item_set_slot, 617, 44, 35),
			(item_set_slot, 617, 45, 6),
			(item_set_slot, 617, 41, 0),
			(item_set_slot, 618, 66, 500),
			(item_set_slot, 618, 65, 0),
			(item_set_slot, 618, 67, 0),
			(item_set_slot, 618, 73, 26),
			(item_set_slot, 618, 41, 0),
			(item_set_slot, 618, 44, 5),
			(item_set_slot, 618, 45, 5),
			(item_set_slot, 618, 41, 0),
			(item_set_slot, 619, 66, 500),
			(item_set_slot, 619, 65, 0),
			(item_set_slot, 619, 67, 0),
			(item_set_slot, 619, 73, 26),
			(item_set_slot, 619, 41, 0),
			(item_set_slot, 619, 44, 5),
			(item_set_slot, 619, 45, 5),
			(item_set_slot, 619, 41, 0),
			(item_set_slot, 620, 66, 500),
			(item_set_slot, 620, 65, 0),
			(item_set_slot, 620, 67, 0),
			(item_set_slot, 620, 73, 26),
			(item_set_slot, 620, 41, 0),
			(item_set_slot, 620, 44, 5),
			(item_set_slot, 620, 45, 5),
			(item_set_slot, 620, 41, 0),
			(item_set_slot, 621, 66, 500),
			(item_set_slot, 621, 65, 0),
			(item_set_slot, 621, 67, 0),
			(item_set_slot, 621, 73, 26),
			(item_set_slot, 621, 41, 0),
			(item_set_slot, 621, 44, 5),
			(item_set_slot, 621, 45, 5),
			(item_set_slot, 621, 41, 0),
			(item_set_slot, 622, 66, 500),
			(item_set_slot, 622, 65, 0),
			(item_set_slot, 622, 67, 0),
			(item_set_slot, 622, 73, 26),
			(item_set_slot, 622, 41, 0),
			(item_set_slot, 622, 44, 5),
			(item_set_slot, 622, 45, 5),
			(item_set_slot, 622, 41, 0),
			(item_set_slot, 623, 66, 400),
			(item_set_slot, 623, 65, 12),
			(item_set_slot, 623, 73, 0),
			(item_set_slot, 623, 44, 0),
			(item_set_slot, 623, 45, 49),
			(item_set_slot, 623, 43, 70),
			(item_set_slot, 623, 42, 95),
			(item_set_slot, 623, 41, 2097152),
			(item_set_slot, 623, 10, 1),
			(item_set_slot, 624, 66, 600),
			(item_set_slot, 624, 65, 12),
			(item_set_slot, 624, 73, 0),
			(item_set_slot, 624, 44, 45),
			(item_set_slot, 624, 45, 40),
			(item_set_slot, 624, 43, 90),
			(item_set_slot, 624, 42, 113),
			(item_set_slot, 624, 41, 2097152),
			(item_set_slot, 624, 10, 1),
			(item_set_slot, 625, 66, 5800),
			(item_set_slot, 625, 65, 14),
			(item_set_slot, 625, 73, 0),
			(item_set_slot, 625, 41, 0),
			(item_set_slot, 625, 44, 54),
			(item_set_slot, 625, 45, 18),
			(item_set_slot, 625, 41, 0),
			(item_set_slot, 626, 66, 100),
			(item_set_slot, 626, 65, 12),
			(item_set_slot, 626, 67, 2),
			(item_set_slot, 626, 73, 29),
			(item_set_slot, 626, 41, 40),
			(item_set_slot, 626, 44, 0),
			(item_set_slot, 626, 45, 0),
			(item_set_slot, 626, 41, 0),
			(item_set_slot, 627, 66, 500),
			(item_set_slot, 627, 65, 0),
			(item_set_slot, 627, 73, 0),
			(item_set_slot, 627, 42, 76),
			(item_set_slot, 627, 44, 5),
			(item_set_slot, 627, 43, 87),
			(item_set_slot, 627, 41, 0),
			(item_set_slot, 628, 66, 2500),
			(item_set_slot, 628, 65, 14),
			(item_set_slot, 628, 67, 2),
			(item_set_slot, 628, 73, 29),
			(item_set_slot, 628, 41, 0),
			(item_set_slot, 628, 44, 54),
			(item_set_slot, 628, 45, 15),
			(item_set_slot, 628, 41, 0),
			(item_set_slot, 629, 66, 500),
			(item_set_slot, 629, 65, 2),
			(item_set_slot, 629, 73, 0),
			(item_set_slot, 629, 42, 78),
			(item_set_slot, 629, 44, 15),
			(item_set_slot, 629, 43, 87),
			(item_set_slot, 629, 41, 0),
			(item_set_slot, 630, 66, 700),
			(item_set_slot, 630, 65, 15),
			(item_set_slot, 630, 73, 14),
			(item_set_slot, 630, 44, 0),
			(item_set_slot, 630, 45, 44),
			(item_set_slot, 630, 43, 100),
			(item_set_slot, 630, 42, 104),
			(item_set_slot, 630, 41, 2097152),
			(item_set_slot, 630, 10, 1),
			(item_set_slot, 631, 66, 500),
			(item_set_slot, 631, 65, 10),
			(item_set_slot, 631, 73, 0),
			(item_set_slot, 631, 44, 0),
			(item_set_slot, 631, 45, 36),
			(item_set_slot, 631, 43, 100),
			(item_set_slot, 631, 42, 78),
			(item_set_slot, 631, 41, 2097152),
			(item_set_slot, 632, 66, 300),
			(item_set_slot, 632, 65, 10),
			(item_set_slot, 632, 73, 0),
			(item_set_slot, 632, 44, 0),
			(item_set_slot, 632, 45, 28),
			(item_set_slot, 632, 43, 115),
			(item_set_slot, 632, 42, 52),
			(item_set_slot, 632, 41, 0),
			(item_set_slot, 633, 66, 500),
			(item_set_slot, 633, 65, 0),
			(item_set_slot, 633, 67, 0),
			(item_set_slot, 633, 73, 26),
			(item_set_slot, 633, 41, 0),
			(item_set_slot, 633, 44, 2),
			(item_set_slot, 633, 45, 0),
			(item_set_slot, 633, 41, 0),
			(item_set_slot, 634, 66, 500),
			(item_set_slot, 634, 65, 0),
			(item_set_slot, 634, 67, 0),
			(item_set_slot, 634, 73, 26),
			(item_set_slot, 634, 41, 0),
			(item_set_slot, 634, 44, 2),
			(item_set_slot, 634, 45, 0),
			(item_set_slot, 634, 41, 0),
			(item_set_slot, 635, 66, 400),
			(item_set_slot, 635, 65, 0),
			(item_set_slot, 635, 73, 27),
			(item_set_slot, 635, 42, 50),
			(item_set_slot, 635, 44, 5),
			(item_set_slot, 635, 43, 76),
			(item_set_slot, 635, 41, 0),
			(item_set_slot, 636, 66, 400),
			(item_set_slot, 636, 65, 0),
			(item_set_slot, 636, 73, 27),
			(item_set_slot, 636, 42, 50),
			(item_set_slot, 636, 44, 5),
			(item_set_slot, 636, 43, 76),
			(item_set_slot, 636, 41, 0),
			(item_set_slot, 637, 66, 500),
			(item_set_slot, 637, 65, 0),
			(item_set_slot, 637, 73, 0),
			(item_set_slot, 637, 42, 50),
			(item_set_slot, 637, 44, 2),
			(item_set_slot, 637, 43, 87),
			(item_set_slot, 637, 41, 0),
			(item_set_slot, 638, 66, 400),
			(item_set_slot, 638, 65, 0),
			(item_set_slot, 638, 73, 27),
			(item_set_slot, 638, 42, 36),
			(item_set_slot, 638, 44, 10),
			(item_set_slot, 638, 43, 76),
			(item_set_slot, 638, 41, 0),
			(item_set_slot, 639, 66, 400),
			(item_set_slot, 639, 65, 0),
			(item_set_slot, 639, 73, 27),
			(item_set_slot, 639, 42, 36),
			(item_set_slot, 639, 44, 10),
			(item_set_slot, 639, 43, 76),
			(item_set_slot, 639, 41, 0),
			(item_set_slot, 640, 66, 400),
			(item_set_slot, 640, 65, 0),
			(item_set_slot, 640, 73, 27),
			(item_set_slot, 640, 42, 36),
			(item_set_slot, 640, 44, 10),
			(item_set_slot, 640, 43, 76),
			(item_set_slot, 640, 41, 0),
			(item_set_slot, 641, 66, 400),
			(item_set_slot, 641, 65, 0),
			(item_set_slot, 641, 73, 27),
			(item_set_slot, 641, 42, 43),
			(item_set_slot, 641, 44, 15),
			(item_set_slot, 641, 43, 76),
			(item_set_slot, 641, 41, 0),
			(item_set_slot, 641, 10, 1),
			(item_set_slot, 642, 66, 400),
			(item_set_slot, 642, 65, 0),
			(item_set_slot, 642, 73, 27),
			(item_set_slot, 642, 42, 43),
			(item_set_slot, 642, 44, 15),
			(item_set_slot, 642, 43, 76),
			(item_set_slot, 642, 41, 0),
			(item_set_slot, 642, 10, 1),
			(item_set_slot, 643, 66, 500),
			(item_set_slot, 643, 65, 0),
			(item_set_slot, 643, 73, 0),
			(item_set_slot, 643, 42, 76),
			(item_set_slot, 643, 44, 5),
			(item_set_slot, 643, 43, 87),
			(item_set_slot, 643, 41, 0),
			(item_set_slot, 644, 66, 500),
			(item_set_slot, 644, 65, 0),
			(item_set_slot, 644, 73, 0),
			(item_set_slot, 644, 42, 76),
			(item_set_slot, 644, 44, 5),
			(item_set_slot, 644, 43, 87),
			(item_set_slot, 644, 41, 0),
			(item_set_slot, 645, 66, 500),
			(item_set_slot, 645, 65, 2),
			(item_set_slot, 645, 73, 0),
			(item_set_slot, 645, 42, 65),
			(item_set_slot, 645, 44, 15),
			(item_set_slot, 645, 43, 87),
			(item_set_slot, 645, 41, 0),
			(item_set_slot, 646, 66, 2000),
			(item_set_slot, 646, 65, 12),
			(item_set_slot, 646, 73, 0),
			(item_set_slot, 646, 41, 0),
			(item_set_slot, 646, 44, 35),
			(item_set_slot, 646, 45, 5),
			(item_set_slot, 646, 41, 0),
			(item_set_slot, 647, 66, 500),
			(item_set_slot, 647, 65, 0),
			(item_set_slot, 647, 67, 0),
			(item_set_slot, 647, 73, 26),
			(item_set_slot, 647, 41, 0),
			(item_set_slot, 647, 44, 2),
			(item_set_slot, 647, 45, 0),
			(item_set_slot, 647, 41, 0),
			(item_set_slot, 648, 66, 500),
			(item_set_slot, 648, 65, 0),
			(item_set_slot, 648, 67, 0),
			(item_set_slot, 648, 73, 26),
			(item_set_slot, 648, 41, 0),
			(item_set_slot, 648, 44, 2),
			(item_set_slot, 648, 45, 0),
			(item_set_slot, 648, 41, 0),
			(item_set_slot, 649, 66, 500),
			(item_set_slot, 649, 65, 0),
			(item_set_slot, 649, 67, 0),
			(item_set_slot, 649, 73, 26),
			(item_set_slot, 649, 41, 0),
			(item_set_slot, 649, 44, 2),
			(item_set_slot, 649, 45, 0),
			(item_set_slot, 649, 41, 0),
			(item_set_slot, 650, 66, 500),
			(item_set_slot, 650, 65, 0),
			(item_set_slot, 650, 67, 0),
			(item_set_slot, 650, 73, 26),
			(item_set_slot, 650, 41, 0),
			(item_set_slot, 650, 44, 2),
			(item_set_slot, 650, 45, 0),
			(item_set_slot, 650, 41, 0),
			(item_set_slot, 651, 66, 500),
			(item_set_slot, 651, 65, 0),
			(item_set_slot, 651, 67, 0),
			(item_set_slot, 651, 73, 26),
			(item_set_slot, 651, 41, 0),
			(item_set_slot, 651, 44, 2),
			(item_set_slot, 651, 45, 0),
			(item_set_slot, 651, 41, 0),
			(item_set_slot, 652, 66, 500),
			(item_set_slot, 652, 65, 0),
			(item_set_slot, 652, 67, 0),
			(item_set_slot, 652, 73, 26),
			(item_set_slot, 652, 41, 0),
			(item_set_slot, 652, 44, 2),
			(item_set_slot, 652, 45, 0),
			(item_set_slot, 652, 41, 0),
			(item_set_slot, 653, 66, 500),
			(item_set_slot, 653, 65, 0),
			(item_set_slot, 653, 67, 0),
			(item_set_slot, 653, 73, 26),
			(item_set_slot, 653, 41, 0),
			(item_set_slot, 653, 44, 2),
			(item_set_slot, 653, 45, 0),
			(item_set_slot, 653, 41, 0),
			(item_set_slot, 654, 66, 500),
			(item_set_slot, 654, 65, 0),
			(item_set_slot, 654, 67, 0),
			(item_set_slot, 654, 73, 26),
			(item_set_slot, 654, 41, 0),
			(item_set_slot, 654, 44, 2),
			(item_set_slot, 654, 45, 0),
			(item_set_slot, 654, 41, 0),
			(item_set_slot, 655, 66, 500),
			(item_set_slot, 655, 65, 0),
			(item_set_slot, 655, 67, 0),
			(item_set_slot, 655, 73, 26),
			(item_set_slot, 655, 41, 0),
			(item_set_slot, 655, 44, 2),
			(item_set_slot, 655, 45, 0),
			(item_set_slot, 655, 41, 0),
			(item_set_slot, 656, 66, 500),
			(item_set_slot, 656, 65, 0),
			(item_set_slot, 656, 67, 0),
			(item_set_slot, 656, 73, 26),
			(item_set_slot, 656, 41, 0),
			(item_set_slot, 656, 44, 2),
			(item_set_slot, 656, 45, 0),
			(item_set_slot, 656, 41, 0),
			(item_set_slot, 657, 66, 500),
			(item_set_slot, 657, 65, 0),
			(item_set_slot, 657, 67, 0),
			(item_set_slot, 657, 73, 26),
			(item_set_slot, 657, 41, 0),
			(item_set_slot, 657, 44, 2),
			(item_set_slot, 657, 45, 0),
			(item_set_slot, 657, 41, 0),
			(item_set_slot, 658, 66, 2000),
			(item_set_slot, 658, 65, 12),
			(item_set_slot, 658, 73, 0),
			(item_set_slot, 658, 41, 0),
			(item_set_slot, 658, 44, 37),
			(item_set_slot, 658, 45, 5),
			(item_set_slot, 658, 41, 0),
			(item_set_slot, 659, 66, 400),
			(item_set_slot, 659, 65, 10),
			(item_set_slot, 659, 73, 0),
			(item_set_slot, 659, 41, 33),
			(item_set_slot, 659, 44, 0),
			(item_set_slot, 659, 45, 0),
			(item_set_slot, 659, 41, 0),
			(item_set_slot, 660, 66, 200),
			(item_set_slot, 660, 65, 0),
			(item_set_slot, 660, 67, 0),
			(item_set_slot, 660, 73, 26),
			(item_set_slot, 660, 41, 0),
			(item_set_slot, 660, 44, 5),
			(item_set_slot, 660, 45, 1),
			(item_set_slot, 660, 41, 0),
			(item_set_slot, 661, 66, 200),
			(item_set_slot, 661, 65, 0),
			(item_set_slot, 661, 67, 0),
			(item_set_slot, 661, 73, 26),
			(item_set_slot, 661, 41, 0),
			(item_set_slot, 661, 44, 5),
			(item_set_slot, 661, 45, 1),
			(item_set_slot, 661, 41, 0),
			(item_set_slot, 662, 66, 200),
			(item_set_slot, 662, 65, 0),
			(item_set_slot, 662, 67, 0),
			(item_set_slot, 662, 73, 26),
			(item_set_slot, 662, 41, 0),
			(item_set_slot, 662, 44, 5),
			(item_set_slot, 662, 45, 1),
			(item_set_slot, 662, 41, 0),
			(item_set_slot, 663, 66, 200),
			(item_set_slot, 663, 65, 0),
			(item_set_slot, 663, 67, 0),
			(item_set_slot, 663, 73, 26),
			(item_set_slot, 663, 41, 0),
			(item_set_slot, 663, 44, 5),
			(item_set_slot, 663, 45, 1),
			(item_set_slot, 663, 41, 0),
			(item_set_slot, 664, 66, 500),
			(item_set_slot, 664, 65, 14),
			(item_set_slot, 664, 73, 0),
			(item_set_slot, 664, 41, 24),
			(item_set_slot, 664, 44, 0),
			(item_set_slot, 664, 45, 0),
			(item_set_slot, 664, 41, 0),
			(item_set_slot, 665, 66, 300),
			(item_set_slot, 665, 65, 14),
			(item_set_slot, 665, 73, 0),
			(item_set_slot, 665, 41, 0),
			(item_set_slot, 665, 44, 0),
			(item_set_slot, 665, 45, 20),
			(item_set_slot, 665, 41, 0),
			(item_set_slot, 666, 66, 400),
			(item_set_slot, 666, 65, 14),
			(item_set_slot, 666, 67, 0),
			(item_set_slot, 666, 73, 26),
			(item_set_slot, 666, 41, 0),
			(item_set_slot, 666, 44, 33),
			(item_set_slot, 666, 45, 8),
			(item_set_slot, 666, 41, 0),
			(item_set_slot, 667, 66, 600),
			(item_set_slot, 667, 65, 12),
			(item_set_slot, 667, 73, 0),
			(item_set_slot, 667, 44, 44),
			(item_set_slot, 667, 45, 30),
			(item_set_slot, 667, 43, 110),
			(item_set_slot, 667, 42, 118),
			(item_set_slot, 667, 41, 2097152),
			(item_set_slot, 668, 66, 200),
			(item_set_slot, 668, 65, 8),
			(item_set_slot, 668, 73, 18),
			(item_set_slot, 668, 44, 0),
			(item_set_slot, 668, 45, 30),
			(item_set_slot, 668, 43, 100),
			(item_set_slot, 668, 42, 48),
			(item_set_slot, 668, 41, 0),
			(item_set_slot, 669, 66, 200),
			(item_set_slot, 669, 65, 8),
			(item_set_slot, 669, 73, 18),
			(item_set_slot, 669, 44, 0),
			(item_set_slot, 669, 45, 27),
			(item_set_slot, 669, 43, 105),
			(item_set_slot, 669, 42, 61),
			(item_set_slot, 669, 41, 0),
			(item_set_slot, 670, 66, 200),
			(item_set_slot, 670, 65, 8),
			(item_set_slot, 670, 73, 18),
			(item_set_slot, 670, 44, 0),
			(item_set_slot, 670, 45, 32),
			(item_set_slot, 670, 43, 100),
			(item_set_slot, 670, 42, 48),
			(item_set_slot, 670, 41, 0),
			(item_set_slot, 671, 66, 200),
			(item_set_slot, 671, 65, 8),
			(item_set_slot, 671, 73, 18),
			(item_set_slot, 671, 44, 0),
			(item_set_slot, 671, 45, 32),
			(item_set_slot, 671, 43, 100),
			(item_set_slot, 671, 42, 48),
			(item_set_slot, 671, 41, 0),
			(item_set_slot, 672, 66, 200),
			(item_set_slot, 672, 65, 8),
			(item_set_slot, 672, 73, 18),
			(item_set_slot, 672, 44, 0),
			(item_set_slot, 672, 45, 32),
			(item_set_slot, 672, 43, 100),
			(item_set_slot, 672, 42, 52),
			(item_set_slot, 672, 41, 0),
			(item_set_slot, 673, 66, 200),
			(item_set_slot, 673, 65, 8),
			(item_set_slot, 673, 73, 18),
			(item_set_slot, 673, 44, 0),
			(item_set_slot, 673, 45, 7),
			(item_set_slot, 673, 43, 100),
			(item_set_slot, 673, 42, 30),
			(item_set_slot, 673, 41, 0),
			(item_set_slot, 674, 66, 200),
			(item_set_slot, 674, 65, 8),
			(item_set_slot, 674, 73, 18),
			(item_set_slot, 674, 44, 0),
			(item_set_slot, 674, 45, 30),
			(item_set_slot, 674, 43, 100),
			(item_set_slot, 674, 42, 52),
			(item_set_slot, 674, 41, 0),
			(item_set_slot, 675, 66, 600),
			(item_set_slot, 675, 65, 12),
			(item_set_slot, 675, 73, 18),
			(item_set_slot, 675, 44, 0),
			(item_set_slot, 675, 45, 37),
			(item_set_slot, 675, 43, 85),
			(item_set_slot, 675, 42, 109),
			(item_set_slot, 675, 41, 2097152),
			(item_set_slot, 675, 10, 1),
			(item_set_slot, 676, 66, 600),
			(item_set_slot, 676, 65, 12),
			(item_set_slot, 676, 73, 18),
			(item_set_slot, 676, 44, 0),
			(item_set_slot, 676, 45, 40),
			(item_set_slot, 676, 43, 75),
			(item_set_slot, 676, 42, 78),
			(item_set_slot, 676, 41, 2097152),
			(item_set_slot, 676, 10, 1),
			(item_set_slot, 677, 66, 600),
			(item_set_slot, 677, 65, 12),
			(item_set_slot, 677, 73, 0),
			(item_set_slot, 677, 44, 44),
			(item_set_slot, 677, 45, 42),
			(item_set_slot, 677, 43, 90),
			(item_set_slot, 677, 42, 126),
			(item_set_slot, 677, 41, 2097152),
			(item_set_slot, 677, 10, 1),
			(item_set_slot, 678, 66, 400),
			(item_set_slot, 678, 65, 0),
			(item_set_slot, 678, 67, 2),
			(item_set_slot, 678, 73, 29),
			(item_set_slot, 678, 41, 25),
			(item_set_slot, 678, 44, 0),
			(item_set_slot, 678, 45, 0),
			(item_set_slot, 678, 41, 0),
			(item_set_slot, 679, 66, 400),
			(item_set_slot, 679, 65, 0),
			(item_set_slot, 679, 67, 2),
			(item_set_slot, 679, 73, 29),
			(item_set_slot, 679, 41, 25),
			(item_set_slot, 679, 44, 0),
			(item_set_slot, 679, 45, 0),
			(item_set_slot, 679, 41, 0),
			(item_set_slot, 680, 66, 400),
			(item_set_slot, 680, 65, 12),
			(item_set_slot, 680, 67, 2),
			(item_set_slot, 680, 73, 29),
			(item_set_slot, 680, 41, 25),
			(item_set_slot, 680, 44, 0),
			(item_set_slot, 680, 45, 0),
			(item_set_slot, 680, 41, 0),
			(item_set_slot, 681, 66, 400),
			(item_set_slot, 681, 65, 0),
			(item_set_slot, 681, 67, 2),
			(item_set_slot, 681, 73, 29),
			(item_set_slot, 681, 41, 13),
			(item_set_slot, 681, 44, 0),
			(item_set_slot, 681, 45, 0),
			(item_set_slot, 681, 41, 0),
			(item_set_slot, 682, 66, 400),
			(item_set_slot, 682, 65, 0),
			(item_set_slot, 682, 67, 2),
			(item_set_slot, 682, 73, 29),
			(item_set_slot, 682, 41, 13),
			(item_set_slot, 682, 44, 0),
			(item_set_slot, 682, 45, 0),
			(item_set_slot, 682, 41, 0),
			(item_set_slot, 683, 66, 200),
			(item_set_slot, 683, 65, 8),
			(item_set_slot, 683, 73, 18),
			(item_set_slot, 683, 44, 0),
			(item_set_slot, 683, 45, 18),
			(item_set_slot, 683, 43, 95),
			(item_set_slot, 683, 42, 61),
			(item_set_slot, 683, 41, 0),
			(item_set_slot, 684, 66, 400),
			(item_set_slot, 684, 65, 0),
			(item_set_slot, 684, 73, 13),
			(item_set_slot, 684, 44, 23),
			(item_set_slot, 684, 45, 15),
			(item_set_slot, 684, 43, 125),
			(item_set_slot, 684, 42, 130),
			(item_set_slot, 684, 41, 2097152),
			(item_set_slot, 685, 66, 400),
			(item_set_slot, 685, 65, 0),
			(item_set_slot, 685, 73, 13),
			(item_set_slot, 685, 44, 20),
			(item_set_slot, 685, 45, 15),
			(item_set_slot, 685, 43, 110),
			(item_set_slot, 685, 42, 196),
			(item_set_slot, 685, 47, 1),
			(item_set_slot, 685, 46, 1),
			(item_set_slot, 685, 41, 2097152),
			(item_set_slot, 686, 66, 500),
			(item_set_slot, 686, 65, 0),
			(item_set_slot, 686, 67, 0),
			(item_set_slot, 686, 73, 26),
			(item_set_slot, 686, 41, 0),
			(item_set_slot, 686, 44, 30),
			(item_set_slot, 686, 45, 15),
			(item_set_slot, 686, 41, 0),
			(item_set_slot, 687, 66, 500),
			(item_set_slot, 687, 65, 0),
			(item_set_slot, 687, 67, 0),
			(item_set_slot, 687, 73, 26),
			(item_set_slot, 687, 41, 0),
			(item_set_slot, 687, 44, 30),
			(item_set_slot, 687, 45, 15),
			(item_set_slot, 687, 41, 0),
			(item_set_slot, 688, 66, 500),
			(item_set_slot, 688, 65, 0),
			(item_set_slot, 688, 67, 0),
			(item_set_slot, 688, 73, 26),
			(item_set_slot, 688, 41, 0),
			(item_set_slot, 688, 44, 30),
			(item_set_slot, 688, 45, 15),
			(item_set_slot, 688, 41, 0),
			(item_set_slot, 689, 66, 500),
			(item_set_slot, 689, 65, 0),
			(item_set_slot, 689, 67, 0),
			(item_set_slot, 689, 73, 26),
			(item_set_slot, 689, 41, 0),
			(item_set_slot, 689, 44, 35),
			(item_set_slot, 689, 45, 15),
			(item_set_slot, 689, 41, 0),
			(item_set_slot, 690, 66, 500),
			(item_set_slot, 690, 65, 0),
			(item_set_slot, 690, 67, 0),
			(item_set_slot, 690, 73, 26),
			(item_set_slot, 690, 41, 0),
			(item_set_slot, 690, 44, 35),
			(item_set_slot, 690, 45, 15),
			(item_set_slot, 690, 41, 0),
			(item_set_slot, 691, 66, 500),
			(item_set_slot, 691, 65, 0),
			(item_set_slot, 691, 67, 0),
			(item_set_slot, 691, 73, 26),
			(item_set_slot, 691, 41, 0),
			(item_set_slot, 691, 44, 35),
			(item_set_slot, 691, 45, 20),
			(item_set_slot, 691, 41, 0),
			(item_set_slot, 692, 66, 500),
			(item_set_slot, 692, 65, 0),
			(item_set_slot, 692, 67, 0),
			(item_set_slot, 692, 73, 26),
			(item_set_slot, 692, 41, 0),
			(item_set_slot, 692, 44, 9),
			(item_set_slot, 692, 45, 5),
			(item_set_slot, 692, 41, 0),
			(item_set_slot, 693, 66, 500),
			(item_set_slot, 693, 65, 0),
			(item_set_slot, 693, 67, 0),
			(item_set_slot, 693, 73, 26),
			(item_set_slot, 693, 41, 0),
			(item_set_slot, 693, 44, 9),
			(item_set_slot, 693, 45, 5),
			(item_set_slot, 693, 41, 0),
			(item_set_slot, 694, 66, 500),
			(item_set_slot, 694, 65, 0),
			(item_set_slot, 694, 67, 0),
			(item_set_slot, 694, 73, 26),
			(item_set_slot, 694, 41, 0),
			(item_set_slot, 694, 44, 9),
			(item_set_slot, 694, 45, 5),
			(item_set_slot, 694, 41, 0),
			(item_set_slot, 695, 66, 500),
			(item_set_slot, 695, 65, 0),
			(item_set_slot, 695, 67, 0),
			(item_set_slot, 695, 73, 26),
			(item_set_slot, 695, 41, 5),
			(item_set_slot, 695, 44, 22),
			(item_set_slot, 695, 45, 11),
			(item_set_slot, 695, 41, 0),
			(item_set_slot, 696, 66, 500),
			(item_set_slot, 696, 65, 0),
			(item_set_slot, 696, 67, 0),
			(item_set_slot, 696, 73, 26),
			(item_set_slot, 696, 41, 5),
			(item_set_slot, 696, 44, 22),
			(item_set_slot, 696, 45, 11),
			(item_set_slot, 696, 41, 0),
			(item_set_slot, 697, 66, 500),
			(item_set_slot, 697, 65, 0),
			(item_set_slot, 697, 67, 0),
			(item_set_slot, 697, 73, 26),
			(item_set_slot, 697, 41, 5),
			(item_set_slot, 697, 44, 22),
			(item_set_slot, 697, 45, 11),
			(item_set_slot, 697, 41, 0),
			(item_set_slot, 698, 66, 500),
			(item_set_slot, 698, 65, 0),
			(item_set_slot, 698, 67, 0),
			(item_set_slot, 698, 73, 26),
			(item_set_slot, 698, 41, 5),
			(item_set_slot, 698, 44, 22),
			(item_set_slot, 698, 45, 11),
			(item_set_slot, 698, 41, 0),
			(item_set_slot, 699, 66, 500),
			(item_set_slot, 699, 65, 0),
			(item_set_slot, 699, 67, 0),
			(item_set_slot, 699, 73, 26),
			(item_set_slot, 699, 41, 5),
			(item_set_slot, 699, 44, 22),
			(item_set_slot, 699, 45, 11),
			(item_set_slot, 699, 41, 0),
			(item_set_slot, 700, 66, 500),
			(item_set_slot, 700, 65, 0),
			(item_set_slot, 700, 67, 0),
			(item_set_slot, 700, 73, 26),
			(item_set_slot, 700, 41, 5),
			(item_set_slot, 700, 44, 22),
			(item_set_slot, 700, 45, 11),
			(item_set_slot, 700, 41, 0),
			(item_set_slot, 701, 66, 2000),
			(item_set_slot, 701, 65, 12),
			(item_set_slot, 701, 67, 1),
			(item_set_slot, 701, 73, 29),
			(item_set_slot, 701, 41, 0),
			(item_set_slot, 701, 44, 40),
			(item_set_slot, 701, 45, 5),
			(item_set_slot, 701, 41, 0),
			(item_set_slot, 702, 66, 2000),
			(item_set_slot, 702, 65, 12),
			(item_set_slot, 702, 67, 1),
			(item_set_slot, 702, 73, 29),
			(item_set_slot, 702, 41, 0),
			(item_set_slot, 702, 44, 40),
			(item_set_slot, 702, 45, 4),
			(item_set_slot, 702, 41, 0),
			(item_set_slot, 703, 66, 500),
			(item_set_slot, 703, 65, 0),
			(item_set_slot, 703, 67, 0),
			(item_set_slot, 703, 73, 26),
			(item_set_slot, 703, 41, 0),
			(item_set_slot, 703, 44, 30),
			(item_set_slot, 703, 45, 15),
			(item_set_slot, 703, 41, 0),
			(item_set_slot, 704, 66, 500),
			(item_set_slot, 704, 65, 0),
			(item_set_slot, 704, 67, 0),
			(item_set_slot, 704, 73, 26),
			(item_set_slot, 704, 41, 0),
			(item_set_slot, 704, 44, 30),
			(item_set_slot, 704, 45, 15),
			(item_set_slot, 704, 41, 0),
			(item_set_slot, 705, 66, 500),
			(item_set_slot, 705, 65, 0),
			(item_set_slot, 705, 67, 0),
			(item_set_slot, 705, 73, 26),
			(item_set_slot, 705, 41, 0),
			(item_set_slot, 705, 44, 30),
			(item_set_slot, 705, 45, 15),
			(item_set_slot, 705, 41, 0),
			(item_set_slot, 706, 66, 2000),
			(item_set_slot, 706, 65, 12),
			(item_set_slot, 706, 67, 1),
			(item_set_slot, 706, 73, 29),
			(item_set_slot, 706, 41, 0),
			(item_set_slot, 706, 44, 28),
			(item_set_slot, 706, 45, 5),
			(item_set_slot, 706, 41, 0),
			(item_set_slot, 707, 66, 2000),
			(item_set_slot, 707, 65, 12),
			(item_set_slot, 707, 67, 1),
			(item_set_slot, 707, 73, 29),
			(item_set_slot, 707, 41, 0),
			(item_set_slot, 707, 44, 28),
			(item_set_slot, 707, 45, 5),
			(item_set_slot, 707, 41, 0),
			(item_set_slot, 708, 66, 2000),
			(item_set_slot, 708, 65, 12),
			(item_set_slot, 708, 67, 1),
			(item_set_slot, 708, 73, 29),
			(item_set_slot, 708, 41, 0),
			(item_set_slot, 708, 44, 28),
			(item_set_slot, 708, 45, 5),
			(item_set_slot, 708, 41, 0),
			(item_set_slot, 709, 66, 400),
			(item_set_slot, 709, 65, 12),
			(item_set_slot, 709, 67, 2),
			(item_set_slot, 709, 73, 29),
			(item_set_slot, 709, 41, 33),
			(item_set_slot, 709, 44, 0),
			(item_set_slot, 709, 45, 0),
			(item_set_slot, 709, 41, 0),
			(item_set_slot, 710, 66, 400),
			(item_set_slot, 710, 65, 12),
			(item_set_slot, 710, 73, 0),
			(item_set_slot, 710, 41, 37),
			(item_set_slot, 710, 44, 0),
			(item_set_slot, 710, 45, 0),
			(item_set_slot, 710, 41, 0),
			(item_set_slot, 711, 66, 400),
			(item_set_slot, 711, 65, 12),
			(item_set_slot, 711, 67, 0),
			(item_set_slot, 711, 73, 26),
			(item_set_slot, 711, 41, 33),
			(item_set_slot, 711, 44, 0),
			(item_set_slot, 711, 45, 0),
			(item_set_slot, 711, 41, 0),
			(item_set_slot, 712, 66, 400),
			(item_set_slot, 712, 65, 12),
			(item_set_slot, 712, 67, 0),
			(item_set_slot, 712, 73, 26),
			(item_set_slot, 712, 41, 30),
			(item_set_slot, 712, 44, 0),
			(item_set_slot, 712, 45, 0),
			(item_set_slot, 712, 41, 0),
			(item_set_slot, 713, 66, 400),
			(item_set_slot, 713, 65, 12),
			(item_set_slot, 713, 67, 0),
			(item_set_slot, 713, 73, 26),
			(item_set_slot, 713, 41, 33),
			(item_set_slot, 713, 44, 0),
			(item_set_slot, 713, 45, 0),
			(item_set_slot, 713, 41, 0),
			(item_set_slot, 714, 66, 400),
			(item_set_slot, 714, 65, 12),
			(item_set_slot, 714, 67, 0),
			(item_set_slot, 714, 73, 26),
			(item_set_slot, 714, 41, 30),
			(item_set_slot, 714, 44, 0),
			(item_set_slot, 714, 45, 0),
			(item_set_slot, 714, 41, 0),
			(item_set_slot, 715, 66, 500),
			(item_set_slot, 715, 65, 0),
			(item_set_slot, 715, 73, 0),
			(item_set_slot, 715, 42, 44),
			(item_set_slot, 715, 44, 2),
			(item_set_slot, 715, 43, 87),
			(item_set_slot, 715, 41, 0),
			(item_set_slot, 716, 66, 500),
			(item_set_slot, 716, 65, 0),
			(item_set_slot, 716, 73, 0),
			(item_set_slot, 716, 42, 44),
			(item_set_slot, 716, 44, 2),
			(item_set_slot, 716, 43, 87),
			(item_set_slot, 716, 41, 0),
			(item_set_slot, 717, 66, 500),
			(item_set_slot, 717, 65, 0),
			(item_set_slot, 717, 73, 0),
			(item_set_slot, 717, 42, 44),
			(item_set_slot, 717, 44, 2),
			(item_set_slot, 717, 43, 87),
			(item_set_slot, 717, 41, 0),
			(item_set_slot, 718, 66, 500),
			(item_set_slot, 718, 65, 0),
			(item_set_slot, 718, 73, 0),
			(item_set_slot, 718, 42, 44),
			(item_set_slot, 718, 44, 2),
			(item_set_slot, 718, 43, 87),
			(item_set_slot, 718, 41, 0),
			(item_set_slot, 719, 66, 500),
			(item_set_slot, 719, 65, 0),
			(item_set_slot, 719, 73, 0),
			(item_set_slot, 719, 42, 44),
			(item_set_slot, 719, 44, 2),
			(item_set_slot, 719, 43, 87),
			(item_set_slot, 719, 41, 0),
			(item_set_slot, 720, 66, 500),
			(item_set_slot, 720, 65, 0),
			(item_set_slot, 720, 73, 0),
			(item_set_slot, 720, 42, 44),
			(item_set_slot, 720, 44, 2),
			(item_set_slot, 720, 43, 87),
			(item_set_slot, 720, 41, 0),
			(item_set_slot, 721, 66, 500),
			(item_set_slot, 721, 65, 0),
			(item_set_slot, 721, 73, 0),
			(item_set_slot, 721, 42, 44),
			(item_set_slot, 721, 44, 2),
			(item_set_slot, 721, 43, 87),
			(item_set_slot, 721, 41, 0),
			(item_set_slot, 722, 66, 500),
			(item_set_slot, 722, 65, 0),
			(item_set_slot, 722, 73, 0),
			(item_set_slot, 722, 42, 70),
			(item_set_slot, 722, 44, 2),
			(item_set_slot, 722, 43, 87),
			(item_set_slot, 722, 41, 0),
			(item_set_slot, 723, 66, 500),
			(item_set_slot, 723, 65, 0),
			(item_set_slot, 723, 67, 0),
			(item_set_slot, 723, 73, 26),
			(item_set_slot, 723, 41, 0),
			(item_set_slot, 723, 44, 9),
			(item_set_slot, 723, 45, 5),
			(item_set_slot, 723, 41, 0),
			(item_set_slot, 724, 66, 500),
			(item_set_slot, 724, 65, 0),
			(item_set_slot, 724, 67, 0),
			(item_set_slot, 724, 73, 26),
			(item_set_slot, 724, 41, 0),
			(item_set_slot, 724, 44, 9),
			(item_set_slot, 724, 45, 5),
			(item_set_slot, 724, 41, 0),
			(item_set_slot, 725, 66, 500),
			(item_set_slot, 725, 65, 0),
			(item_set_slot, 725, 67, 0),
			(item_set_slot, 725, 73, 26),
			(item_set_slot, 725, 41, 0),
			(item_set_slot, 725, 44, 9),
			(item_set_slot, 725, 45, 5),
			(item_set_slot, 725, 41, 0),
			(item_set_slot, 726, 66, 500),
			(item_set_slot, 726, 65, 0),
			(item_set_slot, 726, 67, 0),
			(item_set_slot, 726, 73, 26),
			(item_set_slot, 726, 41, 5),
			(item_set_slot, 726, 44, 22),
			(item_set_slot, 726, 45, 11),
			(item_set_slot, 726, 41, 0),
			(item_set_slot, 727, 66, 500),
			(item_set_slot, 727, 65, 0),
			(item_set_slot, 727, 67, 0),
			(item_set_slot, 727, 73, 26),
			(item_set_slot, 727, 41, 5),
			(item_set_slot, 727, 44, 22),
			(item_set_slot, 727, 45, 11),
			(item_set_slot, 727, 41, 0),
			(item_set_slot, 728, 66, 500),
			(item_set_slot, 728, 65, 0),
			(item_set_slot, 728, 67, 0),
			(item_set_slot, 728, 73, 26),
			(item_set_slot, 728, 41, 5),
			(item_set_slot, 728, 44, 22),
			(item_set_slot, 728, 45, 11),
			(item_set_slot, 728, 41, 0),
			(item_set_slot, 729, 66, 500),
			(item_set_slot, 729, 65, 0),
			(item_set_slot, 729, 67, 0),
			(item_set_slot, 729, 73, 26),
			(item_set_slot, 729, 41, 5),
			(item_set_slot, 729, 44, 22),
			(item_set_slot, 729, 45, 11),
			(item_set_slot, 729, 41, 0),
			(item_set_slot, 730, 66, 500),
			(item_set_slot, 730, 65, 0),
			(item_set_slot, 730, 67, 0),
			(item_set_slot, 730, 73, 26),
			(item_set_slot, 730, 41, 5),
			(item_set_slot, 730, 44, 22),
			(item_set_slot, 730, 45, 11),
			(item_set_slot, 730, 41, 0),
			(item_set_slot, 731, 66, 500),
			(item_set_slot, 731, 65, 0),
			(item_set_slot, 731, 67, 0),
			(item_set_slot, 731, 73, 26),
			(item_set_slot, 731, 41, 5),
			(item_set_slot, 731, 44, 22),
			(item_set_slot, 731, 45, 11),
			(item_set_slot, 731, 41, 0),
			(item_set_slot, 732, 66, 300),
			(item_set_slot, 732, 65, 0),
			(item_set_slot, 732, 73, 42),
			(item_set_slot, 732, 44, 8),
			(item_set_slot, 732, 45, 0),
			(item_set_slot, 732, 43, 0),
			(item_set_slot, 732, 42, 91),
			(item_set_slot, 732, 41, 0),
			(item_set_slot, 733, 66, 200),
			(item_set_slot, 733, 65, 0),
			(item_set_slot, 733, 67, 0),
			(item_set_slot, 733, 73, 26),
			(item_set_slot, 733, 41, 0),
			(item_set_slot, 733, 44, 0),
			(item_set_slot, 733, 45, 10),
			(item_set_slot, 733, 41, 0),
			(item_set_slot, 734, 66, 400),
			(item_set_slot, 734, 65, 0),
			(item_set_slot, 734, 67, 0),
			(item_set_slot, 734, 73, 26),
			(item_set_slot, 734, 41, 0),
			(item_set_slot, 734, 44, 0),
			(item_set_slot, 734, 45, 10),
			(item_set_slot, 734, 41, 0),
			(item_set_slot, 735, 66, 200),
			(item_set_slot, 735, 65, 0),
			(item_set_slot, 735, 67, 0),
			(item_set_slot, 735, 73, 26),
			(item_set_slot, 735, 41, 0),
			(item_set_slot, 735, 44, 27),
			(item_set_slot, 735, 45, 0),
			(item_set_slot, 735, 41, 0),
			(item_set_slot, 736, 66, 400),
			(item_set_slot, 736, 65, 12),
			(item_set_slot, 736, 67, 0),
			(item_set_slot, 736, 73, 26),
			(item_set_slot, 736, 41, 27),
			(item_set_slot, 736, 44, 0),
			(item_set_slot, 736, 45, 0),
			(item_set_slot, 736, 41, 0),
			(item_set_slot, 737, 66, 100),
			(item_set_slot, 737, 65, 0),
			(item_set_slot, 737, 73, 0),
			(item_set_slot, 737, 41, 2),
			(item_set_slot, 737, 44, 0),
			(item_set_slot, 737, 45, 0),
			(item_set_slot, 737, 41, 0),
			(item_set_slot, 738, 66, 100),
			(item_set_slot, 738, 65, 0),
			(item_set_slot, 738, 73, 0),
			(item_set_slot, 738, 41, 2),
			(item_set_slot, 738, 44, 0),
			(item_set_slot, 738, 45, 0),
			(item_set_slot, 738, 41, 0),
			(item_set_slot, 739, 66, 100),
			(item_set_slot, 739, 65, 0),
			(item_set_slot, 739, 73, 0),
			(item_set_slot, 739, 41, 2),
			(item_set_slot, 739, 44, 0),
			(item_set_slot, 739, 45, 0),
			(item_set_slot, 739, 41, 0),
			(item_set_slot, 740, 66, 100),
			(item_set_slot, 740, 65, 0),
			(item_set_slot, 740, 73, 0),
			(item_set_slot, 740, 41, 2),
			(item_set_slot, 740, 44, 0),
			(item_set_slot, 740, 45, 0),
			(item_set_slot, 740, 41, 0),
			(item_set_slot, 741, 66, 100),
			(item_set_slot, 741, 65, 0),
			(item_set_slot, 741, 73, 0),
			(item_set_slot, 741, 41, 2),
			(item_set_slot, 741, 44, 0),
			(item_set_slot, 741, 45, 0),
			(item_set_slot, 741, 41, 0),
			(item_set_slot, 742, 66, 100),
			(item_set_slot, 742, 65, 0),
			(item_set_slot, 742, 73, 0),
			(item_set_slot, 742, 41, 2),
			(item_set_slot, 742, 44, 0),
			(item_set_slot, 742, 45, 0),
			(item_set_slot, 742, 41, 0),
			(item_set_slot, 743, 66, 400),
			(item_set_slot, 743, 65, 12),
			(item_set_slot, 743, 67, 0),
			(item_set_slot, 743, 73, 26),
			(item_set_slot, 743, 41, 30),
			(item_set_slot, 743, 44, 0),
			(item_set_slot, 743, 45, 0),
			(item_set_slot, 743, 41, 0),
			(item_set_slot, 744, 66, 200),
			(item_set_slot, 744, 65, 8),
			(item_set_slot, 744, 73, 18),
			(item_set_slot, 744, 44, 0),
			(item_set_slot, 744, 45, 32),
			(item_set_slot, 744, 43, 100),
			(item_set_slot, 744, 42, 61),
			(item_set_slot, 744, 41, 0),
			(item_set_slot, 745, 66, 500),
			(item_set_slot, 745, 65, 10),
			(item_set_slot, 745, 73, 0),
			(item_set_slot, 745, 44, 0),
			(item_set_slot, 745, 45, 28),
			(item_set_slot, 745, 43, 105),
			(item_set_slot, 745, 42, 100),
			(item_set_slot, 745, 41, 0),
			(item_set_slot, 746, 66, 100),
			(item_set_slot, 746, 65, 0),
			(item_set_slot, 746, 73, 0),
			(item_set_slot, 746, 44, 0),
			(item_set_slot, 746, 45, 15),
			(item_set_slot, 746, 43, 80),
			(item_set_slot, 746, 42, 43),
			(item_set_slot, 746, 41, 0),
			(item_set_slot, 747, 66, 100),
			(item_set_slot, 747, 65, 0),
			(item_set_slot, 747, 73, 0),
			(item_set_slot, 747, 44, 0),
			(item_set_slot, 747, 45, 15),
			(item_set_slot, 747, 43, 80),
			(item_set_slot, 747, 42, 43),
			(item_set_slot, 747, 41, 0),
			(item_set_slot, 748, 66, 100),
			(item_set_slot, 748, 65, 0),
			(item_set_slot, 748, 73, 0),
			(item_set_slot, 748, 44, 0),
			(item_set_slot, 748, 45, 15),
			(item_set_slot, 748, 43, 80),
			(item_set_slot, 748, 42, 43),
			(item_set_slot, 748, 41, 0),
			(item_set_slot, 749, 66, 1000),
			(item_set_slot, 749, 65, 0),
			(item_set_slot, 749, 67, 0),
			(item_set_slot, 749, 73, 26),
			(item_set_slot, 749, 41, 0),
			(item_set_slot, 749, 44, 24),
			(item_set_slot, 749, 45, 5),
			(item_set_slot, 749, 41, 0),
			(item_set_slot, 750, 66, 1000),
			(item_set_slot, 750, 65, 0),
			(item_set_slot, 750, 67, 0),
			(item_set_slot, 750, 73, 26),
			(item_set_slot, 750, 41, 0),
			(item_set_slot, 750, 44, 24),
			(item_set_slot, 750, 45, 5),
			(item_set_slot, 750, 41, 0),
			(item_set_slot, 751, 66, 1000),
			(item_set_slot, 751, 65, 0),
			(item_set_slot, 751, 67, 0),
			(item_set_slot, 751, 73, 26),
			(item_set_slot, 751, 41, 0),
			(item_set_slot, 751, 44, 24),
			(item_set_slot, 751, 45, 5),
			(item_set_slot, 751, 41, 0),
			(item_set_slot, 752, 66, 1000),
			(item_set_slot, 752, 65, 0),
			(item_set_slot, 752, 67, 0),
			(item_set_slot, 752, 73, 26),
			(item_set_slot, 752, 41, 0),
			(item_set_slot, 752, 44, 24),
			(item_set_slot, 752, 45, 5),
			(item_set_slot, 752, 41, 0),
			(item_set_slot, 753, 66, 2000),
			(item_set_slot, 753, 65, 12),
			(item_set_slot, 753, 67, 1),
			(item_set_slot, 753, 73, 29),
			(item_set_slot, 753, 41, 0),
			(item_set_slot, 753, 44, 37),
			(item_set_slot, 753, 45, 5),
			(item_set_slot, 753, 41, 0),
			(item_set_slot, 754, 66, 2000),
			(item_set_slot, 754, 65, 12),
			(item_set_slot, 754, 67, 1),
			(item_set_slot, 754, 73, 29),
			(item_set_slot, 754, 41, 0),
			(item_set_slot, 754, 44, 37),
			(item_set_slot, 754, 45, 5),
			(item_set_slot, 754, 41, 0),
			(item_set_slot, 755, 66, 2000),
			(item_set_slot, 755, 65, 12),
			(item_set_slot, 755, 67, 1),
			(item_set_slot, 755, 73, 29),
			(item_set_slot, 755, 41, 0),
			(item_set_slot, 755, 44, 40),
			(item_set_slot, 755, 45, 5),
			(item_set_slot, 755, 41, 0),
			(item_set_slot, 756, 66, 2000),
			(item_set_slot, 756, 65, 12),
			(item_set_slot, 756, 67, 1),
			(item_set_slot, 756, 73, 29),
			(item_set_slot, 756, 41, 0),
			(item_set_slot, 756, 44, 40),
			(item_set_slot, 756, 45, 5),
			(item_set_slot, 756, 41, 0),
			(item_set_slot, 757, 66, 2000),
			(item_set_slot, 757, 65, 12),
			(item_set_slot, 757, 67, 1),
			(item_set_slot, 757, 73, 29),
			(item_set_slot, 757, 41, 0),
			(item_set_slot, 757, 44, 40),
			(item_set_slot, 757, 45, 18),
			(item_set_slot, 757, 41, 0),
			(item_set_slot, 758, 66, 2000),
			(item_set_slot, 758, 65, 12),
			(item_set_slot, 758, 67, 1),
			(item_set_slot, 758, 73, 29),
			(item_set_slot, 758, 41, 0),
			(item_set_slot, 758, 44, 40),
			(item_set_slot, 758, 45, 18),
			(item_set_slot, 758, 41, 0),
			(item_set_slot, 759, 66, 2000),
			(item_set_slot, 759, 65, 12),
			(item_set_slot, 759, 67, 1),
			(item_set_slot, 759, 73, 29),
			(item_set_slot, 759, 41, 0),
			(item_set_slot, 759, 44, 40),
			(item_set_slot, 759, 45, 3),
			(item_set_slot, 759, 41, 0),
			(item_set_slot, 760, 66, 500),
			(item_set_slot, 760, 65, 12),
			(item_set_slot, 760, 67, 1),
			(item_set_slot, 760, 73, 29),
			(item_set_slot, 760, 41, 0),
			(item_set_slot, 760, 44, 8),
			(item_set_slot, 760, 45, 3),
			(item_set_slot, 760, 41, 0),
			(item_set_slot, 761, 66, 100),
			(item_set_slot, 761, 65, 0),
			(item_set_slot, 761, 73, 0),
			(item_set_slot, 761, 41, 0),
			(item_set_slot, 761, 44, 0),
			(item_set_slot, 761, 45, 0),
			(item_set_slot, 761, 41, 0),
			(item_set_slot, 762, 66, 100),
			(item_set_slot, 762, 65, 0),
			(item_set_slot, 762, 73, 0),
			(item_set_slot, 762, 41, 0),
			(item_set_slot, 762, 44, 0),
			(item_set_slot, 762, 45, 0),
			(item_set_slot, 762, 41, 0),
			(item_set_slot, 763, 66, 100),
			(item_set_slot, 763, 65, 0),
			(item_set_slot, 763, 73, 0),
			(item_set_slot, 763, 41, 0),
			(item_set_slot, 763, 44, 0),
			(item_set_slot, 763, 45, 0),
			(item_set_slot, 763, 41, 0),
			(item_set_slot, 764, 66, 400),
			(item_set_slot, 764, 65, 0),
			(item_set_slot, 764, 73, 13),
			(item_set_slot, 764, 44, 35),
			(item_set_slot, 764, 45, 25),
			(item_set_slot, 764, 43, 105),
			(item_set_slot, 764, 42, 183),
			(item_set_slot, 764, 47, 1),
			(item_set_slot, 764, 41, 2097152),
			(item_set_slot, 764, 10, 1),
			(item_set_slot, 765, 66, 400),
			(item_set_slot, 765, 65, 0),
			(item_set_slot, 765, 73, 13),
			(item_set_slot, 765, 44, 35),
			(item_set_slot, 765, 45, 25),
			(item_set_slot, 765, 43, 105),
			(item_set_slot, 765, 42, 161),
			(item_set_slot, 765, 47, 1),
			(item_set_slot, 765, 41, 2097152),
			(item_set_slot, 765, 10, 1),
			(item_set_slot, 766, 66, 400),
			(item_set_slot, 766, 65, 12),
			(item_set_slot, 766, 67, 1),
			(item_set_slot, 766, 73, 29),
			(item_set_slot, 766, 41, 37),
			(item_set_slot, 766, 44, 0),
			(item_set_slot, 766, 45, 0),
			(item_set_slot, 766, 41, 0),
			(item_set_slot, 767, 66, 400),
			(item_set_slot, 767, 65, 12),
			(item_set_slot, 767, 67, 1),
			(item_set_slot, 767, 73, 29),
			(item_set_slot, 767, 41, 24),
			(item_set_slot, 767, 44, 0),
			(item_set_slot, 767, 45, 0),
			(item_set_slot, 767, 41, 0),
			(item_set_slot, 768, 66, 400),
			(item_set_slot, 768, 65, 12),
			(item_set_slot, 768, 67, 1),
			(item_set_slot, 768, 73, 29),
			(item_set_slot, 768, 41, 24),
			(item_set_slot, 768, 44, 0),
			(item_set_slot, 768, 45, 0),
			(item_set_slot, 768, 41, 0),
			(item_set_slot, 769, 66, 400),
			(item_set_slot, 769, 65, 12),
			(item_set_slot, 769, 67, 1),
			(item_set_slot, 769, 73, 29),
			(item_set_slot, 769, 41, 24),
			(item_set_slot, 769, 44, 0),
			(item_set_slot, 769, 45, 0),
			(item_set_slot, 769, 41, 0),
			(item_set_slot, 770, 66, 400),
			(item_set_slot, 770, 65, 0),
			(item_set_slot, 770, 67, 1),
			(item_set_slot, 770, 73, 29),
			(item_set_slot, 770, 41, 13),
			(item_set_slot, 770, 44, 0),
			(item_set_slot, 770, 45, 0),
			(item_set_slot, 770, 41, 0),
			(item_set_slot, 771, 66, 400),
			(item_set_slot, 771, 65, 0),
			(item_set_slot, 771, 67, 1),
			(item_set_slot, 771, 73, 29),
			(item_set_slot, 771, 41, 13),
			(item_set_slot, 771, 44, 0),
			(item_set_slot, 771, 45, 0),
			(item_set_slot, 771, 41, 0),
			(item_set_slot, 772, 66, 400),
			(item_set_slot, 772, 65, 12),
			(item_set_slot, 772, 67, 1),
			(item_set_slot, 772, 73, 29),
			(item_set_slot, 772, 41, 30),
			(item_set_slot, 772, 44, 0),
			(item_set_slot, 772, 45, 0),
			(item_set_slot, 772, 41, 0),
			(item_set_slot, 773, 66, 400),
			(item_set_slot, 773, 65, 0),
			(item_set_slot, 773, 67, 0),
			(item_set_slot, 773, 73, 26),
			(item_set_slot, 773, 41, 15),
			(item_set_slot, 773, 44, 0),
			(item_set_slot, 773, 45, 0),
			(item_set_slot, 773, 41, 0),
			(item_set_slot, 774, 66, 400),
			(item_set_slot, 774, 65, 12),
			(item_set_slot, 774, 67, 1),
			(item_set_slot, 774, 73, 29),
			(item_set_slot, 774, 41, 30),
			(item_set_slot, 774, 44, 0),
			(item_set_slot, 774, 45, 0),
			(item_set_slot, 774, 41, 0),
			(item_set_slot, 775, 66, 400),
			(item_set_slot, 775, 65, 12),
			(item_set_slot, 775, 67, 1),
			(item_set_slot, 775, 73, 29),
			(item_set_slot, 775, 41, 34),
			(item_set_slot, 775, 44, 0),
			(item_set_slot, 775, 45, 0),
			(item_set_slot, 775, 41, 0),
			(item_set_slot, 776, 66, 400),
			(item_set_slot, 776, 65, 12),
			(item_set_slot, 776, 67, 1),
			(item_set_slot, 776, 73, 29),
			(item_set_slot, 776, 41, 34),
			(item_set_slot, 776, 44, 0),
			(item_set_slot, 776, 45, 0),
			(item_set_slot, 776, 41, 0),
			(item_set_slot, 777, 66, 400),
			(item_set_slot, 777, 65, 12),
			(item_set_slot, 777, 67, 1),
			(item_set_slot, 777, 73, 29),
			(item_set_slot, 777, 41, 30),
			(item_set_slot, 777, 44, 0),
			(item_set_slot, 777, 45, 0),
			(item_set_slot, 777, 41, 0),
			(item_set_slot, 778, 66, 400),
			(item_set_slot, 778, 65, 12),
			(item_set_slot, 778, 67, 1),
			(item_set_slot, 778, 73, 29),
			(item_set_slot, 778, 41, 30),
			(item_set_slot, 778, 44, 0),
			(item_set_slot, 778, 45, 0),
			(item_set_slot, 778, 41, 0),
			(item_set_slot, 779, 66, 2000),
			(item_set_slot, 779, 65, 12),
			(item_set_slot, 779, 67, 1),
			(item_set_slot, 779, 73, 29),
			(item_set_slot, 779, 41, 0),
			(item_set_slot, 779, 44, 30),
			(item_set_slot, 779, 45, 0),
			(item_set_slot, 779, 41, 0),
			(item_set_slot, 780, 66, 2000),
			(item_set_slot, 780, 65, 12),
			(item_set_slot, 780, 67, 1),
			(item_set_slot, 780, 73, 29),
			(item_set_slot, 780, 41, 0),
			(item_set_slot, 780, 44, 37),
			(item_set_slot, 780, 45, 0),
			(item_set_slot, 780, 41, 0),
			(item_set_slot, 781, 66, 2000),
			(item_set_slot, 781, 65, 12),
			(item_set_slot, 781, 67, 1),
			(item_set_slot, 781, 73, 29),
			(item_set_slot, 781, 41, 0),
			(item_set_slot, 781, 44, 40),
			(item_set_slot, 781, 45, 8),
			(item_set_slot, 781, 41, 0),
			(item_set_slot, 782, 66, 2000),
			(item_set_slot, 782, 65, 12),
			(item_set_slot, 782, 67, 1),
			(item_set_slot, 782, 73, 29),
			(item_set_slot, 782, 41, 0),
			(item_set_slot, 782, 44, 37),
			(item_set_slot, 782, 45, 6),
			(item_set_slot, 782, 41, 0),
			(item_set_slot, 783, 66, 2000),
			(item_set_slot, 783, 65, 12),
			(item_set_slot, 783, 67, 1),
			(item_set_slot, 783, 73, 29),
			(item_set_slot, 783, 41, 0),
			(item_set_slot, 783, 44, 44),
			(item_set_slot, 783, 45, 0),
			(item_set_slot, 783, 41, 0),
			(item_set_slot, 784, 66, 1000),
			(item_set_slot, 784, 65, 0),
			(item_set_slot, 784, 67, 0),
			(item_set_slot, 784, 73, 26),
			(item_set_slot, 784, 41, 0),
			(item_set_slot, 784, 44, 27),
			(item_set_slot, 784, 45, 5),
			(item_set_slot, 784, 41, 0),
			(item_set_slot, 785, 66, 500),
			(item_set_slot, 785, 65, 0),
			(item_set_slot, 785, 67, 0),
			(item_set_slot, 785, 73, 26),
			(item_set_slot, 785, 41, 0),
			(item_set_slot, 785, 44, 15),
			(item_set_slot, 785, 45, 5),
			(item_set_slot, 785, 41, 0),
			(item_set_slot, 786, 66, 50),
			(item_set_slot, 786, 65, 0),
			(item_set_slot, 786, 73, 0),
			(item_set_slot, 786, 44, 10),
			(item_set_slot, 786, 45, 14),
			(item_set_slot, 786, 43, 110),
			(item_set_slot, 786, 42, 20),
			(item_set_slot, 786, 41, 0),
			(item_set_slot, 787, 66, 1000),
			(item_set_slot, 787, 65, 0),
			(item_set_slot, 787, 67, 0),
			(item_set_slot, 787, 73, 26),
			(item_set_slot, 787, 41, 0),
			(item_set_slot, 787, 44, 17),
			(item_set_slot, 787, 45, 0),
			(item_set_slot, 787, 41, 0),
			(item_set_slot, 788, 66, 200),
			(item_set_slot, 788, 65, 0),
			(item_set_slot, 788, 67, 0),
			(item_set_slot, 788, 73, 26),
			(item_set_slot, 788, 41, 0),
			(item_set_slot, 788, 44, 5),
			(item_set_slot, 788, 45, 1),
			(item_set_slot, 788, 41, 0),
			(item_set_slot, 789, 66, 200),
			(item_set_slot, 789, 65, 0),
			(item_set_slot, 789, 67, 0),
			(item_set_slot, 789, 73, 26),
			(item_set_slot, 789, 41, 0),
			(item_set_slot, 789, 44, 5),
			(item_set_slot, 789, 45, 1),
			(item_set_slot, 789, 41, 0),
			(item_set_slot, 790, 66, 1000),
			(item_set_slot, 790, 65, 0),
			(item_set_slot, 790, 67, 0),
			(item_set_slot, 790, 73, 26),
			(item_set_slot, 790, 41, 0),
			(item_set_slot, 790, 44, 30),
			(item_set_slot, 790, 45, 5),
			(item_set_slot, 790, 41, 0),
			(item_set_slot, 791, 66, 1000),
			(item_set_slot, 791, 65, 0),
			(item_set_slot, 791, 67, 0),
			(item_set_slot, 791, 73, 26),
			(item_set_slot, 791, 41, 0),
			(item_set_slot, 791, 44, 30),
			(item_set_slot, 791, 45, 5),
			(item_set_slot, 791, 41, 0),
			(item_set_slot, 792, 66, 1000),
			(item_set_slot, 792, 65, 0),
			(item_set_slot, 792, 67, 0),
			(item_set_slot, 792, 73, 26),
			(item_set_slot, 792, 41, 0),
			(item_set_slot, 792, 44, 25),
			(item_set_slot, 792, 45, 5),
			(item_set_slot, 792, 41, 0),
			(item_set_slot, 793, 66, 1000),
			(item_set_slot, 793, 65, 0),
			(item_set_slot, 793, 67, 0),
			(item_set_slot, 793, 73, 26),
			(item_set_slot, 793, 41, 0),
			(item_set_slot, 793, 44, 25),
			(item_set_slot, 793, 45, 5),
			(item_set_slot, 793, 41, 0),
			(item_set_slot, 794, 66, 1000),
			(item_set_slot, 794, 65, 0),
			(item_set_slot, 794, 67, 0),
			(item_set_slot, 794, 73, 26),
			(item_set_slot, 794, 41, 0),
			(item_set_slot, 794, 44, 22),
			(item_set_slot, 794, 45, 0),
			(item_set_slot, 794, 41, 0),
			(item_set_slot, 795, 66, 1000),
			(item_set_slot, 795, 65, 0),
			(item_set_slot, 795, 67, 0),
			(item_set_slot, 795, 73, 26),
			(item_set_slot, 795, 41, 0),
			(item_set_slot, 795, 44, 17),
			(item_set_slot, 795, 45, 0),
			(item_set_slot, 795, 41, 0),
			(item_set_slot, 796, 66, 1000),
			(item_set_slot, 796, 65, 0),
			(item_set_slot, 796, 67, 0),
			(item_set_slot, 796, 73, 26),
			(item_set_slot, 796, 41, 0),
			(item_set_slot, 796, 44, 17),
			(item_set_slot, 796, 45, 0),
			(item_set_slot, 796, 41, 0),
			(item_set_slot, 797, 66, 1000),
			(item_set_slot, 797, 65, 0),
			(item_set_slot, 797, 67, 0),
			(item_set_slot, 797, 73, 26),
			(item_set_slot, 797, 41, 0),
			(item_set_slot, 797, 44, 22),
			(item_set_slot, 797, 45, 5),
			(item_set_slot, 797, 41, 0),
			(item_set_slot, 798, 66, 2000),
			(item_set_slot, 798, 65, 12),
			(item_set_slot, 798, 67, 1),
			(item_set_slot, 798, 73, 29),
			(item_set_slot, 798, 41, 0),
			(item_set_slot, 798, 44, 37),
			(item_set_slot, 798, 45, 5),
			(item_set_slot, 798, 41, 0),
			(item_set_slot, 799, 66, 1000),
			(item_set_slot, 799, 65, 0),
			(item_set_slot, 799, 67, 0),
			(item_set_slot, 799, 73, 26),
			(item_set_slot, 799, 41, 0),
			(item_set_slot, 799, 44, 22),
			(item_set_slot, 799, 45, 6),
			(item_set_slot, 799, 41, 0),
			(item_set_slot, 800, 66, 2000),
			(item_set_slot, 800, 65, 12),
			(item_set_slot, 800, 67, 1),
			(item_set_slot, 800, 73, 29),
			(item_set_slot, 800, 41, 0),
			(item_set_slot, 800, 44, 37),
			(item_set_slot, 800, 45, 5),
			(item_set_slot, 800, 41, 0),
			(item_set_slot, 801, 66, 1000),
			(item_set_slot, 801, 65, 0),
			(item_set_slot, 801, 67, 0),
			(item_set_slot, 801, 73, 26),
			(item_set_slot, 801, 41, 0),
			(item_set_slot, 801, 44, 17),
			(item_set_slot, 801, 45, 0),
			(item_set_slot, 801, 41, 0),
			(item_set_slot, 802, 66, 2000),
			(item_set_slot, 802, 65, 12),
			(item_set_slot, 802, 67, 1),
			(item_set_slot, 802, 73, 29),
			(item_set_slot, 802, 41, 0),
			(item_set_slot, 802, 44, 37),
			(item_set_slot, 802, 45, 5),
			(item_set_slot, 802, 41, 0),
			(item_set_slot, 803, 66, 2000),
			(item_set_slot, 803, 65, 12),
			(item_set_slot, 803, 67, 1),
			(item_set_slot, 803, 73, 29),
			(item_set_slot, 803, 41, 0),
			(item_set_slot, 803, 44, 37),
			(item_set_slot, 803, 45, 5),
			(item_set_slot, 803, 41, 0),
			(item_set_slot, 804, 66, 1000),
			(item_set_slot, 804, 65, 0),
			(item_set_slot, 804, 67, 0),
			(item_set_slot, 804, 73, 26),
			(item_set_slot, 804, 41, 0),
			(item_set_slot, 804, 44, 22),
			(item_set_slot, 804, 45, 0),
			(item_set_slot, 804, 41, 0),
			(item_set_slot, 805, 66, 2000),
			(item_set_slot, 805, 65, 12),
			(item_set_slot, 805, 67, 1),
			(item_set_slot, 805, 73, 29),
			(item_set_slot, 805, 41, 0),
			(item_set_slot, 805, 44, 37),
			(item_set_slot, 805, 45, 0),
			(item_set_slot, 805, 41, 0),
			(item_set_slot, 806, 66, 2000),
			(item_set_slot, 806, 65, 12),
			(item_set_slot, 806, 67, 1),
			(item_set_slot, 806, 73, 29),
			(item_set_slot, 806, 41, 0),
			(item_set_slot, 806, 44, 37),
			(item_set_slot, 806, 45, 5),
			(item_set_slot, 806, 41, 0),
			(item_set_slot, 807, 66, 1000),
			(item_set_slot, 807, 65, 0),
			(item_set_slot, 807, 67, 0),
			(item_set_slot, 807, 73, 26),
			(item_set_slot, 807, 41, 0),
			(item_set_slot, 807, 44, 20),
			(item_set_slot, 807, 45, 0),
			(item_set_slot, 807, 41, 0),
			(item_set_slot, 808, 66, 2000),
			(item_set_slot, 808, 65, 12),
			(item_set_slot, 808, 67, 1),
			(item_set_slot, 808, 73, 29),
			(item_set_slot, 808, 41, 0),
			(item_set_slot, 808, 44, 40),
			(item_set_slot, 808, 45, 5),
			(item_set_slot, 808, 41, 0),
			(item_set_slot, 809, 66, 2000),
			(item_set_slot, 809, 65, 12),
			(item_set_slot, 809, 67, 1),
			(item_set_slot, 809, 73, 29),
			(item_set_slot, 809, 41, 0),
			(item_set_slot, 809, 44, 40),
			(item_set_slot, 809, 45, 5),
			(item_set_slot, 809, 41, 0),
			(item_set_slot, 810, 66, 2000),
			(item_set_slot, 810, 65, 12),
			(item_set_slot, 810, 67, 1),
			(item_set_slot, 810, 73, 29),
			(item_set_slot, 810, 41, 0),
			(item_set_slot, 810, 44, 37),
			(item_set_slot, 810, 45, 4),
			(item_set_slot, 810, 41, 0),
			(item_set_slot, 811, 66, 1800),
			(item_set_slot, 811, 65, 12),
			(item_set_slot, 811, 67, 1),
			(item_set_slot, 811, 73, 29),
			(item_set_slot, 811, 41, 0),
			(item_set_slot, 811, 44, 40),
			(item_set_slot, 811, 45, 14),
			(item_set_slot, 811, 41, 0),
			(item_set_slot, 812, 66, 1800),
			(item_set_slot, 812, 65, 12),
			(item_set_slot, 812, 67, 1),
			(item_set_slot, 812, 73, 29),
			(item_set_slot, 812, 41, 0),
			(item_set_slot, 812, 44, 40),
			(item_set_slot, 812, 45, 14),
			(item_set_slot, 812, 41, 0),
			(item_set_slot, 813, 66, 1800),
			(item_set_slot, 813, 65, 12),
			(item_set_slot, 813, 67, 1),
			(item_set_slot, 813, 73, 29),
			(item_set_slot, 813, 41, 0),
			(item_set_slot, 813, 44, 40),
			(item_set_slot, 813, 45, 14),
			(item_set_slot, 813, 41, 0),
			(item_set_slot, 814, 66, 1800),
			(item_set_slot, 814, 65, 12),
			(item_set_slot, 814, 67, 1),
			(item_set_slot, 814, 73, 29),
			(item_set_slot, 814, 41, 0),
			(item_set_slot, 814, 44, 40),
			(item_set_slot, 814, 45, 14),
			(item_set_slot, 814, 41, 0),
			(item_set_slot, 815, 66, 1800),
			(item_set_slot, 815, 65, 12),
			(item_set_slot, 815, 67, 1),
			(item_set_slot, 815, 73, 29),
			(item_set_slot, 815, 41, 0),
			(item_set_slot, 815, 44, 40),
			(item_set_slot, 815, 45, 14),
			(item_set_slot, 815, 41, 0),
			(item_set_slot, 816, 66, 1800),
			(item_set_slot, 816, 65, 12),
			(item_set_slot, 816, 67, 1),
			(item_set_slot, 816, 73, 29),
			(item_set_slot, 816, 41, 0),
			(item_set_slot, 816, 44, 40),
			(item_set_slot, 816, 45, 14),
			(item_set_slot, 816, 41, 0),
			(item_set_slot, 817, 66, 1800),
			(item_set_slot, 817, 65, 12),
			(item_set_slot, 817, 73, 0),
			(item_set_slot, 817, 41, 0),
			(item_set_slot, 817, 44, 35),
			(item_set_slot, 817, 45, 14),
			(item_set_slot, 817, 41, 0),
			(item_set_slot, 818, 66, 1800),
			(item_set_slot, 818, 65, 12),
			(item_set_slot, 818, 67, 1),
			(item_set_slot, 818, 73, 29),
			(item_set_slot, 818, 41, 0),
			(item_set_slot, 818, 44, 40),
			(item_set_slot, 818, 45, 14),
			(item_set_slot, 818, 41, 0),
			(item_set_slot, 819, 66, 1800),
			(item_set_slot, 819, 65, 12),
			(item_set_slot, 819, 67, 1),
			(item_set_slot, 819, 73, 29),
			(item_set_slot, 819, 41, 0),
			(item_set_slot, 819, 44, 40),
			(item_set_slot, 819, 45, 14),
			(item_set_slot, 819, 41, 0),
			(item_set_slot, 820, 66, 1800),
			(item_set_slot, 820, 65, 12),
			(item_set_slot, 820, 67, 1),
			(item_set_slot, 820, 73, 29),
			(item_set_slot, 820, 41, 0),
			(item_set_slot, 820, 44, 40),
			(item_set_slot, 820, 45, 14),
			(item_set_slot, 820, 41, 0),
			(item_set_slot, 821, 66, 1800),
			(item_set_slot, 821, 65, 12),
			(item_set_slot, 821, 67, 1),
			(item_set_slot, 821, 73, 29),
			(item_set_slot, 821, 41, 0),
			(item_set_slot, 821, 44, 40),
			(item_set_slot, 821, 45, 14),
			(item_set_slot, 821, 41, 0),
			(item_set_slot, 822, 66, 1800),
			(item_set_slot, 822, 65, 12),
			(item_set_slot, 822, 67, 1),
			(item_set_slot, 822, 73, 29),
			(item_set_slot, 822, 41, 0),
			(item_set_slot, 822, 44, 40),
			(item_set_slot, 822, 45, 14),
			(item_set_slot, 822, 41, 0),
			(item_set_slot, 823, 66, 1800),
			(item_set_slot, 823, 65, 12),
			(item_set_slot, 823, 67, 1),
			(item_set_slot, 823, 73, 29),
			(item_set_slot, 823, 41, 0),
			(item_set_slot, 823, 44, 40),
			(item_set_slot, 823, 45, 14),
			(item_set_slot, 823, 41, 0),
			(item_set_slot, 824, 66, 1800),
			(item_set_slot, 824, 65, 0),
			(item_set_slot, 824, 67, 1),
			(item_set_slot, 824, 73, 29),
			(item_set_slot, 824, 41, 10),
			(item_set_slot, 824, 44, 40),
			(item_set_slot, 824, 45, 15),
			(item_set_slot, 824, 41, 0),
			(item_set_slot, 825, 66, 1800),
			(item_set_slot, 825, 65, 0),
			(item_set_slot, 825, 67, 1),
			(item_set_slot, 825, 73, 29),
			(item_set_slot, 825, 41, 10),
			(item_set_slot, 825, 44, 40),
			(item_set_slot, 825, 45, 15),
			(item_set_slot, 825, 41, 0),
			(item_set_slot, 826, 66, 1800),
			(item_set_slot, 826, 65, 0),
			(item_set_slot, 826, 67, 1),
			(item_set_slot, 826, 73, 29),
			(item_set_slot, 826, 41, 10),
			(item_set_slot, 826, 44, 40),
			(item_set_slot, 826, 45, 15),
			(item_set_slot, 826, 41, 0),
			(item_set_slot, 827, 66, 1800),
			(item_set_slot, 827, 65, 0),
			(item_set_slot, 827, 67, 1),
			(item_set_slot, 827, 73, 29),
			(item_set_slot, 827, 41, 10),
			(item_set_slot, 827, 44, 40),
			(item_set_slot, 827, 45, 15),
			(item_set_slot, 827, 41, 0),
			(item_set_slot, 828, 66, 1800),
			(item_set_slot, 828, 65, 12),
			(item_set_slot, 828, 67, 1),
			(item_set_slot, 828, 73, 29),
			(item_set_slot, 828, 41, 0),
			(item_set_slot, 828, 44, 40),
			(item_set_slot, 828, 45, 14),
			(item_set_slot, 828, 41, 0),
			(item_set_slot, 829, 66, 1800),
			(item_set_slot, 829, 65, 12),
			(item_set_slot, 829, 67, 1),
			(item_set_slot, 829, 73, 29),
			(item_set_slot, 829, 41, 0),
			(item_set_slot, 829, 44, 40),
			(item_set_slot, 829, 45, 14),
			(item_set_slot, 829, 41, 0),
			(item_set_slot, 830, 66, 1800),
			(item_set_slot, 830, 65, 12),
			(item_set_slot, 830, 67, 1),
			(item_set_slot, 830, 73, 29),
			(item_set_slot, 830, 41, 0),
			(item_set_slot, 830, 44, 40),
			(item_set_slot, 830, 45, 14),
			(item_set_slot, 830, 41, 0),
			(item_set_slot, 831, 66, 1800),
			(item_set_slot, 831, 65, 12),
			(item_set_slot, 831, 67, 1),
			(item_set_slot, 831, 73, 29),
			(item_set_slot, 831, 41, 0),
			(item_set_slot, 831, 44, 40),
			(item_set_slot, 831, 45, 14),
			(item_set_slot, 831, 41, 0),
			(item_set_slot, 832, 66, 1800),
			(item_set_slot, 832, 65, 12),
			(item_set_slot, 832, 67, 1),
			(item_set_slot, 832, 73, 29),
			(item_set_slot, 832, 41, 0),
			(item_set_slot, 832, 44, 40),
			(item_set_slot, 832, 45, 14),
			(item_set_slot, 832, 41, 0),
			(item_set_slot, 833, 66, 1800),
			(item_set_slot, 833, 65, 12),
			(item_set_slot, 833, 67, 1),
			(item_set_slot, 833, 73, 29),
			(item_set_slot, 833, 41, 0),
			(item_set_slot, 833, 44, 40),
			(item_set_slot, 833, 45, 14),
			(item_set_slot, 833, 41, 0),
			(item_set_slot, 834, 66, 1800),
			(item_set_slot, 834, 65, 12),
			(item_set_slot, 834, 67, 1),
			(item_set_slot, 834, 73, 29),
			(item_set_slot, 834, 41, 0),
			(item_set_slot, 834, 44, 40),
			(item_set_slot, 834, 45, 14),
			(item_set_slot, 834, 41, 0),
			(item_set_slot, 835, 66, 1800),
			(item_set_slot, 835, 65, 12),
			(item_set_slot, 835, 67, 1),
			(item_set_slot, 835, 73, 29),
			(item_set_slot, 835, 41, 0),
			(item_set_slot, 835, 44, 40),
			(item_set_slot, 835, 45, 14),
			(item_set_slot, 835, 41, 0),
			(item_set_slot, 836, 66, 1800),
			(item_set_slot, 836, 65, 12),
			(item_set_slot, 836, 67, 1),
			(item_set_slot, 836, 73, 29),
			(item_set_slot, 836, 41, 0),
			(item_set_slot, 836, 44, 40),
			(item_set_slot, 836, 45, 14),
			(item_set_slot, 836, 41, 0),
			(item_set_slot, 837, 66, 1800),
			(item_set_slot, 837, 65, 12),
			(item_set_slot, 837, 67, 1),
			(item_set_slot, 837, 73, 29),
			(item_set_slot, 837, 41, 0),
			(item_set_slot, 837, 44, 40),
			(item_set_slot, 837, 45, 14),
			(item_set_slot, 837, 41, 0),
			(item_set_slot, 838, 66, 1800),
			(item_set_slot, 838, 65, 12),
			(item_set_slot, 838, 67, 1),
			(item_set_slot, 838, 73, 29),
			(item_set_slot, 838, 41, 0),
			(item_set_slot, 838, 44, 40),
			(item_set_slot, 838, 45, 14),
			(item_set_slot, 838, 41, 0),
			(item_set_slot, 839, 66, 1800),
			(item_set_slot, 839, 65, 0),
			(item_set_slot, 839, 67, 1),
			(item_set_slot, 839, 73, 29),
			(item_set_slot, 839, 41, 0),
			(item_set_slot, 839, 44, 27),
			(item_set_slot, 839, 45, 7),
			(item_set_slot, 839, 41, 0),
			(item_set_slot, 840, 66, 400),
			(item_set_slot, 840, 65, 0),
			(item_set_slot, 840, 73, 27),
			(item_set_slot, 840, 42, 36),
			(item_set_slot, 840, 44, 2),
			(item_set_slot, 840, 43, 76),
			(item_set_slot, 840, 41, 0),
			(item_set_slot, 841, 66, 300),
			(item_set_slot, 841, 65, 0),
			(item_set_slot, 841, 67, 1),
			(item_set_slot, 841, 73, 29),
			(item_set_slot, 841, 41, 0),
			(item_set_slot, 841, 44, 0),
			(item_set_slot, 841, 45, 20),
			(item_set_slot, 841, 41, 0),
			(item_set_slot, 842, 66, 200),
			(item_set_slot, 842, 65, 0),
			(item_set_slot, 842, 67, 1),
			(item_set_slot, 842, 73, 29),
			(item_set_slot, 842, 41, 0),
			(item_set_slot, 842, 44, 5),
			(item_set_slot, 842, 45, 0),
			(item_set_slot, 842, 41, 0),
			(item_set_slot, 843, 66, 400),
			(item_set_slot, 843, 65, 0),
			(item_set_slot, 843, 67, 2),
			(item_set_slot, 843, 73, 29),
			(item_set_slot, 843, 41, 32),
			(item_set_slot, 843, 44, 0),
			(item_set_slot, 843, 45, 0),
			(item_set_slot, 843, 41, 0),
			(item_set_slot, 844, 66, 200),
			(item_set_slot, 844, 65, 0),
			(item_set_slot, 844, 73, 17),
			(item_set_slot, 844, 44, 32),
			(item_set_slot, 844, 45, 29),
			(item_set_slot, 844, 43, 100),
			(item_set_slot, 844, 42, 87),
			(item_set_slot, 844, 41, 0),
			(item_set_slot, 845, 66, 200),
			(item_set_slot, 845, 65, 0),
			(item_set_slot, 845, 73, 17),
			(item_set_slot, 845, 44, 32),
			(item_set_slot, 845, 45, 29),
			(item_set_slot, 845, 43, 100),
			(item_set_slot, 845, 42, 87),
			(item_set_slot, 845, 41, 0),
			(item_set_slot, 846, 66, 500),
			(item_set_slot, 846, 65, 1),
			(item_set_slot, 846, 73, 42),
			(item_set_slot, 846, 44, 31),
			(item_set_slot, 846, 45, 0),
			(item_set_slot, 846, 43, 99),
			(item_set_slot, 846, 42, 53),
			(item_set_slot, 846, 41, 0),
			(item_set_slot, 847, 66, 100),
			(item_set_slot, 847, 65, 1),
			(item_set_slot, 847, 73, 42),
			(item_set_slot, 847, 44, 0),
			(item_set_slot, 847, 45, 23),
			(item_set_slot, 847, 43, 99),
			(item_set_slot, 847, 42, 53),
			(item_set_slot, 847, 41, 0),
			(item_set_slot, 848, 66, 600),
			(item_set_slot, 848, 65, 14),
			(item_set_slot, 848, 73, 0),
			(item_set_slot, 848, 41, 45),
			(item_set_slot, 848, 44, 0),
			(item_set_slot, 848, 45, 0),
			(item_set_slot, 848, 46, 1),
			(item_set_slot, 848, 41, 0),
			(item_set_slot, 849, 66, 600),
			(item_set_slot, 849, 65, 14),
			(item_set_slot, 849, 73, 0),
			(item_set_slot, 849, 41, 45),
			(item_set_slot, 849, 44, 0),
			(item_set_slot, 849, 45, 0),
			(item_set_slot, 849, 46, 1),
			(item_set_slot, 849, 41, 0),
			(item_set_slot, 850, 66, 600),
			(item_set_slot, 850, 65, 14),
			(item_set_slot, 850, 73, 0),
			(item_set_slot, 850, 41, 45),
			(item_set_slot, 850, 44, 0),
			(item_set_slot, 850, 45, 0),
			(item_set_slot, 850, 46, 1),
			(item_set_slot, 850, 41, 0),
			(item_set_slot, 851, 66, 600),
			(item_set_slot, 851, 65, 14),
			(item_set_slot, 851, 73, 0),
			(item_set_slot, 851, 41, 45),
			(item_set_slot, 851, 44, 0),
			(item_set_slot, 851, 45, 0),
			(item_set_slot, 851, 46, 1),
			(item_set_slot, 851, 41, 0),
			(item_set_slot, 852, 66, 400),
			(item_set_slot, 852, 65, 12),
			(item_set_slot, 852, 73, 0),
			(item_set_slot, 852, 41, 37),
			(item_set_slot, 852, 44, 0),
			(item_set_slot, 852, 45, 0),
			(item_set_slot, 852, 41, 0),
			(item_set_slot, 853, 66, 400),
			(item_set_slot, 853, 65, 12),
			(item_set_slot, 853, 73, 0),
			(item_set_slot, 853, 41, 37),
			(item_set_slot, 853, 44, 0),
			(item_set_slot, 853, 45, 0),
			(item_set_slot, 853, 41, 0),
			(item_set_slot, 854, 66, 2500),
			(item_set_slot, 854, 65, 14),
			(item_set_slot, 854, 67, 1),
			(item_set_slot, 854, 73, 29),
			(item_set_slot, 854, 41, 0),
			(item_set_slot, 854, 44, 45),
			(item_set_slot, 854, 45, 18),
			(item_set_slot, 854, 41, 0),
			(item_set_slot, 855, 66, 2500),
			(item_set_slot, 855, 65, 14),
			(item_set_slot, 855, 67, 1),
			(item_set_slot, 855, 73, 29),
			(item_set_slot, 855, 41, 0),
			(item_set_slot, 855, 44, 45),
			(item_set_slot, 855, 45, 18),
			(item_set_slot, 855, 41, 0),
			(item_set_slot, 856, 66, 500),
			(item_set_slot, 856, 65, 0),
			(item_set_slot, 856, 73, 0),
			(item_set_slot, 856, 44, 35),
			(item_set_slot, 856, 45, 0),
			(item_set_slot, 856, 43, 96),
			(item_set_slot, 856, 42, 250),
			(item_set_slot, 856, 47, 1),
			(item_set_slot, 856, 46, 1),
			(item_set_slot, 856, 41, 0),
			(item_set_slot, 857, 66, 500),
			(item_set_slot, 857, 65, 0),
			(item_set_slot, 857, 73, 0),
			(item_set_slot, 857, 44, 35),
			(item_set_slot, 857, 45, 0),
			(item_set_slot, 857, 43, 96),
			(item_set_slot, 857, 42, 248),
			(item_set_slot, 857, 47, 1),
			(item_set_slot, 857, 46, 1),
			(item_set_slot, 857, 41, 0),
			(item_set_slot, 858, 66, 2000),
			(item_set_slot, 858, 65, 14),
			(item_set_slot, 858, 67, 2),
			(item_set_slot, 858, 73, 29),
			(item_set_slot, 858, 41, 0),
			(item_set_slot, 858, 44, 54),
			(item_set_slot, 858, 45, 12),
			(item_set_slot, 858, 41, 0),
			(item_set_slot, 859, 66, 500),
			(item_set_slot, 859, 65, 0),
			(item_set_slot, 859, 67, 0),
			(item_set_slot, 859, 73, 26),
			(item_set_slot, 859, 41, 0),
			(item_set_slot, 859, 44, 16),
			(item_set_slot, 859, 45, 4),
			(item_set_slot, 859, 41, 0),
			(item_set_slot, 860, 66, 400),
			(item_set_slot, 860, 65, 12),
			(item_set_slot, 860, 67, 1),
			(item_set_slot, 860, 73, 29),
			(item_set_slot, 860, 41, 33),
			(item_set_slot, 860, 44, 0),
			(item_set_slot, 860, 45, 0),
			(item_set_slot, 860, 41, 0),
			(item_set_slot, 861, 66, 100),
			(item_set_slot, 861, 65, 0),
			(item_set_slot, 861, 67, 0),
			(item_set_slot, 861, 73, 26),
			(item_set_slot, 861, 41, 0),
			(item_set_slot, 861, 44, 0),
			(item_set_slot, 861, 45, 7),
			(item_set_slot, 861, 41, 0),
			(item_set_slot, 862, 66, 2000),
			(item_set_slot, 862, 65, 0),
			(item_set_slot, 862, 67, 0),
			(item_set_slot, 862, 73, 26),
			(item_set_slot, 862, 41, 0),
			(item_set_slot, 862, 44, 37),
			(item_set_slot, 862, 45, 8),
			(item_set_slot, 862, 41, 0),
			(item_set_slot, 863, 66, 400),
			(item_set_slot, 863, 65, 0),
			(item_set_slot, 863, 67, 1),
			(item_set_slot, 863, 73, 29),
			(item_set_slot, 863, 41, 33),
			(item_set_slot, 863, 44, 0),
			(item_set_slot, 863, 45, 0),
			(item_set_slot, 863, 41, 0),
			(item_set_slot, 864, 66, 400),
			(item_set_slot, 864, 65, 12),
			(item_set_slot, 864, 67, 1),
			(item_set_slot, 864, 73, 29),
			(item_set_slot, 864, 41, 33),
			(item_set_slot, 864, 44, 0),
			(item_set_slot, 864, 45, 0),
			(item_set_slot, 864, 41, 0),
			(item_set_slot, 865, 66, 400),
			(item_set_slot, 865, 65, 12),
			(item_set_slot, 865, 67, 1),
			(item_set_slot, 865, 73, 29),
			(item_set_slot, 865, 41, 33),
			(item_set_slot, 865, 44, 0),
			(item_set_slot, 865, 45, 0),
			(item_set_slot, 865, 41, 0),
			(item_set_slot, 866, 66, 400),
			(item_set_slot, 866, 65, 0),
			(item_set_slot, 866, 73, 0),
			(item_set_slot, 866, 42, 65),
			(item_set_slot, 866, 44, 5),
			(item_set_slot, 866, 43, 87),
			(item_set_slot, 866, 41, 0),
			(item_set_slot, 867, 66, 1600),
			(item_set_slot, 867, 65, 12),
			(item_set_slot, 867, 67, 1),
			(item_set_slot, 867, 73, 29),
			(item_set_slot, 867, 41, 0),
			(item_set_slot, 867, 44, 37),
			(item_set_slot, 867, 45, 15),
			(item_set_slot, 867, 41, 0),
			(item_set_slot, 868, 66, 1600),
			(item_set_slot, 868, 65, 12),
			(item_set_slot, 868, 67, 1),
			(item_set_slot, 868, 73, 29),
			(item_set_slot, 868, 41, 0),
			(item_set_slot, 868, 44, 37),
			(item_set_slot, 868, 45, 15),
			(item_set_slot, 868, 41, 0),
			(item_set_slot, 869, 66, 1600),
			(item_set_slot, 869, 65, 12),
			(item_set_slot, 869, 67, 1),
			(item_set_slot, 869, 73, 29),
			(item_set_slot, 869, 41, 0),
			(item_set_slot, 869, 44, 37),
			(item_set_slot, 869, 45, 15),
			(item_set_slot, 869, 41, 0),
			(item_set_slot, 870, 66, 1600),
			(item_set_slot, 870, 65, 12),
			(item_set_slot, 870, 67, 1),
			(item_set_slot, 870, 73, 29),
			(item_set_slot, 870, 41, 0),
			(item_set_slot, 870, 44, 20),
			(item_set_slot, 870, 45, 15),
			(item_set_slot, 870, 41, 0),
			(item_set_slot, 871, 66, 1600),
			(item_set_slot, 871, 65, 12),
			(item_set_slot, 871, 67, 1),
			(item_set_slot, 871, 73, 29),
			(item_set_slot, 871, 41, 0),
			(item_set_slot, 871, 44, 37),
			(item_set_slot, 871, 45, 15),
			(item_set_slot, 871, 41, 0),
			(item_set_slot, 872, 66, 1600),
			(item_set_slot, 872, 65, 12),
			(item_set_slot, 872, 67, 1),
			(item_set_slot, 872, 73, 29),
			(item_set_slot, 872, 41, 0),
			(item_set_slot, 872, 44, 37),
			(item_set_slot, 872, 45, 15),
			(item_set_slot, 872, 41, 0),
			(item_set_slot, 873, 66, 1600),
			(item_set_slot, 873, 65, 12),
			(item_set_slot, 873, 67, 1),
			(item_set_slot, 873, 73, 29),
			(item_set_slot, 873, 41, 0),
			(item_set_slot, 873, 44, 37),
			(item_set_slot, 873, 45, 15),
			(item_set_slot, 873, 41, 0),
			(item_set_slot, 874, 66, 200),
			(item_set_slot, 874, 65, 12),
			(item_set_slot, 874, 73, 17),
			(item_set_slot, 874, 44, 27),
			(item_set_slot, 874, 45, 25),
			(item_set_slot, 874, 43, 100),
			(item_set_slot, 874, 42, 76),
			(item_set_slot, 874, 41, 0),
			(item_set_slot, 875, 66, 200),
			(item_set_slot, 875, 65, 12),
			(item_set_slot, 875, 73, 17),
			(item_set_slot, 875, 44, 32),
			(item_set_slot, 875, 45, 29),
			(item_set_slot, 875, 43, 100),
			(item_set_slot, 875, 42, 96),
			(item_set_slot, 875, 41, 0),
			(item_set_slot, 876, 66, 200),
			(item_set_slot, 876, 65, 12),
			(item_set_slot, 876, 73, 17),
			(item_set_slot, 876, 44, 32),
			(item_set_slot, 876, 45, 29),
			(item_set_slot, 876, 43, 100),
			(item_set_slot, 876, 42, 94),
			(item_set_slot, 876, 41, 0),
			(item_set_slot, 877, 66, 200),
			(item_set_slot, 877, 65, 12),
			(item_set_slot, 877, 73, 17),
			(item_set_slot, 877, 44, 32),
			(item_set_slot, 877, 45, 29),
			(item_set_slot, 877, 43, 100),
			(item_set_slot, 877, 42, 86),
			(item_set_slot, 877, 41, 0),
			(item_set_slot, 878, 66, 200),
			(item_set_slot, 878, 65, 12),
			(item_set_slot, 878, 73, 17),
			(item_set_slot, 878, 44, 34),
			(item_set_slot, 878, 45, 32),
			(item_set_slot, 878, 43, 105),
			(item_set_slot, 878, 42, 94),
			(item_set_slot, 878, 41, 0),
			(item_set_slot, 879, 66, 200),
			(item_set_slot, 879, 65, 12),
			(item_set_slot, 879, 73, 17),
			(item_set_slot, 879, 44, 34),
			(item_set_slot, 879, 45, 32),
			(item_set_slot, 879, 43, 105),
			(item_set_slot, 879, 42, 85),
			(item_set_slot, 879, 41, 0),
			(item_set_slot, 880, 66, 150),
			(item_set_slot, 880, 65, 0),
			(item_set_slot, 880, 73, 17),
			(item_set_slot, 880, 44, 0),
			(item_set_slot, 880, 45, 22),
			(item_set_slot, 880, 43, 106),
			(item_set_slot, 880, 42, 95),
			(item_set_slot, 880, 41, 0),
			(item_set_slot, 881, 66, 150),
			(item_set_slot, 881, 65, 0),
			(item_set_slot, 881, 73, 17),
			(item_set_slot, 881, 44, 0),
			(item_set_slot, 881, 45, 25),
			(item_set_slot, 881, 43, 108),
			(item_set_slot, 881, 42, 87),
			(item_set_slot, 881, 41, 0),
			(item_set_slot, 882, 66, 150),
			(item_set_slot, 882, 65, 0),
			(item_set_slot, 882, 73, 17),
			(item_set_slot, 882, 44, 0),
			(item_set_slot, 882, 45, 32),
			(item_set_slot, 882, 43, 110),
			(item_set_slot, 882, 42, 88),
			(item_set_slot, 882, 41, 0),
			(item_set_slot, 883, 66, 150),
			(item_set_slot, 883, 65, 0),
			(item_set_slot, 883, 73, 17),
			(item_set_slot, 883, 44, 0),
			(item_set_slot, 883, 45, 32),
			(item_set_slot, 883, 43, 110),
			(item_set_slot, 883, 42, 95),
			(item_set_slot, 883, 41, 0),
			(item_set_slot, 884, 66, 200),
			(item_set_slot, 884, 65, 10),
			(item_set_slot, 884, 73, 17),
			(item_set_slot, 884, 44, 28),
			(item_set_slot, 884, 45, 20),
			(item_set_slot, 884, 43, 110),
			(item_set_slot, 884, 42, 80),
			(item_set_slot, 884, 41, 0),
			(item_set_slot, 885, 66, 200),
			(item_set_slot, 885, 65, 10),
			(item_set_slot, 885, 73, 0),
			(item_set_slot, 885, 44, 20),
			(item_set_slot, 885, 45, 18),
			(item_set_slot, 885, 43, 90),
			(item_set_slot, 885, 42, 93),
			(item_set_slot, 885, 41, 0),
			(item_set_slot, 886, 66, 200),
			(item_set_slot, 886, 65, 10),
			(item_set_slot, 886, 73, 0),
			(item_set_slot, 886, 44, 23),
			(item_set_slot, 886, 45, 23),
			(item_set_slot, 886, 43, 100),
			(item_set_slot, 886, 42, 92),
			(item_set_slot, 886, 41, 0),
			(item_set_slot, 887, 66, 200),
			(item_set_slot, 887, 65, 12),
			(item_set_slot, 887, 73, 0),
			(item_set_slot, 887, 44, 39),
			(item_set_slot, 887, 45, 37),
			(item_set_slot, 887, 43, 115),
			(item_set_slot, 887, 42, 100),
			(item_set_slot, 887, 41, 0),
			(item_set_slot, 888, 66, 200),
			(item_set_slot, 888, 65, 12),
			(item_set_slot, 888, 73, 0),
			(item_set_slot, 888, 44, 39),
			(item_set_slot, 888, 45, 37),
			(item_set_slot, 888, 43, 115),
			(item_set_slot, 888, 42, 94),
			(item_set_slot, 888, 41, 0),
			(item_set_slot, 889, 66, 2000),
			(item_set_slot, 889, 65, 12),
			(item_set_slot, 889, 67, 1),
			(item_set_slot, 889, 73, 29),
			(item_set_slot, 889, 41, 0),
			(item_set_slot, 889, 44, 37),
			(item_set_slot, 889, 45, 15),
			(item_set_slot, 889, 41, 0),
			(item_set_slot, 890, 66, 2000),
			(item_set_slot, 890, 65, 12),
			(item_set_slot, 890, 67, 1),
			(item_set_slot, 890, 73, 29),
			(item_set_slot, 890, 41, 0),
			(item_set_slot, 890, 44, 40),
			(item_set_slot, 890, 45, 15),
			(item_set_slot, 890, 41, 0),
			(item_set_slot, 891, 66, 2000),
			(item_set_slot, 891, 65, 12),
			(item_set_slot, 891, 67, 1),
			(item_set_slot, 891, 73, 29),
			(item_set_slot, 891, 41, 0),
			(item_set_slot, 891, 44, 40),
			(item_set_slot, 891, 45, 15),
			(item_set_slot, 891, 41, 0),
			(item_set_slot, 892, 66, 500),
			(item_set_slot, 892, 65, 0),
			(item_set_slot, 892, 67, 0),
			(item_set_slot, 892, 73, 26),
			(item_set_slot, 892, 41, 0),
			(item_set_slot, 892, 44, 16),
			(item_set_slot, 892, 45, 4),
			(item_set_slot, 892, 41, 0),
			(item_set_slot, 893, 66, 500),
			(item_set_slot, 893, 65, 0),
			(item_set_slot, 893, 67, 0),
			(item_set_slot, 893, 73, 26),
			(item_set_slot, 893, 41, 0),
			(item_set_slot, 893, 44, 16),
			(item_set_slot, 893, 45, 4),
			(item_set_slot, 893, 41, 0),
			(item_set_slot, 894, 66, 500),
			(item_set_slot, 894, 65, 0),
			(item_set_slot, 894, 67, 0),
			(item_set_slot, 894, 73, 26),
			(item_set_slot, 894, 41, 0),
			(item_set_slot, 894, 44, 16),
			(item_set_slot, 894, 45, 4),
			(item_set_slot, 894, 41, 0),
			(item_set_slot, 895, 66, 500),
			(item_set_slot, 895, 65, 0),
			(item_set_slot, 895, 67, 0),
			(item_set_slot, 895, 73, 26),
			(item_set_slot, 895, 41, 0),
			(item_set_slot, 895, 44, 16),
			(item_set_slot, 895, 45, 4),
			(item_set_slot, 895, 41, 0),
			(item_set_slot, 896, 66, 500),
			(item_set_slot, 896, 65, 0),
			(item_set_slot, 896, 67, 0),
			(item_set_slot, 896, 73, 26),
			(item_set_slot, 896, 41, 0),
			(item_set_slot, 896, 44, 16),
			(item_set_slot, 896, 45, 4),
			(item_set_slot, 896, 41, 0),
			(item_set_slot, 897, 66, 500),
			(item_set_slot, 897, 65, 0),
			(item_set_slot, 897, 67, 0),
			(item_set_slot, 897, 73, 26),
			(item_set_slot, 897, 41, 0),
			(item_set_slot, 897, 44, 16),
			(item_set_slot, 897, 45, 4),
			(item_set_slot, 897, 41, 0),
			(item_set_slot, 898, 66, 200),
			(item_set_slot, 898, 65, 0),
			(item_set_slot, 898, 67, 0),
			(item_set_slot, 898, 73, 26),
			(item_set_slot, 898, 41, 6),
			(item_set_slot, 898, 44, 0),
			(item_set_slot, 898, 45, 0),
			(item_set_slot, 898, 41, 0),
			(item_set_slot, 899, 66, 500),
			(item_set_slot, 899, 65, 0),
			(item_set_slot, 899, 67, 0),
			(item_set_slot, 899, 73, 26),
			(item_set_slot, 899, 41, 0),
			(item_set_slot, 899, 44, 28),
			(item_set_slot, 899, 45, 11),
			(item_set_slot, 899, 41, 0),
			(item_set_slot, 900, 66, 500),
			(item_set_slot, 900, 65, 0),
			(item_set_slot, 900, 67, 0),
			(item_set_slot, 900, 73, 26),
			(item_set_slot, 900, 41, 0),
			(item_set_slot, 900, 44, 28),
			(item_set_slot, 900, 45, 11),
			(item_set_slot, 900, 41, 0),
			(item_set_slot, 901, 66, 400),
			(item_set_slot, 901, 65, 12),
			(item_set_slot, 901, 67, 1),
			(item_set_slot, 901, 73, 29),
			(item_set_slot, 901, 41, 33),
			(item_set_slot, 901, 44, 0),
			(item_set_slot, 901, 45, 0),
			(item_set_slot, 901, 41, 0),
			(item_set_slot, 902, 66, 150),
			(item_set_slot, 902, 65, 0),
			(item_set_slot, 902, 73, 17),
			(item_set_slot, 902, 44, 0),
			(item_set_slot, 902, 45, 25),
			(item_set_slot, 902, 43, 110),
			(item_set_slot, 902, 42, 74),
			(item_set_slot, 902, 41, 0),
			(item_set_slot, 903, 66, 150),
			(item_set_slot, 903, 65, 0),
			(item_set_slot, 903, 73, 17),
			(item_set_slot, 903, 44, 0),
			(item_set_slot, 903, 45, 25),
			(item_set_slot, 903, 43, 110),
			(item_set_slot, 903, 42, 71),
			(item_set_slot, 903, 41, 0),
			(item_set_slot, 904, 66, 150),
			(item_set_slot, 904, 65, 0),
			(item_set_slot, 904, 73, 17),
			(item_set_slot, 904, 44, 0),
			(item_set_slot, 904, 45, 25),
			(item_set_slot, 904, 43, 110),
			(item_set_slot, 904, 42, 74),
			(item_set_slot, 904, 41, 0),
			(item_set_slot, 905, 66, 400),
			(item_set_slot, 905, 65, 12),
			(item_set_slot, 905, 73, 18),
			(item_set_slot, 905, 44, 0),
			(item_set_slot, 905, 45, 30),
			(item_set_slot, 905, 43, 100),
			(item_set_slot, 905, 42, 44),
			(item_set_slot, 905, 41, 0),
			(item_set_slot, 906, 66, 400),
			(item_set_slot, 906, 65, 12),
			(item_set_slot, 906, 73, 18),
			(item_set_slot, 906, 44, 0),
			(item_set_slot, 906, 45, 26),
			(item_set_slot, 906, 43, 100),
			(item_set_slot, 906, 42, 44),
			(item_set_slot, 906, 41, 0),
			(item_set_slot, 907, 66, 700),
			(item_set_slot, 907, 65, 12),
			(item_set_slot, 907, 73, 18),
			(item_set_slot, 907, 44, 0),
			(item_set_slot, 907, 45, 40),
			(item_set_slot, 907, 43, 70),
			(item_set_slot, 907, 42, 100),
			(item_set_slot, 907, 41, 2097152),
			(item_set_slot, 907, 10, 1),
			(item_set_slot, 908, 66, 400),
			(item_set_slot, 908, 65, 12),
			(item_set_slot, 908, 73, 18),
			(item_set_slot, 908, 44, 0),
			(item_set_slot, 908, 45, 20),
			(item_set_slot, 908, 43, 100),
			(item_set_slot, 908, 42, 91),
			(item_set_slot, 908, 41, 0),
			(item_set_slot, 909, 66, 400),
			(item_set_slot, 909, 65, 12),
			(item_set_slot, 909, 73, 18),
			(item_set_slot, 909, 44, 0),
			(item_set_slot, 909, 45, 24),
			(item_set_slot, 909, 43, 100),
			(item_set_slot, 909, 42, 96),
			(item_set_slot, 909, 41, 0),
			(item_set_slot, 910, 66, 500),
			(item_set_slot, 910, 65, 2),
			(item_set_slot, 910, 73, 0),
			(item_set_slot, 910, 42, 66),
			(item_set_slot, 910, 44, 15),
			(item_set_slot, 910, 43, 87),
			(item_set_slot, 910, 41, 0),
			(item_set_slot, 911, 66, 500),
			(item_set_slot, 911, 65, 2),
			(item_set_slot, 911, 73, 0),
			(item_set_slot, 911, 42, 67),
			(item_set_slot, 911, 44, 15),
			(item_set_slot, 911, 43, 87),
			(item_set_slot, 911, 41, 0),
			(item_set_slot, 912, 66, 500),
			(item_set_slot, 912, 65, 2),
			(item_set_slot, 912, 73, 0),
			(item_set_slot, 912, 42, 67),
			(item_set_slot, 912, 44, 15),
			(item_set_slot, 912, 43, 87),
			(item_set_slot, 912, 41, 0),
			(item_set_slot, 913, 66, 400),
			(item_set_slot, 913, 65, 4),
			(item_set_slot, 913, 67, 0),
			(item_set_slot, 913, 73, 26),
			(item_set_slot, 913, 41, 0),
			(item_set_slot, 913, 44, 2),
			(item_set_slot, 913, 45, 1),
			(item_set_slot, 913, 41, 0),
			(item_set_slot, 914, 66, 400),
			(item_set_slot, 914, 65, 0),
			(item_set_slot, 914, 67, 0),
			(item_set_slot, 914, 73, 26),
			(item_set_slot, 914, 41, 0),
			(item_set_slot, 914, 44, 2),
			(item_set_slot, 914, 45, 2),
			(item_set_slot, 914, 41, 0),
			(item_set_slot, 915, 66, 100),
			(item_set_slot, 915, 65, 0),
			(item_set_slot, 915, 73, 0),
			(item_set_slot, 915, 41, 2),
			(item_set_slot, 915, 44, 0),
			(item_set_slot, 915, 45, 0),
			(item_set_slot, 915, 41, 0),
			(item_set_slot, 916, 66, 100),
			(item_set_slot, 916, 65, 0),
			(item_set_slot, 916, 73, 0),
			(item_set_slot, 916, 41, 5),
			(item_set_slot, 916, 44, 0),
			(item_set_slot, 916, 45, 0),
			(item_set_slot, 916, 41, 0),
			(item_set_slot, 917, 66, 400),
			(item_set_slot, 917, 65, 0),
			(item_set_slot, 917, 73, 0),
			(item_set_slot, 917, 41, 0),
			(item_set_slot, 917, 44, 4),
			(item_set_slot, 917, 45, 1),
			(item_set_slot, 917, 41, 0),
			(item_set_slot, 918, 66, 400),
			(item_set_slot, 918, 65, 0),
			(item_set_slot, 918, 73, 0),
			(item_set_slot, 918, 41, 0),
			(item_set_slot, 918, 44, 4),
			(item_set_slot, 918, 45, 1),
			(item_set_slot, 918, 41, 0),
			(item_set_slot, 919, 66, 400),
			(item_set_slot, 919, 65, 0),
			(item_set_slot, 919, 73, 0),
			(item_set_slot, 919, 41, 0),
			(item_set_slot, 919, 44, 4),
			(item_set_slot, 919, 45, 1),
			(item_set_slot, 919, 41, 0),
			(item_set_slot, 920, 66, 600),
			(item_set_slot, 920, 65, 0),
			(item_set_slot, 920, 67, 0),
			(item_set_slot, 920, 73, 26),
			(item_set_slot, 920, 41, 0),
			(item_set_slot, 920, 44, 15),
			(item_set_slot, 920, 45, 5),
			(item_set_slot, 920, 41, 0),
			(item_set_slot, 921, 66, 400),
			(item_set_slot, 921, 65, 0),
			(item_set_slot, 921, 73, 0),
			(item_set_slot, 921, 41, 0),
			(item_set_slot, 921, 44, 4),
			(item_set_slot, 921, 45, 1),
			(item_set_slot, 921, 41, 0),
			(item_set_slot, 922, 66, 400),
			(item_set_slot, 922, 65, 0),
			(item_set_slot, 922, 73, 0),
			(item_set_slot, 922, 41, 0),
			(item_set_slot, 922, 44, 4),
			(item_set_slot, 922, 45, 1),
			(item_set_slot, 922, 41, 0),
			(item_set_slot, 923, 66, 400),
			(item_set_slot, 923, 65, 0),
			(item_set_slot, 923, 73, 0),
			(item_set_slot, 923, 41, 0),
			(item_set_slot, 923, 44, 4),
			(item_set_slot, 923, 45, 1),
			(item_set_slot, 923, 41, 0),
			(item_set_slot, 924, 66, 400),
			(item_set_slot, 924, 65, 0),
			(item_set_slot, 924, 73, 0),
			(item_set_slot, 924, 41, 0),
			(item_set_slot, 924, 44, 4),
			(item_set_slot, 924, 45, 1),
			(item_set_slot, 924, 41, 0),
			(item_set_slot, 925, 66, 400),
			(item_set_slot, 925, 65, 0),
			(item_set_slot, 925, 73, 0),
			(item_set_slot, 925, 41, 0),
			(item_set_slot, 925, 44, 4),
			(item_set_slot, 925, 45, 1),
			(item_set_slot, 925, 41, 0),
			(item_set_slot, 926, 66, 400),
			(item_set_slot, 926, 65, 0),
			(item_set_slot, 926, 73, 0),
			(item_set_slot, 926, 41, 0),
			(item_set_slot, 926, 44, 4),
			(item_set_slot, 926, 45, 1),
			(item_set_slot, 926, 41, 0),
			(item_set_slot, 927, 66, 400),
			(item_set_slot, 927, 65, 0),
			(item_set_slot, 927, 73, 0),
			(item_set_slot, 927, 41, 0),
			(item_set_slot, 927, 44, 4),
			(item_set_slot, 927, 45, 1),
			(item_set_slot, 927, 41, 0),
			(item_set_slot, 928, 66, 400),
			(item_set_slot, 928, 65, 0),
			(item_set_slot, 928, 73, 0),
			(item_set_slot, 928, 41, 0),
			(item_set_slot, 928, 44, 4),
			(item_set_slot, 928, 45, 1),
			(item_set_slot, 928, 41, 0),
			(item_set_slot, 929, 66, 400),
			(item_set_slot, 929, 65, 0),
			(item_set_slot, 929, 73, 0),
			(item_set_slot, 929, 41, 0),
			(item_set_slot, 929, 44, 4),
			(item_set_slot, 929, 45, 1),
			(item_set_slot, 929, 41, 0),
			(item_set_slot, 930, 66, 400),
			(item_set_slot, 930, 65, 0),
			(item_set_slot, 930, 73, 0),
			(item_set_slot, 930, 41, 0),
			(item_set_slot, 930, 44, 4),
			(item_set_slot, 930, 45, 1),
			(item_set_slot, 930, 41, 0),
			(item_set_slot, 931, 66, 400),
			(item_set_slot, 931, 65, 0),
			(item_set_slot, 931, 73, 0),
			(item_set_slot, 931, 41, 0),
			(item_set_slot, 931, 44, 4),
			(item_set_slot, 931, 45, 1),
			(item_set_slot, 931, 41, 0),
			(item_set_slot, 932, 66, 400),
			(item_set_slot, 932, 65, 0),
			(item_set_slot, 932, 73, 0),
			(item_set_slot, 932, 41, 0),
			(item_set_slot, 932, 44, 4),
			(item_set_slot, 932, 45, 1),
			(item_set_slot, 932, 41, 0),
			(item_set_slot, 933, 66, 400),
			(item_set_slot, 933, 65, 0),
			(item_set_slot, 933, 73, 0),
			(item_set_slot, 933, 41, 0),
			(item_set_slot, 933, 44, 4),
			(item_set_slot, 933, 45, 1),
			(item_set_slot, 933, 41, 0),
			(item_set_slot, 934, 66, 400),
			(item_set_slot, 934, 65, 0),
			(item_set_slot, 934, 73, 0),
			(item_set_slot, 934, 41, 0),
			(item_set_slot, 934, 44, 4),
			(item_set_slot, 934, 45, 1),
			(item_set_slot, 934, 41, 0),
			(item_set_slot, 935, 66, 400),
			(item_set_slot, 935, 65, 0),
			(item_set_slot, 935, 73, 0),
			(item_set_slot, 935, 41, 0),
			(item_set_slot, 935, 44, 4),
			(item_set_slot, 935, 45, 1),
			(item_set_slot, 935, 41, 0),
			(item_set_slot, 936, 66, 400),
			(item_set_slot, 936, 65, 0),
			(item_set_slot, 936, 73, 0),
			(item_set_slot, 936, 41, 0),
			(item_set_slot, 936, 44, 4),
			(item_set_slot, 936, 45, 1),
			(item_set_slot, 936, 41, 0),
			(item_set_slot, 937, 66, 400),
			(item_set_slot, 937, 65, 0),
			(item_set_slot, 937, 73, 0),
			(item_set_slot, 937, 41, 0),
			(item_set_slot, 937, 44, 4),
			(item_set_slot, 937, 45, 1),
			(item_set_slot, 937, 41, 0),
			(item_set_slot, 938, 66, 400),
			(item_set_slot, 938, 65, 0),
			(item_set_slot, 938, 73, 0),
			(item_set_slot, 938, 41, 0),
			(item_set_slot, 938, 44, 4),
			(item_set_slot, 938, 45, 1),
			(item_set_slot, 938, 41, 0),
			(item_set_slot, 939, 66, 400),
			(item_set_slot, 939, 65, 0),
			(item_set_slot, 939, 73, 0),
			(item_set_slot, 939, 41, 0),
			(item_set_slot, 939, 44, 4),
			(item_set_slot, 939, 45, 1),
			(item_set_slot, 939, 41, 0),
			(item_set_slot, 940, 66, 400),
			(item_set_slot, 940, 65, 0),
			(item_set_slot, 940, 73, 0),
			(item_set_slot, 940, 41, 0),
			(item_set_slot, 940, 44, 4),
			(item_set_slot, 940, 45, 1),
			(item_set_slot, 940, 41, 0),
			(item_set_slot, 941, 66, 400),
			(item_set_slot, 941, 65, 0),
			(item_set_slot, 941, 73, 0),
			(item_set_slot, 941, 41, 0),
			(item_set_slot, 941, 44, 4),
			(item_set_slot, 941, 45, 1),
			(item_set_slot, 941, 41, 0),
			(item_set_slot, 942, 66, 400),
			(item_set_slot, 942, 65, 0),
			(item_set_slot, 942, 73, 0),
			(item_set_slot, 942, 41, 0),
			(item_set_slot, 942, 44, 4),
			(item_set_slot, 942, 45, 1),
			(item_set_slot, 942, 41, 0),
			(item_set_slot, 943, 66, 400),
			(item_set_slot, 943, 65, 0),
			(item_set_slot, 943, 73, 0),
			(item_set_slot, 943, 41, 0),
			(item_set_slot, 943, 44, 4),
			(item_set_slot, 943, 45, 1),
			(item_set_slot, 943, 41, 0),
			(item_set_slot, 944, 66, 400),
			(item_set_slot, 944, 65, 0),
			(item_set_slot, 944, 73, 0),
			(item_set_slot, 944, 41, 0),
			(item_set_slot, 944, 44, 4),
			(item_set_slot, 944, 45, 1),
			(item_set_slot, 944, 41, 0),
			(item_set_slot, 945, 66, 400),
			(item_set_slot, 945, 65, 0),
			(item_set_slot, 945, 73, 0),
			(item_set_slot, 945, 41, 0),
			(item_set_slot, 945, 44, 4),
			(item_set_slot, 945, 45, 1),
			(item_set_slot, 945, 41, 0),
			(item_set_slot, 946, 66, 400),
			(item_set_slot, 946, 65, 0),
			(item_set_slot, 946, 73, 0),
			(item_set_slot, 946, 41, 0),
			(item_set_slot, 946, 44, 4),
			(item_set_slot, 946, 45, 1),
			(item_set_slot, 946, 41, 0),
			(item_set_slot, 947, 66, 400),
			(item_set_slot, 947, 65, 0),
			(item_set_slot, 947, 73, 0),
			(item_set_slot, 947, 41, 0),
			(item_set_slot, 947, 44, 4),
			(item_set_slot, 947, 45, 1),
			(item_set_slot, 947, 41, 0),
			(item_set_slot, 948, 66, 400),
			(item_set_slot, 948, 65, 0),
			(item_set_slot, 948, 73, 0),
			(item_set_slot, 948, 41, 0),
			(item_set_slot, 948, 44, 4),
			(item_set_slot, 948, 45, 1),
			(item_set_slot, 948, 41, 0),
			(item_set_slot, 949, 66, 400),
			(item_set_slot, 949, 65, 0),
			(item_set_slot, 949, 73, 0),
			(item_set_slot, 949, 41, 0),
			(item_set_slot, 949, 44, 4),
			(item_set_slot, 949, 45, 1),
			(item_set_slot, 949, 41, 0),
			(item_set_slot, 950, 66, 400),
			(item_set_slot, 950, 65, 0),
			(item_set_slot, 950, 73, 0),
			(item_set_slot, 950, 41, 0),
			(item_set_slot, 950, 44, 4),
			(item_set_slot, 950, 45, 1),
			(item_set_slot, 950, 41, 0),
			(item_set_slot, 951, 66, 400),
			(item_set_slot, 951, 65, 0),
			(item_set_slot, 951, 73, 0),
			(item_set_slot, 951, 41, 0),
			(item_set_slot, 951, 44, 4),
			(item_set_slot, 951, 45, 1),
			(item_set_slot, 951, 41, 0),
			(item_set_slot, 952, 66, 400),
			(item_set_slot, 952, 65, 0),
			(item_set_slot, 952, 73, 0),
			(item_set_slot, 952, 41, 0),
			(item_set_slot, 952, 44, 4),
			(item_set_slot, 952, 45, 1),
			(item_set_slot, 952, 41, 0),
			(item_set_slot, 953, 66, 400),
			(item_set_slot, 953, 65, 0),
			(item_set_slot, 953, 73, 0),
			(item_set_slot, 953, 41, 0),
			(item_set_slot, 953, 44, 4),
			(item_set_slot, 953, 45, 1),
			(item_set_slot, 953, 41, 0),
			(item_set_slot, 954, 66, 400),
			(item_set_slot, 954, 65, 0),
			(item_set_slot, 954, 73, 0),
			(item_set_slot, 954, 41, 0),
			(item_set_slot, 954, 44, 4),
			(item_set_slot, 954, 45, 1),
			(item_set_slot, 954, 41, 0),
			(item_set_slot, 955, 66, 400),
			(item_set_slot, 955, 65, 0),
			(item_set_slot, 955, 73, 0),
			(item_set_slot, 955, 41, 0),
			(item_set_slot, 955, 44, 4),
			(item_set_slot, 955, 45, 1),
			(item_set_slot, 955, 41, 0),
			(item_set_slot, 956, 66, 400),
			(item_set_slot, 956, 65, 0),
			(item_set_slot, 956, 73, 0),
			(item_set_slot, 956, 41, 0),
			(item_set_slot, 956, 44, 4),
			(item_set_slot, 956, 45, 1),
			(item_set_slot, 956, 41, 0),
			(item_set_slot, 957, 66, 400),
			(item_set_slot, 957, 65, 0),
			(item_set_slot, 957, 73, 0),
			(item_set_slot, 957, 41, 0),
			(item_set_slot, 957, 44, 4),
			(item_set_slot, 957, 45, 1),
			(item_set_slot, 957, 41, 0),
			(item_set_slot, 958, 66, 400),
			(item_set_slot, 958, 65, 0),
			(item_set_slot, 958, 73, 0),
			(item_set_slot, 958, 41, 0),
			(item_set_slot, 958, 44, 4),
			(item_set_slot, 958, 45, 1),
			(item_set_slot, 958, 41, 0),
			(item_set_slot, 959, 66, 400),
			(item_set_slot, 959, 65, 0),
			(item_set_slot, 959, 73, 0),
			(item_set_slot, 959, 41, 0),
			(item_set_slot, 959, 44, 4),
			(item_set_slot, 959, 45, 1),
			(item_set_slot, 959, 41, 0),
			(item_set_slot, 960, 66, 400),
			(item_set_slot, 960, 65, 0),
			(item_set_slot, 960, 73, 0),
			(item_set_slot, 960, 41, 0),
			(item_set_slot, 960, 44, 4),
			(item_set_slot, 960, 45, 1),
			(item_set_slot, 960, 41, 0),
			(item_set_slot, 961, 66, 400),
			(item_set_slot, 961, 65, 0),
			(item_set_slot, 961, 73, 0),
			(item_set_slot, 961, 41, 0),
			(item_set_slot, 961, 44, 4),
			(item_set_slot, 961, 45, 1),
			(item_set_slot, 961, 41, 0),
			(item_set_slot, 962, 66, 400),
			(item_set_slot, 962, 65, 0),
			(item_set_slot, 962, 73, 0),
			(item_set_slot, 962, 41, 0),
			(item_set_slot, 962, 44, 4),
			(item_set_slot, 962, 45, 1),
			(item_set_slot, 962, 41, 0),
			(item_set_slot, 963, 66, 400),
			(item_set_slot, 963, 65, 0),
			(item_set_slot, 963, 73, 0),
			(item_set_slot, 963, 41, 0),
			(item_set_slot, 963, 44, 4),
			(item_set_slot, 963, 45, 1),
			(item_set_slot, 963, 41, 0),
			(item_set_slot, 964, 66, 400),
			(item_set_slot, 964, 65, 0),
			(item_set_slot, 964, 73, 0),
			(item_set_slot, 964, 41, 0),
			(item_set_slot, 964, 44, 4),
			(item_set_slot, 964, 45, 1),
			(item_set_slot, 964, 41, 0),
			(item_set_slot, 965, 66, 400),
			(item_set_slot, 965, 65, 0),
			(item_set_slot, 965, 73, 0),
			(item_set_slot, 965, 41, 0),
			(item_set_slot, 965, 44, 4),
			(item_set_slot, 965, 45, 1),
			(item_set_slot, 965, 41, 0),
			(item_set_slot, 966, 66, 400),
			(item_set_slot, 966, 65, 0),
			(item_set_slot, 966, 73, 0),
			(item_set_slot, 966, 41, 0),
			(item_set_slot, 966, 44, 4),
			(item_set_slot, 966, 45, 1),
			(item_set_slot, 966, 41, 0),
			(item_set_slot, 967, 66, 400),
			(item_set_slot, 967, 65, 0),
			(item_set_slot, 967, 73, 0),
			(item_set_slot, 967, 41, 0),
			(item_set_slot, 967, 44, 4),
			(item_set_slot, 967, 45, 1),
			(item_set_slot, 967, 41, 0),
			(item_set_slot, 968, 66, 400),
			(item_set_slot, 968, 65, 0),
			(item_set_slot, 968, 73, 0),
			(item_set_slot, 968, 41, 0),
			(item_set_slot, 968, 44, 4),
			(item_set_slot, 968, 45, 1),
			(item_set_slot, 968, 41, 0),
			(item_set_slot, 969, 66, 100),
			(item_set_slot, 969, 65, 0),
			(item_set_slot, 969, 73, 0),
			(item_set_slot, 969, 41, 2),
			(item_set_slot, 969, 44, 0),
			(item_set_slot, 969, 45, 0),
			(item_set_slot, 969, 41, 0),
			(item_set_slot, 970, 66, 100),
			(item_set_slot, 970, 65, 0),
			(item_set_slot, 970, 73, 0),
			(item_set_slot, 970, 41, 2),
			(item_set_slot, 970, 44, 0),
			(item_set_slot, 970, 45, 0),
			(item_set_slot, 970, 41, 0),
			(item_set_slot, 971, 66, 100),
			(item_set_slot, 971, 65, 0),
			(item_set_slot, 971, 73, 0),
			(item_set_slot, 971, 41, 2),
			(item_set_slot, 971, 44, 0),
			(item_set_slot, 971, 45, 0),
			(item_set_slot, 971, 41, 0),
			(item_set_slot, 972, 66, 100),
			(item_set_slot, 972, 65, 0),
			(item_set_slot, 972, 73, 0),
			(item_set_slot, 972, 41, 2),
			(item_set_slot, 972, 44, 0),
			(item_set_slot, 972, 45, 0),
			(item_set_slot, 972, 41, 0),
			(item_set_slot, 973, 66, 100),
			(item_set_slot, 973, 65, 0),
			(item_set_slot, 973, 73, 0),
			(item_set_slot, 973, 41, 2),
			(item_set_slot, 973, 44, 0),
			(item_set_slot, 973, 45, 0),
			(item_set_slot, 973, 41, 0),
			(item_set_slot, 974, 66, 100),
			(item_set_slot, 974, 65, 0),
			(item_set_slot, 974, 73, 0),
			(item_set_slot, 974, 41, 2),
			(item_set_slot, 974, 44, 0),
			(item_set_slot, 974, 45, 0),
			(item_set_slot, 974, 41, 0),
			(item_set_slot, 975, 66, 100),
			(item_set_slot, 975, 65, 0),
			(item_set_slot, 975, 73, 0),
			(item_set_slot, 975, 41, 2),
			(item_set_slot, 975, 44, 0),
			(item_set_slot, 975, 45, 0),
			(item_set_slot, 975, 41, 0),
			(item_set_slot, 976, 66, 100),
			(item_set_slot, 976, 65, 0),
			(item_set_slot, 976, 73, 0),
			(item_set_slot, 976, 41, 2),
			(item_set_slot, 976, 44, 0),
			(item_set_slot, 976, 45, 0),
			(item_set_slot, 976, 41, 0),
			(item_set_slot, 977, 66, 100),
			(item_set_slot, 977, 65, 0),
			(item_set_slot, 977, 73, 0),
			(item_set_slot, 977, 41, 2),
			(item_set_slot, 977, 44, 0),
			(item_set_slot, 977, 45, 0),
			(item_set_slot, 977, 41, 0),
			(item_set_slot, 978, 66, 100),
			(item_set_slot, 978, 65, 0),
			(item_set_slot, 978, 73, 0),
			(item_set_slot, 978, 41, 2),
			(item_set_slot, 978, 44, 0),
			(item_set_slot, 978, 45, 0),
			(item_set_slot, 978, 41, 0),
			(item_set_slot, 979, 66, 100),
			(item_set_slot, 979, 65, 0),
			(item_set_slot, 979, 73, 0),
			(item_set_slot, 979, 41, 2),
			(item_set_slot, 979, 44, 0),
			(item_set_slot, 979, 45, 0),
			(item_set_slot, 979, 41, 0),
			(item_set_slot, 980, 66, 100),
			(item_set_slot, 980, 65, 0),
			(item_set_slot, 980, 73, 0),
			(item_set_slot, 980, 41, 2),
			(item_set_slot, 980, 44, 0),
			(item_set_slot, 980, 45, 0),
			(item_set_slot, 980, 41, 0),
			(item_set_slot, 981, 66, 100),
			(item_set_slot, 981, 65, 0),
			(item_set_slot, 981, 73, 0),
			(item_set_slot, 981, 41, 2),
			(item_set_slot, 981, 44, 0),
			(item_set_slot, 981, 45, 0),
			(item_set_slot, 981, 41, 0),
			(item_set_slot, 982, 66, 100),
			(item_set_slot, 982, 65, 0),
			(item_set_slot, 982, 67, 0),
			(item_set_slot, 982, 73, 26),
			(item_set_slot, 982, 41, 0),
			(item_set_slot, 982, 44, 0),
			(item_set_slot, 982, 45, 14),
			(item_set_slot, 982, 41, 0),
			(item_set_slot, 983, 66, 100),
			(item_set_slot, 983, 65, 0),
			(item_set_slot, 983, 67, 0),
			(item_set_slot, 983, 73, 26),
			(item_set_slot, 983, 41, 0),
			(item_set_slot, 983, 44, 0),
			(item_set_slot, 983, 45, 14),
			(item_set_slot, 983, 41, 0),
			(item_set_slot, 984, 66, 100),
			(item_set_slot, 984, 65, 0),
			(item_set_slot, 984, 67, 0),
			(item_set_slot, 984, 73, 26),
			(item_set_slot, 984, 41, 0),
			(item_set_slot, 984, 44, 0),
			(item_set_slot, 984, 45, 14),
			(item_set_slot, 984, 41, 0),
			(item_set_slot, 985, 66, 100),
			(item_set_slot, 985, 65, 0),
			(item_set_slot, 985, 67, 0),
			(item_set_slot, 985, 73, 26),
			(item_set_slot, 985, 41, 0),
			(item_set_slot, 985, 44, 0),
			(item_set_slot, 985, 45, 14),
			(item_set_slot, 985, 41, 0),
			(item_set_slot, 986, 66, 100),
			(item_set_slot, 986, 65, 0),
			(item_set_slot, 986, 67, 0),
			(item_set_slot, 986, 73, 26),
			(item_set_slot, 986, 41, 0),
			(item_set_slot, 986, 44, 0),
			(item_set_slot, 986, 45, 14),
			(item_set_slot, 986, 41, 0),
			(item_set_slot, 987, 66, 100),
			(item_set_slot, 987, 65, 0),
			(item_set_slot, 987, 67, 0),
			(item_set_slot, 987, 73, 26),
			(item_set_slot, 987, 41, 0),
			(item_set_slot, 987, 44, 0),
			(item_set_slot, 987, 45, 14),
			(item_set_slot, 987, 41, 0),
			(item_set_slot, 988, 66, 200),
			(item_set_slot, 988, 65, 0),
			(item_set_slot, 988, 67, 0),
			(item_set_slot, 988, 73, 26),
			(item_set_slot, 988, 41, 0),
			(item_set_slot, 988, 44, 5),
			(item_set_slot, 988, 45, 1),
			(item_set_slot, 988, 41, 0),
			(item_set_slot, 989, 66, 200),
			(item_set_slot, 989, 65, 0),
			(item_set_slot, 989, 67, 0),
			(item_set_slot, 989, 73, 26),
			(item_set_slot, 989, 41, 0),
			(item_set_slot, 989, 44, 5),
			(item_set_slot, 989, 45, 1),
			(item_set_slot, 989, 41, 0),
			(item_set_slot, 990, 66, 200),
			(item_set_slot, 990, 65, 0),
			(item_set_slot, 990, 67, 0),
			(item_set_slot, 990, 73, 26),
			(item_set_slot, 990, 41, 0),
			(item_set_slot, 990, 44, 5),
			(item_set_slot, 990, 45, 1),
			(item_set_slot, 990, 41, 0),
			(item_set_slot, 991, 66, 200),
			(item_set_slot, 991, 65, 0),
			(item_set_slot, 991, 67, 0),
			(item_set_slot, 991, 73, 26),
			(item_set_slot, 991, 41, 0),
			(item_set_slot, 991, 44, 5),
			(item_set_slot, 991, 45, 1),
			(item_set_slot, 991, 41, 0),
			(item_set_slot, 992, 66, 200),
			(item_set_slot, 992, 65, 0),
			(item_set_slot, 992, 67, 0),
			(item_set_slot, 992, 73, 26),
			(item_set_slot, 992, 41, 0),
			(item_set_slot, 992, 44, 5),
			(item_set_slot, 992, 45, 1),
			(item_set_slot, 992, 41, 0),
			(item_set_slot, 993, 66, 200),
			(item_set_slot, 993, 65, 0),
			(item_set_slot, 993, 67, 0),
			(item_set_slot, 993, 73, 26),
			(item_set_slot, 993, 41, 0),
			(item_set_slot, 993, 44, 5),
			(item_set_slot, 993, 45, 1),
			(item_set_slot, 993, 41, 0),
			(item_set_slot, 994, 66, 200),
			(item_set_slot, 994, 65, 0),
			(item_set_slot, 994, 67, 0),
			(item_set_slot, 994, 73, 26),
			(item_set_slot, 994, 41, 0),
			(item_set_slot, 994, 44, 5),
			(item_set_slot, 994, 45, 1),
			(item_set_slot, 994, 41, 0),
			(item_set_slot, 995, 66, 200),
			(item_set_slot, 995, 65, 0),
			(item_set_slot, 995, 67, 0),
			(item_set_slot, 995, 73, 26),
			(item_set_slot, 995, 41, 0),
			(item_set_slot, 995, 44, 5),
			(item_set_slot, 995, 45, 1),
			(item_set_slot, 995, 41, 0),
			(item_set_slot, 996, 66, 200),
			(item_set_slot, 996, 65, 0),
			(item_set_slot, 996, 67, 0),
			(item_set_slot, 996, 73, 26),
			(item_set_slot, 996, 41, 0),
			(item_set_slot, 996, 44, 5),
			(item_set_slot, 996, 45, 1),
			(item_set_slot, 996, 41, 0),
			(item_set_slot, 997, 66, 200),
			(item_set_slot, 997, 65, 0),
			(item_set_slot, 997, 67, 0),
			(item_set_slot, 997, 73, 26),
			(item_set_slot, 997, 41, 0),
			(item_set_slot, 997, 44, 5),
			(item_set_slot, 997, 45, 1),
			(item_set_slot, 997, 41, 0),
			(item_set_slot, 998, 66, 200),
			(item_set_slot, 998, 65, 0),
			(item_set_slot, 998, 67, 0),
			(item_set_slot, 998, 73, 26),
			(item_set_slot, 998, 41, 0),
			(item_set_slot, 998, 44, 5),
			(item_set_slot, 998, 45, 1),
			(item_set_slot, 998, 41, 0),
			(item_set_slot, 999, 66, 200),
			(item_set_slot, 999, 65, 0),
			(item_set_slot, 999, 67, 0),
			(item_set_slot, 999, 73, 26),
			(item_set_slot, 999, 41, 0),
			(item_set_slot, 999, 44, 5),
			(item_set_slot, 999, 45, 1),
			(item_set_slot, 999, 41, 0),
			(item_set_slot, 1000, 66, 200),
			(item_set_slot, 1000, 65, 0),
			(item_set_slot, 1000, 67, 0),
			(item_set_slot, 1000, 73, 26),
			(item_set_slot, 1000, 41, 0),
			(item_set_slot, 1000, 44, 5),
			(item_set_slot, 1000, 45, 1),
			(item_set_slot, 1000, 41, 0),
			(item_set_slot, 1001, 66, 200),
			(item_set_slot, 1001, 65, 0),
			(item_set_slot, 1001, 67, 0),
			(item_set_slot, 1001, 73, 26),
			(item_set_slot, 1001, 41, 0),
			(item_set_slot, 1001, 44, 5),
			(item_set_slot, 1001, 45, 1),
			(item_set_slot, 1001, 41, 0),
			(item_set_slot, 1002, 66, 200),
			(item_set_slot, 1002, 65, 0),
			(item_set_slot, 1002, 67, 0),
			(item_set_slot, 1002, 73, 26),
			(item_set_slot, 1002, 41, 0),
			(item_set_slot, 1002, 44, 5),
			(item_set_slot, 1002, 45, 1),
			(item_set_slot, 1002, 41, 0),
			(item_set_slot, 1003, 66, 200),
			(item_set_slot, 1003, 65, 0),
			(item_set_slot, 1003, 67, 0),
			(item_set_slot, 1003, 73, 26),
			(item_set_slot, 1003, 41, 0),
			(item_set_slot, 1003, 44, 5),
			(item_set_slot, 1003, 45, 1),
			(item_set_slot, 1003, 41, 0),
			(item_set_slot, 1004, 66, 200),
			(item_set_slot, 1004, 65, 0),
			(item_set_slot, 1004, 67, 0),
			(item_set_slot, 1004, 73, 26),
			(item_set_slot, 1004, 41, 0),
			(item_set_slot, 1004, 44, 5),
			(item_set_slot, 1004, 45, 1),
			(item_set_slot, 1004, 41, 0),
			(item_set_slot, 1005, 66, 200),
			(item_set_slot, 1005, 65, 0),
			(item_set_slot, 1005, 67, 0),
			(item_set_slot, 1005, 73, 26),
			(item_set_slot, 1005, 41, 0),
			(item_set_slot, 1005, 44, 5),
			(item_set_slot, 1005, 45, 1),
			(item_set_slot, 1005, 41, 0),
			(item_set_slot, 1006, 66, 200),
			(item_set_slot, 1006, 65, 0),
			(item_set_slot, 1006, 67, 0),
			(item_set_slot, 1006, 73, 26),
			(item_set_slot, 1006, 41, 0),
			(item_set_slot, 1006, 44, 5),
			(item_set_slot, 1006, 45, 1),
			(item_set_slot, 1006, 41, 0),
			(item_set_slot, 1007, 66, 200),
			(item_set_slot, 1007, 65, 0),
			(item_set_slot, 1007, 67, 0),
			(item_set_slot, 1007, 73, 26),
			(item_set_slot, 1007, 41, 0),
			(item_set_slot, 1007, 44, 5),
			(item_set_slot, 1007, 45, 1),
			(item_set_slot, 1007, 41, 0),
			(item_set_slot, 1008, 66, 200),
			(item_set_slot, 1008, 65, 0),
			(item_set_slot, 1008, 67, 0),
			(item_set_slot, 1008, 73, 26),
			(item_set_slot, 1008, 41, 0),
			(item_set_slot, 1008, 44, 5),
			(item_set_slot, 1008, 45, 1),
			(item_set_slot, 1008, 41, 0),
			(item_set_slot, 1009, 66, 200),
			(item_set_slot, 1009, 65, 0),
			(item_set_slot, 1009, 67, 0),
			(item_set_slot, 1009, 73, 26),
			(item_set_slot, 1009, 41, 0),
			(item_set_slot, 1009, 44, 5),
			(item_set_slot, 1009, 45, 1),
			(item_set_slot, 1009, 41, 0),
			(item_set_slot, 1010, 66, 200),
			(item_set_slot, 1010, 65, 0),
			(item_set_slot, 1010, 67, 0),
			(item_set_slot, 1010, 73, 26),
			(item_set_slot, 1010, 41, 0),
			(item_set_slot, 1010, 44, 5),
			(item_set_slot, 1010, 45, 1),
			(item_set_slot, 1010, 41, 0),
			(item_set_slot, 1011, 66, 200),
			(item_set_slot, 1011, 65, 0),
			(item_set_slot, 1011, 67, 0),
			(item_set_slot, 1011, 73, 26),
			(item_set_slot, 1011, 41, 0),
			(item_set_slot, 1011, 44, 5),
			(item_set_slot, 1011, 45, 1),
			(item_set_slot, 1011, 41, 0),
			(item_set_slot, 1012, 66, 200),
			(item_set_slot, 1012, 65, 0),
			(item_set_slot, 1012, 67, 0),
			(item_set_slot, 1012, 73, 26),
			(item_set_slot, 1012, 41, 0),
			(item_set_slot, 1012, 44, 5),
			(item_set_slot, 1012, 45, 1),
			(item_set_slot, 1012, 41, 0),
			(item_set_slot, 1013, 66, 200),
			(item_set_slot, 1013, 65, 0),
			(item_set_slot, 1013, 67, 0),
			(item_set_slot, 1013, 73, 26),
			(item_set_slot, 1013, 41, 0),
			(item_set_slot, 1013, 44, 5),
			(item_set_slot, 1013, 45, 1),
			(item_set_slot, 1013, 41, 0),
			(item_set_slot, 1014, 66, 200),
			(item_set_slot, 1014, 65, 0),
			(item_set_slot, 1014, 67, 0),
			(item_set_slot, 1014, 73, 26),
			(item_set_slot, 1014, 41, 0),
			(item_set_slot, 1014, 44, 5),
			(item_set_slot, 1014, 45, 1),
			(item_set_slot, 1014, 41, 0),
			(item_set_slot, 1015, 66, 500),
			(item_set_slot, 1015, 65, 0),
			(item_set_slot, 1015, 73, 0),
			(item_set_slot, 1015, 42, 40),
			(item_set_slot, 1015, 44, 2),
			(item_set_slot, 1015, 43, 87),
			(item_set_slot, 1015, 41, 0),
			(item_set_slot, 1016, 66, 500),
			(item_set_slot, 1016, 65, 0),
			(item_set_slot, 1016, 73, 0),
			(item_set_slot, 1016, 42, 40),
			(item_set_slot, 1016, 44, 2),
			(item_set_slot, 1016, 43, 87),
			(item_set_slot, 1016, 41, 0),
			(item_set_slot, 1017, 66, 500),
			(item_set_slot, 1017, 65, 0),
			(item_set_slot, 1017, 73, 0),
			(item_set_slot, 1017, 42, 40),
			(item_set_slot, 1017, 44, 2),
			(item_set_slot, 1017, 43, 87),
			(item_set_slot, 1017, 41, 0),
			(item_set_slot, 1018, 66, 500),
			(item_set_slot, 1018, 65, 0),
			(item_set_slot, 1018, 73, 0),
			(item_set_slot, 1018, 42, 40),
			(item_set_slot, 1018, 44, 2),
			(item_set_slot, 1018, 43, 87),
			(item_set_slot, 1018, 41, 0),
			(item_set_slot, 1019, 66, 500),
			(item_set_slot, 1019, 65, 0),
			(item_set_slot, 1019, 73, 0),
			(item_set_slot, 1019, 42, 40),
			(item_set_slot, 1019, 44, 2),
			(item_set_slot, 1019, 43, 87),
			(item_set_slot, 1019, 41, 0),
			(item_set_slot, 1020, 66, 500),
			(item_set_slot, 1020, 65, 0),
			(item_set_slot, 1020, 73, 0),
			(item_set_slot, 1020, 42, 40),
			(item_set_slot, 1020, 44, 2),
			(item_set_slot, 1020, 43, 87),
			(item_set_slot, 1020, 41, 0),
			(item_set_slot, 1021, 66, 225),
			(item_set_slot, 1021, 65, 0),
			(item_set_slot, 1021, 73, 0),
			(item_set_slot, 1021, 44, 1),
			(item_set_slot, 1021, 45, 0),
			(item_set_slot, 1021, 43, 0),
			(item_set_slot, 1021, 42, 150),
			(item_set_slot, 1021, 41, 0),
			(item_set_slot, 1022, 66, 500),
			(item_set_slot, 1022, 65, 0),
			(item_set_slot, 1022, 73, 0),
			(item_set_slot, 1022, 44, 70),
			(item_set_slot, 1022, 45, 0),
			(item_set_slot, 1022, 43, 70),
			(item_set_slot, 1022, 42, 100),
			(item_set_slot, 1022, 41, 0),
			(item_set_slot, 1023, 66, 500),
			(item_set_slot, 1023, 65, 0),
			(item_set_slot, 1023, 73, 0),
			(item_set_slot, 1023, 44, 50),
			(item_set_slot, 1023, 45, 0),
			(item_set_slot, 1023, 43, 70),
			(item_set_slot, 1023, 42, 100),
			(item_set_slot, 1023, 41, 0),
			(item_set_slot, 1024, 66, 0),
			(item_set_slot, 1024, 65, 0),
			(item_set_slot, 1024, 73, 0),
			(item_set_slot, 1024, 41, 0),
			(item_set_slot, 0, 72, 100),
			(item_set_slot, 0, 69, 0),
			(item_set_slot, 1, 72, 50),
			(item_set_slot, 1, 69, -1),
			(item_set_slot, 2, 72, 55),
			(item_set_slot, 2, 69, -1),
			(item_set_slot, 3, 72, 65),
			(item_set_slot, 3, 69, -1),
			(item_set_slot, 4, 72, 72),
			(item_set_slot, 4, 69, -1),
			(item_set_slot, 5, 72, 75),
			(item_set_slot, 5, 69, -1),
			(item_set_slot, 6, 72, 80),
			(item_set_slot, 6, 69, -1),
			(item_set_slot, 7, 72, 83),
			(item_set_slot, 7, 69, -1),
			(item_set_slot, 8, 72, 86),
			(item_set_slot, 8, 69, -1),
			(item_set_slot, 9, 72, 90),
			(item_set_slot, 9, 69, -1),
			(item_set_slot, 10, 72, 190),
			(item_set_slot, 10, 69, 1),
			(item_set_slot, 11, 72, 250),
			(item_set_slot, 11, 69, 1),
			(item_set_slot, 12, 72, 160),
			(item_set_slot, 12, 69, 1),
			(item_set_slot, 13, 72, 350),
			(item_set_slot, 13, 69, 1),
			(item_set_slot, 14, 72, 670),
			(item_set_slot, 14, 69, 1),
			(item_set_slot, 15, 72, 850),
			(item_set_slot, 15, 69, 1),
			(item_set_slot, 16, 72, 1450),
			(item_set_slot, 16, 69, 1),
			(item_set_slot, 17, 72, 1750),
			(item_set_slot, 17, 69, 1),
			(item_set_slot, 18, 72, 190),
			(item_set_slot, 18, 69, 1),
			(item_set_slot, 19, 72, 490),
			(item_set_slot, 19, 69, 1),
			(item_set_slot, 20, 72, 320),
			(item_set_slot, 20, 69, 1),
			(item_set_slot, 21, 72, 50),
			(item_set_slot, 21, 69, -1),
			(item_set_slot, 22, 72, 70),
			(item_set_slot, 22, 69, -1),
			(item_set_slot, 23, 72, 60),
			(item_set_slot, 23, 69, -1),
			(item_set_slot, 24, 72, 170),
			(item_set_slot, 24, 69, 1),
			(item_set_slot, 25, 72, 260),
			(item_set_slot, 25, 69, 1),
			(item_set_slot, 26, 72, 390),
			(item_set_slot, 26, 69, 1),
			(item_set_slot, 27, 72, 650),
			(item_set_slot, 27, 69, 1),
			(item_set_slot, 28, 72, 250),
			(item_set_slot, 28, 69, 1),
			(item_set_slot, 29, 72, 1150),
			(item_set_slot, 29, 69, 1),
			(item_set_slot, 30, 72, 40),
			(item_set_slot, 30, 69, -1),
			(item_set_slot, 31, 72, 60),
			(item_set_slot, 31, 69, -1),
			(item_set_slot, 32, 72, 90),
			(item_set_slot, 32, 69, 1),
			(item_set_slot, 33, 72, 180),
			(item_set_slot, 33, 69, 1),
			(item_set_slot, 34, 72, 180),
			(item_set_slot, 34, 69, -1),
			(item_set_slot, 35, 72, 650),
			(item_set_slot, 35, 69, 1),
			(item_set_slot, 36, 72, 1450),
			(item_set_slot, 36, 69, 1),
			(item_set_slot, 37, 72, 100),
			(item_set_slot, 37, 69, 1),
			(item_set_slot, 38, 72, 100),
			(item_set_slot, 38, 69, -1),
			(item_set_slot, 39, 72, 90),
			(item_set_slot, 39, 69, -1),
			(item_set_slot, 40, 72, 40),
			(item_set_slot, 40, 69, -1),
			(item_set_slot, 41, 72, 5),
			(item_set_slot, 41, 69, -1),
			(item_set_slot, 42, 72, 190),
			(item_set_slot, 42, 69, 1)
		]),

	("start_customizing",
		[
			(store_script_param_1, ":script_param_1"),
			(store_skill_level, "$g_player_inventory_management", 12, "$g_player_troop"),
			(store_sub, ":value", 10, "$g_player_inventory_management"),
			(troop_raise_skill, "$g_player_troop", 12, ":value"),
			(call_script, "script_copy_inventory", "$g_player_troop", "trp_inventory_backup"),
			(call_script, "script_unequip_troop", ":script_param_1"),
			(store_add, ":value_2", 2, ":script_param_1"),
			(call_script, "script_copy_inventory", ":value_2", "$g_player_troop"),
			(change_screen_loot, ":script_param_1")
		]),

	("finish_customizing",
		[
			(store_script_param_1, ":script_param_1"),
			(store_sub, ":value", "$g_player_inventory_management", 10),
			(troop_raise_skill, "$g_player_troop", 12, ":value"),
			(call_script, "script_copy_inventory", "trp_inventory_backup", "$g_player_troop"),
			(call_script, "script_unequip_troop", ":script_param_1"),
			(store_add, ":value_2", 1, ":script_param_1"),
			(call_script, "script_copy_inventory", ":script_param_1", ":value_2"),
			(troop_equip_items, ":script_param_1")
		]),

	("unequip_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(try_for_range, ":number", 0, 10),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":inventory_slot_script_param_1_number", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(troop_set_inventory_slot, ":script_param_1", ":number", -1),
				(troop_add_item, ":script_param_1", ":inventory_slot_script_param_1_number", ":inventory_slot_modifier_script_param_1_number"),
			(try_end)
		]),

	("reload_custom_troops",
		[
			(try_for_range, ":troop", "trp_custom_n_recruit", "trp_custom_end"),
				(neg|troop_is_hero, ":troop"),
				(store_add, ":value", 1, ":troop"),
				(call_script, "script_copy_inventory", ":value", ":troop"),
				(troop_equip_items, ":troop"),
			(try_end)
		]),

	("game_get_party_speed_multiplier",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "p_main_party"),
				(party_slot_eq, ":script_param_1", slot_party_type, 13),
				(party_get_skill_level, ":skill_level_script_param_1_14", ":script_param_1", 14),
				(val_mul, ":skill_level_script_param_1_14", 3),
				(val_add, ":skill_level_script_param_1_14", 100),
			(else_try),
				(assign, ":skill_level_script_param_1_14", 100),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", "p_main_party"),
				(call_script, "script_get_inventory_weight_of_whole_party"),
				(assign, ":var_3", reg0),
				(val_div, ":var_3", 100),
				(val_sub, ":skill_level_script_param_1_14", ":var_3"),
			(try_end),
			(val_max, ":skill_level_script_param_1_14", 0),
			(set_trigger_result, ":skill_level_script_param_1_14")
		]),

	("get_inventory_weight_of_whole_party",
		[
			(assign, ":var_1", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(is_between, ":party_stack_troop_id_main_party_number", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_get_inventory_capacity, ":inventory_capacity_party_stack_troop_id_main_party_number", ":party_stack_troop_id_main_party_number"),
				(try_for_range, ":number_2", 10, ":inventory_capacity_party_stack_troop_id_main_party_number"),
					(troop_get_inventory_slot, ":inventory_slot_party_stack_troop_id_main_party_number_number_2", ":party_stack_troop_id_main_party_number", ":number_2"),
					(ge, ":inventory_slot_party_stack_troop_id_main_party_number_number_2", 0),
					(item_get_slot, ":inventory_slot_party_stack_troop_id_main_party_number_number_2_66", ":inventory_slot_party_stack_troop_id_main_party_number_number_2", 66),
					(val_add, ":var_1", ":inventory_slot_party_stack_troop_id_main_party_number_number_2_66"),
				(try_end),
			(try_end),
			(val_div, ":var_1", 100),
			(assign, reg0, ":var_1")
		]),

	("mouse_fix_pos_ready",
		[
			(create_text_overlay, "$g_presentation_obj_38", "@ ", 4112),
			(create_mesh_overlay, "$g_presentation_obj_37", "mesh_white_plane"),
			(position_set_x, 1, 50),
			(position_set_y, 1, 37500),
			(overlay_set_size, "$g_presentation_obj_37", 1),
			(create_mesh_overlay, "$g_presentation_obj_36", "mesh_white_plane"),
			(position_set_x, 1, 50000),
			(position_set_y, 1, 50),
			(overlay_set_size, "$g_presentation_obj_36", 1)
		]),

	("mouse_fix_pos_run",
		[
			(set_fixed_point_multiplier, 1000),
			(mouse_get_position, 1),
			(position_get_x, reg50, 1),
			(position_get_y, reg51, 1),
			(position_set_x, 1, reg50),
			(position_set_y, 1, 0),
			(overlay_set_position, "$g_presentation_obj_37", 1),
			(position_set_x, 1, 0),
			(position_set_y, 1, reg51),
			(overlay_set_position, "$g_presentation_obj_36", 1),
			(try_begin),
				(le, reg50, 500),
				(assign, ":value", 70),
			(else_try),
				(assign, ":value", -70),
			(try_end),
			(try_begin),
				(le, reg51, 375),
				(assign, ":value_2", 20),
			(else_try),
				(assign, ":value_2", -20),
			(try_end),
			(store_add, ":value_3", reg50, ":value"),
			(store_add, ":value_4", reg51, ":value_2"),
			(position_set_x, 1, ":value_3"),
			(position_set_y, 1, ":value_4"),
			(overlay_set_position, "$g_presentation_obj_38", 1),
			(overlay_set_text, "$g_presentation_obj_38", "@({reg50},{reg51})")
		]),

	("get_book_read_slot",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_sub, ":value", "trp_kingdom_1_lord", "trp_npc1"),
			(store_sub, ":value_2", ":script_param_2", "itm_book_tactics"),
			(store_sub, ":value_3", ":script_param_1", "trp_npc1"),
			(store_mul, ":value_4", ":value_2", ":value"),
			(val_add, ":value_4", ":value_3"),
			(assign, reg0, ":value_4")
		]),

	("sort_food",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":inventory_slot_script_param_1_number", -1),
				(is_between, ":inventory_slot_script_param_1_number", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(try_for_range, ":value", ":number", ":inventory_capacity_script_param_1"),
					(neq, ":value", ":number"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_value", ":script_param_1", ":value"),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_value", ":script_param_1", ":value"),
					(gt, ":inventory_slot_script_param_1_value", -1),
					(eq, ":inventory_slot_script_param_1_value", ":inventory_slot_script_param_1_number"),
					(eq, ":inventory_slot_modifier_script_param_1_value", ":inventory_slot_modifier_script_param_1_number"),
					(troop_inventory_slot_get_item_max_amount, ":troop_inventory_slot_item_max_amount_script_param_1_number", ":script_param_1", ":number"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number", ":script_param_1", ":number"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_value", ":script_param_1", ":value"),
					(store_add, ":value_2", ":troop_inventory_slot_item_amount_script_param_1_number", ":troop_inventory_slot_item_amount_script_param_1_value"),
					(store_sub, ":value_3", ":value_2", ":troop_inventory_slot_item_max_amount_script_param_1_number"),
					(try_begin),
						(gt, ":value_3", 0),
						(troop_inventory_slot_set_item_amount, ":script_param_1", ":number", ":troop_inventory_slot_item_max_amount_script_param_1_number"),
						(troop_inventory_slot_set_item_amount, ":script_param_1", ":value", ":value_3"),
						(assign, ":value", 0),
					(else_try),
						(troop_inventory_slot_set_item_amount, ":script_param_1", ":number", ":value_2"),
						(troop_set_inventory_slot, ":script_param_1", ":value", -1),
					(try_end),
				(try_end),
			(try_end)
		]),

	("dplmc_get_troop_max_hp",
		[
			(store_script_param_1, ":script_param_1"),
			(store_skill_level, ":skill_level_36_script_param_1", 36, ":script_param_1"),
			(store_attribute_level, ":attribute_level_script_param_1_0", ":script_param_1", 0),
			(val_mul, ":skill_level_36_script_param_1", 2),
			(val_add, ":skill_level_36_script_param_1", ":attribute_level_script_param_1_0"),
			(val_add, ":skill_level_36_script_param_1", 35),
			(assign, reg0, ":skill_level_36_script_param_1")
		]),

	("get_troop_max_hp",
		[
			(store_script_param_1, ":script_param_1"),
			(store_skill_level, ":skill_level_36_script_param_1", 36, ":script_param_1"),
			(store_attribute_level, ":attribute_level_script_param_1_0", ":script_param_1", 0),
			(val_mul, ":skill_level_36_script_param_1", 2),
			(val_add, ":skill_level_36_script_param_1", ":attribute_level_script_param_1_0"),
			(val_add, ":skill_level_36_script_param_1", 35),
			(assign, reg0, ":skill_level_36_script_param_1")
		]),

	("update_ranger_master",
		[
			(try_begin),
				(store_random_in_range, ":random_in_range_5_12", 5, 12),
				(assign, "$g_num_ranger_recruits", ":random_in_range_5_12"),
			(try_end)
		]),

	("update_mystic_merchant",
		[
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", 100, 0),
			(try_end),
			(try_for_range, ":troop", "trp_mystic_merchant_1", "trp_slave_swadian"),
				(store_random_in_range, ":party", "p_town_1", "p_castle_1"),
				(party_set_slot, ":party", 100, ":troop"),
				(troop_get_inventory_capacity, ":inventory_capacity_troop", ":troop"),
				(try_for_range, ":number", 10, ":inventory_capacity_troop"),
					(troop_set_inventory_slot, ":troop", ":number", -1),
				(try_end),
				(reset_item_probabilities, 100),
				(set_merchandise_modifier_quality, 120),
				(troop_add_merchandise, ":troop", 1, 15),
				(troop_add_merchandise, ":troop", 13, 16),
				(troop_add_merchandise, ":troop", 12, 8),
				(troop_add_merchandise, ":troop", 14, 8),
				(troop_add_merchandise, ":troop", 15, 4),
				(troop_add_merchandise, ":troop", 2, 5),
				(troop_add_merchandise, ":troop", 3, 5),
				(troop_add_merchandise, ":troop", 4, 5),
				(troop_add_merchandise, ":troop", 7, 6),
				(troop_add_merchandise, ":troop", 8, 4),
				(troop_add_merchandise, ":troop", 9, 3),
				(troop_add_merchandise, ":troop", 10, 5),
			(try_end)
		]),

	("auto_sell",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_free_inventory_capacity, ":free_inventory_capacity_script_param_2", ":script_param_2"),
			(troop_sort_inventory, ":script_param_1"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_5", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_var_5", ":script_param_1", ":var_5"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_var_5", ":script_param_1", ":var_5"),
				(gt, ":inventory_slot_script_param_1_var_5", -1),
				(item_get_type, ":type_inventory_slot_script_param_1_var_5", ":inventory_slot_script_param_1_var_5"),
				(item_slot_eq, ":type_inventory_slot_script_param_1_var_5", 71, 0),
				(call_script, "script_get_item_value_with_imod", ":inventory_slot_script_param_1_var_5", ":inventory_slot_modifier_script_param_1_var_5"),
				(assign, ":var_9", reg0),
				(val_div, ":var_9", 100),
				(call_script, "script_game_get_item_sell_price_factor", ":inventory_slot_script_param_1_var_5"),
				(assign, ":var_10", reg0),
				(val_mul, ":var_9", ":var_10"),
				(val_div, ":var_9", 100),
				(val_max, ":var_9", 1),
				(le, ":var_9", "$g_auto_sell_price_limit"),
				(store_troop_gold, ":troop_gold_script_param_2", ":script_param_2"),
				(le, ":var_9", ":troop_gold_script_param_2"),
				(gt, ":free_inventory_capacity_script_param_2", 0),
				(troop_add_item, ":script_param_2", ":inventory_slot_script_param_1_var_5", ":inventory_slot_modifier_script_param_1_var_5"),
				(val_sub, ":free_inventory_capacity_script_param_2", 1),
				(troop_set_inventory_slot, ":script_param_1", ":var_5", -1),
				(troop_remove_gold, ":script_param_2", ":var_9"),
				(troop_add_gold, ":script_param_1", ":var_9"),
			(try_end)
		]),

	("auto_sell_all",
		[
			(try_begin),
				(is_between, "$current_town", "p_town_1", "p_castle_1"),
				(party_get_slot, ":current_town_town_weaponsmith", "$current_town", slot_town_weaponsmith),
				(party_get_slot, ":current_town_town_armorer", "$current_town", slot_town_armorer),
				(party_get_slot, ":current_town_town_horse_merchant", "$current_town", slot_town_horse_merchant),
				(party_get_slot, ":current_town_town_merchant", "$current_town", slot_town_merchant),
			(else_try),
				(is_between, "$current_town", "p_village_1", "p_salt_mine"),
				(party_get_slot, ":current_town_town_elder", "$current_town", slot_town_elder),
			(try_end),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range_backwards, ":var_7", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_var_7", "p_main_party", ":var_7"),
				(is_between, ":party_stack_troop_id_main_party_var_7", "trp_npc1", "trp_kingdom_1_lord"),
				(store_free_inventory_capacity, ":free_inventory_capacity_party_stack_troop_id_main_party_var_7", ":party_stack_troop_id_main_party_var_7"),
				(store_troop_gold, ":troop_gold_party_stack_troop_id_main_party_var_7", ":party_stack_troop_id_main_party_var_7"),
				(try_begin),
					(is_between, "$current_town", "p_town_1", "p_castle_1"),
					(call_script, "script_auto_sell", ":party_stack_troop_id_main_party_var_7", ":current_town_town_weaponsmith"),
					(call_script, "script_auto_sell", ":party_stack_troop_id_main_party_var_7", ":current_town_town_armorer"),
					(call_script, "script_auto_sell", ":party_stack_troop_id_main_party_var_7", ":current_town_town_horse_merchant"),
					(call_script, "script_auto_sell", ":party_stack_troop_id_main_party_var_7", ":current_town_town_merchant"),
				(else_try),
					(is_between, "$current_town", "p_village_1", "p_salt_mine"),
					(call_script, "script_auto_sell", ":party_stack_troop_id_main_party_var_7", ":current_town_town_elder"),
				(try_end),
				(store_free_inventory_capacity, ":free_inventory_capacity_party_stack_troop_id_main_party_var_7_2", ":party_stack_troop_id_main_party_var_7"),
				(store_troop_gold, ":troop_gold_party_stack_troop_id_main_party_var_7_2", ":party_stack_troop_id_main_party_var_7"),
				(neq, ":troop_gold_party_stack_troop_id_main_party_var_7_2", ":troop_gold_party_stack_troop_id_main_party_var_7"),
				(store_sub, ":value", ":troop_gold_party_stack_troop_id_main_party_var_7_2", ":troop_gold_party_stack_troop_id_main_party_var_7"),
				(set_show_messages, 0),
				(troop_remove_gold, ":party_stack_troop_id_main_party_var_7", ":value"),
				(troop_add_gold, "trp_player", ":value"),
				(set_show_messages, 1),
				(store_sub, reg1, ":free_inventory_capacity_party_stack_troop_id_main_party_var_7_2", ":free_inventory_capacity_party_stack_troop_id_main_party_var_7"),
				(assign, reg2, ":value"),
				(store_sub, reg3, reg1, 1),
				(store_sub, reg4, reg2, 1),
				(str_store_troop_name, 1, ":party_stack_troop_id_main_party_var_7"),
				(display_message, "@{s1} have sold {reg1} {reg3?items:item} and you gained {reg2} {reg4?denars:denar}."),
			(try_end)
		]),

	("auto_buy_food",
		[
			(try_begin),
				(is_between, "$current_town", "p_town_1", "p_castle_1"),
				(party_get_slot, ":current_town_town_merchant", "$current_town", slot_town_merchant),
			(else_try),
				(is_between, "$current_town", "p_village_1", "p_salt_mine"),
				(party_get_slot, ":current_town_town_merchant", "$current_town", slot_town_elder),
			(try_end),
			(store_troop_gold, ":troop_gold_player", "trp_player"),
			(store_free_inventory_capacity, ":free_inventory_capacity_player", "trp_player"),
			(troop_get_inventory_capacity, ":inventory_capacity_current_town_town_merchant", ":current_town_town_merchant"),
			(set_show_messages, 0),
			(try_for_range, ":number", 10, ":inventory_capacity_current_town_town_merchant"),
				(troop_get_inventory_slot, ":inventory_slot_current_town_town_merchant_number", ":current_town_town_merchant", ":number"),
				(gt, ":inventory_slot_current_town_town_merchant_number", -1),
				(is_between, ":inventory_slot_current_town_town_merchant_number", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_current_town_town_merchant_number", ":current_town_town_merchant", ":number"),
				(troop_inventory_slot_get_item_max_amount, ":troop_inventory_slot_item_max_amount_current_town_town_merchant_number", ":current_town_town_merchant", ":number"),
				(eq, ":troop_inventory_slot_item_amount_current_town_town_merchant_number", ":troop_inventory_slot_item_max_amount_current_town_town_merchant_number"),
				(item_get_slot, ":inventory_slot_current_town_town_merchant_number_81", ":inventory_slot_current_town_town_merchant_number", 81),
				(store_item_kind_count, ":item_kind_count_inventory_slot_current_town_town_merchant_number_player", ":inventory_slot_current_town_town_merchant_number", "trp_player"),
				(lt, ":item_kind_count_inventory_slot_current_town_town_merchant_number_player", ":inventory_slot_current_town_town_merchant_number_81"),
				(store_free_inventory_capacity, ":free_inventory_capacity_player_2", "trp_player"),
				(gt, ":free_inventory_capacity_player_2", 0),
				(call_script, "script_game_get_item_buy_price_factor", ":inventory_slot_current_town_town_merchant_number"),
				(assign, ":var_12", reg0),
				(store_item_value, ":item_value_inventory_slot_current_town_town_merchant_number", ":inventory_slot_current_town_town_merchant_number"),
				(val_mul, ":item_value_inventory_slot_current_town_town_merchant_number", ":var_12"),
				(val_div, ":item_value_inventory_slot_current_town_town_merchant_number", 100),
				(val_max, ":item_value_inventory_slot_current_town_town_merchant_number", 1),
				(store_troop_gold, ":troop_gold_player_2", "trp_player"),
				(ge, ":troop_gold_player_2", ":item_value_inventory_slot_current_town_town_merchant_number"),
				(troop_add_item, "trp_player", ":inventory_slot_current_town_town_merchant_number"),
				(troop_set_inventory_slot, ":current_town_town_merchant", ":number", -1),
				(troop_remove_gold, "trp_player", ":item_value_inventory_slot_current_town_town_merchant_number"),
				(troop_add_gold, ":current_town_town_merchant", ":item_value_inventory_slot_current_town_town_merchant_number"),
			(try_end),
			(set_show_messages, 1),
			(store_troop_gold, ":troop_gold_player_3", "trp_player"),
			(store_free_inventory_capacity, ":free_inventory_capacity_player_3", "trp_player"),
			(try_begin),
				(neq, ":troop_gold_player_3", ":troop_gold_player"),
				(store_sub, reg1, ":troop_gold_player", ":troop_gold_player_3"),
				(store_sub, reg2, ":free_inventory_capacity_player", ":free_inventory_capacity_player_3"),
				(store_sub, reg3, reg1, 1),
				(store_sub, reg4, reg2, 1),
				(display_message, "@You have bought {reg2} {reg4?kinds:kind} of food and lost {reg1} {reg3?denars:denar}."),
			(try_end),
			(store_troop_gold, ":troop_gold_player", "trp_player"),
			(store_free_inventory_capacity, ":free_inventory_capacity_player", "trp_player"),
			(troop_get_inventory_capacity, ":inventory_capacity_current_town_town_merchant", "trp_player"),
			(set_show_messages, 0),
			(try_for_range, ":number", 10, ":inventory_capacity_current_town_town_merchant"),
				(troop_get_inventory_slot, ":inventory_slot_current_town_town_merchant_number", "trp_player", ":number"),
				(gt, ":inventory_slot_current_town_town_merchant_number", -1),
				(is_between, ":inventory_slot_current_town_town_merchant_number", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":number"),
				(eq, ":inventory_slot_modifier_player_number", 41),
				(store_free_inventory_capacity, ":free_inventory_capacity_player_2", ":current_town_town_merchant"),
				(gt, ":free_inventory_capacity_player_2", 0),
				(call_script, "script_get_item_value_with_imod", ":inventory_slot_current_town_town_merchant_number", ":inventory_slot_modifier_player_number"),
				(assign, ":item_value_inventory_slot_current_town_town_merchant_number", reg0),
				(val_div, ":item_value_inventory_slot_current_town_town_merchant_number", 100),
				(call_script, "script_game_get_item_sell_price_factor", ":inventory_slot_current_town_town_merchant_number"),
				(assign, ":var_18", reg0),
				(val_mul, ":item_value_inventory_slot_current_town_town_merchant_number", ":var_18"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_current_town_town_merchant_number", "trp_player", ":number"),
				(troop_inventory_slot_get_item_max_amount, ":troop_inventory_slot_item_max_amount_current_town_town_merchant_number", "trp_player", ":number"),
				(val_mul, ":item_value_inventory_slot_current_town_town_merchant_number", ":troop_inventory_slot_item_amount_current_town_town_merchant_number"),
				(val_div, ":item_value_inventory_slot_current_town_town_merchant_number", ":troop_inventory_slot_item_max_amount_current_town_town_merchant_number"),
				(val_div, ":item_value_inventory_slot_current_town_town_merchant_number", 100),
				(val_max, ":item_value_inventory_slot_current_town_town_merchant_number", 1),
				(store_troop_gold, ":troop_gold_current_town_town_merchant", ":current_town_town_merchant"),
				(ge, ":troop_gold_current_town_town_merchant", ":item_value_inventory_slot_current_town_town_merchant_number"),
				(troop_set_inventory_slot, "trp_player", ":number", -1),
				(troop_remove_gold, ":current_town_town_merchant", ":item_value_inventory_slot_current_town_town_merchant_number"),
				(troop_add_gold, "trp_player", ":item_value_inventory_slot_current_town_town_merchant_number"),
			(try_end),
			(set_show_messages, 1),
			(store_troop_gold, ":troop_gold_player_3", "trp_player"),
			(store_free_inventory_capacity, ":free_inventory_capacity_player_3", "trp_player"),
			(try_begin),
				(neq, ":troop_gold_player_3", ":troop_gold_player"),
				(store_sub, reg1, ":troop_gold_player_3", ":troop_gold_player"),
				(store_sub, reg2, ":free_inventory_capacity_player_3", ":free_inventory_capacity_player"),
				(store_sub, reg3, reg1, 1),
				(store_sub, reg4, reg2, 1),
				(display_message, "@You have sold {reg2} {reg4?kinds:kind} of rotten food and gained {reg1} {reg3?denars:denar}."),
			(try_end)
		]),

	("start_town_conversation",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_1", 23),
				(assign, ":value", 14),
			(else_try),
				(eq, ":script_param_1", 20),
				(assign, ":value", 13),
			(else_try),
				(assign, ":value", 10),
			(try_end),
			(party_get_slot, ":current_town_value", "$current_town", ":value"),
			(modify_visitors_at_site, ":current_town_value"),
			(reset_visitors),
			(set_visitor, 0, "trp_player"),
			(party_get_slot, ":current_town_script_param_1", "$current_town", ":script_param_1"),
			(set_visitor, ":script_param_2", ":current_town_script_param_1"),
			(set_jump_mission, "mt_conversation_encounter"),
			(jump_to_scene, ":current_town_value"),
			(change_screen_map_conversation, ":current_town_script_param_1")
		]),

	("troop_raise_skill_limit",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_skill_level, ":skill_level_script_param_2_script_param_1", ":script_param_2", ":script_param_1"),
			(store_add, ":value", ":skill_level_script_param_2_script_param_1", ":script_param_3"),
			(try_begin),
				(this_or_next|eq, ":script_param_2", "skl_leadership"),
				(this_or_next|eq, ":script_param_2", "skl_prisoner_management"),
				(this_or_next|eq, ":script_param_2", "skl_spotting"),
				(this_or_next|eq, ":script_param_2", "skl_pathfinding"),
				(this_or_next|eq, ":script_param_2", "skl_tactics"),
				(this_or_next|eq, ":script_param_2", "skl_tracking"),
				(this_or_next|eq, ":script_param_2", "skl_looting"),
				(this_or_next|eq, ":script_param_2", "skl_power_draw"),
				(this_or_next|eq, ":script_param_2", "skl_power_throw"),
				(this_or_next|eq, ":script_param_2", "skl_power_strike"),
				(eq, ":script_param_2", "skl_ironflesh"),
				(assign, ":value_2", 15),
			(else_try),
				(assign, ":value_2", 10),
			(try_end),
			(try_begin),
				(gt, ":value", ":value_2"),
				(store_sub, ":value_3", ":value_2", ":skill_level_script_param_2_script_param_1"),
			(else_try),
				(assign, ":value_3", ":script_param_3"),
			(try_end),
			(troop_raise_skill, ":script_param_1", ":script_param_2", ":value_3")
		]),

	("give_good_item_modifier",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":var_3", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(store_character_level, ":character_level_party_stack_troop_id_script_param_1_number", ":party_stack_troop_id_script_param_1_number"),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_number", 12),
				(val_mul, ":character_level_party_stack_troop_id_script_param_1_number", ":character_level_party_stack_troop_id_script_param_1_number"),
				(val_div, ":character_level_party_stack_troop_id_script_param_1_number", 100),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
					(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
					(store_mul, ":value", ":character_level_party_stack_troop_id_script_param_1_number", ":party_stack_size_script_param_1_number"),
				(else_try),
					(store_mul, ":value", ":character_level_party_stack_troop_id_script_param_1_number", 2),
				(try_end),
				(val_add, ":var_3", ":value"),
			(try_end),
			(val_max, ":var_3", 50),
			(val_sub, ":var_3", 50),
			(party_get_skill_level, ":skill_level_main_party_looting", "p_main_party", "skl_looting"),
			(val_div, ":skill_level_main_party_looting", 4),
			(val_add, ":skill_level_main_party_looting", 2),
			(store_random_in_range, ":random_in_range_1_skill_level_main_party_looting", 1, ":skill_level_main_party_looting"),
			(store_add, ":value_2", ":script_param_2", 10),
			(val_min, ":value_2", 16),
			(store_random_in_range, ":random_in_range_0_4000", 0, 4000),
			(try_begin),
				(lt, ":random_in_range_0_4000", ":var_3"),
				(try_for_range, ":unused", 0, ":random_in_range_1_skill_level_main_party_looting"),
					(store_random_in_range, ":random_in_range_10_value_2", 10, ":value_2"),
					(troop_get_inventory_slot, ":inventory_slot_temp_troop_random_in_range_10_value_2", "trp_temp_troop", ":random_in_range_10_value_2"),
					(ge, ":inventory_slot_temp_troop_random_in_range_10_value_2", 1),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_temp_troop_random_in_range_10_value_2", "trp_temp_troop", ":random_in_range_10_value_2"),
					(item_get_slot, ":inventory_slot_temp_troop_random_in_range_10_value_2_73", ":inventory_slot_temp_troop_random_in_range_10_value_2", 73),
					(try_begin),
						(neq, ":inventory_slot_modifier_temp_troop_random_in_range_10_value_2", ":inventory_slot_temp_troop_random_in_range_10_value_2_73"),
						(troop_set_inventory_slot_modifier, "trp_temp_troop", ":random_in_range_10_value_2", ":inventory_slot_temp_troop_random_in_range_10_value_2_73"),
						(str_store_item_name, 2, ":inventory_slot_temp_troop_random_in_range_10_value_2"),
						(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_temp_troop_random_in_range_10_value_2_2", "trp_temp_troop", ":random_in_range_10_value_2"),
						(store_sub, ":value_3", ":inventory_slot_modifier_temp_troop_random_in_range_10_value_2_2", 0),
						(val_add, ":value_3", "str_imod_plain"),
						(str_store_string, 1, ":value_3"),
						(display_message, "@Bonus! A {s1}{s2}.", 0x0000ff00),
						(play_sound, "snd_quest_succeeded"),
					(else_try),
						(lt, ":random_in_range_1_skill_level_main_party_looting", 20),
						(val_add, ":random_in_range_1_skill_level_main_party_looting", 1),
					(try_end),
				(try_end),
			(try_end)
		]),

	("get_num_defender_left",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(try_for_agents, ":var_3"),
				(agent_is_human, ":var_3"),
				(agent_is_defender, ":var_3"),
				(val_add, ":var_2", 1),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", 1),
				(party_get_num_companions, ":num_companions_collective_friends", "p_collective_friends"),
			(else_try),
				(party_get_num_companions, ":num_companions_collective_friends", "p_collective_enemy"),
			(try_end),
			(store_sub, ":value", ":num_companions_collective_friends", ":var_2"),
			(assign, reg0, ":value")
		]),

	("generate_random_pt_three_types",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_add, ":value", ":script_param_2", 1),
			(store_add, ":value_2", ":script_param_3", 1),
			(store_add, ":value_3", ":script_param_4", 1),
			(troop_get_slot, ":script_param_1_original_faction", ":script_param_1", slot_troop_original_faction),
			(faction_get_slot, ":script_param_1_original_faction_reinforcements_a", ":script_param_1_original_faction", slot_faction_reinforcements_a),
			(store_random_in_range, ":random_in_range_0_100", 0, 100),
			(try_begin),
				(lt, ":random_in_range_0_100", 70),
				(assign, ":value_4", ":script_param_2"),
				(assign, ":value_5", ":value"),
			(else_try),
				(lt, ":random_in_range_0_100", 85),
				(assign, ":value_4", ":script_param_3"),
				(assign, ":value_5", ":value_2"),
			(else_try),
				(assign, ":value_4", ":script_param_4"),
				(assign, ":value_5", ":value_3"),
			(try_end),
			(troop_set_slot, ":script_param_1", 332, ":script_param_1_original_faction_reinforcements_a"),
			(troop_set_slot, ":script_param_1", 333, ":value_4"),
			(troop_set_slot, ":script_param_1", 334, ":value_5")
		]),

	("generate_random_pt_two_types",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_add, ":value", ":script_param_2", 1),
			(store_add, ":value_2", ":script_param_3", 1),
			(troop_get_slot, ":script_param_1_original_faction", ":script_param_1", slot_troop_original_faction),
			(faction_get_slot, ":script_param_1_original_faction_reinforcements_a", ":script_param_1_original_faction", slot_faction_reinforcements_a),
			(store_random_in_range, ":random_in_range_0_100", 0, 100),
			(try_begin),
				(lt, ":random_in_range_0_100", 75),
				(assign, ":value_3", ":script_param_2"),
				(assign, ":value_4", ":value"),
			(else_try),
				(assign, ":value_3", ":script_param_3"),
				(assign, ":value_4", ":value_2"),
			(try_end),
			(troop_set_slot, ":script_param_1", 332, ":script_param_1_original_faction_reinforcements_a"),
			(troop_set_slot, ":script_param_1", 333, ":value_3"),
			(troop_set_slot, ":script_param_1", 334, ":value_4")
		]),

	("print_kill_count_to_s0",
		[
			(assign, ":var_1", 0),
			(str_clear, 0),
			(try_for_agents, ":var_2"),
				(agent_is_human, ":var_2"),
				(agent_get_troop_id, ":troop_id_var_2", ":var_2"),
				(troop_is_hero, ":troop_id_var_2"),
				(agent_get_kill_count, ":kill_count_var_2", ":var_2"),
				(agent_get_kill_count, ":kill_count_var_2_1", ":var_2", 1),
				(troop_get_slot, ":troop_id_var_2_326", ":troop_id_var_2", 326),
				(troop_get_slot, ":troop_id_var_2_327", ":troop_id_var_2", 327),
				(val_add, ":troop_id_var_2_326", ":kill_count_var_2"),
				(val_add, ":troop_id_var_2_327", ":kill_count_var_2_1"),
				(troop_set_slot, ":troop_id_var_2", 326, ":troop_id_var_2_326"),
				(troop_set_slot, ":troop_id_var_2", 327, ":troop_id_var_2_327"),
				(this_or_next|gt, ":kill_count_var_2", 0),
				(gt, ":kill_count_var_2_1", 0),
				(str_store_troop_name, 1, ":troop_id_var_2"),
				(store_add, reg3, ":kill_count_var_2", ":kill_count_var_2_1"),
				(assign, reg4, ":kill_count_var_2"),
				(assign, reg5, ":kill_count_var_2_1"),
				(str_store_string, 2, "@{reg4} killed, {reg5} wounded"),
				(try_begin),
					(this_or_next|eq, ":troop_id_var_2", "trp_player"),
					(is_between, ":troop_id_var_2", "trp_npc1", "trp_kingdom_1_lord"),
					(str_store_string, 0, "@{s0}^{s1}: {reg3} ({s2})"),
				(else_try),
					(agent_is_ally, ":var_2"),
					(str_store_string, 0, "@{s0}^{s1}(ally): {reg3} ({s2})"),
				(else_try),
					(str_store_string, 0, "@{s0}^{s1}(enemy): {reg3} ({s2})"),
				(try_end),
				(val_add, ":var_1", 1),
			(try_end),
			(try_begin),
				(eq, ":var_1", 0),
				(str_store_string, 0, "@^None"),
			(try_end)
		]),

	("change_rain_or_snow",
		[
			(party_get_current_terrain, ":current_terrain_main_party", "p_main_party"),
			(try_begin),
				(this_or_next|eq, ":current_terrain_main_party", 4),
				(eq, ":current_terrain_main_party", 12),
				(assign, ":value", 2),
			(else_try),
				(assign, ":value", 1),
			(try_end),
			(assign, reg0, -1),
			(assign, reg1, -1),
			(store_random_in_range, ":random_in_range_1_100", 1, 100),
			(try_begin),
				(get_global_cloud_amount, ":global_cloud_amount"),
				(ge, ":global_cloud_amount", 40),
				(lt, ":random_in_range_1_100", "$g_rand_rain_limit"),
				(store_mul, ":value_2", ":random_in_range_1_100", "$g_rand_rain_limit"),
				(val_div, ":value_2", 100),
				(gt, ":value_2", 0),
				(set_rain, ":value", ":value_2"),
				(assign, reg0, ":value"),
				(assign, reg1, ":value_2"),
			(try_end)
		]),

	("sell_all_prisoners",
		[
			(assign, ":var_1", 0),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_main_party", "p_main_party"),
			(try_for_range_backwards, ":var_3", 0, ":num_prisoner_stacks_main_party"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_main_party_var_3", "p_main_party", ":var_3"),
				(neg|troop_is_hero, ":party_prisoner_stack_troop_id_main_party_var_3"),
				(party_prisoner_stack_get_size, ":party_prisoner_stack_size_main_party_var_3", "p_main_party", ":var_3"),
				(call_script, "script_game_get_prisoner_price", ":party_prisoner_stack_troop_id_main_party_var_3"),
				(assign, ":var_6", reg0),
				(store_mul, ":value", ":var_6", ":party_prisoner_stack_size_main_party_var_3"),
				(val_add, ":var_1", ":value"),
				(party_remove_prisoners, "p_main_party", ":party_prisoner_stack_troop_id_main_party_var_3", ":party_prisoner_stack_size_main_party_var_3"),
			(try_end),
			(troop_add_gold, "trp_player", ":var_1")
		]),

	("prsnt_upgrade_tree_ready",
		[
			(assign, "$g_presentation_next_presentation", -1),
			(create_combo_button_overlay, "$g_presentation_obj_1"),
			(position_set_x, 1, 500),
			(position_set_y, 1, 690),
			(overlay_set_position, "$g_presentation_obj_1", 1),
			(try_for_range_backwards, ":var_1", 0, 10),
				(store_add, ":value", ":var_1", "fac_kingdom_1"),
				(try_begin),
					(eq, ":value", "fac_kingdoms_end"),
					(str_store_string, 0, "@Mercenaries"),
				(else_try),
					(eq, ":value", "fac_robber_knights"),
					(str_store_string, 0, "@Outlaws"),
				(else_try),
					(eq, ":value", "fac_khergits"),
					(str_store_string, 0, "@Sword Sisters"),
				(else_try),
					(eq, ":value", "fac_manhunters"),
					(str_store_string, 0, "@Freelancers"),
				(else_try),
					(str_store_faction_name, 0, ":value"),
				(try_end),
				(overlay_add_item, "$g_presentation_obj_1", 0),
			(try_end),
			(store_sub, ":value_2", 9, "$temp_2"),
			(overlay_set_val, "$g_presentation_obj_1", ":value_2"),
			(create_game_button_overlay, "$g_presentation_obj_5", "@Done"),
			(position_set_x, 1, 900),
			(position_set_y, 1, 25),
			(overlay_set_position, "$g_presentation_obj_5", 1)
		]),

	("prsnt_upgrade_tree_troop_and_name",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(str_store_troop_name, 1, ":script_param_2"),
			(create_text_overlay, reg1, "@{s1}", 4112),
			(position_set_x, 1, 400),
			(position_set_y, 1, 700),
			(overlay_set_size, reg1, 1),
			(position_set_x, 1, ":script_param_3"),
			(position_set_y, 1, ":script_param_4"),
			(overlay_set_position, reg1, 1),
			(val_sub, ":script_param_3", 30),
			(val_add, ":script_param_4", 10),
			(store_mul, ":value", ":script_param_2", 2),
			(create_image_button_overlay_with_tableau_material, reg1, -1, "tableau_game_party_window", ":value"),
			(position_set_x, 1, 250),
			(position_set_y, 1, 250),
			(overlay_set_size, reg1, 1),
			(position_set_x, 1, ":script_param_3"),
			(position_set_y, 1, ":script_param_4"),
			(overlay_set_position, reg1, 1),
			(troop_set_slot, "trp_temp_array_a", ":script_param_1", reg1),
			(troop_set_slot, "trp_temp_array_b", ":script_param_1", ":script_param_2")
		]),

	("prsnt_upgrade_tree_troop_cost",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_game_get_upgrade_cost", ":script_param_1"),
			(create_text_overlay, reg1, "@{reg0}", 4112),
			(position_set_x, 1, 800),
			(position_set_y, 1, 800),
			(overlay_set_size, reg1, 1),
			(position_set_x, 1, ":script_param_2"),
			(position_set_y, 1, ":script_param_3"),
			(overlay_set_position, reg1, 1)
		]),

	("prsnt_lines",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(create_mesh_overlay, reg1, "mesh_white_plane"),
			(val_mul, ":script_param_1", 50),
			(val_mul, ":script_param_2", 50),
			(position_set_x, 1, ":script_param_1"),
			(position_set_y, 1, ":script_param_2"),
			(overlay_set_size, reg1, 1),
			(position_set_x, 1, ":script_param_3"),
			(position_set_y, 1, ":script_param_4"),
			(overlay_set_position, reg1, 1),
			(overlay_set_color, reg1, 0)
		]),

	("prsnt_upgrade_tree_switch",
		[
			(store_trigger_param_1, ":trigger_param_1"),
			(store_trigger_param_2, ":trigger_param_2"),
			(try_begin),
				(eq, ":trigger_param_1", "$g_presentation_obj_1"),
				(store_sub, "$temp_2", 9, ":trigger_param_2"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_add, ":value", "$temp_2", "prsnt_upgrade_tree_1"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_add, ":value", "$temp_2", "prsnt_upgrade_tree_11"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_add, ":value", "$temp_2", "prsnt_upgrade_tree_21"),
				(try_end),
				(start_presentation, ":value"),
			(else_try),
				(eq, ":trigger_param_1", "$g_presentation_obj_5"),
				(presentation_set_duration, 0),
			(try_end)
		]),

	("copy_inventory",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_clear_inventory, ":script_param_2"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(troop_set_inventory_slot, ":script_param_2", ":number", ":inventory_slot_script_param_1_number"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(troop_set_inventory_slot_modifier, ":script_param_2", ":number", ":inventory_slot_modifier_script_param_1_number"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":troop_inventory_slot_item_amount_script_param_1_number", 0),
				(troop_inventory_slot_set_item_amount, ":script_param_2", ":number", ":troop_inventory_slot_item_amount_script_param_1_number"),
			(try_end)
		]),

	("dplmc_copy_inventory",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_clear_inventory, ":script_param_2"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(troop_set_inventory_slot, ":script_param_2", ":number", ":inventory_slot_script_param_1_number"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(troop_set_inventory_slot_modifier, ":script_param_2", ":number", ":inventory_slot_modifier_script_param_1_number"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":troop_inventory_slot_item_amount_script_param_1_number", 0),
				(troop_inventory_slot_set_item_amount, ":script_param_2", ":number", ":troop_inventory_slot_item_amount_script_param_1_number"),
			(try_end)
		]),

	("move_prisoners_to_defeated_center",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(gt, ":troop_leaded_party", 0),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_troop_leaded_party_script_param_1", ":troop_leaded_party", ":script_param_1"),
				(lt, ":distance_to_party_from_party_troop_leaded_party_script_param_1", 5),
				(store_faction_of_party, ":faction_of_party_troop_leaded_party", ":troop_leaded_party"),
				(eq, ":script_param_2", ":faction_of_party_troop_leaded_party"),
				(party_get_num_prisoner_stacks, ":num_prisoner_stacks_troop_leaded_party", ":troop_leaded_party"),
				(gt, ":num_prisoner_stacks_troop_leaded_party", 0),
				(assign, "$g_move_heroes", 1),
				(call_script, "script_party_prisoners_add_party_prisoners", ":script_param_1", ":troop_leaded_party"),
				(assign, "$g_move_heroes", 1),
				(call_script, "script_party_remove_all_prisoners", ":troop_leaded_party"),
			(try_end)
		]),

	("calculate_ransom_for_party",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_begin),
				(gt, ":num_companion_stacks_script_param_1", 0),
				(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
					(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
					(call_script, "script_game_get_join_cost", ":party_stack_troop_id_script_param_1_number"),
					(assign, ":var_6", reg0),
					(val_div, ":var_6", 4),
					(party_stack_get_size, ":party_stack_size_script_param_1_number", ":script_param_1", ":number"),
					(val_mul, ":var_6", ":party_stack_size_script_param_1_number"),
					(val_add, ":var_2", ":var_6"),
				(try_end),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("process_ransom_for_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_faction_of_party, ":faction_of_party_script_param_1", ":script_param_1"),
			(store_faction_of_party, ":faction_of_party_script_param_1_2", ":script_param_1"),
			(party_get_slot, ":script_param_1_type", ":script_param_1", slot_party_type),
			(try_begin),
				(eq, ":script_param_1_type", 13),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1", ":script_param_1"),
				(ge, ":party_stack_troop_id_script_param_1", 0),
				(troop_get_slot, ":faction_of_party_script_param_1_2", ":party_stack_troop_id_script_param_1", slot_troop_original_faction),
				(store_faction_of_troop, ":faction_of_party_script_param_1", ":party_stack_troop_id_script_param_1"),
			(try_end),
			(try_begin),
				(eq, ":faction_of_party_script_param_1_2", "fac_player_supporters_faction"),
				(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
				(try_begin),
					(gt, ":script_param_1_town_lord", 0),
					(troop_get_slot, ":faction_of_party_script_param_1_2", ":script_param_1_town_lord", slot_troop_original_faction),
				(else_try),
					(party_get_slot, ":faction_of_party_script_param_1_2", ":script_param_1", slot_center_original_faction),
				(try_end),
			(try_end),
			(call_script, "script_combine_same_troops_from_prisoners", ":script_param_1"),
			(party_clear, "p_temp_party"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_8", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_8", ":script_param_1", ":var_8"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_var_8"),
				(assign, ":value", 0),
				(try_begin),
					(is_between, ":party_stack_troop_id_script_param_1_var_8", "trp_swadian_n_peasant", "trp_custom_n_recruit"),
					(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_script_param_1_var_8", ":party_stack_troop_id_script_param_1_var_8"),
					(neq, ":faction_of_troop_party_stack_troop_id_script_param_1_var_8", ":faction_of_party_script_param_1_2"),
					(neq, ":faction_of_troop_party_stack_troop_id_script_param_1_var_8", ":faction_of_party_script_param_1"),
					(assign, ":value", 1),
				(else_try),
					(this_or_next|eq, ":party_stack_troop_id_script_param_1_var_8", "trp_caravan_master"),
					(troop_get_slot, ":troop_trees_601", "$troop_trees", 601),
					(troop_get_slot, ":troop_trees_631", "$troop_trees", 631),
					(is_between, ":party_stack_troop_id_script_param_1_var_8", ":troop_trees_601", ":troop_trees_631"),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(party_stack_get_size, ":party_stack_size_script_param_1_var_8", ":script_param_1", ":var_8"),
				(lt, ":party_stack_size_script_param_1_var_8", 20),
				(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_8", ":party_stack_size_script_param_1_var_8"),
				(party_add_members, "p_temp_party", ":party_stack_troop_id_script_param_1_var_8", ":party_stack_size_script_param_1_var_8"),
			(try_end),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_16", 0, ":num_prisoner_stacks_script_param_1"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_var_16", ":script_param_1", ":var_16"),
				(neg|troop_is_hero, ":party_prisoner_stack_troop_id_script_param_1_var_16"),
				(assign, ":value", 0),
				(try_begin),
					(is_between, ":party_prisoner_stack_troop_id_script_param_1_var_16", "trp_swadian_n_peasant", "trp_custom_n_recruit"),
					(store_faction_of_troop, ":faction_of_troop_party_stack_troop_id_script_param_1_var_8", ":party_prisoner_stack_troop_id_script_param_1_var_16"),
					(neq, ":faction_of_troop_party_stack_troop_id_script_param_1_var_8", ":faction_of_party_script_param_1_2"),
					(neq, ":faction_of_troop_party_stack_troop_id_script_param_1_var_8", ":faction_of_party_script_param_1"),
					(assign, ":value", 1),
				(else_try),
					(this_or_next|eq, ":party_prisoner_stack_troop_id_script_param_1_var_16", "trp_caravan_master"),
					(troop_get_slot, ":troop_trees_601", "$troop_trees", 601),
					(troop_get_slot, ":troop_trees_631", "$troop_trees", 631),
					(is_between, ":party_prisoner_stack_troop_id_script_param_1_var_16", ":troop_trees_601", ":troop_trees_631"),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(party_prisoner_stack_get_size, ":party_prisoner_stack_size_script_param_1_var_16", ":script_param_1", ":var_16"),
				(party_remove_prisoners, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_1_var_16", ":party_prisoner_stack_size_script_param_1_var_16"),
				(party_add_members, "p_temp_party", ":party_prisoner_stack_troop_id_script_param_1_var_16", ":party_prisoner_stack_size_script_param_1_var_16"),
			(try_end),
			(call_script, "script_calculate_ransom_for_party", "p_temp_party"),
			(set_trigger_result, reg0)
		]),

	("combine_same_troops_from_prisoners",
		[
			(store_script_param, ":script_param_1", 1),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(party_get_num_prisoner_stacks, ":num_prisoner_stacks_script_param_1", ":script_param_1"),
				(try_for_range, ":number_2", 0, ":num_prisoner_stacks_script_param_1"),
					(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_script_param_1_number_2", ":script_param_1", ":number_2"),
					(eq, ":party_prisoner_stack_troop_id_script_param_1_number_2", ":party_stack_troop_id_script_param_1_number"),
					(party_prisoner_stack_get_size, ":party_prisoner_stack_size_script_param_1_number_2", ":script_param_1", ":number_2"),
					(party_remove_prisoners, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_1_number_2", ":party_prisoner_stack_size_script_param_1_number_2"),
					(party_add_members, ":script_param_1", ":party_prisoner_stack_troop_id_script_param_1_number_2", ":party_prisoner_stack_size_script_param_1_number_2"),
				(try_end),
			(try_end)
		]),

	("process_outlaws_for_party",
		[
			(store_script_param, ":script_param_1", 1),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_3", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_3", ":script_param_1", ":var_3"),
				(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_var_3"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(assign, ":value", "trp_bandit_n_looter"),
					(assign, ":value_2", "trp_bandit_n_manhunter"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(assign, ":value", "trp_bandit_r_looter"),
					(assign, ":value_2", "trp_bandit_r_manhunter"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(assign, ":value", "trp_bandit_e_looter"),
					(assign, ":value_2", "trp_bandit_e_manhunter"),
				(try_end),
				(is_between, ":party_stack_troop_id_script_param_1_var_3", ":value", ":value_2"),
				(party_stack_get_size, ":party_stack_size_script_param_1_var_3", ":script_param_1", ":var_3"),
				(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_var_3", ":party_stack_size_script_param_1_var_3"),
				(party_add_prisoners, ":script_param_1", ":party_stack_troop_id_script_param_1_var_3", ":party_stack_size_script_param_1_var_3"),
			(try_end)
		]),

	("get_lord_weekly_income",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 750),
			(store_character_level, ":character_level_script_param_1", ":script_param_1"),
			(store_mul, ":value", ":character_level_script_param_1", 10),
			(val_add, ":var_2", ":value"),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(try_begin),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
				(val_add, ":var_2", 1000),
			(try_end),
			(try_begin),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, ":script_param_1"),
				(val_add, ":var_2", 1000),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("get_total_equipment_weight",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", 0),
			(try_for_range, ":number", 0, 8),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(ge, ":inventory_slot_script_param_1_number", 0),
				(item_get_slot, ":inventory_slot_script_param_1_number_66", ":inventory_slot_script_param_1_number", 66),
				(val_add, ":var_2", ":inventory_slot_script_param_1_number_66"),
			(try_end),
			(val_div, ":var_2", 100),
			(assign, reg0, ":var_2")
		]),

	("get_current_item_for_autoloot",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_get_inventory_slot, ":inventory_slot_temp_script_param_1", "$temp", ":script_param_1"),
			(try_begin),
				(ge, ":inventory_slot_temp_script_param_1", 0),
				(str_store_item_name, 10, ":inventory_slot_temp_script_param_1"),
			(else_try),
				(str_store_string, 10, "str_none"),
			(try_end)
		]),

	("get_town_faction_for_recruiting",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(is_between, "$g_player_minister", "trp_npc1", "trp_heroes_end"),
				(is_between, "$g_player_culture", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(assign, ":value", "$g_player_culture"),
			(else_try),
				(is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(assign, ":value", "$players_kingdom"),
			(else_try),
				(is_between, "$supported_pretender", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(assign, ":value", "$supported_pretender_old_faction"),
			(else_try),
				(party_get_slot, ":value", ":script_param_1", slot_center_original_faction),
			(try_end),
			(assign, reg0, ":value")
		]),

	("get_dest_color_from_rgb",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", 4278190080),
			(val_mul, ":script_param_2", 256),
			(val_mul, ":script_param_1", 65536),
			(val_add, ":var_4", ":script_param_3"),
			(val_add, ":var_4", ":script_param_2"),
			(val_add, ":var_4", ":script_param_1"),
			(assign, reg0, ":var_4")
		]),

	("convert_rgb_code_to_html_code",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(str_store_string, 0, "@#"),
			(store_div, ":value", ":script_param_1", 16),
			(store_add, ":value_2", "str_key_0", ":value"),
			(str_store_string, 1, ":value_2"),
			(str_store_string, 0, "@{s0}{s1}"),
			(store_mod, ":value_3", ":script_param_1", 16),
			(store_add, ":value_2", "str_key_0", ":value_3"),
			(str_store_string, 1, ":value_2"),
			(str_store_string, 0, "@{s0}{s1}"),
			(store_div, ":value_4", ":script_param_2", 16),
			(store_add, ":value_2", "str_key_0", ":value_4"),
			(str_store_string, 1, ":value_2"),
			(str_store_string, 0, "@{s0}{s1}"),
			(store_mod, ":value_5", ":script_param_2", 16),
			(store_add, ":value_2", "str_key_0", ":value_5"),
			(str_store_string, 1, ":value_2"),
			(str_store_string, 0, "@{s0}{s1}"),
			(store_div, ":value_6", ":script_param_3", 16),
			(store_add, ":value_2", "str_key_0", ":value_6"),
			(str_store_string, 1, ":value_2"),
			(str_store_string, 0, "@{s0}{s1}"),
			(store_mod, ":value_7", ":script_param_3", 16),
			(store_add, ":value_2", "str_key_0", ":value_7"),
			(str_store_string, 1, ":value_2"),
			(str_store_string, 0, "@{s0}{s1}")
		]),

	("convert_slot_no_to_color",
		[
			(store_script_param, ":script_param_1", 1),
			(store_mod, ":value", ":script_param_1", 6),
			(val_div, ":script_param_1", 6),
			(store_mod, ":value_2", ":script_param_1", 6),
			(val_div, ":script_param_1", 6),
			(store_mod, ":value_3", ":script_param_1", 6),
			(val_mul, ":value", 51),
			(val_mul, ":value_2", 51),
			(val_mul, ":value_3", 51),
			(assign, ":var_5", 4278190080),
			(val_mul, ":value_2", 256),
			(val_mul, ":value_3", 65536),
			(val_add, ":var_5", ":value"),
			(val_add, ":var_5", ":value_2"),
			(val_add, ":var_5", ":value_3"),
			(assign, reg0, ":var_5")
		]),

	("move_one_stack_to_the_bottom",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_for_range, ":unused", 0, ":script_param_3"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(party_stack_get_size, ":party_stack_size_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_script_param_2", ":party_stack_size_script_param_1_script_param_2"),
				(party_add_members, ":script_param_1", ":party_stack_troop_id_script_param_1_script_param_2", ":party_stack_size_script_param_1_script_param_2"),
				(party_wound_members, ":script_param_1", ":party_stack_troop_id_script_param_1_script_param_2", ":party_stack_num_wounded_script_param_1_script_param_2"),
			(try_end)
		]),

	("centers_init_bandit_leader_quest",
		[
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_get_slot, ":party_center_original_faction", ":party", slot_center_original_faction),
				(store_sub, ":value", ":party_center_original_faction", "fac_kingdom_1"),
				(store_add, ":value_2", ":value", "qst_deal_with_forest_bandit"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(store_add, ":value_3", ":value", "pt_forest_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(store_add, ":value_3", ":value", "pt_forest_bandits_e"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(store_add, ":value_3", ":value", "pt_forest_bandits_e"),
				(try_end),
				(party_set_slot, ":party", 102, ":value_2"),
				(party_set_slot, ":party", 103, ":value_3"),
			(try_end),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(party_template_set_slot, "pt_forest_bandits_e", 7, "p_forest_bandit_spawn_point"),
				(party_template_set_slot, "pt_taiga_bandits_e", 7, "p_taiga_bandit_spawn_point"),
				(party_template_set_slot, "pt_steppe_bandits_e", 7, "p_steppe_bandit_spawn_point"),
				(party_template_set_slot, "pt_sea_raiders_e", 7, "p_sea_raider_spawn_point_1"),
				(party_template_set_slot, "pt_mountain_bandits_e", 7, "p_mountain_bandit_spawn_point"),
				(party_template_set_slot, "pt_desert_bandits_e", 7, "p_desert_bandit_spawn_point"),
				(party_template_set_slot, "pt_forest_bandits_e", 8, "trp_forest_bandit_hero"),
				(party_template_set_slot, "pt_taiga_bandits_e", 8, "trp_taiga_bandit_hero"),
				(party_template_set_slot, "pt_steppe_bandits_e", 8, "trp_steppe_bandit_hero"),
				(party_template_set_slot, "pt_sea_raiders_e", 8, "trp_sea_raider_hero"),
				(party_template_set_slot, "pt_mountain_bandits_e", 8, "trp_mountain_bandit_hero"),
				(party_template_set_slot, "pt_desert_bandits_e", 8, "trp_desert_bandit_hero"),
				(party_template_set_slot, "pt_forest_bandits_e", 9, "str_bandit_name_10"),
				(party_template_set_slot, "pt_taiga_bandits_e", 9, "str_bandit_name_20"),
				(party_template_set_slot, "pt_steppe_bandits_e", 9, "str_bandit_name_30"),
				(party_template_set_slot, "pt_sea_raiders_e", 9, "str_bandit_name_40"),
				(party_template_set_slot, "pt_mountain_bandits_e", 9, "str_bandit_name_50"),
				(party_template_set_slot, "pt_desert_bandits_e", 9, "str_bandit_name_60"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(party_template_set_slot, "pt_forest_bandits_e", 7, "p_forest_bandit_spawn_point"),
				(party_template_set_slot, "pt_taiga_bandits_e", 7, "p_taiga_bandit_spawn_point"),
				(party_template_set_slot, "pt_steppe_bandits_e", 7, "p_steppe_bandit_spawn_point"),
				(party_template_set_slot, "pt_sea_raiders_e", 7, "p_sea_raider_spawn_point_1"),
				(party_template_set_slot, "pt_mountain_bandits_e", 7, "p_mountain_bandit_spawn_point"),
				(party_template_set_slot, "pt_desert_bandits_e", 7, "p_desert_bandit_spawn_point"),
				(party_template_set_slot, "pt_forest_bandits_e", 8, "trp_forest_bandit_hero"),
				(party_template_set_slot, "pt_taiga_bandits_e", 8, "trp_taiga_bandit_hero"),
				(party_template_set_slot, "pt_steppe_bandits_e", 8, "trp_steppe_bandit_hero"),
				(party_template_set_slot, "pt_sea_raiders_e", 8, "trp_sea_raider_hero"),
				(party_template_set_slot, "pt_mountain_bandits_e", 8, "trp_mountain_bandit_hero"),
				(party_template_set_slot, "pt_desert_bandits_e", 8, "trp_desert_bandit_hero"),
				(party_template_set_slot, "pt_forest_bandits_e", 9, "str_bandit_name_10"),
				(party_template_set_slot, "pt_taiga_bandits_e", 9, "str_bandit_name_20"),
				(party_template_set_slot, "pt_steppe_bandits_e", 9, "str_bandit_name_30"),
				(party_template_set_slot, "pt_sea_raiders_e", 9, "str_bandit_name_40"),
				(party_template_set_slot, "pt_mountain_bandits_e", 9, "str_bandit_name_50"),
				(party_template_set_slot, "pt_desert_bandits_e", 9, "str_bandit_name_60"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
				(party_template_set_slot, "pt_forest_bandits_e", 7, "p_forest_bandit_spawn_point"),
				(party_template_set_slot, "pt_taiga_bandits_e", 7, "p_taiga_bandit_spawn_point"),
				(party_template_set_slot, "pt_steppe_bandits_e", 7, "p_steppe_bandit_spawn_point"),
				(party_template_set_slot, "pt_sea_raiders_e", 7, "p_sea_raider_spawn_point_1"),
				(party_template_set_slot, "pt_mountain_bandits_e", 7, "p_mountain_bandit_spawn_point"),
				(party_template_set_slot, "pt_desert_bandits_e", 7, "p_desert_bandit_spawn_point"),
				(party_template_set_slot, "pt_forest_bandits_e", 8, "trp_forest_bandit_hero"),
				(party_template_set_slot, "pt_taiga_bandits_e", 8, "trp_taiga_bandit_hero"),
				(party_template_set_slot, "pt_steppe_bandits_e", 8, "trp_steppe_bandit_hero"),
				(party_template_set_slot, "pt_sea_raiders_e", 8, "trp_sea_raider_hero"),
				(party_template_set_slot, "pt_mountain_bandits_e", 8, "trp_mountain_bandit_hero"),
				(party_template_set_slot, "pt_desert_bandits_e", 8, "trp_desert_bandit_hero"),
				(party_template_set_slot, "pt_forest_bandits_e", 9, "str_bandit_name_10"),
				(party_template_set_slot, "pt_taiga_bandits_e", 9, "str_bandit_name_20"),
				(party_template_set_slot, "pt_steppe_bandits_e", 9, "str_bandit_name_30"),
				(party_template_set_slot, "pt_sea_raiders_e", 9, "str_bandit_name_40"),
				(party_template_set_slot, "pt_mountain_bandits_e", 9, "str_bandit_name_50"),
				(party_template_set_slot, "pt_desert_bandits_e", 9, "str_bandit_name_60"),
			(try_end)
		]),

	("sort_party_by_troop_level",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_begin),
				(gt, ":num_companion_stacks_script_param_1", ":script_param_2"),
				(assign, ":var_4", ":num_companion_stacks_script_param_1"),
				(store_sub, ":value", ":num_companion_stacks_script_param_1", ":script_param_2"),
				(try_for_range, ":unused", 0, ":value"),
					(assign, ":value_2", -1),
					(assign, ":value_3", -1),
					(try_for_range, ":var_9", ":script_param_2", ":var_4"),
						(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_9", ":script_param_1", ":var_9"),
						(store_character_level, ":character_level_party_stack_troop_id_script_param_1_var_9", ":party_stack_troop_id_script_param_1_var_9"),
						(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_9", 3),
						(try_begin),
							(troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_9"),
							(val_add, ":character_level_party_stack_troop_id_script_param_1_var_9", 2),
						(else_try),
							(troop_is_guarantee_ranged, ":party_stack_troop_id_script_param_1_var_9"),
						(else_try),
							(val_add, ":character_level_party_stack_troop_id_script_param_1_var_9", 1),
						(try_end),
						(gt, ":character_level_party_stack_troop_id_script_param_1_var_9", ":value_3"),
						(assign, ":value_3", ":character_level_party_stack_troop_id_script_param_1_var_9"),
						(assign, ":value_2", ":var_9"),
					(try_end),
					(try_begin),
						(gt, ":value_3", -1),
						(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_value_2", ":script_param_1", ":value_2"),
						(party_stack_get_size, ":party_stack_size_script_param_1_value_2", ":script_param_1", ":value_2"),
						(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_value_2", ":script_param_1", ":value_2"),
						(party_remove_members, ":script_param_1", ":party_stack_troop_id_script_param_1_value_2", ":party_stack_size_script_param_1_value_2"),
						(party_add_members, ":script_param_1", ":party_stack_troop_id_script_param_1_value_2", ":party_stack_size_script_param_1_value_2"),
						(party_wound_members, ":script_param_1", ":party_stack_troop_id_script_param_1_value_2", ":party_stack_num_wounded_script_param_1_value_2"),
						(val_sub, ":var_4", 1),
					(try_end),
				(try_end),
			(try_end)
		]),

	("update_order_panel_map",
		[
			(set_fixed_point_multiplier, 1000),
			(get_scene_boundaries, 2, 3),
			(try_for_agents, ":var_1"),
				(agent_is_human, ":var_1"),
				(agent_get_slot, ":var_1_map_overlay_id", ":var_1", slot_agent_map_overlay_id),
				(try_begin),
					(agent_is_alive, ":var_1"),
					(call_script, "script_update_agent_position_on_map", ":var_1"),
				(else_try),
					(overlay_set_alpha, ":var_1_map_overlay_id", 0),
				(try_end),
			(try_end),
			(try_begin),
				(scene_prop_get_instance, ":scene_prop_instance_inventory_0", "spr_inventory", 0),
				(ge, ":scene_prop_instance_inventory_0", 0),
				(prop_instance_get_position, 1, ":scene_prop_instance_inventory_0"),
				(call_script, "script_convert_3d_pos_to_map_pos"),
				(overlay_set_position, "$g_presentation_obj_39", 0),
			(try_end)
		]),

	("convert_map_pos_to_3d_pos",
		[
			(set_fixed_point_multiplier, 1000),
			(store_sub, ":value", 980, "$g_battle_map_width"),
			(store_sub, ":value_2", 730, "$g_battle_map_height"),
			(position_get_x, ":position_x_1", 1),
			(position_get_y, ":position_y_1", 1),
			(val_sub, ":position_x_1", ":value"),
			(val_sub, ":position_y_1", ":value_2"),
			(val_mul, ":position_x_1", "$g_battle_map_scale"),
			(val_mul, ":position_y_1", "$g_battle_map_scale"),
			(position_set_x, 3, ":position_x_1"),
			(position_set_y, 3, ":position_y_1"),
			(set_fixed_point_multiplier, 1000),
			(position_transform_position_to_parent, 0, 2, 3)
		]),

	("update_agent_hp_bar",
		[
			(set_fixed_point_multiplier, 1000),
			(get_player_agent_no, ":player_agent_no"),
			(try_for_agents, ":var_2"),
				(agent_is_human, ":var_2"),
				(neq, ":var_2", ":player_agent_no"),
				(agent_get_slot, ":var_2_51", ":var_2", 51),
				(agent_get_slot, ":var_2_52", ":var_2", 52),
				(try_begin),
					(agent_is_alive, ":var_2"),
					(agent_get_slot, ":var_2_51", ":var_2", 51),
					(agent_get_slot, ":var_2_52", ":var_2", 52),
					(try_begin),
						(le, ":var_2_51", 0),
						(le, ":var_2_52", 0),
						(set_fixed_point_multiplier, 1000),
						(create_mesh_overlay, reg1, "mesh_white_plane"),
						(overlay_set_alpha, reg1, 68),
						(agent_set_slot, ":var_2", 52, reg1),
						(assign, ":var_2_52", reg1),
						(create_mesh_overlay, reg1, "mesh_white_plane"),
						(overlay_set_alpha, reg1, 68),
						(agent_set_slot, ":var_2", 51, reg1),
						(assign, ":var_2_51", reg1),
					(try_end),
					(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
					(agent_get_team, ":team_var_2", ":var_2"),
					(try_begin),
						(eq, ":team_var_2", ":team_player_agent_no"),
						(overlay_set_color, ":var_2_51", 65280),
					(else_try),
						(agent_is_ally, ":var_2"),
						(overlay_set_color, ":var_2_51", 255),
					(else_try),
						(overlay_set_color, ":var_2_51", 16711680),
					(try_end),
					(overlay_set_color, ":var_2_52", 0),
					(agent_get_position, 1, ":var_2"),
					(agent_get_horse, ":horse_var_2", ":var_2"),
					(try_begin),
						(ge, ":horse_var_2", 0),
						(position_move_z, 1, 280, 1),
					(else_try),
						(position_move_z, 1, 180, 1),
					(try_end),
					(position_get_screen_projection, 2, 1),
					(position_get_x, ":position_x_2", 2),
					(position_get_y, ":position_y_2", 2),
					(copy_position, 6, 1),
					(copy_position, 7, 1),
					(position_move_z, 7, 100, 1),
					(position_get_screen_projection, 6, 6),
					(position_get_screen_projection, 7, 7),
					(position_get_y, ":position_y_6", 6),
					(position_get_y, ":position_y_7", 7),
					(store_sub, ":value", ":position_y_7", ":position_y_6"),
					(val_clamp, ":value", 20, 161),
					(store_div, ":value_2", ":value", 20),
					(try_begin),
						(is_between, ":position_x_2", -100, 1100),
						(is_between, ":position_y_2", -100, 850),
						(agent_get_position, 3, ":var_2"),
						(agent_get_position, 4, ":player_agent_no"),
						(get_distance_between_positions_in_meters, ":distance_between_positions_in_meters_3_4", 3, 4),
						(le, ":distance_between_positions_in_meters_3_4", "$g_hp_bar_dis_limit"),
						(agent_get_horse, ":horse_var_2", ":var_2"),
						(try_begin),
							(ge, ":horse_var_2", 0),
							(position_move_z, 3, 280, 1),
						(else_try),
							(position_move_z, 3, 180, 1),
						(try_end),
						(agent_get_horse, ":horse_player_agent_no", ":player_agent_no"),
						(try_begin),
							(ge, ":horse_player_agent_no", 0),
							(position_move_z, 4, 280, 1),
						(else_try),
							(position_move_z, 4, 180, 1),
						(try_end),
						(position_move_z, 3, 50, 1),
						(position_move_z, 4, 50, 1),
						(position_has_line_of_sight_to_position, 3, 4),
						(assign, ":var_16", ":value"),
						(val_div, ":var_16", 2),
						(val_add, ":var_16", 1),
						(store_sub, ":value_3", ":position_x_2", ":var_16"),
						(store_sub, ":value_4", ":position_y_2", 1),
						(position_set_x, 1, ":value_3"),
						(position_set_y, 1, ":value_4"),
						(overlay_set_position, ":var_2_52", 1),
						(store_add, ":value_5", ":value", 2),
						(val_mul, ":value_5", 50),
						(store_add, ":value_6", ":value_2", 2),
						(val_mul, ":value_6", 50),
						(position_set_x, 1, ":value_5"),
						(position_set_y, 1, ":value_6"),
						(overlay_set_size, ":var_2_52", 1),
						(store_add, ":value_7", ":value_3", 1),
						(store_add, ":value_8", ":value_4", 1),
						(position_set_x, 1, ":value_7"),
						(position_set_y, 1, ":value_8"),
						(overlay_set_position, ":var_2_51", 1),
						(store_agent_hit_points, ":agent_hit_points_var_2", ":var_2"),
						(store_mul, ":value_9", ":agent_hit_points_var_2", 50),
						(val_mul, ":value_9", ":value"),
						(val_div, ":value_9", 100),
						(val_min, ":value_9", ":value_5"),
						(store_mul, ":value_10", ":value_2", 50),
						(position_set_x, 1, ":value_9"),
						(position_set_y, 1, ":value_10"),
						(overlay_set_size, ":var_2_51", 1),
						(try_begin),
							(agent_is_ally, ":var_2"),
							(store_mul, ":value_11", "$g_hp_bar_ally", 68),
						(else_try),
							(store_mul, ":value_11", "$g_hp_bar_enemy", 68),
						(try_end),
						(overlay_set_alpha, ":var_2_51", ":value_11"),
						(overlay_set_alpha, ":var_2_52", ":value_11"),
					(else_try),
						(overlay_set_alpha, ":var_2_51", 0),
						(overlay_set_alpha, ":var_2_52", 0),
					(try_end),
				(else_try),
					(overlay_set_alpha, ":var_2_51", 0),
					(overlay_set_alpha, ":var_2_52", 0),
				(try_end),
			(try_end)
		]),

	("get_character_background_text",
		[
			(str_clear, 1),
			(assign, reg3, "$character_gender"),
			(try_begin),
				(eq, "$background_type", 6),
				(str_store_string, 2, "@an impoverished noble"),
				(str_store_string, 3, "@You came into the world a {reg3?daughter:son} of declining nobility,                                  owning only the house in which they lived. However, despite your family's hardships,                                they afforded you a good education and trained you from childhood for the rigors of aristocracy and life at court."),
			(else_try),
				(eq, "$background_type", 5),
				(str_store_string, 2, "@a travelling merchant"),
				(str_store_string, 3, "@You were born the {reg3?daughter:son} of travelling merchants,                                  always moving from place to place in search of a profit. Although your parents were wealthier than most                                  and educated you as well as they could, you found little opportunity to make friends on the road,                                living mostly for the moments when you could sell something to somebody."),
			(else_try),
				(eq, "$background_type", 4),
				(str_store_string, 2, "@a veteran warrior"),
				(str_store_string, 3, "@As a child, your family scrabbled out a meagre living from your father's wages                                  as a guardsman to the local lord. It was not an easy existence, and you were too poor to get much of an                                education. You learned mainly how to defend yourself on the streets, with or without a weapon in hand."),
			(else_try),
				(eq, "$background_type", 3),
				(str_store_string, 2, "@a hunter"),
				(str_store_string, 3, "@You were the {reg3?daughter:son} of a family who lived off the woods,                                  doing whatever they needed to make ends meet. Hunting, woodcutting, making arrows,                                  even a spot of poaching whenever things got tight. Winter was never a good time for your family                                  as the cold took animals and people alike, but you always lived to see another dawn,                                though your brothers and sisters might not be so fortunate."),
			(else_try),
				(eq, "$background_type", 2),
				(str_store_string, 2, "@a dothraki"),
				(str_store_string, 3, "@You were a child of the dothraki sea, born to a tribe of wandering nomads who lived                                  in great camps throughout the arid grasslands.                                  Like the other tribesmen, your family revered horses above almost everything else, and they taught you                                how to ride almost before you learned how to walk. "),
			(else_try),
				(eq, "$background_type", 1),
				(str_store_string, 2, "@a thief"),
				(str_store_string, 3, "@As the {reg3?daughter:son} of a thief, you had very little 'formal' education.                                  Instead you were out on the street, begging until you learned how to cut purses, cutting purses                                  until you learned how to pick locks, all the way through your childhood.                                Still, these long years made you streetwise and sharp to the secrets of cities and shadowy backways."),
			(try_end),
			(str_store_string, 1, "@ You were born years ago, in a land far away. Your father was {s2}. {s3}"),
			(try_begin),
				(eq, "$background_answer_2", 8),
				(str_store_string, 2, "@a page at a nobleman's court"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood,                                  you were sent to live in the court of one of the nobles of the land.                                  There, your first lessons were in humility, as you waited upon the lords and ladies of the household.                                  But from their chess games, their gossip, even the poetry of great deeds and courtly love, you quickly began to learn about the adult world of conflict                                and competition. You also learned from the rough games of the other children, who battered at each other with sticks in imitation of their elders' swords."),
			(else_try),
				(eq, "$background_answer_2", 7),
				(str_store_string, 2, "@a craftsman's apprentice"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood,                                  you apprenticed with a local craftsman to learn a trade. After years of hard work and study under your                                  new master, he promoted you to journeyman and employed you as a fully paid craftsman for as long as                                you wished to stay."),
			(else_try),
				(eq, "$background_answer_2", 4),
				(str_store_string, 2, "@a shop assistant"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood,                                  you apprenticed to a wealthy merchant, picking up the trade over years of working shops and driving caravans.                                  You soon became adept at the art of buying low, selling high, and leaving the customer thinking they'd                                got the better deal."),
			(else_try),
				(eq, "$background_answer_2", 6),
				(str_store_string, 2, "@a street urchin"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood,                                  you took to the streets, doing whatever you must to survive.                                  Begging, thieving and working for gangs to earn your bread, you lived from day to day in this violent world,                                always one step ahead of the law and those who wished you ill."),
			(else_try),
				(eq, "$background_answer_2", 5),
				(str_store_string, 2, "@a dothraki child"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood,                                  you rode the great sea of grass on a horse of your own, learning the ways of the grass and the desert.                                  Although you sometimes went hungry, you became a skillful hunter and pathfinder in your trackless country.                                Your body too started to harden with muscle as you grew into the life of a warrior {reg3?woman:man}."),
			(try_end),
			(str_store_string, 1, "@{s1}^^ You started to learn about the world almost as soon as you could walk and talk.                              You spent your early life as {s2}. {s3}"),
			(try_begin),
				(eq, "$background_answer_3", 0),
				(str_store_string, 2, "@a squire"),
				(str_store_string, 3, "@Though the distinction felt sudden to you,                                  somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.                                  When you were named squire to a noble at court, you practiced long hours with weapons,                                  learning how to deal out hard knocks and how to take them, too.                                  You were instructed in your obligations to your lord, and of your duties to those who might one day be your vassals.                                  But in addition to learning the chivalric ideal, you also learned about the less uplifting side                                  -- old warriors' stories of ruthless power politics, of betrayals and usurpations,                                of men who used guile as well as valor to achieve their aims."),
			(else_try),
				(eq, "$background_answer_3", 0),
				(str_store_string, 2, "@a lady-in-waiting"),
				(str_store_string, 3, "@Though the distinction felt sudden to you,                                  somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.                                  You joined the tightly-knit circle of women at court, ladies who all did proper ladylike things,                                  the wives and mistresses of noble men as well as maidens who had yet to find a husband.                                  However, even here you found politics at work as the ladies schemed for prominence and fought each other                                  bitterly to catch the eye of whatever unmarried man was in fashion at court.                                  You soon learned ways of turning these situations and goings-on to your advantage. With it came the                                  realisation that you yourself could wield great influence in the world, if only you applied yourself                                with a little bit of subtlety."),
			(else_try),
				(eq, "$background_answer_3", 2),
				(str_store_string, 2, "@a troubadour"),
				(str_store_string, 3, "@Though the distinction felt sudden to you,                                  somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.                                  You set out on your own with nothing except the instrument slung over your back and your own voice.                                  It was a poor existence, with many a hungry night when people failed to appreciate your play,                                  but you managed to survive on your music alone. As the years went by you became adept at playing the                                drunken crowds in your taverns, and even better at talking anyone out of anything you wanted."),
			(else_try),
				(eq, "$background_answer_3", 1),
				(str_store_string, 2, "@a citadel student"),
				(str_store_string, 3, "@Though the distinction felt sudden to you,                                  somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.                                  You found yourself as a student in the citadel of Oldtown,                                  where you studied economy, philosophy, and medicine.                                  But not all your lessons were learned in the lecture halls.                                  You may or may not have joined in with your fellows as they roamed the alleys in search of golden arbor wine, women, and a good fight.                                  However, you certainly were able to observe how a broken jaw is set,                                or how an angry townsman can be persuaded to set down his club and accept cash compensation for the destruction of his shop."),
			(else_try),
				(eq, "$background_answer_3", 4),
				(str_store_string, 2, "@a goods peddler"),
				(str_store_string, 3, "@Though the distinction felt sudden to you,                                  somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.                                  Heeding the call of the open road, you travelled from village to village buying and selling what you could.                                  It was not a rich existence, but you became a master at haggling even the most miserly elders into                                giving you a good price. Soon, you knew, you would be well-placed to start your own trading empire..."),
			(else_try),
				(eq, "$background_answer_3", 5),
				(str_store_string, 2, "@a smith"),
				(str_store_string, 3, "@Though the distinction felt sudden to you,                                  somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.                                  You pursued a career as a smith, crafting items of function and beauty out of simple metal.                                  As time wore on you became a master of your trade, and fine work started to fetch fine prices.                                With food in your belly and logs on your fire, you could take pride in your work and your growing reputation."),
			(else_try),
				(eq, "$background_answer_3", 6),
				(str_store_string, 2, "@a game poacher"),
				(str_store_string, 3, "@Though the distinction felt sudden to you,                                  somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.                                  Dissatisfied with common men's desperate scrabble for coin, you took to your local lord's own forests                                  and decided to help yourself to its bounty, laws be damned. You hunted stags, boars and geese and sold                                  the precious meat under the table. You cut down trees right under the watchmen's noses and turned them into                                firewood that warmed many freezing homes during winter. All for a few silvers, of course."),
			(try_end),
			(str_store_string, 1, "@{s1}^^ Then, as a young adult, life changed as it always does. You became {s2}. {s3}"),
			(try_begin),
				(eq, "$background_answer_4", 5),
				(str_store_string, 2, "@personal revenge"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer.                                  Still, it was not a difficult choice to leave, with the rage burning brightly in your heart.                                  You want vengeance. You want justice. What was done to you cannot be undone,                                and these debts can only be paid in blood..."),
			(else_try),
				(eq, "$background_answer_4", 4),
				(str_store_string, 2, "@the loss of a loved one"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer.                                  All you can say is that you couldn't bear to stay, not with the memories of those you loved so close and so                                  painful. Perhaps your new life will let you forget,                                or honour the name that you can no longer bear to speak..."),
			(else_try),
				(eq, "$background_answer_4", 3),
				(str_store_string, 2, "@wanderlust"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer.                                  You're not even sure when your home became a prison, when the familiar became mundane, but your dreams of                                  wandering have taken over your life. Whether you yearn for some faraway place or merely for the open road and the                                freedom to travel, you could no longer bear to stay in the same place. You simply went and never looked back..."),
			(else_try),
				(eq, "$background_answer_4", 1),
				(str_store_string, 2, "@being forced out of your home"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer.                                  However, you know you cannot go back. There's nothing to go back to. Whatever home you may have had is gone                                now, and you must face the fact that you're out in the wide wide world. Alone to sink or swim..."),
			(else_try),
				(eq, "$background_answer_4", 0),
				(str_store_string, 2, "@lust for money and power"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer.                                  To everyone else, it's clear that you're now motivated solely by personal gain.                                  You want to be rich, powerful, respected, feared.                                  You want to be the one whom others hurry to obey.                                  You want people to know your name, and tremble whenever it is spoken.                                You want everything, and you won't let anyone stop you from having it..."),
			(try_end),
			(str_store_string, 1, "@{s1}^^ But soon everything changed and you decided to strike out on your own as an adventurer.                              What made you take this decision was {s2}. {s3}"),
			(assign, ":var_1", 0),
			(try_begin),
				(eq, "$character_gender", 1),
				(str_store_string, 2, "str_woman"),
				(val_add, ":var_1", 1),
			(else_try),
				(str_store_string, 2, "str_man"),
			(try_end),
			(try_begin),
				(eq, "$background_type", 6),
				(str_store_string, 3, "str_noble"),
				(val_sub, ":var_1", 1),
			(else_try),
				(str_store_string, 3, "str_common"),
			(try_end),
			(try_begin),
				(eq, ":var_1", -1),
				(str_store_string, 4, "str_may_find_that_you_are_able_to_take_your_place_among_calradias_great_lords_relatively_quickly"),
			(else_try),
				(eq, ":var_1", 0),
				(str_store_string, 4, "str_may_face_some_difficulties_establishing_yourself_as_an_equal_among_calradias_great_lords"),
			(else_try),
				(eq, ":var_1", 1),
				(str_store_string, 4, "str_may_face_great_difficulties_establishing_yourself_as_an_equal_among_calradias_great_lords"),
			(try_end),
			(str_store_string, 1, "@{s1}^^ As a {s3} {s2}. You {s4}")
		]),

	("start_adventuring_raise_skills",
		[
			(set_show_messages, 0),
			(try_begin),
				(eq, "$character_gender", 0),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 3, 1),
			(else_try),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
			(try_end),
			(troop_raise_attribute, "trp_player", 0, 1),
			(troop_raise_attribute, "trp_player", 1, 1),
			(troop_raise_attribute, "trp_player", 3, 1),
			(troop_raise_skill, "trp_player", "skl_leadership", 1),
			(troop_raise_skill, "trp_player", "skl_riding", 1),
			(try_begin),
				(eq, "$background_type", 6),
				(eq, "$character_gender", 0),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_attribute, "trp_player", 3, 2),
				(troop_raise_skill, "trp_player", 27, 1),
				(troop_raise_skill, "trp_player", 35, 1),
				(troop_raise_skill, "trp_player", 24, 1),
				(troop_raise_skill, "trp_player", 15, 1),
				(troop_raise_skill, "trp_player", 1, 1),
				(troop_raise_proficiency, "trp_player", 0, 10),
				(troop_raise_proficiency, "trp_player", 1, 10),
				(troop_raise_proficiency, "trp_player", 2, 10),
				(troop_add_item, "trp_player", "itm_sh_khe_rou_old", 5),
				(troop_add_item, "trp_player", "itm_ho_swa_saddle_black", 0),
				(troop_set_slot, "trp_player", slot_troop_renown, 100),
				(call_script, "script_change_player_honor", 3),
				(troop_add_gold, "trp_player", 100),
			(else_try),
				(eq, "$background_type", 6),
				(eq, "$character_gender", 1),
				(troop_raise_attribute, "trp_player", 2, 2),
				(troop_raise_attribute, "trp_player", 3, 1),
				(troop_raise_skill, "trp_player", 11, 1),
				(troop_raise_skill, "trp_player", 24, 2),
				(troop_raise_skill, "trp_player", 9, 1),
				(troop_raise_skill, "trp_player", 1, 1),
				(troop_raise_proficiency, "trp_player", 0, 20),
				(troop_set_slot, "trp_player", slot_troop_renown, 50),
				(troop_add_item, "trp_player", "itm_sh_khe_rou_old", 5),
				(troop_add_item, "trp_player", "itm_ho_swa_saddle_black", 0),
				(troop_add_gold, "trp_player", 100),
			(else_try),
				(eq, "$background_type", 5),
				(troop_raise_attribute, "trp_player", 2, 2),
				(troop_raise_attribute, "trp_player", 3, 1),
				(troop_raise_skill, "trp_player", 24, 1),
				(troop_raise_skill, "trp_player", 1, 1),
				(troop_raise_skill, "trp_player", 0, 2),
				(troop_raise_skill, "trp_player", 12, 1),
				(troop_raise_proficiency, "trp_player", 1, 10),
				(troop_add_item, "trp_player", "itm_ho_nor_mule", 31),
				(troop_add_gold, "trp_player", 250),
				(troop_set_slot, "trp_player", slot_troop_renown, 20),
			(else_try),
				(eq, "$background_type", 4),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_attribute, "trp_player", 3, 1),
				(troop_raise_skill, "trp_player", "skl_ironflesh", 1),
				(troop_raise_skill, "trp_player", "skl_power_strike", 1),
				(troop_raise_skill, "trp_player", "skl_weapon_master", 1),
				(troop_raise_skill, "trp_player", "skl_leadership", 1),
				(troop_raise_skill, "trp_player", "skl_trainer", 1),
				(troop_raise_proficiency, "trp_player", 0, 10),
				(troop_raise_proficiency, "trp_player", 1, 15),
				(troop_raise_proficiency, "trp_player", 2, 20),
				(troop_raise_proficiency, "trp_player", 5, 10),
				(troop_add_item, "trp_player", "itm_sh_vae_kit_old", 5),
				(troop_add_item, "trp_player", "itm_ho_swa_saddle_black", 31),
				(troop_add_gold, "trp_player", 50),
				(troop_set_slot, "trp_player", slot_troop_renown, 10),
			(else_try),
				(eq, "$background_type", 3),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 1, 2),
				(troop_raise_skill, "trp_player", "skl_power_draw", 1),
				(troop_raise_skill, "trp_player", "skl_tracking", 1),
				(troop_raise_skill, "trp_player", "skl_pathfinding", 1),
				(troop_raise_skill, "trp_player", "skl_spotting", 1),
				(troop_raise_skill, "trp_player", "skl_athletics", 1),
				(troop_raise_proficiency, "trp_player", 1, 10),
				(troop_raise_proficiency, "trp_player", 3, 30),
				(troop_add_gold, "trp_player", 30),
				(troop_add_item, "trp_player", "itm_ho_swa_saddle_black", 0),
			(else_try),
				(eq, "$background_type", 2),
				(eq, "$character_gender", 0),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_skill, "trp_player", "skl_power_draw", 1),
				(troop_raise_skill, "trp_player", "skl_horse_archery", 1),
				(troop_raise_skill, "trp_player", "skl_pathfinding", 1),
				(troop_raise_skill, "trp_player", "skl_riding", 2),
				(troop_raise_proficiency, "trp_player", 0, 10),
				(troop_raise_proficiency, "trp_player", 3, 30),
				(troop_raise_proficiency, "trp_player", 5, 10),
				(troop_add_item, "trp_player", "itm_sh_khe_rou_old", 5),
				(troop_add_gold, "trp_player", 15),
				(troop_add_item, "trp_player", "itm_ho_swa_saddle_black", 18),
				(troop_set_slot, "trp_player", slot_troop_renown, 10),
			(else_try),
				(eq, "$background_type", 2),
				(eq, "$character_gender", 1),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
				(troop_raise_skill, "trp_player", "skl_first_aid", 1),
				(troop_raise_skill, "trp_player", "skl_pathfinding", 1),
				(troop_raise_skill, "trp_player", "skl_riding", 2),
				(troop_raise_proficiency, "trp_player", 0, 5),
				(troop_raise_proficiency, "trp_player", 3, 20),
				(troop_raise_proficiency, "trp_player", 5, 5),
				(troop_add_item, "trp_player", "itm_sh_khe_rou_old", 5),
				(troop_add_gold, "trp_player", 20),
				(troop_add_item, "trp_player", "itm_ho_swa_saddle_black", 18),
			(else_try),
				(eq, "$background_type", 1),
				(troop_raise_attribute, "trp_player", 1, 3),
				(troop_raise_skill, "trp_player", "skl_athletics", 2),
				(troop_raise_skill, "trp_player", "skl_power_throw", 1),
				(troop_raise_skill, "trp_player", "skl_inventory_management", 1),
				(troop_raise_skill, "trp_player", "skl_looting", 1),
				(troop_raise_proficiency, "trp_player", 0, 20),
				(troop_raise_proficiency, "trp_player", 5, 20),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 0),
				(troop_add_gold, "trp_player", 25),
				(troop_add_item, "trp_player", "itm_ho_swa_saddle_black", 0),
			(try_end),
			(try_begin),
				(eq, "$background_answer_2", 8),
				(troop_raise_attribute, "trp_player", 3, 1),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_skill, "trp_player", "skl_power_strike", 1),
				(troop_raise_skill, "trp_player", "skl_persuasion", 1),
				(troop_raise_proficiency, "trp_player", 0, 15),
				(troop_raise_proficiency, "trp_player", 2, 5),
			(else_try),
				(eq, "$background_answer_2", 7),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_skill, "trp_player", "skl_engineer", 1),
				(troop_raise_skill, "trp_player", "skl_trade", 1),
			(else_try),
				(eq, "$background_answer_2", 6),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_skill, "trp_player", "skl_spotting", 1),
				(troop_raise_skill, "trp_player", "skl_looting", 1),
				(troop_raise_proficiency, "trp_player", 0, 15),
				(troop_raise_proficiency, "trp_player", 5, 5),
			(else_try),
				(eq, "$background_answer_2", 5),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_skill, "trp_player", "skl_horse_archery", 1),
				(troop_raise_skill, "trp_player", "skl_power_throw", 1),
				(troop_raise_proficiency, "trp_player", 3, 15),
				(call_script, "script_change_troop_renown", "trp_player", 5),
			(else_try),
				(eq, "$background_answer_2", 4),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_attribute, "trp_player", 3, 1),
				(troop_raise_skill, "trp_player", "skl_inventory_management", 1),
				(troop_raise_skill, "trp_player", "skl_trade", 1),
			(try_end),
			(try_begin),
				(eq, "$background_answer_3", 6),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_skill, "trp_player", "skl_power_draw", 1),
				(troop_raise_skill, "trp_player", "skl_tracking", 1),
				(troop_raise_skill, "trp_player", "skl_spotting", 1),
				(troop_raise_skill, "trp_player", "skl_athletics", 1),
				(troop_add_gold, "trp_player", 10),
				(troop_raise_proficiency, "trp_player", 2, 10),
				(troop_raise_proficiency, "trp_player", 3, 35),
				(troop_add_item, "trp_player", "itm_ar_khe_t2_armor_a", 0),
				(troop_add_item, "trp_player", "itm_bo_khe_t2_boots", 0),
				(troop_add_item, "trp_player", "itm_mackie_tomahawk", 4),
				(troop_add_item, "trp_player", "itm_bow_f_hunting_bow", 0),
				(troop_add_item, "trp_player", "itm_we_swa_arrow_gromite", 0),
				(troop_add_item, "trp_player", "itm_trade_furs", 0),
			(else_try),
				(eq, "$background_answer_3", 5),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_skill, "trp_player", "skl_weapon_master", 1),
				(troop_raise_skill, "trp_player", "skl_engineer", 1),
				(troop_raise_skill, "trp_player", "skl_tactics", 1),
				(troop_raise_skill, "trp_player", "skl_trade", 1),
				(troop_raise_proficiency, "trp_player", 0, 15),
				(troop_add_gold, "trp_player", 100),
				(troop_add_item, "trp_player", "itm_archer_a", 0),
				(troop_add_item, "trp_player", "itm_bo_vae_t3_leather", 22),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 13),
				(troop_add_item, "trp_player", "itm_crossbow_f_simple_1", 0),
				(troop_add_item, "trp_player", "itm_bolt_f_simple", 0),
				(troop_add_item, "trp_player", "itm_trade_tools", 0),
			(else_try),
				(eq, "$background_answer_3", 4),
				(troop_raise_attribute, "trp_player", 3, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_skill, "trp_player", "skl_riding", 1),
				(troop_raise_skill, "trp_player", "skl_trade", 1),
				(troop_raise_skill, "trp_player", "skl_pathfinding", 1),
				(troop_raise_skill, "trp_player", "skl_inventory_management", 1),
				(troop_add_gold, "trp_player", 90),
				(troop_raise_proficiency, "trp_player", 2, 15),
				(troop_add_item, "trp_player", "itm_ar_pla_t6_heraldic_a", 0),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 22),
				(troop_add_item, "trp_player", "itm_ga_rho_a2_leather", 0),
				(troop_add_item, "trp_player", "itm_he_vae_t1_common_a", 0),
				(troop_add_item, "trp_player", "itm_we_vae_spear_scythe", 0),
				(troop_add_item, "trp_player", "itm_mackie_tomahawk", 0),
				(troop_add_item, "trp_player", "itm_normal_arrows", 0),
				(troop_add_item, "trp_player", "itm_trade_linen", 0),
				(troop_add_item, "trp_player", "itm_trade_pottery", 0),
				(troop_add_item, "trp_player", "itm_trade_wool", 0),
			(else_try),
				(eq, "$background_answer_3", 2),
				(troop_raise_attribute, "trp_player", 3, 2),
				(troop_raise_skill, "trp_player", "skl_weapon_master", 1),
				(troop_raise_skill, "trp_player", "skl_persuasion", 1),
				(troop_raise_skill, "trp_player", "skl_leadership", 1),
				(troop_raise_skill, "trp_player", "skl_pathfinding", 1),
				(troop_add_gold, "trp_player", 80),
				(troop_raise_proficiency, "trp_player", 0, 25),
				(troop_raise_proficiency, "trp_player", 4, 10),
				(troop_add_item, "trp_player", "itm_ar_nor_tun_blue", 24),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 22),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 2),
				(troop_add_item, "trp_player", "itm_crossbow_f_simple_1", 0),
				(troop_add_item, "trp_player", "itm_normal_arrows", 0),
			(else_try),
				(eq, "$background_answer_3", 0),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_skill, "trp_player", "skl_riding", 1),
				(troop_raise_skill, "trp_player", "skl_weapon_master", 1),
				(troop_raise_skill, "trp_player", "skl_power_strike", 1),
				(troop_raise_skill, "trp_player", "skl_leadership", 1),
				(troop_add_gold, "trp_player", 20),
				(troop_raise_proficiency, "trp_player", 0, 30),
				(troop_raise_proficiency, "trp_player", 1, 30),
				(troop_raise_proficiency, "trp_player", 2, 30),
				(troop_raise_proficiency, "trp_player", 3, 10),
				(troop_raise_proficiency, "trp_player", 4, 10),
				(troop_raise_proficiency, "trp_player", 5, 10),
				(troop_add_item, "trp_player", "itm_heraldic_cozur_2", 22),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 21),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 2),
				(troop_add_item, "trp_player", "itm_bow_f_hunting_bow", 0),
				(troop_add_item, "trp_player", "itm_we_swa_arrow_gromite", 0),
			(else_try),
				(eq, "$background_answer_3", 0),
				(eq, "$character_gender", 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_attribute, "trp_player", 3, 1),
				(troop_raise_skill, "trp_player", "skl_persuasion", 2),
				(troop_raise_skill, "trp_player", "skl_riding", 1),
				(troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
				(troop_add_gold, "trp_player", 100),
				(troop_raise_proficiency, "trp_player", 0, 10),
				(troop_raise_proficiency, "trp_player", 4, 15),
				(troop_add_item, "trp_player", "itm_nord_dress_common_b", 24),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 0),
				(troop_add_item, "trp_player", "itm_he_swa_lad_common_a", 24),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 0),
				(troop_add_item, "trp_player", "itm_bow_f_hunting_bow", 0),
				(troop_add_item, "trp_player", "itm_we_swa_arrow_gromite", 0),
			(else_try),
				(eq, "$background_answer_3", 1),
				(troop_raise_attribute, "trp_player", 2, 2),
				(troop_raise_skill, "trp_player", "skl_weapon_master", 1),
				(troop_raise_skill, "trp_player", "skl_surgery", 1),
				(troop_raise_skill, "trp_player", "skl_wound_treatment", 1),
				(troop_raise_skill, "trp_player", "skl_persuasion", 1),
				(troop_add_gold, "trp_player", 80),
				(troop_raise_proficiency, "trp_player", 0, 20),
				(troop_raise_proficiency, "trp_player", 4, 20),
				(troop_add_item, "trp_player", "itm_archer_a", 24),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 0),
				(troop_add_item, "trp_player", "itm_medium_tier_sword_2", 2),
				(troop_add_item, "trp_player", "itm_bow_f_hunting_bow", 0),
				(troop_add_item, "trp_player", "itm_normal_arrows", 0),
				(store_random_in_range, ":random_in_range_book_tactics_trade_spice", "itm_book_tactics", "itm_trade_spice"),
				(troop_add_item, "trp_player", ":random_in_range_book_tactics_trade_spice", 0),
			(try_end),
			(try_begin),
				(eq, "$background_answer_4", 5),
				(troop_raise_attribute, "trp_player", 0, 2),
				(troop_raise_skill, "trp_player", "skl_power_strike", 1),
				(troop_add_item, "trp_player", "itm_trade_smoked_fish", 0),
			(else_try),
				(eq, "$background_answer_4", 4),
				(troop_raise_attribute, "trp_player", 3, 2),
				(troop_raise_skill, "trp_player", "skl_ironflesh", 1),
				(troop_add_item, "trp_player", "itm_trade_dried_meat", 0),
			(else_try),
				(eq, "$background_answer_4", 3),
				(troop_raise_attribute, "trp_player", 1, 2),
				(troop_raise_skill, "trp_player", "skl_pathfinding", 1),
				(troop_add_item, "trp_player", "itm_trade_bread", 0),
			(else_try),
				(eq, "$background_answer_4", 1),
				(troop_raise_attribute, "trp_player", 0, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_skill, "trp_player", "skl_weapon_master", 1),
				(troop_add_item, "trp_player", "itm_trade_apples", 0),
			(else_try),
				(eq, "$background_answer_4", 0),
				(troop_raise_attribute, "trp_player", 1, 1),
				(troop_raise_attribute, "trp_player", 2, 1),
				(troop_raise_skill, "trp_player", "skl_looting", 1),
				(troop_add_item, "trp_player", "itm_trade_sausages", 0),
			(try_end),
			(set_show_messages, 1)
		]),

	("cf_agent_check_enemies_nearby",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(agent_is_alive, ":script_param_1"),
			(agent_is_human, ":script_param_1"),
			(agent_get_position, 1, ":script_param_1"),
			(assign, ":value", 0),
			(set_fixed_point_multiplier, 100),
			(try_for_agents, ":var_4"),
				(neq, ":var_4", ":script_param_1"),
				(agent_is_alive, ":var_4"),
				(agent_is_human, ":var_4"),
				(assign, ":value_2", 0),
				(try_begin),
					(agent_is_ally, ":script_param_1"),
					(neg|agent_is_ally, ":var_4"),
					(assign, ":value_2", 1),
				(else_try),
					(neg|agent_is_ally, ":script_param_1"),
					(agent_is_ally, ":var_4"),
					(assign, ":value_2", 1),
				(try_end),
				(eq, ":value_2", 1),
				(agent_get_position, 2, ":var_4"),
				(get_distance_between_positions, ":distance_between_positions_1_2", 1, 2),
				(le, ":distance_between_positions_1_2", ":script_param_2"),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 1)
		]),

	("dplmc_send_recruiter",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", ":script_param_1"),
			(val_mul, ":var_3", 20),
			(val_add, ":var_3", 10),
			(call_script, "script_dplmc_withdraw_from_treasury", ":var_3"),
			(set_spawn_radius, 1),
			(spawn_around_party, "$current_town", "pt_dplmc_recruiter"),
			(assign, ":var_4", reg0),
			(party_set_ai_behavior, ":var_4", 0),
			(party_set_slot, ":var_4", slot_party_type, 12),
			(party_set_slot, ":var_4", slot_production_sources_end, ":script_param_1"),
			(party_set_slot, ":var_4", 236, ":script_param_2"),
			(party_set_slot, ":var_4", 234, "$current_town"),
			(assign, ":var_5", "$players_kingdom"),
			(party_set_faction, ":var_4", ":var_5")
		]),

	("dplmc_describe_prosperity_to_s4",
		[
			(store_script_param_1, ":script_param_1"),
			(str_store_party_name, 60, ":script_param_1"),
			(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
			(str_store_string, 4, "str_empty_string"),
			(try_begin),
				(is_between, ":script_param_1", "p_town_1", "p_castle_1"),
				(try_begin),
					(eq, ":script_param_1_town_prosperity", 0),
					(str_store_string, 4, "str_town_prosperity_0"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 1, 11),
					(str_store_string, 4, "str_town_prosperity_10"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 11, 21),
					(str_store_string, 4, "str_town_prosperity_20"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 21, 31),
					(str_store_string, 4, "str_town_prosperity_30"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 31, 41),
					(str_store_string, 4, "str_town_prosperity_40"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 41, 51),
					(str_store_string, 4, "str_town_prosperity_50"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 51, 61),
					(str_store_string, 4, "str_town_prosperity_60"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 61, 71),
					(str_store_string, 4, "str_town_prosperity_70"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 71, 81),
					(str_store_string, 4, "str_town_prosperity_80"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 81, 91),
					(str_store_string, 4, "str_town_prosperity_90"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 91, 101),
					(str_store_string, 4, "str_town_prosperity_100"),
				(try_end),
			(else_try),
				(is_between, ":script_param_1", "p_village_1", "p_salt_mine"),
				(try_begin),
					(eq, ":script_param_1_town_prosperity", 0),
					(str_store_string, 4, "str_village_prosperity_0"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 1, 11),
					(str_store_string, 4, "str_village_prosperity_10"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 11, 21),
					(str_store_string, 4, "str_village_prosperity_20"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 21, 31),
					(str_store_string, 4, "str_village_prosperity_30"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 31, 41),
					(str_store_string, 4, "str_village_prosperity_40"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 41, 51),
					(str_store_string, 4, "str_village_prosperity_50"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 51, 61),
					(str_store_string, 4, "str_village_prosperity_60"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 61, 71),
					(str_store_string, 4, "str_village_prosperity_70"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 71, 81),
					(str_store_string, 4, "str_village_prosperity_80"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 81, 91),
					(str_store_string, 4, "str_village_prosperity_90"),
				(else_try),
					(is_between, ":script_param_1_town_prosperity", 91, 101),
					(str_store_string, 4, "str_village_prosperity_100"),
				(try_end),
			(try_end)
		]),

	("dplmc_pay_into_treasury",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_add_gold, "trp_household_possessions", ":script_param_1"),
			(assign, reg0, ":script_param_1"),
			(play_sound, "snd_money_received"),
			(display_message, "@{reg0} denars added to treasury.")
		]),

	("dplmc_withdraw_from_treasury",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_remove_gold, "trp_household_possessions", ":script_param_1"),
			(assign, reg0, ":script_param_1"),
			(play_sound, "snd_money_paid"),
			(display_message, "@{reg0} denars removed from treasury.")
		]),

	("dplmc_describe_tax_rate_to_s50",
		[
			(store_script_param_1, ":script_param_1"),
			(val_div, ":script_param_1", 25),
			(store_add, ":value", "str_dplmc_tax_normal", ":script_param_1"),
			(str_store_string, 50, ":value")
		]),

	("dplmc_player_troops_leave",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg0, ":script_param_1"),
				(display_message, "@{!}DEBUG : removing player troops: {reg0}%"),
			(try_end),
			(assign, ":var_2", 0),
			(try_for_parties, ":var_3"),
				(assign, ":value", 0),
				(try_begin),
					(this_or_next|party_slot_eq, ":var_3", slot_party_type, 3),
					(party_slot_eq, ":var_3", slot_party_type, 2),
					(party_slot_eq, ":var_3", slot_town_lord, "trp_player"),
					(assign, ":value", 1),
				(else_try),
					(eq, "p_main_party", ":var_3"),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(party_get_num_companion_stacks, ":num_companion_stacks_var_3", ":var_3"),
				(try_for_range, ":number", 0, ":num_companion_stacks_var_3"),
					(party_stack_get_size, ":party_stack_size_var_3_number", ":var_3", ":number"),
					(val_mul, ":party_stack_size_var_3_number", ":script_param_1"),
					(val_div, ":party_stack_size_var_3_number", 100),
					(party_stack_get_troop_id, ":party_stack_troop_id_var_3_number", ":var_3", ":number"),
					(party_remove_members, ":var_3", ":party_stack_troop_id_var_3_number", ":party_stack_size_var_3_number"),
					(val_add, ":var_2", ":party_stack_size_var_3_number"),
				(try_end),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("dplmc_get_item_buy_price_factor",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, ":value", 100),
			(call_script, "script_dplmc_get_trade_penalty", ":script_param_1", ":script_param_2", ":script_param_3", ":script_param_4"),
			(assign, ":var_6", reg0),
			(try_begin),
				(gt, ":script_param_2", 0),
				(this_or_next|is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(party_is_active, ":script_param_2"),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 3),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 4),
				(is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value_2", ":script_param_1", "itm_trade_spice"),
				(val_add, ":value_2", 267),
				(party_get_slot, ":value", ":script_param_2", ":value_2"),
				(try_begin),
					(gt, ":script_param_2", 0),
					(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 4),
					(is_between, ":script_param_2", "p_village_1", "p_salt_mine"),
					(party_get_slot, ":script_param_2_village_market_town", ":script_param_2", slot_village_market_town),
					(ge, ":script_param_2_village_market_town", "p_town_1"),
					(this_or_next|party_slot_eq, ":script_param_2_village_market_town", slot_party_type, 3),
					(this_or_next|party_slot_eq, ":script_param_2_village_market_town", slot_party_type, 4),
					(is_between, ":script_param_2_village_market_town", "p_town_1", "p_salt_mine"),
					(party_get_slot, ":script_param_2_village_market_town_value_2", ":script_param_2_village_market_town", ":value_2"),
					(val_max, ":value", ":script_param_2_village_market_town_value_2"),
				(try_end),
				(val_clamp, ":value", 100, 10001),
				(val_mul, ":value", 100),
				(val_div, ":value", 1000),
			(try_end),
			(store_add, ":value_3", 100, ":var_6"),
			(val_mul, ":value", ":value_3"),
			(val_div, ":value", 100),
			(assign, reg0, ":value"),
			(set_trigger_result, reg0)
		]),

	("dplmc_party_calculate_strength",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, reg0, 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(neq, ":script_param_2", 0),
				(assign, ":value", 1),
			(try_end),
			(assign, ":var_5", 0),
			(try_for_range, ":var_6", ":value", ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_6", ":script_param_1", ":var_6"),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_var_6"),
					(party_stack_get_size, ":party_stack_size_script_param_1_var_6", ":script_param_1", ":var_6"),
				(try_end),
				(val_add, ":var_5", ":party_stack_size_script_param_1_var_6"),
			(try_end),
			(assign, reg0, ":var_5"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG : sum: {reg0}"),
			(try_end)
		]),

	("dplmc_start_alliance_between_kingdoms",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", reg1),
			(call_script, "script_dplmc_translate_inactive_player_supporter_faction_2", ":script_param_1", ":script_param_2"),
			(assign, ":script_param_1", reg0),
			(assign, ":script_param_2", reg1),
			(assign, reg1, ":var_4"),
			(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(val_add, ":relation_script_param_1_script_param_2", 15),
			(val_max, ":relation_script_param_1_script_param_2", 40),
			(set_relation, ":script_param_1", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(call_script, "script_exchange_prisoners_between_factions", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_2"),
				(val_add, ":relation_script_param_1_script_param_2", 15),
				(val_max, ":relation_script_param_1_script_param_2", 40),
				(call_script, "script_set_player_relation_with_faction", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(else_try),
				(eq, "$players_kingdom", ":script_param_2"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_1"),
				(val_add, ":relation_script_param_1_script_param_2", 15),
				(val_max, ":relation_script_param_1_script_param_2", 40),
				(call_script, "script_set_player_relation_with_faction", ":script_param_1", ":relation_script_param_1_script_param_2"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(str_store_faction_name_link, 1, ":script_param_1"),
				(str_store_faction_name_link, 2, ":script_param_2"),
				(display_log_message, "@{s1} and {s2} have entered into an alliance with each other."),
				(call_script, "script_add_notification_menu", "mnu_dplmc_notification_alliance_declared", ":script_param_1", ":script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_1", ":script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_2", ":script_param_1"),
				(assign, "$g_recalculate_ais", 1),
			(try_end),
			(try_begin),
				(store_add, ":value", ":script_param_1", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_2", ":value", 30),
				(store_add, ":value", ":script_param_2", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", ":value", 30),
				(store_add, ":value_2", ":script_param_2", 140),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
				(try_begin),
					(lt, ":script_param_1_value_2", 100),
				(try_end),
				(faction_set_slot, ":script_param_1", ":value_2", 0),
				(store_add, ":value_3", ":script_param_1", 140),
				(val_sub, ":value_3", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_2_value_3", ":script_param_2", ":value_3"),
				(try_begin),
					(lt, ":script_param_2_value_3", 100),
				(try_end),
				(faction_set_slot, ":script_param_2", ":value_3", 0),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(neq, ":script_param_1", ":faction"),
				(neq, ":script_param_2", ":faction"),
				(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":script_param_1", ":faction"),
				(eq, reg0, -2),
				(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":script_param_2", ":faction"),
				(ge, reg0, -1),
				(call_script, "script_diplomacy_start_war_between_kingdoms", ":script_param_2", ":faction", 2),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(neq, ":script_param_1", ":faction"),
				(neq, ":script_param_2", ":faction"),
				(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":script_param_2", ":faction"),
				(eq, reg0, -2),
				(call_script, "script_diplomacy_faction_get_diplomatic_status_with_faction", ":script_param_1", ":faction"),
				(ge, reg0, -1),
				(call_script, "script_diplomacy_start_war_between_kingdoms", ":script_param_1", ":faction", 2),
			(try_end)
		]),

	("dplmc_start_defensive_between_kingdoms",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", reg1),
			(call_script, "script_dplmc_translate_inactive_player_supporter_faction_2", ":script_param_1", ":script_param_2"),
			(assign, ":script_param_1", reg0),
			(assign, ":script_param_2", reg1),
			(assign, reg1, ":var_4"),
			(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(val_add, ":relation_script_param_1_script_param_2", 10),
			(val_max, ":relation_script_param_1_script_param_2", 30),
			(set_relation, ":script_param_1", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(call_script, "script_exchange_prisoners_between_factions", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_2"),
				(val_add, ":relation_script_param_1_script_param_2", 10),
				(val_max, ":relation_script_param_1_script_param_2", 30),
				(call_script, "script_set_player_relation_with_faction", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(else_try),
				(eq, "$players_kingdom", ":script_param_2"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_1"),
				(val_add, ":relation_script_param_1_script_param_2", 10),
				(val_max, ":relation_script_param_1_script_param_2", 30),
				(call_script, "script_set_player_relation_with_faction", ":script_param_1", ":relation_script_param_1_script_param_2"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(str_store_faction_name_link, 1, ":script_param_1"),
				(str_store_faction_name_link, 2, ":script_param_2"),
				(display_log_message, "@{s1} and {s2} have concluded a defensive pact with each other."),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_1", ":script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_2", ":script_param_1"),
				(assign, "$g_recalculate_ais", 1),
			(try_end),
			(try_begin),
				(store_add, ":value", ":script_param_1", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_2", ":value", 30),
				(store_add, ":value", ":script_param_2", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", ":value", 30),
				(store_add, ":value_2", ":script_param_2", 140),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
				(try_begin),
					(lt, ":script_param_1_value_2", 100),
				(try_end),
				(faction_set_slot, ":script_param_1", ":value_2", 0),
				(store_add, ":value_3", ":script_param_1", 140),
				(val_sub, ":value_3", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_2_value_3", ":script_param_2", ":value_3"),
				(try_begin),
					(lt, ":script_param_2_value_3", 100),
				(try_end),
				(faction_set_slot, ":script_param_2", ":value_3", 0),
			(try_end)
		]),

	("dplmc_start_trade_between_kingdoms",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", reg1),
			(call_script, "script_dplmc_translate_inactive_player_supporter_faction_2", ":script_param_1", ":script_param_2"),
			(assign, ":script_param_1", reg0),
			(assign, ":script_param_2", reg1),
			(assign, reg1, ":var_4"),
			(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(val_add, ":relation_script_param_1_script_param_2", 5),
			(val_max, ":relation_script_param_1_script_param_2", 20),
			(set_relation, ":script_param_1", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(call_script, "script_exchange_prisoners_between_factions", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_2"),
				(val_add, ":relation_script_param_1_script_param_2", 5),
				(val_max, ":relation_script_param_1_script_param_2", 20),
				(call_script, "script_set_player_relation_with_faction", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(else_try),
				(eq, "$players_kingdom", ":script_param_2"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_1"),
				(val_add, ":relation_script_param_1_script_param_2", 5),
				(val_max, ":relation_script_param_1_script_param_2", 20),
				(call_script, "script_set_player_relation_with_faction", ":script_param_1", ":relation_script_param_1_script_param_2"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(str_store_faction_name_link, 1, ":script_param_1"),
				(str_store_faction_name_link, 2, ":script_param_2"),
				(display_log_message, "@{s1} and {s2} have concluded a trade agreement with each other."),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_1", ":script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_2", ":script_param_1"),
				(assign, "$g_recalculate_ais", 1),
			(try_end),
			(try_begin),
				(store_add, ":value", ":script_param_1", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_2", ":value", 30),
				(store_add, ":value", ":script_param_2", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", ":value", 30),
				(store_add, ":value_2", ":script_param_2", 140),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
				(try_begin),
					(lt, ":script_param_1_value_2", 100),
				(try_end),
				(faction_set_slot, ":script_param_1", ":value_2", 0),
				(store_add, ":value_3", ":script_param_1", 140),
				(val_sub, ":value_3", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_2_value_3", ":script_param_2", ":value_3"),
				(try_begin),
					(lt, ":script_param_2_value_3", 100),
				(try_end),
				(faction_set_slot, ":script_param_2", ":value_3", 0),
			(try_end)
		]),

	("dplmc_start_nonaggression_between_kingdoms",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", reg1),
			(call_script, "script_dplmc_translate_inactive_player_supporter_faction_2", ":script_param_1", ":script_param_2"),
			(assign, ":script_param_1", reg0),
			(assign, ":script_param_2", reg1),
			(assign, reg1, ":var_4"),
			(store_relation, ":relation_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(val_add, ":relation_script_param_1_script_param_2", 3),
			(val_max, ":relation_script_param_1_script_param_2", 10),
			(set_relation, ":script_param_1", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(call_script, "script_exchange_prisoners_between_factions", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, "$players_kingdom", ":script_param_1"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_2"),
				(val_add, ":relation_script_param_1_script_param_2", 3),
				(val_max, ":relation_script_param_1_script_param_2", 10),
				(call_script, "script_set_player_relation_with_faction", ":script_param_2", ":relation_script_param_1_script_param_2"),
			(else_try),
				(eq, "$players_kingdom", ":script_param_2"),
				(store_relation, ":relation_script_param_1_script_param_2", "fac_player_supporters_faction", ":script_param_1"),
				(val_add, ":relation_script_param_1_script_param_2", 3),
				(val_max, ":relation_script_param_1_script_param_2", 10),
				(call_script, "script_set_player_relation_with_faction", ":script_param_1", ":relation_script_param_1_script_param_2"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", 1),
				(str_store_faction_name_link, 1, ":script_param_1"),
				(str_store_faction_name_link, 2, ":script_param_2"),
				(display_log_message, "@{s1} and {s2} have concluded a non aggression pact with each other."),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_1", ":script_param_2"),
				(call_script, "script_event_kingdom_make_peace_with_kingdom", ":script_param_2", ":script_param_1"),
				(assign, "$g_recalculate_ais", 1),
			(try_end),
			(try_begin),
				(store_add, ":value", ":script_param_1", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_2", ":value", 30),
				(store_add, ":value", ":script_param_2", 120),
				(val_sub, ":value", "fac_player_supporters_faction"),
				(faction_set_slot, ":script_param_1", ":value", 30),
				(store_add, ":value_2", ":script_param_2", 140),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
				(try_begin),
					(lt, ":script_param_1_value_2", 100),
				(try_end),
				(faction_set_slot, ":script_param_1", ":value_2", 0),
				(store_add, ":value_3", ":script_param_1", 140),
				(val_sub, ":value_3", "fac_player_supporters_faction"),
				(faction_get_slot, ":script_param_2_value_3", ":script_param_2", ":value_3"),
				(try_begin),
					(lt, ":script_param_2_value_3", 100),
				(try_end),
				(faction_set_slot, ":script_param_2", ":value_3", 0),
			(try_end)
		]),

	("dplmc_get_prisoners_value_between_factions",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(try_for_parties, ":var_5"),
				(store_faction_of_party, ":faction_of_party_var_5", ":var_5"),
				(try_begin),
					(eq, ":faction_of_party_var_5", ":script_param_1"),
					(party_get_num_prisoner_stacks, ":num_prisoner_stacks_var_5", ":var_5"),
					(try_for_range_backwards, ":value", 0, ":num_prisoner_stacks_var_5"),
						(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_var_5_value", ":var_5", ":value"),
						(store_faction_of_troop, ":faction_of_troop_party_prisoner_stack_troop_id_var_5_value", ":party_prisoner_stack_troop_id_var_5_value"),
						(eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_5_value", ":script_param_2"),
						(try_begin),
							(troop_is_hero, ":party_prisoner_stack_troop_id_var_5_value"),
							(call_script, "script_calculate_ransom_amount_for_troop", ":party_prisoner_stack_troop_id_var_5_value"),
							(val_add, ":var_3", reg0),
							(try_begin),
								(eq, "$cheat_mode", 1),
								(assign, reg0, ":var_3"),
								(display_message, "@{!}DEBUG : faction no 1 value: {reg0}"),
							(try_end),
						(try_end),
					(try_end),
				(else_try),
					(eq, ":faction_of_party_var_5", ":script_param_2"),
					(party_get_num_prisoner_stacks, ":num_prisoner_stacks_var_5", ":var_5"),
					(try_for_range_backwards, ":value", 0, ":num_prisoner_stacks_var_5"),
						(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_var_5_value", ":var_5", ":value"),
						(store_faction_of_troop, ":faction_of_troop_party_prisoner_stack_troop_id_var_5_value", ":party_prisoner_stack_troop_id_var_5_value"),
						(eq, ":faction_of_troop_party_prisoner_stack_troop_id_var_5_value", ":script_param_1"),
						(try_begin),
							(troop_is_hero, ":party_prisoner_stack_troop_id_var_5_value"),
							(call_script, "script_calculate_ransom_amount_for_troop", ":party_prisoner_stack_troop_id_var_5_value"),
							(val_add, ":var_4", reg0),
							(try_begin),
								(eq, "$cheat_mode", 1),
								(assign, reg0, ":var_4"),
								(display_message, "@{!}DEBUG : faction no 2 value: {reg0}"),
							(try_end),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(store_sub, reg0, ":var_3", ":var_4")
		]),

	("dplmc_get_truce_pay_amount",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_dplmc_translate_inactive_player_supporter_faction_2", ":script_param_1", ":script_param_2"),
			(assign, ":script_param_1", reg0),
			(assign, ":script_param_2", reg1),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(assign, reg0, ":script_param_3"),
				(display_message, "@{!}DEBUG : peace war result: {reg0}"),
			(try_end),
			(assign, ":value", 4000),
			(try_begin),
				(ge, ":script_param_3", 0),
				(assign, ":value", 4000),
			(else_try),
				(ge, ":script_param_3", -1),
				(assign, ":value", 8000),
			(else_try),
				(ge, ":script_param_3", -2),
				(assign, ":value", 12000),
			(else_try),
				(le, ":script_param_3", -3),
				(store_mul, ":value", -6000, ":script_param_3"),
			(try_end),
			(assign, ":value_2", -1),
			(try_begin),
				(lt, ":script_param_3", 1),
				(this_or_next|faction_slot_eq, ":script_param_2", slot_faction_ai_state, 2),
				(faction_slot_eq, ":script_param_2", slot_faction_ai_state, 3),
				(faction_get_slot, reg0, ":script_param_2", slot_faction_ai_object),
				(is_between, reg0, "p_town_1", "p_salt_mine"),
				(assign, ":value_2", reg0),
			(try_end),
			(assign, ":var_6", 0),
			(assign, ":var_7", 0),
			(store_current_hours, ":current_hours"),
			(try_begin),
				(ge, ":script_param_3", 1),
				(val_sub, ":current_hours", 48),
			(else_try),
				(eq, ":script_param_3", 0),
				(val_sub, ":current_hours", 360),
			(else_try),
				(eq, ":script_param_3", -1),
				(val_sub, ":current_hours", 480),
			(else_try),
				(eq, ":script_param_3", -2),
				(val_sub, ":current_hours", 720),
			(else_try),
				(val_sub, ":current_hours", 1440),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(eq, ":faction_of_party_party", ":script_param_1"),
				(call_script, "script_dplmc_estimate_center_weekly_income", ":party"),
				(store_mul, ":value_3", reg0, 3),
				(try_begin),
					(ge, "$g_concession_demanded", "p_looter_spawn_point"),
					(this_or_next|eq, "$g_concession_demanded", ":party"),
					(party_slot_eq, ":party", slot_village_bound_center, "$g_concession_demanded"),
					(val_add, ":var_7", ":value_3"),
				(try_end),
				(assign, ":value_4", 0),
				(try_begin),
					(party_slot_eq, ":party", slot_center_original_faction, ":script_param_2"),
					(party_slot_ge, ":party", 403, ":current_hours"),
					(assign, ":value_4", 1),
				(else_try),
					(party_slot_eq, ":party", slot_center_ex_faction, ":script_param_2"),
					(party_slot_ge, ":party", 403, ":current_hours"),
					(assign, ":value_4", 1),
				(else_try),
					(ge, ":value_2", "p_town_1"),
					(this_or_next|eq, ":party", ":value_2"),
					(party_slot_eq, ":party", slot_village_bound_center, ":value_2"),
					(assign, ":value_4", 1),
				(else_try),
					(party_get_slot, reg0, ":party", slot_center_is_besieged_by),
					(gt, reg0, 0),
					(party_is_active, reg0),
					(store_faction_of_party, reg0, reg0),
					(eq, reg0, ":script_param_2"),
					(assign, ":value_4", 1),
				(else_try),
					(is_between, ":party", "p_village_1", "p_salt_mine"),
					(party_get_slot, reg0, ":party", slot_village_bound_center),
					(is_between, reg0, "p_town_1", "p_salt_mine"),
					(party_get_slot, reg0, reg0, slot_center_is_besieged_by),
					(gt, reg0, -1),
					(party_is_active, reg0),
					(store_faction_of_party, reg0, reg0),
					(eq, reg0, ":script_param_2"),
					(assign, ":value_4", 1),
				(try_end),
				(gt, ":value_4", 0),
				(val_add, ":var_6", ":value_3"),
			(try_end),
			(try_begin),
				(eq, ":script_param_3", -1),
				(val_max, ":var_6", 6750),
			(else_try),
				(le, ":script_param_3", -2),
				(val_max, ":var_6", 13500),
			(try_end),
			(store_current_hours, ":current_hours_2"),
			(faction_get_slot, ":script_param_2_ai_last_decisive_event", ":script_param_2", slot_faction_ai_last_decisive_event),
			(store_sub, ":value_5", ":current_hours_2", ":script_param_2_ai_last_decisive_event"),
			(val_max, ":value_5", 0),
			(try_begin),
				(lt, ":value_5", 49),
				(val_mul, ":value", 2),
				(val_mul, ":var_6", 2),
			(else_try),
				(lt, ":value_5", 192),
				(store_sub, reg0, 48, ":value_5"),
				(store_sub, ":value_6", 288, reg0),
				(val_mul, ":value", ":value_6"),
				(val_add, ":value", 72),
				(val_div, ":value", 144),
				(val_mul, ":var_6", ":value_6"),
				(val_add, ":var_6", 72),
				(val_div, ":var_6", 144),
			(try_end),
			(call_script, "script_dplmc_get_prisoners_value_between_factions", ":script_param_1", ":script_param_2"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG : prisoner value: {reg0}"),
			(try_end),
			(assign, ":var_17", reg0),
			(store_add, reg0, ":value", ":var_6"),
			(store_troop_gold, ":troop_gold_household_possessions", "trp_household_possessions"),
			(store_troop_gold, reg1, "trp_player"),
			(val_add, ":troop_gold_household_possessions", reg1),
			(try_begin),
				(gt, ":troop_gold_household_possessions", 100000),
				(store_div, reg1, ":troop_gold_household_possessions", 1000),
				(val_mul, reg1, reg0),
				(val_div, reg1, 100),
				(val_add, reg0, reg1),
				(val_div, reg0, 2),
				(store_div, reg1, ":troop_gold_household_possessions", 1000),
				(val_mul, reg1, ":var_7"),
				(val_div, reg1, 100),
				(val_add, ":var_7", reg1),
				(val_div, ":var_7", 2),
			(try_end),
			(assign, ":var_19", reg0),
			(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
			(try_begin),
				(eq, ":game_reduce_campaign_ai", 0),
				(val_mul, reg0, 3),
				(val_div, reg0, 2),
				(val_mul, ":var_19", 87),
				(val_div, ":var_19", 100),
			(else_try),
				(eq, ":game_reduce_campaign_ai", 1),
				(val_mul, ":var_19", 3),
				(val_div, ":var_19", 4),
			(else_try),
				(eq, ":game_reduce_campaign_ai", 2),
				(val_mul, reg0, 3),
				(val_div, reg0, 4),
				(val_mul, ":var_19", 9),
				(val_div, ":var_19", 16),
			(try_end),
			(val_sub, reg0, ":var_17"),
			(val_max, reg0, ":var_19"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG : peace war result after prisoners: {reg0}"),
			(try_end),
			(assign, reg1, -1),
			(try_begin),
				(gt, "$g_concession_demanded", 0),
				(gt, ":var_7", 0),
				(store_sub, reg1, reg0, ":var_7"),
				(val_max, reg1, 0),
				(try_begin),
					(neq, ":game_reduce_campaign_ai", 2),
					(lt, ":script_param_3", 0),
					(assign, reg0, -1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(display_message, "@{!}DEBUG : truce pay amount0: {reg0}"),
				(display_message, "@{!}DEBUG : truce pay amount1: {reg1}"),
			(try_end)
		]),

	("dplmc_player_center_surrender",
		[
			(store_script_param, ":script_param_1", 1),
			(store_current_hours, ":current_hours"),
			(val_add, ":current_hours", 48),
			(party_get_slot, ":script_param_1_center_is_besieged_by", ":script_param_1", slot_center_is_besieged_by),
			(store_faction_of_party, ":faction_of_party_script_param_1_center_is_besieged_by", ":script_param_1_center_is_besieged_by"),
			(party_set_slot, ":script_param_1_center_is_besieged_by", slot_party_ignore_player_until, ":current_hours"),
			(party_ignore_player, ":script_param_1_center_is_besieged_by", 48),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(this_or_next|is_between, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":faction_of_troop_troop", ":faction_of_party_script_param_1_center_is_besieged_by"),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(party_is_active, ":troop_leaded_party"),
				(party_slot_eq, ":troop_leaded_party", slot_party_ai_state, 11),
				(party_slot_eq, ":troop_leaded_party", slot_party_ai_object, ":script_param_1_center_is_besieged_by"),
				(party_is_active, ":script_param_1_center_is_besieged_by"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_troop_leaded_party_script_param_1_center_is_besieged_by", ":troop_leaded_party", ":script_param_1_center_is_besieged_by"),
				(lt, ":distance_to_party_from_party_troop_leaded_party_script_param_1_center_is_besieged_by", 20),
				(party_set_slot, ":troop_leaded_party", slot_party_ignore_player_until, ":current_hours"),
				(party_ignore_player, ":troop_leaded_party", 48),
			(try_end),
			(party_set_faction, "$current_town", "fac_neutral"),
			(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
			(try_for_range_backwards, ":var_10", 0, ":num_attached_parties_script_param_1"),
				(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_var_10", ":script_param_1", ":var_10"),
				(party_detach, ":attached_party_with_rank_script_param_1_var_10"),
				(party_get_slot, ":attached_party_with_rank_script_param_1_var_10_type", ":attached_party_with_rank_script_param_1_var_10", slot_party_type),
				(eq, ":attached_party_with_rank_script_param_1_var_10_type", 13),
				(neq, ":attached_party_with_rank_script_param_1_var_10_type", "p_main_party"),
				(store_faction_of_party, ":faction_of_party_attached_party_with_rank_script_param_1_var_10", ":attached_party_with_rank_script_param_1_var_10"),
				(call_script, "script_get_closest_walled_center_of_faction", ":attached_party_with_rank_script_param_1_var_10", ":faction_of_party_attached_party_with_rank_script_param_1_var_10"),
				(try_begin),
					(gt, reg0, 0),
					(call_script, "script_party_set_ai_state", ":attached_party_with_rank_script_param_1_var_10", 7, reg0),
				(else_try),
					(call_script, "script_party_set_ai_state", ":attached_party_with_rank_script_param_1_var_10", 4, ":script_param_1"),
				(try_end),
			(try_end),
			(call_script, "script_party_remove_all_companions", ":script_param_1"),
			(change_screen_return),
			(party_collect_attachments_to_party, ":script_param_1", "p_collective_enemy"),
			(call_script, "script_party_copy", "p_encountered_party_backup", "p_collective_enemy"),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":party", slot_village_bound_center, ":script_param_1"),
				(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
				(neq, ":party_town_lord", "trp_player"),
				(is_between, ":party_town_lord", "trp_npc1", "trp_heroes_end"),
				(call_script, "script_change_player_relation_with_troop", ":party_town_lord", -1),
			(try_end),
			(call_script, "script_give_center_to_faction", "$current_town", ":faction_of_party_script_param_1_center_is_besieged_by"),
			(call_script, "script_order_best_besieger_party_to_guard_center", ":script_param_1", ":faction_of_party_script_param_1_center_is_besieged_by"),
			(try_begin),
				(gt, "$players_kingdom", 0),
				(neq, "$players_kingdom", "fac_player_supporters_faction"),
				(neq, "$players_kingdom", "fac_player_faction"),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(gt, ":players_kingdom_leader", "trp_player"),
				(call_script, "script_change_player_relation_with_troop", ":players_kingdom_leader", -2),
			(try_end),
			(troop_get_slot, ":player_days_on_mission", "trp_player", slot_troop_days_on_mission),
			(val_add, ":player_days_on_mission", 4),
			(val_min, ":player_days_on_mission", 100),
			(troop_set_slot, "trp_player", slot_troop_days_on_mission, ":player_days_on_mission"),
			(assign, ":value", 3),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 3),
				(assign, ":value", 9),
			(try_end),
			(game_get_reduce_campaign_ai, ":game_reduce_campaign_ai"),
			(try_begin),
				(eq, ":game_reduce_campaign_ai", 0),
				(val_mul, ":value", 5),
				(val_div, ":value", 3),
				(val_add, ":value", 3),
			(else_try),
				(eq, ":game_reduce_campaign_ai", 1),
				(val_mul, ":value", 5),
				(val_div, ":value", 3),
			(try_end),
			(try_for_range, ":unused", 0, ":value"),
				(call_script, "script_cf_reinforce_party", ":script_param_1"),
			(try_end),
			(try_for_range, ":unused", 0, 7),
				(store_mul, ":value_2", 150, ":value"),
				(store_mul, ":value_3", 200, ":value"),
				(store_random_in_range, ":random_in_range_value_2_value_3", ":value_2", ":value_3"),
				(party_upgrade_with_xp, ":script_param_1", ":random_in_range_value_2_value_3", 0),
			(try_end)
		]),

	("dplmc_send_messenger_to_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(try_begin),
				(eq, ":script_param_2", 11),
				(assign, ":script_param_3", "p_main_party"),
			(try_end),
			(set_spawn_radius, 1),
			(spawn_around_party, "$current_town", "pt_messenger_party"),
			(assign, ":var_5", reg0),
			(party_add_members, ":var_5", "trp_dplmc_messenger", 1),
			(store_faction_of_troop, ":faction_of_troop_player", "trp_player"),
			(party_set_faction, ":var_5", ":faction_of_troop_player"),
			(party_set_slot, ":var_5", slot_party_type, 8),
			(party_set_slot, ":var_5", 300, ":script_param_2"),
			(party_set_slot, ":var_5", slot_party_home_center, "$current_town"),
			(party_set_ai_behavior, ":var_5", 1),
			(party_set_ai_object, ":var_5", ":script_param_1_leaded_party"),
			(party_set_slot, ":var_5", slot_party_ai_object, ":script_param_1_leaded_party"),
			(party_set_slot, ":var_5", 263, ":script_param_3"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(str_store_party_name, 13, ":script_param_1_leaded_party"),
				(display_message, "@{!}DEBUG - Send message to {s13}"),
			(try_end)
		]),

	("dplmc_send_messenger_to_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(set_spawn_radius, 1),
			(spawn_around_party, "$current_town", "pt_messenger_party"),
			(assign, ":var_4", reg0),
			(party_add_members, ":var_4", "trp_dplmc_messenger", 1),
			(party_set_faction, ":var_4", "fac_player_faction"),
			(party_set_slot, ":var_4", slot_party_type, 8),
			(party_set_slot, ":var_4", 300, ":script_param_2"),
			(party_set_slot, ":var_4", slot_party_home_center, "$current_town"),
			(party_set_ai_behavior, ":var_4", 1),
			(party_set_ai_object, ":var_4", ":script_param_1"),
			(party_set_slot, ":var_4", slot_party_ai_object, ":script_param_1"),
			(party_set_slot, ":var_4", 263, ":script_param_3"),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(str_store_party_name, 13, ":script_param_1"),
				(display_message, "@{!}DEBUG - Send message to {s13}"),
			(try_end)
		]),

	("dplmc_send_gift",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
			(else_try),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 6),
				(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_cur_center),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(str_store_item_name, 12, ":script_param_2"),
				(str_store_party_name, 13, ":script_param_1_leaded_party"),
				(display_message, "@{!}DEBUG - Bring {s12} to {s13}"),
			(try_end),
			(try_begin),
				(lt, ":script_param_3", 1),
				(display_message, "@{!} ERROR: Bad gift amount {reg0}.  (Tell the mod writer he needs to update his code.)  Using a safe default."),
				(assign, ":script_param_3", 1),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(assign, ":script_param_3", 150),
			(try_end),
			(call_script, "script_dplmc_withdraw_from_treasury", 50),
			(troop_get_inventory_capacity, ":inventory_capacity_household_possessions", "trp_household_possessions"),
			(try_for_range, ":number", 0, ":inventory_capacity_household_possessions"),
				(gt, ":script_param_3", 0),
				(troop_get_inventory_slot, ":inventory_slot_household_possessions_number", "trp_household_possessions", ":number"),
				(eq, ":inventory_slot_household_possessions_number", ":script_param_2"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_household_possessions_number", "trp_household_possessions", ":number"),
				(try_begin),
					(le, ":troop_inventory_slot_item_amount_household_possessions_number", ":script_param_3"),
					(troop_inventory_slot_set_item_amount, "trp_household_possessions", ":number", 0),
					(val_sub, ":script_param_3", ":troop_inventory_slot_item_amount_household_possessions_number"),
				(else_try),
					(val_sub, ":troop_inventory_slot_item_amount_household_possessions_number", ":script_param_3"),
					(troop_inventory_slot_set_item_amount, "trp_household_possessions", ":number", ":troop_inventory_slot_item_amount_household_possessions_number"),
					(assign, ":script_param_3", 0),
				(try_end),
			(try_end),
			(set_spawn_radius, 1),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(spawn_around_party, "$current_town", "pt_dplmc_gift_caravan"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(spawn_around_party, "$current_town", "pt_dplmc_gift_caravan_r"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
				(spawn_around_party, "$current_town", "pt_dplmc_gift_caravan_e"),
			(try_end),
			(assign, ":var_9", reg0),
			(party_set_slot, ":var_9", slot_party_type, 21),
			(party_set_slot, ":var_9", 300, ":script_param_2"),
			(party_set_slot, ":var_9", 263, ":script_param_1"),
			(party_set_ai_behavior, ":var_9", 1),
			(party_set_ai_object, ":var_9", ":script_param_1_leaded_party"),
			(party_set_slot, ":var_9", slot_party_ai_object, ":script_param_1_leaded_party"),
			(party_stack_get_troop_id, ":party_stack_troop_id_var_9_0", ":var_9", 0),
			(troop_set_slot, ":party_stack_troop_id_var_9_0", slot_troop_leaded_party, ":var_9"),
			(party_set_slot, ":var_9", slot_production_sources_end, ":script_param_3")
		]),

	("dplmc_send_gift_to_center",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(str_store_item_name, 12, ":script_param_2"),
				(str_store_party_name, 13, ":script_param_1"),
				(display_message, "@{!}DEBUG - Bring {s12} to {s13}"),
			(try_end),
			(try_begin),
				(lt, ":script_param_3", 1),
				(display_message, "@{!} ERROR: Bad gift amount {reg0}.  (Tell the mod writer he needs to update his code.)  Using a safe default."),
				(assign, ":script_param_3", 300),
			(try_end),
			(call_script, "script_dplmc_withdraw_from_treasury", 50),
			(troop_get_inventory_capacity, ":inventory_capacity_household_possessions", "trp_household_possessions"),
			(try_for_range, ":number", 0, ":inventory_capacity_household_possessions"),
				(gt, ":script_param_3", 0),
				(troop_get_inventory_slot, ":inventory_slot_household_possessions_number", "trp_household_possessions", ":number"),
				(eq, ":inventory_slot_household_possessions_number", ":script_param_2"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_household_possessions_number", "trp_household_possessions", ":number"),
				(try_begin),
					(le, ":troop_inventory_slot_item_amount_household_possessions_number", ":script_param_3"),
					(troop_inventory_slot_set_item_amount, "trp_household_possessions", ":number", 0),
					(val_sub, ":script_param_3", ":troop_inventory_slot_item_amount_household_possessions_number"),
				(else_try),
					(val_sub, ":troop_inventory_slot_item_amount_household_possessions_number", ":script_param_3"),
					(troop_inventory_slot_set_item_amount, "trp_household_possessions", ":number", ":troop_inventory_slot_item_amount_household_possessions_number"),
					(assign, ":script_param_3", 0),
				(try_end),
			(try_end),
			(set_spawn_radius, 1),
			(try_begin),
				(eq, "$troop_trees", "trp_troop_tree_0"),
				(spawn_around_party, "$current_town", "pt_dplmc_gift_caravan"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_1"),
				(spawn_around_party, "$current_town", "pt_dplmc_gift_caravan_r"),
			(else_try),
				(eq, "$troop_trees", "trp_troop_tree_2"),
				(spawn_around_party, "$current_town", "pt_dplmc_gift_caravan_e"),
			(try_end),
			(assign, ":var_8", reg0),
			(party_set_slot, ":var_8", slot_party_type, 21),
			(party_set_slot, ":var_8", 300, ":script_param_2"),
			(party_set_slot, ":var_8", 263, 0),
			(party_set_ai_behavior, ":var_8", 1),
			(party_set_ai_object, ":var_8", ":script_param_1"),
			(party_set_slot, ":var_8", slot_party_ai_object, ":script_param_1"),
			(party_stack_get_troop_id, ":party_stack_troop_id_var_8_0", ":var_8", 0),
			(troop_set_slot, ":party_stack_troop_id_var_8_0", slot_troop_leaded_party, ":var_8"),
			(troop_set_slot, ":party_stack_troop_id_var_8_0", slot_troop_leaded_party, ":var_8"),
			(party_set_slot, ":var_8", slot_production_sources_end, ":script_param_3")
		]),

	("dplmc_troop_political_notes_to_s47",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", reg1),
			(assign, ":var_3", reg4),
			(try_begin),
				(eq, 0, 1),
				(is_between, "$g_talk_troop", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", "$g_talk_troop"),
				(call_script, "script_troop_get_player_relation", ":value"),
				(assign, ":value_2", reg0),
			(else_try),
				(assign, ":value", -1),
				(assign, ":value_2", 100),
			(try_end),
			(try_begin),
				(str_clear, 47),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(faction_get_slot, ":faction_of_troop_script_param_1_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
				(str_clear, 40),
				(assign, ":value_3", 0),
				(str_clear, 41),
				(try_for_range, ":troop", "trp_kingdom_heroes_including_player_begin", "trp_knight_1_1_wife"),
					(neg|troop_slot_ge, ":script_param_1", 2, 11),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":troop"),
					(lt, reg0, -10),
					(str_store_troop_name_link, 39, ":troop"),
					(try_begin),
						(eq, ":troop", "trp_player"),
						(str_store_string, 39, "str_you"),
					(try_end),
					(try_begin),
						(eq, ":value_3", 0),
						(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 4),
						(str_store_string, 40, "str_dplmc_s39_rival"),
						(assign, ":value_3", 1),
					(else_try),
						(str_store_string, 41, "str_s40"),
						(str_store_string, 40, "str_dplmc_s41_s39_rival"),
					(try_end),
				(try_end),
				(str_clear, 46),
				(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 4),
				(str_store_troop_name, 46, ":script_param_1"),
				(assign, ":value_4", 0),
				(try_begin),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_met, 0),
					(assign, ":value_4", 1),
				(else_try),
					(neg|is_between, ":value", "trp_npc1", "trp_heroes_end"),
					(assign, ":value_4", 1),
				(else_try),
					(neg|is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
					(assign, ":value_4", 1),
				(else_try),
					(is_between, ":value", "trp_npc1", "trp_heroes_end"),
					(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":value"),
					(neq, reg0, 0),
					(assign, ":value_4", 1),
				(else_try),
					(troop_slot_ge, ":script_param_1", 7, 500),
					(assign, ":value_4", 1),
				(else_try),
					(assign, reg0, 0),
					(try_for_range, ":party", "p_town_1", "p_village_1"),
						(this_or_next|party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
						(this_or_next|party_slot_eq, ":party", 402, ":script_param_1"),
						(troop_slot_eq, ":script_param_1", slot_troop_home, ":party"),
						(val_add, reg0, 2),
						(party_slot_eq, ":party", slot_party_type, 3),
						(val_add, reg0, 2),
					(try_end),
					(ge, reg0, 4),
					(assign, ":value_4", 1),
				(try_end),
				(try_begin),
					(eq, ":value_4", 0),
					(troop_get_slot, reg11, ":script_param_1", slot_lord_reputation_type),
					(str_store_string, 46, "str_dplmc_reputation_unknown"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 1),
					(str_store_string, 46, "str_dplmc_reputation_martial"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 5),
					(str_store_string, 46, "str_dplmc_reputation_debauched"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 3),
					(str_store_string, 46, "str_dplmc_reputation_pitiless"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 4),
					(str_store_string, 46, "str_dplmc_reputation_calculating"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 2),
					(str_store_string, 46, "str_dplmc_reputation_quarrelsome"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 6),
					(str_store_string, 46, "str_dplmc_reputation_goodnatured"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 7),
					(str_store_string, 46, "str_dplmc_reputation_upstanding"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 21),
					(str_store_string, 46, "str_dplmc_reputation_conventional"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 22),
					(str_store_string, 46, "str_dplmc_reputation_adventurous"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 23),
					(str_store_string, 46, "str_dplmc_reputation_romantic"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 25),
					(str_store_string, 46, "str_dplmc_reputation_moralist"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_lord_reputation_type, 24),
					(str_store_string, 46, "str_dplmc_reputation_ambitious"),
				(else_try),
					(troop_get_slot, reg11, ":script_param_1", slot_lord_reputation_type),
					(str_store_string, 46, "str_dplmc_reputation_unknown"),
				(try_end),
				(str_clear, 39),
				(str_clear, 45),
				(try_begin),
					(troop_get_slot, ":script_param_1_spouse", ":script_param_1", slot_troop_spouse),
					(ge, ":script_param_1_spouse", 0),
					(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
					(neq, ":script_param_1_spouse", "trp_player"),
					(str_store_troop_name, 39, ":script_param_1_spouse"),
					(try_begin),
						(eq, ":script_param_1_spouse", "trp_player"),
						(str_store_string, 39, "str_you"),
					(try_end),
					(str_store_string, 45, "str_dplmc_s40_married_s39"),
				(try_end),
				(try_for_range, ":number", 35, 38),
					(troop_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
					(is_between, ":script_param_1_number", "trp_npc1", "trp_heroes_end"),
					(neq, ":script_param_1_number", "trp_knight_1_1_wife"),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, ":script_param_1_number"),
					(troop_slot_eq, ":script_param_1", slot_troop_spouse, -1),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_betrothed, ":script_param_1_number"),
					(troop_slot_eq, ":script_param_1", slot_troop_betrothed, -1),
					(str_store_troop_name, 39, ":script_param_1_number"),
					(try_begin),
						(eq, ":script_param_1_number", "trp_player"),
						(str_store_string, 39, "str_you"),
					(try_end),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_1_number"),
					(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 4),
					(str_store_string, 45, "str_dplmc_s40_love_interest_s39"),
					(try_begin),
						(troop_slot_eq, ":script_param_1", slot_troop_spouse, ":script_param_1_number"),
						(str_store_string, 45, "str_dplmc_s40_married_s39"),
					(else_try),
						(troop_slot_eq, ":script_param_1", slot_troop_betrothed, ":script_param_1_number"),
						(str_store_string, 45, "str_dplmc_s40_betrothed_s39"),
					(try_end),
				(try_end),
				(str_clear, 44),
				(try_begin),
					(neq, ":script_param_1", ":faction_of_troop_script_param_1_leader"),
					(gt, ":value_4", 0),
					(assign, reg0, 0),
					(try_begin),
						(neq, ":script_param_1", "trp_player"),
						(neq, ":faction_of_troop_script_param_1_leader", "trp_player"),
						(this_or_next|neg|is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
						(neg|is_between, ":faction_of_troop_script_param_1_leader", "trp_npc1", "trp_heroes_end"),
						(assign, reg0, 1),
					(try_end),
					(eq, reg0, 0),
					(try_begin),
						(gt, ":value", 0),
						(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", ":value"),
					(try_end),
					(this_or_next|lt, reg0, 1),
					(ge, ":value_2", 1),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":faction_of_troop_script_param_1_leader"),
					(assign, ":var_15", reg0),
					(this_or_next|lt, reg0, 0),
					(this_or_next|gt, reg0, 1),
					(this_or_next|neg|is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 6),
					(troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 7),
					(store_add, ":value_5", ":var_15", 100),
					(val_add, ":value_5", 5),
					(store_div, ":value_6", ":value_5", 10),
					(val_clamp, ":value_6", 0, 20),
					(call_script, "script_dplmc_store_troop_is_female_reg", ":script_param_1", 4),
					(store_add, ":value_7", "str_dplmc_relation_mnus_100_ns", ":value_6"),
					(try_begin),
						(eq, ":faction_of_troop_script_param_1_leader", "trp_player"),
						(str_store_string, 59, "str_you"),
					(else_try),
						(str_store_troop_name, 59, ":faction_of_troop_script_param_1_leader"),
					(try_end),
					(str_store_string, 59, ":value_7"),
					(str_store_string, 44, "@{!}^{s59}"),
				(try_end),
				(str_clear, 48),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(store_current_hours, ":current_hours"),
					(gt, ":current_hours", 0),
					(call_script, "script_calculate_troop_political_factors_for_liege", ":script_param_1", ":faction_of_troop_script_param_1_leader"),
					(str_store_string, 48, "str_sense_of_security_military_reg1_court_position_reg3_"),
				(try_end),
				(str_store_string, 47, "str_s46s45s44s48"),
			(try_end),
			(assign, reg1, ":var_2"),
			(assign, reg4, ":var_3")
		]),

	("dplmc_send_patrol",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_spawn_radius, 1),
			(spawn_around_party, ":script_param_1", "pt_patrol_party"),
			(assign, ":var_6", reg0),
			(party_set_faction, ":var_6", ":script_param_4"),
			(party_set_slot, ":var_6", slot_party_type, 7),
			(party_set_slot, ":var_6", slot_party_home_center, ":script_param_1"),
			(party_set_slot, ":var_6", 300, ":script_param_5"),
			(str_store_party_name, 5, ":script_param_2"),
			(party_set_name, ":var_6", "@{s5} patrol"),
			(party_set_ai_behavior, ":var_6", 1),
			(party_set_ai_object, ":var_6", ":script_param_2"),
			(party_set_slot, ":var_6", slot_party_ai_object, ":script_param_2"),
			(party_set_slot, ":var_6", slot_party_ai_state, 4),
			(try_begin),
				(eq, ":script_param_4", "fac_player_faction"),
				(party_get_slot, ":script_param_4", ":script_param_1", slot_center_original_faction),
				(try_begin),
					(is_between, "$g_player_culture", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(assign, ":script_param_4", "$g_player_culture"),
				(else_try),
					(party_get_slot, ":script_param_1_town_lord", ":script_param_1", slot_town_lord),
					(gt, ":script_param_1_town_lord", 0),
					(troop_get_slot, ":script_param_4", ":script_param_1_town_lord", slot_troop_original_faction),
				(try_end),
				(try_begin),
					(eq, ":script_param_3", 0),
					(call_script, "script_dplmc_withdraw_from_treasury", 1000),
				(else_try),
					(this_or_next|eq, ":script_param_3", 1),
					(eq, ":script_param_3", 3),
					(call_script, "script_dplmc_withdraw_from_treasury", 2000),
				(else_try),
					(eq, ":script_param_3", 2),
					(call_script, "script_dplmc_withdraw_from_treasury", 3000),
				(try_end),
			(try_end),
			(faction_get_slot, ":script_param_4_reinforcements_a", ":script_param_4", slot_faction_reinforcements_a),
			(faction_get_slot, ":script_param_4_reinforcements_b", ":script_param_4", slot_faction_reinforcements_b),
			(faction_get_slot, ":script_param_4_reinforcements_c", ":script_param_4", slot_faction_reinforcements_c),
			(faction_get_slot, ":script_param_4_106", ":script_param_4", 106),
			(faction_get_slot, ":script_param_4_107", ":script_param_4", 107),
			(faction_get_slot, ":script_param_4_108", ":script_param_4", 108),
			(try_begin),
				(eq, ":script_param_3", 3),
				(party_add_template, ":var_6", ":script_param_4_108"),
				(party_add_template, ":var_6", ":script_param_4_108"),
			(else_try),
				(val_add, ":script_param_3", 1),
				(val_mul, ":script_param_3", 2),
				(try_for_range, ":number", 0, ":script_param_3"),
					(store_random_in_range, ":random_in_range_0_3", 0, 3),
					(try_begin),
						(eq, ":random_in_range_0_3", 0),
						(party_add_template, ":var_6", ":script_param_4_reinforcements_a"),
					(else_try),
						(eq, ":random_in_range_0_3", 0),
						(party_add_template, ":var_6", ":script_param_4_reinforcements_b"),
					(else_try),
						(eq, ":random_in_range_0_3", 1),
						(party_add_template, ":var_6", ":script_param_4_reinforcements_c"),
					(else_try),
						(eq, ":random_in_range_0_3", 1),
						(party_add_template, ":var_6", ":script_param_4_106"),
					(else_try),
						(eq, ":random_in_range_0_3", 1),
						(party_add_template, ":var_6", ":script_param_4_107"),
					(else_try),
						(party_add_template, ":var_6", ":script_param_4_108"),
					(try_end),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(assign, reg0, ":number"),
						(str_store_faction_name, 7, ":script_param_4"),
						(display_message, "@{!}DEBUG - Added {reg0}.template of faction {s7} to patrol."),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$cheat_mode", 1),
				(str_store_party_name, 13, ":script_param_2"),
				(str_store_faction_name, 14, ":script_param_4"),
				(str_store_party_name, 15, ":script_param_1"),
				(display_message, "@{!}DEBUG - Send {s14} patrol from {s15} to {s13}"),
			(try_end),
			(assign, reg0, ":var_6")
		]),

	("dplmc_send_patrol_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(set_spawn_radius, 1),
			(spawn_around_party, ":script_param_1", "pt_patrol_party"),
			(assign, ":var_5", reg0),
			(party_set_faction, ":var_5", ":script_param_4"),
			(party_set_slot, ":var_5", slot_party_type, 7),
			(party_set_slot, ":var_5", slot_party_home_center, ":script_param_1"),
			(str_store_party_name, 5, ":script_param_2"),
			(party_set_name, ":var_5", "@{s5} patrol"),
			(party_set_ai_behavior, ":var_5", 1),
			(party_set_ai_object, ":var_5", ":script_param_2"),
			(party_set_slot, ":var_5", slot_party_ai_object, ":script_param_2"),
			(party_set_slot, ":var_5", slot_party_ai_state, 4),
			(call_script, "script_party_add_party", ":var_5", ":script_param_3")
		]),

	("dplmc_move_troops_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(set_spawn_radius, 1),
			(spawn_around_party, ":script_param_1", "pt_patrol_party"),
			(assign, ":var_5", reg0),
			(party_set_faction, ":var_5", ":script_param_4"),
			(party_set_slot, ":var_5", slot_party_type, 7),
			(party_set_slot, ":var_5", slot_party_home_center, ":script_param_1"),
			(str_store_party_name, 5, ":script_param_2"),
			(party_set_name, ":var_5", "@Transfer to {s5}"),
			(party_set_ai_behavior, ":var_5", 1),
			(party_set_ai_object, ":var_5", ":script_param_2"),
			(party_set_slot, ":var_5", slot_party_ai_object, ":script_param_2"),
			(party_set_slot, ":var_5", slot_party_ai_state, 14),
			(party_set_aggressiveness, ":var_5", 2),
			(party_set_courage, ":var_5", 3),
			(party_set_ai_initiative, ":var_5", 100),
			(call_script, "script_party_add_party", ":var_5", ":script_param_3")
		]),

	("dplmc_send_scout_party",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(set_spawn_radius, 1),
			(spawn_around_party, ":script_param_1", "pt_scout_party"),
			(assign, ":var_4", reg0),
			(party_set_faction, ":var_4", ":script_param_3"),
			(party_set_slot, ":var_4", slot_party_type, 10),
			(party_set_slot, ":var_4", slot_party_home_center, ":script_param_1"),
			(str_store_party_name, 5, ":script_param_2"),
			(party_set_name, ":var_4", "@{s5} scout"),
			(party_add_members, ":var_4", "trp_dplmc_scout", 1),
			(party_get_position, 1, ":script_param_2"),
			(map_get_random_position_around_position, 2, 1, 1),
			(party_set_ai_behavior, ":var_4", 6),
			(party_set_ai_target_position, ":var_4", 2),
			(party_set_slot, ":var_4", slot_party_ai_object, ":script_param_2"),
			(party_set_slot, ":var_4", 263, ":script_param_2"),
			(party_set_aggressiveness, ":var_4", 2),
			(party_set_courage, ":var_4", 3),
			(party_set_ai_initiative, ":var_4", 100)
		]),

	("dplmc_init_domestic_policy",
		[
			(try_for_range, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
				(try_begin),
					(store_random_in_range, ":random_in_range_-3_4", -3, 4),
					(faction_set_slot, ":faction", 201, ":random_in_range_-3_4"),
					(store_random_in_range, ":random_in_range_-3_4", -3, 4),
					(faction_set_slot, ":faction", 202, ":random_in_range_-3_4"),
					(store_random_in_range, ":random_in_range_-3_4", -3, 4),
					(faction_set_slot, ":faction", 204, ":random_in_range_-3_4"),
					(store_random_in_range, ":random_in_range_-3_4", -3, 4),
					(faction_set_slot, ":faction", 203, ":random_in_range_-3_4"),
				(try_end),
			(try_end)
		]),

	("dplmc_is_affiliated_family_member",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", 0),
			(assign, ":var_3", reg1),
			(try_begin),
				(is_between, "$g_player_affiliated_troop", "trp_knight_1_1", "trp_heroes_end"),
				(try_begin),
					(this_or_next|troop_slot_eq, ":script_param_1", 165, 3),
					(eq, "$g_player_affiliated_troop", ":script_param_1"),
					(assign, ":value", 1),
				(else_try),
					(is_between, ":script_param_1", "trp_knight_1_1", "trp_heroes_end"),
					(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", "$g_player_affiliated_troop"),
					(gt, reg0, 0),
					(call_script, "script_troop_get_relation_with_troop", "$g_player_affiliated_troop", ":script_param_1"),
					(ge, reg0, -10),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(assign, reg1, ":var_3"),
			(assign, reg0, ":value")
		]),

	("dplmc_affiliate_end",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, "$g_player_affiliated_troop", 0),
			(try_begin),
				(eq, ":script_param_1", 1),
				(assign, ":value", -16),
				(assign, ":value_2", 20),
				(assign, ":value_3", 10),
			(else_try),
				(assign, ":value", -12),
				(assign, ":value_3", 5),
				(assign, ":value_2", 15),
			(try_end),
			(try_for_range, ":troop", "trp_knight_1_1", "trp_heroes_end"),
				(call_script, "script_dplmc_is_affiliated_family_member", ":troop"),
				(gt, reg0, 0),
				(store_skill_level, ":skill_level_persuasion_player", "skl_persuasion", "trp_player"),
				(store_random_in_range, ":skill_level_persuasion_player", 0, ":skill_level_persuasion_player"),
				(val_add, ":skill_level_persuasion_player", ":value"),
				(val_min, ":skill_level_persuasion_player", 0),
				(call_script, "script_change_player_relation_with_troop", ":troop", ":skill_level_persuasion_player"),
			(try_end),
			(try_begin),
				(gt, "$player_honor", ":value_3"),
				(val_add, ":value_2", ":value_3"),
			(else_try),
				(val_add, ":value_2", "$player_honor"),
			(try_end),
			(store_current_hours, ":current_hours"),
			(store_sub, ":value_4", ":current_hours", "$g_player_affiliated_time"),
			(store_div, ":value_5", ":value_4", 24),
			(val_sub, ":value_2", ":value_5"),
			(val_max, ":value_2", 0),
			(val_min, ":value_2", 40),
			(troop_get_slot, ":player_days_on_mission", "trp_player", slot_troop_days_on_mission),
			(val_add, ":player_days_on_mission", ":value_2"),
			(val_min, ":player_days_on_mission", 100),
			(troop_set_slot, "trp_player", slot_troop_days_on_mission, ":player_days_on_mission")
		]),

	("dplmc_appoint_chamberlain",
		[
			(assign, "$g_player_chamberlain", "trp_dplmc_chamberlain")
		]),

	("dplmc_appoint_chancellor",
		[
			(assign, "$g_player_chancellor", "trp_dplmc_chancellor")
		]),

	("dplmc_appoint_constable",
		[
			(assign, "$g_player_constable", "trp_dplmc_constable")
		]),

	("dplmc_evaluate_fief_exchange",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, ":value", -1),
			(assign, reg0, ":value"),
			(str_store_string, 14, "str_error_string"),
			(try_begin),
				(neq, ":script_param_1", ":script_param_3"),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(this_or_next|is_between, ":script_param_3", "trp_npc1", "trp_heroes_end"),
				(eq, ":script_param_3", "trp_player"),
				(is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":script_param_2", slot_town_lord, ":script_param_1"),
				(is_between, ":script_param_4", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":script_param_4", slot_town_lord, ":script_param_3"),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(store_faction_of_troop, ":faction_of_troop_script_param_3", ":script_param_3"),
				(try_begin),
					(eq, ":script_param_3", "trp_player"),
					(neq, ":faction_of_troop_script_param_1", ":faction_of_troop_script_param_3"),
					(assign, ":faction_of_troop_script_param_3", "$players_kingdom"),
				(try_end),
				(this_or_next|eq, ":faction_of_troop_script_param_1", ":faction_of_troop_script_param_3"),
				(this_or_next|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_3"),
				(faction_slot_eq, ":faction_of_troop_script_param_3", slot_faction_leader, ":script_param_1"),
				(party_get_slot, ":script_param_2_town_prosperity", ":script_param_2", slot_town_prosperity),
				(party_get_slot, ":script_param_4_town_prosperity", ":script_param_4", slot_town_prosperity),
				(store_div, ":value_2", ":script_param_2_town_prosperity", 10),
				(val_mul, ":value_2", 10),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_3"),
				(store_div, ":value_3", reg0, 10),
				(val_sub, ":value_2", ":value_3"),
				(store_skill_level, ":skill_level_persuasion_script_param_3", "skl_persuasion", ":script_param_3"),
				(val_sub, ":value_2", ":skill_level_persuasion_script_param_3"),
				(store_skill_level, ":skill_level_trade_script_param_3", "skl_trade", ":script_param_3"),
				(val_sub, ":value_2", ":skill_level_trade_script_param_3"),
				(val_min, ":value_2", ":script_param_2_town_prosperity"),
				(assign, ":value_4", 0),
				(try_begin),
					(party_slot_eq, ":script_param_2", slot_party_type, 3),
					(assign, ":value_4", 3),
				(else_try),
					(party_slot_eq, ":script_param_2", slot_party_type, 2),
					(assign, ":value_4", 2),
				(else_try),
					(party_slot_eq, ":script_param_2", slot_party_type, 4),
					(assign, ":value_4", 1),
				(try_end),
				(ge, ":value_4", 1),
				(assign, ":value_5", 0),
				(try_begin),
					(party_slot_eq, ":script_param_4", slot_party_type, 3),
					(assign, ":value_5", 3),
				(else_try),
					(party_slot_eq, ":script_param_4", slot_party_type, 2),
					(assign, ":value_5", 2),
				(else_try),
					(party_slot_eq, ":script_param_4", slot_party_type, 4),
					(assign, ":value_5", 1),
				(try_end),
				(ge, ":value_5", 1),
				(try_begin),
					(lt, ":value_5", ":value_4"),
					(eq, ":value_4", 3),
					(str_store_string, 14, "str_dplmc_fief_exchange_refuse_town"),
				(else_try),
					(lt, ":value_5", ":value_4"),
					(str_store_string, 14, "str_dplmc_fief_exchange_refuse_castle"),
				(else_try),
					(this_or_next|party_slot_eq, ":script_param_4", slot_village_state, 5),
					(party_slot_eq, ":script_param_4", slot_village_state, 1),
					(str_store_party_name, 14, ":script_param_4"),
					(str_store_string, 14, "str_dplmc_fief_exchange_refuse_s14_attack"),
				(else_try),
					(lt, ":value_4", ":value_5"),
					(str_store_string, 14, "str_dplmc_fief_exchange_accept"),
					(assign, ":value", 0),
				(else_try),
					(this_or_next|party_slot_eq, ":script_param_2", 402, ":script_param_1"),
					(troop_slot_eq, ":script_param_1", slot_troop_home, ":script_param_2"),
					(neg|party_slot_eq, ":script_param_4", 402, ":script_param_1"),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_home, ":script_param_4"),
					(this_or_next|neg|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_town_with_contacts, ":script_param_4"),
					(str_store_party_name, 14, ":script_param_2"),
					(str_store_string, 14, "str_dplmc_fief_exchange_refuse_home"),
				(else_try),
					(lt, ":script_param_4_town_prosperity", ":value_2"),
					(str_store_string, 14, "str_dplmc_fief_exchange_refuse_rich"),
				(else_try),
					(store_sub, ":value", ":script_param_2_town_prosperity", ":script_param_4_town_prosperity"),
					(val_mul, ":value", ":value_4"),
					(val_mul, ":value", 36),
					(val_add, ":value", 2000),
					(val_max, ":value", 0),
					(try_begin),
						(ge, ":value", 1),
						(assign, reg3, ":value"),
						(str_store_string, 14, "str_dplmc_fief_exchange_accept_reg3_denars"),
					(else_try),
						(str_store_string, 14, "str_dplmc_fief_exchange_accept"),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("dplmc_time_sorted_heroes_for_center_aux",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_current_hours, ":current_hours"),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_number", ":script_param_1", ":number"),
				(troop_is_hero, ":party_stack_troop_id_script_param_1_number"),
				(troop_get_slot, ":party_stack_troop_id_script_param_1_number_last_talk_time", ":party_stack_troop_id_script_param_1_number", slot_troop_last_talk_time),
				(store_sub, ":value", ":current_hours", ":party_stack_troop_id_script_param_1_number_last_talk_time"),
				(this_or_next|ge, ":value", ":script_param_3"),
				(lt, ":script_param_3", 0),
				(this_or_next|lt, ":value", ":script_param_4"),
				(lt, ":script_param_4", 0),
				(party_add_members, ":script_param_2", ":party_stack_troop_id_script_param_1_number", 1),
			(try_end),
			(party_get_num_attached_parties, ":num_attached_parties_script_param_1", ":script_param_1"),
			(try_for_range, ":number_2", 0, ":num_attached_parties_script_param_1"),
				(party_get_attached_party_with_rank, ":attached_party_with_rank_script_param_1_number_2", ":script_param_1", ":number_2"),
				(gt, ":attached_party_with_rank_script_param_1_number_2", 0),
				(call_script, "script_dplmc_time_sorted_heroes_for_center_aux", ":attached_party_with_rank_script_param_1_number_2", ":script_param_2", ":script_param_3", ":script_param_4"),
			(try_end)
		]),

	("dplmc_time_sorted_heroes_for_center",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_clear, ":script_param_2"),
			(call_script, "script_dplmc_time_sorted_heroes_for_center_aux", ":script_param_1", ":script_param_2", 24, -1),
			(call_script, "script_dplmc_time_sorted_heroes_for_center_aux", ":script_param_1", ":script_param_2", 12, 24),
			(call_script, "script_dplmc_time_sorted_heroes_for_center_aux", ":script_param_1", ":script_param_2", -1, 12),
			(try_for_range, ":troop", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(neq, ":troop", "$supported_pretender"),
				(troop_slot_eq, ":troop", slot_troop_cur_center, ":script_param_1"),
				(party_add_members, ":script_param_2", ":troop", 1),
			(try_end)
		]),

	("dplmc_faction_leader_splits_gold",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":var_3", reg0),
			(assign, ":var_4", reg1),
			(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
			(faction_get_slot, reg0, ":script_param_1", 201),
			(val_clamp, reg0, -3, 4),
			(val_mul, reg0, -5),
			(try_begin),
				(troop_slot_ge, ":script_param_1_leader", 11, 20000),
				(val_add, reg0, 20),
			(else_try),
				(val_add, reg0, 50),
			(try_end),
			(val_add, reg0, 50),
			(store_mul, ":value", ":script_param_2", reg0),
			(val_div, ":value", 100),
			(val_sub, ":script_param_2", ":value"),
			(try_begin),
				(assign, ":var_7", 0),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":script_param_1", ":faction_of_troop_troop"),
					(troop_set_slot, ":troop", slot_troop_temp_slot, 0),
					(neg|faction_slot_eq, ":script_param_1", slot_faction_leader, ":troop"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(neg|troop_slot_ge, ":troop", 8, 0),
					(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
					(ge, ":troop_leaded_party", 0),
					(val_add, ":var_7", 1),
				(try_end),
				(try_begin),
					(eq, "$players_kingdom", ":script_param_1"),
					(neq, "trp_player", ":script_param_1_leader"),
					(neg|troop_slot_ge, "trp_player", 8, 0),
					(val_add, ":var_7", 1),
				(try_end),
				(gt, ":var_7", 0),
				(store_div, ":value_2", ":value", ":var_7"),
				(ge, ":value_2", 300),
				(val_div, ":value_2", 150),
				(val_mul, ":value_2", 150),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(ge, ":value", ":value_2"),
					(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
					(eq, ":script_param_1", ":faction_of_troop_troop"),
					(neg|faction_slot_eq, ":script_param_1", slot_faction_leader, ":troop"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(neg|troop_slot_ge, ":troop", 8, 0),
					(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
					(ge, ":troop_leaded_party", 0),
					(val_sub, ":value", ":value_2"),
					(call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", ":value_2", ":troop"),
				(try_end),
				(try_begin),
					(ge, ":value", ":value_2"),
					(eq, "$players_kingdom", ":script_param_1"),
					(neq, "trp_player", ":script_param_1_leader"),
					(neg|troop_slot_ge, "trp_player", 8, 0),
					(val_sub, ":value", ":value_2"),
					(troop_get_slot, reg0, "trp_player", slot_troop_temp_slot),
					(val_add, reg0, ":value_2"),
					(troop_set_slot, "trp_player", slot_troop_temp_slot, reg0),
				(try_end),
			(try_end),
			(store_div, ":value_3", ":value", 300),
			(val_max, ":value_3", 1),
			(try_for_range, ":unused", 0, ":value_3"),
				(ge, ":value", 300),
				(call_script, "script_cf_get_random_lord_except_king_with_faction", ":script_param_1"),
				(is_between, reg0, "trp_npc1", "trp_heroes_end"),
				(assign, ":var_14", reg0),
				(val_sub, ":value", 300),
				(troop_get_slot, reg0, ":var_14", slot_troop_temp_slot),
				(val_add, reg0, 300),
				(troop_set_slot, ":var_14", slot_troop_temp_slot, reg0),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(ge, ":value", ":value_2"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(eq, ":script_param_1", ":faction_of_troop_troop"),
				(neg|faction_slot_eq, ":script_param_1", slot_faction_leader, ":troop"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neg|troop_slot_ge, ":troop", 8, 0),
				(troop_get_slot, ":troop_leaded_party", ":troop", slot_troop_leaded_party),
				(ge, ":troop_leaded_party", 0),
				(troop_get_slot, reg0, ":troop", slot_troop_temp_slot),
				(neq, reg0, 0),
				(call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", reg0, ":troop"),
				(troop_set_slot, ":troop", slot_troop_temp_slot, 0),
			(try_end),
			(val_add, ":script_param_2", ":value"),
			(try_begin),
				(ge, "$cheat_mode", 1),
				(str_store_troop_name, 4, ":var_14"),
				(str_store_faction_name, 5, ":script_param_1"),
				(str_store_troop_name, 6, ":script_param_1_leader"),
				(display_message, "@{!}{s6} of the {s5} retains the remaining {reg0} denars (dplmc faction leader splits gold)"),
			(try_end),
			(call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", ":script_param_2", ":script_param_1_leader"),
			(assign, reg0, ":var_3"),
			(assign, reg1, ":var_4")
		]),

	("dplmc_lord_return_from_exile",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(is_between, ":script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":script_param_1", "trp_player"),
				(faction_get_slot, ":script_param_2_leader", ":script_param_2", slot_faction_leader),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(neg|is_between, ":faction_of_troop_script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(try_begin),
					(this_or_next|eq, ":script_param_2_leader", "trp_player"),
					(eq, ":script_param_2", "fac_player_supporters_faction"),
					(call_script, "script_change_troop_faction", ":script_param_1", ":script_param_2"),
					(troop_set_slot, ":script_param_1", slot_troop_occupation, 0),
					(str_store_troop_name, 4, ":script_param_1"),
					(str_store_faction_name, 5, ":script_param_2"),
					(str_store_troop_name, 6, ":script_param_2_leader"),
					(display_message, "@{s4} has returned from exile, seeking refuge with {s6} of {s5}."),
					(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
					(try_begin),
						(party_is_active, ":script_param_1_leaded_party"),
						(neq, ":script_param_1_leaded_party", "p_main_party"),
						(remove_party, ":script_param_1_leaded_party"),
						(troop_set_slot, ":script_param_1", slot_troop_leaded_party, -1),
					(try_end),
				(else_try),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2_leader"),
					(store_sub, ":value", 0, reg0),
					(val_max, ":value", 5),
					(call_script, "script_troop_change_relation_with_troop", ":script_param_1", ":script_param_2_leader", ":value"),
					(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
						(assign, ":value", 0),
						(try_begin),
							(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
							(eq, ":script_param_2", ":faction_of_troop_troop"),
							(assign, ":value", 1),
						(try_end),
						(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", ":troop"),
						(assign, ":var_9", reg0),
						(try_begin),
							(gt, ":var_9", 1),
							(store_div, ":value_2", reg0, 3),
							(val_add, ":value", ":value_2"),
						(try_end),
						(neq, ":value", 0),
						(call_script, "script_troop_change_relation_with_troop", ":script_param_2_leader", ":troop", ":value"),
						(try_begin),
							(eq, "$cheat_mode", 1),
							(str_store_troop_name, 17, ":troop"),
							(str_store_troop_name, 18, ":script_param_2_leader"),
							(assign, reg3, ":value"),
							(display_message, "str_trial_influences_s17s_relation_with_s18_by_reg3"),
						(try_end),
					(try_end),
					(call_script, "script_change_troop_faction", ":script_param_1", ":script_param_2"),
					(try_begin),
						(neq, ":script_param_2", "fac_player_supporters_faction"),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_occupation, 0),
						(troop_slot_eq, ":script_param_1", slot_troop_occupation, 11),
						(troop_set_slot, ":script_param_1", slot_troop_occupation, 2),
					(try_end),
					(str_store_troop_name, 4, ":script_param_1"),
					(str_store_faction_name, 5, ":script_param_2"),
					(str_store_troop_name, 6, ":script_param_2_leader"),
					(display_log_message, "@{s4} has been granted a pardon by {s6} of {s5} and has returned from exile."),
					(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
					(try_begin),
						(party_is_active, ":script_param_1_leaded_party"),
						(neq, ":script_param_1_leaded_party", "p_main_party"),
						(remove_party, ":script_param_1_leaded_party"),
						(troop_set_slot, ":script_param_1", slot_troop_leaded_party, -1),
					(try_end),
				(try_end),
			(else_try),
				(str_store_troop_name, 5, ":script_param_1"),
				(str_store_faction_name, 7, ":script_param_2"),
				(display_message, "@{!}DEBUG : failure in dplmc lord return from exile((s5}, {s7})"),
			(try_end)
		]),

	("dplmc_get_troop_morality_value",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, reg0, 0),
			(try_begin),
				(neg|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
			(else_try),
				(troop_slot_eq, ":script_param_1", slot_troop_morality_type, ":script_param_2"),
				(troop_get_slot, reg0, ":script_param_1", slot_troop_morality_value),
			(else_try),
				(troop_slot_eq, ":script_param_1", slot_troop_2ary_morality_type, ":script_param_2"),
				(troop_get_slot, reg0, ":script_param_1", slot_troop_2ary_morality_value),
			(try_end)
		]),

	("dplmc_print_subordinate_says_sir_madame_to_s0",
		[
			(assign, ":value", 1),
			(try_begin),
				(eq, "$sneaked_into_town", 1),
				(assign, ":value", 1),
			(else_try),
				(troop_get_slot, ":player_renown", "trp_player", slot_troop_renown),
				(troop_get_slot, ":player_spouse", "trp_player", slot_troop_spouse),
				(ge, ":player_spouse", 1),
				(try_for_range, ":faction", "fac_kingdom_1", "fac_kingdoms_end"),
					(this_or_next|faction_slot_eq, ":faction", slot_faction_leader, "trp_player"),
					(faction_slot_eq, ":faction", slot_faction_leader, ":player_spouse"),
					(val_max, ":value", 3),
				(try_end),
				(this_or_next|is_between, ":player_spouse", "trp_kingdom_1_lord", "trp_knight_1_1"),
				(this_or_next|is_between, ":player_spouse", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(ge, ":value", 3),
				(val_max, ":value", 3),
			(else_try),
				(ge, "$players_kingdom", 0),
				(this_or_next|faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
				(faction_slot_eq, "$players_kingdom", slot_faction_leader, ":player_spouse"),
				(this_or_next|faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
				(ge, ":player_spouse", 1),
				(faction_slot_eq, "$players_kingdom", slot_faction_state, 0),
				(try_begin),
					(ge, "$player_right_to_rule", 10),
					(store_sub, reg0, 150, "$player_right_to_rule"),
					(val_mul, reg0, 16),
					(ge, ":player_renown", reg0),
					(val_max, ":value", 3),
				(else_try),
					(try_begin),
						(faction_slot_eq, "$players_kingdom", slot_faction_num_castles, 0),
						(faction_slot_eq, "$players_kingdom", slot_faction_num_towns, 0),
						(call_script, "script_faction_recalculate_strength", "$players_kingdom"),
					(else_try),
						(this_or_next|neg|faction_slot_ge, "$players_kingdom", 81, 0),
						(neg|faction_slot_ge, "$players_kingdom", 82, 0),
						(call_script, "script_faction_recalculate_strength", "$players_kingdom"),
					(try_end),
					(faction_get_slot, ":players_kingdom_num_towns", "$players_kingdom", slot_faction_num_towns),
					(val_mul, ":players_kingdom_num_towns", 3),
					(faction_get_slot, reg0, "$players_kingdom", slot_faction_num_castles),
					(val_add, ":players_kingdom_num_towns", reg0),
					(val_add, ":players_kingdom_num_towns", reg0),
					(ge, ":players_kingdom_num_towns", 1),
					(val_max, ":value", 2),
					(store_sub, ":value_2", "p_castle_1", "p_town_1"),
					(val_mul, ":value_2", 3),
					(store_sub, reg0, "p_village_1", "p_castle_1"),
					(val_add, ":value_2", reg0),
					(val_add, ":value_2", reg0),
					(store_sub, ":value_3", "fac_kingdoms_end", "fac_kingdom_1"),
					(val_max, ":value_3", 1),
					(store_mul, ":value_4", ":value_2", 9),
					(store_mul, reg0, "$player_right_to_rule", 2),
					(val_add, reg0, 300),
					(val_mul, reg0, ":players_kingdom_num_towns"),
					(val_mul, reg0, ":value_3"),
					(val_mul, reg0, 4),
					(ge, reg0, ":value_4"),
					(val_max, ":value", 3),
				(try_end),
				(ge, ":value", 3),
			(else_try),
				(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(val_max, ":value", 1),
				(eq, "$player_has_homage", 1),
				(val_max, ":value", 2),
			(try_end),
			(try_begin),
				(ge, ":value", 3),
				(str_store_string, 0, "str_dplmc_your_highness"),
			(else_try),
				(eq, ":value", 2),
				(str_store_string, 0, "str_dplmc_my_lordlady"),
			(else_try),
				(str_store_string, 0, "str_dplmc_sirmadam"),
			(try_end),
			(try_begin),
				(lt, "$sneaked_into_town", 1),
				(is_between, "$g_talk_troop", "trp_npc1", "trp_kingdom_1_lord"),
				(ge, ":value", 1),
				(neg|troop_slot_eq, "$g_talk_troop", slot_troop_met, 0),
				(this_or_next|neg|troop_slot_eq, "$g_talk_troop", slot_troop_occupation, 0),
				(neg|troop_slot_eq, "$g_talk_troop", slot_troop_playerparty_history, 0),
				(neg|troop_slot_eq, "$g_talk_troop", slot_troop_playerparty_history, 8),
				(troop_get_slot, ":g_talk_troop_honorific", "$g_talk_troop", slot_troop_honorific),
				(ge, ":g_talk_troop_honorific", "str_npc1_honorific"),
				(str_store_string, 0, ":g_talk_troop_honorific"),
			(else_try),
				(eq, ":value", 1),
				(is_between, "$g_talk_troop", "trp_npc1", "trp_heroes_end"),
				(str_store_string, 0, "str_dplmc_sirmadame"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("dplmc_print_commoner_at_arg1_says_sir_madame_to_s0",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 1),
			(str_store_string, 0, "str_dplmc_sirmadam"),
			(store_faction_of_party, ":faction_of_party"),
			(try_begin),
				(neq, "$sneaked_into_town", 1),
				(ge, ":script_param_1", 0),
				(assign, ":var_4", "$g_talk_troop"),
				(assign, ":var_5", "$g_encountered_party"),
				(try_begin),
					(neq, ":script_param_1", "$g_encountered_party"),
					(assign, "$g_encountered_party", -1),
					(assign, "$g_talk_troop", -1),
				(try_end),
				(call_script, "script_dplmc_print_subordinate_says_sir_madame_to_s0"),
				(assign, ":value", reg0),
				(assign, "$g_encountered_party", ":var_5"),
				(assign, "$g_talk_troop", ":var_4"),
				(try_begin),
					(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", ":faction_of_party"),
					(ge, reg0, 20),
				(else_try),
					(this_or_next|eq, ":script_param_1", "p_main_party"),
					(this_or_next|eq, ":faction_of_party", "fac_player_supporters_faction"),
					(faction_slot_ge, ":faction_of_party", 32, 1),
				(else_try),
					(is_between, ":script_param_1", "p_town_1", "p_salt_mine"),
					(party_slot_eq, ":script_param_1", slot_town_lord, "trp_player"),
				(else_try),
					(store_relation, ":relation_player_supporters_faction_faction_of_party", "fac_player_supporters_faction", ":faction_of_party"),
					(ge, ":relation_player_supporters_faction_faction_of_party", 0),
					(try_begin),
						(ge, ":value", 3),
						(assign, ":value", 2),
						(str_store_string, 0, "str_dplmc_my_lordlady"),
					(try_end),
				(else_try),
					(try_begin),
						(ge, ":value", 3),
						(assign, ":value", 2),
						(str_store_string, 0, "str_dplmc_my_lordlady"),
					(else_try),
						(eq, ":value", 2),
						(assign, ":value", 1),
						(str_store_string, 0, "str_dplmc_sirmadam"),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":script_param_1", "$g_encountered_party"),
			(else_try),
				(lt, "$sneaked_into_town", 1),
				(ge, ":value", 1),
				(is_between, "$g_talk_troop", "trp_npc1", "trp_kingdom_1_lord"),
				(neg|troop_slot_eq, "$g_talk_troop", slot_troop_met, 0),
				(this_or_next|neg|troop_slot_eq, "$g_talk_troop", slot_troop_occupation, 0),
				(neg|troop_slot_eq, "$g_talk_troop", slot_troop_playerparty_history, 0),
				(neg|troop_slot_eq, "$g_talk_troop", slot_troop_playerparty_history, 8),
				(troop_get_slot, ":g_talk_troop_honorific", "$g_talk_troop", slot_troop_honorific),
				(ge, ":g_talk_troop_honorific", "str_npc1_honorific"),
				(str_store_string, 0, ":g_talk_troop_honorific"),
			(else_try),
				(eq, ":value", 1),
				(is_between, "$g_talk_troop", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", "str_dplmc_sirmadame"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("cf_dplmc_troop_is_female",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(ge, ":script_param_1", 0),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_heroes_including_player_begin"),
				(assign, ":script_param_1", "trp_player"),
			(try_end),
			(troop_get_type, ":value", ":script_param_1"),
			(eq, ":value", 1)
		]),

	("dplmc_store_troop_is_female",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_heroes_including_player_begin"),
				(assign, ":script_param_1", "trp_player"),
			(try_end),
			(troop_get_type, reg0, ":script_param_1"),
			(try_begin),
				(neq, reg0, 0),
				(neq, reg0, 1),
				(assign, reg0, 0),
			(try_end)
		]),

	("dplmc_store_troop_is_female_reg",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_get_type, ":type_script_param_1", ":script_param_1"),
			(try_begin),
				(neq, ":type_script_param_1", 0),
				(neq, ":type_script_param_1", 1),
				(assign, ":type_script_param_1", 0),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 4),
				(assign, reg4, ":type_script_param_1"),
			(else_try),
				(eq, ":script_param_2", 3),
				(assign, reg3, ":type_script_param_1"),
			(else_try),
				(eq, ":script_param_2", 2),
				(assign, reg2, ":type_script_param_1"),
			(else_try),
				(eq, ":script_param_2", 1),
				(assign, reg1, ":type_script_param_1"),
			(else_try),
				(eq, ":script_param_2", 0),
				(assign, reg0, ":type_script_param_1"),
			(else_try),
				(eq, ":script_param_2", 65),
				(assign, reg65, ":type_script_param_1"),
			(else_try),
				(assign, reg4, ":script_param_2"),
				(display_message, "@{!} ERROR: called script dplmc-store-troop-is-female-reg with bad argument {reg4}"),
				(assign, reg4, ":type_script_param_1"),
			(try_end)
		]),

	("dplmc_store_is_female_troop_1_troop_2",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_get_type, ":type_script_param_1", ":script_param_1"),
			(troop_get_type, ":type_script_param_2", ":script_param_2"),
			(try_begin),
				(neq, ":type_script_param_1", 0),
				(neq, ":type_script_param_1", 1),
				(assign, ":type_script_param_1", 0),
			(try_end),
			(try_begin),
				(neq, ":type_script_param_2", 0),
				(neq, ":type_script_param_2", 1),
				(assign, ":type_script_param_2", 0),
			(try_end),
			(assign, reg0, ":type_script_param_1"),
			(assign, reg1, ":type_script_param_2")
		]),

	("cf_dplmc_evaluate_pretender_proposal",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", -1),
			(assign, ":var_3", reg1),
			(assign, ":var_4", reg65),
			(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
			(assign, reg65, reg0),
			(str_store_string, 14, "str_error_string"),
			(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
			(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
			(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
			(is_between, ":faction_of_troop_script_param_1", "fac_kingdom_1", "fac_kingdoms_end"),
			(troop_slot_eq, ":script_param_1", slot_troop_original_faction, ":faction_of_troop_script_param_1"),
			(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
			(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_state, 0),
			(troop_slot_eq, ":script_param_1", slot_troop_spouse, -1),
			(troop_slot_eq, ":script_param_1", slot_troop_betrothed, -1),
			(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
			(val_max, ":script_param_1_renown", 1),
			(eq, "$players_kingdom", ":faction_of_troop_script_param_1"),
			(eq, "$player_has_homage", 1),
			(troop_slot_eq, "trp_player", slot_troop_spouse, -1),
			(troop_slot_eq, "trp_player", slot_troop_betrothed, -1),
			(troop_get_slot, ":player_renown", "trp_player", slot_troop_renown),
			(call_script, "script_troop_get_player_relation", ":script_param_1"),
			(assign, ":var_8", reg0),
			(assign, ":value_2", -1),
			(assign, ":value_3", -101),
			(assign, ":value_4", -1),
			(assign, ":value_5", -1),
			(store_add, ":value_6", ":script_param_1_renown", ":player_renown"),
			(assign, ":var_14", 2),
			(troop_set_slot, ":script_param_1", slot_troop_temp_slot, 0),
			(troop_set_slot, "trp_player", slot_troop_temp_slot, 0),
			(try_for_range_backwards, ":var_15", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":var_15", slot_troop_occupation, 2),
				(store_faction_of_troop, ":faction_of_troop_var_15", ":var_15"),
				(eq, ":faction_of_troop_var_15", ":faction_of_troop_script_param_1"),
				(troop_set_slot, ":var_15", slot_troop_temp_slot, 0),
				(neq, ":var_15", "trp_kingdom_heroes_including_player_begin"),
				(neq, ":var_15", ":script_param_1"),
				(call_script, "script_troop_get_relation_with_troop", ":var_15", ":script_param_1"),
				(assign, ":var_17", reg0),
				(troop_get_slot, ":var_15_renown", ":var_15", slot_troop_renown),
				(val_add, ":value_6", ":var_15_renown"),
				(val_add, ":var_14", 1),
				(try_begin),
					(ge, ":var_17", ":value_3"),
					(neg|troop_slot_eq, ":var_15", slot_troop_spouse, "trp_player"),
					(neg|troop_slot_eq, "trp_player", slot_troop_spouse, ":var_15"),
					(assign, ":value_2", ":var_15"),
					(assign, ":value_3", ":var_17"),
				(try_end),
				(try_begin),
					(ge, ":var_15_renown", ":value_5"),
					(assign, ":value_4", ":var_15"),
					(assign, ":value_5", ":var_15_renown"),
				(try_end),
			(try_end),
			(assign, ":var_19", 0),
			(assign, ":var_20", 0),
			(assign, ":var_21", 0),
			(assign, ":var_22", 0),
			(assign, ":var_23", 0),
			(assign, ":var_24", 0),
			(assign, ":var_25", 0),
			(assign, ":var_26", 0),
			(assign, ":var_27", 0),
			(assign, ":var_28", 0),
			(assign, ":var_29", 0),
			(assign, ":var_30", 0),
			(assign, ":value_7", -1),
			(assign, ":value_8", -1),
			(try_for_range, ":party", "p_town_1", "p_castle_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(try_begin),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(val_add, ":var_19", 1),
					(val_add, ":var_25", 1),
				(else_try),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(val_add, ":var_22", 1),
					(val_add, ":var_25", 1),
				(else_try),
					(this_or_next|eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
					(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
					(val_add, ":var_25", 1),
					(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
					(this_or_next|eq, ":party_town_lord", "trp_player"),
					(is_between, ":party_town_lord", "trp_npc1", "trp_heroes_end"),
					(troop_get_slot, ":party_town_lord_temp_slot", ":party_town_lord", slot_troop_temp_slot),
					(val_add, ":party_town_lord_temp_slot", 3),
					(troop_set_slot, ":party_town_lord", slot_troop_temp_slot, ":party_town_lord_temp_slot"),
					(ge, ":party_town_lord_temp_slot", ":value_7"),
					(assign, ":value_7", ":party_town_lord_temp_slot"),
					(assign, ":value_8", ":party_town_lord"),
				(try_end),
				(try_begin),
					(party_slot_eq, ":party", slot_center_original_faction, ":faction_of_troop_script_param_1"),
					(val_add, ":var_28", 1),
				(try_end),
			(try_end),
			(try_for_range, ":party", "p_castle_1", "p_village_1"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(try_begin),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(val_add, ":var_20", 1),
					(val_add, ":var_26", 1),
				(else_try),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(val_add, ":var_23", 1),
					(val_add, ":var_26", 1),
				(else_try),
					(this_or_next|eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
					(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
					(val_add, ":var_26", 1),
					(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
					(this_or_next|eq, ":party_town_lord", "trp_player"),
					(is_between, ":party_town_lord", "trp_npc1", "trp_heroes_end"),
					(troop_get_slot, ":party_town_lord_temp_slot", ":party_town_lord", slot_troop_temp_slot),
					(val_add, ":party_town_lord_temp_slot", 2),
					(troop_set_slot, ":party_town_lord", slot_troop_temp_slot, ":party_town_lord_temp_slot"),
					(ge, ":party_town_lord_temp_slot", ":value_7"),
					(assign, ":value_7", ":party_town_lord_temp_slot"),
					(assign, ":value_8", ":party_town_lord"),
				(try_end),
				(try_begin),
					(party_slot_eq, ":party", slot_center_original_faction, ":faction_of_troop_script_param_1"),
					(val_add, ":var_29", 1),
				(try_end),
			(try_end),
			(try_for_range, ":party", "p_village_1", "p_salt_mine"),
				(store_faction_of_party, ":faction_of_party_party", ":party"),
				(try_begin),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(val_add, ":var_21", 1),
					(val_add, ":var_27", 1),
				(else_try),
					(party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(val_add, ":var_24", 1),
					(val_add, ":var_27", 1),
				(else_try),
					(this_or_next|eq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
					(eq, ":faction_of_party_party", "fac_player_supporters_faction"),
					(val_add, ":var_27", 1),
					(party_get_slot, ":party_town_lord", ":party", slot_town_lord),
					(this_or_next|eq, ":party_town_lord", "trp_player"),
					(is_between, ":party_town_lord", "trp_npc1", "trp_heroes_end"),
					(troop_get_slot, ":party_town_lord_temp_slot", ":party_town_lord", slot_troop_temp_slot),
					(val_add, ":party_town_lord_temp_slot", 1),
					(troop_set_slot, ":party_town_lord", slot_troop_temp_slot, ":party_town_lord_temp_slot"),
					(ge, ":party_town_lord_temp_slot", ":value_7"),
					(assign, ":value_7", ":party_town_lord_temp_slot"),
					(assign, ":value_8", ":party_town_lord"),
				(try_end),
				(try_begin),
					(party_slot_eq, ":party", slot_center_original_faction, ":faction_of_troop_script_param_1"),
					(val_add, ":var_30", 1),
				(try_end),
			(try_end),
			(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_num_castles, ":var_26"),
			(faction_set_slot, ":faction_of_troop_script_param_1", slot_faction_num_towns, ":var_25"),
			(store_mul, ":value_9", ":var_25", 4),
			(val_add, ":value_9", ":var_26"),
			(val_add, ":value_9", ":var_26"),
			(val_add, ":value_9", ":var_27"),
			(store_sub, ":value_10", ":value_9", ":var_25"),
			(store_mul, ":value_11", ":var_28", 4),
			(val_add, ":value_11", ":var_29"),
			(val_add, ":value_11", ":var_29"),
			(val_add, ":value_11", ":var_30"),
			(store_sub, ":value_12", ":value_10", ":var_25"),
			(try_begin),
				(lt, ":var_8", 0),
				(assign, ":value", -1),
				(str_store_string, 14, "@Given the way things stand between us at the moment, {playername}, I would not consider it prudent to enter into such an arrangement."),
			(else_try),
				(store_add, ":value_13", "$player_right_to_rule", ":var_8"),
				(this_or_next|lt, "$player_right_to_rule", 20),
				(lt, ":value_13", 100),
				(assign, ":value", -1),
				(str_store_string, 14, "@{playername}, I am grateful to you, but in the eyes of the people you do not have sufficient legitimacy as a potential co-ruler.  Marrying you would undermine my own claim to the throne."),
			(else_try),
				(store_mul, ":value_14", ":script_param_1_renown", 2),
				(val_div, ":value_14", 3),
				(val_clamp, ":value_14", 500, 1200),
				(lt, ":player_renown", ":value_14"),
				(assign, ":value", -1),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg0, ":player_renown"),
					(assign, reg1, ":value_14"),
					(display_message, "@{!}DEBUG - player renown {reg0}, required renown {reg1}"),
				(try_end),
				(str_store_string, 14, "@{playername}, I know that if it were not for you I would not sit on this throne, but your name is little renowned in Calradia.  Marrying you would be perceived as an uneven match and would call into question my own claim to the throne."),
			(else_try),
				(store_mul, ":value_13", ":var_22", 3),
				(val_add, ":value_13", ":var_23"),
				(val_add, ":value_13", ":var_23"),
				(val_add, ":value_13", ":var_24"),
				(assign, ":value_14", 6),
				(try_begin),
					(lt, ":value_12", 18),
					(lt, ":value_10", 18),
					(assign, reg0, ":value_12"),
					(val_max, reg0, ":value_10"),
					(store_div, ":value_14", reg0, 3),
				(try_end),
				(troop_get_slot, ":script_param_1_temp_slot", ":script_param_1", slot_troop_temp_slot),
				(val_mul, ":script_param_1_temp_slot", 2),
				(val_add, ":script_param_1_temp_slot", 1),
				(val_div, ":script_param_1_temp_slot", 3),
				(val_max, ":value_14", ":script_param_1_temp_slot"),
				(lt, ":value_13", ":value_14"),
				(assign, ":value", -1),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg0, ":value_13"),
					(assign, reg1, ":value_14"),
					(display_message, "@{!}DEBUG - player score {reg0} out of a required {reg1}"),
				(try_end),
				(str_store_string, 14, "@{playername}, I am grateful for your assistance in regaining my rightful throne, but you do not have sufficient personal holdings to be a suitable match for me.  It would be an uneven partnership."),
			(else_try),
				(lt, ":player_renown", ":value_5"),
				(assign, ":value", -1),
				(str_store_troop_name, 14, ":value_4"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg0, ":player_renown"),
					(assign, reg1, ":value_5"),
					(display_message, "@{!}DEBUG - player score {reg0}, competitor score {reg1}"),
				(try_end),
				(str_store_string_reg, 0, 15),
				(call_script, "script_troop_describes_troop_to_s15", ":script_param_1", ":value_4"),
				(str_store_string, 14, "@{playername}, I am grateful to you, but if I were to accept at this time I would risk offending powerful lords such as {s15}, who may consider themselves to have honor equal to or greater than your own."),
				(str_store_string_reg, 15, 0),
			(else_try),
				(gt, ":value_8", "trp_player"),
				(neq, ":value_8", ":script_param_1"),
				(store_mul, ":value_13", ":var_22", 3),
				(val_add, ":value_13", ":var_23"),
				(val_add, ":value_13", ":var_23"),
				(val_add, ":value_13", ":var_24"),
				(lt, ":value_13", ":value_7"),
				(store_mul, reg0, ":value_7", 3),
				(val_add, reg0, 2),
				(val_div, reg0, 4),
				(gt, reg0, ":value_13"),
				(assign, ":value", -1),
				(str_store_troop_name, 14, ":value_8"),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg0, ":value_13"),
					(assign, reg1, ":value_7"),
					(display_message, "@{!}DEBUG - player score {reg0}, competitor score {reg1}"),
				(try_end),
				(str_store_string_reg, 0, 15),
				(call_script, "script_troop_describes_troop_to_s15", ":script_param_1", ":value_8"),
				(str_store_string, 14, "@{playername}, I am grateful to you, but if I were to accept at this time I would risk offending great lords such as {s15}, who may consider themselves to have honor equal to or greater than your own."),
				(str_store_string_reg, 15, 0),
			(else_try),
				(lt, ":var_8", ":value_3"),
				(ge, ":value_3", 5),
				(assign, ":value", -1),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg0, ":var_8"),
					(assign, reg1, ":value_3"),
					(display_message, "@{!}DEBUG - player relation {reg0}, rival relation {reg1}"),
				(try_end),
				(str_store_string_reg, 0, 15),
				(call_script, "script_troop_describes_troop_to_s15", ":script_param_1", ":value_2"),
				(str_store_string, 14, "@{playername}, while I am grateful to you, I must confess I am fond of {s15}."),
				(str_store_string_reg, 15, 0),
			(else_try),
				(assign, ":var_44", 1),
				(try_for_range, ":troop", "trp_knight_1_1", "trp_kingdom_1_pretender"),
					(troop_slot_eq, ":troop", slot_troop_original_faction, ":faction_of_troop_script_param_1"),
					(val_add, ":var_44", 1),
				(try_end),
				(val_mul, ":var_44", 3),
				(val_div, ":var_44", 4),
				(lt, ":var_14", ":var_44"),
				(assign, ":value", -1),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg0, ":var_14"),
					(assign, reg1, ":var_44"),
					(display_message, "@{!}DEBUG - lords in faction {reg0}, required lords {reg1}"),
				(try_end),
				(str_store_string, 14, "@Our realm has too few vassals.  In the current precarious state of the affairs I must use the lure of a potential political alliance to attract new vassals, and cannot yet be seen to commit to any single {reg65?suitor:candidate}."),
			(else_try),
				(store_mul, ":value_15", ":var_19", 3),
				(val_add, ":value_15", ":var_20"),
				(val_add, ":value_15", ":var_20"),
				(val_add, ":value_15", ":var_21"),
				(troop_set_slot, ":script_param_1", slot_troop_temp_slot, ":value_15"),
				(store_mul, reg0, ":value_7", 3),
				(val_add, reg0, 2),
				(val_div, reg0, 4),
				(gt, reg0, ":value_15"),
				(assign, ":value", -1),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg1, reg0),
					(assign, reg0, ":value_15"),
					(display_message, "@{!}DEBUG - liege has {reg0} center points, needs at least {reg1}"),
				(try_end),
				(str_store_string_reg, 0, 15),
				(call_script, "script_troop_describes_troop_to_s15", ":script_param_1", ":value_8"),
				(str_store_string, 14, "@Because I have insufficient personal holdings compared to {s15}, if I entered into such an arrangement I would risk appearing to be a puppet, throwing the stability of the realm into jeopardy."),
				(str_store_string_reg, 15, 0),
			(else_try),
				(store_mul, ":value_16", ":var_25", 3),
				(val_add, ":value_16", ":var_26"),
				(val_add, ":value_16", ":var_26"),
				(val_add, ":value_16", ":var_27"),
				(val_div, ":value_16", ":var_14"),
				(gt, ":value_16", ":value_15"),
				(assign, ":value", -1),
				(try_begin),
					(ge, "$cheat_mode", 1),
					(assign, reg0, ":value_15"),
					(assign, reg1, ":value_16"),
					(display_message, "@{!}DEBUG - liege has {reg0} center points, needs at least {reg1}"),
				(try_end),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@Because my personal holdings are insufficiently large compared to other lords of the {s14}, if I entered into such an arrangement I would risk appearing to be a puppet, throwing the stability of the realm into jeopardy."),
			(else_try),
				(assign, ":var_48", 0),
				(assign, ":var_49", 0),
				(assign, ":var_50", 0),
				(assign, ":var_51", 0),
				(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
					(troop_slot_eq, ":troop", slot_troop_occupation, 2),
					(store_faction_of_troop, reg0, ":troop"),
					(eq, reg0, ":faction_of_troop_script_param_1"),
					(call_script, "script_troop_get_player_relation", ":troop"),
					(try_begin),
						(lt, reg0, 0),
						(val_add, ":var_48", 1),
						(lt, reg0, -19),
						(val_add, ":var_49", 1),
					(else_try),
						(gt, reg0, 0),
						(val_add, ":var_50", 1),
						(gt, reg0, 19),
						(val_add, ":var_51", 1),
					(try_end),
				(try_end),
				(val_mul, ":var_49", 2),
				(val_mul, ":var_48", 2),
				(this_or_next|gt, ":var_49", ":var_51"),
				(gt, ":var_48", ":var_50"),
				(assign, ":value", -1),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@I am grateful to you, {playername}, but you have too many enemies among the lords of the {s14} for your proposal to be politically viable.  If I were to accept, there might be a revolt."),
			(else_try),
				(troop_get_slot, ":player_days_on_mission", "trp_player", slot_troop_days_on_mission),
				(ge, ":player_days_on_mission", 1),
				(val_mul, ":player_days_on_mission", 2),
				(this_or_next|ge, ":player_days_on_mission", 50),
				(ge, ":player_days_on_mission", ":var_8"),
				(assign, ":value", -1),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@You have engendered too much controversy recently, {playername} .  If I were to accept at this time, there might be a revolt among the lords of the {s14}.  Let us speak of this later when the furor has died down."),
			(else_try),
				(neg|faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, "trp_player"),
				(assign, ":value", -2),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@If you desire to lead the {s14} alongside me, gather support among my vassals to become marshall, and demonstrate to them your abilities as a war leader."),
			(else_try),
				(store_mul, ":value_17", ":value_11", 4),
				(val_div, ":value_17", 5),
				(store_mul, ":value_18", ":value_12", 4),
				(val_div, ":value_18", 5),
				(lt, ":value_9", ":value_17"),
				(lt, ":value_10", ":value_18"),
				(assign, ":value", -3),
				(call_script, "script_dplmc_print_centers_in_numbers_to_s0", ":var_28", ":var_29", ":var_30"),
				(str_store_string_reg, 1, 0),
				(call_script, "script_dplmc_print_centers_in_numbers_to_s0", ":var_25", ":var_26", ":var_27"),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@Our realm has lost too much territory.  We once held {s1} but now only hold {s0}.  In the current precarious state of affairs I must retain the possibility of a political alliance to use as a bargaining chip with the other sovereigns, so I yet be seen to commit to any single {reg65?suitor:candidate}.  Restore the {s14} to its former glory, and I will gladly have you rule beside me as my {husband/wife}."),
			(else_try),
				(str_clear, 0),
				(str_clear, 1),
				(assign, ":var_55", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(party_slot_eq, ":party", slot_center_original_faction, ":faction_of_troop_script_param_1"),
					(store_faction_of_party, ":faction_of_party_party", ":party"),
					(neq, ":faction_of_party_party", ":faction_of_troop_script_param_1"),
					(neq, ":faction_of_party_party", "fac_player_supporters_faction"),
					(try_begin),
						(eq, ":var_55", 0),
						(str_store_party_name, 0, ":party"),
					(else_try),
						(eq, ":var_55", 1),
						(str_store_party_name, 1, ":party"),
					(else_try),
						(str_store_string, 0, "str_dplmc_s0_comma_s1"),
						(str_store_party_name, 1, ":party"),
					(try_end),
					(val_add, ":var_55", 1),
				(try_end),
				(try_begin),
					(ge, ":var_55", 2),
					(str_store_string, 0, "str_dplmc_s0_and_s1"),
				(try_end),
				(ge, ":var_55", 1),
				(store_sub, reg0, ":var_55", 1),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@{s0} {reg0?have:has} been lost to foreign hands.  Restore the {s14} to its rightful boundaries, and I will gladly have you rule beside me as my {husband/wife}."),
				(assign, ":value", -3),
			(else_try),
				(lt, "$g_player_days_as_marshal", 14),
				(assign, reg0, "$g_player_days_as_marshal"),
				(store_sub, reg1, reg0, 1),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@You have only been marshall for {reg0} {reg1?days:day}.  Let us speak of this after you have held the post for at least two weeks."),
				(assign, ":value", -4),
			(else_try),
				(assign, ":value", 1),
				(str_store_faction_name, 14, ":faction_of_troop_script_param_1"),
				(str_store_string, 14, "@If not for you I would not sit on this throne, {playername}.  When we started our long walk, few people had the courage to support me.  And fewer still would be willing to put their lives at risk for my cause.  But you didn't hesitate for a moment in throwing yourself at my enemies. We have gone through a lot together, and with God's help, we prevailed.  I will gladly accept you as both my {husband/wife} and co-ruler of the {s14}."),
			(try_end),
			(assign, reg65, ":var_4"),
			(assign, reg1, ":var_3"),
			(assign, reg0, ":value")
		]),

	("dplmc_center_point_calc",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(val_clamp, ":script_param_4", 2, 5),
			(assign, ":var_5", 0),
			(assign, ":var_6", 0),
			(assign, ":var_7", 0),
			(assign, ":value", 0),
			(assign, ":var_9", 0),
			(assign, ":value_2", ":script_param_1"),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "$players_kingdom"),
				(eq, ":script_param_1", "fac_player_supporters_faction"),
				(val_add, ":var_9", 1),
				(troop_get_slot, ":value", "trp_player", slot_troop_renown),
				(assign, ":value_2", "fac_player_supporters_faction"),
				(eq, ":script_param_1", "fac_player_supporters_faction"),
				(assign, ":value_2", "$players_kingdom"),
			(try_end),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 2),
				(neq, ":troop", "trp_kingdom_heroes_including_player_begin"),
				(store_faction_of_troop, ":faction_of_troop_troop", ":troop"),
				(this_or_next|eq, ":faction_of_troop_troop", ":script_param_1"),
				(eq, ":faction_of_troop_troop", ":value_2"),
				(val_add, ":var_9", 1),
				(troop_get_slot, ":troop_renown", ":troop", slot_troop_renown),
				(val_max, ":troop_renown", 0),
				(val_add, ":value", ":troop_renown"),
			(try_end),
			(try_for_parties, ":var_14"),
				(assign, ":value_3", 0),
				(try_begin),
					(this_or_next|is_between, ":var_14", "p_town_1", "p_castle_1"),
					(party_slot_eq, ":var_14", slot_party_type, 3),
					(assign, ":value_3", ":script_param_4"),
				(else_try),
					(this_or_next|is_between, ":var_14", "p_castle_1", "p_village_1"),
					(party_slot_eq, ":var_14", slot_party_type, 2),
					(assign, ":value_3", 2),
				(else_try),
					(this_or_next|is_between, ":var_14", "p_village_1", "p_salt_mine"),
					(party_slot_eq, ":var_14", slot_party_type, 4),
				(try_end),
				(ge, ":value_3", 1),
				(try_begin),
					(party_slot_eq, ":var_14", slot_town_lord, ":script_param_2"),
					(val_add, ":var_6", ":value_3"),
				(try_end),
				(try_begin),
					(party_slot_eq, ":var_14", slot_town_lord, ":script_param_3"),
					(val_add, ":var_7", ":value_3"),
				(try_end),
				(store_faction_of_party, ":faction_of_troop_troop", ":var_14"),
				(this_or_next|eq, ":faction_of_troop_troop", ":script_param_1"),
				(eq, ":faction_of_troop_troop", ":value_2"),
				(val_add, ":var_5", ":value_3"),
			(try_end),
			(assign, reg0, 0),
			(try_begin),
				(neq, ":var_5", 0),
				(store_div, reg0, ":value", ":var_5"),
			(try_end),
			(assign, reg1, ":var_6"),
			(assign, reg2, ":var_7"),
			(assign, reg3, 0),
			(try_begin),
				(neq, ":var_9", 0),
				(store_div, reg0, ":value", ":var_9"),
			(try_end)
		]),

	("dplmc_good_produced_at_center_or_its_villages",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(assign, ":var_4", reg1),
			(assign, ":var_5", reg2),
			(store_current_hours, ":current_hours"),
			(store_sub, ":value_2", ":current_hours", 72),
			(try_begin),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(ge, ":script_param_2", 1),
				(this_or_next|is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(party_is_active, ":script_param_2"),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 3),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 2),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 4),
				(is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(call_script, "script_center_get_production", ":script_param_1", ":script_param_2"),
				(try_begin),
					(ge, reg0, 1),
					(assign, ":value", 1),
				(else_try),
					(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 3),
					(party_slot_eq, ":script_param_2", slot_party_type, 2),
					(try_for_range, ":party", "p_village_1", "p_salt_mine"),
						(eq, ":value", 0),
						(this_or_next|party_slot_eq, ":party", slot_village_market_town, ":script_param_2"),
						(party_slot_eq, ":party", slot_village_bound_center, ":script_param_2"),
						(assign, reg0, 0),
						(try_begin),
							(party_slot_ge, ":party", 408, ":value_2"),
							(assign, reg0, 1),
						(else_try),
							(neg|party_slot_eq, ":party", slot_village_state, 2),
							(neg|party_slot_eq, ":party", slot_village_state, 4),
							(neg|party_slot_eq, ":script_param_2", slot_village_state, 5),
							(assign, reg0, 1),
						(try_end),
						(eq, reg0, 1),
						(call_script, "script_center_get_production", ":script_param_1", ":party"),
						(ge, reg0, 1),
						(assign, ":value", 1),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg0, ":value"),
			(assign, reg1, ":var_4"),
			(assign, reg2, ":var_5")
		]),

	("dplmc_assess_ability_to_purchase_good_from_center",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 1000),
			(assign, ":value_2", 0),
			(try_begin),
				(is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 4),
				(party_slot_eq, ":script_param_2", slot_party_type, 3),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(store_sub, ":value_3", ":script_param_1", "itm_trade_spice"),
				(val_add, ":value_3", 267),
				(party_get_slot, ":value", ":script_param_2", ":value_3"),
				(call_script, "script_dplmc_good_produced_at_center_or_its_villages", ":script_param_1", ":script_param_2"),
				(assign, ":value_2", reg0),
				(lt, ":value_2", 1),
				(store_faction_of_party, ":faction_of_party_script_param_2", ":script_param_2"),
				(faction_get_slot, ":faction_of_party_script_param_2_206", ":faction_of_party_script_param_2", 206),
				(val_clamp, ":faction_of_party_script_param_2_206", -3, 4),
				(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 3),
				(is_between, ":script_param_2", "p_town_1", "p_castle_1"),
				(store_current_hours, ":current_hours"),
				(assign, ":var_9", 10000),
				(assign, ":var_10", ":value"),
				(try_for_range, ":number", 190, 205),
					(party_get_slot, ":script_param_2_number", ":script_param_2", ":number"),
					(is_between, ":script_param_2_number", "p_town_1", "p_salt_mine"),
					(party_get_slot, ":script_param_2_number_value_3", ":script_param_2_number", ":value_3"),
					(val_max, ":var_10", ":script_param_2_number_value_3"),
					(party_slot_eq, ":script_param_2_number", slot_party_type, 3),
					(call_script, "script_dplmc_good_produced_at_center_or_its_villages", ":script_param_1", ":script_param_2_number"),
					(ge, reg0, 1),
					(assign, ":value_4", 0),
					(store_sub, ":value_5", ":number", 190),
					(val_add, ":value_5", 407),
					(try_begin),
						(neg|is_between, ":value_5", 407, 422),
						(assign, ":value_4", 168),
					(else_try),
						(party_slot_eq, ":script_param_2", ":value_5", 0),
						(store_random_in_range, ":value_4", 1, 841),
						(party_get_slot, ":script_param_2_town_prosperity", ":script_param_2", slot_town_prosperity),
						(val_clamp, ":script_param_2_town_prosperity", 0, 101),
						(val_add, ":script_param_2_town_prosperity", 75),
						(val_mul, ":value_4", 125),
						(val_div, ":value_4", ":script_param_2_town_prosperity"),
						(store_sub, ":value_6", ":current_hours", ":value_4"),
						(party_set_slot, ":script_param_2", ":value_5", ":value_6"),
					(else_try),
						(party_get_slot, ":value_6", ":script_param_2", ":value_5"),
						(store_sub, ":value_4", ":current_hours", ":value_6"),
						(val_max, ":value_4", 0),
					(try_end),
					(store_mul, ":value_7", ":value_4", 5),
					(val_add, ":value_7", 84),
					(val_div, ":value_7", 168),
					(val_max, ":value_7", 5),
					(val_min, ":value_7", 50),
					(store_faction_of_party, ":faction_of_party_script_param_2_number", ":script_param_2_number"),
					(try_begin),
						(eq, ":faction_of_party_script_param_2_number", ":faction_of_party_script_param_2"),
						(val_sub, ":value_7", ":faction_of_party_script_param_2_206"),
					(else_try),
						(val_add, ":value_7", ":faction_of_party_script_param_2_206"),
					(try_end),
					(try_begin),
						(ge, ":script_param_2_number_value_3", 1000),
						(val_mul, ":script_param_2_number_value_3", ":value_7"),
						(val_add, ":script_param_2_number_value_3", 50),
						(val_div, ":script_param_2_number_value_3", 100),
					(else_try),
						(store_add, reg0, 100, ":value_7"),
						(val_mul, reg0, 1000),
						(val_add, reg0, 50),
						(val_div, reg0, 100),
						(val_add, ":script_param_2_number_value_3", reg0),
					(try_end),
					(assign, ":value_2", 1),
					(val_min, ":var_9", ":script_param_2_number_value_3"),
				(try_end),
				(try_begin),
					(ge, ":value_2", 1),
					(val_max, ":value", ":var_9"),
				(else_try),
					(lt, ":value_2", 1),
					(val_max, ":value", ":var_10"),
				(try_end),
			(try_end),
			(try_begin),
				(lt, ":value_2", 1),
				(val_max, ":value", 1000),
				(val_mul, ":value", 8),
				(val_div, ":value", 5),
			(try_end),
			(val_clamp, ":value", 100, 10000),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2")
		]),

	("dplmc_get_faction_truce_length_with_faction",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(try_begin),
				(is_between, ":script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(is_between, ":script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":script_param_1", ":script_param_2"),
				(store_add, ":value_2", ":script_param_2", 120),
				(val_sub, ":value_2", "fac_player_supporters_faction"),
				(faction_get_slot, ":value", ":script_param_1", ":value_2"),
			(try_end),
			(assign, reg0, ":value")
		]),

	("dplmc_get_terrain_code_for_battle",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, reg0, -4),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "p_main_party"),
				(eq, ":script_param_2", "p_main_party"),
				(ge, "$g_encounter_is_in_village", 1),
				(assign, reg0, -3),
			(else_try),
				(ge, ":script_param_1", 0),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 3),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 2),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 4),
				(this_or_next|party_slot_eq, ":script_param_1", slot_party_type, 18),
				(party_slot_eq, ":script_param_1", slot_party_type, 16),
				(assign, reg0, -4),
			(else_try),
				(ge, ":script_param_1", 0),
				(party_get_attached_to, ":attached_to_script_param_1", ":script_param_1"),
				(ge, ":attached_to_script_param_1", 0),
				(party_is_active, ":attached_to_script_param_1"),
				(this_or_next|party_slot_eq, ":attached_to_script_param_1", slot_party_type, 3),
				(this_or_next|party_slot_eq, ":attached_to_script_param_1", slot_party_type, 2),
				(this_or_next|party_slot_eq, ":attached_to_script_param_1", slot_party_type, 4),
				(this_or_next|party_slot_eq, ":attached_to_script_param_1", slot_party_type, 18),
				(party_slot_eq, ":attached_to_script_param_1", slot_party_type, 16),
				(assign, reg0, -4),
			(else_try),
				(ge, ":script_param_2", 0),
				(try_begin),
					(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 3),
					(party_slot_eq, ":script_param_2", slot_party_type, 2),
					(assign, reg0, -2),
				(else_try),
					(party_slot_eq, ":script_param_2", slot_party_type, 4),
					(assign, reg0, -3),
				(else_try),
					(this_or_next|party_slot_eq, ":script_param_2", slot_party_type, 18),
					(party_slot_eq, ":script_param_2", slot_party_type, 16),
					(assign, reg0, -4),
				(else_try),
					(party_get_attached_to, ":attached_to_script_param_1", ":script_param_2"),
					(ge, ":attached_to_script_param_1", 0),
					(party_is_active, ":attached_to_script_param_1"),
					(assign, ":value", -100),
					(try_begin),
						(this_or_next|party_slot_eq, ":attached_to_script_param_1", slot_party_type, 3),
						(party_slot_eq, ":attached_to_script_param_1", slot_party_type, 2),
						(assign, ":value", -2),
					(else_try),
						(party_slot_eq, ":attached_to_script_param_1", slot_party_type, 4),
						(assign, ":value", -3),
					(else_try),
						(this_or_next|party_slot_eq, ":attached_to_script_param_1", slot_party_type, 18),
						(party_slot_eq, ":attached_to_script_param_1", slot_party_type, 16),
						(assign, ":value", -4),
					(try_end),
					(neq, ":value", -100),
					(assign, reg0, ":value"),
				(else_try),
					(party_get_current_terrain, reg0, ":script_param_2"),
				(try_end),
			(else_try),
				(ge, ":script_param_1", 0),
				(party_get_current_terrain, reg0, ":script_param_1"),
			(try_end)
		]),

	("dplmc_party_calculate_strength_in_terrain",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, ":var_5", 0),
			(assign, ":var_6", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_script_param_1", ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(neq, ":script_param_3", 0),
				(assign, ":value", 1),
			(try_end),
			(assign, ":value_2", 110),
			(assign, ":value_3", 100),
			(assign, ":value_4", 100),
			(assign, ":value_5", 100),
			(try_begin),
				(eq, ":script_param_2", -1),
				(assign, ":value_2", 100),
			(else_try),
				(eq, ":script_param_2", -3),
			(else_try),
				(eq, ":script_param_2", -2),
				(assign, ":value_4", 120),
			(else_try),
				(eq, ":script_param_2", 2),
				(assign, ":value_3", 120),
			(else_try),
				(this_or_next|eq, ":script_param_2", 4),
				(this_or_next|eq, ":script_param_2", 5),
				(eq, ":script_param_2", 3),
				(assign, ":value_3", 120),
			(else_try),
				(eq, ":script_param_2", 10),
				(assign, ":value_3", 120),
			(else_try),
				(this_or_next|eq, ":script_param_2", 11),
				(this_or_next|eq, ":script_param_2", 9),
				(eq, ":script_param_2", 12),
				(assign, ":value_5", 110),
			(try_end),
			(try_for_range, ":var_13", ":value", ":num_companion_stacks_script_param_1"),
				(party_stack_get_troop_id, ":party_stack_troop_id_script_param_1_var_13", ":script_param_1", ":var_13"),
				(store_character_level, ":character_level_party_stack_troop_id_script_param_1_var_13", ":party_stack_troop_id_script_param_1_var_13"),
				(val_add, ":character_level_party_stack_troop_id_script_param_1_var_13", 4),
				(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_13", ":character_level_party_stack_troop_id_script_param_1_var_13"),
				(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_13", 2),
				(assign, ":value_6", ":character_level_party_stack_troop_id_script_param_1_var_13"),
				(try_begin),
					(assign, ":value_7", 0),
					(try_begin),
						(this_or_next|eq, "trp_player", ":party_stack_troop_id_script_param_1_var_13"),
						(troop_is_hero, ":party_stack_troop_id_script_param_1_var_13"),
						(gt, ":value_3", ":value_2"),
						(neg|troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_13"),
						(store_skill_level, reg0, "skl_riding", ":party_stack_troop_id_script_param_1_var_13"),
						(ge, reg0, 2),
						(troop_get_inventory_capacity, ":inventory_capacity_party_stack_troop_id_script_param_1_var_13", ":party_stack_troop_id_script_param_1_var_13"),
						(ge, ":inventory_capacity_party_stack_troop_id_script_param_1_var_13", 1),
						(val_min, ":inventory_capacity_party_stack_troop_id_script_param_1_var_13", 18),
						(try_for_range, ":number", 0, ":inventory_capacity_party_stack_troop_id_script_param_1_var_13"),
							(troop_inventory_slot_get_item_amount, reg1, ":party_stack_troop_id_script_param_1_var_13", ":number"),
							(ge, reg1, 1),
							(troop_get_inventory_slot, reg0, ":party_stack_troop_id_script_param_1_var_13", ":number"),
							(ge, reg0, 1),
							(item_get_type, reg1, reg0),
							(eq, reg1, 1),
							(assign, ":inventory_capacity_party_stack_troop_id_script_param_1_var_13", ":number"),
						(try_end),
						(neg|is_between, ":value_7", "itm_ho_swa_saddle_black", "itm_we_swa_axe_hatchet"),
						(assign, ":value_7", 0),
					(try_end),
					(assign, ":value_8", 100),
					(try_begin),
						(this_or_next|ge, ":value_7", 1),
						(troop_is_guarantee_horse, ":party_stack_troop_id_script_param_1_var_13"),
						(assign, ":value_8", ":value_3"),
					(else_try),
						(troop_is_guarantee_ranged, ":party_stack_troop_id_script_param_1_var_13"),
						(assign, ":value_8", ":value_4"),
					(else_try),
						(assign, ":value_8", ":value_5"),
					(try_end),
					(try_begin),
						(this_or_next|eq, ":party_stack_troop_id_script_param_1_var_13", "trp_player"),
						(troop_is_hero, ":party_stack_troop_id_script_param_1_var_13"),
						(val_max, ":value_8", ":value_2"),
					(try_end),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_13", ":value_8"),
					(val_add, ":character_level_party_stack_troop_id_script_param_1_var_13", 50),
					(val_div, ":character_level_party_stack_troop_id_script_param_1_var_13", 100),
				(try_end),
				(val_div, ":character_level_party_stack_troop_id_script_param_1_var_13", 100),
				(val_max, ":character_level_party_stack_troop_id_script_param_1_var_13", 1),
				(val_div, ":value_6", 100),
				(val_max, ":value_6", 1),
				(try_begin),
					(neg|troop_is_hero, ":party_stack_troop_id_script_param_1_var_13"),
					(party_stack_get_size, ":party_stack_size_script_param_1_var_13", ":script_param_1", ":var_13"),
					(party_stack_get_num_wounded, ":party_stack_num_wounded_script_param_1_var_13", ":script_param_1", ":var_13"),
					(val_sub, ":party_stack_size_script_param_1_var_13", ":party_stack_num_wounded_script_param_1_var_13"),
					(val_mul, ":character_level_party_stack_troop_id_script_param_1_var_13", ":party_stack_size_script_param_1_var_13"),
					(val_mul, ":value_6", ":party_stack_size_script_param_1_var_13"),
				(else_try),
					(troop_is_wounded, ":party_stack_troop_id_script_param_1_var_13"),
					(assign, ":character_level_party_stack_troop_id_script_param_1_var_13", 0),
					(assign, ":value_6", 0),
				(try_end),
				(val_add, ":var_5", ":character_level_party_stack_troop_id_script_param_1_var_13"),
				(val_add, ":var_6", ":value_6"),
			(try_end),
			(assign, reg0, ":var_5"),
			(assign, reg1, ":var_6"),
			(try_begin),
				(eq, ":script_param_4", 1),
				(party_set_slot, ":script_param_1", slot_party_cached_strength, reg0),
			(else_try),
				(eq, ":script_param_4", 2),
				(party_set_slot, ":script_param_1", slot_party_cached_strength, reg1),
			(try_end)
		]),

	("dplmc_player_can_give_troops_to_troop",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", 0),
			(assign, ":var_3", reg1),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "trp_kingdom_heroes_including_player_begin"),
				(eq, ":script_param_1", "trp_player"),
				(assign, ":value", 1),
			(else_try),
				(lt, ":script_param_1", 1),
				(assign, ":value", 0),
			(else_try),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(call_script, "script_troop_get_player_relation", ":script_param_1"),
				(assign, ":var_5", reg0),
				(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
				(try_begin),
					(eq, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
					(faction_get_slot, reg0, ":faction_of_troop_script_param_1", 201),
					(try_begin),
						(ge, reg0, 0),
						(assign, reg0, -200),
					(else_try),
						(val_mul, reg0, -10),
						(val_add, reg0, -35),
					(try_end),
					(gt, ":var_5", reg0),
					(assign, ":value", 1),
				(else_try),
					(eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(faction_get_slot, ":faction_of_troop_script_param_1_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
					(try_begin),
						(this_or_next|eq, ":faction_of_troop_script_param_1_leader", "trp_player"),
						(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_marshall, "trp_player"),
						(faction_get_slot, reg0, ":faction_of_troop_script_param_1", 201),
						(try_begin),
							(ge, reg0, 0),
							(assign, reg0, -200),
						(else_try),
							(val_mul, reg0, -10),
							(val_add, reg0, -35),
						(try_end),
						(gt, ":var_5", reg0),
						(assign, ":value", 1),
					(else_try),
						(gt, ":faction_of_troop_script_param_1_leader", 1),
						(neg|troop_slot_eq, "trp_player", slot_troop_spouse, -1),
						(this_or_next|troop_slot_eq, ":faction_of_troop_script_param_1_leader", slot_troop_spouse, "trp_player"),
						(troop_slot_eq, "trp_player", slot_troop_spouse, ":faction_of_troop_script_param_1_leader"),
						(call_script, "script_troop_get_player_relation", ":faction_of_troop_script_param_1_leader"),
						(ge, reg0, 0),
						(faction_get_slot, reg0, ":faction_of_troop_script_param_1", 201),
						(try_begin),
							(ge, reg0, 0),
							(assign, reg0, -200),
						(else_try),
							(val_mul, reg0, -10),
							(val_add, reg0, -35),
						(try_end),
						(gt, ":var_5", reg0),
						(assign, ":value", 1),
					(else_try),
						(neg|troop_slot_eq, "trp_player", slot_troop_spouse, -1),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, "trp_player"),
						(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
						(this_or_next|ge, ":var_5", 0),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 21),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 25),
						(eq, ":script_param_1_lord_reputation_type", 23),
						(assign, ":value", 1),
					(else_try),
						(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
						(ge, reg0, 1),
						(assign, ":value", 1),
					(else_try),
						(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
						(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
						(neg|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 8),
						(ge, ":var_5", 20),
						(assign, ":value", 1),
					(else_try),
						(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", "trp_player"),
						(ge, reg0, 2),
						(ge, ":var_5", 14),
						(this_or_next|ge, reg0, 10),
						(ge, ":var_5", 20),
						(assign, ":value", 1),
					(try_end),
				(else_try),
					(call_script, "script_dplmc_get_faction_truce_length_with_faction", "$players_kingdom", ":faction_of_troop_script_param_1"),
					(gt, reg0, 30),
					(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
					(try_begin),
						(this_or_next|eq, ":players_kingdom_leader", "trp_player"),
						(faction_slot_eq, "$players_kingdom", slot_faction_marshall, "trp_player"),
						(ge, ":var_5", 0),
						(assign, ":value", 1),
					(else_try),
						(gt, ":players_kingdom_leader", 1),
						(neg|troop_slot_eq, "trp_player", slot_troop_spouse, -1),
						(this_or_next|troop_slot_eq, ":players_kingdom_leader", slot_troop_spouse, "trp_player"),
						(troop_slot_eq, "trp_player", slot_troop_spouse, ":players_kingdom_leader"),
						(ge, ":var_5", 0),
						(call_script, "script_troop_get_player_relation", ":players_kingdom_leader"),
						(ge, reg0, 0),
						(assign, ":value", 1),
					(else_try),
						(neg|troop_slot_eq, "trp_player", slot_troop_spouse, -1),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, "trp_player"),
						(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
						(this_or_next|ge, ":var_5", 0),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 21),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 25),
						(eq, ":script_param_1_lord_reputation_type", 23),
						(assign, ":value", 1),
					(else_try),
						(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
						(ge, reg0, 1),
						(assign, ":value", 1),
					(else_try),
						(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
						(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
						(neg|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 8),
						(ge, ":var_5", 20),
						(assign, ":value", 1),
					(else_try),
						(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", "trp_player"),
						(ge, reg0, 2),
						(ge, ":var_5", 14),
						(this_or_next|ge, reg0, 10),
						(ge, ":var_5", 20),
						(assign, ":value", 1),
					(try_end),
				(else_try),
					(store_relation, reg0, ":faction_of_troop_script_param_1", "fac_player_faction"),
					(ge, reg0, 0),
					(store_relation, reg0, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(ge, reg0, 0),
					(try_begin),
						(neg|troop_slot_eq, "trp_player", slot_troop_spouse, -1),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, "trp_player"),
						(troop_slot_eq, "trp_player", slot_troop_spouse, ":script_param_1"),
						(this_or_next|ge, ":var_5", 0),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 21),
						(this_or_next|eq, ":script_param_1_lord_reputation_type", 25),
						(eq, ":script_param_1_lord_reputation_type", 23),
						(assign, ":value", 1),
					(else_try),
						(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
						(ge, reg0, 1),
						(assign, ":value", 1),
					(else_try),
						(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
						(is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
						(neg|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 8),
						(ge, ":var_5", 20),
						(assign, ":value", 1),
					(else_try),
						(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", "trp_player"),
						(ge, reg0, 2),
						(ge, ":var_5", 14),
						(this_or_next|ge, reg0, 10),
						(ge, ":var_5", 20),
						(assign, ":value", 1),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg1, ":var_3"),
			(assign, reg0, ":value")
		]),

	("dplmc_print_centers_in_numbers_to_s0",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(str_store_string, 0, "@nothing"),
			(assign, ":var_4", 0),
			(try_begin),
				(gt, ":script_param_3", 0),
				(assign, reg0, ":script_param_3"),
				(store_sub, reg1, reg0, 1),
				(str_store_string, 0, "@{reg0} village{reg1?s:}"),
				(val_add, ":var_4", 1),
			(try_end),
			(try_begin),
				(gt, ":script_param_2", 0),
				(assign, reg0, ":script_param_2"),
				(store_sub, reg1, reg0, 1),
				(try_begin),
					(eq, ":var_4", 0),
					(str_store_string, 0, "@{reg0} castle{reg1?s:}"),
				(else_try),
					(str_store_string, 0, "@{reg0} castle{reg1?s:} and {s0}"),
				(try_end),
				(val_add, ":var_4", 1),
			(try_end),
			(try_begin),
				(gt, ":script_param_1", 0),
				(assign, reg0, ":script_param_1"),
				(store_sub, reg1, reg0, 1),
				(try_begin),
					(eq, ":var_4", 0),
					(str_store_string, 0, "@{reg0} town{reg1?s:}"),
				(else_try),
					(eq, ":var_4", 1),
					(str_store_string, 0, "@{reg0} town{reg1?s:} and {s0}"),
				(else_try),
					(str_store_string, 0, "@{reg0} town{reg1?s:}, {s0}"),
				(try_end),
			(try_end),
			(store_add, reg0, ":script_param_3", ":script_param_2"),
			(val_add, reg0, ":script_param_1")
		]),

	("dplmc_distribute_gold_to_lord_and_holdings",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(lt, ":script_param_2", 0),
			(else_try),
				(lt, ":script_param_1", 0),
				(val_mul, ":script_param_1", -1),
				(call_script, "script_dplmc_remove_gold_from_lord_and_holdings", ":script_param_1", ":script_param_2"),
				(assign, ":script_param_1", 0),
			(else_try),
				(neq, ":script_param_2", "trp_player"),
				(neg|troop_is_hero, ":script_param_2"),
				(troop_add_gold, ":script_param_2", ":script_param_1"),
				(assign, ":script_param_1", 0),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(troop_add_gold, "trp_player", ":script_param_1"),
				(assign, ":script_param_1", 0),
			(else_try),
				(neg|troop_is_hero, ":script_param_2"),
			(else_try),
				(troop_get_slot, ":script_param_2_wealth", ":script_param_2", slot_troop_wealth),
				(val_max, ":script_param_2_wealth", 0),
				(store_sub, ":value", 6000, ":script_param_2_wealth"),
				(val_max, ":value", 0),
				(val_min, ":value", ":script_param_1"),
				(val_add, ":script_param_2_wealth", ":value"),
				(troop_set_slot, ":script_param_2", slot_troop_wealth, ":script_param_2_wealth"),
				(val_sub, ":script_param_1", ":value"),
				(gt, ":script_param_1", 0),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_2"),
					(party_get_slot, ":script_param_2_wealth", ":party", slot_town_wealth),
					(store_party_size_wo_prisoners, ":party_size_wo_prisoners_party", ":party"),
					(call_script, "script_party_get_ideal_size", ":party"),
					(val_mul, reg0, 3),
					(val_div, reg0, 2),
					(ge, reg0, ":party_size_wo_prisoners_party"),
					(try_begin),
						(party_slot_eq, ":party", slot_party_type, 3),
						(store_sub, ":value", 4000, ":script_param_2_wealth"),
					(else_try),
						(store_sub, ":value", 2000, ":script_param_2_wealth"),
					(try_end),
					(val_max, ":value", 0),
					(val_min, ":value", ":script_param_1"),
					(gt, ":value", 0),
					(val_add, ":script_param_2_wealth", ":value"),
					(party_set_slot, ":party", slot_town_wealth, ":script_param_2_wealth"),
					(val_sub, ":script_param_1", ":value"),
				(try_end),
				(gt, ":script_param_1", 0),
				(troop_get_slot, ":script_param_2_wealth", ":script_param_2", slot_troop_wealth),
				(val_add, ":script_param_2_wealth", ":script_param_1"),
				(val_max, ":script_param_2_wealth", 0),
				(troop_set_slot, ":script_param_2", slot_troop_wealth, ":script_param_2_wealth"),
				(assign, ":script_param_1", 0),
			(try_end)
		]),

	("dplmc_remove_gold_from_lord_and_holdings",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(lt, ":script_param_2", 0),
			(else_try),
				(neq, ":script_param_2", "trp_player"),
				(neg|troop_is_hero, ":script_param_2"),
			(else_try),
				(lt, ":script_param_1", 0),
				(val_mul, ":script_param_1", -1),
				(call_script, "script_dplmc_distribute_gold_to_lord_and_holdings", ":script_param_1", ":script_param_2"),
				(assign, ":script_param_1", 0),
			(else_try),
				(eq, ":script_param_2", "trp_player"),
				(store_troop_gold, ":troop_gold_household_possessions", "trp_household_possessions"),
				(try_begin),
					(ge, ":troop_gold_household_possessions", 1),
					(val_min, ":troop_gold_household_possessions", ":script_param_1"),
					(call_script, "script_dplmc_withdraw_from_treasury", ":troop_gold_household_possessions"),
					(val_sub, ":script_param_1", ":troop_gold_household_possessions"),
				(try_end),
				(store_troop_gold, ":troop_gold_household_possessions", "trp_player"),
				(try_begin),
					(ge, ":troop_gold_household_possessions", 1),
					(val_min, ":troop_gold_household_possessions", ":script_param_1"),
					(troop_remove_gold, "trp_player", ":troop_gold_household_possessions"),
					(val_sub, ":script_param_1", ":troop_gold_household_possessions"),
				(try_end),
				(lt, ":script_param_1", 1),
			(else_try),
				(ge, ":script_param_1", 1),
				(ge, ":script_param_2", 1),
				(troop_get_slot, ":script_param_2_wealth", ":script_param_2", slot_troop_wealth),
				(ge, ":script_param_2_wealth", 1),
				(try_begin),
					(ge, ":script_param_2_wealth", ":script_param_1"),
					(val_sub, ":script_param_2_wealth", ":script_param_1"),
					(assign, ":script_param_1", 0),
				(else_try),
					(val_sub, ":script_param_1", ":script_param_2_wealth"),
					(assign, ":script_param_2_wealth", 0),
				(try_end),
				(troop_set_slot, ":script_param_2", slot_troop_wealth, ":script_param_2_wealth"),
				(lt, ":script_param_1", 1),
			(else_try),
				(ge, ":script_param_1", 1),
				(try_for_range_backwards, ":value", "p_town_1", "p_salt_mine"),
					(ge, ":script_param_1", 1),
					(party_slot_eq, ":value", slot_town_lord, ":script_param_2"),
					(party_get_slot, ":script_param_2_wealth", ":value", slot_center_accumulated_rents),
					(try_begin),
						(gt, ":script_param_2_wealth", 0),
						(ge, ":script_param_2_wealth", ":script_param_1"),
						(val_sub, ":script_param_2_wealth", ":script_param_1"),
						(assign, ":script_param_1", 0),
					(else_try),
						(gt, ":script_param_2_wealth", 0),
						(val_sub, ":script_param_1", ":script_param_2_wealth"),
						(assign, ":script_param_2_wealth", 0),
					(try_end),
					(party_set_slot, ":value", slot_center_accumulated_rents, ":script_param_2_wealth"),
					(ge, ":script_param_1", 1),
					(party_get_slot, ":script_param_2_wealth", ":value", slot_center_accumulated_tariffs),
					(try_begin),
						(gt, ":script_param_2_wealth", 0),
						(ge, ":script_param_2_wealth", ":script_param_1"),
						(val_sub, ":script_param_2_wealth", ":script_param_1"),
						(assign, ":script_param_1", 0),
					(else_try),
						(gt, ":script_param_2_wealth", 0),
						(val_sub, ":script_param_1", ":script_param_2_wealth"),
						(assign, ":script_param_2_wealth", 0),
					(try_end),
					(party_set_slot, ":value", slot_center_accumulated_tariffs, ":script_param_2_wealth"),
				(try_end),
				(lt, ":script_param_1", 1),
			(else_try),
				(ge, ":script_param_1", 1),
				(try_for_range_backwards, ":value", "p_town_1", "p_salt_mine"),
					(ge, ":script_param_1", 1),
					(party_slot_eq, ":value", slot_town_lord, ":script_param_2"),
					(party_get_slot, ":script_param_2_wealth", ":value", slot_town_wealth),
					(ge, ":script_param_2_wealth", 1),
					(try_begin),
						(ge, ":script_param_2_wealth", ":script_param_1"),
						(val_sub, ":script_param_2_wealth", ":script_param_1"),
						(assign, ":script_param_1", 0),
					(else_try),
						(val_sub, ":script_param_1", ":script_param_2_wealth"),
						(assign, ":script_param_2_wealth", 0),
					(try_end),
					(party_set_slot, ":value", slot_town_wealth, ":script_param_2_wealth"),
				(try_end),
				(lt, ":script_param_1", 1),
			(else_try),
				(store_troop_gold, ":script_param_2_wealth", ":script_param_2"),
				(gt, ":script_param_2_wealth", 0),
				(try_begin),
					(ge, ":script_param_2_wealth", ":script_param_1"),
					(troop_remove_gold, ":script_param_2", ":script_param_1"),
					(assign, ":script_param_1", 0),
				(else_try),
					(troop_remove_gold, ":script_param_2_wealth"),
					(val_sub, ":script_param_1", ":script_param_2_wealth"),
				(try_end),
			(try_end)
		]),

	("dplmc_prepare_hero_center_points_ignoring_center",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_set_slot, "trp_player", slot_troop_temp_slot, 0),
			(troop_set_slot, "trp_player", 164, 0),
			(try_for_range, ":troop", "trp_npc1", "trp_heroes_end"),
				(troop_set_slot, ":troop", slot_troop_temp_slot, 0),
				(troop_set_slot, ":troop", 164, 0),
			(try_end),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(neq, ":party", ":script_param_1"),
				(party_get_slot, ":troop", ":party", slot_town_lord),
				(this_or_next|eq, ":troop", "trp_player"),
				(is_between, ":troop", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", 1),
				(try_begin),
					(party_slot_eq, ":party", slot_party_type, 3),
					(assign, ":value", 3),
				(else_try),
					(party_slot_eq, ":party", slot_party_type, 2),
					(assign, ":value", 2),
				(try_end),
				(troop_get_slot, ":troop_temp_slot", ":troop", slot_troop_temp_slot),
				(val_add, ":troop_temp_slot", ":value"),
				(troop_set_slot, ":troop", slot_troop_temp_slot, ":troop_temp_slot"),
				(is_between, ":script_param_1", "p_town_1", "p_salt_mine"),
				(troop_get_slot, ":troop_temp_slot", ":troop", 164),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(val_max, ":distance_to_party_from_party_script_param_1_party", 1),
				(try_begin),
					(eq, ":troop_temp_slot", 0),
					(assign, ":troop_temp_slot", ":distance_to_party_from_party_script_param_1_party"),
				(try_end),
				(val_min, ":troop_temp_slot", ":distance_to_party_from_party_script_param_1_party"),
				(troop_set_slot, ":troop", 164, ":troop_temp_slot"),
			(try_end)
		]),

	("dplmc_calculate_troop_score_for_center_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", "str_political_explanation_most_deserving_in_faction"),
			(assign, ":value_2", -1),
			(try_begin),
				(lt, ":script_param_1", 0),
				(assign, ":value_3", 0),
				(assign, ":value_4", 0),
			(else_try),
				(eq, ":script_param_1", ":script_param_2"),
				(assign, ":value_3", 50),
				(troop_get_slot, ":value_4", ":script_param_1", slot_lord_reputation_type),
			(else_try),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2"),
				(assign, ":value_3", reg0),
				(troop_get_slot, ":value_4", ":script_param_1", slot_lord_reputation_type),
			(try_end),
			(val_clamp, ":value_3", -100, 101),
			(troop_get_slot, reg0, ":script_param_2", slot_troop_renown),
			(val_max, reg0, 0),
			(store_add, ":value_5", 500, reg0),
			(troop_get_slot, ":script_param_2_temp_slot", ":script_param_2", slot_troop_temp_slot),
			(val_max, ":script_param_2_temp_slot", 0),
			(val_add, ":script_param_2_temp_slot", 1),
			(try_begin),
				(troop_slot_ge, ":script_param_2", 46, 1),
				(neg|troop_slot_eq, ":script_param_2", slot_troop_home, ":script_param_3"),
				(neg|party_slot_eq, ":script_param_3", 402, ":script_param_2"),
				(troop_get_slot, reg0, ":script_param_2", 164),
				(gt, reg0, 1),
				(val_min, reg0, 250),
				(val_sub, ":value_5", reg0),
			(try_end),
			(val_mul, ":value_5", 75),
			(val_div, ":value_5", ":script_param_2_temp_slot"),
			(assign, ":value_6", 0),
			(try_begin),
				(lt, ":script_param_2_temp_slot", 2),
				(party_slot_eq, ":script_param_3", slot_party_type, 4),
				(neq, ":value_4", 5),
				(neq, ":value_4", 3),
				(neq, ":value_4", 2),
				(val_mul, ":value_5", 2),
				(try_begin),
					(lt, ":value_2", 100),
					(assign, ":value_2", 100),
					(assign, ":value", "str_political_explanation_lord_lacks_center"),
				(try_end),
				(assign, ":value_6", 1),
			(try_end),
			(assign, ":value_7", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", "trp_player"),
				(assign, ":value_7", "trp_kingdom_heroes_including_player_begin"),
			(try_end),
			(try_begin),
				(neq, ":value_4", 5),
				(this_or_next|neq, ":value_4", 3),
				(eq, ":script_param_1", ":script_param_2"),
				(neq, ":value_4", 4),
				(neg|party_slot_eq, ":script_param_3", slot_party_type, 4),
				(party_slot_eq, ":script_param_3", slot_center_last_taken_by_troop, ":value_7"),
				(try_begin),
					(lt, ":script_param_2_temp_slot", 2),
					(eq, ":value_6", 0),
					(assign, reg1, 50),
				(else_try),
					(this_or_next|troop_slot_eq, ":script_param_2", slot_troop_home, ":script_param_3"),
					(this_or_next|party_slot_eq, ":script_param_3", 402, ":value_7"),
					(this_or_next|party_slot_eq, ":script_param_3", 401, ":value_7"),
					(eq, ":value_4", 1),
					(assign, reg1, 50),
				(else_try),
					(assign, reg1, 25),
				(try_end),
				(store_add, reg0, 100, reg1),
				(val_mul, ":value_5", reg0),
				(val_div, ":value_5", 100),
				(try_begin),
					(ge, reg1, ":value_2"),
					(assign, ":value_2", reg1),
					(assign, ":value", "str_political_explanation_lord_took_center"),
				(try_end),
			(else_try),
				(gt, ":script_param_2", 0),
				(party_slot_eq, ":script_param_3", 402, ":value_7"),
				(try_begin),
					(lt, ":script_param_2_temp_slot", 2),
					(eq, ":value_6", 0),
					(assign, reg1, 50),
				(else_try),
					(this_or_next|eq, ":script_param_2", ":script_param_1"),
					(this_or_next|troop_slot_eq, ":script_param_2", slot_troop_home, ":script_param_3"),
					(party_slot_eq, ":script_param_3", 401, ":value_7"),
					(assign, reg1, 50),
				(else_try),
					(assign, reg1, 25),
				(try_end),
				(store_add, reg0, 100, reg1),
				(val_mul, ":value_5", reg0),
				(val_div, ":value_5", 100),
				(try_begin),
					(ge, reg1, ":value_2"),
					(assign, ":value_2", reg1),
					(assign, ":value", "str_dplmc_political_explanation_original_lord"),
				(try_end),
			(else_try),
				(gt, ":script_param_2", 0),
				(party_slot_eq, ":script_param_3", 401, ":value_7"),
				(try_begin),
					(lt, ":script_param_2_temp_slot", 2),
					(eq, ":value_6", 0),
					(assign, reg1, 50),
				(else_try),
					(troop_slot_eq, ":script_param_2", slot_troop_home, ":script_param_3"),
					(assign, reg1, 50),
				(else_try),
					(assign, reg1, 25),
				(try_end),
				(store_add, reg0, 100, reg1),
				(val_mul, ":value_5", reg0),
				(val_div, ":value_5", 100),
				(try_begin),
					(ge, reg1, ":value_2"),
					(assign, ":value_2", reg1),
					(assign, ":value", "str_dplmc_political_explanation_original_lord"),
				(try_end),
			(else_try),
				(troop_slot_eq, ":script_param_2", slot_troop_home, ":script_param_3"),
				(val_mul, ":value_5", 5),
				(val_div, ":value_5", 4),
				(try_begin),
					(ge, 25, ":value_2"),
					(assign, ":value_2", 25),
					(assign, ":value", "str_dplmc_political_explanation_original_lord"),
				(try_end),
			(else_try),
				(troop_get_slot, reg0, ":script_param_2", slot_troop_original_faction),
				(party_get_slot, reg1, ":script_param_3", slot_center_original_faction),
				(neq, reg0, reg1),
				(is_between, reg0, "fac_kingdom_1", "fac_kingdoms_end"),
				(is_between, reg1, "fac_kingdom_1", "fac_kingdoms_end"),
				(val_mul, ":value_5", 19),
				(val_add, ":value_5", 10),
				(val_div, ":value_5", 20),
			(try_end),
			(troop_get_slot, ":script_param_2_days_on_mission", ":script_param_2", slot_troop_days_on_mission),
			(val_clamp, ":script_param_2_days_on_mission", 0, 101),
			(store_mul, ":value_8", ":value_3", 2),
			(val_sub, ":value_8", ":script_param_2_days_on_mission"),
			(store_add, reg0, ":value_5", 1),
			(val_div, reg0, 2),
			(val_max, reg0, 1),
			(val_min, ":value_8", reg0),
			(store_mul, reg0, ":value_5", 100),
			(val_add, ":value_5", ":value_8"),
			(val_div, reg0, ":value_5"),
			(store_sub, reg1, ":value_5", 100),
			(try_begin),
				(ge, reg1, 0),
				(ge, reg1, ":value_2"),
				(ge, ":value_3", 15),
				(assign, ":value_2", reg1),
				(assign, ":value", "str_political_explanation_most_deserving_friend"),
			(try_end),
			(assign, reg0, ":value_5"),
			(assign, reg1, ":value")
		]),

	("dplmc_get_trade_penalty",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, ":value", 0),
			(try_begin),
				(eq, ":script_param_3", "trp_player"),
				(party_get_skill_level, ":skill_level_main_party_0", "p_main_party", 0),
			(else_try),
				(gt, ":script_param_3", -1),
				(troop_is_hero, ":script_param_3"),
				(troop_get_slot, ":script_param_3_leaded_party", ":script_param_3", slot_troop_leaded_party),
				(gt, ":script_param_3_leaded_party", 0),
				(party_is_active, ":script_param_3_leaded_party"),
				(party_get_skill_level, ":skill_level_main_party_0", ":script_param_3_leaded_party", 0),
			(else_try),
				(gt, ":script_param_3", -1),
				(store_skill_level, ":skill_level_main_party_0", ":script_param_3"),
			(else_try),
				(assign, ":skill_level_main_party_0", 0),
			(try_end),
			(try_begin),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(assign, ":value", 15),
				(store_mul, ":value_2", ":skill_level_main_party_0", 1),
				(val_sub, ":value", ":value_2"),
			(else_try),
				(assign, ":value", 100),
				(store_mul, ":value_2", ":skill_level_main_party_0", 5),
				(val_sub, ":value", ":value_2"),
			(try_end),
			(assign, ":var_9", 1000),
			(try_begin),
				(eq, ":script_param_3", "trp_player"),
				(is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(party_get_slot, ":script_param_2_center_player_relation", ":script_param_2", slot_center_player_relation),
				(store_mul, ":value_3", ":script_param_2_center_player_relation", -3),
				(val_add, ":var_9", ":value_3"),
				(try_begin),
					(lt, ":script_param_2_center_player_relation", 0),
					(store_sub, ":value_4", 100, ":script_param_2_center_player_relation"),
					(val_mul, ":var_9", ":value_4"),
					(val_div, ":var_9", 100),
				(try_end),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_4", "trp_player"),
				(eq, ":script_param_3", "trp_player"),
				(gt, ":script_param_4", -1),
				(gt, ":script_param_3", -1),
				(call_script, "script_troop_get_player_relation", ":script_param_4"),
				(assign, ":value_5", reg0),
			(else_try),
				(is_between, ":script_param_4", "trp_npc1", "trp_heroes_end"),
				(is_between, ":script_param_3", "trp_npc1", "trp_heroes_end"),
				(call_script, "script_troop_get_relation_with_troop", ":script_param_4", ":script_param_3"),
				(assign, ":value_5", reg0),
			(else_try),
				(assign, ":value_5", 0),
			(try_end),
			(try_begin),
				(lt, ":value_5", 0),
				(store_sub, ":value_6", 0, ":value_5"),
				(store_mul, ":value_7", ":value_6", 20),
				(val_add, ":var_9", ":value_7"),
			(try_end),
			(try_begin),
				(is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":script_param_2", slot_party_type, 4),
				(val_mul, ":value", 2),
			(try_end),
			(try_begin),
				(is_between, ":script_param_2", "p_town_1", "p_salt_mine"),
				(is_between, ":script_param_1", "itm_trade_spice", "itm_trade_dummy01"),
				(this_or_next|eq, ":script_param_3", -2),
				(this_or_next|lt, "$g_dplmc_gold_changes", 0),
				(neg|is_between, ":script_param_1", "itm_trade_smoked_fish", "itm_trade_dummy01"),
				(assign, ":var_16", reg1),
				(assign, ":var_17", reg2),
				(call_script, "script_center_get_production", ":script_param_2", ":script_param_1"),
				(eq, reg0, 0),
				(call_script, "script_center_get_consumption", ":script_param_2", ":script_param_1"),
				(eq, reg0, 0),
				(val_mul, ":value", 2),
				(assign, reg1, ":var_16"),
				(assign, reg2, ":var_17"),
			(try_end),
			(try_begin),
				(party_is_active, ":script_param_2"),
				(party_slot_eq, ":script_param_2", slot_party_type, 11),
				(val_mul, ":value", 2),
				(party_get_slot, ":script_param_2_center_player_relation", ":script_param_2", slot_center_player_relation),
				(store_mul, ":value_3", ":script_param_2_center_player_relation", -3),
				(val_add, ":var_9", ":value_3"),
				(try_begin),
					(lt, ":script_param_2_center_player_relation", 0),
					(store_sub, ":value_4", 100, ":script_param_2_center_player_relation"),
					(val_mul, ":var_9", ":value_4"),
					(val_div, ":var_9", 100),
				(try_end),
				(is_between, reg60, 2, 6),
				(val_mul, ":value", reg60),
			(try_end),
			(val_mul, ":value", ":var_9"),
			(val_add, ":value", 500),
			(val_div, ":value", 1000),
			(val_max, ":value", 1),
			(assign, reg0, ":value")
		]),

	("dplmc_print_cultural_word_to_sreg",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", -1),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "trp_player"),
				(eq, ":script_param_1", "trp_kingdom_heroes_including_player_begin"),
				(assign, ":value", "fac_player_supporters_faction"),
			(else_try),
				(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(troop_get_slot, ":value", ":script_param_1", slot_troop_original_faction),
			(else_try),
				(gt, ":script_param_1", -1),
				(troop_is_hero, ":script_param_1"),
				(troop_slot_ge, ":script_param_1", 14, "fac_kingdom_1"),
				(neg|troop_slot_ge, ":script_param_1", 14, "fac_kingdoms_end"),
				(troop_get_slot, ":value", ":script_param_1", slot_troop_original_faction),
			(else_try),
				(gt, ":script_param_1", -1),
				(store_faction_of_troop, ":value", ":script_param_1"),
			(try_end),
			(try_begin),
				(lt, ":script_param_1", 1),
			(else_try),
				(lt, ":value", 6),
			(else_try),
				(is_between, ":script_param_1", "trp_bandit_e_mountain", "trp_bandit_e_black_khergit_horseman"),
				(try_begin),
					(eq, "$troop_trees", "trp_troop_tree_0"),
					(assign, ":value_2", "trp_bandit_n_mountain"),
					(assign, ":value_3", "trp_bandit_n_forest"),
					(assign, ":value_4", "trp_bandit_n_sea_raider"),
					(assign, ":value_5", "trp_bandit_n_steppe"),
					(assign, ":value_6", "trp_bandit_n_taiga"),
					(assign, ":value_7", "trp_bandit_n_desert"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_1"),
					(assign, ":value_2", "trp_bandit_r_mountain"),
					(assign, ":value_3", "trp_bandit_r_forest"),
					(assign, ":value_4", "trp_bandit_r_sea_raider"),
					(assign, ":value_5", "trp_bandit_r_steppe"),
					(assign, ":value_6", "trp_bandit_r_taiga"),
					(assign, ":value_7", "trp_bandit_r_desert"),
				(else_try),
					(eq, "$troop_trees", "trp_troop_tree_2"),
					(assign, ":value_2", "trp_bandit_e_mountain"),
					(assign, ":value_3", "trp_bandit_e_forest"),
					(assign, ":value_4", "trp_bandit_e_sea_raider"),
					(assign, ":value_5", "trp_bandit_e_steppe"),
					(assign, ":value_6", "trp_bandit_e_taiga"),
					(assign, ":value_7", "trp_bandit_e_desert"),
				(try_end),
				(try_begin),
					(eq, ":script_param_1", ":value_2"),
					(assign, ":value", "fac_kingdom_5"),
				(else_try),
					(eq, ":script_param_1", ":value_3"),
					(assign, ":value", "fac_kingdom_1"),
				(else_try),
					(eq, ":script_param_1", ":value_4"),
					(assign, ":value", "fac_kingdom_4"),
				(else_try),
					(eq, ":script_param_1", ":value_5"),
					(assign, ":value", "fac_kingdom_3"),
				(else_try),
					(eq, ":script_param_1", ":value_6"),
					(assign, ":value", "fac_kingdom_2"),
				(else_try),
					(eq, ":script_param_1", ":value_7"),
					(assign, ":value", "fac_kingdom_6"),
				(try_end),
				(ge, ":value", 6),
			(else_try),
				(troop_is_hero, ":script_param_1"),
				(troop_get_slot, ":script_param_1_home", ":script_param_1", slot_troop_home),
				(is_between, ":script_param_1_home", "p_town_1", "p_salt_mine"),
				(party_get_slot, ":value", ":script_param_1_home", slot_center_original_faction),
			(else_try),
				(eq, ":script_param_1", "$g_talk_troop"),
				(neg|is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(neg|is_between, ":script_param_1", "trp_trainer_1", "trp_septon_1"),
				(ge, "$g_encountered_party", 0),
				(try_begin),
					(is_between, "$g_encountered_party", "p_town_1", "p_salt_mine"),
					(party_get_slot, ":value", "$g_encountered_party", slot_center_original_faction),
				(else_try),
					(party_is_active, "$g_encountered_party"),
					(store_faction_of_party, ":value", "$g_encountered_party"),
					(lt, ":value", 6),
					(assign, ":value", reg0),
					(call_script, "script_get_closest_center", "$g_encountered_party"),
					(assign, ":script_param_1_home", reg0),
					(assign, reg0, ":value"),
					(party_get_slot, ":value", ":script_param_1_home", slot_center_original_faction),
				(try_end),
			(try_end),
			(try_begin),
				(ge, "$players_kingdom", 6),
				(this_or_next|eq, ":value", "fac_player_faction"),
				(this_or_next|eq, ":value", "fac_player_supporters_faction"),
				(eq, ":value", "$players_kingdom"),
				(assign, ":value", "$players_kingdom"),
				(neg|is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(this_or_next|is_between, "$g_player_culture", "fac_culture_1", "fac_player_faction"),
				(is_between, "$g_player_culture", "fac_kingdom_1", "fac_kingdoms_end"),
				(assign, ":value", "$g_player_culture"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", 1),
				(try_begin),
					(this_or_next|eq, ":value", "fac_kingdom_4"),
					(eq, ":value", "fac_kingdom_2"),
					(str_store_string, ":script_param_3", "@axe"),
				(else_try),
					(eq, ":value", "fac_kingdom_5"),
					(str_store_string, ":script_param_3", "@spear"),
				(else_try),
					(eq, ":value", "fac_kingdom_3"),
					(str_store_string, ":script_param_3", "@bow"),
				(else_try),
					(str_store_string, ":script_param_3", "@sword"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 2),
				(try_begin),
					(this_or_next|eq, ":value", "fac_kingdom_4"),
					(eq, ":value", "fac_kingdom_2"),
					(str_store_string, ":script_param_3", "@axes"),
				(else_try),
					(eq, ":value", "fac_kingdom_5"),
					(str_store_string, ":script_param_3", "@spears"),
				(else_try),
					(eq, ":value", "fac_kingdom_3"),
					(str_store_string, ":script_param_3", "@bows"),
				(else_try),
					(str_store_string, ":script_param_3", "@swords"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 3),
				(try_begin),
					(eq, ":value", "fac_kingdom_4"),
					(eq, ":value", "fac_kingdom_2"),
					(str_store_string, ":script_param_3", "@swing my axe"),
				(else_try),
					(eq, ":value", "fac_kingdom_5"),
					(str_store_string, ":script_param_3", "@lift my spear"),
				(else_try),
					(eq, ":value", "fac_kingdom_3"),
					(str_store_string, ":script_param_3", "@loose my arrows"),
				(else_try),
					(str_store_string, ":script_param_3", "@swing my sword"),
				(try_end),
			(else_try),
				(this_or_next|eq, ":script_param_2", 5),
				(eq, ":script_param_2", 4),
				(try_begin),
					(eq, ":value", "fac_kingdom_3"),
					(str_store_string, ":script_param_3", "str_khan"),
				(else_try),
					(eq, ":value", "fac_kingdom_6"),
					(str_store_string, ":script_param_3", "@sultan"),
				(else_try),
					(str_store_string, ":script_param_3", "str_king"),
					(eq, ":script_param_2", 5),
					(str_store_string, ":script_param_3", "str_queen"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 6),
				(try_begin),
					(eq, ":value", "fac_kingdom_3"),
					(str_store_string, ":script_param_3", "@khans"),
				(else_try),
					(eq, ":value", "fac_kingdom_6"),
					(str_store_string, ":script_param_3", "@sultans"),
				(else_try),
					(str_store_string, ":script_param_3", "@kings"),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 7),
				(str_store_string, ":script_param_3", "@lord"),
			(else_try),
				(eq, ":script_param_2", 8),
				(str_store_string, ":script_param_3", "@lords"),
			(else_try),
				(eq, ":script_param_2", 9),
				(assign, ":value_8", ":script_param_1"),
				(try_begin),
					(gt, ":script_param_1", 0),
					(neg|troop_is_hero, ":script_param_1"),
					(store_current_hours, ":value_8"),
					(val_add, ":value_8", "$g_encountered_party"),
				(try_end),
				(val_max, ":value_8", 0),
				(val_mod, ":value_8", 2),
				(try_begin),
					(eq, ":value", "fac_kingdom_2"),
					(try_begin),
						(eq, ":value_8", 0),
						(str_store_string, ":script_param_3", "@goatherd"),
					(else_try),
						(str_store_string, ":script_param_3", "@swineherd"),
					(try_end),
				(else_try),
					(eq, ":value", "fac_kingdom_3"),
					(try_begin),
						(eq, ":value_8", 0),
						(str_store_string, ":script_param_3", "@stable {boy/girl}"),
					(else_try),
						(str_store_string, ":script_param_3", "@shepherd {boy/girl}"),
					(try_end),
				(else_try),
					(eq, ":value", "fac_kingdom_6"),
					(try_begin),
						(eq, ":value_8", 0),
						(str_store_string, ":script_param_3", "@goatherd"),
					(else_try),
						(str_store_string, ":script_param_3", "@shepherd {boy/girl}"),
					(try_end),
				(else_try),
					(str_store_string, ":script_param_3", "@swineherd"),
				(try_end),
			(else_try),
				(this_or_next|eq, ":script_param_2", 10),
				(try_begin),
					(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
					(this_or_next|neg|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
					(neg|troop_slot_eq, ":script_param_1", slot_troop_original_faction, ":value"),
					(store_mod, ":value_8", ":script_param_1", 2),
				(else_try),
					(assign, ":value_8", 0),
				(try_end),
				(try_begin),
					(eq, ":value", "fac_kingdom_2"),
					(eq, ":value_8", 0),
					(str_store_string, ":script_param_3", "@kvass"),
				(else_try),
					(eq, ":value", "fac_kingdom_3"),
					(eq, ":value_8", 0),
					(str_store_string, ":script_param_3", "@kumis"),
				(else_try),
					(eq, ":value", "fac_kingdom_4"),
					(str_store_string, ":script_param_3", "@mead"),
				(else_try),
					(str_store_string, ":script_param_3", "@wine"),
				(try_end),
			(else_try),
				(assign, ":var_13", reg0),
				(assign, reg0, ":script_param_2"),
				(display_message, "@{!}ERROR - dplmc print cultural word to sreg called for bad context {reg0}"),
				(str_store_string, ":script_param_3", "str_error_string"),
				(assign, reg0, ":var_13"),
			(try_end)
		]),

	("dplmc_print_player_spouse_says_my_husband_wife_to_s0",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":var_3", reg0),
			(assign, ":var_4", reg6),
			(assign, ":var_5", reg7),
			(assign, reg7, 0),
			(try_begin),
				(lt, ":script_param_1", 1),
				(assign, reg0, 0),
				(assign, reg6, 0),
			(else_try),
				(call_script, "script_troop_get_player_relation", ":script_param_1"),
				(troop_get_slot, reg6, ":script_param_1", slot_lord_reputation_type),
				(eq, reg6, 21),
				(val_add, reg0, 25),
			(else_try),
				(eq, reg6, 23),
				(val_add, reg0, 30),
			(else_try),
				(eq, reg6, 25),
				(store_sub, reg7, "$player_honor", 10),
				(val_clamp, reg7, -40, 31),
				(val_add, reg0, reg7),
				(assign, reg7, 0),
			(else_try),
				(eq, reg6, 24),
				(assign, reg7, -10),
				(try_for_range, ":party", "p_town_1", "p_village_1"),
					(this_or_next|party_slot_eq, ":party", slot_town_lord, "trp_player"),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(val_add, reg7, 10),
					(party_slot_eq, ":party", slot_party_type, 3),
					(val_add, reg7, 10),
				(try_end),
				(val_clamp, reg7, -10, 30),
				(val_add, reg0, reg7),
				(assign, reg7, 0),
			(else_try),
				(eq, reg6, 22),
				(val_add, reg7, 20),
			(else_try),
				(eq, reg6, 0),
				(is_between, reg6, "trp_npc1", "trp_heroes_end"),
				(val_sub, reg0, 20),
			(else_try),
				(eq, reg6, 4),
				(val_sub, reg0, 20),
			(else_try),
				(this_or_next|eq, reg6, 5),
				(this_or_next|eq, reg6, 2),
				(this_or_next|eq, reg6, 3),
				(val_sub, reg0, 30),
			(try_end),
			(try_begin),
				(ge, reg0, 50),
				(assign, reg7, 1),
			(try_end),
			(try_begin),
				(eq, reg6, 5),
				(gt, ":script_param_1", 0),
				(store_character_level, ":character_level_player", "trp_player"),
				(store_character_level, ":character_level_script_param_1", ":script_param_1"),
				(troop_get_slot, ":player_renown", "trp_player", slot_troop_renown),
				(this_or_next|ge, ":character_level_script_param_1", ":character_level_player"),
				(this_or_next|troop_slot_ge, ":script_param_1", 7, ":player_renown"),
				(lt, reg0, 50),
				(assign, reg6, ":script_param_2"),
				(str_store_string, 0, "@{reg6?M:m}y poppet"),
			(else_try),
				(assign, reg6, ":script_param_2"),
				(str_store_string, 0, "str_dplmc_reg6my_reg7spouse"),
			(try_end),
			(assign, reg0, ":var_3"),
			(assign, reg6, ":var_4"),
			(assign, reg7, ":var_5")
		]),

	("dplmc_get_troop_standing_in_faction",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 0),
			(assign, ":var_4", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", "fac_player_faction"),
				(assign, ":script_param_2", "fac_player_supporters_faction"),
			(try_end),
			(try_begin),
				(this_or_next|lt, ":script_param_1", 0),
				(lt, ":script_param_2", 0),
			(else_try),
				(eq, ":script_param_1", "trp_player"),
				(eq, ":script_param_2", "fac_player_supporters_faction"),
				(faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 0),
				(assign, ":value", 60),
			(else_try),
				(try_begin),
					(eq, ":script_param_2", "fac_player_supporters_faction"),
					(gt, "$players_kingdom", 0),
					(assign, ":script_param_2", "$players_kingdom"),
				(try_end),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(try_begin),
					(this_or_next|eq, ":script_param_1", "trp_player"),
					(this_or_next|eq, ":faction_of_troop_script_param_1", "fac_player_faction"),
					(eq, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
					(assign, ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
					(gt, "$players_kingdom", 0),
					(assign, ":faction_of_troop_script_param_1", "$players_kingdom"),
				(try_end),
				(eq, ":faction_of_troop_script_param_1", ":script_param_2"),
				(assign, ":value", 10),
				(faction_get_slot, ":script_param_2_leader", ":script_param_2", slot_faction_leader),
				(try_begin),
					(eq, ":script_param_2_leader", ":script_param_1"),
					(assign, ":value", 60),
				(else_try),
					(gt, ":script_param_2_leader", -1),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, ":script_param_2_leader"),
					(troop_slot_eq, ":script_param_2_leader", slot_troop_spouse, ":script_param_1"),
					(this_or_next|troop_slot_eq, ":script_param_2_leader", slot_troop_spouse, ":script_param_1"),
					(this_or_next|neq, ":script_param_2_leader", 0),
					(is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
					(assign, ":value", 50),
				(else_try),
					(faction_slot_eq, ":script_param_2", slot_faction_marshall, ":script_param_1"),
					(assign, ":value", 40),
				(else_try),
					(eq, ":script_param_1", "trp_player"),
					(try_begin),
						(this_or_next|eq, ":script_param_2", "fac_player_supporters_faction"),
						(ge, "$player_has_homage", 1),
						(assign, ":value", 30),
					(else_try),
						(troop_get_slot, reg0, "trp_player", slot_troop_spouse),
						(is_between, reg0, "trp_npc1", "trp_heroes_end"),
						(store_faction_of_troop, reg0, reg0),
						(this_or_next|eq, reg0, "fac_player_supporters_faction"),
						(eq, reg0, ":script_param_2"),
						(assign, ":value", 30),
					(try_end),
				(else_try),
					(this_or_next|lt, ":script_param_1", "trp_npc1"),
					(neg|troop_is_hero, ":script_param_1"),
				(else_try),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 6),
					(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 7),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
					(assign, ":value", 30),
				(else_try),
					(this_or_next|is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 6),
					(assign, ":value", 20),
				(else_try),
					(eq, ":var_4", "fac_player_supporters_faction"),
					(is_between, ":script_param_1", "trp_knight_1_1", "trp_kingdom_1_pretender"),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 0),
					(neg|troop_slot_ge, ":script_param_1", 10, 0),
					(neg|troop_slot_ge, ":script_param_1", 8, 0),
					(assign, ":value", 5),
				(else_try),
					(is_between, ":script_param_1", "trp_npc1", "trp_knight_1_1_wife"),
					(neg|is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
					(assign, ":value", 30),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("dplmc_store_troop_is_eligible_for_affiliate_messages",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(assign, ":var_3", reg1),
			(try_begin),
				(lt, ":script_param_1", 1),
			(else_try),
				(neg|troop_is_hero, ":script_param_1"),
			(else_try),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(store_relation, ":relation_faction_of_troop_script_param_1_player_supporters_faction", ":faction_of_troop_script_param_1", "fac_player_supporters_faction"),
				(try_begin),
					(eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
					(val_max, ":relation_faction_of_troop_script_param_1_player_supporters_faction", 1),
				(try_end),
				(gt, ":relation_faction_of_troop_script_param_1_player_supporters_faction", -1),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(neg|troop_slot_eq, ":script_param_1", slot_troop_playerparty_history, 8),
				(troop_slot_ge, ":script_param_1", 22, 20),
				(assign, ":value", 1),
			(else_try),
				(eq, ":faction_of_troop_script_param_1", "$players_kingdom"),
				(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
				(ge, reg0, 40),
				(call_script, "script_dplmc_get_troop_standing_in_faction", ":script_param_1", "$players_kingdom"),
				(ge, reg0, 40),
				(assign, ":value", 1),
			(else_try),
				(gt, ":relation_faction_of_troop_script_param_1_player_supporters_faction", -1),
				(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_1", "trp_player"),
				(ge, reg0, 2),
				(troop_get_slot, reg1, ":script_param_1", slot_troop_player_relation),
				(val_add, reg0, reg1),
				(ge, reg0, 20),
				(assign, ":value", 1),
			(else_try),
				(call_script, "script_dplmc_is_affiliated_family_member", ":script_param_1"),
				(ge, reg0, 1),
				(assign, ":value", 1),
			(else_try),
				(gt, "$cheat_mode", 0),
				(is_between, ":faction_of_troop_script_param_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(faction_slot_eq, ":faction_of_troop_script_param_1", slot_faction_leader, ":script_param_1"),
				(assign, ":value", 1),
			(try_end),
			(assign, reg1, ":var_3"),
			(assign, reg0, ":value")
		]),

	("dplmc_sell_all_prisoners",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(party_get_num_prisoner_stacks, ":num_prisoner_stacks_main_party", "p_main_party"),
			(try_for_range_backwards, ":var_6", 0, ":num_prisoner_stacks_main_party"),
				(party_prisoner_stack_get_troop_id, ":party_prisoner_stack_troop_id_main_party_var_6", "p_main_party", ":var_6"),
				(neg|troop_is_hero, ":party_prisoner_stack_troop_id_main_party_var_6"),
				(party_prisoner_stack_get_size, ":party_prisoner_stack_size_main_party_var_6", "p_main_party", ":var_6"),
				(try_begin),
					(gt, ":script_param_2", 0),
					(assign, ":value", ":script_param_2"),
				(else_try),
					(call_script, "script_game_get_prisoner_price", ":party_prisoner_stack_troop_id_main_party_var_6"),
					(assign, ":value", reg0),
				(try_end),
				(store_mul, ":value_2", ":value", ":party_prisoner_stack_size_main_party_var_6"),
				(val_add, ":var_4", ":value_2"),
				(val_add, ":var_3", ":party_prisoner_stack_size_main_party_var_6"),
				(gt, ":script_param_1", 0),
				(party_remove_prisoners, "p_main_party", ":party_prisoner_stack_troop_id_main_party_var_6", ":party_prisoner_stack_size_main_party_var_6"),
			(try_end),
			(try_begin),
				(gt, ":script_param_1", 0),
				(troop_add_gold, "trp_player", ":var_4"),
			(try_end),
			(assign, reg0, ":var_4"),
			(assign, reg1, ":var_3")
		]),

	("dplmc_translate_inactive_player_supporter_faction_2",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(this_or_next|faction_slot_eq, "fac_player_supporters_faction", slot_faction_state, 0),
				(this_or_next|neg|is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(this_or_next|eq, ":script_param_1", "$players_kingdom"),
				(this_or_next|eq, ":script_param_2", "$players_kingdom"),
				(eq, ":script_param_1", ":script_param_2"),
			(else_try),
				(eq, ":script_param_1", "fac_player_supporters_faction"),
				(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
				(ge, reg0, 50),
				(assign, ":script_param_1", "$players_kingdom"),
			(else_try),
				(eq, ":script_param_2", "fac_player_supporters_faction"),
				(call_script, "script_dplmc_get_troop_standing_in_faction", "trp_player", "$players_kingdom"),
				(ge, reg0, 50),
				(assign, ":script_param_2", "$players_kingdom"),
			(try_end),
			(assign, reg0, ":script_param_1"),
			(assign, reg1, ":script_param_2")
		]),

	("dplmc_troop_get_family_relation_to_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", "trp_kingdom_heroes_including_player_begin"),
				(assign, ":script_param_1", "trp_player"),
			(try_end),
			(try_begin),
				(eq, ":script_param_2", "trp_kingdom_heroes_including_player_begin"),
				(assign, ":script_param_2", "trp_player"),
			(try_end),
			(call_script, "script_dplmc_store_troop_is_female", ":script_param_1"),
			(assign, ":var_3", reg0),
			(assign, ":value", "str_no_relation"),
			(assign, ":value_2", 0),
			(troop_get_slot, ":script_param_1_spouse", ":script_param_1", slot_troop_spouse),
			(troop_get_slot, ":script_param_2_spouse", ":script_param_2", slot_troop_spouse),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":script_param_1", ":script_param_2", 30),
			(assign, ":script_param_1_spouse", reg0),
			(assign, ":script_param_2_spouse", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":script_param_1_spouse", ":script_param_2_spouse", 31),
			(assign, ":var_8", reg0),
			(assign, ":var_9", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":script_param_1_spouse", ":script_param_2_spouse", 32),
			(assign, ":var_10", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":script_param_1", ":script_param_2", 31),
			(assign, ":var_11", reg0),
			(assign, ":var_12", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":script_param_1", ":script_param_2", 32),
			(assign, ":var_13", reg0),
			(assign, ":var_14", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":var_11", ":var_12", 31),
			(assign, ":var_15", reg0),
			(assign, ":var_16", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":var_11", ":var_12", 32),
			(assign, ":var_17", reg0),
			(assign, ":var_18", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":var_13", ":var_14", 31),
			(assign, ":var_19", reg0),
			(assign, ":var_20", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":var_13", ":var_14", 32),
			(assign, ":var_21", reg0),
			(assign, ":var_22", reg1),
			(call_script, "script_dplmc_helper_get_troop1_troop2_family_slot_aux", ":script_param_1", ":script_param_2", 33),
			(assign, ":var_23", reg0),
			(assign, ":var_24", reg1),
			(try_begin),
				(eq, ":script_param_1", ":script_param_2"),
			(else_try),
				(this_or_next|eq, ":script_param_2_spouse", ":script_param_1"),
				(eq, ":script_param_1_spouse", ":script_param_2"),
				(assign, ":value_2", 20),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_wife"),
				(else_try),
					(assign, ":value", "str_husband"),
				(try_end),
			(else_try),
				(eq, ":var_12", ":script_param_1"),
				(assign, ":value_2", 15),
				(assign, ":value", "str_father"),
			(else_try),
				(eq, ":var_14", ":script_param_1"),
				(assign, ":value_2", 15),
				(assign, ":value", "str_mother"),
			(else_try),
				(this_or_next|eq, ":var_11", ":script_param_2"),
				(eq, ":var_13", ":script_param_2"),
				(assign, ":value_2", 15),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_daughter"),
				(else_try),
					(assign, ":value", "str_son"),
				(try_end),
			(else_try),
				(neq, ":var_11", -1),
				(eq, ":var_11", ":var_12"),
				(neq, ":var_13", ":var_14"),
				(assign, ":value_2", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_dplmc_half_sister"),
				(else_try),
					(assign, ":value", "str_dplmc_half_brother"),
				(try_end),
			(else_try),
				(neq, ":var_13", -1),
				(eq, ":var_13", ":var_14"),
				(neq, ":var_11", ":var_12"),
				(assign, ":value_2", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_dplmc_half_sister"),
				(else_try),
					(assign, ":value", "str_dplmc_half_brother"),
				(try_end),
			(else_try),
				(neq, ":var_11", -1),
				(eq, ":var_11", ":var_12"),
				(assign, ":value_2", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_sister"),
				(else_try),
					(assign, ":value", "str_brother"),
				(try_end),
			(else_try),
				(eq, ":var_24", ":script_param_1"),
				(assign, ":value_2", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_sister"),
				(else_try),
					(assign, ":value", "str_brother"),
				(try_end),
			(else_try),
				(eq, ":var_23", ":script_param_2"),
				(assign, ":value_2", 10),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_sister"),
				(else_try),
					(assign, ":value", "str_brother"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_spouse", -1),
				(eq, ":script_param_2_spouse", ":script_param_1_spouse"),
				(assign, ":value_2", 10),
				(try_begin),
					(call_script, "script_dplmc_store_troop_is_female", ":script_param_2"),
					(neq, ":var_3", reg0),
					(assign, ":value", "str_dplmc_co_spouse"),
				(else_try),
					(eq, ":var_3", 1),
					(assign, ":value", "str_dplmc_sister_wife"),
				(else_try),
					(assign, ":value", "str_dplmc_co_husband"),
				(try_end),
			(else_try),
				(neq, ":var_12", -1),
				(this_or_next|eq, ":var_19", ":var_12"),
				(eq, ":var_15", ":var_12"),
				(assign, ":value_2", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_niece"),
				(else_try),
					(assign, ":value", "str_nephew"),
				(try_end),
			(else_try),
				(neq, ":var_14", -1),
				(this_or_next|eq, ":var_21", ":var_14"),
				(eq, ":var_17", ":var_14"),
				(assign, ":value_2", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_niece"),
				(else_try),
					(assign, ":value", "str_nephew"),
				(try_end),
			(else_try),
				(neq, ":var_11", -1),
				(this_or_next|eq, ":var_20", ":var_11"),
				(eq, ":var_16", ":var_11"),
				(assign, ":value_2", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_aunt"),
				(else_try),
					(assign, ":value", "str_uncle"),
				(try_end),
			(else_try),
				(neq, ":var_13", -1),
				(this_or_next|eq, ":var_22", ":var_13"),
				(eq, ":var_18", ":var_13"),
				(assign, ":value_2", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_aunt"),
				(else_try),
					(assign, ":value", "str_uncle"),
				(try_end),
			(else_try),
				(neq, ":var_15", -1),
				(this_or_next|eq, ":var_20", ":var_15"),
				(eq, ":var_16", ":var_15"),
				(assign, ":value_2", 2),
				(assign, ":value", "str_cousin"),
			(else_try),
				(neq, ":var_19", -1),
				(this_or_next|eq, ":var_20", ":var_19"),
				(eq, ":var_16", ":var_19"),
				(assign, ":value_2", 2),
				(assign, ":value", "str_cousin"),
			(else_try),
				(neq, ":var_17", -1),
				(this_or_next|eq, ":var_22", ":var_17"),
				(eq, ":var_18", ":var_17"),
				(assign, ":value_2", 2),
				(assign, ":value", "str_cousin"),
			(else_try),
				(neq, ":var_21", -1),
				(this_or_next|eq, ":var_22", ":var_21"),
				(eq, ":var_18", ":var_21"),
				(assign, ":value_2", 2),
				(assign, ":value", "str_cousin"),
			(else_try),
				(eq, ":var_8", ":script_param_2"),
				(assign, ":value_2", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_daughterinlaw"),
				(else_try),
					(assign, ":value", "str_soninlaw"),
				(try_end),
			(else_try),
				(eq, ":var_9", ":script_param_1"),
				(assign, ":value_2", 5),
				(assign, ":value", "str_fatherinlaw"),
			(else_try),
				(eq, ":var_10", ":script_param_1"),
				(neq, ":var_10", "trp_player"),
				(assign, ":value_2", 5),
				(assign, ":value", "str_motherinlaw"),
			(else_try),
				(neq, ":var_8", -1),
				(eq, ":var_8", ":var_12"),
				(assign, ":value_2", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_sisterinlaw"),
				(else_try),
					(assign, ":value", "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":var_9", -1),
				(eq, ":var_9", ":var_11"),
				(assign, ":value_2", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_sisterinlaw"),
				(else_try),
					(assign, ":value", "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":script_param_2_spouse", -1),
				(troop_slot_eq, ":script_param_2_spouse", slot_troop_guardian, ":script_param_1"),
				(assign, ":value_2", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_sisterinlaw"),
				(else_try),
					(assign, ":value", "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":script_param_1_spouse", -1),
				(troop_slot_eq, ":script_param_1_spouse", slot_troop_guardian, ":script_param_2"),
				(assign, ":value_2", 5),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_sisterinlaw"),
				(else_try),
					(assign, ":value", "str_brotherinlaw"),
				(try_end),
			(else_try),
				(neq, ":script_param_2", -1),
				(this_or_next|eq, ":var_15", ":script_param_2"),
				(this_or_next|eq, ":var_19", ":script_param_2"),
				(this_or_next|eq, ":var_17", ":script_param_2"),
				(eq, ":var_21", ":script_param_2"),
				(assign, ":value_2", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_dplmc_granddaughter"),
				(else_try),
					(assign, ":value", "str_dplmc_grandson"),
				(try_end),
			(else_try),
				(neq, ":script_param_1", -1),
				(this_or_next|eq, ":var_16", ":script_param_1"),
				(this_or_next|eq, ":var_20", ":script_param_1"),
				(this_or_next|eq, ":var_18", ":script_param_1"),
				(eq, ":var_22", ":script_param_1"),
				(assign, ":value_2", 4),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_dplmc_grandmother"),
				(else_try),
					(assign, ":value", "str_dplmc_grandfather"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_2", 0),
				(neq, ":script_param_1", ":script_param_2"),
				(try_begin),
					(this_or_next|eq, ":script_param_1", "trp_kingdom_1_lord"),
					(eq, ":script_param_1", "trp_kingdom_1_pretender"),
					(this_or_next|eq, ":script_param_2", "trp_kingdom_1_lord"),
					(eq, ":script_param_2", "trp_kingdom_1_pretender"),
					(assign, ":value_2", 1),
					(assign, ":value", "str_cousin"),
				(else_try),
					(this_or_next|eq, ":script_param_1", "trp_kingdom_2_lord"),
					(eq, ":script_param_1", "trp_kingdom_2_pretender"),
					(this_or_next|eq, ":script_param_2", "trp_kingdom_2_lord"),
					(eq, ":script_param_2", "trp_kingdom_2_pretender"),
					(assign, ":value_2", 2),
					(assign, ":value", "str_cousin"),
				(else_try),
					(this_or_next|eq, ":script_param_1", "trp_kingdom_3_lord"),
					(eq, ":script_param_1", "trp_kingdom_3_pretender"),
					(this_or_next|eq, ":script_param_2", "trp_kingdom_3_lord"),
					(eq, ":script_param_2", "trp_kingdom_3_pretender"),
					(assign, ":value_2", 10),
					(assign, ":value", "str_dplmc_half_brother"),
					(try_begin),
						(troop_slot_eq, ":script_param_1", slot_troop_father, -1),
						(troop_slot_eq, ":script_param_2", slot_troop_father, -1),
						(store_mul, ":value_3", "trp_kingdom_3_lord", -4),
						(val_add, ":value_3", -1),
						(troop_set_slot, ":script_param_1", slot_troop_father, ":value_3"),
						(troop_set_slot, ":script_param_2", slot_troop_father, ":value_3"),
						(try_begin),
							(troop_slot_eq, ":script_param_1", slot_troop_mother, -1),
							(store_mul, reg0, ":script_param_1", -4),
							(val_add, reg0, -4),
							(troop_set_slot, ":script_param_1", slot_troop_mother, reg0),
						(try_end),
						(try_begin),
							(troop_slot_eq, ":script_param_2", slot_troop_mother, -1),
							(store_mul, reg0, ":script_param_2", -4),
							(val_add, reg0, -4),
							(troop_set_slot, ":script_param_2", slot_troop_mother, reg0),
						(try_end),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(lt, ":value_2", 2),
				(ge, ":script_param_1_spouse", 0),
				(neg|troop_slot_eq, ":script_param_1_spouse", slot_troop_father, -1),
				(this_or_next|troop_slot_eq, ":script_param_1_spouse", slot_troop_father, ":var_16"),
				(troop_slot_eq, ":script_param_1_spouse", slot_troop_father, ":var_20"),
				(assign, ":value_2", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_aunt"),
				(else_try),
					(assign, ":value", "str_uncle"),
				(try_end),
			(else_try),
				(lt, ":value_2", 2),
				(ge, ":script_param_1_spouse", 0),
				(neg|troop_slot_eq, ":script_param_1_spouse", slot_troop_mother, -1),
				(this_or_next|troop_slot_eq, ":script_param_1_spouse", slot_troop_mother, ":var_18"),
				(troop_slot_eq, ":script_param_1_spouse", slot_troop_mother, ":var_22"),
				(assign, ":value_2", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_aunt"),
				(else_try),
					(assign, ":value", "str_uncle"),
				(try_end),
			(else_try),
				(lt, ":value_2", 2),
				(ge, ":script_param_2_spouse", 0),
				(neg|troop_slot_eq, ":script_param_2_spouse", slot_troop_father, -1),
				(this_or_next|troop_slot_eq, ":script_param_2_spouse", slot_troop_father, ":var_15"),
				(troop_slot_eq, ":script_param_2_spouse", slot_troop_father, ":var_19"),
				(assign, ":value_2", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_niece"),
				(else_try),
					(assign, ":value", "str_nephew"),
				(try_end),
			(else_try),
				(lt, ":value_2", 2),
				(ge, ":script_param_2_spouse", 0),
				(neg|troop_slot_eq, ":script_param_2_spouse", slot_troop_mother, -1),
				(this_or_next|troop_slot_eq, ":script_param_2_spouse", slot_troop_mother, ":var_17"),
				(troop_slot_eq, ":script_param_2_spouse", slot_troop_mother, ":var_21"),
				(assign, ":value_2", 2),
				(try_begin),
					(eq, ":var_3", 1),
					(assign, ":value", "str_niece"),
				(else_try),
					(assign, ":value", "str_nephew"),
				(try_end),
			(try_end),
			(try_begin),
				(this_or_next|neg|troop_is_hero, ":script_param_1"),
				(neg|troop_is_hero, ":script_param_2"),
				(assign, ":value", "str_no_relation"),
				(assign, ":value_2", 0),
			(try_end),
			(assign, reg0, ":value_2"),
			(assign, reg1, ":value")
		]),

	("cf_dplmc_faction_has_bias_against_gender",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, reg0, 0),
			(lt, "$g_disable_condescending_comments", 2),
			(is_between, ":script_param_2", 0, 2),
			(try_begin),
				(eq, ":script_param_1", "fac_player_supporters_faction"),
				(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(assign, ":script_param_1", "$players_kingdom"),
			(try_end),
			(try_begin),
				(neg|is_between, ":script_param_1", "fac_kingdom_1", "fac_kingdoms_end"),
			(else_try),
				(faction_get_slot, ":script_param_1_leader", ":script_param_1", slot_faction_leader),
				(gt, ":script_param_1_leader", -1),
				(call_script, "script_dplmc_store_troop_is_female", ":script_param_1_leader"),
				(eq, reg0, ":script_param_2"),
				(assign, reg0, 0),
			(else_try),
				(assign, ":value", 0),
				(assign, ":value_2", "trp_knight_1_1_wife"),
				(try_for_range, ":script_param_1_leader", "trp_npc1", ":value_2"),
					(this_or_next|is_between, ":script_param_1_leader", "trp_kingdom_1_lord", "trp_knight_1_1"),
					(is_between, ":script_param_1_leader", "trp_knight_1_1", "trp_kingdom_1_pretender"),
					(troop_slot_eq, ":script_param_1_leader", slot_troop_original_faction, ":script_param_1"),
					(call_script, "script_dplmc_store_troop_is_female", ":script_param_1_leader"),
					(try_begin),
						(eq, reg0, ":script_param_2"),
						(assign, ":value", -1000),
						(assign, ":value_2", ":script_param_1_leader"),
					(else_try),
						(troop_get_slot, reg0, ":script_param_1_leader", slot_lord_reputation_type),
						(is_between, reg0, 1, 8),
						(neq, reg0, 4),
						(neq, reg0, 6),
						(val_add, ":value", 1),
					(try_end),
				(try_end),
				(store_sub, reg0, ":value", 1),
				(val_clamp, reg0, 0, 2),
			(try_end),
			(try_begin),
				(ge, "$cheat_mode", 1),
				(assign, ":value_2", reg1),
				(assign, ":script_param_1_leader", reg2),
				(assign, reg1, ":script_param_1"),
				(assign, reg2, ":script_param_2"),
				(display_message, "@{!} Checked if faction {reg1} is prejudiced against {reg2?women:men}: {reg0?true:false}"),
				(assign, reg1, ":value_2"),
				(assign, reg2, ":script_param_1_leader"),
			(try_end),
			(gt, reg0, 0)
		]),

	("dplmc_store_troop_personality_caution_level",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(neg|is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(assign, reg0, 0),
			(else_try),
				(call_script, "script_dplmc_get_troop_morality_value", ":script_param_1", 1),
				(lt, reg0, 0),
				(assign, reg0, 1),
			(else_try),
				(gt, reg0, 0),
				(assign, reg0, -1),
			(else_try),
				(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 22),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 1),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 2),
				(eq, ":script_param_1_lord_reputation_type", 3),
				(assign, reg0, -1),
			(else_try),
				(this_or_next|ge, ":script_param_1_lord_reputation_type", 21),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 7),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 5),
				(this_or_next|eq, ":script_param_1_lord_reputation_type", 6),
				(eq, ":script_param_1_lord_reputation_type", 4),
				(assign, reg0, 1),
			(else_try),
				(assign, reg0, 0),
			(try_end)
		]),

	("dplmc_cap_troop_describes_troop_to_troop_s1",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, ":var_5", reg0),
			(assign, ":var_6", reg1),
			(str_store_troop_name, 0, ":script_param_3"),
			(assign, reg0, ":script_param_1"),
			(try_begin),
				(eq, ":script_param_3", ":script_param_4"),
				(neq, ":script_param_2", ":script_param_4"),
				(str_store_string, 0, "@{reg0?Y:y}ou"),
				(assign, reg0, 1),
			(else_try),
				(eq, ":script_param_3", ":script_param_2"),
				(str_store_string, 0, "@{reg0?M:m}yself"),
				(assign, reg0, 1),
			(else_try),
				(this_or_next|eq, ":script_param_3", "trp_player"),
				(is_between, ":script_param_3", "trp_npc1", "trp_heroes_end"),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
				(try_begin),
					(this_or_next|eq, ":script_param_2", "trp_player"),
					(is_between, ":script_param_2", "trp_npc1", "trp_heroes_end"),
					(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_3", ":script_param_2"),
					(assign, ":value", reg0),
					(assign, ":value_2", reg1),
				(try_end),
				(assign, reg0, 0),
				(try_begin),
					(this_or_next|eq, ":script_param_3", "trp_player"),
					(is_between, ":script_param_3", "trp_npc1", "trp_heroes_end"),
					(call_script, "script_dplmc_troop_get_family_relation_to_troop", ":script_param_3", ":script_param_4"),
				(try_end),
				(this_or_next|ge, ":value", 1),
				(ge, reg0, 1),
				(try_begin),
					(eq, ":value", reg0),
					(eq, reg1, ":value_2"),
					(neq, ":script_param_2", ":script_param_4"),
					(assign, reg0, ":script_param_1"),
					(str_store_string, 1, ":value_2"),
					(str_store_string, 1, "@{reg0?O:o}ur {s1} {s0}"),
				(else_try),
					(ge, ":value", reg0),
					(assign, reg0, ":script_param_1"),
					(str_store_string, 1, ":value_2"),
					(str_store_string, 1, "@{reg0?M:m}y {s1} {s0}"),
				(else_try),
					(assign, reg0, ":script_param_1"),
					(str_store_string, 1, reg1),
					(str_store_string, 1, "@{reg0?Y:y}our {s1} {s0}"),
				(try_end),
			(else_try),
				(str_store_string, 1, "str_s0"),
			(try_end),
			(assign, reg0, ":var_5"),
			(assign, reg1, ":var_6"),
			(str_store_string_reg, 0, 1)
		]),

	("dplmc_helper_get_troop1_troop2_family_slot_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(lt, ":script_param_1", 0),
				(assign, reg0, -1),
			(else_try),
				(eq, ":script_param_1", "trp_kingdom_heroes_including_player_begin"),
				(troop_get_slot, reg0, "trp_player", ":script_param_3"),
			(else_try),
				(troop_get_slot, reg0, ":script_param_1", ":script_param_3"),
				(eq, reg0, 0),
				(neg|is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(neq, ":script_param_1", "trp_player"),
				(assign, reg0, -1),
			(try_end),
			(try_begin),
				(eq, reg0, "trp_kingdom_heroes_including_player_begin"),
				(assign, reg0, "trp_player"),
			(try_end),
			(try_begin),
				(lt, ":script_param_2", 0),
				(assign, reg1, -1),
			(else_try),
				(eq, ":script_param_2", "trp_kingdom_heroes_including_player_begin"),
				(troop_get_slot, reg1, "trp_player", ":script_param_3"),
			(else_try),
				(troop_get_slot, reg1, ":script_param_2", ":script_param_3"),
				(eq, reg1, 0),
				(neg|is_between, ":script_param_2", "trp_npc1", "trp_heroes_end"),
				(neq, ":script_param_2", "trp_player"),
				(assign, reg1, -1),
			(try_end),
			(try_begin),
				(eq, reg1, "trp_kingdom_heroes_including_player_begin"),
				(assign, reg1, "trp_player"),
			(try_end)
		]),

	("dplmc_estimate_center_weekly_income",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
			(try_begin),
				(neg|is_between, ":script_param_1_town_prosperity", 0, 101),
				(assign, ":script_param_1_town_prosperity", 50),
			(try_end),
			(store_add, reg0, 20, ":script_param_1_town_prosperity"),
			(val_mul, reg0, 1200),
			(val_div, reg0, 120),
			(try_begin),
				(party_slot_eq, ":script_param_1", slot_party_type, 3),
				(val_mul, reg0, 2),
				(val_mul, ":script_param_1_town_prosperity", 15),
				(val_add, ":script_param_1_town_prosperity", 700),
				(val_mul, ":script_param_1_town_prosperity", 3),
				(val_div, ":script_param_1_town_prosperity", 2),
				(val_add, reg0, ":script_param_1_town_prosperity"),
			(else_try),
				(party_slot_eq, ":script_param_1", slot_party_type, 2),
				(val_mul, ":script_param_1_town_prosperity", 15),
				(val_add, ":script_param_1_town_prosperity", 700),
				(val_add, reg0, ":script_param_1_town_prosperity"),
			(try_end)
		]),

	("dplmc_get_closest_center_or_two",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_get_closest_center", ":script_param_1"),
			(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_reg0", ":script_param_1", reg0),
			(val_mul, ":distance_to_party_from_party_script_param_1_reg0", 2),
			(val_add, ":distance_to_party_from_party_script_param_1_reg0", 1),
			(assign, reg1, -1),
			(try_for_range, ":party", "p_town_1", "p_salt_mine"),
				(neq, ":party", reg0),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_script_param_1_party", ":script_param_1", ":party"),
				(lt, ":distance_to_party_from_party_script_param_1_party", ":distance_to_party_from_party_script_param_1_reg0"),
				(store_distance_to_party_from_party, ":distance_to_party_from_party_reg0_party", reg0, ":party"),
				(gt, ":distance_to_party_from_party_reg0_party", ":distance_to_party_from_party_script_param_1_party"),
				(assign, ":distance_to_party_from_party_script_param_1_reg0", ":distance_to_party_from_party_script_param_1_party"),
				(assign, reg1, ":party"),
			(try_end)
		]),

	("party_entrench_time",
		[
			(call_script, "script_get_max_skill_of_player_party", "skl_engineer"),
			(assign, ":var_1", reg0),
			(val_mul, ":var_1", 2),
			(val_max, ":var_1", 1),
			(party_get_num_companions, ":num_companions_main_party", "p_main_party"),
			(val_mul, ":num_companions_main_party", 3),
			(val_max, ":num_companions_main_party", 3),
			(store_mul, ":value", ":num_companions_main_party", ":var_1"),
			(store_div, ":value_2", 2000, ":value"),
			(val_max, ":value_2", 2),
			(val_min, ":value_2", 32),
			(assign, reg5, ":value_2")
		]),

	("count_horses",
		[
			(assign, ":var_1", 0),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(assign, ":value", 0),
				(try_begin),
					(troop_is_mounted, ":party_stack_troop_id_main_party_number"),
					(party_stack_get_size, ":value", "p_main_party", ":number"),
					(val_add, ":var_1", ":value"),
				(try_end),
			(try_end),
			(assign, reg0, ":var_1")
		]),

	("loot_camp",
		[
			(assign, ":var_1", 0),
			(assign, ":var_2", 0),
			(store_random_in_range, ":random_in_range_0_2", 0, 2),
			(store_random_in_range, ":random_in_range_1_4", 1, 4),
			(store_random_in_range, ":random_in_range_0_500", 0, 500),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(str_clear, 1),
			(str_clear, 2),
			(str_clear, 3),
			(str_clear, 4),
			(str_clear, 5),
			(str_clear, 6),
			(try_for_range, ":number", 9, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(ge, ":inventory_slot_player_number", 0),
				(try_begin),
					(is_between, ":inventory_slot_player_number", "itm_trade_smoked_fish", "itm_trade_dummy01"),
					(val_add, ":var_1", 1),
					(le, ":var_1", ":random_in_range_1_4"),
					(troop_remove_item, "trp_player", ":inventory_slot_player_number"),
					(str_store_item_name, 1, ":inventory_slot_player_number"),
					(str_store_string, 2, "@{s2}{s1}, "),
					(str_store_string, 3, "@ The following food items were destroyed or looted: {s2}. "),
				(else_try),
					(is_between, ":inventory_slot_player_number", "itm_ho_swa_saddle_black", "itm_we_swa_axe_hatchet"),
					(neq, ":random_in_range_0_2", 0),
					(val_add, ":var_2", 1),
					(le, ":var_2", ":random_in_range_0_2"),
					(str_store_string, 5, "@ A pack horse has ran off!!"),
					(troop_remove_item, "trp_player", ":inventory_slot_player_number"),
				(else_try),
					(eq, ":inventory_slot_player_number", "itm_trade_tools"),
					(le, ":random_in_range_0_500", 100),
					(troop_remove_item, "trp_player", ":inventory_slot_player_number"),
					(str_store_string, 6, "@ Some tools have been broken or misplaced."),
				(try_end),
			(try_end),
			(store_troop_gold, ":troop_gold_player", "trp_player"),
			(store_div, ":value", ":troop_gold_player", 20),
			(store_div, ":value_2", ":troop_gold_player", 40),
			(store_random_in_range, ":random_in_range_value_2_value", ":value_2", ":value"),
			(troop_remove_gold, "trp_player", ":random_in_range_value_2_value"),
			(assign, reg3, ":random_in_range_value_2_value"),
			(str_store_string, 4, "@ {reg3}"),
			(dialog_box, "str_camp_loss", "str_camp_overrun")
		]),

	("init_temp_var",
		[
			(party_set_slot, "p_main_party", slot_village_bound_center, 0),
			(assign, "$entrench_time", 0),
			(assign, "$camp_supply", 1),
			(assign, "$drowning", 1),
			(assign, "$current_camp_party", -1),
			(party_set_slot, "p_main_party", slot_village_market_town, 0)
		]),

	("siege_camp_init",
		[
			(try_begin),
				(this_or_next|party_slot_eq, "p_main_party", slot_village_market_town, 0),
				(party_slot_eq, "p_main_party", slot_village_market_town, -1),
				(replace_scene_props, "spr_siege_wall_a", "spr_empty"),
				(replace_scene_props, "spr_siege_large_shield_a", "spr_empty"),
				(replace_scene_props, "spr_siege_camp_spikes", "spr_empty"),
				(replace_scene_props, "spr_siege_camp_tower", "spr_empty"),
			(try_end)
		]),

	("siege_camp_remove",
		[
			(replace_scene_props, "spr_siege_wall_a", "spr_empty"),
			(replace_scene_props, "spr_siege_large_shield_a", "spr_empty"),
			(replace_scene_props, "spr_siege_camp_spikes", "spr_empty"),
			(replace_scene_props, "spr_bell_tent", "spr_empty"),
			(replace_scene_props, "spr_bell_tent_inventory", "spr_empty"),
			(replace_scene_props, "spr_arena_sign", "spr_empty"),
			(replace_scene_props, "spr_siege_camp_tower", "spr_empty"),
			(replace_scene_props, "spr_siege_camp_bridge", "spr_empty")
		]),

	("visit_camp",
		[
			(party_get_current_terrain, ":current_terrain_main_party", "p_main_party"),
			(party_get_slot, ":main_party_village_bound_center", "p_main_party", slot_village_bound_center),
			(assign, ":value", "scn_not_entrenched_steppe"),
			(try_begin),
				(this_or_next|eq, ":main_party_village_bound_center", 1),
				(party_slot_eq, "p_main_party", slot_village_market_town, 1),
				(try_begin),
					(eq, ":current_terrain_main_party", 2),
					(assign, ":value", "scn_entrenched_steppe"),
				(else_try),
					(eq, ":current_terrain_main_party", 3),
					(assign, ":value", "scn_entrenched_plain"),
				(else_try),
					(eq, ":current_terrain_main_party", 4),
					(assign, ":value", "scn_entrenched_snow"),
				(else_try),
					(eq, ":current_terrain_main_party", 5),
					(assign, ":value", "scn_entrenched_desert"),
				(else_try),
					(eq, ":current_terrain_main_party", 10),
					(assign, ":value", "scn_entrenched_steppe_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 11),
					(assign, ":value", "scn_entrenched_plain_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 12),
					(assign, ":value", "scn_entrenched_snow_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 13),
					(assign, ":value", "scn_entrenched_desert_forest"),
				(try_end),
			(else_try),
				(eq, "$g_camp_mode", 1),
				(neq, ":main_party_village_bound_center", 1),
				(set_jump_mission, "mt_entrenched_encounter"),
				(assign, "$camp_supply", 1),
				(try_begin),
					(eq, ":current_terrain_main_party", 2),
					(assign, ":value", "scn_not_entrenched_steppe"),
				(else_try),
					(eq, ":current_terrain_main_party", 3),
					(assign, ":value", "scn_not_entrenched_plain"),
				(else_try),
					(eq, ":current_terrain_main_party", 4),
					(assign, ":value", "scn_not_entrenched_snow"),
				(else_try),
					(eq, ":current_terrain_main_party", 5),
					(assign, ":value", "scn_not_entrenched_desert"),
				(else_try),
					(eq, ":current_terrain_main_party", 10),
					(assign, ":value", "scn_not_entrenched_steppe_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 11),
					(assign, ":value", "scn_not_entrenched_plain_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 12),
					(assign, ":value", "scn_not_entrenched_snow_forest"),
				(else_try),
					(eq, ":current_terrain_main_party", 13),
					(assign, ":value", "scn_not_entrenched_desert_forest"),
				(try_end),
			(try_end),
			(modify_visitors_at_site, ":value"),
			(reset_visitors),
			(assign, ":var_4", 15),
			(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
				(try_begin),
					(main_party_has_troop, ":troop"),
					(set_visitor, ":var_4", ":troop"),
				(try_end),
				(val_add, ":var_4", 1),
			(try_end),
			(set_jump_mission, "mt_visit_entrenchment"),
			(set_jump_entry, 11),
			(jump_to_scene, ":value"),
			(change_screen_mission)
		]),

	("overlay_container_add_listbox_item",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(set_container_overlay, "$g_jrider_character_relation_listbox"),
			(create_text_overlay, reg10, 1, 4),
			(overlay_set_color, reg10, 14540253),
			(position_set_x, 1, 650),
			(position_set_y, 1, 750),
			(overlay_set_size, reg10, 1),
			(position_set_x, 1, 0),
			(position_set_y, 1, ":script_param_1"),
			(overlay_set_position, reg10, 1),
			(create_image_button_overlay, reg10, "mesh_white_plane", "mesh_white_plane"),
			(position_set_x, 1, 0),
			(position_set_y, 1, ":script_param_1"),
			(overlay_set_position, reg10, 1),
			(position_set_x, 1, 16000),
			(position_set_y, 1, 750),
			(overlay_set_size, reg10, 1),
			(overlay_set_alpha, reg10, 0),
			(overlay_set_color, reg10, 14540253),
			(store_add, ":value", "$g_base_character_presentation_storage_index", reg10),
			(troop_set_slot, "trp_temp_array_b", ":value", "$num_charinfo_candidates"),
			(try_begin),
				(try_begin),
					(this_or_next|eq, "$g_jrider_pres_called_from_menu", 1),
					(ge, "$g_jrider_reset_selected_on_faction", 1),
					(assign, "$character_info_id", ":script_param_2"),
					(assign, "$g_jrider_last_checked_indicator", reg10),
					(assign, "$g_latest_character_relation_entry", "$num_charinfo_candidates"),
				(try_end),
			(try_end),
			(set_container_overlay, -1)
		]),

	("fill_relation_canditate_list_for_presentation",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_1", 0),
				(try_for_range_backwards, ":var_3", "trp_knight_1_1_wife", "trp_heroes_end"),
					(troop_slot_ge, ":var_3", 5, 1),
					(troop_slot_eq, ":var_3", slot_troop_spouse, -1),
					(store_faction_of_troop, ":faction_of_troop_var_3", ":var_3"),
					(val_sub, ":faction_of_troop_var_3", "fac_player_supporters_faction"),
					(this_or_next|eq, "$g_jrider_faction_filter", -1),
					(eq, "$g_jrider_faction_filter", ":faction_of_troop_var_3"),
					(call_script, "script_troop_get_relation_with_troop", "trp_player", ":var_3"),
					(gt, reg0, 0),
					(assign, reg3, reg0),
					(str_store_troop_name, 2, ":var_3"),
					(store_current_hours, ":current_hours"),
					(troop_get_slot, ":var_3_last_talk_time", ":var_3", slot_troop_last_talk_time),
					(val_sub, ":current_hours", ":var_3_last_talk_time"),
					(store_div, ":value", ":current_hours", 24),
					(assign, reg4, ":value"),
					(str_store_string, 1, "@{s2}: {reg3}, {reg4} days"),
					(store_mul, ":value_2", "$num_charinfo_candidates", 16),
					(store_add, ":value_3", ":script_param_2", ":value_2"),
					(call_script, "script_overlay_container_add_listbox_item", ":value_3", ":var_3"),
					(store_add, ":value_4", "$g_base_character_presentation_storage_index", "$num_charinfo_candidates"),
					(troop_set_slot, "trp_temp_array_c", ":value_4", ":var_3"),
					(val_add, "$num_charinfo_candidates", 1),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 1),
				(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_set_slot, ":troop", slot_troop_temp_slot, 0),
				(try_end),
				(try_for_range, ":unused", "trp_npc1", "trp_knight_1_1_wife"),
					(assign, ":value_5", 101),
					(assign, ":value_6", -1),
					(try_for_range, ":troop", "trp_npc1", "trp_knight_1_1_wife"),
						(troop_slot_eq, ":troop", slot_troop_temp_slot, 0),
						(troop_slot_ge, ":troop", 5, 1),
						(troop_slot_eq, ":troop", slot_troop_occupation, 2),
						(call_script, "script_troop_get_player_relation", ":troop"),
						(assign, ":var_15", reg0),
						(le, ":var_15", ":value_5"),
						(assign, ":value_5", ":var_15"),
						(assign, ":value_6", ":troop"),
					(try_end),
					(gt, ":value_6", -1),
					(str_store_troop_name, 4, ":value_6"),
					(assign, reg4, ":value_5"),
					(str_store_string, 1, "@{s4}: {reg4}"),
					(troop_set_slot, ":value_6", slot_troop_temp_slot, 1),
					(store_faction_of_troop, ":faction_of_troop_value_6", ":value_6"),
					(val_sub, ":faction_of_troop_value_6", "fac_player_supporters_faction"),
					(this_or_next|eq, "$g_jrider_faction_filter", -1),
					(eq, "$g_jrider_faction_filter", ":faction_of_troop_value_6"),
					(store_mul, ":value_2", "$num_charinfo_candidates", 16),
					(store_add, ":value_3", ":script_param_2", ":value_2"),
					(call_script, "script_overlay_container_add_listbox_item", ":value_3", ":value_6"),
					(store_add, ":value_4", "$g_base_character_presentation_storage_index", "$num_charinfo_candidates"),
					(troop_set_slot, "trp_temp_array_c", ":value_4", ":value_6"),
					(val_add, "$num_charinfo_candidates", 1),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 2),
				(try_for_range_backwards, ":var_17", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_slot_eq, ":var_17", slot_troop_occupation, 5),
					(str_store_troop_name, 1, ":var_17"),
					(try_begin),
						(troop_slot_eq, ":var_17", slot_troop_current_mission, 1),
						(str_store_string, 1, "@{s1}(gathering support)"),
					(else_try),
						(troop_slot_eq, ":var_17", slot_troop_current_mission, 2),
						(str_store_string, 1, "@{s1} (intelligence)"),
					(else_try),
						(troop_slot_ge, ":var_17", 151, 3),
						(neg|troop_slot_eq, ":var_17", slot_troop_current_mission, 8),
						(str_store_string, 1, "@{s1} (embassy)"),
					(else_try),
						(eq, ":var_17", "$g_player_minister"),
						(str_store_string, 1, "@{s1} (minister"),
					(else_try),
						(main_party_has_troop, ":var_17"),
						(str_store_string, 1, "@{s1} (under arms)"),
					(else_try),
						(troop_slot_eq, ":var_17", slot_troop_current_mission, 8),
						(str_store_string, 1, "@{s1} (attempting to rejoin)"),
					(else_try),
						(troop_slot_ge, ":var_17", 12, 1),
						(str_store_string, 1, "@{s1} (separated after battle)"),
					(try_end),
					(store_mul, ":value_2", "$num_charinfo_candidates", 16),
					(store_add, ":value_3", ":script_param_2", ":value_2"),
					(call_script, "script_overlay_container_add_listbox_item", ":value_3", ":var_17"),
					(store_add, ":value_4", "$g_base_character_presentation_storage_index", "$num_charinfo_candidates"),
					(troop_set_slot, "trp_temp_array_c", ":value_4", ":var_17"),
					(val_add, "$num_charinfo_candidates", 1),
				(try_end),
				(try_begin),
					(str_store_troop_name, 1, "trp_player"),
					(store_mul, ":value_2", "$num_charinfo_candidates", 16),
					(store_add, ":value_3", ":script_param_2", ":value_2"),
					(call_script, "script_overlay_container_add_listbox_item", ":value_3", "trp_player"),
					(store_add, ":value_4", "$g_base_character_presentation_storage_index", "$num_charinfo_candidates"),
					(troop_set_slot, "trp_temp_array_c", ":value_4", "trp_player"),
					(val_add, "$num_charinfo_candidates", 1),
				(try_end),
			(try_end)
		]),

	("get_troop_relation_to_player_string",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_troop_get_player_relation", ":script_param_2"),
			(assign, ":var_3", reg0),
			(str_clear, 61),
			(store_add, ":value", ":var_3", 100),
			(val_add, ":value", 5),
			(store_div, ":value_2", ":value", 10),
			(val_clamp, ":value_2", 0, 20),
			(store_add, ":value_3", "str_relation_mnus_100_ns", ":value_2"),
			(try_begin),
				(neq, ":value_3", "str_relation_plus_0_ns"),
				(str_store_string, 61, ":value_3"),
			(else_try),
				(neq, reg0, 0),
				(str_is_empty, 61),
				(str_store_string, 61, "@Cozur is a cunt."),
			(else_try),
				(eq, reg0, 0),
				(str_is_empty, 61),
				(str_store_string, 61, "@Cozur is a cunt."),
			(try_end),
			(str_store_string_reg, ":script_param_1", 61)
		]),

	("get_troop_holdings",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 0),
			(assign, ":var_3", 0),
			(try_for_range_backwards, ":var_4", "p_town_1", "p_salt_mine"),
				(party_slot_eq, ":var_4", slot_town_lord, ":script_param_1"),
				(try_begin),
					(eq, ":var_3", 0),
					(str_store_party_name, 50, ":var_4"),
					(val_add, ":var_2", 1),
				(else_try),
					(eq, ":var_3", 1),
					(str_store_party_name, 57, ":var_4"),
					(str_store_string, 50, "@{s57} and {s50}"),
					(val_add, ":var_2", 1),
				(else_try),
					(str_store_party_name, 57, ":var_4"),
					(str_store_string, 50, "@{!}{s57}, {s50}"),
					(val_add, ":var_2", 1),
				(try_end),
				(val_add, ":var_3", 1),
			(try_end),
			(assign, reg50, ":var_2")
		]),

	("generate_extended_troop_relation_information_string",
		[
			(store_script_param, ":script_param_1", 1),
			(str_clear, 1),
			(str_clear, 2),
			(str_clear, 60),
			(str_clear, 42),
			(str_clear, 43),
			(str_clear, 44),
			(str_clear, 45),
			(str_clear, 46),
			(str_clear, 47),
			(str_clear, 48),
			(str_clear, 49),
			(str_clear, 50),
			(assign, reg40, 0),
			(assign, reg41, 0),
			(assign, reg43, 0),
			(assign, reg44, 0),
			(assign, reg46, 0),
			(assign, reg47, 0),
			(assign, reg48, 0),
			(assign, reg49, 0),
			(assign, reg50, 0),
			(assign, reg51, 0),
			(try_begin),
				(eq, ":script_param_1", "trp_player"),
				(overlay_set_display, "$g_jrider_character_faction_filter", 0),
				(str_store_troop_name, 1, ":script_param_1"),
				(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
				(assign, reg40, ":script_param_1_renown"),
				(troop_get_slot, ":script_param_1_days_on_mission", ":script_param_1", slot_troop_days_on_mission),
				(assign, reg41, ":script_param_1_days_on_mission"),
				(assign, reg42, "$player_honor"),
				(assign, reg43, "$player_right_to_rule"),
				(store_add, reg45, "$players_kingdom"),
				(try_begin),
					(is_between, "$players_kingdom", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(str_store_faction_name, 45, "$players_kingdom"),
				(else_try),
					(assign, reg45, 0),
					(str_store_string, 45, "@Calradia."),
				(try_end),
				(assign, ":value", "$players_kingdom"),
				(try_begin),
					(is_between, ":value", "fac_kingdom_1", "fac_kingdoms_end"),
					(str_store_string, 44, "@sworn man"),
				(else_try),
					(eq, ":value", "fac_player_supporters_faction"),
					(str_store_string, 44, "@ruler"),
				(else_try),
					(str_store_string, 44, "@free man"),
				(try_end),
				(faction_get_slot, ":players_kingdom_leader", "$players_kingdom", slot_faction_leader),
				(str_store_troop_name, 46, ":players_kingdom_leader"),
				(try_begin),
					(eq, ":players_kingdom_leader", ":script_param_1"),
					(assign, reg46, 0),
				(else_try),
					(assign, reg46, ":players_kingdom_leader"),
					(str_clear, 47),
					(str_clear, 60),
					(call_script, "script_get_troop_relation_to_player_string", 47, ":players_kingdom_leader"),
				(try_end),
				(call_script, "script_get_troop_holdings", ":script_param_1"),
				(str_store_string, 1, "@{s1} Renown: {reg40}, Controversy: {reg41}^Honor: {reg42}, Right to rule: {reg43}^                                  You are a {s44} of {s45}^{reg45?{reg46?Your liege, {s46},{s47}:You are the ruler of {s45}}:}^^Friends: ^Enemies: ^^Fiefs:^  {reg50?{s50}:no fief}"),
			(else_try),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(str_store_troop_name, 1, ":script_param_1"),
				(str_clear, 2),
				(str_clear, 60),
				(call_script, "script_get_troop_relation_to_player_string", 2, ":script_param_1"),
				(troop_get_slot, ":script_param_1_renown", ":script_param_1", slot_troop_renown),
				(assign, reg40, ":script_param_1_renown"),
				(troop_get_slot, ":script_param_1_days_on_mission", ":script_param_1", slot_troop_days_on_mission),
				(assign, reg41, ":script_param_1_days_on_mission"),
				(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
				(assign, reg42, "str_personality_archetypes"),
				(val_add, reg42, ":script_param_1_lord_reputation_type"),
				(str_store_string, 42, reg42),
				(assign, reg42, ":script_param_1_lord_reputation_type"),
				(troop_get_slot, ":script_param_1_intrigue_impatience", ":script_param_1", slot_troop_intrigue_impatience),
				(assign, reg43, ":script_param_1_intrigue_impatience"),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(troop_get_slot, ":value", ":script_param_1", slot_troop_original_faction),
				(try_begin),
					(val_sub, ":value", "fac_kingdom_1"),
					(val_add, ":value", "str_kingdom_1_adjective"),
					(str_store_string, 44, ":value"),
				(try_end),
				(str_store_faction_name, 45, ":faction_of_troop_script_param_1"),
				(faction_get_slot, ":players_kingdom_leader", ":faction_of_troop_script_param_1", slot_faction_leader),
				(str_store_troop_name, 46, ":players_kingdom_leader"),
				(try_begin),
					(eq, ":players_kingdom_leader", ":script_param_1"),
					(assign, reg46, 0),
				(else_try),
					(assign, reg46, ":players_kingdom_leader"),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":players_kingdom_leader"),
					(assign, reg47, reg0),
				(try_end),
				(troop_get_slot, reg51, ":script_param_1", slot_troop_promised_fief),
				(call_script, "script_get_troop_holdings", ":script_param_1"),
				(assign, reg48, 0),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 8, 0),
					(assign, reg48, 1),
					(troop_get_slot, ":script_param_1_prisoner_of_party", ":script_param_1", slot_troop_prisoner_of_party),
					(store_faction_of_party, ":faction_of_party_script_param_1_prisoner_of_party", ":script_param_1_prisoner_of_party"),
					(str_store_faction_name, 48, ":faction_of_party_script_param_1_prisoner_of_party"),
				(try_end),
				(store_current_hours, ":current_hours"),
				(troop_get_slot, ":script_param_1_last_talk_time", ":script_param_1", slot_troop_last_talk_time),
				(val_sub, ":current_hours", ":script_param_1_last_talk_time"),
				(store_div, reg49, ":current_hours", 24),
				(str_store_string, 1, "@{s1}{s2} {reg46?Reputed to be {s42}:}^Renown: {reg40}, Controversy: {reg41} {reg46?Impatience: {reg43}:}^                                    {s44} noble of the {s45}^{reg46?Liege: {s46}, Relation: {reg47}:Ruler of the {s45}}^^{reg48?Currently prisoner of the {s48}:}^                                    Days since last meeting: {reg49}^^Fiefs {reg51?(was promised a fief):}:^  {reg50?{s50}:no fief}"),
			(else_try),
				(is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(troop_slot_eq, ":script_param_1", slot_troop_spouse, -1),
				(str_store_troop_name, 1, ":script_param_1"),
				(str_clear, 2),
				(str_clear, 60),
				(call_script, "script_get_troop_relation_to_player_string", 2, ":script_param_1"),
				(troop_get_slot, ":script_param_1_days_on_mission", ":script_param_1", slot_troop_days_on_mission),
				(assign, reg41, ":script_param_1_days_on_mission"),
				(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
				(try_begin),
					(eq, ":script_param_1_lord_reputation_type", 21),
					(str_store_string, 42, "@conventional"),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 22),
					(str_store_string, 42, "@adventurous"),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 23),
					(str_store_string, 42, "@otherwordly"),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 24),
					(str_store_string, 42, "@ambitious"),
				(else_try),
					(eq, ":script_param_1_lord_reputation_type", 25),
					(str_store_string, 42, "@moralist"),
				(else_try),
					(assign, reg42, "str_personality_archetypes"),
					(val_add, reg42, ":script_param_1_lord_reputation_type"),
					(str_store_string, 42, reg42),
				(try_end),
				(troop_get_slot, ":script_param_1_met", ":script_param_1", slot_troop_met),
				(try_begin),
					(eq, ":script_param_1_met", 1),
					(str_store_string, 43, "@just met"),
				(else_try),
					(eq, ":script_param_1_met", 2),
					(str_store_string, 43, "@admirer"),
				(else_try),
					(eq, ":script_param_1_met", 3),
					(str_store_string, 43, "@promised"),
				(else_try),
					(eq, ":script_param_1_met", 4),
					(str_store_string, 43, "@breakup"),
				(else_try),
					(str_store_string, 43, "@unknown"),
				(try_end),
				(store_faction_of_troop, ":faction_of_troop_script_param_1", ":script_param_1"),
				(troop_get_slot, ":value", ":script_param_1", slot_troop_original_faction),
				(try_begin),
					(val_sub, ":value", "fac_kingdom_1"),
					(val_add, ":value", "str_kingdom_1_adjective"),
					(str_store_string, 44, ":value"),
				(try_end),
				(str_store_faction_name, 45, ":faction_of_troop_script_param_1"),
				(assign, reg46, 0),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 31, 0),
					(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_father),
					(assign, reg46, 1),
				(else_try),
					(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_guardian),
				(try_end),
				(str_store_troop_name, 46, ":script_param_1_father"),
				(str_clear, 47),
				(str_clear, 60),
				(call_script, "script_get_troop_relation_to_player_string", 47, ":script_param_1_father"),
				(try_begin),
					(troop_slot_ge, ":script_param_1_father", 38, 1),
					(assign, reg45, 1),
				(else_try),
					(assign, reg45, 0),
				(try_end),
				(assign, reg48, 0),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 34, 0),
					(troop_get_slot, reg48, ":script_param_1", slot_troop_betrothed),
					(str_store_troop_name, 48, reg48),
					(assign, reg48, 1),
				(try_end),
				(store_current_hours, ":current_hours"),
				(troop_get_slot, ":script_param_1_last_talk_time", ":script_param_1", slot_troop_last_talk_time),
				(val_sub, ":current_hours", ":script_param_1_last_talk_time"),
				(store_div, reg49, ":current_hours", 24),
				(assign, reg50, 0),
				(str_clear, 50),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_personalityclash2_state, 1),
					(val_add, reg50, 1),
					(str_store_string, 50, "@Heroic {s50}"),
				(try_end),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_personalitymatch_object, 1),
					(val_add, reg50, 1),
					(str_store_string, 50, "@Allegoric {s50}"),
				(try_end),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_personalitymatch_state, 1),
					(val_add, reg50, 1),
					(str_store_string, 50, "@Comic {s50}"),
				(try_end),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_personalityclash_penalties, 1),
					(val_add, reg50, 1),
					(str_store_string, 50, "@Mystic {s50}"),
				(try_end),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_home_speech_delivered, 1),
					(val_add, reg50, 1),
					(str_store_string, 50, "@Tragic {s50}"),
				(try_end),
				(str_store_string, 1, "@{s1}{s2} Controversy: {reg41}^Reputation: {s42}, Courtship state: {s43}^                                    Belongs to the {s45}^{reg46?Her father, {s46}:Her guardian, {s46}}{s47}^Allowed to visit: {reg45?yes:no} {reg48?Betrothed to {s48}:}^^                                  Days since last meeting: {reg49}^^Poems:^  {reg50?{s50}:no poem heard}"),
			(else_try),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(overlay_set_display, "$g_jrider_character_faction_filter", 0),
				(str_store_troop_name, 1, ":script_param_1"),
				(troop_get_slot, ":script_param_1_lord_reputation_type", ":script_param_1", slot_lord_reputation_type),
				(assign, reg42, "str_personality_archetypes"),
				(val_add, reg42, ":script_param_1_lord_reputation_type"),
				(str_store_string, 42, reg42),
				(troop_get_slot, ":script_param_1_home", ":script_param_1", slot_troop_home),
				(str_store_party_name, 43, ":script_param_1_home"),
				(troop_get_slot, ":script_param_1_town_with_contacts", ":script_param_1", slot_troop_town_with_contacts),
				(str_store_party_name, 44, ":script_param_1_town_with_contacts"),
				(store_faction_of_party, ":faction_of_party_script_param_1_town_with_contacts", ":script_param_1_town_with_contacts"),
				(str_store_faction_name, 45, ":faction_of_party_script_param_1_town_with_contacts"),
				(assign, reg48, 0),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 8, 0),
					(assign, reg48, 1),
					(troop_get_slot, ":script_param_1_prisoner_of_party", ":script_param_1", slot_troop_prisoner_of_party),
					(store_faction_of_party, ":faction_of_party_script_param_1_prisoner_of_party", ":script_param_1_prisoner_of_party"),
					(str_store_faction_name, 48, ":faction_of_party_script_param_1_prisoner_of_party"),
				(try_end),
				(store_current_hours, ":current_hours"),
				(troop_get_slot, ":script_param_1_last_talk_time", ":script_param_1", slot_troop_last_talk_time),
				(val_sub, ":current_hours", ":script_param_1_last_talk_time"),
				(store_div, reg49, ":current_hours", 24),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_current_mission, 1),
					(str_store_string, 50, "@Gathering support"),
				(else_try),
					(troop_slot_eq, ":script_param_1", slot_troop_current_mission, 2),
					(troop_get_slot, ":script_param_1_town_with_contacts", ":script_param_1", slot_troop_town_with_contacts),
					(store_faction_of_party, ":faction_of_party_script_param_1_town_with_contacts", ":script_param_1_town_with_contacts"),
					(str_store_faction_name, 66, ":faction_of_party_script_param_1_town_with_contacts"),
					(str_store_string, 50, "@Gathering intelligence in the {s66}"),
				(else_try),
					(troop_slot_ge, ":script_param_1", 151, 3),
					(neg|troop_slot_ge, ":script_param_1", 151, 8),
					(troop_get_slot, ":script_param_1", ":script_param_1", slot_troop_mission_object),
					(str_store_faction_name, 66, ":faction_of_troop_script_param_1"),
					(str_store_string, 50, "@Ambassy to {s66}"),
				(else_try),
					(eq, ":script_param_1", "$g_player_minister"),
					(str_store_string, 50, "@Minister"),
				(else_try),
					(str_store_string, 50, "@none"),
				(try_end),
				(troop_get_slot, reg50, ":script_param_1", slot_troop_days_on_mission),
				(str_store_string, 1, "@{s1}, {s2}^Reputation: {s42}^                                    Born at {s43}^Contact in {s44} of the {s45}.^                                  ^{reg48?Currently prisoner of the {s48}:}^Days since last talked to: {reg49}^^Current mission:^  {s50}{reg50?, back in {reg50} days.:}"),
			(try_end)
		]),

	("generate_knonwn_poems_string",
		[
			(assign, ":value", 0),
			(str_store_string, 1, "str_s1__poems_known"),
			(try_begin),
				(gt, "$allegoric_poem_recitations", 0),
				(str_store_string, 1, "str_s1_storming_the_castle_of_love_allegoric"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(gt, "$tragic_poem_recitations", 0),
				(str_store_string, 1, "str_s1_kais_and_layali_tragic"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(gt, "$comic_poem_recitations", 0),
				(str_store_string, 1, "str_s1_a_conversation_in_the_garden_comic"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(gt, "$heroic_poem_recitations", 0),
				(str_store_string, 1, "str_s1_helgered_and_kara_epic"),
				(val_add, ":value", 1),
			(try_end),
			(try_begin),
				(gt, "$mystic_poem_recitations", 0),
				(str_store_string, 1, "str_s1_a_hearts_desire_mystic"),
				(val_add, ":value", 1),
			(try_end),
			(try_for_range, ":value", 5),
				(str_store_string, 1, "@{s1}^"),
			(try_end)
		]),

	("food_consumption_display_message",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, reg1, ":script_param_1"),
			(assign, ":var_2", 0),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(try_for_range, ":number", 0, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(try_begin),
					(is_between, ":inventory_slot_player_number", "itm_trade_smoked_fish", "itm_trade_dummy01"),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":number"),
					(neq, ":inventory_slot_modifier_player_number", 41),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_player_number", "trp_player", ":number"),
					(val_add, ":var_2", ":troop_inventory_slot_item_amount_player_number"),
				(try_end),
			(try_end),
			(assign, ":var_8", ":var_2"),
			(val_mul, ":var_8", 14),
			(val_div, ":var_8", 24),
			(val_div, ":var_8", ":script_param_1"),
			(assign, ":var_9", ":var_8"),
			(assign, reg2, ":var_9"),
			(try_begin),
				(lt, reg2, 4),
				(display_message, "@Your party consumed {reg1} units of food{reg4?, {reg4} from foraging : }({reg2} days left).", 0x00ff0000),
			(else_try),
				(display_message, "@Your party consumed {reg1} units of food{reg4?, {reg4} from foraging : }({reg2} days left)."),
			(try_end)
		]),

	("forage_for_food",
		[
			(call_script, "script_get_max_skill_of_player_party", "skl_foraging"),
			(assign, ":var_1", reg0),
			(assign, ":var_2", reg1),
			(assign, ":value", 0),
			(assign, reg4, 0),
			(try_begin),
				(gt, ":var_1", 0),
				(try_begin),
					(assign, ":var_4", ":var_1"),
					(val_mul, ":var_4", 5),
					(assign, ":var_5", ":var_1"),
					(val_mul, ":var_5", 2),
					(try_for_parties, ":var_6"),
						(assign, ":var_7", 0),
						(this_or_next|party_slot_eq, ":var_6", slot_party_type, 3),
						(party_slot_eq, ":var_6", slot_party_type, 4),
						(neg|party_slot_eq, ":var_6", slot_village_state, 2),
						(store_distance_to_party_from_party, ":distance_to_party_from_party_var_6_main_party", ":var_6", "p_main_party"),
						(try_begin),
							(le, ":distance_to_party_from_party_var_6_main_party", ":var_5"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_production_sources_begin),
							(val_div, ":var_6_production_sources_begin", 1000),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_acres_vineyard),
							(val_div, ":var_6_production_sources_begin", 800),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_acres_vineyard),
							(val_div, ":var_6_production_sources_begin", 1000),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_acres_olives),
							(val_div, ":var_6_production_sources_begin", 1200),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_acres_dates),
							(val_div, ":var_6_production_sources_begin", 960),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_village_number_of_cattle),
							(val_div, ":var_6_production_sources_begin", 36),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_head_sheep),
							(val_div, ":var_6_production_sources_begin", 60),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_household_gardens),
							(val_add, ":var_7", 2),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_apiaries),
							(val_add, ":var_7", 1),
							(party_get_slot, ":var_6_production_sources_begin", ":var_6", slot_center_fur_traps),
							(val_add, ":var_7", ":var_6_production_sources_begin"),
							(val_add, ":value", ":var_7"),
						(try_end),
					(try_end),
					(party_get_current_terrain, ":current_terrain_main_party", "p_main_party"),
					(try_begin),
						(is_between, ":current_terrain_main_party", 7, 13),
						(assign, reg10, 4),
					(else_try),
						(is_between, ":current_terrain_main_party", 2, 3),
						(assign, reg10, 2),
					(else_try),
						(assign, reg10, 0),
					(try_end),
					(val_add, ":value", reg10),
					(try_begin),
						(gt, ":var_1", 1),
						(lt, ":var_1", 5),
						(val_mul, ":value", 3),
						(val_div, ":value", 2),
					(else_try),
						(gt, ":var_1", 4),
						(lt, ":var_1"),
						(val_mul, ":value", 2),
					(else_try),
						(gt, ":var_1", 7),
						(lt, ":var_1", 10),
						(val_mul, ":value", 5),
						(val_div, ":value", 2),
					(else_try),
						(ge, ":var_1", 10),
						(val_mul, ":value", 3),
					(try_end),
					(try_begin),
						(this_or_next|eq, "$g_camp_mode", 1),
						(eq, "$g_siege_force_wait", 1),
						(val_mul, ":value", 3),
						(val_div, ":value", 2),
					(try_end),
					(try_begin),
						(gt, ":value", ":var_4"),
						(assign, ":value", ":var_4"),
					(try_end),
					(assign, reg4, ":value"),
					(try_begin),
						(gt, ":value", 0),
						(str_store_troop_name, 2, ":var_2"),
						(display_message, "@{s2} managed to forage {reg4} units of food to complement supplies.", 0x0000ff00),
					(try_end),
				(try_end),
			(try_end)
		]),

	("troop_set_title_according_to_faction_gender_and_lands",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_type, ":type_script_param_1", ":script_param_1"),
			(try_begin),
				(is_between, ":script_param_2", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neg|is_between, ":script_param_1", "trp_kingdom_1_pretender", "trp_knight_1_1_wife"),
				(this_or_next|is_between, ":script_param_1", "trp_npc1", "trp_heroes_end"),
				(eq, ":script_param_1", "trp_player"),
				(neq, ":script_param_1", "trp_player"),
				(faction_get_slot, ":script_param_2_leader", ":script_param_2", slot_faction_leader),
				(str_store_troop_name_plural, 0, ":script_param_1"),
				(troop_get_type, ":type_script_param_1", ":script_param_1"),
				(assign, ":value", 0),
				(try_for_range, ":party", "p_town_1", "p_salt_mine"),
					(troop_get_slot, ":script_param_1_spouse", ":script_param_1", slot_troop_spouse),
					(neq, ":script_param_1", ":script_param_2_leader"),
					(neq, ":script_param_1_spouse", ":script_param_2_leader"),
					(lt, ":value", 3),
					(party_slot_ge, ":party", 7, 0),
					(this_or_next|party_slot_eq, ":party", slot_town_lord, ":script_param_1_spouse"),
					(party_slot_eq, ":party", slot_town_lord, ":script_param_1"),
					(try_begin),
						(party_slot_eq, ":party", slot_party_type, 3),
						(lt, ":value", 3),
						(assign, ":value", 3),
					(else_try),
						(party_slot_eq, ":party", slot_party_type, 2),
						(lt, ":value", 2),
						(assign, ":value", 2),
					(else_try),
						(party_slot_eq, ":party", slot_party_type, 4),
						(lt, ":value", 1),
						(assign, ":value", 1),
					(try_end),
				(try_end),
				(assign, ":value_2", 0),
				(troop_get_type, ":type_script_param_1", ":script_param_1"),
				(try_begin),
					(eq, ":type_script_param_1", 0),
					(try_begin),
						(eq, ":script_param_1", ":script_param_2_leader"),
						(assign, ":value_2", 4),
					(else_try),
						(assign, ":value_2", ":value"),
					(try_end),
				(else_try),
					(try_begin),
						(this_or_next|troop_slot_eq, ":script_param_1", slot_troop_spouse, ":script_param_2_leader"),
						(eq, ":script_param_1", ":script_param_2_leader"),
						(assign, ":value_2", 4),
					(else_try),
						(gt, ":value", 0),
						(assign, ":value_2", ":value"),
					(else_try),
						(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
						(assign, ":value_2", 0),
					(else_try),
						(troop_slot_ge, ":script_param_1", 30, 0),
						(assign, ":value_2", 0),
					(else_try),
						(assign, ":value_2", 5),
					(try_end),
				(try_end),
				(try_begin),
					(neq, ":script_param_1", ":script_param_2_leader"),
					(call_script, "script_troop_get_relation_with_troop", ":script_param_1", ":script_param_2_leader"),
					(assign, ":var_9", reg0),
					(str_clear, 61),
					(assign, reg10, 0),
					(try_begin),
						(this_or_next|gt, ":var_9", 19),
						(lt, ":var_9", -19),
						(assign, reg10, ":var_9"),
						(store_add, ":value_3", ":var_9", 100),
						(store_div, ":value_4", ":value_3", 20),
						(val_clamp, ":value_4", 0, 10),
						(store_add, ":value_5", "str_ruler_relation_mnus_100_ns", ":value_4"),
						(str_store_string, 61, ":value_5"),
					(try_end),
				(else_try),
					(str_clear, 61),
					(assign, reg10, 0),
				(try_end),
				(store_sub, ":value_6", ":script_param_2", "fac_player_supporters_faction"),
				(try_begin),
					(troop_get_type, ":type_script_param_1", ":script_param_1"),
					(eq, ":type_script_param_1", 0),
					(val_mul, ":value_6", 5),
					(val_add, ":value_6", "str_faction_title_male_player"),
				(else_try),
					(val_mul, ":value_6", 6),
					(val_add, ":value_6", "str_faction_title_female_player"),
				(try_end),
				(val_add, ":value_6", ":value_2"),
				(str_store_string, 1, ":value_6"),
				(troop_set_name, ":script_param_1", 1),
				(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
				(try_begin),
					(gt, ":script_param_1_leaded_party", 0),
					(str_store_troop_name, 5, ":script_param_1"),
					(party_set_name, ":script_param_1_leaded_party", "str_s5_s_party"),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":script_param_2", "fac_player_supporters_faction"),
				(neg|troop_slot_eq, ":script_param_1", slot_troop_occupation, 2),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(str_store_troop_name_plural, 0, ":script_param_1"),
				(try_begin),
					(troop_slot_eq, ":script_param_1", slot_troop_occupation, 5),
					(str_store_string, 1, "str_hero_titles_party"),
				(else_try),
					(call_script, "script_get_troop_specialisation", ":script_param_1", ":script_param_2"),
					(assign, ":value_6", reg0),
					(val_add, ":value_6", "str_hero_titles_none"),
					(str_store_string, 1, ":value_6"),
				(try_end),
				(troop_set_name, ":script_param_1", 1),
			(try_end)
		]),

	("get_troop_specialisation",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(neq, ":script_param_2", "fac_player_supporters_faction"),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(store_skill_level, ":skill_level_spotting_script_param_1", "skl_spotting", ":script_param_1"),
				(store_skill_level, ":skill_level_pathfinding_script_param_1", "skl_pathfinding", ":script_param_1"),
				(val_add, ":skill_level_spotting_script_param_1", ":skill_level_pathfinding_script_param_1"),
				(store_skill_level, ":skill_level_pathfinding_script_param_1", "skl_tracking", ":script_param_1"),
				(val_add, ":skill_level_spotting_script_param_1", ":skill_level_pathfinding_script_param_1"),
				(store_skill_level, ":skill_level_wound_treatment_script_param_1", "skl_wound_treatment", ":script_param_1"),
				(store_skill_level, ":skill_level_first_aid_script_param_1", "skl_first_aid", ":script_param_1"),
				(val_add, ":skill_level_wound_treatment_script_param_1", ":skill_level_first_aid_script_param_1"),
				(store_skill_level, ":skill_level_first_aid_script_param_1", "skl_surgery", ":script_param_1"),
				(val_add, ":skill_level_wound_treatment_script_param_1", ":skill_level_first_aid_script_param_1"),
				(store_skill_level, ":skill_level_tactics_script_param_1", "skl_tactics", ":script_param_1"),
				(store_skill_level, ":skill_level_engineer_script_param_1", "skl_engineer", ":script_param_1"),
				(val_add, ":skill_level_tactics_script_param_1", ":skill_level_engineer_script_param_1"),
				(store_skill_level, ":skill_level_engineer_script_param_1", "skl_trainer", ":script_param_1"),
				(val_add, ":skill_level_tactics_script_param_1", ":skill_level_engineer_script_param_1"),
				(store_skill_level, ":skill_level_trade_script_param_1", "skl_trade", ":script_param_1"),
				(store_skill_level, ":skill_level_looting_script_param_1", "skl_looting", ":script_param_1"),
				(val_add, ":skill_level_trade_script_param_1", ":skill_level_looting_script_param_1"),
				(val_mul, ":skill_level_trade_script_param_1", 3),
				(val_div, ":skill_level_trade_script_param_1", 2),
				(store_skill_level, ":skill_level_persuasion_script_param_1", "skl_persuasion", ":script_param_1"),
				(val_mul, ":skill_level_persuasion_script_param_1", 3),
				(try_begin),
					(eq, ":skill_level_persuasion_script_param_1", 0),
					(eq, ":skill_level_tactics_script_param_1", 0),
					(eq, ":skill_level_spotting_script_param_1", 0),
					(eq, ":skill_level_wound_treatment_script_param_1", 0),
					(eq, ":skill_level_trade_script_param_1", 0),
					(assign, reg0, 0),
				(else_try),
					(gt, ":skill_level_persuasion_script_param_1", 0),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_tactics_script_param_1"),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_spotting_script_param_1"),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_wound_treatment_script_param_1"),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_trade_script_param_1"),
					(assign, reg0, 1),
				(else_try),
					(gt, ":skill_level_tactics_script_param_1", 0),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_spotting_script_param_1"),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_wound_treatment_script_param_1"),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_trade_script_param_1"),
					(assign, reg0, 2),
				(else_try),
					(gt, ":skill_level_spotting_script_param_1", 0),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_wound_treatment_script_param_1"),
					(ge, ":skill_level_persuasion_script_param_1", ":skill_level_trade_script_param_1"),
					(assign, reg0, 3),
				(else_try),
					(gt, ":skill_level_wound_treatment_script_param_1", 0),
					(ge, ":skill_level_wound_treatment_script_param_1", ":skill_level_trade_script_param_1"),
					(assign, reg0, 4),
				(else_try),
					(gt, ":skill_level_trade_script_param_1", 0),
					(assign, reg0, 5),
				(try_end),
			(try_end)
		]),

	("get_relation_to_player_string",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, reg0, 0),
			(assign, reg1, 0),
			(try_begin),
				(eq, ":script_param_2", 0),
				(str_clear, 60),
				(call_script, "script_troop_get_player_relation", ":script_param_1"),
				(assign, ":value", reg0),
				(store_add, ":value_2", ":value", 100),
				(val_add, ":value_2", 5),
				(store_div, ":value_3", ":value_2", 10),
				(val_clamp, ":value_3", 0, 20),
				(store_add, ":value_4", "str_relation_mnus_100_ns", ":value_3"),
				(try_begin),
					(neq, ":value_4", "str_relation_plus_0_ns"),
					(str_store_string, 60, ":value_4"),
				(else_try),
					(neq, reg0, 0),
					(str_is_empty, 60),
					(str_store_string, 60, "@ "),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 1),
				(str_clear, 61),
				(store_relation, ":value", "fac_player_supporters_faction", ":script_param_1"),
				(try_begin),
					(neq, ":value", 0),
					(assign, reg1, ":value"),
				(try_end),
				(store_add, ":value_2", ":value", 100),
				(store_div, ":value_3", ":value_2", 10),
				(val_clamp, ":value_3", 0, 20),
				(store_add, ":value_4", "str_faction_relation_mnus_100_ns", ":value_3"),
				(str_store_string, 61, ":value_4"),
			(try_end)
		]),

	("change_looking_for_dialog_string",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_get_relation_to_player_string", ":script_param_1", 0),
			(try_begin),
				(is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(troop_slot_ge, ":script_param_1", 30, 0),
				(troop_get_slot, ":script_param_1_spouse", ":script_param_1", slot_troop_spouse),
				(str_store_troop_name, 3, ":script_param_1_spouse"),
				(str_store_string, 1, "@{s1}"),
			(else_try),
				(is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(troop_slot_eq, ":script_param_1", slot_troop_spouse, -1),
				(assign, reg1, -1),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 31, 0),
					(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_father),
					(str_store_troop_name, 3, ":script_param_1_father"),
					(assign, reg1, 1),
				(else_try),
					(troop_slot_ge, ":script_param_1", 33, 0),
					(troop_get_slot, ":script_param_1_guardian", ":script_param_1", slot_troop_guardian),
					(str_store_troop_name, 3, ":script_param_1_guardian"),
					(assign, reg1, 0),
				(try_end),
				(assign, reg4, 0),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 34, 0),
					(troop_get_slot, ":script_param_1_betrothed", ":script_param_1", slot_troop_betrothed),
					(str_store_troop_name, 5, ":script_param_1_betrothed"),
					(assign, reg4, 1),
				(try_end),
				(str_store_string, 1, "@{s1}"),
			(else_try),
				(neg|is_between, ":script_param_1", "trp_knight_1_1_wife", "trp_heroes_end"),
				(assign, reg1, 0),
				(assign, reg4, 0),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 31, 0),
					(troop_slot_ge, ":script_param_1", 32, 0),
					(troop_get_slot, ":script_param_1_father_2", ":script_param_1", slot_troop_father),
					(troop_get_slot, ":script_param_1_mother", ":script_param_1", slot_troop_mother),
					(is_between, ":script_param_1_father_2", "trp_npc1", "trp_knight_1_1_wife"),
					(is_between, ":script_param_1_mother", "trp_npc1", "trp_heroes_end"),
					(str_store_troop_name, 3, ":script_param_1_father_2"),
					(str_store_troop_name, 6, ":script_param_1_mother"),
					(assign, reg4, 1),
					(str_store_string, 5, "@{s3} and {s6}"),
				(else_try),
					(troop_slot_ge, ":script_param_1", 31, 0),
					(troop_get_slot, ":script_param_1_father_2", ":script_param_1", slot_troop_father),
					(is_between, ":script_param_1_father_2", "trp_npc1", "trp_knight_1_1_wife"),
					(str_store_troop_name, 3, ":script_param_1_father_2"),
					(assign, reg4, 1),
					(str_store_string, 5, "@{s3}"),
				(else_try),
					(troop_slot_ge, ":script_param_1", 32, 0),
					(troop_get_slot, ":script_param_1_mother", ":script_param_1", slot_troop_mother),
					(is_between, ":script_param_1_mother", "trp_npc1", "trp_heroes_end"),
					(str_store_troop_name, 3, ":script_param_1_mother"),
					(assign, reg4, 1),
					(str_store_string, 5, "@{s3}"),
				(try_end),
				(try_begin),
					(troop_slot_ge, ":script_param_1", 8, 0),
					(assign, reg1, 1),
				(try_end),
				(str_store_string, 1, "@{s1}"),
			(try_end)
		]),

	("change_minstrel_maiden_dialog_string",
		[
			(store_script_param, ":script_param_1", 1),
			(call_script, "script_get_relation_to_player_string", ":script_param_1", 0),
			(assign, reg1, -1),
			(try_begin),
				(troop_slot_ge, ":script_param_1", 31, 0),
				(troop_get_slot, ":script_param_1_father", ":script_param_1", slot_troop_father),
				(str_store_troop_name, 3, ":script_param_1_father"),
				(assign, reg1, 1),
			(else_try),
				(troop_slot_ge, ":script_param_1", 33, 0),
				(troop_get_slot, ":script_param_1_guardian", ":script_param_1", slot_troop_guardian),
				(str_store_troop_name, 3, ":script_param_1_guardian"),
				(assign, reg1, 0),
			(try_end),
			(assign, reg4, 0),
			(try_begin),
				(troop_slot_ge, ":script_param_1", 34, 0),
				(troop_get_slot, ":script_param_1_betrothed", ":script_param_1", slot_troop_betrothed),
				(str_store_troop_name, 5, ":script_param_1_betrothed"),
				(assign, reg4, 1),
			(try_end),
			(str_store_string, 10, "@{s10}")
		]),

	("set_diplomatic_emissary_skill_level_string",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(str_store_troop_name_plural, 65, ":script_param_1"),
			(try_begin),
				(store_skill_level, ":skill_level_script_param_2_script_param_1", ":script_param_2", ":script_param_1"),
				(assign, ":value", -1),
				(try_begin),
					(eq, ":skill_level_script_param_2_script_param_1", 1),
					(assign, ":value", 0),
					(str_store_string, 65, "@{s65}"),
				(else_try),
					(is_between, ":skill_level_script_param_2_script_param_1", 2, 4),
					(assign, ":value", 1),
					(str_store_string, 65, "@{s65}"),
				(else_try),
					(is_between, ":skill_level_script_param_2_script_param_1", 5, 7),
					(assign, ":value", 2),
					(str_store_string, 65, "@{s65}"),
				(else_try),
					(is_between, ":skill_level_script_param_2_script_param_1", 8, 9),
					(assign, ":value", 3),
					(str_store_string, 65, "@{s65}"),
				(else_try),
					(ge, ":value", 10),
					(assign, ":value", 4),
					(str_store_string, 65, "@{s65}"),
				(try_end),
				(try_begin),
					(ge, ":value", 0),
					(str_store_string, 11, "@{s65}"),
					(eq, ":script_param_3", 1),
					(troop_set_name, ":script_param_1", 65),
				(else_try),
					(str_store_troop_name, 11, ":script_param_1"),
				(try_end),
			(try_end)
		]),

	("change_diplomatic_action_ruler_kingdom_strings",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(call_script, "script_get_relation_to_player_string", ":script_param_1", 0),
			(call_script, "script_get_relation_to_player_string", ":script_param_2", 1),
			(str_store_string, 10, "@{s10}{reg0? (who{s60}):}"),
			(str_store_string, 11, "@{s11} ({s61})")
		]),

	("upgrade_troop_to_hero",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(main_party_has_troop, ":script_param_1"),
				(troop_slot_eq, ":script_param_2", slot_troop_occupation, ":script_param_1"),
				(troop_set_slot, ":script_param_2", slot_troop_occupation, 5),
				(party_remove_members, "p_main_party", ":script_param_1", 1),
				(party_add_members, "p_main_party", ":script_param_2", 1),
			(try_end)
		]),

	("mmfix_item_max_amount",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_inventory_slot_get_item_max_amount, reg0, ":script_param_1", ":script_param_2")
		]),

	("trade_ledger_create",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_array_create"),
			(assign, ":var_2", reg0),
			(party_set_slot, ":var_2", slot_party_type, -1),
			(str_store_troop_name_plural, 0, ":script_param_1"),
			(party_set_name, ":var_2", "@{s0} Trade Ledger Array"),
			(troop_set_slot, ":script_param_1", 155, ":var_2"),
			(try_begin),
				(neq, ":script_param_1", "trp_player"),
				(troop_get_slot, ":script_param_1_leaded_party", ":script_param_1", slot_troop_leaded_party),
				(gt, ":script_param_1_leaded_party", 0),
				(party_is_active, ":script_param_1_leaded_party"),
				(call_script, "script_array_set_owner", ":var_2", ":script_param_1_leaded_party"),
			(try_end),
			(str_clear, 0),
			(try_for_range, ":unused", 0, 5),
				(call_script, "script_array_create"),
				(call_script, "script_array_pushback", ":var_2", reg0),
				(call_script, "script_array_set_owner", reg0, ":var_2"),
				(party_set_name, reg0, 0),
			(try_end),
			(assign, reg0, ":var_2")
		]),

	("trade_ledger_write",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(troop_slot_ge, ":script_param_2", 155, 1),
				(troop_get_slot, ":script_param_2_155", ":script_param_2", 155),
				(call_script, "script_cf_array_is_array", ":script_param_2_155"),
			(else_try),
				(call_script, "script_trade_ledger_create", ":script_param_2"),
				(assign, ":script_param_2_155", reg0),
			(try_end),
			(call_script, "script_array_get_element", ":script_param_2_155", 0),
			(assign, ":var_4", reg0),
			(call_script, "script_array_get_element", ":script_param_2_155", 1),
			(assign, ":var_5", reg0),
			(call_script, "script_array_get_element", ":script_param_2_155", 2),
			(assign, ":var_6", reg0),
			(call_script, "script_array_get_element", ":script_param_2_155", 3),
			(assign, ":var_7", reg0),
			(call_script, "script_array_get_element", ":script_param_2_155", 4),
			(assign, ":var_8", reg0),
			(store_current_hours, ":current_hours"),
			(assign, ":value", 3),
			(try_for_range, ":unused", 0, ":script_param_1"),
				(call_script, "script_array_insert", ":var_4", 0, ":current_hours"),
				(call_script, "script_array_insert", ":var_5", 0, "$current_town"),
				(store_add, ":value_2", ":value", 3),
				(try_for_range, ":var_13", ":value", ":value_2"),
					(store_script_param, ":script_param_var_13", ":var_13"),
					(store_sub, reg1, ":var_13", ":value"),
					(eq, reg1, 0),
					(call_script, "script_array_insert", ":var_6", 0, ":script_param_var_13"),
				(else_try),
					(eq, reg1, 1),
					(call_script, "script_array_insert", ":var_7", 0, ":script_param_var_13"),
				(else_try),
					(eq, reg1, 2),
					(call_script, "script_array_insert", ":var_8", 0, ":script_param_var_13"),
				(try_end),
				(assign, ":value", ":value_2"),
			(try_end)
		]),

	("cf_trade_ledger_trim_entries",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(troop_get_slot, ":script_param_1_155", ":script_param_1", 155),
			(ge, ":script_param_1_155", 1),
			(call_script, "script_cf_array_is_array", ":script_param_1_155"),
			(call_script, "script_array_get_element", ":script_param_1_155", 0),
			(assign, ":var_5", reg0),
			(call_script, "script_array_get_element", ":script_param_1_155", 1),
			(assign, ":var_6", reg0),
			(call_script, "script_array_get_element", ":script_param_1_155", 2),
			(assign, ":var_7", reg0),
			(call_script, "script_array_get_element", ":script_param_1_155", 3),
			(assign, ":var_8", reg0),
			(call_script, "script_array_get_element", ":script_param_1_155", 4),
			(assign, ":var_9", reg0),
			(call_script, "script_array_get_size", ":var_5"),
			(assign, ":var_10", reg0),
			(call_script, "script_array_get_element", ":script_param_1_155", ":script_param_3"),
			(assign, ":var_11", reg0),
			(try_begin),
				(this_or_next|eq, ":script_param_3", 0),
				(eq, ":script_param_3", 4),
				(try_begin),
					(eq, ":script_param_3", 0),
					(store_current_hours, ":current_hours"),
					(val_mul, ":script_param_2", 24),
					(store_sub, ":script_param_2", ":current_hours", ":script_param_2"),
					(val_add, ":script_param_2", 12),
				(try_end),
				(try_for_range_backwards, ":value", 0, ":var_10"),
					(call_script, "script_cf_array_get_element", ":var_11", ":value"),
					(lt, reg0, ":script_param_2"),
					(call_script, "script_cf_array_remove", ":var_5", ":value"),
					(call_script, "script_cf_array_remove", ":var_6", ":value"),
					(call_script, "script_cf_array_remove", ":var_7", ":value"),
					(call_script, "script_cf_array_remove", ":var_8", ":value"),
					(call_script, "script_cf_array_remove", ":var_9", ":value"),
				(try_end),
			(else_try),
				(is_between, ":script_param_3", 1, 4),
				(try_for_range_backwards, ":value", 0, ":var_10"),
					(call_script, "script_cf_array_get_element", ":var_11", ":value"),
					(eq, reg0, ":script_param_2"),
					(call_script, "script_cf_array_remove", ":var_5", ":value"),
					(call_script, "script_cf_array_remove", ":var_6", ":value"),
					(call_script, "script_cf_array_remove", ":var_7", ":value"),
					(call_script, "script_cf_array_remove", ":var_8", ":value"),
					(call_script, "script_cf_array_remove", ":var_9", ":value"),
				(try_end),
			(try_end),
			(call_script, "script_array_get_size", ":var_5"),
			(store_sub, reg0, ":var_10", reg0),
			(gt, reg0, 0)
		]),

	("cf_trade_ledger_custom_assess_item",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(troop_slot_ge, "trp_player", 155, 1),
				(troop_get_slot, ":player_155", "trp_player", 155),
				(call_script, "script_cf_array_is_array", ":player_155"),
			(else_try),
				(call_script, "script_trade_ledger_create", "trp_player"),
				(assign, ":player_155", reg0),
			(try_end),
			(ge, ":script_param_2", 5),
			(assign, ":value", 0),
			(try_begin),
				(call_script, "script_cf_array_get_element", ":player_155", ":script_param_2"),
				(is_between, reg0, "itm_trade_spice", "itm_trade_dummy01"),
				(call_script, "script_cf_array_set_element", ":player_155", ":script_param_2", ":script_param_1"),
				(assign, ":value", 1),
			(else_try),
				(call_script, "script_cf_array_insert", ":player_155", ":script_param_2", ":script_param_1"),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 1)
		]),

	("cf_trade_ledger_custom_assess_duplicates",
		[
			(troop_get_slot, ":player_155", "trp_player", 155),
			(ge, ":player_155", 1),
			(call_script, "script_cf_array_is_array", ":player_155"),
			(assign, ":value", 0),
			(call_script, "script_get_max_skill_of_player_party", "skl_trade"),
			(assign, ":var_3", reg0),
			(val_max, ":var_3", 1),
			(val_add, ":var_3", 5),
			(try_for_range, ":number", 5, ":var_3"),
				(call_script, "script_cf_array_get_element", ":player_155", ":number"),
				(assign, ":var_5", reg0),
				(try_for_range_backwards, ":var_6", 5, ":var_3"),
					(neq, ":var_6", ":number"),
					(call_script, "script_cf_array_get_element", ":player_155", ":var_6"),
					(eq, reg0, ":var_5"),
					(call_script, "script_cf_array_remove", ":player_155", ":var_6"),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(eq, ":value", 1)
		]),

	("merchant_inventory_to_party_slot",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":var_3", 0),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 0, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":inventory_slot_script_param_1_number", 0),
				(item_get_type, ":type_inventory_slot_script_param_1_number", ":inventory_slot_script_param_1_number"),
				(eq, ":type_inventory_slot_script_param_1_number", 11),
				(val_add, ":var_3", 1),
				(store_add, ":value", ":inventory_capacity_script_param_1", 1),
				(try_for_range, ":number_2", 1, ":value"),
					(store_add, ":value_2", 500, ":number_2"),
					(party_slot_eq, ":script_param_2", ":value_2", 0),
					(party_set_slot, ":script_param_2", ":value_2", ":inventory_slot_script_param_1_number"),
					(assign, ":value", 0),
				(try_end),
			(try_end),
			(party_set_slot, ":script_param_2", slot_town_trade_good_productions_begin, ":var_3"),
			(troop_clear_inventory, ":script_param_1")
		]),

	("merchant_inventory_from_party_slot",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_clear_inventory, ":script_param_1"),
			(party_get_slot, ":script_param_2_town_trade_good_productions_begin", ":script_param_2", slot_town_trade_good_productions_begin),
			(val_add, ":script_param_2_town_trade_good_productions_begin", 1),
			(troop_ensure_inventory_space, ":script_param_1", ":script_param_2_town_trade_good_productions_begin"),
			(try_for_range, ":number", 1, ":script_param_2_town_trade_good_productions_begin"),
				(store_add, ":value", 500, ":number"),
				(party_slot_ge, ":script_param_2", ":value", 1),
				(party_get_slot, ":script_param_2_value", ":script_param_2", ":value"),
				(troop_add_item, ":script_param_1", ":script_param_2_value"),
				(party_set_slot, ":script_param_2", ":value", 0),
			(try_end),
			(troop_sort_inventory, ":script_param_1")
		]),

	("refresh_travelling_merchant_inventory",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", reg1),
			(party_get_slot, ":script_param_1_last_traded_center", ":script_param_1", slot_party_last_traded_center),
			(assign, ":var_4", "trp_temp_troop"),
			(val_div, ":var_2", 2),
			(party_get_slot, ":script_param_1_town_trade_good_productions_begin", ":script_param_1", slot_town_trade_good_productions_begin),
			(val_mul, ":var_2", ":script_param_1_town_trade_good_productions_begin"),
			(val_div, ":var_2", 13),
			(call_script, "script_merchant_inventory_from_party_slot", ":var_4", ":script_param_1"),
			(troop_clear_inventory, ":var_4"),
			(reset_item_probabilities, 0),
			(store_sub, ":value", 267, "itm_trade_spice"),
			(try_for_range, ":item", "itm_trade_spice", "itm_trade_dummy01"),
				(call_script, "script_center_get_production", ":script_param_1_last_traded_center", ":item"),
				(assign, ":value_2", reg0),
				(call_script, "script_center_get_consumption", ":script_param_1_last_traded_center", ":item"),
				(val_add, ":value_2", reg0),
				(try_begin),
					(this_or_next|eq, ":item", "itm_trade_cattle_meat"),
					(this_or_next|eq, ":item", "itm_trade_chicken"),
					(eq, ":item", "itm_trade_pork"),
					(assign, ":value_2", 0),
				(try_end),
				(val_mul, ":value_2", 3),
				(store_add, ":value_3", ":item", ":value"),
				(party_get_slot, ":script_param_1_value_3", ":script_param_1", ":value_3"),
				(val_mul, ":value_2", 1000),
				(val_div, ":value_2", ":script_param_1_value_3"),
				(val_mul, ":value_2", 1000),
				(val_div, ":value_2", ":script_param_1_value_3"),
				(val_mul, ":value_2", 1000),
				(val_div, ":value_2", ":script_param_1_value_3"),
				(set_item_probability_in_merchandise, ":item", ":value_2"),
			(try_end),
			(store_random_in_range, ":random_in_range_10_20", 10, 20),
			(try_begin),
				(party_get_slot, ":script_param_1_town_prosperity", ":script_param_1", slot_town_prosperity),
				(store_div, ":value_4", ":script_param_1_town_prosperity", 10),
				(val_add, ":random_in_range_10_20", ":value_4"),
			(try_end),
			(troop_add_merchandise, ":var_4", 11, ":random_in_range_10_20"),
			(troop_ensure_inventory_space, ":var_4", ":random_in_range_10_20"),
			(troop_sort_inventory, ":var_4"),
			(call_script, "script_merchant_inventory_to_party_slot", ":var_4", ":script_param_1"),
			(party_get_slot, ":script_param_1_town_wealth", ":script_param_1", slot_town_wealth),
			(val_add, ":script_param_1_town_wealth", ":var_2"),
			(store_sub, ":value_5", ":script_param_1_town_wealth", 1000),
			(try_begin),
				(gt, ":value_5", 1000),
				(store_mod, ":value_6", ":value_5", 500),
				(val_sub, ":script_param_1_town_wealth", ":value_5"),
				(val_add, ":script_param_1_town_wealth", ":value_6"),
				(val_div, ":value_5", 500),
				(try_begin),
					(store_party_size_wo_prisoners, ":party_size_wo_prisoners_script_param_1", ":script_param_1"),
					(lt, ":party_size_wo_prisoners_script_param_1", 60),
					(val_div, ":party_size_wo_prisoners_script_param_1", 10),
					(store_random_in_range, ":random_in_range_0_10", 0, 10),
					(val_sub, ":random_in_range_0_10", ":party_size_wo_prisoners_script_param_1"),
					(ge, ":random_in_range_0_10", 6),
					(try_begin),
						(eq, "$troop_trees", "trp_troop_tree_0"),
						(party_add_members, ":script_param_1", "trp_mercenary_infantry_1", ":value_5"),
					(else_try),
						(eq, "$troop_trees", "trp_troop_tree_1"),
						(party_add_members, ":script_param_1", "trp_mercenary_r_townsman", ":value_5"),
					(else_try),
						(eq, "$troop_trees", "trp_troop_tree_2"),
						(party_add_members, ":script_param_1", "trp_mercenary_infantry_1", ":value_5"),
					(try_end),
				(else_try),
					(val_add, ":script_param_1_town_prosperity", ":value_5"),
					(val_clamp, ":script_param_1_town_prosperity", 0, 101),
				(try_end),
			(try_end),
			(party_set_slot, ":script_param_1", slot_town_wealth, ":script_param_1_town_wealth"),
			(party_set_slot, ":script_param_1", slot_town_prosperity, ":script_param_1_town_prosperity")
		]),

	("trade_with_travelling_merchant",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":var_2", "$g_talk_troop"),
			(try_begin),
				(eq, ":script_param_1", 1),
				(call_script, "script_copy_inventory", ":var_2", "trp_temp_troop"),
				(call_script, "script_merchant_inventory_from_party_slot", ":var_2", "$g_encountered_party"),
				(store_troop_gold, ":troop_gold_var_2", ":var_2"),
				(troop_remove_gold, ":var_2", ":troop_gold_var_2"),
				(party_get_slot, ":g_encountered_party_town_wealth", "$g_encountered_party", slot_town_wealth),
				(troop_add_gold, ":var_2", ":g_encountered_party_town_wealth"),
				(try_for_range, ":number", 0, 9),
					(agent_get_item_slot, ":item_slot_g_talk_agent_number", "$g_talk_agent", ":number"),
					(gt, ":item_slot_g_talk_agent_number", 0),
					(troop_remove_item, "$g_talk_troop", ":item_slot_g_talk_agent_number"),
				(try_end),
				(store_script_param_2, reg60),
				(change_screen_trade),
			(else_try),
				(eq, ":script_param_1", 0),
				(call_script, "script_merchant_inventory_to_party_slot", ":var_2", "$g_encountered_party"),
				(party_get_slot, ":g_encountered_party_town_wealth", "$g_encountered_party", slot_town_wealth),
				(store_troop_gold, ":troop_gold_var_2", ":var_2"),
				(party_set_slot, "$g_encountered_party", slot_town_wealth, ":troop_gold_var_2"),
				(troop_remove_gold, ":var_2", ":troop_gold_var_2"),
				(try_begin),
					(lt, reg60, 4),
					(troop_slot_ge, "trp_player", 7, 200),
					(val_sub, ":g_encountered_party_town_wealth", ":troop_gold_var_2"),
					(val_abs, ":g_encountered_party_town_wealth"),
					(val_div, ":g_encountered_party_town_wealth", 100),
					(gt, ":g_encountered_party_town_wealth", 0),
					(store_random_in_range, ":random_in_range_0_3", 0, 3),
					(gt, ":random_in_range_0_3", 0),
					(val_mul, ":random_in_range_0_3", ":g_encountered_party_town_wealth"),
					(call_script, "script_change_player_relation_with_center", "$g_encountered_party", ":random_in_range_0_3"),
				(try_end),
				(call_script, "script_copy_inventory", "trp_temp_troop", ":var_2"),
				(assign, reg60, 0),
			(try_end)
		]),

	("initialize_fog",
		[
			(try_for_range, ":party", "p_town_1", "p_looter_spawn_point"),
				(eq, "$g_fog", 0),
				(party_set_flags, ":party", 16384, 1),
			(else_try),
				(eq, "$g_fog", 1),
				(party_slot_eq, ":party", 454, 0),
				(party_set_flags, ":party", 16384, 0),
			(try_end)
		]),

	("floris_set_default_prefs",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, "$drowning", 1),
			(assign, "$g_encumbrance_penalty", 0),
			(assign, "$g_dplmc_horse_speed", 0),
			(assign, "$cheat_mode", 0),
			(assign, "$disable_npc_complaints", 1),
			(assign, "$g_date", 0),
			(try_begin),
				(eq, ":script_param_1", 0),
				(assign, "$g_fog", 0),
			(try_end),
			(call_script, "script_initialize_fog"),
			(assign, "$g_wp_tpe_active", 1),
			(assign, "$g_disable_condescending_comments", 0),
			(assign, "$g_dplmc_ai_changes", 0),
			(assign, "$g_dplmc_gold_changes", 0),
			(assign, "$g_dplmc_lord_recycling", 0),
			(assign, "$g_dplmc_terrain_advantage", 0),
			(assign, "$g_hp_bar_dis_limit", 30),
			(assign, "$g_hp_bar_ally", 0),
			(assign, "$g_hp_bar_enemy", 0),
			(assign, "$g_report_extra_xp_and_wpt", 0),
			(assign, "$g_report_shot_distance", 1),
			(assign, "$g_speed_ai_battles", 1),
			(assign, "$g_rand_rain_limit", 30),
			(assign, "$g_show_minimap", 0),
			(assign, "$g_minimap_ratio", 80),
			(call_script, "script_prebattle_set_default_prefs")
		]),

	("player_get_value_of_original_items",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", 0),
			(try_for_range, ":number", 0, 8),
				(neg|player_item_slot_is_picked_up, ":script_param_1", ":number"),
				(agent_get_item_slot, ":item_slot_script_param_2_number", ":script_param_2", ":number"),
				(neq, ":item_slot_script_param_2_number", -1),
				(call_script, "script_multiplayer_get_item_value_for_troop", ":item_slot_script_param_2_number", ":script_param_3"),
				(val_add, ":var_4", reg0),
			(try_end),
			(try_for_agents, ":var_7"),
				(agent_is_alive, ":var_7"),
				(neg|agent_is_human, ":var_7"),
				(agent_get_slot, ":script_param_2_bought_horse", ":script_param_2", slot_agent_bought_horse),
				(eq, ":script_param_2_bought_horse", ":var_7"),
				(assign, ":value", 0),
				(try_begin),
					(agent_get_rider, ":rider_var_7", ":var_7"),
					(try_begin),
						(neq, ":rider_var_7", -1),
						(neg|agent_is_non_player, ":rider_var_7"),
						(agent_get_slot, ":script_param_2_bought_horse", ":rider_var_7", slot_agent_bought_horse),
						(eq, ":script_param_2_bought_horse", ":var_7"),
						(assign, ":value", 1),
					(else_try),
						(eq, ":rider_var_7", -1),
						(agent_get_horse, ":horse_script_param_2", ":script_param_2"),
						(eq, ":horse_script_param_2", -1),
						(agent_get_slot, ":script_param_2_bought_horse", ":script_param_2", slot_agent_bought_horse),
						(eq, ":script_param_2_bought_horse", ":var_7"),
						(assign, ":value", 1),
					(try_end),
					(eq, ":value", 1),
					(agent_get_item_id, ":item_id_var_7", ":var_7"),
					(call_script, "script_multiplayer_get_item_value_for_troop", ":item_id_var_7", ":script_param_3"),
					(val_add, ":var_4", reg0),
					(multiplayer_send_string_to_player, ":script_param_1", 111, "@Added money for your old horse"),
				(try_end),
			(try_end),
			(agent_set_slot, ":script_param_2", slot_agent_bought_horse, -1),
			(assign, reg0, ":var_4")
		]),

	("prebattle_order_update_text_slot",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(eq, ":script_param_2", -1),
				(str_store_string, 1, "str_space"),
			(else_try),
				(eq, ":script_param_1", 0),
				(try_begin),
					(eq, ":script_param_2", 0),
					(str_store_string, 1, "@Hold"),
				(else_try),
					(eq, ":script_param_2", 1),
					(str_store_string, 1, "@Follow Me"),
				(else_try),
					(eq, ":script_param_2", 2),
					(str_store_string, 1, "@Charge"),
				(else_try),
					(eq, ":script_param_2", 3),
					(str_store_string, 1, "@Stand Ground"),
				(try_end),
			(else_try),
				(this_or_next|eq, ":script_param_1", 1),
				(eq, ":script_param_1", 2),
				(try_begin),
					(eq, ":script_param_2", 3),
					(str_store_string, 1, "@Mount"),
				(else_try),
					(eq, ":script_param_2", 4),
					(str_store_string, 1, "@Dismount"),
				(else_try),
					(eq, ":script_param_2", 5),
					(str_store_string, 1, "@Forward 10"),
				(else_try),
					(eq, ":script_param_2", 6),
					(str_store_string, 1, "@Back 10"),
				(else_try),
					(eq, ":script_param_2", 7),
					(str_store_string, 1, "@Stand Closer"),
				(else_try),
					(eq, ":script_param_2", 8),
					(str_store_string, 1, "@Spread Out"),
				(try_end),
				(neg|is_between, ":script_param_2", 3, 5),
				(gt, ":script_param_3", 1),
				(assign, reg0, ":script_param_3"),
				(str_store_string, 1, "@{s1} x{reg0}"),
			(else_try),
				(eq, ":script_param_1", 3),
				(try_begin),
					(eq, ":script_param_2", 2),
					(str_store_string, 1, "@Ranks"),
				(else_try),
					(eq, ":script_param_2", 3),
					(str_store_string, 1, "@Shieldwall"),
				(else_try),
					(eq, ":script_param_2", 4),
					(str_store_string, 1, "@Wedge"),
				(else_try),
					(eq, ":script_param_2", 5),
					(str_store_string, 1, "@Square"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 4),
				(try_begin),
					(eq, ":script_param_2", 2),
					(str_store_string, 1, "@Hold Fire"),
				(else_try),
					(eq, ":script_param_2", 3),
					(str_store_string, 1, "@Fire at Will"),
				(else_try),
					(eq, ":script_param_2", 0),
					(str_store_string, 1, "@Any Weapon"),
				(else_try),
					(eq, ":script_param_2", 9),
					(str_store_string, 1, "@Blunt Weapons"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 5),
				(try_begin),
					(eq, ":script_param_2", 1),
					(str_store_string, 1, "@One Handed"),
				(else_try),
					(eq, ":script_param_2", 2),
					(str_store_string, 1, "@Two Handed"),
				(else_try),
					(eq, ":script_param_2", 3),
					(str_store_string, 1, "@Polearms"),
				(else_try),
					(eq, ":script_param_2", 0),
					(str_store_string, 1, "@Ranged"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 6),
				(try_begin),
					(eq, ":script_param_2", 4),
					(str_store_string, 1, "@Use Shield"),
				(else_try),
					(eq, ":script_param_2", 5),
					(str_store_string, 1, "@No Shields"),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 7),
				(try_begin),
					(eq, ":script_param_2", 1),
					(str_store_string, 1, "@Avoid Melee"),
				(try_end),
			(try_end),
			(store_mul, ":value", ":script_param_1", 10),
			(val_add, ":value", 250),
			(try_begin),
				(eq, "$group0_has_troops", 1),
				(eq, "$g_formation_group0_selected", 1),
				(store_add, ":value_2", ":value", 0),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but0_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but0_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but0_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg6, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg15, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg24, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg33, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg42, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group1_has_troops", 1),
				(eq, "$g_formation_group1_selected", 1),
				(store_add, ":value_2", ":value", 1),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but1_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but1_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but1_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg7, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg16, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg25, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg34, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg43, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group2_has_troops", 1),
				(eq, "$g_formation_group2_selected", 1),
				(store_add, ":value_2", ":value", 2),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but2_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but2_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but2_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg8, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg17, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg26, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg35, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg44, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group3_has_troops", 1),
				(eq, "$g_formation_group3_selected", 1),
				(store_add, ":value_2", ":value", 3),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but3_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but3_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but3_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg9, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg18, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg27, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg36, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg45, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group4_has_troops", 1),
				(eq, "$g_formation_group4_selected", 1),
				(store_add, ":value_2", ":value", 4),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but4_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but4_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but4_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg10, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg19, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg28, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg37, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg46, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group5_has_troops", 1),
				(eq, "$g_formation_group5_selected", 1),
				(store_add, ":value_2", ":value", 5),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but5_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but5_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but5_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg11, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg20, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg29, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg38, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg47, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group6_has_troops", 1),
				(eq, "$g_formation_group6_selected", 1),
				(store_add, ":value_2", ":value", 6),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but6_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but6_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but6_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg12, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg21, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg30, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg39, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg48, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group7_has_troops", 1),
				(eq, "$g_formation_group7_selected", 1),
				(store_add, ":value_2", ":value", 7),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but7_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but7_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but7_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg13, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg22, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg31, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg40, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg49, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$group8_has_troops", 1),
				(eq, "$g_formation_group8_selected", 1),
				(store_add, ":value_2", ":value", 8),
				(try_begin),
					(eq, ":script_param_1", 0),
					(overlay_set_text, "$g_presentation_but8_movement", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 1),
					(overlay_set_text, "$g_presentation_but8_riding", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 2),
					(overlay_set_text, "$g_presentation_but8_weapon_usage", 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
					(store_add, ":value_3", ":value_2", 70),
					(party_set_slot, "p_main_party", ":value_3", ":script_param_3"),
				(else_try),
					(eq, ":script_param_1", 3),
					(overlay_set_text, reg14, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 4),
					(overlay_set_text, reg23, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 5),
					(overlay_set_text, reg32, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 6),
					(overlay_set_text, reg41, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(else_try),
					(eq, ":script_param_1", 7),
					(overlay_set_text, reg50, 1),
					(party_set_slot, "p_main_party", ":value_2", ":script_param_2"),
				(try_end),
			(try_end)
		]),

	("prebattle_order_preview_orders",
		[
			(assign, ":var_1", 690),
			(assign, ":var_2", 8),
			(try_for_range, ":number", 0, 9),
				(try_begin),
					(eq, ":number", 0),
					(assign, ":value", "$group0_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 1),
					(assign, ":value", "$group1_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 2),
					(assign, ":value", "$group2_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 3),
					(assign, ":value", "$group3_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 4),
					(assign, ":value", "$group4_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 5),
					(assign, ":value", "$group5_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 6),
					(assign, ":value", "$group6_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 7),
					(assign, ":value", "$group7_has_troops"),
				(try_end),
				(try_begin),
					(eq, ":number", 8),
					(assign, ":value", "$group8_has_troops"),
				(try_end),
				(eq, ":value", 1),
				(str_store_class_name, 1, ":number"),
				(create_text_overlay, reg2, 1),
				(overlay_set_color, reg2, 7763574),
				(position_set_y, 1, ":var_1"),
				(position_set_x, 1, 700),
				(overlay_set_position, reg2, 1),
				(val_sub, ":var_1", 70),
				(try_for_range, ":number_2", 0, 2),
					(try_begin),
						(eq, ":number_2", 0),
						(assign, ":value_2", 0),
						(assign, ":value_3", 4),
					(else_try),
						(assign, ":value_2", 4),
						(assign, ":value_3", ":var_2"),
					(try_end),
					(assign, ":var_8", 0),
					(str_clear, 2),
					(try_for_range, ":var_9", ":value_2", ":value_3"),
						(store_mul, ":value_4", ":var_9", 10),
						(val_add, ":value_4", 250),
						(val_add, ":value_4", ":number"),
						(party_get_slot, ":main_party_value_4", "p_main_party", ":value_4"),
						(ge, ":main_party_value_4", 0),
						(try_begin),
							(ge, ":value_4", 250),
							(lt, ":value_4", 260),
							(assign, ":value_5", 1),
						(else_try),
							(ge, ":value_4", 260),
							(lt, ":value_4", 280),
							(assign, ":value_5", 2),
						(else_try),
							(ge, ":value_4", 280),
							(lt, ":value_4", 290),
							(assign, ":value_5", 4),
						(else_try),
							(ge, ":value_4", 290),
							(lt, ":value_4", 300),
							(assign, ":value_5", 3),
						(else_try),
							(ge, ":value_4", 300),
							(lt, ":value_4", 310),
							(assign, ":value_5", 5),
						(else_try),
							(ge, ":value_4", 310),
							(lt, ":value_4", 320),
							(assign, ":value_5", 6),
						(else_try),
							(ge, ":value_4", 320),
							(lt, ":value_4", 330),
							(assign, ":value_5", 7),
						(try_end),
						(try_begin),
							(eq, ":value_5", 1),
							(try_begin),
								(eq, ":main_party_value_4", 0),
								(str_store_string, 1, "@Hold Position"),
							(else_try),
								(eq, ":main_party_value_4", 1),
								(str_store_string, 1, "@Follow Me"),
							(else_try),
								(eq, ":main_party_value_4", 2),
								(str_store_string, 1, "@Charge"),
							(else_try),
								(eq, ":main_party_value_4", 3),
								(str_store_string, 1, "@Stand Ground"),
							(try_end),
						(else_try),
							(eq, ":value_5", 2),
							(try_begin),
								(eq, ":main_party_value_4", 3),
								(str_store_string, 1, "@Mount"),
							(else_try),
								(eq, ":main_party_value_4", 4),
								(str_store_string, 1, "@Dismount"),
							(else_try),
								(eq, ":main_party_value_4", 5),
								(str_store_string, 1, "@Forward 10"),
							(else_try),
								(eq, ":main_party_value_4", 6),
								(str_store_string, 1, "@Back 10 Paces"),
							(else_try),
								(eq, ":main_party_value_4", 7),
								(str_store_string, 1, "@Stand Closer"),
							(else_try),
								(eq, ":main_party_value_4", 8),
								(str_store_string, 1, "@Spread Out"),
							(try_end),
							(try_begin),
								(store_add, ":value_6", ":value_4", 70),
								(party_get_slot, ":main_party_value_6", "p_main_party", ":value_6"),
								(gt, ":main_party_value_6", 1),
								(assign, reg0, ":main_party_value_6"),
								(str_store_string, 1, "@{s1} x{reg0}"),
							(try_end),
						(else_try),
							(eq, ":value_5", 4),
							(try_begin),
								(eq, ":main_party_value_4", 2),
								(str_store_string, 1, "@Ranks"),
							(else_try),
								(eq, ":main_party_value_4", 3),
								(str_store_string, 1, "@Shieldwall"),
							(else_try),
								(eq, ":main_party_value_4", 4),
								(str_store_string, 1, "@Wedge"),
							(else_try),
								(eq, ":main_party_value_4", 5),
								(str_store_string, 1, "@Square"),
							(try_end),
						(else_try),
							(eq, ":value_5", 3),
							(try_begin),
								(eq, ":main_party_value_4", 0),
								(str_store_string, 1, "@Use Any Weapon"),
							(else_try),
								(eq, ":main_party_value_4", 9),
								(str_store_string, 1, "@Use Blunt Weapons"),
							(else_try),
								(eq, ":main_party_value_4", 2),
								(str_store_string, 1, "@Hold Fire"),
							(else_try),
								(eq, ":main_party_value_4", 3),
								(str_store_string, 1, "@Fire at Will"),
							(try_end),
						(else_try),
							(eq, ":value_5", 5),
							(try_begin),
								(eq, ":main_party_value_4", 1),
								(str_store_string, 1, "@One-Handed Weapons"),
							(else_try),
								(eq, ":main_party_value_4", 2),
								(str_store_string, 1, "@Two-Handed Weapons"),
							(else_try),
								(eq, ":main_party_value_4", 3),
								(str_store_string, 1, "@Polearms"),
							(else_try),
								(eq, ":main_party_value_4", 0),
								(str_store_string, 1, "@Ranged Weapons"),
							(try_end),
						(else_try),
							(eq, ":value_5", 6),
							(try_begin),
								(eq, ":main_party_value_4", 5),
								(str_store_string, 1, "@No Shields"),
							(else_try),
								(eq, ":main_party_value_4", 4),
								(str_store_string, 1, "@Use Shields"),
							(try_end),
						(else_try),
							(eq, ":value_5", 7),
							(eq, ":main_party_value_4", 1),
							(str_store_string, 1, "@Avoid Melee"),
						(try_end),
						(try_begin),
							(str_is_empty, 2),
							(str_store_string_reg, 2, 1),
						(else_try),
							(str_store_string, 2, "@{s2}^{s1}"),
						(try_end),
						(val_add, ":var_8", 1),
					(try_end),
					(try_begin),
						(eq, ":var_8", 0),
						(try_begin),
							(eq, ":number_2", 0),
							(str_store_string, 2, "@No Position Orders"),
						(else_try),
							(str_store_string, 2, "@No Weapons Orders"),
						(try_end),
					(try_end),
					(store_mul, ":value_7", ":var_8", 7),
					(store_sub, ":value_7", 50, ":value_7"),
					(store_add, ":value_8", ":var_1", ":value_7"),
					(position_set_y, 1, ":value_8"),
					(try_begin),
						(eq, ":number_2", 0),
						(position_set_x, 1, 720),
					(else_try),
						(position_set_x, 1, 830),
					(try_end),
					(try_begin),
						(eq, ":number", 0),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_1", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_1", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_11", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_11", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 1),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_2", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_2", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_12", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_12", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 2),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_3", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_3", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_13", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_13", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 3),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_4", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_4", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_14", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_14", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 4),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_5", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_5", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_15", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_15", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 5),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_6", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_6", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_16", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_16", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 6),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_7", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_7", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_17", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_17", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 7),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_8", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_8", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_18", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_18", 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":number", 8),
						(try_begin),
							(eq, ":number_2", 0),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_9", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_9", 1),
						(else_try),
							(overlay_set_text, "$g_presentation_obj_custom_battle_designer_19", 2),
							(overlay_set_position, "$g_presentation_obj_custom_battle_designer_19", 1),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("prebattle_order_store_orders",
		[
			(assign, ":value", 0),
			(assign, ":var_2", 0),
			(assign, ":value_2", 0),
			(assign, ":var_4", 8),
			(try_for_range, ":number", 0, 9),
				(try_begin),
					(eq, ":number", 0),
					(assign, ":value_3", "$group0_has_troops"),
				(else_try),
					(eq, ":number", 1),
					(assign, ":value_3", "$group1_has_troops"),
				(else_try),
					(eq, ":number", 2),
					(assign, ":value_3", "$group2_has_troops"),
				(else_try),
					(eq, ":number", 3),
					(assign, ":value_3", "$group3_has_troops"),
				(else_try),
					(eq, ":number", 4),
					(assign, ":value_3", "$group4_has_troops"),
				(else_try),
					(eq, ":number", 5),
					(assign, ":value_3", "$group5_has_troops"),
				(else_try),
					(eq, ":number", 6),
					(assign, ":value_3", "$group6_has_troops"),
				(else_try),
					(eq, ":number", 7),
					(assign, ":value_3", "$group7_has_troops"),
				(else_try),
					(eq, ":number", 8),
					(assign, ":value_3", "$group8_has_troops"),
				(try_end),
				(eq, ":value_3", 1),
				(try_for_range, ":number_2", 0, ":var_4"),
					(store_mul, ":value_4", ":number_2", 10),
					(val_add, ":value_4", 250),
					(val_add, ":value_4", ":number"),
					(party_get_slot, ":main_party_value_4", "p_main_party", ":value_4"),
					(ge, ":main_party_value_4", 0),
					(try_begin),
						(gt, ":value_4", ":value_2"),
						(assign, ":value_2", ":value_4"),
					(try_end),
					(try_begin),
						(ge, ":value_4", 250),
						(lt, ":value_4", 260),
						(assign, ":value_5", 1),
					(else_try),
						(ge, ":value_4", 260),
						(lt, ":value_4", 280),
						(assign, ":value_5", 2),
					(else_try),
						(ge, ":value_4", 280),
						(lt, ":value_4", 290),
						(assign, ":value_5", 4),
					(else_try),
						(ge, ":value_4", 290),
						(lt, ":value_4", 300),
						(assign, ":value_5", 3),
					(else_try),
						(ge, ":value_4", 300),
						(lt, ":value_4", 310),
						(assign, ":value_5", 5),
					(else_try),
						(ge, ":value_4", 310),
						(lt, ":value_4", 320),
						(assign, ":value_5", 6),
					(else_try),
						(ge, ":value_4", 320),
						(lt, ":value_4", 330),
						(assign, ":value_5", 7),
					(try_end),
					(store_mul, ":value_6", ":number", 100),
					(val_mul, ":value_5", 10),
					(store_add, ":value_7", ":value_6", ":value_5"),
					(val_add, ":value_7", ":main_party_value_4"),
					(party_set_slot, "p_main_party", ":value_4", ":value_7"),
					(val_add, ":var_2", 1),
					(eq, ":value", 0),
					(this_or_next|is_between, ":value_5", 50, 70),
					(eq, ":value_5", 20),
					(assign, ":value", 1),
					(eq, ":value_5", 20),
					(neg|is_between, ":main_party_value_4", 5, 9),
					(assign, ":value", 0),
				(try_end),
			(try_end),
			(try_begin),
				(gt, ":var_2", 0),
				(store_sub, ":value_8", ":value_2", 250),
				(val_add, ":value_8", 1),
			(else_try),
				(assign, ":value_8", 0),
				(party_set_slot, "p_main_party", slot_center_shipyards, 0),
			(try_end),
			(party_set_slot, "p_main_party", slot_center_household_gardens, ":value_8"),
			(try_begin),
				(eq, ":value", 1),
				(party_set_slot, "p_main_party_backup", slot_center_household_gardens, ":value_8"),
			(else_try),
				(party_set_slot, "p_main_party_backup", slot_center_household_gardens, 0),
			(try_end)
		]),

	("prebattle_order_get_stored",
		[
			(assign, ":var_1", 8),
			(store_mul, ":value", ":var_1", 10),
			(try_for_range, ":number", 0, ":value"),
				(store_add, ":value_2", ":number", 250),
				(party_get_slot, ":main_party_value_2", "p_main_party", ":value_2"),
				(try_begin),
					(ge, ":main_party_value_2", 10),
					(store_div, ":value_3", ":main_party_value_2", 100),
					(store_mul, ":value_4", ":value_3", 100),
					(val_sub, ":main_party_value_2", ":value_4"),
					(store_div, ":value_4", ":main_party_value_2", 10),
					(store_mul, ":value_5", ":value_4", 10),
					(store_sub, ":value_5", ":main_party_value_2", ":value_5"),
				(else_try),
					(assign, ":value_5", -1),
				(try_end),
				(try_begin),
					(ge, ":value_2", 250),
					(lt, ":value_2", 260),
					(assign, ":value_6", 0),
				(else_try),
					(ge, ":value_2", 260),
					(lt, ":value_2", 270),
					(assign, ":value_6", 1),
				(else_try),
					(ge, ":value_2", 270),
					(lt, ":value_2", 280),
					(assign, ":value_6", 2),
				(else_try),
					(ge, ":value_2", 280),
					(lt, ":value_2", 290),
					(assign, ":value_6", 3),
				(else_try),
					(ge, ":value_2", 290),
					(lt, ":value_2", 300),
					(assign, ":value_6", 4),
				(else_try),
					(ge, ":value_2", 300),
					(lt, ":value_2", 310),
					(assign, ":value_6", 5),
				(else_try),
					(ge, ":value_2", 310),
					(lt, ":value_2", 320),
					(assign, ":value_6", 6),
				(else_try),
					(ge, ":value_2", 320),
					(lt, ":value_2", 330),
					(assign, ":value_6", 7),
				(try_end),
				(store_mul, ":value_7", ":value_6", 10),
				(val_add, ":value_7", 250),
				(store_sub, ":value_3", ":value_2", ":value_7"),
				(assign, ":value_8", 0),
				(try_begin),
					(neq, ":value_5", -1),
					(this_or_next|eq, ":value_6", 1),
					(eq, ":value_6", 2),
					(store_add, ":value_9", ":value_2", 70),
					(party_get_slot, ":value_8", "p_main_party", ":value_9"),
					(val_max, ":value_8", 0),
				(try_end),
				(try_begin),
					(eq, ":value_3", 0),
					(assign, "$g_formation_group0_selected", 1),
				(else_try),
					(eq, ":value_3", 1),
					(assign, "$g_formation_group1_selected", 1),
				(else_try),
					(eq, ":value_3", 2),
					(assign, "$g_formation_group2_selected", 1),
				(else_try),
					(eq, ":value_3", 3),
					(assign, "$g_formation_group3_selected", 1),
				(else_try),
					(eq, ":value_3", 4),
					(assign, "$g_formation_group4_selected", 1),
				(else_try),
					(eq, ":value_3", 5),
					(assign, "$g_formation_group5_selected", 1),
				(else_try),
					(eq, ":value_3", 6),
					(assign, "$g_formation_group6_selected", 1),
				(else_try),
					(eq, ":value_3", 7),
					(assign, "$g_formation_group7_selected", 1),
				(else_try),
					(eq, ":value_3", 8),
					(assign, "$g_formation_group8_selected", 1),
				(try_end),
				(call_script, "script_prebattle_order_update_text_slot", ":value_6", ":value_5", ":value_8"),
				(assign, "$g_formation_group0_selected", 0),
				(assign, "$g_formation_group1_selected", 0),
				(assign, "$g_formation_group2_selected", 0),
				(assign, "$g_formation_group3_selected", 0),
				(assign, "$g_formation_group4_selected", 0),
				(assign, "$g_formation_group5_selected", 0),
				(assign, "$g_formation_group6_selected", 0),
				(assign, "$g_formation_group7_selected", 0),
				(assign, "$g_formation_group8_selected", 0),
			(try_end)
		]),

	("prebattle_order_clear_all",
		[
			(try_begin),
				(eq, "$group0_has_troops", 1),
				(assign, "$g_formation_group0_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group1_has_troops", 1),
				(assign, "$g_formation_group1_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group2_has_troops", 1),
				(assign, "$g_formation_group2_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group3_has_troops", 1),
				(assign, "$g_formation_group3_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group4_has_troops", 1),
				(assign, "$g_formation_group4_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group5_has_troops", 1),
				(assign, "$g_formation_group5_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group6_has_troops", 1),
				(assign, "$g_formation_group6_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group7_has_troops", 1),
				(assign, "$g_formation_group7_selected", 1),
			(try_end),
			(try_begin),
				(eq, "$group8_has_troops", 1),
				(assign, "$g_formation_group8_selected", 1),
			(try_end),
			(assign, ":var_1", 8),
			(try_for_range, ":number", 0, ":var_1"),
				(call_script, "script_prebattle_order_update_text_slot", ":number", -1, 0),
			(try_end),
			(try_for_range, ":number_2", 330, 350),
				(party_set_slot, "p_main_party", ":number_2", 0),
			(try_end),
			(overlay_set_val, reg51, 1),
			(overlay_set_val, reg52, 1),
			(assign, reg53, 0),
			(assign, reg54, 0),
			(try_begin),
				(eq, "$group0_has_troops", 1),
				(assign, "$g_formation_group0_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check0", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but0", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group1_has_troops", 1),
				(assign, "$g_formation_group1_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check1", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but1", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group2_has_troops", 1),
				(assign, "$g_formation_group2_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check2", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but2", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group3_has_troops", 1),
				(assign, "$g_formation_group3_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check3", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but3", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group4_has_troops", 1),
				(assign, "$g_formation_group4_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check4", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but4", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group5_has_troops", 1),
				(assign, "$g_formation_group5_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check5", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but5", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group6_has_troops", 1),
				(assign, "$g_formation_group6_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check6", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but6", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group7_has_troops", 1),
				(assign, "$g_formation_group7_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check7", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but7", 250, 0),
			(try_end),
			(try_begin),
				(eq, "$group8_has_troops", 1),
				(assign, "$g_formation_group8_selected", 0),
				(overlay_set_val, "$g_presentation_obj_battle_check8", 0),
				(overlay_animate_to_alpha, "$g_presentation_obj_battle_but8", 250, 0),
			(try_end)
		]),

	("prebattle_set_default_prefs",
		[
			(party_set_slot, "p_main_party", slot_town_arena_melee_mission_tpl, 1),
			(party_set_slot, "p_main_party", slot_town_arena_torny_mission_tpl, 1),
			(party_set_slot, "p_main_party", slot_town_arena_melee_1_num_teams, 1),
			(party_set_slot, "p_main_party", slot_town_arena_melee_1_team_size, 1),
			(party_set_slot, "p_main_party", slot_town_arena_melee_3_num_teams, 1),
			(party_set_slot, "p_main_party", slot_town_arena_melee_3_team_size, 1),
			(party_set_slot, "p_main_party", slot_town_arena_melee_cur_tier, 1),
			(party_set_slot, "p_main_party", slot_town_village_product, 9),
			(party_set_slot, "p_main_party", slot_town_rebellion_readiness, 9),
			(party_set_slot, "p_main_party", slot_town_arena_melee_2_team_size, 1),
			(party_set_slot, "p_main_party", slot_town_arena_melee_2_num_teams, 1),
			(party_set_slot, "p_main_party", 87, 1)
		]),

	("weapon_use_backup_weapon",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 0),
			(assign, ":value_2", 4),
			(try_for_range, ":number", 0, ":value_2"),
				(agent_get_item_slot, ":item_slot_script_param_1_number", ":script_param_1", ":number"),
				(gt, ":item_slot_script_param_1_number", 0),
				(item_get_type, ":type_item_slot_script_param_1_number", ":item_slot_script_param_1_number"),
				(try_begin),
					(eq, ":script_param_2", 0),
					(eq, ":type_item_slot_script_param_1_number", 2),
					(assign, ":value", 1),
					(assign, ":value_2", 0),
				(else_try),
					(is_between, ":type_item_slot_script_param_1_number", 2, 4),
					(assign, ":value", 1),
					(assign, ":value_2", 0),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 1),
				(agent_set_wielded_item, ":script_param_1", ":item_slot_script_param_1_number"),
			(try_end)
		]),

	("weapon_use_classify_agent",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(agent_is_alive, ":script_param_1"),
				(agent_is_non_player, ":script_param_1"),
				(try_begin),
					(agent_is_human, ":script_param_1"),
					(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
					(agent_get_wielded_item, ":wielded_item_script_param_1_0", ":script_param_1", 0),
					(neg|troop_is_guarantee_ranged, ":troop_id_script_param_1"),
					(neg|troop_is_guarantee_horse, ":troop_id_script_param_1"),
					(agent_get_ammo, ":ammo_script_param_1_0", ":script_param_1", 0),
					(le, ":ammo_script_param_1_0", 0),
					(try_begin),
						(gt, ":wielded_item_script_param_1_0", 0),
						(item_get_type, ":type_wielded_item_script_param_1_0", ":wielded_item_script_param_1_0"),
						(eq, ":type_wielded_item_script_param_1_0", 4),
						(agent_set_slot, ":script_param_1", 35, ":wielded_item_script_param_1_0"),
					(else_try),
						(assign, ":value", 4),
						(try_for_range, ":number", 0, ":value"),
							(agent_get_item_slot, ":item_slot_script_param_1_number", ":script_param_1", ":number"),
							(gt, ":item_slot_script_param_1_number", 0),
							(item_get_type, ":type_item_slot_script_param_1_number", ":item_slot_script_param_1_number"),
							(eq, ":type_item_slot_script_param_1_number", 4),
							(agent_set_slot, ":script_param_1", 35, ":item_slot_script_param_1_number"),
							(assign, ":value", 0),
						(try_end),
					(try_end),
				(else_try),
					(neg|agent_is_human, ":script_param_1"),
					(assign, ":var_10", ":script_param_1"),
					(agent_get_rider, ":script_param_1", ":var_10"),
					(agent_is_active, ":script_param_1"),
					(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
					(agent_get_wielded_item, ":wielded_item_script_param_1_0", ":script_param_1", 0),
					(try_begin),
						(neg|troop_is_guarantee_ranged, ":troop_id_script_param_1"),
						(try_begin),
							(gt, ":wielded_item_script_param_1_0", 0),
							(item_slot_eq, ":wielded_item_script_param_1_0", 46, 1),
							(agent_set_slot, ":script_param_1", 33, ":wielded_item_script_param_1_0"),
							(agent_set_slot, ":script_param_1", 35, 0),
						(else_try),
							(assign, ":value", 4),
							(try_for_range, ":number", 0, ":value"),
								(agent_get_item_slot, ":item_slot_script_param_1_number", ":script_param_1", ":number"),
								(gt, ":item_slot_script_param_1_number", 0),
								(item_slot_eq, ":item_slot_script_param_1_number", 46, 1),
								(agent_set_slot, ":script_param_1", 33, ":item_slot_script_param_1_number"),
								(agent_set_slot, ":script_param_1", 35, 0),
								(agent_set_wielded_item, ":script_param_1", ":item_slot_script_param_1_number"),
								(assign, ":value", 0),
							(try_end),
						(try_end),
					(else_try),
						(troop_is_guarantee_ranged, ":troop_id_script_param_1"),
						(try_begin),
							(gt, ":wielded_item_script_param_1_0", 0),
							(item_get_type, ":type_wielded_item_script_param_1_0_2", ":wielded_item_script_param_1_0"),
							(this_or_next|eq, ":type_wielded_item_script_param_1_0_2", 8),
							(eq, ":type_wielded_item_script_param_1_0_2", 9),
							(neg|item_slot_eq, ":wielded_item_script_param_1_0", 10, 1),
							(agent_set_slot, ":script_param_1", 34, ":wielded_item_script_param_1_0"),
							(agent_set_slot, ":script_param_1", 35, 0),
						(else_try),
							(assign, ":value", 4),
							(try_for_range, ":number", 0, ":value"),
								(agent_get_item_slot, ":item_slot_script_param_1_number", ":script_param_1", ":number"),
								(gt, ":item_slot_script_param_1_number", 0),
								(item_get_type, ":type_wielded_item_script_param_1_0_2", ":item_slot_script_param_1_number"),
								(this_or_next|eq, ":type_wielded_item_script_param_1_0_2", 8),
								(eq, ":type_wielded_item_script_param_1_0_2", 9),
								(neg|item_slot_eq, ":item_slot_script_param_1_number", 10, 1),
								(agent_set_wielded_item, ":script_param_1", ":item_slot_script_param_1_number"),
								(agent_set_slot, ":script_param_1", 34, ":item_slot_script_param_1_number"),
								(agent_set_slot, ":script_param_1", 35, 0),
								(assign, ":value", 0),
							(try_end),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("order_set_team_slot",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", -2),
			(assign, ":value_2", -2),
			(assign, ":value_3", -2),
			(assign, ":value_4", -2),
			(assign, ":value_5", -2),
			(try_begin),
				(eq, ":script_param_1", -1),
				(assign, ":value", -1),
				(assign, ":value_2", -1),
			(else_try),
				(this_or_next|eq, ":script_param_1", 0),
				(this_or_next|eq, ":script_param_1", 1),
				(eq, ":script_param_1", 3),
				(assign, ":value", ":script_param_1"),
			(else_try),
				(eq, ":script_param_1", 2),
				(assign, ":value", 2),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", 4),
				(assign, ":value_2", 1),
			(else_try),
				(eq, ":script_param_1", 5),
				(assign, ":value_2", 0),
			(else_try),
				(eq, ":script_param_1", 6),
				(assign, ":value_2", -1),
			(else_try),
				(eq, ":script_param_1", 8),
				(assign, ":value_3", 0),
			(else_try),
				(eq, ":script_param_1", 9),
				(assign, ":value_3", 1),
			(else_try),
				(eq, ":script_param_1", 10),
				(assign, ":value_4", 0),
			(else_try),
				(eq, ":script_param_1", 11),
				(assign, ":value_4", 1),
			(else_try),
				(eq, ":script_param_1", 12),
				(assign, ":value_5", 0),
			(else_try),
				(eq, ":script_param_1", 13),
				(assign, ":value_5", 1),
			(try_end),
			(try_for_range, ":number", 0, 9),
				(class_is_listening_order, ":script_param_2", ":number"),
				(try_begin),
					(neq, ":value", -2),
					(store_add, ":value_6", 300, ":number"),
					(team_set_slot, ":script_param_2", ":value_6", ":value"),
				(try_end),
				(try_begin),
					(neq, ":value_2", -2),
					(store_add, ":value_6", 309, ":number"),
					(team_set_slot, ":script_param_2", ":value_6", ":value_2"),
				(try_end),
				(try_begin),
					(neq, ":value_3", -2),
					(store_add, ":value_6", 318, ":number"),
					(team_set_slot, ":script_param_2", ":value_6", ":value_3"),
				(try_end),
				(try_begin),
					(neq, ":value_4", -2),
					(store_add, ":value_6", 327, ":number"),
					(team_set_slot, ":script_param_2", ":value_6", ":value_4"),
				(try_end),
				(try_begin),
					(neq, ":value_5", -2),
					(store_add, ":value_6", 336, ":number"),
					(team_set_slot, ":script_param_2", ":value_6", ":value_5"),
				(try_end),
			(try_end)
		]),

	("order_set_display_text",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(eq, ":script_param_1", 0),
				(str_store_string, 1, "@ready bows and missiles"),
			(else_try),
				(eq, ":script_param_1", 1),
				(str_store_string, 1, "@ready side arms"),
			(else_try),
				(eq, ":script_param_1", 2),
				(str_store_string, 1, "@ready two-handers"),
			(else_try),
				(eq, ":script_param_1", 3),
				(str_store_string, 1, "@ready polearms"),
			(else_try),
				(eq, ":script_param_1", 4),
				(str_store_string, 1, "@brandish shields"),
			(else_try),
				(eq, ":script_param_1", 5),
				(str_store_string, 1, "@doff your shields"),
			(else_try),
				(eq, ":script_param_1", 6),
				(str_store_string, 1, "@shields at will"),
			(else_try),
				(eq, ":script_param_1", 9),
				(str_store_string, 1, "@avoid melee"),
			(else_try),
				(eq, ":script_param_1", 8),
				(str_store_string, 1, "@stand and fight"),
			(else_try),
				(eq, ":script_param_1", 11),
				(str_store_string, 1, "@prepare to volley"),
			(else_try),
				(eq, ":script_param_1", 10),
				(str_store_string, 1, "@end volley"),
			(else_try),
				(eq, ":script_param_1", 13),
				(str_store_string, 1, "@brace for charge"),
			(else_try),
				(eq, ":script_param_1", 12),
				(str_store_string, 1, "@remove brace and fight"),
			(try_end),
			(try_for_range, ":number", 0, 9),
				(troop_set_slot, "trp_temp_array_a", ":number", 0),
				(troop_set_slot, "trp_temp_array_b", ":number", 0),
			(try_end),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range, ":number_2", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number_2", "p_main_party", ":number_2"),
				(neq, ":party_stack_troop_id_main_party_number_2", "trp_player"),
				(troop_get_class, ":number", ":party_stack_troop_id_main_party_number_2"),
				(troop_set_slot, "trp_temp_array_a", ":number", 1),
				(class_is_listening_order, "$fplayer_team_no", ":number"),
				(troop_set_slot, "trp_temp_array_b", ":number", 1),
			(try_end),
			(str_clear, 2),
			(str_clear, 3),
			(assign, ":var_6", 0),
			(assign, ":var_7", 0),
			(try_for_range, ":number", 0, 9),
				(troop_slot_eq, "trp_temp_array_a", ":number", 1),
				(val_add, ":var_6", 1),
				(troop_slot_eq, "trp_temp_array_b", ":number", 1),
				(val_add, ":var_7", 1),
				(try_begin),
					(str_is_empty, 2),
					(str_store_class_name, 2, ":number"),
				(else_try),
					(str_store_class_name, 3, ":number"),
					(str_store_string, 2, "@{!}{s2}, {s3}"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":var_7", ":var_6"),
				(str_store_string, 2, "@Everyone"),
			(try_end),
			(try_begin),
				(gt, ":var_7", 0),
				(display_message, "@{!}{s2}, {s1}!", 0xffdddd66),
			(try_end),
			(str_clear, 2),
			(str_clear, 3)
		]),

	("order_weapon_type_switch",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(call_script, "script_order_set_team_slot", ":script_param_1", ":script_param_2"),
			(try_for_agents, ":var_3"),
				(agent_is_alive, ":var_3"),
				(agent_is_human, ":var_3"),
				(agent_is_non_player, ":var_3"),
				(agent_get_team, ":team_var_3", ":var_3"),
				(eq, ":team_var_3", ":script_param_2"),
				(agent_get_division, ":division_var_3", ":var_3"),
				(class_is_listening_order, ":team_var_3", ":division_var_3"),
				(store_add, ":value", 309, ":division_var_3"),
				(team_get_slot, ":team_var_3_value", ":team_var_3", ":value"),
				(assign, ":value_2", 0),
				(assign, ":value_3", 0),
				(assign, ":value_4", 4),
				(try_for_range, ":number", 0, ":value_4"),
					(agent_get_item_slot, ":item_slot_var_3_number", ":var_3", ":number"),
					(gt, ":item_slot_var_3_number", 0),
					(item_get_type, ":type_item_slot_var_3_number", ":item_slot_var_3_number"),
					(try_begin),
						(eq, ":script_param_1", 0),
						(this_or_next|eq, ":type_item_slot_var_3_number", 8),
						(this_or_next|eq, ":type_item_slot_var_3_number", 9),
						(eq, ":type_item_slot_var_3_number", 10),
						(agent_set_wielded_item, ":var_3", ":item_slot_var_3_number"),
						(assign, ":value_4", 0),
					(else_try),
						(eq, ":script_param_1", 1),
						(eq, ":type_item_slot_var_3_number", 2),
						(agent_set_wielded_item, ":var_3", ":item_slot_var_3_number"),
						(assign, ":value_4", 0),
					(else_try),
						(eq, ":script_param_1", 2),
						(eq, ":type_item_slot_var_3_number", 3),
						(agent_set_wielded_item, ":var_3", ":item_slot_var_3_number"),
						(assign, ":value_4", 0),
						(agent_get_wielded_item, ":wielded_item_var_3_1", ":var_3", 1),
						(gt, ":wielded_item_var_3_1", 0),
						(agent_unequip_item, ":var_3", ":wielded_item_var_3_1"),
						(agent_equip_item, ":var_3", ":wielded_item_var_3_1"),
					(else_try),
						(eq, ":script_param_1", 3),
						(try_begin),
							(neq, ":team_var_3_value", 1),
							(eq, ":type_item_slot_var_3_number", 4),
							(agent_set_wielded_item, ":var_3", ":item_slot_var_3_number"),
							(assign, ":value_4", 0),
						(else_try),
							(eq, ":team_var_3_value", 1),
							(try_begin),
								(eq, ":value_3", 0),
								(eq, ":type_item_slot_var_3_number", 4),
								(agent_set_wielded_item, ":var_3", ":item_slot_var_3_number"),
								(assign, ":value_3", ":item_slot_var_3_number"),
							(try_end),
							(try_begin),
								(eq, ":type_item_slot_var_3_number", 7),
								(eq, ":value_2", 0),
								(assign, ":value_2", ":item_slot_var_3_number"),
							(try_end),
							(gt, ":value_3", 0),
							(gt, ":value_2", 0),
							(agent_set_wielded_item, ":var_3", ":value_2"),
							(assign, ":value_4", 0),
						(try_end),
					(else_try),
						(eq, ":script_param_1", 4),
						(agent_get_wielded_item, ":wielded_item_var_3_1", ":var_3", 1),
						(try_begin),
							(gt, ":wielded_item_var_3_1", 0),
							(assign, ":value_4", 0),
						(else_try),
							(le, ":wielded_item_var_3_1", 0),
							(eq, ":type_item_slot_var_3_number", 7),
							(assign, ":value_2", ":item_slot_var_3_number"),
							(agent_set_wielded_item, ":var_3", ":item_slot_var_3_number"),
							(assign, ":value_4", 0),
						(try_end),
					(else_try),
						(eq, ":script_param_1", 5),
						(agent_get_wielded_item, ":wielded_item_var_3_1", ":var_3", 1),
						(gt, ":wielded_item_var_3_1", 0),
						(item_get_type, ":type_wielded_item_var_3_1", ":wielded_item_var_3_1"),
						(eq, ":type_wielded_item_var_3_1", 7),
						(agent_unequip_item, ":var_3", ":wielded_item_var_3_1"),
						(agent_equip_item, ":var_3", ":wielded_item_var_3_1"),
						(assign, ":value_4", 0),
					(try_end),
				(try_end),
				(gt, ":value_2", 0),
				(agent_get_wielded_item, ":wielded_item_var_3_1", ":var_3", 1),
				(le, ":wielded_item_var_3_1", 0),
				(assign, ":value_4", 2),
				(try_for_range, ":number", 0, ":value_4"),
					(agent_get_wielded_item, ":wielded_item_var_3_0", ":var_3", 0),
					(gt, ":wielded_item_var_3_0", 0),
					(agent_unequip_item, ":var_3", ":wielded_item_var_3_0"),
					(agent_equip_item, ":var_3", ":wielded_item_var_3_0"),
					(agent_set_wielded_item, ":var_3", ":value_2"),
					(try_begin),
						(eq, ":number", 0),
						(gt, ":value_3", 0),
						(agent_set_wielded_item, ":var_3", ":value_3"),
					(try_end),
					(agent_get_wielded_item, ":wielded_item_var_3_1", ":var_3", 1),
					(gt, ":wielded_item_var_3_1", 0),
					(assign, ":value_4", 0),
				(try_end),
			(try_end)
		]),

	("cf_order_active_check",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(assign, ":value_2", 4),
			(store_add, ":value_3", ":script_param_1", 9),
			(try_for_range, ":number", 0, ":value_2"),
				(try_for_range, ":var_6", ":script_param_1", ":value_3"),
					(team_slot_ge, ":number", ":var_6", 1),
					(assign, ":value", 1),
					(assign, ":value_2", 0),
					(assign, ":value_3", ":script_param_1"),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", 336),
				(neq, ":value", 1),
				(ge, "$fplayer_agent_no", 0),
				(agent_slot_eq, "$fplayer_agent_no", 39, 1),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 1)
		]),

	("order_end_active_order",
		[
			(store_script_param_1, ":script_param_1"),
			(try_for_range, ":number", 0, 9),
				(class_is_listening_order, ":script_param_1", ":number"),
				(store_add, ":value", 318, ":number"),
				(try_begin),
					(team_slot_ge, ":script_param_1", ":value", 1),
					(call_script, "script_order_skirmish_begin_end", 0, ":script_param_1"),
					(eq, ":script_param_1", "$fplayer_team_no"),
					(call_script, "script_order_set_display_text", 8),
				(else_try),
					(val_add, ":value", 9),
					(team_slot_ge, ":script_param_1", ":value", 1),
					(call_script, "script_order_volley_begin_end", 0, ":script_param_1"),
					(eq, ":script_param_1", "$fplayer_team_no"),
					(call_script, "script_order_set_display_text", 10),
				(else_try),
					(val_add, ":value", 9),
					(team_slot_ge, ":script_param_1", ":value", 1),
					(call_script, "script_order_sp_brace_begin_end", 0, ":script_param_1"),
					(eq, ":script_param_1", "$fplayer_team_no"),
					(call_script, "script_order_set_display_text", 12),
				(try_end),
			(try_end)
		]),

	("order_sp_brace_begin_end",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_add, ":value", ":script_param_1", 12),
			(call_script, "script_order_set_team_slot", ":value", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", 0),
				(try_for_agents, ":var_4"),
					(agent_is_alive, ":var_4"),
					(agent_is_human, ":var_4"),
					(agent_is_non_player, ":var_4"),
					(agent_get_team, ":team_var_4", ":var_4"),
					(eq, ":team_var_4", ":script_param_2"),
					(agent_get_division, ":division_var_4", ":var_4"),
					(class_is_listening_order, ":team_var_4", ":division_var_4"),
					(agent_slot_ge, ":var_4", 38, 1),
					(agent_set_slot, ":var_4", 38, 0),
					(agent_get_animation, ":animation_var_4", ":var_4"),
					(this_or_next|eq, ":animation_var_4", "anim_spearwall_bracing"),
					(eq, ":animation_var_4", "anim_spearwall_bracing_low"),
					(agent_set_animation, ":var_4", "anim_spearwall_bracing_recover"),
					(agent_clear_scripted_mode, ":var_4"),
				(try_end),
				(try_begin),
					(neq, ":script_param_2", "$fplayer_team_no"),
					(call_script, "script_order_weapon_type_switch", 4, ":script_param_2"),
					(call_script, "script_order_set_team_slot", 6, ":script_param_2"),
				(try_end),
				(set_show_messages, 0),
				(team_get_leader, ":leader_script_param_2", ":script_param_2"),
				(try_for_range, ":division_var_4", 0, 9),
					(class_is_listening_order, ":script_param_2", ":division_var_4"),
					(store_add, ":value_2", 350, ":division_var_4"),
					(neg|team_slot_eq, ":script_param_2", ":value_2", 0),
					(team_get_slot, ":script_param_2_value_2", ":script_param_2", ":value_2"),
					(team_set_slot, ":script_param_2", ":value_2", 0),
					(store_add, ":value_2", 185, ":division_var_4"),
					(team_set_slot, ":script_param_2", ":value_2", ":script_param_2_value_2"),
					(store_add, ":value_2", 194, ":division_var_4"),
					(team_get_slot, ":script_param_2_value_2_2", ":script_param_2", ":value_2"),
					(call_script, "script_battlegroup_get_position", 1, ":script_param_2", ":division_var_4"),
					(try_begin),
						(call_script, "script_team_get_position_of_enemies", 24, ":script_param_2", 9),
						(neq, reg0, 0),
						(call_script, "script_point_y_toward_position", 1, 24),
					(try_end),
					(copy_position, 61, 1),
					(call_script, "script_form_infantry", ":script_param_2", ":division_var_4", ":leader_script_param_2", ":script_param_2_value_2_2", ":script_param_2_value_2"),
					(store_add, ":value_2", 203, ":division_var_4"),
					(team_set_slot, ":script_param_2", ":value_2", 0),
					(team_get_movement_order, reg0, ":script_param_2", ":division_var_4"),
					(try_begin),
						(neq, reg0, 0),
						(team_give_order, ":script_param_2", ":division_var_4", 0),
					(try_end),
					(call_script, "script_set_formation_destination", ":script_param_2", ":division_var_4", 61),
				(try_end),
				(set_show_messages, 1),
			(else_try),
				(eq, ":script_param_1", 1),
				(call_script, "script_order_weapon_type_switch", 5, ":script_param_2"),
				(try_for_range, ":division_var_4", 0, 9),
					(class_is_listening_order, ":script_param_2", ":division_var_4"),
					(store_add, ":value_2", 185, ":division_var_4"),
					(neg|team_slot_eq, ":script_param_2", ":value_2", 0),
					(team_get_slot, ":script_param_2_value_2", ":script_param_2", ":value_2"),
					(store_add, ":value_2", 350, ":division_var_4"),
					(team_set_slot, ":script_param_2", ":value_2", ":script_param_2_value_2"),
					(call_script, "script_formation_end", ":script_param_2", ":division_var_4"),
				(try_end),
				(neq, ":script_param_2", "$fplayer_team_no"),
				(store_add, ":value_2", 203, 0),
				(team_set_slot, ":script_param_2", ":value_2", 0),
				(team_get_movement_order, reg0, ":script_param_2", 0),
				(try_begin),
					(neq, reg0, 0),
					(team_give_order, ":script_param_2", 0, 0),
				(try_end),
				(call_script, "script_set_formation_destination", ":script_param_2", 0, 2),
			(try_end)
		]),

	("order_volley_begin_end",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_add, ":value", ":script_param_1", 10),
			(call_script, "script_order_set_team_slot", ":value", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", 0),
				(try_for_agents, ":value_2"),
					(agent_is_alive, ":value_2"),
					(agent_is_human, ":value_2"),
					(agent_is_non_player, ":value_2"),
					(agent_get_team, ":team_value_2", ":value_2"),
					(eq, ":team_value_2", ":script_param_2"),
					(agent_get_division, ":division_value_2", ":value_2"),
					(class_is_listening_order, ":team_value_2", ":division_value_2"),
					(agent_slot_ge, ":value_2", 37, 1),
					(agent_set_slot, ":value_2", 37, 0),
					(agent_set_attack_action, ":value_2", 0, 0),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 1),
				(call_script, "script_order_skirmish_begin_end", 0, ":script_param_2"),
				(try_for_agents, ":value_2"),
					(agent_is_non_player, ":value_2"),
					(agent_is_alive, ":value_2"),
					(agent_is_human, ":value_2"),
					(agent_slot_eq, ":value_2", slot_agent_is_running_away, 0),
					(agent_get_team, ":team_value_2", ":value_2"),
					(eq, ":team_value_2", ":script_param_2"),
					(agent_get_division, ":division_value_2_2", ":value_2"),
					(class_is_listening_order, ":team_value_2", ":division_value_2_2"),
					(agent_get_horse, ":horse_value_2", ":value_2"),
					(le, ":horse_value_2", 0),
					(assign, ":value_3", -1),
					(try_begin),
						(team_get_movement_order, ":movement_order_team_value_2_division_value_2_2", ":team_value_2", ":division_value_2_2"),
						(this_or_next|eq, ":movement_order_team_value_2_division_value_2_2", 0),
						(eq, ":movement_order_team_value_2_division_value_2_2", 11),
						(agent_get_wielded_item, ":wielded_item_value_2_0", ":value_2", 0),
						(ge, ":wielded_item_value_2_0", 0),
						(item_get_type, ":type_wielded_item_value_2_0", ":wielded_item_value_2_0"),
						(try_begin),
							(this_or_next|eq, ":type_wielded_item_value_2_0", 8),
							(eq, ":type_wielded_item_value_2_0", 9),
							(assign, ":value_3", ":type_wielded_item_value_2_0"),
						(else_try),
							(assign, ":value_4", 4),
							(try_for_range, ":number", 0, ":value_4"),
								(agent_get_item_slot, ":item_slot_value_2_number", ":value_2", ":number"),
								(ge, ":item_slot_value_2_number", 0),
								(item_get_type, ":type_wielded_item_value_2_0", ":item_slot_value_2_number"),
								(this_or_next|eq, ":type_wielded_item_value_2_0", 8),
								(eq, ":type_wielded_item_value_2_0", 9),
								(agent_set_wielded_item, ":value_2", ":item_slot_value_2_number"),
								(assign, ":value_3", ":type_wielded_item_value_2_0"),
								(assign, ":value_4", 0),
							(try_end),
						(try_end),
					(try_end),
					(agent_set_slot, ":value_2", 37, ":value_3"),
				(try_end),
			(try_end)
		]),

	("order_skirmish_begin_end",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_add, ":value", ":script_param_1", 8),
			(call_script, "script_order_set_team_slot", ":value", ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", 0),
				(try_for_agents, ":var_4"),
					(agent_is_alive, ":var_4"),
					(agent_is_human, ":var_4"),
					(agent_is_non_player, ":var_4"),
					(agent_get_team, ":team_var_4", ":var_4"),
					(eq, ":team_var_4", ":script_param_2"),
					(agent_get_division, ":division_var_4", ":var_4"),
					(class_is_listening_order, ":team_var_4", ":division_var_4"),
					(try_begin),
						(agent_slot_eq, ":var_4", slot_agent_is_running_away, 0),
						(agent_stop_running_away, ":var_4"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 1),
				(call_script, "script_order_volley_begin_end", 0, ":script_param_2"),
				(call_script, "script_order_skirmish_skirmish"),
			(try_end)
		]),

	("order_skirmish_skirmish",
		[
			(set_fixed_point_multiplier, 1),
			(try_for_agents, ":var_1"),
				(agent_is_alive, ":var_1"),
				(agent_is_human, ":var_1"),
				(agent_is_non_player, ":var_1"),
				(agent_get_team, ":team_var_1", ":var_1"),
				(agent_slot_eq, ":var_1", slot_agent_is_running_away, 0),
				(agent_get_division, ":division_var_1", ":var_1"),
				(store_add, ":value", 318, ":division_var_1"),
				(team_slot_eq, ":team_var_1", ":value", 1),
				(agent_get_position, 1, ":var_1"),
				(position_get_x, ":position_x_1", 1),
				(position_get_y, ":position_y_1", 1),
				(store_sub, ":value_2", ":position_x_1", "$g_bound_right"),
				(store_sub, ":value_3", ":position_y_1", "$g_bound_top"),
				(store_sub, ":value_4", "$g_bound_left", ":position_x_1"),
				(store_sub, ":value_5", "$g_bound_bottom", ":position_y_1"),
				(agent_get_ammo, ":ammo_var_1", ":var_1"),
				(try_begin),
					(this_or_next|le, ":ammo_var_1", 0),
					(this_or_next|le, ":value_2", 25),
					(this_or_next|le, ":value_3", 25),
					(this_or_next|le, ":value_4", 25),
					(le, ":value_5", 25),
					(agent_stop_running_away, ":var_1"),
					(agent_force_rethink, ":var_1"),
				(else_try),
					(call_script, "script_get_closest3_distance_of_enemies_at_pos1", ":team_var_1", 1),
					(assign, ":var_12", reg0),
					(assign, ":var_13", reg1),
					(try_begin),
						(this_or_next|lt, ":var_12", 1500),
						(lt, ":var_13", 700),
						(agent_start_running_away, ":var_1"),
					(else_try),
						(ge, ":var_12", 2500),
						(agent_stop_running_away, ":var_1"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("cf_shield_bash",
		[
			(agent_get_animation, ":animation_fplayer_agent_no_0", "$fplayer_agent_no", 0),
			(neq, ":animation_fplayer_agent_no_0", "anim_shield_bash"),
			(agent_get_horse, ":horse_l_fplayer_agent_no", "$fplayer_agent_no"),
			(eq, ":horse_l_fplayer_agent_no", -1),
			(agent_get_defend_action, ":defend_action_l_fplayer_agent_no", "$fplayer_agent_no"),
			(eq, ":defend_action_l_fplayer_agent_no", 2),
			(agent_get_wielded_item, ":wielded_item_fplayer_agent_no_1", "$fplayer_agent_no", 1),
			(gt, ":wielded_item_fplayer_agent_no_1", 0),
			(item_get_type, ":type_wielded_item_fplayer_agent_no_1", ":wielded_item_fplayer_agent_no_1"),
			(eq, ":type_wielded_item_fplayer_agent_no_1", 7),
			(item_get_slot, ":wielded_item_fplayer_agent_no_1_42", ":wielded_item_fplayer_agent_no_1", 42),
			(ge, ":wielded_item_fplayer_agent_no_1_42", 50),
			(agent_set_animation, "$fplayer_agent_no", "anim_shield_bash"),
			(agent_get_position, 63, "$fplayer_agent_no"),
			(position_move_y, 63, 75),
			(agent_get_troop_id, ":troop_id_l_fplayer_agent_no", "$fplayer_agent_no"),
			(troop_get_type, ":type_wielded_item_fplayer_agent_no_1", ":troop_id_l_fplayer_agent_no"),
			(try_begin),
				(eq, ":type_wielded_item_fplayer_agent_no_1", 0),
				(agent_play_sound, "$fplayer_agent_no", "snd_man_yell"),
			(else_try),
				(agent_play_sound, "$fplayer_agent_no", "snd_woman_yell"),
			(try_end),
			(assign, ":value", -1),
			(assign, ":value_2", 100),
			(try_for_agents, ":var_10"),
				(neq, ":var_10", "$fplayer_agent_no"),
				(neg|agent_is_ally, ":var_10"),
				(agent_is_human, ":var_10"),
				(agent_is_alive, ":var_10"),
				(agent_get_horse, ":horse_l_fplayer_agent_no", ":var_10"),
				(eq, ":horse_l_fplayer_agent_no", -1),
				(agent_get_position, 62, ":var_10"),
				(neg|position_is_behind_position, 62, 63),
				(get_distance_between_positions, ":distance_between_positions_63_62", 63, 62),
				(le, ":distance_between_positions_63_62", ":value_2"),
				(assign, ":value", ":var_10"),
				(assign, ":value_2", ":distance_between_positions_63_62"),
			(try_end),
			(try_begin),
				(ge, ":value", 0),
				(agent_play_sound, "$fplayer_agent_no", "snd_wooden_hit_low_armor_high_damage"),
				(agent_set_animation, ":value", "anim_shield_strike"),
			(try_end)
		]),

	("cust_cam_init_death_cam",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(neq, "$cam_free", 1),
				(assign, "$cam_free", 1),
				(mission_cam_set_mode, 1),
				(call_script, "script_cust_cam_cycle_forwards"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", 2),
				(agent_get_position, 1, "$fplayer_agent_no"),
				(position_get_x, ":position_x_1", 1),
				(position_get_y, ":position_y_1", 1),
				(init_position, 47),
				(position_set_x, 47, ":position_x_1"),
				(position_set_y, 47, ":position_y_1"),
				(position_set_z_to_ground_level, 47),
				(position_move_z, 47, 250),
				(mission_cam_set_mode, 1, 0, 0),
				(mission_cam_set_position, 47),
				(assign, "$g_camera_rotx", 0),
			(else_try),
				(eq, ":script_param_1", 1),
				(assign, "$g_camera_z", 300),
				(assign, "$g_camera_y", -1000),
				(assign, "$g_camera_x", 0),
			(try_end),
			(assign, "$cam_mode", ":script_param_1")
		]),

	("cust_cam_cycle_forwards",
		[
			(assign, ":value", 0),
			(assign, ":value_2", -1),
			(agent_get_team, ":team_l_cam_current_agent", "$cam_current_agent"),
			(try_for_agents, ":var_4"),
				(neq, ":value", 1),
				(agent_is_human, ":var_4"),
				(agent_is_alive, ":var_4"),
				(agent_get_team, ":team_var_4", ":var_4"),
				(agent_get_troop_id, ":troop_id_var_4", ":var_4"),
				(this_or_next|troop_is_hero, ":troop_id_var_4"),
				(neg|key_is_down, 42),
				(this_or_next|eq, ":team_var_4", ":team_l_cam_current_agent"),
				(neg|key_is_down, 29),
				(this_or_next|neq, ":team_var_4", ":team_l_cam_current_agent"),
				(neg|key_is_down, 56),
				(this_or_next|eq, "$cam_free", 1),
				(eq, ":team_var_4", "$fplayer_team_no"),
				(try_begin),
					(lt, ":value_2", 0),
					(assign, ":value_2", ":var_4"),
				(try_end),
				(gt, ":var_4", "$cam_current_agent"),
				(assign, "$cam_current_agent", ":var_4"),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(neq, ":value_2", -1),
				(assign, "$cam_current_agent", ":value_2"),
				(assign, ":value", 1),
			(else_try),
				(eq, ":value", 0),
				(eq, ":value_2", -1),
				(display_message, "@No Troops Left."),
			(try_end),
			(try_begin),
				(eq, ":value", 1),
				(try_begin),
					(agent_is_alive, "$fplayer_agent_no"),
					(assign, "$cam_mode", 1),
					(mission_cam_set_mode, "$cam_mode"),
				(try_end),
				(str_store_agent_name, 1, "$cam_current_agent"),
			(try_end)
		]),

	("cust_cam_cycle_backwards",
		[
			(assign, ":value", -1),
			(assign, ":value_2", -1),
			(agent_get_team, ":team_l_cam_current_agent", "$cam_current_agent"),
			(try_for_agents, ":var_4"),
				(agent_is_human, ":var_4"),
				(agent_is_alive, ":var_4"),
				(agent_get_team, ":team_var_4", ":var_4"),
				(agent_get_troop_id, ":troop_id_var_4", ":var_4"),
				(this_or_next|troop_is_hero, ":troop_id_var_4"),
				(neg|key_is_down, 42),
				(this_or_next|eq, ":team_var_4", ":team_l_cam_current_agent"),
				(neg|key_is_down, 29),
				(this_or_next|neq, ":team_var_4", ":team_l_cam_current_agent"),
				(neg|key_is_down, 56),
				(this_or_next|eq, "$cam_free", 1),
				(eq, ":team_var_4", "$fplayer_team_no"),
				(assign, ":value_2", ":var_4"),
				(lt, ":var_4", "$cam_current_agent"),
				(assign, ":value", ":var_4"),
			(try_end),
			(try_begin),
				(eq, ":value", -1),
				(neq, ":value_2", -1),
				(assign, ":value", ":value_2"),
			(else_try),
				(eq, ":value", -1),
				(eq, ":value_2", -1),
				(display_message, "@No Troops Left."),
			(try_end),
			(try_begin),
				(neq, ":value", -1),
				(assign, "$cam_current_agent", ":value"),
				(try_begin),
					(agent_is_alive, "$fplayer_agent_no"),
					(assign, "$cam_mode", 1),
					(mission_cam_set_mode, "$cam_mode"),
				(try_end),
				(str_store_agent_name, 1, "$cam_current_agent"),
			(try_end)
		]),

	("update_key_config_buttons",
		[
			(try_for_range, ":number", 16, 32),
				(store_add, ":value", ":number", 16),
				(troop_get_slot, ":temp_array_c_value", "trp_temp_array_c", ":value"),
				(troop_get_slot, ":temp_array_c_number", "trp_temp_array_c", ":number"),
				(assign, ":value_2", 0),
				(assign, ":value_3", 107),
				(try_for_range, ":number_2", 0, ":value_3"),
					(store_add, ":value_4", ":number_2", 64),
					(troop_slot_eq, "trp_temp_array_c", ":value_4", ":temp_array_c_number"),
					(store_add, ":value_5", ":number_2", "str_0x02"),
					(overlay_set_text, ":temp_array_c_value", ":value_5", 0),
					(overlay_set_color, ":temp_array_c_value", 0),
					(assign, ":value_2", ":number_2"),
					(assign, ":value_3", ":number_2"),
				(try_end),
				(try_begin),
					(neq, ":value_2", 0),
				(else_try),
					(eq, ":temp_array_c_number", 255),
					(overlay_set_text, ":temp_array_c_value", "@Disabled"),
					(overlay_set_color, ":temp_array_c_value", 8388608),
				(else_try),
					(overlay_set_text, ":temp_array_c_value", "@Undefined!"),
					(overlay_set_color, ":temp_array_c_value", 16711680),
				(try_end),
			(try_end)
		]),

	("init_key_config",
		[
			(troop_set_slot, "trp_temp_array_c", slot_troop_relations_begin, 200),
			(troop_set_slot, "trp_temp_array_c", 1, 208),
			(troop_set_slot, "trp_temp_array_c", slot_troop_occupation, 203),
			(troop_set_slot, "trp_temp_array_c", slot_troop_state, 205),
			(troop_set_slot, "trp_temp_array_c", slot_troop_last_talk_time, 78),
			(troop_set_slot, "trp_temp_array_c", slot_troop_met, 74),
			(troop_set_slot, "trp_temp_array_c", slot_troop_party_template, 224),
			(troop_set_slot, "trp_temp_array_c", slot_troop_renown, 225),
			(troop_set_slot, "trp_temp_array_c", slot_troop_prisoner_of_party, 207),
			(troop_set_slot, "trp_temp_array_c", slot_troop_present_at_event, 65),
			(troop_set_slot, "trp_temp_array_c", slot_troop_leaded_party, 66),
			(troop_set_slot, "trp_temp_array_c", slot_troop_wealth, 67),
			(troop_set_slot, "trp_temp_array_c", slot_troop_cur_center, 68),
			(troop_set_slot, "trp_temp_array_c", slot_troop_banner_scene_prop, 48),
			(troop_set_slot, "trp_temp_array_c", slot_troop_original_faction, 50),
			(troop_set_slot, "trp_temp_array_c", 15, 34),
			(troop_set_slot, "trp_temp_array_c", slot_troop_2ary_morality_type, 2),
			(troop_set_slot, "trp_temp_array_c", slot_troop_2ary_morality_state, 3),
			(troop_set_slot, "trp_temp_array_c", slot_troop_2ary_morality_value, 4),
			(troop_set_slot, "trp_temp_array_c", slot_troop_town_with_contacts, 5),
			(troop_set_slot, "trp_temp_array_c", slot_troop_town_contact_type, 6),
			(troop_set_slot, "trp_temp_array_c", slot_troop_morality_penalties, 7),
			(troop_set_slot, "trp_temp_array_c", 70, 8),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash_object, 9),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash_state, 10),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash2_object, 11),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash2_state, 30),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalitymatch_object, 48),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalitymatch_state, 46),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash_penalties, 32),
			(troop_set_slot, "trp_temp_array_c", slot_troop_home_speech_delivered, 18),
			(troop_set_slot, "trp_temp_array_c", 79, 33),
			(troop_set_slot, "trp_temp_array_c", slot_troop_met_previously, 34),
			(troop_set_slot, "trp_temp_array_c", slot_troop_turned_down_twice, 35),
			(troop_set_slot, "trp_temp_array_c", slot_troop_playerparty_history, 23),
			(troop_set_slot, "trp_temp_array_c", slot_troop_playerparty_history_string, 36),
			(troop_set_slot, "trp_temp_array_c", slot_troop_return_renown, 37),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_bg_color_1, 38),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_bg_color_2, 50),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_color_1, 49),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_color_2, 24),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_color_3, 25),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_color_4, 16),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_bg_type, 19),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_type_1, 31),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_type_2, 20),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_type_3, 22),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_charge_type_4, 47),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_flag_type, 17),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_num_charges, 45),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_positioning, 21),
			(troop_set_slot, "trp_temp_array_c", slot_troop_custom_banner_map_flag_type, 44),
			(troop_set_slot, "trp_temp_array_c", 100, 82),
			(troop_set_slot, "trp_temp_array_c", slot_troop_intro, 79),
			(troop_set_slot, "trp_temp_array_c", slot_troop_intro_response_1, 80),
			(troop_set_slot, "trp_temp_array_c", slot_troop_intro_response_2, 81),
			(troop_set_slot, "trp_temp_array_c", slot_troop_backstory_a, 75),
			(troop_set_slot, "trp_temp_array_c", slot_troop_backstory_b, 76),
			(troop_set_slot, "trp_temp_array_c", slot_troop_backstory_c, 77),
			(troop_set_slot, "trp_temp_array_c", slot_troop_backstory_delayed, 71),
			(troop_set_slot, "trp_temp_array_c", slot_troop_backstory_response_1, 72),
			(troop_set_slot, "trp_temp_array_c", slot_troop_backstory_response_2, 73),
			(troop_set_slot, "trp_temp_array_c", slot_troop_signup, 69),
			(troop_set_slot, "trp_temp_array_c", slot_troop_signup_2, 181),
			(troop_set_slot, "trp_temp_array_c", slot_troop_signup_response_1, 55),
			(troop_set_slot, "trp_temp_array_c", slot_troop_signup_response_2, 74),
			(troop_set_slot, "trp_temp_array_c", slot_troop_mentions_payment, 78),
			(troop_set_slot, "trp_temp_array_c", slot_troop_payment_response, 156),
			(troop_set_slot, "trp_temp_array_c", slot_troop_morality_speech, 83),
			(troop_set_slot, "trp_temp_array_c", slot_troop_2ary_morality_speech, 210),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash_speech, 211),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash_speech_b, 199),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash2_speech, 207),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalityclash2_speech_b, 201),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalitymatch_speech, 209),
			(troop_set_slot, "trp_temp_array_c", slot_troop_personalitymatch_speech_b, 200),
			(troop_set_slot, "trp_temp_array_c", slot_troop_retirement_speech, 208),
			(troop_set_slot, "trp_temp_array_c", slot_troop_rehire_speech, 203),
			(troop_set_slot, "trp_temp_array_c", slot_troop_home_intro, 205),
			(troop_set_slot, "trp_temp_array_c", slot_troop_home_description, 59),
			(troop_set_slot, "trp_temp_array_c", slot_troop_home_description_2, 60),
			(troop_set_slot, "trp_temp_array_c", slot_troop_home_recap, 61),
			(troop_set_slot, "trp_temp_array_c", slot_troop_honorific, 62),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_string_1, 63),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_string_2, 64),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_string_2a, 65),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_string_2b, 66),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_string_3, 67),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_objection_string, 68),
			(troop_set_slot, "trp_temp_array_c", slot_troop_intel_gathering_string, 87),
			(troop_set_slot, "trp_temp_array_c", slot_troop_fief_acceptance_string, 88),
			(troop_set_slot, "trp_temp_array_c", slot_troop_woman_to_woman_string, 57),
			(troop_set_slot, "trp_temp_array_c", slot_troop_turn_against_string, 28),
			(troop_set_slot, "trp_temp_array_c", slot_troop_strings_end, 15),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_state, 14),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_argument, 26),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_opponent, 27),
			(troop_set_slot, "trp_temp_array_c", slot_troop_kingsupport_objection_state, 51),
			(troop_set_slot, "trp_temp_array_c", slot_troop_player_routed_agents, 52),
			(troop_set_slot, "trp_temp_array_c", slot_troop_ally_routed_agents, 53),
			(troop_set_slot, "trp_temp_array_c", slot_troop_enemy_routed_agents, 43),
			(troop_set_slot, "trp_temp_array_c", slot_troop_mission_participation, 13),
			(troop_set_slot, "trp_temp_array_c", slot_troop_days_on_mission, 12),
			(troop_set_slot, "trp_temp_array_c", slot_troop_current_mission, 39),
			(troop_set_slot, "trp_temp_array_c", slot_troop_mission_object, 40),
			(troop_set_slot, "trp_temp_array_c", slot_troop_recent_offense_time, 41),
			(troop_set_slot, "trp_temp_array_c", slot_troop_stance_on_faction_issue, 58),
			(troop_set_slot, "trp_temp_array_c", 155, 42),
			(troop_set_slot, "trp_temp_array_c", 156, 54),
			(troop_set_slot, "trp_temp_array_c", 157, 29),
			(troop_set_slot, "trp_temp_array_c", 158, 157),
			(troop_set_slot, "trp_temp_array_c", 159, 56),
			(troop_set_slot, "trp_temp_array_c", 160, 184),
			(troop_set_slot, "trp_temp_array_c", slot_troop_will_join_prison_break, 224),
			(troop_set_slot, "trp_temp_array_c", 162, 225),
			(troop_set_slot, "trp_temp_array_c", 163, 226),
			(troop_set_slot, "trp_temp_array_c", 164, 227),
			(troop_set_slot, "trp_temp_array_c", 165, 228),
			(troop_set_slot, "trp_temp_array_c", 166, 229),
			(troop_set_slot, "trp_temp_array_c", 167, 230),
			(troop_set_slot, "trp_temp_array_c", 168, 231),
			(troop_set_slot, "trp_temp_array_c", 169, 238),
			(troop_set_slot, "trp_temp_array_c", 170, 239)
		]),

	("set_config_slot_key_config",
		[
			(troop_set_slot, "trp_temp_array_c", slot_troop_player_order_state, "$key_camera_forward"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_player_order_object, "$key_camera_backward"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_age, "$key_camera_left"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_age_appearance, "$key_camera_right"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_does_not_give_quest, "$key_camera_zoom_plus"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_player_debt, "$key_camera_zoom_min"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_player_relation, "$key_camera_next"),
			(troop_set_slot, "trp_temp_array_c", 23, "$key_camera_prev"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_last_quest, "$key_camera_toggle"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_last_quest_betrayed, "$key_order_7"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_last_persuasion_time, "$key_order_8"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_last_comment_time, "$key_order_9"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_spawned_before, "$key_order_10"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_last_comment_slot, "$key_special_0"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_spouse, "$key_special_1"),
			(troop_set_slot, "trp_temp_array_c", slot_troop_father, "$key_special_2")
		]),

	("set_global_var_key_config",
		[
			(troop_get_slot, "$key_camera_forward", "trp_temp_array_c", slot_troop_player_order_state),
			(troop_get_slot, "$key_camera_backward", "trp_temp_array_c", slot_troop_player_order_object),
			(troop_get_slot, "$key_camera_left", "trp_temp_array_c", slot_troop_age),
			(troop_get_slot, "$key_camera_right", "trp_temp_array_c", slot_troop_age_appearance),
			(troop_get_slot, "$key_camera_zoom_plus", "trp_temp_array_c", slot_troop_does_not_give_quest),
			(troop_get_slot, "$key_camera_zoom_min", "trp_temp_array_c", slot_troop_player_debt),
			(troop_get_slot, "$key_camera_next", "trp_temp_array_c", slot_troop_player_relation),
			(troop_get_slot, "$key_camera_prev", "trp_temp_array_c", 23),
			(troop_get_slot, "$key_camera_toggle", "trp_temp_array_c", slot_troop_last_quest),
			(troop_get_slot, "$key_order_7", "trp_temp_array_c", slot_troop_last_quest_betrayed),
			(troop_get_slot, "$key_order_8", "trp_temp_array_c", slot_troop_last_persuasion_time),
			(troop_get_slot, "$key_order_9", "trp_temp_array_c", slot_troop_last_comment_time),
			(troop_get_slot, "$key_order_10", "trp_temp_array_c", slot_troop_spawned_before),
			(troop_get_slot, "$key_special_0", "trp_temp_array_c", slot_troop_last_comment_slot),
			(troop_get_slot, "$key_special_1", "trp_temp_array_c", slot_troop_spouse),
			(troop_get_slot, "$key_special_2", "trp_temp_array_c", slot_troop_father)
		]),

	("reset_to_default_keys",
		[
			(try_for_range, ":number", 0, 16),
				(store_add, ":value", ":number", 0),
				(troop_get_slot, ":temp_array_c_value", "trp_temp_array_c", ":value"),
				(val_add, ":value", 16),
				(troop_set_slot, "trp_temp_array_c", ":value", ":temp_array_c_value"),
			(try_end)
		]),

	("init_all_keys",
		[
			(call_script, "script_init_key_config"),
			(call_script, "script_reset_to_default_keys"),
			(call_script, "script_set_global_var_key_config")
		]),

	("str_store_key_name",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(assign, ":value", 107),
			(try_for_range, ":number", 0, ":value"),
				(store_add, ":value_2", 64, ":number"),
				(troop_slot_eq, "trp_temp_array_c", ":value_2", ":script_param_2"),
				(store_add, ":value_3", "str_0x02", ":number"),
				(assign, ":value", 0),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(neq, ":script_param_2", 255),
				(str_store_string, ":script_param_1", ":value_3"),
			(else_try),
				(str_store_string, ":script_param_1", "str_blank_string"),
			(try_end)
		]),

	("prebattle_split_troop_divisions",
		[
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(neq, ":party_stack_troop_id_main_party_number", "trp_player"),
				(neg|troop_is_hero, ":party_stack_troop_id_main_party_number"),
				(troop_set_slot, ":party_stack_troop_id_main_party_number", slot_troop_recruitment_random, 0),
			(try_end),
			(try_for_agents, ":value"),
				(agent_is_alive, ":value"),
				(agent_is_human, ":value"),
				(agent_is_non_player, ":value"),
				(agent_get_party_id, ":party_id_value", ":value"),
				(eq, ":party_id_value", "p_main_party"),
				(agent_slot_eq, ":value", 40, 0),
				(agent_get_troop_id, ":party_stack_troop_id_main_party_number", ":value"),
				(neg|troop_is_hero, ":party_stack_troop_id_main_party_number"),
				(troop_slot_ge, ":party_stack_troop_id_main_party_number", 49, 1),
				(troop_get_slot, ":party_stack_troop_id_main_party_number_set_decision_seed", ":party_stack_troop_id_main_party_number", slot_troop_set_decision_seed),
				(is_between, ":party_stack_troop_id_main_party_number_set_decision_seed", 0, 9),
				(troop_get_class, ":class_party_stack_troop_id_main_party_number", ":party_stack_troop_id_main_party_number"),
				(neq, ":class_party_stack_troop_id_main_party_number", ":party_stack_troop_id_main_party_number_set_decision_seed"),
				(troop_get_slot, ":party_stack_troop_id_main_party_number_recruitment_random", ":party_stack_troop_id_main_party_number", slot_troop_recruitment_random),
				(val_add, ":party_stack_troop_id_main_party_number_recruitment_random", 1),
				(troop_set_slot, ":party_stack_troop_id_main_party_number", slot_troop_recruitment_random, ":party_stack_troop_id_main_party_number_recruitment_random"),
			(try_end),
			(try_for_range, ":number", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_number", "p_main_party", ":number"),
				(neq, ":party_stack_troop_id_main_party_number", "trp_player"),
				(neg|troop_is_hero, ":party_stack_troop_id_main_party_number"),
				(troop_get_slot, ":party_stack_troop_id_main_party_number_recruitment_random_2", ":party_stack_troop_id_main_party_number", slot_troop_recruitment_random),
				(gt, ":party_stack_troop_id_main_party_number_recruitment_random_2", 0),
				(troop_get_slot, ":party_stack_troop_id_main_party_number_temp_decision_seed", ":party_stack_troop_id_main_party_number", slot_troop_temp_decision_seed),
				(store_mul, ":value_2", ":party_stack_troop_id_main_party_number_recruitment_random_2", ":party_stack_troop_id_main_party_number_temp_decision_seed"),
				(val_div, ":value_2", 100),
				(troop_set_slot, ":party_stack_troop_id_main_party_number", slot_troop_recruitment_random, ":value_2"),
			(try_end),
			(try_for_agents, ":value"),
				(agent_is_alive, ":value"),
				(agent_is_human, ":value"),
				(agent_is_non_player, ":value"),
				(agent_get_party_id, ":party_id_value", ":value"),
				(eq, ":party_id_value", "p_main_party"),
				(agent_slot_eq, ":value", 40, 0),
				(agent_set_slot, ":value", 40, 1),
				(agent_get_troop_id, ":party_stack_troop_id_main_party_number", ":value"),
				(troop_slot_ge, ":party_stack_troop_id_main_party_number", 50, 1),
				(troop_get_slot, ":party_stack_troop_id_main_party_number_set_decision_seed", ":party_stack_troop_id_main_party_number", slot_troop_set_decision_seed),
				(agent_set_division, ":value", ":party_stack_troop_id_main_party_number_set_decision_seed"),
				(agent_set_slot, ":value", 29, ":party_stack_troop_id_main_party_number_set_decision_seed"),
				(troop_get_slot, ":party_stack_troop_id_main_party_number_recruitment_random", ":party_stack_troop_id_main_party_number", slot_troop_recruitment_random),
				(val_sub, ":party_stack_troop_id_main_party_number_recruitment_random", 1),
				(troop_set_slot, ":party_stack_troop_id_main_party_number", slot_troop_recruitment_random, ":party_stack_troop_id_main_party_number_recruitment_random"),
			(try_end)
		]),

	("prebattle_agent_fix_division",
		[
			(store_script_param_1, ":script_param_1"),
			(agent_set_slot, ":script_param_1", 29, -1),
			(get_player_agent_no, ":player_agent_no"),
			(try_begin),
				(ge, ":player_agent_no", 0),
				(agent_is_human, ":script_param_1"),
				(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
				(agent_get_team, ":team_script_param_1", ":script_param_1"),
				(this_or_next|main_hero_fallen),
				(neq, ":team_script_param_1", ":team_player_agent_no"),
				(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
				(try_begin),
					(troop_is_guarantee_horse, ":troop_id_script_param_1"),
					(assign, ":value", 2),
				(else_try),
					(troop_is_guarantee_ranged, ":troop_id_script_param_1"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(agent_get_division, ":division_script_param_1", ":script_param_1"),
				(neq, ":division_script_param_1", ":value"),
				(agent_set_division, ":script_param_1", ":value"),
				(agent_set_slot, ":script_param_1", 29, ":value"),
			(try_end)
		]),

	("weather_change_rain_or_snow",
		[
			(party_get_current_terrain, ":current_terrain_main_party", "p_main_party"),
			(try_begin),
				(this_or_next|eq, ":current_terrain_main_party", 4),
				(eq, ":current_terrain_main_party", 12),
				(assign, ":value", 2),
			(else_try),
				(assign, ":value", 1),
			(try_end),
			(assign, reg0, -1),
			(assign, reg1, -1),
			(store_random_in_range, ":random_in_range_1_100", 1, 100),
			(try_begin),
				(lt, ":random_in_range_1_100", 50),
				(get_global_cloud_amount, ":global_cloud_amount"),
				(ge, ":global_cloud_amount", 40),
				(store_random_in_range, ":random_in_range_1_100_2", 1, 100),
				(store_mul, ":value_2", ":random_in_range_1_100", ":random_in_range_1_100_2"),
				(val_div, ":value_2", 100),
				(gt, ":value_2", 0),
				(set_rain, ":value", ":value_2"),
				(assign, reg0, ":value"),
				(assign, reg1, ":value_2"),
			(try_end)
		]),

	("weather_affect_proficiency",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(assign, ":value", 0),
				(try_begin),
					(is_currently_night),
					(assign, ":value", 1),
				(try_end),
				(get_global_haze_amount, ":global_haze_amount"),
				(assign, ":var_5", 0),
				(try_begin),
					(eq, ":value", 1),
					(val_add, ":var_5", 15),
				(try_end),
				(try_begin),
					(ge, ":global_haze_amount", 50),
					(val_sub, ":global_haze_amount", 50),
					(val_div, ":global_haze_amount", 5),
					(val_add, ":var_5", ":global_haze_amount"),
				(try_end),
				(try_begin),
					(neq, ":script_param_1", -1),
					(val_sub, ":script_param_2", 20),
					(val_div, ":script_param_2", 5),
					(val_add, ":var_5", ":script_param_2"),
					(eq, ":script_param_1", 1),
					(val_add, ":var_5", ":script_param_2"),
				(try_end),
				(val_min, ":var_5", 51),
				(ge, ":var_5", 15),
				(party_set_slot, "p_main_party", 87, 2),
				(try_for_range, ":number", 0, 2),
					(try_begin),
						(eq, ":number", 0),
						(assign, ":value_2", "p_collective_enemy"),
					(else_try),
						(assign, ":value_2", "p_collective_friends"),
					(try_end),
					(party_get_num_companion_stacks, ":num_companion_stacks_value_2", ":value_2"),
					(try_for_range, ":number_2", 0, ":num_companion_stacks_value_2"),
						(party_stack_get_troop_id, ":party_stack_troop_id_value_2_number_2", ":value_2", ":number_2"),
						(party_stack_get_size, ":party_stack_size_value_2_number_2", ":value_2", ":number_2"),
						(party_stack_get_num_wounded, ":party_stack_num_wounded_value_2_number_2", ":value_2", ":number_2"),
						(val_sub, ":party_stack_size_value_2_number_2", ":party_stack_num_wounded_value_2_number_2"),
						(gt, ":party_stack_size_value_2_number_2", 0),
						(troop_slot_eq, ":party_stack_troop_id_value_2_number_2", 335, 0),
						(call_script, "script_weather_troop_lower_proficiencies", ":party_stack_troop_id_value_2_number_2", ":var_5"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("weather_troop_lower_proficiencies",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_for_range, ":number", 0, 3),
				(try_begin),
					(eq, ":number", 0),
					(assign, ":value", 3),
					(assign, ":value_2", 336),
				(else_try),
					(eq, ":number", 1),
					(assign, ":value", 4),
					(assign, ":value_2", 337),
				(else_try),
					(eq, ":number", 2),
					(assign, ":value", 5),
					(assign, ":value_2", 338),
				(try_end),
				(store_proficiency_level, ":proficiency_level_script_param_1_value", ":script_param_1", ":value"),
				(store_mul, ":value_3", ":proficiency_level_script_param_1_value", 100),
				(store_mul, ":value_4", ":proficiency_level_script_param_1_value", ":script_param_2"),
				(val_sub, ":value_3", ":value_4"),
				(val_div, ":value_3", 100),
				(troop_raise_proficiency_linear, ":script_param_1", ":value", -10000),
				(troop_raise_proficiency_linear, ":script_param_1", ":value", ":value_3"),
				(troop_set_slot, ":script_param_1", ":value_2", ":proficiency_level_script_param_1_value"),
				(try_begin),
					(troop_is_hero, ":script_param_1"),
					(val_add, ":value_2", 3),
					(store_proficiency_level, ":value_3", ":script_param_1", ":value"),
					(troop_set_slot, ":script_param_1", ":value_2", ":value_3"),
				(try_end),
				(try_begin),
					(eq, "$cheat_mode", 1),
					(store_proficiency_level, ":value_3", ":script_param_1", ":value"),
					(str_store_troop_name, 0, ":script_param_1"),
					(assign, reg0, ":proficiency_level_script_param_1_value"),
					(assign, reg1, ":value_3"),
					(assign, reg2, ":script_param_2"),
					(display_message, "@DEBUG : Weather penalty {reg2}% - {s0}: {reg0} to {reg1}"),
				(try_end),
			(try_end),
			(troop_set_slot, ":script_param_1", 335, 1)
		]),

	("weather_restore_proficiencies",
		[
			(assign, ":var_1", "trp_troops_end"),
			(val_add, ":var_1", 1),
			(try_for_range, ":number", 0, ":var_1"),
				(troop_slot_eq, ":number", 335, 1),
				(try_for_range, ":number_2", 0, 3),
					(store_add, ":value", 3, ":number_2"),
					(store_add, ":value_2", 336, ":number_2"),
					(assign, ":value_3", -1),
					(store_proficiency_level, ":proficiency_level_number_value", ":number", ":value"),
					(try_begin),
						(troop_is_hero, ":number"),
						(store_add, ":value_4", ":value_2", 3),
						(store_add, reg0, ":proficiency_level_number_value", 1),
						(this_or_next|troop_slot_ge, ":number", ":value_2", reg0),
						(neg|troop_slot_ge, ":number", ":value_4", ":proficiency_level_number_value"),
						(troop_get_slot, reg0, ":number", ":value_4"),
						(val_sub, ":proficiency_level_number_value", reg0),
						(val_max, ":proficiency_level_number_value", 0),
						(troop_get_slot, ":value_3", ":number", ":value_2"),
						(val_add, ":value_3", ":proficiency_level_number_value"),
						(troop_set_slot, ":number", ":value_4", 0),
					(else_try),
						(neg|troop_is_hero, ":number"),
						(val_add, ":proficiency_level_number_value", 1),
						(troop_slot_ge, ":number", ":value_2", ":proficiency_level_number_value"),
						(troop_get_slot, ":value_3", ":number", ":value_2"),
					(try_end),
					(troop_set_slot, ":number", ":value_2", 0),
					(gt, ":value_3", -1),
					(troop_raise_proficiency_linear, ":number", ":value", -10000),
					(troop_raise_proficiency_linear, ":number", ":value", ":value_3"),
					(try_begin),
						(eq, "$cheat_mode", 1),
						(str_store_troop_name, 0, ":number"),
						(store_proficiency_level, ":proficiency_level_number_value_2", ":number", ":value"),
						(assign, reg1, ":proficiency_level_number_value_2"),
						(display_message, "@DEBUG : {s0} proficiency restored to: {reg1}"),
					(try_end),
				(try_end),
				(troop_set_slot, ":number", 335, 0),
			(try_end)
		]),

	("division_reset_places",
		[
			(assign, "$next_cavalry_place", 200),
			(assign, "$next_archer_place", 1000),
			(assign, "$next_infantry_place", -200)
		]),

	("battlegroup_place_around_leader",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(team_get_leader, ":leader_script_param_1", ":script_param_1"),
			(try_begin),
				(gt, ":leader_script_param_1", -1),
				(agent_get_position, 1, ":leader_script_param_1"),
				(try_begin),
					(eq, "$autorotate_at_player", 1),
					(call_script, "script_team_get_position_of_enemies", 24, ":script_param_1", 9),
					(neq, reg0, 0),
					(call_script, "script_point_y_toward_position", 1, 24),
				(try_end),
				(store_add, ":value", 176, ":script_param_2"),
				(team_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
				(store_add, ":value", 14, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value"),
				(store_add, ":value", 185, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_3", ":script_param_1", ":value"),
				(store_add, ":value", 194, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_4", ":script_param_1", ":value"),
				(try_begin),
					(this_or_next|eq, ":script_param_1_value", 2),
					(eq, ":script_param_1_value", 5),
					(position_move_x, 1, "$next_cavalry_place", 0),
					(try_begin),
						(eq, ":script_param_1_value_3", 0),
						(try_begin),
							(ge, ":script_param_1_value_4", 0),
							(store_mul, ":value_2", ":script_param_1_value_4", 133),
							(val_add, ":value_2", 150),
						(else_try),
							(assign, ":value_2", 200),
							(val_mul, ":script_param_1_value_4", -1),
							(val_add, ":script_param_1_value_4", 1),
							(val_div, ":script_param_1_value_2", ":script_param_1_value_4"),
						(try_end),
						(store_mul, ":value_3", ":script_param_1_value_2", ":value_2"),
						(store_div, reg0, ":value_3", 2),
						(position_move_x, 1, reg0, 0),
						(copy_position, 61, 1),
					(else_try),
						(store_mul, ":value_2", ":script_param_1_value_4", 50),
						(val_add, ":value_2", 200),
						(convert_to_fixed_point, ":script_param_1_value_2"),
						(store_sqrt, ":value_3", ":script_param_1_value_2"),
						(val_mul, ":value_3", ":value_2"),
						(convert_from_fixed_point, ":value_3"),
						(val_sub, ":value_3", ":value_2"),
						(store_div, reg0, ":value_3", 2),
						(position_move_x, 1, reg0, 0),
						(copy_position, 61, 1),
						(call_script, "script_form_cavalry", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4"),
					(try_end),
					(val_add, "$next_cavalry_place", ":value_3"),
					(val_add, "$next_cavalry_place", 200),
				(else_try),
					(eq, ":script_param_1_value", 1),
					(position_move_y, 1, "$next_archer_place"),
					(copy_position, 61, 1),
					(try_begin),
						(neq, ":script_param_1_value_3", 0),
						(call_script, "script_get_centering_amount", 1, ":script_param_1_value_2", ":script_param_1_value_4"),
						(val_mul, reg0, -1),
						(position_move_x, 1, reg0, 0),
						(call_script, "script_form_archers", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4", ":script_param_1_value_3"),
					(try_end),
					(val_add, "$next_archer_place", 500),
				(else_try),
					(eq, ":script_param_1_value", 4),
					(position_move_y, 1, "$next_archer_place"),
					(copy_position, 61, 1),
					(try_begin),
						(neq, ":script_param_1_value_3", 0),
						(call_script, "script_get_centering_amount", ":script_param_1_value_3", ":script_param_1_value_2", ":script_param_1_value_4"),
						(position_move_x, 1, reg0, 0),
						(call_script, "script_form_infantry", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4", ":script_param_1_value_3"),
					(try_end),
					(val_add, "$next_archer_place", 500),
				(else_try),
					(position_move_x, 1, "$next_infantry_place", 0),
					(copy_position, 61, 1),
					(try_begin),
						(eq, ":script_param_1_value_3", 0),
						(try_begin),
							(ge, ":script_param_1_value_4", 0),
							(store_mul, ":value_2", ":script_param_1_value_4", 75),
							(val_add, ":value_2", 100),
						(else_try),
							(assign, ":value_2", 150),
							(val_mul, ":script_param_1_value_4", -1),
							(val_add, ":script_param_1_value_4", 1),
							(val_div, ":script_param_1_value_2", ":script_param_1_value_4"),
						(try_end),
						(store_mul, ":value_3", ":script_param_1_value_2", ":value_2"),
						(store_div, reg0, ":value_3", 2),
						(val_mul, reg0, -1),
						(position_move_x, 61, reg0, 0),
					(else_try),
						(call_script, "script_form_infantry", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4", ":script_param_1_value_3"),
						(call_script, "script_get_centering_amount", ":script_param_1_value_3", ":script_param_1_value_2", ":script_param_1_value_4"),
						(store_mul, ":value_3", 2, reg0),
						(store_mul, ":value_2", ":script_param_1_value_4", 50),
						(val_add, ":value_2", 45),
						(val_add, ":value_3", ":value_2"),
						(val_mul, reg0, -1),
						(position_move_x, 61, reg0, 0),
					(try_end),
					(val_sub, "$next_infantry_place", ":value_3"),
					(val_sub, "$next_infantry_place", 100),
				(try_end),
				(store_add, ":value", 203, ":script_param_2"),
				(team_set_slot, ":script_param_1", ":value", 0),
				(set_show_messages, 0),
				(team_get_movement_order, reg0, ":script_param_1", ":script_param_2"),
				(try_begin),
					(neq, reg0, 0),
					(team_give_order, ":script_param_1", ":script_param_2", 0),
				(try_end),
				(call_script, "script_set_formation_destination", ":script_param_1", ":script_param_2", 61),
				(set_show_messages, 1),
			(try_end)
		]),

	("battlegroup_place_at_leader",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(team_get_leader, ":leader_script_param_1", ":script_param_1"),
			(try_begin),
				(gt, ":leader_script_param_1", -1),
				(agent_get_position, 1, ":leader_script_param_1"),
				(try_begin),
					(eq, "$autorotate_at_player", 1),
					(call_script, "script_team_get_position_of_enemies", 60, ":script_param_1", 9),
					(neq, reg0, 0),
					(call_script, "script_point_y_toward_position", 1, 60),
				(try_end),
				(store_add, ":value", 176, ":script_param_2"),
				(team_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
				(store_add, ":value", 14, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value"),
				(store_add, ":value", 185, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_3", ":script_param_1", ":value"),
				(store_add, ":value", 194, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_4", ":script_param_1", ":value"),
				(copy_position, 61, 1),
				(neq, ":script_param_1_value_3", 0),
				(try_begin),
					(this_or_next|eq, ":script_param_1_value", 2),
					(eq, ":script_param_1_value", 5),
					(call_script, "script_form_cavalry", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4"),
				(else_try),
					(eq, ":script_param_1_value", 1),
					(call_script, "script_get_centering_amount", 1, ":script_param_1_value_2", ":script_param_1_value_4"),
					(val_mul, reg0, -1),
					(position_move_x, 1, reg0, 0),
					(call_script, "script_form_archers", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4", ":script_param_1_value_3"),
				(else_try),
					(eq, ":script_param_1_value", 4),
					(call_script, "script_get_centering_amount", ":script_param_1_value_3", ":script_param_1_value_2", ":script_param_1_value_4"),
					(position_move_x, 1, reg0, 0),
					(call_script, "script_form_infantry", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4", ":script_param_1_value_3"),
				(else_try),
					(call_script, "script_form_infantry", ":script_param_1", ":script_param_2", ":leader_script_param_1", ":script_param_1_value_4", ":script_param_1_value_3"),
				(try_end),
				(store_add, ":value", 203, ":script_param_2"),
				(team_set_slot, ":script_param_1", ":value", 0),
				(set_show_messages, 0),
				(team_get_movement_order, reg0, ":script_param_1", ":script_param_2"),
				(try_begin),
					(neq, reg0, 0),
					(team_give_order, ":script_param_1", ":script_param_2", 0),
				(try_end),
				(call_script, "script_set_formation_destination", ":script_param_1", ":script_param_2", 61),
				(set_show_messages, 1),
			(try_end)
		]),

	("form_cavalry",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_mul, ":value", ":script_param_4", 50),
			(store_add, ":value_2", 200, ":value"),
			(store_add, ":value_3", 300, ":value"),
			(store_add, ":value_4", 221, ":script_param_2"),
			(team_set_slot, ":script_param_1", ":value_4", -1),
			(assign, ":value_5", 0),
			(try_for_agents, ":value_6"),
				(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_6"),
				(agent_get_troop_id, ":troop_id_value_6", ":value_6"),
				(store_character_level, ":character_level_troop_id_value_6", ":troop_id_value_6"),
				(gt, ":character_level_troop_id_value_6", ":value_5"),
				(assign, ":value_5", ":character_level_troop_id_value_6"),
			(try_end),
			(assign, ":value_7", 1),
			(assign, ":var_14", 1),
			(store_mul, ":value_8", ":value_3", -1),
			(store_mul, ":value_9", ":value_2", -1),
			(store_div, ":value_10", ":value_2", 2),
			(store_div, ":value_11", ":value_9", 2),
			(val_add, ":value_5", 1),
			(assign, ":value_12", 1),
			(try_for_range_backwards, ":var_20", 0, ":value_5"),
				(try_for_agents, ":value_6"),
					(agent_get_troop_id, ":troop_id_value_6", ":value_6"),
					(store_character_level, ":character_level_troop_id_value_6", ":troop_id_value_6"),
					(eq, ":character_level_troop_id_value_6", ":var_20"),
					(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_6"),
					(agent_set_scripted_destination, ":value_6", 1, 1),
					(try_begin),
						(store_add, ":value_4", 221, ":script_param_2"),
						(neg|team_slot_ge, ":script_param_1", ":value_4", 0),
						(team_set_slot, ":script_param_1", ":value_4", ":value_6"),
					(try_end),
					(try_begin),
						(eq, ":value_12", 1),
						(position_move_x, 1, ":value_9", 0),
					(else_try),
						(position_move_x, 1, ":value_2", 0),
					(try_end),
					(val_add, ":value_7", 1),
					(gt, ":value_7", ":var_14"),
					(position_move_y, 1, ":value_8", 0),
					(try_begin),
						(neq, ":value_12", 1),
						(assign, ":value_12", 1),
						(position_move_x, 1, ":value_11", 0),
					(else_try),
						(assign, ":value_12", 0),
						(position_move_x, 1, ":value_10", 0),
					(try_end),
					(assign, ":value_7", 1),
					(val_add, ":var_14", 1),
				(try_end),
			(try_end)
		]),

	("form_archers",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_mul, ":value", ":script_param_4", 50),
			(store_add, ":value_2", 45, ":value"),
			(store_add, ":value_3", 221, ":script_param_2"),
			(team_set_slot, ":script_param_1", ":value_3", -1),
			(assign, ":value_4", 0),
			(try_for_agents, ":var_10"),
				(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":var_10"),
				(agent_set_scripted_destination, ":var_10", 1, 1),
				(try_begin),
					(store_add, ":value_3", 221, ":script_param_2"),
					(neg|team_slot_ge, ":script_param_1", ":value_3", 0),
					(team_set_slot, ":script_param_1", ":value_3", ":var_10"),
				(try_end),
				(position_move_x, 1, ":value_2", 0),
				(try_begin),
					(eq, ":script_param_5", 2),
					(val_add, ":value_4", 75),
					(try_begin),
						(le, ":value_4", 150),
						(position_move_y, 1, 75, 0),
					(else_try),
						(position_move_y, 1, -150, 0),
						(assign, ":value_4", 0),
					(try_end),
				(try_end),
			(try_end)
		]),

	("form_infantry",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_mul, ":value", ":script_param_4", 50),
			(store_add, ":value_2", 45, ":value"),
			(store_mul, ":value_3", ":value_2", -1),
			(store_add, ":value_4", 221, ":script_param_2"),
			(team_set_slot, ":script_param_1", ":value_4", -1),
			(store_add, ":value_4", 14, ":script_param_2"),
			(team_get_slot, ":script_param_1_value_4", ":script_param_1", ":value_4"),
			(try_begin),
				(eq, ":script_param_5", 1),
				(call_script, "script_get_default_formation", ":script_param_1"),
				(assign, ":script_param_5", reg0),
			(try_end),
			(team_get_weapon_usage_order, ":weapon_usage_order_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(team_get_hold_fire_order, ":hold_fire_order_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
			(assign, ":value_5", 1),
			(assign, ":value_6", 1),
			(assign, ":var_15", 1),
			(try_begin),
				(eq, ":script_param_5", 5),
				(convert_to_fixed_point, ":script_param_1_value_4"),
				(store_sqrt, ":value_7", ":script_param_1_value_4"),
				(convert_from_fixed_point, ":value_7"),
				(val_add, ":value_7", 1),
				(try_for_agents, ":value_8"),
					(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_8"),
					(call_script, "script_formation_process_agent_move", ":script_param_1", ":script_param_2", ":value_8", ":var_15"),
					(try_begin),
						(eq, 1, 1),
						(eq, ":weapon_usage_order_script_param_1_script_param_2", 0),
						(try_begin),
							(this_or_next|eq, ":var_15", 1),
							(this_or_next|ge, ":var_15", ":value_7"),
							(this_or_next|eq, ":value_6", 1),
							(ge, ":value_6", ":value_7"),
							(call_script, "script_equip_best_melee_weapon", ":value_8", 0, 0, ":hold_fire_order_script_param_1_script_param_2"),
							(agent_set_slot, ":value_8", 27, 0),
						(else_try),
							(call_script, "script_equip_best_melee_weapon", ":value_8", 0, 1, ":hold_fire_order_script_param_1_script_param_2"),
							(agent_set_slot, ":value_8", 27, 1),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":value_5", 1),
						(position_move_x, 1, ":value_3", 0),
					(else_try),
						(position_move_x, 1, ":value_2", 0),
					(try_end),
					(val_add, ":value_6", 1),
					(gt, ":value_6", ":value_7"),
					(position_move_y, 1, ":value_3", 0),
					(try_begin),
						(neq, ":value_5", 1),
						(assign, ":value_5", 1),
						(position_move_x, 1, ":value_3", 0),
					(else_try),
						(assign, ":value_5", 0),
						(position_move_x, 1, ":value_2", 0),
					(try_end),
					(assign, ":value_6", 1),
					(val_add, ":var_15", 1),
				(try_end),
			(else_try),
				(eq, ":script_param_5", 4),
				(assign, ":value_9", 0),
				(try_for_agents, ":value_8"),
					(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_8"),
					(agent_get_troop_id, ":troop_id_value_8", ":value_8"),
					(store_character_level, ":character_level_troop_id_value_8", ":troop_id_value_8"),
					(gt, ":character_level_troop_id_value_8", ":value_9"),
					(assign, ":value_9", ":character_level_troop_id_value_8"),
				(try_end),
				(assign, ":value_10", 1),
				(store_div, ":value_11", ":value_2", 2),
				(store_div, ":value_12", ":value_3", 2),
				(val_add, ":value_9", 1),
				(try_for_range_backwards, ":value_13", 0, ":value_9"),
					(try_for_agents, ":value_8"),
						(agent_get_troop_id, ":troop_id_value_8", ":value_8"),
						(store_character_level, ":character_level_troop_id_value_8", ":troop_id_value_8"),
						(eq, ":character_level_troop_id_value_8", ":value_13"),
						(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_8"),
						(call_script, "script_formation_process_agent_move", ":script_param_1", ":script_param_2", ":value_8", ":value_10"),
						(try_begin),
							(eq, 1, 1),
							(eq, ":weapon_usage_order_script_param_1_script_param_2", 0),
							(try_begin),
								(this_or_next|eq, ":value_6", 1),
								(ge, ":value_6", ":value_10"),
								(call_script, "script_equip_best_melee_weapon", ":value_8", 0, 0, ":hold_fire_order_script_param_1_script_param_2"),
								(agent_set_slot, ":value_8", 27, 0),
							(else_try),
								(call_script, "script_equip_best_melee_weapon", ":value_8", 0, 1, ":hold_fire_order_script_param_1_script_param_2"),
								(agent_set_slot, ":value_8", 27, 1),
							(try_end),
						(try_end),
						(try_begin),
							(eq, ":value_5", 1),
							(position_move_x, 1, ":value_3", 0),
						(else_try),
							(position_move_x, 1, ":value_2", 0),
						(try_end),
						(val_add, ":value_6", 1),
						(gt, ":value_6", ":value_10"),
						(position_move_y, 1, ":value_3", 0),
						(try_begin),
							(neq, ":value_5", 1),
							(assign, ":value_5", 1),
							(position_move_x, 1, ":value_12", 0),
						(else_try),
							(assign, ":value_5", 0),
							(position_move_x, 1, ":value_11", 0),
						(try_end),
						(assign, ":value_6", 1),
						(val_add, ":value_10", 1),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_5", 2),
				(store_div, ":value_10", ":script_param_1_value_4", 3),
				(val_add, ":value_10", 1),
				(assign, ":value_9", 0),
				(try_for_agents, ":value_8"),
					(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_8"),
					(agent_get_troop_id, ":troop_id_value_8", ":value_8"),
					(store_character_level, ":character_level_troop_id_value_8", ":troop_id_value_8"),
					(gt, ":character_level_troop_id_value_8", ":value_9"),
					(assign, ":value_9", ":character_level_troop_id_value_8"),
				(try_end),
				(val_add, ":value_9", 1),
				(try_for_range_backwards, ":value_13", 0, ":value_9"),
					(try_for_agents, ":value_8"),
						(agent_get_troop_id, ":troop_id_value_8", ":value_8"),
						(store_character_level, ":character_level_troop_id_value_8", ":troop_id_value_8"),
						(eq, ":character_level_troop_id_value_8", ":value_13"),
						(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_8"),
						(call_script, "script_formation_process_agent_move", ":script_param_1", ":script_param_2", ":value_8", ":var_15"),
						(try_begin),
							(eq, 1, 1),
							(eq, ":weapon_usage_order_script_param_1_script_param_2", 0),
							(try_begin),
								(eq, ":var_15", 1),
								(call_script, "script_equip_best_melee_weapon", ":value_8", 0, 0, ":hold_fire_order_script_param_1_script_param_2"),
								(agent_set_slot, ":value_8", 27, 0),
							(else_try),
								(call_script, "script_equip_best_melee_weapon", ":value_8", 0, 1, ":hold_fire_order_script_param_1_script_param_2"),
								(agent_set_slot, ":value_8", 27, 1),
							(try_end),
						(try_end),
						(try_begin),
							(eq, ":value_5", 1),
							(position_move_x, 1, ":value_3", 0),
						(else_try),
							(position_move_x, 1, ":value_2", 0),
						(try_end),
						(val_add, ":value_6", 1),
						(gt, ":value_6", ":value_10"),
						(position_move_y, 1, ":value_3", 0),
						(try_begin),
							(neq, ":value_5", 1),
							(assign, ":value_5", 1),
							(position_move_x, 1, ":value_3", 0),
						(else_try),
							(assign, ":value_5", 0),
							(position_move_x, 1, ":value_2", 0),
						(try_end),
						(assign, ":value_6", 1),
						(val_add, ":var_15", 1),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_5", 3),
				(store_div, ":value_10", ":script_param_1_value_4", 3),
				(val_add, ":value_10", 1),
				(assign, ":value_14", -1),
				(assign, ":value_15", -1),
				(try_for_range, ":number", 0, 4),
					(store_mul, ":value_16", ":number", 83),
					(store_add, ":value_17", ":value_16", 83),
					(try_begin),
						(gt, ":value_15", -1),
						(assign, ":value_15", ":value_16"),
					(try_end),
					(try_for_agents, ":value_8"),
						(call_script, "script_cf_valid_formation_member", ":script_param_1", ":script_param_2", ":script_param_3", ":value_8"),
						(agent_get_wielded_item, ":wielded_item_value_8_0", ":value_8", 0),
						(try_begin),
							(gt, ":wielded_item_value_8_0", 0),
							(item_get_slot, ":wielded_item_value_8_0_42", ":wielded_item_value_8_0", 42),
						(else_try),
							(assign, ":wielded_item_value_8_0_42", 0),
						(try_end),
						(try_begin),
							(gt, ":var_15", 1),
							(try_begin),
								(eq, ":value_14", ":value_8"),
								(assign, ":value_15", ":value_16"),
							(else_try),
								(eq, ":value_14", -1),
								(assign, ":value_14", ":value_8"),
							(try_end),
							(eq, 1, 1),
							(eq, ":weapon_usage_order_script_param_1_script_param_2", 0),
							(ge, ":wielded_item_value_8_0_42", ":value_16"),
							(eq, ":value_15", -1),
							(call_script, "script_equip_best_melee_weapon", ":value_8", 0, 1, ":hold_fire_order_script_param_1_script_param_2"),
							(agent_set_slot, ":value_8", 27, 1),
							(agent_get_wielded_item, ":wielded_item_value_8_0", ":value_8", 0),
							(try_begin),
								(gt, ":wielded_item_value_8_0", 0),
								(item_get_slot, ":wielded_item_value_8_0_42", ":wielded_item_value_8_0", 42),
							(else_try),
								(assign, ":wielded_item_value_8_0_42", 0),
							(try_end),
						(try_end),
						(assign, ":value_18", 0),
						(agent_get_wielded_item, ":wielded_item_value_8_1", ":value_8", 1),
						(try_begin),
							(gt, ":wielded_item_value_8_1", 0),
							(item_get_type, reg0, ":wielded_item_value_8_1"),
							(eq, reg0, 7),
							(try_begin),
								(is_between, ":wielded_item_value_8_0_42", ":value_16", ":value_17"),
								(assign, ":value_18", 1),
							(try_end),
						(else_try),
							(this_or_next|gt, ":var_15", 1),
							(gt, ":number", 2),
							(is_between, ":wielded_item_value_8_0_42", ":value_15", ":value_17"),
							(assign, ":value_18", 1),
						(try_end),
						(eq, ":value_18", 1),
						(call_script, "script_formation_process_agent_move", ":script_param_1", ":script_param_2", ":value_8", ":var_15"),
						(try_begin),
							(eq, 1, 1),
							(eq, ":weapon_usage_order_script_param_1_script_param_2", 0),
							(eq, ":var_15", 1),
							(call_script, "script_equip_best_melee_weapon", ":value_8", 1, 0, ":hold_fire_order_script_param_1_script_param_2"),
							(agent_set_slot, ":value_8", 27, 0),
						(try_end),
						(try_begin),
							(eq, ":value_5", 1),
							(position_move_x, 1, ":value_3", 0),
						(else_try),
							(position_move_x, 1, ":value_2", 0),
						(try_end),
						(val_add, ":value_6", 1),
						(gt, ":value_6", ":value_10"),
						(position_move_y, 1, ":value_3", 0),
						(try_begin),
							(neq, ":value_5", 1),
							(assign, ":value_5", 1),
							(position_move_x, 1, ":value_3", 0),
						(else_try),
							(assign, ":value_5", 0),
							(position_move_x, 1, ":value_2", 0),
						(try_end),
						(assign, ":value_6", 1),
						(val_add, ":var_15", 1),
					(try_end),
				(try_end),
			(try_end),
			(store_add, ":value_4", 14, ":script_param_2"),
			(team_get_slot, ":script_param_1_value_4", ":script_param_1", ":value_4"),
			(store_add, ":value_4", 248, ":script_param_2"),
			(team_get_slot, reg0, ":script_param_1", ":value_4"),
			(val_mul, reg0, 100),
			(val_div, reg0, ":script_param_1_value_4"),
			(team_set_slot, ":script_param_1", ":value_4", reg0)
		]),

	("get_default_formation",
		[
			(store_script_param, ":script_param_1", 1),
			(team_get_slot, ":script_param_1_1", ":script_param_1", 1),
			(try_begin),
				(this_or_next|eq, ":script_param_1_1", 30),
				(eq, ":script_param_1_1", 29),
				(is_between, "$players_kingdom", "fac_kingdom_1", "fac_kingdoms_end"),
				(assign, ":script_param_1_1", "$players_kingdom"),
			(try_end),
			(try_begin),
				(eq, ":script_param_1_1", 31),
				(assign, reg0, 3),
			(else_try),
				(eq, ":script_param_1_1", 32),
				(assign, reg0, 2),
			(else_try),
				(eq, ":script_param_1_1", 33),
				(assign, reg0, 0),
			(else_try),
				(eq, ":script_param_1_1", 34),
				(assign, reg0, 3),
			(else_try),
				(eq, ":script_param_1_1", 35),
				(assign, reg0, 3),
			(else_try),
				(eq, ":script_param_1_1", 36),
				(assign, reg0, 2),
			(else_try),
				(this_or_next|eq, ":script_param_1_1", 30),
				(eq, ":script_param_1_1", 29),
				(assign, reg0, 2),
			(else_try),
				(assign, reg0, 0),
			(try_end)
		]),

	("formation_process_agent_move",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(agent_set_scripted_destination, ":script_param_3", 1, 1),
			(agent_get_position, 12, ":script_param_3"),
			(get_distance_between_positions, ":distance_between_positions_12_1", 12, 1),
			(store_add, ":value", 239, ":script_param_2"),
			(team_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
			(agent_get_speed, 14, ":script_param_3"),
			(position_transform_position_to_parent, 28, 12, 14),
			(call_script, "script_point_y_toward_position", 12, 28),
			(store_mul, ":value_2", reg0, 2),
			(store_div, ":value_3", ":value_2", 55),
			(try_begin),
				(store_add, ":value", 221, ":script_param_2"),
				(neg|team_slot_ge, ":script_param_1", ":value", 0),
				(team_set_slot, ":script_param_1", ":value", ":script_param_3"),
				(try_begin),
					(le, ":value_3", 5),
					(store_add, ":value", 239, ":script_param_2"),
					(team_set_slot, ":script_param_1", ":value", 13),
					(agent_set_speed_limit, ":script_param_3", 13),
				(else_try),
					(val_mul, ":value_3", 2),
					(try_begin),
						(store_add, ":value", 248, ":script_param_2"),
						(team_slot_ge, ":script_param_1", ":value", 100),
						(try_begin),
							(ge, ":value_3", ":script_param_1_value"),
							(val_add, ":script_param_1_value", 1),
						(try_end),
					(else_try),
						(val_min, ":script_param_1_value", ":value_3"),
						(val_sub, ":script_param_1_value", 1),
						(val_max, ":script_param_1_value", 5),
					(try_end),
					(store_add, ":value", 230, ":script_param_2"),
					(team_slot_eq, ":script_param_1", ":value", ":script_param_3"),
					(store_mul, ":value_2", ":script_param_1_value", 55),
					(lt, ":value_2", ":distance_between_positions_12_1"),
					(store_add, ":value", 239, ":script_param_2"),
					(team_set_slot, ":script_param_1", ":value", ":script_param_1_value"),
					(agent_set_speed_limit, ":script_param_3", ":script_param_1_value"),
					(copy_position, 28, 12),
					(call_script, "script_point_y_toward_position", 28, 1),
					(position_move_y, 28, ":value_2", 0),
					(position_copy_rotation, 28, 1),
					(copy_position, 1, 28),
				(try_end),
				(store_add, ":value", 248, ":script_param_2"),
				(team_set_slot, ":script_param_1", ":value", 1),
				(store_add, ":value", 230, ":script_param_2"),
				(team_set_slot, ":script_param_1", ":value", ":script_param_3"),
			(else_try),
				(try_begin),
					(le, ":value_3", 0),
					(assign, ":script_param_1_value", 13),
				(else_try),
					(neg|position_is_behind_position, 1, 12),
					(store_div, ":script_param_1_value", ":distance_between_positions_12_1", 55),
					(val_max, ":script_param_1_value", 1),
				(else_try),
					(store_add, ":value", 104, ":script_param_2"),
					(team_slot_eq, ":script_param_1", ":value", 0),
					(assign, ":script_param_1_value", 1),
				(else_try),
					(assign, ":script_param_1_value", 13),
				(try_end),
				(agent_set_speed_limit, ":script_param_3", ":script_param_1_value"),
				(try_begin),
					(this_or_next|le, ":value_3", 0),
					(this_or_next|lt, ":script_param_1_value", 13),
					(position_is_behind_position, 1, 12),
					(store_add, ":value", 248, ":script_param_2"),
					(team_get_slot, reg0, ":script_param_1", ":value"),
					(val_add, reg0, 1),
					(team_set_slot, ":script_param_1", ":value", reg0),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":script_param_4", 1),
				(agent_set_slot, ":script_param_3", slot_agent_bought_horse, 1),
			(else_try),
				(agent_set_slot, ":script_param_3", slot_agent_bought_horse, 0),
			(try_end)
		]),

	("equip_best_melee_weapon",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(try_begin),
				(agent_get_division, ":division_script_param_1", ":script_param_1"),
				(agent_get_team, ":team_script_param_1", ":script_param_1"),
				(store_add, ":value", 300, ":division_script_param_1"),
				(team_slot_eq, ":team_script_param_1", ":value", -1),
				(try_begin),
					(store_add, ":value", 309, ":division_script_param_1"),
					(team_slot_eq, ":team_script_param_1", ":value", 4),
					(assign, ":script_param_2", 1),
				(try_end),
				(assign, ":value_2", 0),
				(assign, ":value_3", 0),
				(try_for_range, ":number", 0, 4),
					(agent_get_item_slot, ":item_slot_script_param_1_number", ":script_param_1", ":number"),
					(gt, ":item_slot_script_param_1_number", 0),
					(item_get_type, ":type_item_slot_script_param_1_number", ":item_slot_script_param_1_number"),
					(try_begin),
						(eq, ":type_item_slot_script_param_1_number", 7),
						(assign, ":value_2", ":item_slot_script_param_1_number"),
					(else_try),
						(eq, ":type_item_slot_script_param_1_number", 10),
						(eq, ":script_param_4", 0),
						(assign, ":value_3", ":item_slot_script_param_1_number"),
					(try_end),
				(try_end),
				(try_begin),
					(eq, ":value_3", 0),
					(assign, ":value_4", 0),
					(try_for_range, ":number", 0, 4),
						(agent_get_item_slot, ":item_slot_script_param_1_number", ":script_param_1", ":number"),
						(gt, ":item_slot_script_param_1_number", 0),
						(item_get_type, ":type_item_slot_script_param_1_number", ":item_slot_script_param_1_number"),
						(neq, ":type_item_slot_script_param_1_number", 7),
						(item_get_slot, reg0, ":item_slot_script_param_1_number", 41),
						(this_or_next|eq, reg0, 0),
						(this_or_next|eq, ":script_param_2", 0),
						(eq, ":value_2", 0),
						(try_begin),
							(neq, ":script_param_3", 0),
							(item_get_slot, ":item_slot_script_param_1_number_42", ":item_slot_script_param_1_number", 42),
							(try_begin),
								(lt, ":value_4", ":item_slot_script_param_1_number_42"),
								(assign, ":value_4", ":item_slot_script_param_1_number_42"),
								(assign, ":value_3", ":item_slot_script_param_1_number"),
							(try_end),
						(else_try),
							(assign, ":value_5", 1),
							(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
							(try_begin),
								(troop_is_hero, ":troop_id_script_param_1"),
								(try_for_range, ":number_2", 0, 4),
									(troop_get_inventory_slot, reg0, ":troop_id_script_param_1", ":number_2"),
									(eq, reg0, ":item_slot_script_param_1_number"),
									(troop_get_inventory_slot_modifier, ":value_5", ":troop_id_script_param_1", ":number_2"),
								(try_end),
							(try_end),
							(call_script, "script_get_item_score_with_imod", ":item_slot_script_param_1_number", ":value_5"),
							(lt, ":value_4", reg0),
							(assign, ":value_4", reg0),
							(assign, ":value_3", ":item_slot_script_param_1_number"),
						(try_end),
					(try_end),
				(try_end),
				(agent_get_wielded_item, reg0, ":script_param_1", 0),
				(try_begin),
					(neq, reg0, ":value_3"),
					(try_begin),
						(gt, ":value_2", 0),
						(agent_get_wielded_item, reg0, ":script_param_1", 1),
						(neq, reg0, ":value_2"),
						(agent_set_wielded_item, ":script_param_1", ":value_2"),
					(try_end),
					(gt, ":value_3", 0),
					(agent_set_wielded_item, ":script_param_1", ":value_3"),
				(try_end),
			(try_end)
		]),

	("formation_current_position",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_battlegroup_get_position", ":script_param_1", ":script_param_2", ":script_param_3"),
			(call_script, "script_get_formation_destination", 0, ":script_param_2", ":script_param_3"),
			(position_copy_rotation, ":script_param_1", 0),
			(call_script, "script_battlegroup_get_depth", ":script_param_2", ":script_param_3"),
			(val_div, reg0, 2),
			(position_move_y, ":script_param_1", reg0, 0)
		]),

	("get_centering_amount",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_mul, ":value", ":script_param_3", 50),
			(val_add, ":value", 45),
			(assign, reg0, 0),
			(try_begin),
				(eq, ":script_param_1", 5),
				(convert_to_fixed_point, ":script_param_2"),
				(store_sqrt, reg0, ":script_param_2"),
				(val_mul, reg0, ":value"),
				(convert_from_fixed_point, reg0),
				(val_sub, reg0, ":value"),
			(else_try),
				(this_or_next|eq, ":script_param_1", 2),
				(eq, ":script_param_1", 3),
				(store_div, reg0, ":script_param_2", 3),
				(try_begin),
					(store_mod, reg1, ":script_param_2", 3),
					(eq, reg1, 0),
					(val_sub, reg0, 1),
				(try_end),
				(val_mul, reg0, ":value"),
			(else_try),
				(eq, ":script_param_1", 1),
				(store_mul, reg0, ":script_param_2", ":value"),
			(try_end),
			(val_div, reg0, 2)
		]),

	("formation_end",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(store_add, ":value", 185, ":script_param_2"),
				(neg|team_slot_eq, ":script_param_1", ":value", 0),
				(team_set_slot, ":script_param_1", ":value", 0),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(try_for_agents, ":var_5"),
					(agent_is_alive, ":var_5"),
					(agent_is_human, ":var_5"),
					(agent_get_team, ":team_var_5", ":var_5"),
					(eq, ":team_var_5", ":script_param_1"),
					(neq, ":leader_script_param_1", ":var_5"),
					(agent_get_division, ":division_var_5", ":var_5"),
					(eq, ":division_var_5", ":script_param_2"),
					(agent_clear_scripted_mode, ":var_5"),
					(agent_set_speed_limit, ":var_5", 100),
					(agent_set_slot, ":var_5", slot_agent_bought_horse, 0),
					(agent_set_slot, ":var_5", 27, 0),
				(try_end),
				(try_begin),
					(eq, ":script_param_1", "$fplayer_team_no"),
					(store_add, ":value", 194, ":script_param_2"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(set_show_messages, 0),
					(try_begin),
						(gt, ":fplayer_team_no_value", 3),
						(assign, ":fplayer_team_no_value", 2),
					(else_try),
						(gt, ":fplayer_team_no_value", 0),
						(team_give_order, "$fplayer_team_no", ":script_param_2", 7),
						(try_begin),
							(gt, ":fplayer_team_no_value", 1),
							(assign, ":fplayer_team_no_value", 1),
						(else_try),
							(assign, ":fplayer_team_no_value", 0),
						(try_end),
					(try_end),
					(set_show_messages, 1),
					(team_set_slot, "$fplayer_team_no", ":value", ":fplayer_team_no_value"),
				(try_end),
			(try_end)
		]),

	("formation_move_position",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(copy_position, 1, ":script_param_3"),
			(call_script, "script_team_get_position_of_enemies", 24, ":script_param_1", 9),
			(try_begin),
				(neq, reg0, 0),
				(copy_position, 1, ":script_param_3"),
				(call_script, "script_point_y_toward_position", 1, 24),
				(assign, ":var_5", reg0),
				(call_script, "script_get_formation_destination", 61, ":script_param_1", ":script_param_2"),
				(get_distance_between_positions, ":distance_between_positions_1_61", 1, 61),
				(val_add, ":distance_between_positions_1_61", 1000),
				(try_begin),
					(gt, ":script_param_4", 0),
					(gt, ":distance_between_positions_1_61", ":var_5"),
					(assign, ":distance_between_positions_1_61", ":var_5"),
				(try_end),
				(val_mul, ":distance_between_positions_1_61", ":script_param_4"),
				(position_move_y, 1, ":distance_between_positions_1_61", 0),
				(try_begin),
					(lt, ":var_5", 1000),
					(position_copy_rotation, 1, 61),
				(try_end),
				(call_script, "script_set_formation_destination", ":script_param_1", ":script_param_2", 1),
				(store_add, ":value", 14, ":script_param_2"),
				(team_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
				(store_add, ":value", 194, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value"),
				(try_begin),
					(store_add, ":value", 176, ":script_param_2"),
					(neg|team_slot_eq, ":script_param_1", ":value", 1),
					(store_add, ":value", 185, ":script_param_2"),
					(team_get_slot, ":script_param_1_value_3", ":script_param_1", ":value"),
					(call_script, "script_get_centering_amount", ":script_param_1_value_3", ":script_param_1_value", ":script_param_1_value_2"),
				(else_try),
					(call_script, "script_get_centering_amount", 1, ":script_param_1_value", ":script_param_1_value_2"),
					(val_mul, reg0, -1),
				(try_end),
				(position_move_x, 1, reg0, 0),
			(try_end)
		]),

	("set_formation_destination",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(position_get_x, ":position_x_script_param_3", ":script_param_3"),
			(position_get_y, ":position_y_script_param_3", ":script_param_3"),
			(position_get_rotation_around_z, ":position_rotation_around_z_script_param_3", ":script_param_3"),
			(store_add, ":value", 257, ":script_param_2"),
			(team_set_slot, ":script_param_1", ":value", ":position_x_script_param_3"),
			(store_add, ":value", 266, ":script_param_2"),
			(team_set_slot, ":script_param_1", ":value", ":position_y_script_param_3"),
			(store_add, ":value", 275, ":script_param_2"),
			(team_set_slot, ":script_param_1", ":value", ":position_rotation_around_z_script_param_3"),
			(team_set_order_position, ":script_param_1", ":script_param_2", ":script_param_3")
		]),

	("get_formation_destination",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(init_position, ":script_param_1"),
			(try_begin),
				(store_add, ":value", 185, ":script_param_3"),
				(neg|team_slot_eq, ":script_param_2", ":value", 0),
				(store_add, ":value", 257, ":script_param_3"),
				(team_get_slot, ":script_param_2_value", ":script_param_2", ":value"),
				(store_add, ":value", 266, ":script_param_3"),
				(team_get_slot, ":script_param_2_value_2", ":script_param_2", ":value"),
				(store_add, ":value", 275, ":script_param_3"),
				(team_get_slot, ":script_param_2_value_3", ":script_param_2", ":value"),
				(position_set_x, ":script_param_1", ":script_param_2_value"),
				(position_set_y, ":script_param_1", ":script_param_2_value_2"),
				(position_rotate_z, ":script_param_1", ":script_param_2_value_3"),
			(else_try),
				(store_add, ":value", 221, ":script_param_3"),
				(team_get_slot, reg0, ":script_param_2", ":value"),
				(try_begin),
					(gt, reg0, -1),
					(team_get_order_position, ":script_param_1", ":script_param_2", ":script_param_3"),
					(agent_get_position, 0, reg0),
					(agent_set_position, reg0, ":script_param_1"),
					(agent_get_position, ":script_param_1", reg0),
					(agent_set_position, reg0, 0),
				(try_end),
			(try_end),
			(position_set_z_to_ground_level, ":script_param_1")
		]),

	("cf_battlegroup_valid_formation",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", 0),
			(store_add, ":value_2", 176, ":script_param_2"),
			(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
			(try_begin),
				(this_or_next|eq, ":script_param_1_value_2", 2),
				(eq, ":script_param_1_value_2", 5),
				(assign, ":value_3", 5),
				(try_begin),
					(eq, ":script_param_3", 4),
					(assign, ":value", 1),
				(try_end),
			(else_try),
				(eq, ":script_param_1_value_2", 1),
				(assign, ":value_3", 12),
				(try_begin),
					(this_or_next|eq, ":script_param_3", 2),
					(eq, ":script_param_3", 1),
					(assign, ":value", 1),
				(try_end),
			(else_try),
				(store_add, ":value_2", 336, ":script_param_2"),
				(team_slot_eq, ":script_param_1", ":value_2", 0),
				(assign, ":value_3", 12),
				(neq, ":script_param_3", 0),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(assign, ":value_4", 0),
			(else_try),
				(store_add, ":value_2", 14, ":script_param_2"),
				(team_get_slot, ":value_4", ":script_param_1", ":value_2"),
				(lt, ":value_4", ":value_3"),
				(assign, ":value_4", 1),
			(try_end),
			(assign, reg0, ":value_4"),
			(gt, ":value_4", 1)
		]),

	("cf_valid_formation_member",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(neq, ":script_param_3", ":script_param_4"),
			(agent_get_division, ":division_script_param_4", ":script_param_4"),
			(eq, ":division_script_param_4", ":script_param_2"),
			(agent_get_team, ":team_script_param_4", ":script_param_4"),
			(eq, ":team_script_param_4", ":script_param_1"),
			(agent_is_alive, ":script_param_4"),
			(agent_is_human, ":script_param_4"),
			(agent_slot_eq, ":script_param_4", slot_agent_is_running_away, 0)
		]),

	("player_attempt_formation",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(set_fixed_point_multiplier, 100),
			(try_begin),
				(eq, ":script_param_2", 2),
				(str_store_string, 1, "@ranks"),
			(else_try),
				(eq, ":script_param_2", 3),
				(str_store_string, 1, "@shield wall"),
			(else_try),
				(eq, ":script_param_2", 4),
				(str_store_string, 1, "@wedge"),
			(else_try),
				(eq, ":script_param_2", 5),
				(str_store_string, 1, "@square"),
			(else_try),
				(str_store_string, 1, "@up"),
			(try_end),
			(str_store_class_name, 2, ":script_param_1"),
			(try_begin),
				(call_script, "script_cf_battlegroup_valid_formation", "$fplayer_team_no", ":script_param_1", ":script_param_2"),
				(try_begin),
					(store_add, ":value", 185, ":script_param_1"),
					(neg|team_slot_eq, "$fplayer_team_no", ":value", ":script_param_2"),
					(team_set_slot, "$fplayer_team_no", ":value", ":script_param_2"),
					(display_message, "@{!}{s2} forming {s1}."),
					(store_add, ":value", 194, ":script_param_1"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(set_show_messages, 0),
					(assign, reg0, ":fplayer_team_no_value"),
					(try_for_range, reg1, reg0, 2),
						(team_give_order, "$fplayer_team_no", ":script_param_1", 8),
						(val_add, ":fplayer_team_no_value", 1),
					(try_end),
					(set_show_messages, 1),
					(team_set_slot, "$fplayer_team_no", ":value", ":fplayer_team_no_value"),
				(try_end),
			(else_try),
				(assign, ":var_6", reg0),
				(call_script, "script_formation_end", "$fplayer_team_no", ":script_param_1"),
				(neq, ":script_param_2", 0),
				(try_begin),
					(gt, ":var_6", 0),
					(display_message, "@Not enough troops in {s2} to form {s1}, but holding."),
				(else_try),
					(store_add, ":value", 176, ":script_param_1"),
					(team_get_slot, reg0, "$fplayer_team_no", ":value"),
					(call_script, "script_str_store_division_type_name", 3, reg0),
					(display_message, "@{!}{s2} is an {s3} division and cannot form {s1}, so is holding."),
				(try_end),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_3", 0),
				(eq, 0, 1),
				(call_script, "script_battlegroup_place_around_leader", "$fplayer_team_no", ":script_param_1"),
			(else_try),
				(call_script, "script_battlegroup_place_at_leader", "$fplayer_team_no", ":script_param_1"),
			(try_end)
		]),

	("str_store_division_type_name",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(eq, ":script_param_2", 0),
				(str_store_string, ":script_param_1", "@infantry"),
			(else_try),
				(eq, ":script_param_2", 1),
				(str_store_string, ":script_param_1", "@archer"),
			(else_try),
				(eq, ":script_param_2", 2),
				(str_store_string, ":script_param_1", "@cavalry"),
			(else_try),
				(eq, ":script_param_2", 3),
				(str_store_string, ":script_param_1", "@polearm"),
			(else_try),
				(eq, ":script_param_2", 4),
				(str_store_string, ":script_param_1", "@skirmisher"),
			(else_try),
				(eq, ":script_param_2", 5),
				(str_store_string, ":script_param_1", "@mounted archer"),
			(else_try),
				(eq, ":script_param_2", 6),
				(str_store_string, ":script_param_1", "@support"),
			(else_try),
				(eq, ":script_param_2", 7),
				(str_store_string, ":script_param_1", "@bodyguard"),
			(else_try),
				(str_store_string, ":script_param_1", "@undetermined type of"),
			(try_end)
		]),

	("player_order_formations",
		[
			(store_script_param, ":script_param_1", 1),
			(set_fixed_point_multiplier, 100),
			(try_begin),
				(eq, ":script_param_1", 0),
				(call_script, "script_division_reset_places"),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 284, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", -1),
					(store_add, ":value", 14, ":number"),
					(team_slot_ge, "$fplayer_team_no", ":value", 1),
					(store_add, ":value", 212, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", 1),
					(store_add, ":value", 185, ":number"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(call_script, "script_player_attempt_formation", ":number", ":fplayer_team_no_value", 1),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 1),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 284, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", -1),
					(store_add, ":value", 14, ":number"),
					(team_slot_ge, "$fplayer_team_no", ":value", 1),
					(store_add, ":value", 185, ":number"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(call_script, "script_player_attempt_formation", ":number", ":fplayer_team_no_value", 1),
					(store_add, ":value", 203, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", ":script_param_1"),
				(try_end),
			(else_try),
				(this_or_next|eq, ":script_param_1", 2),
				(eq, ":script_param_1", 14),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 284, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", -1),
					(store_add, ":value", 203, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", ":script_param_1"),
					(store_add, ":value", 185, ":number"),
					(neg|team_slot_eq, "$fplayer_team_no", ":value", 0),
					(call_script, "script_formation_end", "$fplayer_team_no", ":number"),
					(store_add, ":value", 176, ":number"),
					(str_store_class_name, 1, ":number"),
					(try_begin),
						(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 0),
						(team_slot_eq, "$fplayer_team_no", ":value", 3),
						(display_message, "@{s1}: infantry formation disassembled."),
					(else_try),
						(team_slot_eq, "$fplayer_team_no", ":value", 1),
						(display_message, "@{s1}: archer formation disassembled."),
					(else_try),
						(team_slot_eq, "$fplayer_team_no", ":value", 4),
						(display_message, "@{s1}: skirmisher formation disassembled."),
					(else_try),
						(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 2),
						(team_slot_eq, "$fplayer_team_no", ":value", 5),
						(display_message, "@{s1}: cavalry formation disassembled."),
					(else_try),
						(display_message, "@{s1}: formation disassembled."),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 4),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 185, ":number"),
					(neg|team_slot_eq, "$fplayer_team_no", ":value", 0),
					(try_begin),
						(store_add, ":value", 176, ":number"),
						(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 2),
						(team_slot_eq, "$fplayer_team_no", ":value", 5),
						(call_script, "script_formation_end", "$fplayer_team_no", ":number"),
						(display_message, "@Cavalry formation disassembled."),
					(else_try),
						(try_for_agents, ":var_5"),
							(agent_is_alive, ":var_5"),
							(agent_is_human, ":var_5"),
							(agent_get_team, ":team_var_5", ":var_5"),
							(eq, ":team_var_5", "$fplayer_team_no"),
							(neq, "$fplayer_agent_no", ":var_5"),
							(agent_get_division, ":division_var_5", ":var_5"),
							(eq, ":division_var_5", ":number"),
							(agent_clear_scripted_mode, ":var_5"),
							(agent_set_speed_limit, ":var_5", 100),
						(try_end),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 5),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 284, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", -1),
					(store_add, ":value", 203, ":number"),
					(team_get_slot, ":fplayer_team_no_value_2", "$fplayer_team_no", ":value"),
					(team_set_slot, "$fplayer_team_no", ":value", ":script_param_1"),
					(store_add, ":value", 185, ":number"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(neq, ":fplayer_team_no_value", 0),
					(store_add, ":value", 212, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", 1),
					(call_script, "script_formation_current_position", 63, "$fplayer_team_no", ":number"),
					(try_begin),
						(neq, ":fplayer_team_no_value_2", 5),
						(call_script, "script_set_formation_destination", "$fplayer_team_no", ":number", 63),
					(try_end),
					(call_script, "script_formation_move_position", "$fplayer_team_no", ":number", 63, 1),
					(store_add, ":value", 194, ":number"),
					(team_get_slot, ":fplayer_team_no_value_3", "$fplayer_team_no", ":value"),
					(store_add, ":value", 176, ":number"),
					(try_begin),
						(team_slot_eq, "$fplayer_team_no", ":value", 1),
						(call_script, "script_form_archers", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(else_try),
						(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 2),
						(team_slot_eq, "$fplayer_team_no", ":value", 5),
						(call_script, "script_form_cavalry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3"),
					(else_try),
						(call_script, "script_form_infantry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 6),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 284, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", -1),
					(store_add, ":value", 203, ":number"),
					(team_get_slot, ":fplayer_team_no_value_2", "$fplayer_team_no", ":value"),
					(team_set_slot, "$fplayer_team_no", ":value", ":script_param_1"),
					(store_add, ":value", 185, ":number"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(neq, ":fplayer_team_no_value", 0),
					(store_add, ":value", 212, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", 1),
					(call_script, "script_formation_current_position", 63, "$fplayer_team_no", ":number"),
					(try_begin),
						(neq, ":fplayer_team_no_value_2", 6),
						(call_script, "script_set_formation_destination", "$fplayer_team_no", ":number", 63),
					(try_end),
					(call_script, "script_formation_move_position", "$fplayer_team_no", ":number", 63, -1),
					(store_add, ":value", 194, ":number"),
					(team_get_slot, ":fplayer_team_no_value_3", "$fplayer_team_no", ":value"),
					(store_add, ":value", 176, ":number"),
					(try_begin),
						(team_slot_eq, "$fplayer_team_no", ":value", 1),
						(call_script, "script_form_archers", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(else_try),
						(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 2),
						(team_slot_eq, "$fplayer_team_no", ":value", 5),
						(call_script, "script_form_cavalry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3"),
					(else_try),
						(call_script, "script_form_infantry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 7),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 194, ":number"),
					(team_get_slot, ":fplayer_team_no_value_3", "$fplayer_team_no", ":value"),
					(gt, ":fplayer_team_no_value_3", -3),
					(val_sub, ":fplayer_team_no_value_3", 1),
					(team_set_slot, "$fplayer_team_no", ":value", ":fplayer_team_no_value_3"),
					(store_add, ":value", 185, ":number"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(neq, ":fplayer_team_no_value", 0),
					(store_add, ":value", 212, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", 1),
					(try_begin),
						(lt, ":fplayer_team_no_value_3", 0),
						(set_show_messages, 0),
						(assign, reg0, ":fplayer_team_no_value_3"),
						(try_for_range, reg1, reg0, 0),
							(team_give_order, "$fplayer_team_no", ":number", 8),
							(val_add, ":fplayer_team_no_value_3", 1),
						(try_end),
						(set_show_messages, 1),
						(store_add, ":value", 194, ":number"),
						(team_set_slot, "$fplayer_team_no", ":value", ":fplayer_team_no_value_3"),
					(else_try),
						(call_script, "script_get_formation_destination", 1, "$fplayer_team_no", ":number"),
						(store_add, ":value", 176, ":number"),
						(try_begin),
							(team_slot_eq, "$fplayer_team_no", ":value", 1),
							(store_add, ":value", 14, ":number"),
							(team_get_slot, ":fplayer_team_no_value_4", "$fplayer_team_no", ":value"),
							(call_script, "script_get_centering_amount", 1, ":fplayer_team_no_value_4", ":fplayer_team_no_value_3"),
							(val_mul, reg0, -1),
							(position_move_x, 1, reg0),
							(call_script, "script_form_archers", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
						(else_try),
							(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 2),
							(team_slot_eq, "$fplayer_team_no", ":value", 5),
							(call_script, "script_form_cavalry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3"),
						(else_try),
							(store_add, ":value", 14, ":number"),
							(team_get_slot, ":fplayer_team_no_value_4", "$fplayer_team_no", ":value"),
							(call_script, "script_get_centering_amount", ":fplayer_team_no_value", ":fplayer_team_no_value_4", ":fplayer_team_no_value_3"),
							(position_move_x, 1, reg0),
							(call_script, "script_form_infantry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
						(try_end),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 8),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 185, ":number"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(store_add, ":value", 194, ":number"),
					(team_get_slot, ":fplayer_team_no_value_3", "$fplayer_team_no", ":value"),
					(try_begin),
						(this_or_next|neq, ":fplayer_team_no_value", 0),
						(lt, ":fplayer_team_no_value_3", 2),
						(val_add, ":fplayer_team_no_value_3", 1),
					(try_end),
					(team_set_slot, "$fplayer_team_no", ":value", ":fplayer_team_no_value_3"),
					(neq, ":fplayer_team_no_value", 0),
					(store_add, ":value", 212, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", 1),
					(set_show_messages, 0),
					(assign, reg0, ":fplayer_team_no_value_3"),
					(try_for_range, reg1, reg0, 1),
						(team_give_order, "$fplayer_team_no", ":number", 8),
						(val_add, ":fplayer_team_no_value_3", 1),
					(try_end),
					(set_show_messages, 1),
					(store_add, ":value", 194, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", ":fplayer_team_no_value_3"),
					(call_script, "script_get_formation_destination", 1, "$fplayer_team_no", ":number"),
					(store_add, ":value", 176, ":number"),
					(try_begin),
						(team_slot_eq, "$fplayer_team_no", ":value", 1),
						(store_add, ":value", 14, ":number"),
						(team_get_slot, ":fplayer_team_no_value_4", "$fplayer_team_no", ":value"),
						(call_script, "script_get_centering_amount", 1, ":fplayer_team_no_value_4", ":fplayer_team_no_value_3"),
						(val_mul, reg0, -1),
						(position_move_x, 1, reg0),
						(call_script, "script_form_archers", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(else_try),
						(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 2),
						(team_slot_eq, "$fplayer_team_no", ":value", 5),
						(call_script, "script_form_cavalry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3"),
					(else_try),
						(store_add, ":value", 14, ":number"),
						(team_get_slot, ":fplayer_team_no_value_4", "$fplayer_team_no", ":value"),
						(call_script, "script_get_centering_amount", ":fplayer_team_no_value", ":fplayer_team_no_value_4", ":fplayer_team_no_value_3"),
						(position_move_x, 1, reg0),
						(call_script, "script_form_infantry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(try_end),
				(try_end),
			(else_try),
				(eq, ":script_param_1", 11),
				(try_for_range, ":number", 0, 9),
					(class_is_listening_order, "$fplayer_team_no", ":number"),
					(store_add, ":value", 284, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", -1),
					(store_add, ":value", 203, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", ":script_param_1"),
					(store_add, ":value", 185, ":number"),
					(team_get_slot, ":fplayer_team_no_value", "$fplayer_team_no", ":value"),
					(neq, ":fplayer_team_no_value", 0),
					(store_add, ":value", 212, ":number"),
					(team_set_slot, "$fplayer_team_no", ":value", 1),
					(call_script, "script_formation_current_position", 63, "$fplayer_team_no", ":number"),
					(copy_position, 1, 63),
					(store_add, ":value", 194, ":number"),
					(team_get_slot, ":fplayer_team_no_value_3", "$fplayer_team_no", ":value"),
					(store_add, ":value", 176, ":number"),
					(try_begin),
						(team_slot_eq, "$fplayer_team_no", ":value", 1),
						(store_add, ":value", 14, ":number"),
						(team_get_slot, ":fplayer_team_no_value_4", "$fplayer_team_no", ":value"),
						(call_script, "script_get_centering_amount", 1, ":fplayer_team_no_value_4", ":fplayer_team_no_value_3"),
						(val_mul, reg0, -1),
						(position_move_x, 1, reg0),
						(call_script, "script_form_archers", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(else_try),
						(this_or_next|team_slot_eq, "$fplayer_team_no", ":value", 2),
						(team_slot_eq, "$fplayer_team_no", ":value", 5),
						(call_script, "script_form_cavalry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3"),
					(else_try),
						(store_add, ":value", 14, ":number"),
						(team_get_slot, ":fplayer_team_no_value_4", "$fplayer_team_no", ":value"),
						(call_script, "script_get_centering_amount", ":fplayer_team_no_value", ":fplayer_team_no_value_4", ":fplayer_team_no_value_3"),
						(position_move_x, 1, reg0),
						(call_script, "script_form_infantry", "$fplayer_team_no", ":number", "$fplayer_agent_no", ":fplayer_team_no_value_3", ":fplayer_team_no_value"),
					(try_end),
					(call_script, "script_set_formation_destination", "$fplayer_team_no", ":number", 63),
				(try_end),
			(try_end)
		]),

	("point_y_toward_position",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(position_get_x, ":position_x_script_param_2", ":script_param_2"),
			(position_get_x, ":position_x_script_param_1", ":script_param_1"),
			(val_sub, ":position_x_script_param_2", ":position_x_script_param_1"),
			(store_mul, ":value", ":position_x_script_param_2", ":position_x_script_param_2"),
			(position_get_y, ":position_y_script_param_2", ":script_param_2"),
			(position_get_y, ":position_x_script_param_1", ":script_param_1"),
			(val_sub, ":position_y_script_param_2", ":position_x_script_param_1"),
			(store_mul, reg0, ":position_y_script_param_2", ":position_y_script_param_2"),
			(val_add, ":value", reg0),
			(convert_from_fixed_point, ":value"),
			(store_sqrt, ":value_2", ":value"),
			(try_begin),
				(gt, ":value_2", 0),
				(convert_to_fixed_point, ":position_x_script_param_2"),
				(val_div, ":position_x_script_param_2", ":value_2"),
				(convert_to_fixed_point, ":position_y_script_param_2"),
				(val_div, ":position_y_script_param_2", ":value_2"),
				(try_begin),
					(lt, ":position_x_script_param_2", 0),
					(assign, ":value_3", 90),
					(assign, ":value_4", 270),
					(assign, ":value_5", 180),
				(else_try),
					(assign, ":value_3", 90),
					(assign, ":value_4", -90),
					(assign, ":value_5", 0),
				(try_end),
				(assign, ":value_6", 0),
				(convert_to_fixed_point, ":value_5"),
				(convert_to_fixed_point, ":value_3"),
				(convert_to_fixed_point, ":value_4"),
				(try_for_range, reg0, 0, 6),
					(store_sin, ":value_6", ":value_5"),
					(try_begin),
						(gt, ":value_6", ":position_y_script_param_2"),
						(assign, ":value_3", ":value_5"),
					(else_try),
						(lt, ":value_6", ":position_y_script_param_2"),
						(assign, ":value_4", ":value_5"),
					(try_end),
					(store_add, ":value_7", ":value_4", ":value_3"),
					(store_div, ":value_5", ":value_7", 2),
				(try_end),
				(convert_from_fixed_point, ":value_5"),
				(position_get_rotation_around_z, reg0, ":script_param_1"),
				(val_sub, ":value_5", reg0),
				(val_sub, ":value_5", 90),
				(position_rotate_z, ":script_param_1", ":value_5"),
			(try_end),
			(assign, reg0, ":value_2")
		]),

	("agent_fix_division",
		[
			(store_script_param_1, ":script_param_1"),
			(agent_set_slot, ":script_param_1", 29, -1),
			(get_player_agent_no, ":player_agent_no"),
			(try_begin),
				(ge, ":player_agent_no", 0),
				(neq, ":script_param_1", ":player_agent_no"),
				(agent_is_human, ":script_param_1"),
				(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
				(agent_get_team, ":team_script_param_1", ":script_param_1"),
				(this_or_next|main_hero_fallen),
				(neq, ":team_script_param_1", ":team_player_agent_no"),
				(agent_get_troop_id, ":troop_id_script_param_1", ":script_param_1"),
				(try_begin),
					(troop_is_guarantee_horse, ":troop_id_script_param_1"),
					(assign, ":value", 2),
				(else_try),
					(troop_is_guarantee_ranged, ":troop_id_script_param_1"),
					(assign, ":value", 1),
				(else_try),
					(assign, ":value", 0),
				(try_end),
				(agent_get_division, ":division_script_param_1", ":script_param_1"),
				(neq, ":division_script_param_1", ":value"),
				(agent_set_division, ":script_param_1", ":value"),
				(agent_set_slot, ":script_param_1", 29, ":value"),
			(try_end)
		]),

	("store_battlegroup_type",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(eq, ":script_param_2", 0),
				(assign, ":value", 0),
			(else_try),
				(eq, ":script_param_2", 1),
				(assign, ":value", 1),
			(else_try),
				(eq, ":script_param_2", 2),
				(assign, ":value", 2),
			(else_try),
				(assign, ":var_4", 0),
				(assign, ":var_5", 0),
				(assign, ":var_6", 0),
				(assign, ":var_7", 0),
				(assign, ":var_8", 0),
				(assign, ":var_9", 0),
				(assign, ":var_10", 0),
				(assign, ":var_11", 0),
				(try_for_agents, ":var_12"),
					(agent_is_alive, ":var_12"),
					(agent_is_human, ":var_12"),
					(agent_slot_eq, ":var_12", slot_agent_is_running_away, 0),
					(agent_get_team, ":team_var_12", ":var_12"),
					(eq, ":team_var_12", ":script_param_1"),
					(team_get_leader, ":leader_script_param_1", ":script_param_1"),
					(neq, ":leader_script_param_1", ":var_12"),
					(agent_get_division, ":division_var_12", ":var_12"),
					(eq, ":division_var_12", ":script_param_2"),
					(agent_get_troop_id, ":troop_id_var_12", ":var_12"),
					(agent_get_ammo, ":ammo_var_12_0", ":var_12", 0),
					(agent_get_wielded_item, reg0, ":var_12", 0),
					(try_begin),
						(lt, reg0, 0),
						(assign, ":value_2", 0),
					(else_try),
						(item_get_type, ":value_2", reg0),
					(try_end),
					(try_begin),
						(neg|troop_is_hero, ":troop_id_var_12"),
						(try_begin),
							(agent_get_horse, reg0, ":var_12"),
							(ge, reg0, 0),
							(try_begin),
								(gt, ":ammo_var_12_0", 0),
								(val_add, ":var_7", 1),
							(else_try),
								(val_add, ":var_6", 1),
							(try_end),
						(else_try),
							(gt, ":ammo_var_12_0", 0),
							(try_begin),
								(eq, ":value_2", 10),
								(val_add, ":var_9", 1),
							(else_try),
								(val_add, ":var_5", 1),
							(try_end),
						(else_try),
							(try_begin),
								(eq, ":value_2", 4),
								(val_add, ":var_8", 1),
							(else_try),
								(val_add, ":var_4", 1),
							(try_end),
						(try_end),
					(else_try),
						(assign, ":var_19", 0),
						(store_skill_level, reg0, 8, ":troop_id_var_12"),
						(val_add, ":var_19", reg0),
						(store_skill_level, reg0, 9, ":troop_id_var_12"),
						(val_add, ":var_19", reg0),
						(store_skill_level, reg0, 10, ":troop_id_var_12"),
						(val_add, ":var_19", reg0),
						(store_skill_level, reg0, 11, ":troop_id_var_12"),
						(val_add, ":var_19", reg0),
						(try_begin),
							(gt, ":var_19", 5),
							(val_add, ":var_10", 1),
						(else_try),
							(val_add, ":var_11", 1),
						(try_end),
					(try_end),
				(try_end),
				(assign, ":value_3", 176),
				(team_set_slot, 7, ":value_3", ":var_4"),
				(val_add, ":value_3", 1),
				(team_set_slot, 7, ":value_3", ":var_5"),
				(val_add, ":value_3", 1),
				(team_set_slot, 7, ":value_3", ":var_6"),
				(val_add, ":value_3", 1),
				(team_set_slot, 7, ":value_3", ":var_8"),
				(val_add, ":value_3", 1),
				(team_set_slot, 7, ":value_3", ":var_9"),
				(val_add, ":value_3", 1),
				(team_set_slot, 7, ":value_3", ":var_7"),
				(val_add, ":value_3", 1),
				(team_set_slot, 7, ":value_3", ":var_10"),
				(val_add, ":value_3", 1),
				(team_set_slot, 7, ":value_3", ":var_11"),
				(assign, ":value_4", 0),
				(assign, ":var_22", 0),
				(try_for_range, ":number", 0, 8),
					(store_add, ":value_3", 176, ":number"),
					(team_get_slot, ":7_value_3", 7, ":value_3"),
					(val_add, ":var_22", ":7_value_3"),
					(lt, ":value_4", ":7_value_3"),
					(assign, ":value_4", ":7_value_3"),
					(assign, ":value", ":number"),
				(try_end),
				(val_mul, ":value_4", 2),
				(try_begin),
					(lt, ":value_4", ":var_22"),
					(assign, ":value_4", 0),
					(assign, ":value", -1),
					(try_for_range, ":number", 0, 3),
						(store_add, ":value_3", 176, ":number"),
						(team_get_slot, ":7_value_3", 7, ":value_3"),
						(val_add, ":value_3", 3),
						(team_get_slot, reg0, 7, ":value_3"),
						(val_add, ":7_value_3", reg0),
						(lt, ":value_4", ":7_value_3"),
						(assign, ":value_4", ":7_value_3"),
						(assign, ":value", ":number"),
					(try_end),
					(val_mul, ":value_4", 2),
					(lt, ":value_4", ":var_22"),
					(assign, ":value", -1),
				(try_end),
			(try_end),
			(store_add, ":value_3", 176, ":script_param_2"),
			(team_set_slot, ":script_param_1", ":value_3", ":value"),
			(assign, reg0, ":value")
		]),

	("store_battlegroup_data",
		[
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":value_3", 0),
			(assign, ":value_4", 0),
			(assign, ":value_5", 0),
			(assign, ":value_6", 0),
			(assign, ":value_7", 0),
			(assign, ":value_8", 0),
			(assign, ":value_9", 0),
			(assign, ":value_10", 0),
			(assign, ":value_11", 0),
			(assign, ":value_12", 0),
			(assign, ":value_13", 0),
			(assign, ":value_14", 0),
			(assign, ":value_15", 0),
			(assign, ":value_16", 0),
			(try_for_range, ":number", 0, 4),
				(try_for_range, ":number_2", 5, 176),
					(team_set_slot, ":number", ":number_2", 0),
				(try_end),
				(try_for_range, ":number_3", 0, 9),
					(store_add, ":number_2", 185, ":number_3"),
					(team_slot_eq, ":number", ":number_2", 0),
					(store_add, ":number_2", 221, ":number_3"),
					(team_set_slot, ":number", ":number_2", -1),
				(try_end),
			(try_end),
			(try_for_agents, ":var_20"),
				(agent_is_alive, ":var_20"),
				(agent_is_human, ":var_20"),
				(agent_get_division, ":division_var_20", ":var_20"),
				(try_begin),
					(agent_slot_ge, ":var_20", 29, 0),
					(neg|agent_slot_eq, ":var_20", 29, ":division_var_20"),
					(agent_get_slot, ":division_var_20", ":var_20", 29),
					(agent_set_division, ":var_20", ":division_var_20"),
				(try_end),
				(agent_slot_eq, ":var_20", slot_agent_is_running_away, 0),
				(agent_get_team, ":team_var_20", ":var_20"),
				(try_begin),
					(team_get_leader, ":leader_team_var_20", ":team_var_20"),
					(eq, ":leader_team_var_20", ":var_20"),
					(assign, ":division_var_20", -1),
				(try_end),
				(agent_get_troop_id, ":troop_id_var_20", ":var_20"),
				(store_character_level, ":character_level_troop_id_var_20", ":troop_id_var_20"),
				(agent_get_ammo, ":ammo_var_20_0", ":var_20", 0),
				(assign, ":var_27", 0),
				(assign, ":value_17", 0),
				(assign, ":value_18", 0),
				(agent_get_wielded_item, ":wielded_item_var_20_0", ":var_20", 0),
				(try_begin),
					(is_between, ":wielded_item_var_20_0", "itm_we_swa_axe_hatchet", "itm_ar_swa_ban_scale_a"),
					(item_get_slot, ":value_17", ":wielded_item_var_20_0", 42),
					(item_get_slot, reg0, ":wielded_item_var_20_0", 44),
					(item_slot_ge, ":wielded_item_var_20_0", 45, reg0),
					(assign, ":value_18", ":value_17"),
				(try_end),
				(agent_get_position, 1, ":var_20"),
				(position_get_x, ":position_x_1", 1),
				(position_get_y, ":position_y_1", 1),
				(try_begin),
					(eq, ":division_var_20", -1),
					(try_begin),
						(eq, ":team_var_20", 0),
						(assign, ":value", 1),
						(assign, ":value_2", ":position_x_1"),
						(assign, ":value_3", ":position_y_1"),
						(assign, ":value_4", ":character_level_troop_id_var_20"),
					(else_try),
						(eq, ":team_var_20", 1),
						(assign, ":value_5", 1),
						(assign, ":value_6", ":position_x_1"),
						(assign, ":value_7", ":position_y_1"),
						(assign, ":value_8", ":character_level_troop_id_var_20"),
					(else_try),
						(eq, ":team_var_20", 2),
						(assign, ":value_9", 1),
						(assign, ":value_10", ":position_x_1"),
						(assign, ":value_11", ":position_y_1"),
						(assign, ":value_12", ":character_level_troop_id_var_20"),
					(else_try),
						(eq, ":team_var_20", 3),
						(assign, ":value_13", 1),
						(assign, ":value_14", ":position_x_1"),
						(assign, ":value_15", ":position_y_1"),
						(assign, ":value_16", ":character_level_troop_id_var_20"),
					(try_end),
				(else_try),
					(try_begin),
						(store_add, ":number_2", 104, ":division_var_20"),
						(team_slot_eq, ":team_var_20", ":number_2", 0),
						(agent_get_attack_action, reg0, ":var_20"),
						(gt, reg0, 0),
						(team_set_slot, ":team_var_20", ":number_2", 1),
					(try_end),
					(store_add, ":number_2", 14, ":division_var_20"),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
					(val_add, ":team_var_20_number_2", 1),
					(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(try_begin),
						(store_add, ":number_2", 185, ":division_var_20"),
						(team_slot_eq, ":team_var_20", ":number_2", 0),
						(store_add, ":number_2", 221, ":division_var_20"),
						(neg|team_slot_ge, ":team_var_20", ":number_2", 0),
						(team_set_slot, ":team_var_20", ":number_2", ":var_20"),
					(try_end),
					(try_begin),
						(gt, ":ammo_var_20_0", 0),
						(store_add, ":number_2", 23, ":division_var_20"),
						(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
						(val_add, ":team_var_20_number_2", 1),
						(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(else_try),
						(store_add, ":number_2", 41, ":division_var_20"),
						(team_set_slot, ":team_var_20", ":number_2", 1),
					(try_end),
					(try_begin),
						(eq, ":var_27", 10),
						(store_add, ":number_2", 32, ":division_var_20"),
						(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
						(val_add, ":team_var_20_number_2", 1),
						(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(try_end),
					(store_add, ":number_2", 50, ":division_var_20"),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
					(val_add, ":team_var_20_number_2", ":character_level_troop_id_var_20"),
					(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(store_add, ":number_2", 68, ":division_var_20"),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
					(val_add, ":team_var_20_number_2", ":value_17"),
					(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(store_add, ":number_2", 77, ":division_var_20"),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
					(val_add, ":team_var_20_number_2", ":value_18"),
					(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(try_begin),
						(agent_slot_ge, ":var_20", 26, 1),
						(store_add, ":number_2", 86, ":division_var_20"),
						(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
						(val_add, ":team_var_20_number_2", ":value_17"),
						(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
						(store_add, ":number_2", 95, ":division_var_20"),
						(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
						(val_add, ":team_var_20_number_2", 1),
						(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(try_end),
					(store_add, ":number_2", 158, ":division_var_20"),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
					(val_add, ":team_var_20_number_2", ":position_x_1"),
					(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
					(store_add, ":number_2", 167, ":division_var_20"),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
					(val_add, ":team_var_20_number_2", ":position_y_1"),
					(team_set_slot, ":team_var_20", ":number_2", ":team_var_20_number_2"),
				(try_end),
				(agent_get_class, ":class_var_20", ":var_20"),
				(try_begin),
					(eq, ":class_var_20", 1),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", 8),
					(val_add, ":team_var_20_number_2", 1),
					(team_set_slot, ":team_var_20", 8, ":team_var_20_number_2"),
				(else_try),
					(eq, ":class_var_20", 2),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", 9),
					(val_add, ":team_var_20_number_2", 1),
					(team_set_slot, ":team_var_20", 9, ":team_var_20_number_2"),
				(else_try),
					(eq, ":class_var_20", 0),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", 7),
					(val_add, ":team_var_20_number_2", 1),
					(team_set_slot, ":team_var_20", 7, ":team_var_20_number_2"),
					(try_for_range, ":number_4", 0, 4),
						(teams_are_enemies, ":number_4", ":team_var_20"),
						(team_get_slot, reg0, ":number_4", 2),
						(position_set_x, 0, reg0),
						(team_get_slot, reg0, ":number_4", 3),
						(position_set_y, 0, reg0),
						(position_set_z_to_ground_level, 0),
						(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
						(team_get_slot, ":number_4_11", ":number_4", 11),
						(try_begin),
							(this_or_next|eq, ":number_4_11", 0),
							(lt, ":distance_between_positions_0_1", ":number_4_11"),
							(team_set_slot, ":number_4", 11, ":distance_between_positions_0_1"),
						(try_end),
					(try_end),
				(try_end),
				(agent_set_slot, ":var_20", 28, -1),
				(try_for_agents, ":var_38"),
					(agent_is_alive, ":var_38"),
					(agent_is_human, ":var_38"),
					(agent_get_team, ":number_4", ":var_38"),
					(teams_are_enemies, ":number_4", ":team_var_20"),
					(agent_slot_eq, ":var_38", slot_agent_is_running_away, 0),
					(agent_get_position, 0, ":var_38"),
					(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
					(try_begin),
						(agent_get_slot, ":var_20_28", ":var_20", 28),
						(eq, ":var_20_28", -1),
						(agent_set_slot, ":var_20", 28, ":var_38"),
					(else_try),
						(agent_get_position, 2, ":var_20_28"),
						(get_distance_between_positions, ":number_4_11", 2, 1),
						(lt, ":distance_between_positions_0_1", ":number_4_11"),
						(agent_set_slot, ":var_20", 28, ":var_38"),
					(try_end),
				(try_end),
				(try_begin),
					(ge, ":division_var_20", 0),
					(agent_get_slot, ":var_20_28", ":var_20", 28),
					(neq, ":var_20_28", -1),
					(agent_get_position, 0, ":var_20_28"),
					(get_distance_between_positions, ":distance_between_positions_0_1", 0, 1),
					(try_begin),
						(lt, ":distance_between_positions_0_1", 350),
						(agent_get_division, reg0, ":var_20_28"),
						(store_add, ":number_2", 113, reg0),
						(agent_get_team, reg0, ":var_20_28"),
						(team_get_slot, ":team_var_20_number_2", reg0, ":number_2"),
						(val_add, ":team_var_20_number_2", 1),
						(team_set_slot, reg0, ":number_2", ":team_var_20_number_2"),
					(try_end),
					(store_add, ":number_2", 131, ":division_var_20"),
					(team_get_slot, ":number_4_11", ":team_var_20", ":number_2"),
					(try_begin),
						(this_or_next|eq, ":number_4_11", 0),
						(lt, ":distance_between_positions_0_1", ":number_4_11"),
						(team_set_slot, ":team_var_20", ":number_2", ":distance_between_positions_0_1"),
						(store_add, ":number_2", 122, ":division_var_20"),
						(team_set_slot, ":team_var_20", ":number_2", ":var_20_28"),
					(try_end),
					(assign, ":value_19", 0),
					(agent_get_class, ":class_var_20_28", ":var_20_28"),
					(store_add, ":number_2", 176, ":division_var_20"),
					(team_get_slot, ":team_var_20_number_2", ":team_var_20", ":number_2"),
					(try_begin),
						(this_or_next|eq, ":team_var_20_number_2", 3),
						(eq, ":team_var_20_number_2", 0),
						(neq, ":class_var_20_28", 2),
						(assign, ":value_19", 1),
					(else_try),
						(this_or_next|eq, ":team_var_20_number_2", 1),
						(eq, ":team_var_20_number_2", 4),
						(eq, ":class_var_20_28", 0),
						(assign, ":value_19", 1),
					(try_end),
					(eq, ":value_19", 1),
					(store_add, ":number_2", 149, ":division_var_20"),
					(team_get_slot, ":number_4_11", ":team_var_20", ":number_2"),
					(try_begin),
						(this_or_next|eq, ":number_4_11", 0),
						(lt, ":distance_between_positions_0_1", ":number_4_11"),
						(team_set_slot, ":team_var_20", ":number_2", ":distance_between_positions_0_1"),
						(store_add, ":number_2", 140, ":division_var_20"),
						(team_set_slot, ":team_var_20", ":number_2", ":var_20_28"),
					(try_end),
				(try_end),
			(try_end),
			(try_for_range, ":number", 0, 4),
				(assign, ":var_42", 0),
				(assign, ":var_43", 0),
				(assign, ":var_44", 0),
				(assign, ":var_45", 0),
				(try_for_range, ":number_3", 0, 9),
					(store_add, ":number_2", 14, ":number_3"),
					(team_get_slot, ":number_number_2", ":number", ":number_2"),
					(gt, ":number_number_2", 0),
					(val_add, ":var_42", ":number_number_2"),
					(store_add, ":number_2", 50, ":number_3"),
					(team_get_slot, ":number_number_2_2", ":number", ":number_2"),
					(val_add, ":var_43", ":number_number_2_2"),
					(store_add, ":number_2", 158, ":number_3"),
					(team_get_slot, ":number_number_2_3", ":number", ":number_2"),
					(val_add, ":var_44", ":number_number_2_3"),
					(store_add, ":number_2", 167, ":number_3"),
					(team_get_slot, ":number_number_2_4", ":number", ":number_2"),
					(val_add, ":var_45", ":number_number_2_4"),
					(store_add, ":number_2", 50, ":number_3"),
					(val_div, ":number_number_2_2", ":number_number_2"),
					(team_set_slot, ":number", ":number_2", ":number_number_2_2"),
					(store_add, ":number_2", 23, ":number_3"),
					(team_get_slot, ":team_var_20_number_2", ":number", ":number_2"),
					(val_mul, ":team_var_20_number_2", 100),
					(val_div, ":team_var_20_number_2", ":number_number_2"),
					(team_set_slot, ":number", ":number_2", ":team_var_20_number_2"),
					(store_add, ":number_2", 32, ":number_3"),
					(team_get_slot, ":team_var_20_number_2", ":number", ":number_2"),
					(val_mul, ":team_var_20_number_2", 100),
					(val_div, ":team_var_20_number_2", ":number_number_2"),
					(team_set_slot, ":number", ":number_2", ":team_var_20_number_2"),
					(store_add, ":number_2", 68, ":number_3"),
					(team_get_slot, ":team_var_20_number_2", ":number", ":number_2"),
					(val_div, ":team_var_20_number_2", ":number_number_2"),
					(team_set_slot, ":number", ":number_2", ":team_var_20_number_2"),
					(store_add, ":number_2", 77, ":number_3"),
					(team_get_slot, ":team_var_20_number_2", ":number", ":number_2"),
					(val_div, ":team_var_20_number_2", ":number_number_2"),
					(team_set_slot, ":number", ":number_2", ":team_var_20_number_2"),
					(store_add, ":number_2", 95, ":number_3"),
					(team_get_slot, reg0, ":number", ":number_2"),
					(try_begin),
						(gt, reg0, 0),
						(store_add, ":number_2", 86, ":number_3"),
						(team_get_slot, ":team_var_20_number_2", ":number", ":number_2"),
						(val_div, ":team_var_20_number_2", reg0),
						(team_set_slot, ":number", ":number_2", ":team_var_20_number_2"),
					(try_end),
					(store_add, ":number_2", 158, ":number_3"),
					(val_div, ":number_number_2_3", ":number_number_2"),
					(team_set_slot, ":number", ":number_2", ":number_number_2_3"),
					(store_add, ":number_2", 167, ":number_3"),
					(val_div, ":number_number_2_4", ":number_number_2"),
					(team_set_slot, ":number", ":number_2", ":number_number_2_4"),
					(store_add, ":number_2", 176, ":number_3"),
					(team_get_slot, reg0, ":number", ":number_2"),
					(try_begin),
						(neg|is_between, reg0, 0, 8),
						(call_script, "script_store_battlegroup_type", ":number", ":number_3"),
					(try_end),
				(try_end),
				(try_begin),
					(eq, ":number", 0),
					(val_add, ":var_42", ":value"),
					(val_add, ":var_43", ":value_4"),
					(val_add, ":var_44", ":value_2"),
					(val_add, ":var_45", ":value_3"),
				(else_try),
					(eq, ":number", 1),
					(val_add, ":var_42", ":value_5"),
					(val_add, ":var_43", ":value_8"),
					(val_add, ":var_44", ":value_6"),
					(val_add, ":var_45", ":value_7"),
				(else_try),
					(eq, ":number", 2),
					(val_add, ":var_42", ":value_9"),
					(val_add, ":var_43", ":value_12"),
					(val_add, ":var_44", ":value_10"),
					(val_add, ":var_45", ":value_11"),
				(else_try),
					(eq, ":number", 3),
					(val_add, ":var_42", ":value_13"),
					(val_add, ":var_43", ":value_16"),
					(val_add, ":var_44", ":value_14"),
					(val_add, ":var_45", ":value_15"),
				(try_end),
				(gt, ":var_42", 0),
				(team_set_slot, ":number", 5, ":var_42"),
				(val_div, ":var_43", ":var_42"),
				(team_set_slot, ":number", 10, ":var_43"),
				(val_div, ":var_44", ":var_42"),
				(team_set_slot, ":number", 12, ":var_44"),
				(val_div, ":var_45", ":var_42"),
				(team_set_slot, ":number", 13, ":var_45"),
			(try_end)
		]),

	("battlegroup_get_position",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(init_position, ":script_param_1"),
			(try_begin),
				(neg|is_between, ":script_param_3", 0, 9),
				(team_slot_ge, ":script_param_2", 5, 1),
				(team_get_slot, ":value", ":script_param_2", 12),
				(team_get_slot, ":value_2", ":script_param_2", 13),
			(else_try),
				(is_between, ":script_param_3", 0, 9),
				(store_add, ":value_3", 14, ":script_param_3"),
				(team_slot_ge, ":script_param_2", ":value_3", 1),
				(store_add, ":value_3", 158, ":script_param_3"),
				(team_get_slot, ":value", ":script_param_2", ":value_3"),
				(store_add, ":value_3", 167, ":script_param_3"),
				(team_get_slot, ":value_2", ":script_param_2", ":value_3"),
			(try_end),
			(position_set_x, ":script_param_1", ":value"),
			(position_set_y, ":script_param_1", ":value_2"),
			(position_set_z_to_ground_level, ":script_param_1")
		]),

	("battlegroup_get_attack_destination",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_add, ":value", 185, ":script_param_3"),
			(team_get_slot, ":script_param_2_value", ":script_param_2", ":value"),
			(try_begin),
				(eq, ":script_param_2_value", 0),
				(call_script, "script_battlegroup_get_position", ":script_param_1", ":script_param_2", ":script_param_3"),
			(else_try),
				(call_script, "script_formation_current_position", ":script_param_1", ":script_param_2", ":script_param_3"),
			(try_end),
			(store_add, ":value", 185, ":script_param_5"),
			(team_get_slot, ":script_param_4_value", ":script_param_4", ":value"),
			(try_begin),
				(eq, ":script_param_4_value", 0),
				(call_script, "script_battlegroup_get_position", 24, ":script_param_4", ":script_param_5"),
			(else_try),
				(call_script, "script_formation_current_position", 24, ":script_param_4", ":script_param_5"),
			(try_end),
			(get_distance_between_positions, ":distance_between_positions_script_param_1_24", ":script_param_1", 24),
			(call_script, "script_battlegroup_get_action_radius", ":script_param_2", ":script_param_3"),
			(assign, ":var_10", reg0),
			(call_script, "script_battlegroup_get_action_radius", ":script_param_4", ":script_param_5"),
			(store_add, ":value_2", ":var_10", reg0),
			(try_begin),
				(neq, ":script_param_2_value", 0),
				(le, ":distance_between_positions_script_param_1_24", ":value_2"),
				(store_mul, reg0, -350, 2),
				(position_move_y, ":script_param_1", reg0),
				(get_distance_between_positions, ":distance_between_positions_script_param_1_24", ":script_param_1", 24),
			(try_end),
			(try_begin),
				(eq, ":script_param_2_value", 0),
				(call_script, "script_battlegroup_get_depth", ":script_param_2", ":script_param_3"),
				(val_div, reg0, 2),
				(val_sub, ":distance_between_positions_script_param_1_24", reg0),
			(try_end),
			(store_add, ":value", 86, ":script_param_3"),
			(team_get_slot, ":script_param_2_value_2", ":script_param_2", ":value"),
			(try_begin),
				(neq, ":script_param_2_value", 0),
				(store_add, ":value", 194, ":script_param_3"),
				(team_get_slot, reg0, ":script_param_2", ":value"),
				(val_mul, reg0, 50),
				(val_add, reg0, 45),
				(val_sub, ":var_10", reg0),
				(val_max, ":var_10", 0),
			(try_end),
			(try_begin),
				(this_or_next|eq, ":script_param_4_value", 0),
				(eq, ":script_param_4_value", 1),
				(call_script, "script_battlegroup_get_depth", ":script_param_4", ":script_param_5"),
				(val_div, reg0, 2),
				(try_begin),
					(eq, ":script_param_2_value", 4),
					(val_add, ":distance_between_positions_script_param_1_24", ":var_10"),
				(else_try),
					(val_sub, ":distance_between_positions_script_param_1_24", reg0),
					(val_sub, ":distance_between_positions_script_param_1_24", ":script_param_2_value_2"),
				(try_end),
			(else_try),
				(store_add, ":value", 221, ":script_param_5"),
				(team_get_slot, reg0, ":script_param_4", ":value"),
				(try_begin),
					(eq, reg0, -1),
					(assign, reg1, ":script_param_4"),
					(assign, reg2, ":script_param_5"),
					(assign, reg3, ":script_param_4_value"),
					(assign, ":value_3", 0),
				(else_try),
					(agent_get_speed, 14, reg0),
					(init_position, 28),
					(get_distance_between_positions, ":value_3", 14, 28),
					(val_mul, ":value_3", 2),
				(try_end),
				(position_is_behind_position, ":script_param_1", 24),
				(val_add, ":distance_between_positions_script_param_1_24", ":value_3"),
				(call_script, "script_battlegroup_get_depth", ":script_param_4", ":script_param_5"),
				(try_begin),
					(eq, ":script_param_2_value", 4),
					(val_div, reg0, 2),
					(val_sub, ":distance_between_positions_script_param_1_24", reg0),
					(val_add, ":distance_between_positions_script_param_1_24", ":var_10"),
				(else_try),
					(val_sub, ":distance_between_positions_script_param_1_24", reg0),
					(val_sub, ":distance_between_positions_script_param_1_24", ":script_param_2_value_2"),
				(try_end),
			(else_try),
				(try_begin),
					(store_add, ":value", 104, ":script_param_3"),
					(team_slot_eq, ":script_param_2", ":value", 0),
					(val_sub, ":distance_between_positions_script_param_1_24", ":value_3"),
				(try_end),
				(eq, ":script_param_2_value", 4),
				(call_script, "script_battlegroup_get_depth", ":script_param_4", ":script_param_5"),
				(val_div, reg0, 2),
				(val_add, ":distance_between_positions_script_param_1_24", reg0),
				(val_add, ":distance_between_positions_script_param_1_24", ":var_10"),
			(else_try),
				(val_sub, ":distance_between_positions_script_param_1_24", ":script_param_2_value_2"),
			(try_end),
			(call_script, "script_point_y_toward_position", ":script_param_1", 24),
			(position_move_y, ":script_param_1", ":distance_between_positions_script_param_1_24")
		]),

	("battlegroup_get_depth",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(store_add, ":value_2", 194, ":script_param_2"),
			(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value_2"),
			(store_add, ":value_2", 185, ":script_param_2"),
			(team_get_slot, ":script_param_1_value_2_2", ":script_param_1", ":value_2"),
			(try_begin),
				(eq, ":script_param_1_value_2_2", 0),
				(try_begin),
					(lt, ":script_param_1_value_2", 0),
					(store_mul, ":value", ":script_param_1_value_2", -1),
					(val_mul, ":value", 100),
				(try_end),
			(else_try),
				(this_or_next|eq, ":script_param_1_value_2_2", 2),
				(eq, ":script_param_1_value_2_2", 3),
				(store_mul, ":value", ":script_param_1_value_2", 50),
				(val_add, ":value", 45),
				(val_mul, ":value", 2),
			(else_try),
				(this_or_next|eq, ":script_param_1_value_2_2", 4),
				(eq, ":script_param_1_value_2_2", 5),
				(store_add, ":value_2", 14, ":script_param_2"),
				(team_get_slot, ":script_param_1_value_2_3", ":script_param_1", ":value_2"),
				(call_script, "script_get_centering_amount", 5, ":script_param_1_value_2_3", ":script_param_1_value_2"),
				(store_mul, ":value", reg0, 2),
				(try_begin),
					(eq, ":script_param_1_value_2_2", 4),
					(val_mul, ":value", 1414),
					(val_div, ":value", 1000),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("battlegroup_get_action_radius",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_add, ":value", 14, ":script_param_2"),
			(team_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
			(store_add, ":value", 185, ":script_param_2"),
			(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value"),
			(store_add, ":value", 194, ":script_param_2"),
			(team_get_slot, ":script_param_1_value_3", ":script_param_1", ":value"),
			(try_begin),
				(eq, ":script_param_1_value_2", 0),
				(try_begin),
					(ge, ":script_param_1_value_3", 0),
					(store_mul, ":value_2", ":script_param_1_value_3", 75),
					(val_add, ":value_2", 100),
				(else_try),
					(assign, ":value_2", 150),
					(val_mul, ":script_param_1_value_3", -1),
					(val_add, ":script_param_1_value_3", 1),
					(val_div, ":script_param_1_value", ":script_param_1_value_3"),
				(try_end),
				(store_mul, ":value_3", ":script_param_1_value", ":value_2"),
				(store_div, reg0, ":value_3", 2),
			(else_try),
				(eq, ":script_param_1_value_2", 4),
				(call_script, "script_get_centering_amount", 5, ":script_param_1_value", ":script_param_1_value_3"),
				(val_mul, reg0, 4),
				(val_div, reg0, 3),
			(else_try),
				(call_script, "script_get_centering_amount", ":script_param_1_value_2", ":script_param_1_value", ":script_param_1_value_3"),
			(try_end),
			(val_mul, reg0, 2)
		]),

	("team_get_position_of_enemies",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":var_6", 0),
			(try_begin),
				(neq, ":script_param_3", 9),
				(assign, ":value_3", 1000000),
				(call_script, "script_battlegroup_get_position", 28, ":script_param_2", 9),
			(try_end),
			(try_for_range, ":number", 0, 4),
				(teams_are_enemies, ":number", ":script_param_2"),
				(try_begin),
					(eq, ":script_param_3", 9),
					(team_get_slot, ":number_5", ":number", 5),
					(try_begin),
						(gt, ":number_5", 0),
						(call_script, "script_battlegroup_get_position", ":script_param_1", ":number", 9),
						(position_get_x, reg0, ":script_param_1"),
						(val_mul, reg0, ":number_5"),
						(val_add, ":value", reg0),
						(position_get_y, reg0, ":script_param_1"),
						(val_mul, reg0, ":number_5"),
						(val_add, ":value_2", reg0),
					(try_end),
				(else_try),
					(assign, ":number_5", 0),
					(try_for_range, ":number_2", 0, 9),
						(store_add, ":value_4", 14, ":number_2"),
						(team_get_slot, ":number_value_4", ":number", ":value_4"),
						(gt, ":number_value_4", 0),
						(store_add, ":value_4", 176, ":number_2"),
						(team_get_slot, ":number_value_4_2", ":number", ":value_4"),
						(store_sub, ":value_5", ":number_value_4_2", 3),
						(this_or_next|eq, ":number_value_4_2", ":script_param_3"),
						(eq, ":value_5", ":script_param_3"),
						(val_add, ":number_5", ":number_value_4"),
						(call_script, "script_battlegroup_get_position", ":script_param_1", ":number", ":number_2"),
						(get_distance_between_positions, reg0, 28, ":script_param_1"),
						(lt, reg0, ":value_3"),
						(assign, ":value_3", reg0),
						(position_get_x, ":value", ":script_param_1"),
						(position_get_y, ":value_2", ":script_param_1"),
					(try_end),
				(try_end),
				(val_add, ":var_6", ":number_5"),
			(try_end),
			(try_begin),
				(eq, ":var_6", 0),
				(init_position, ":script_param_1"),
			(else_try),
				(eq, ":script_param_3", 9),
				(val_div, ":value", ":var_6"),
				(position_set_x, ":script_param_1", ":value"),
				(val_div, ":value_2", ":var_6"),
				(position_set_y, ":script_param_1", ":value_2"),
				(position_set_z_to_ground_level, ":script_param_1"),
			(else_try),
				(position_set_x, ":script_param_1", ":value"),
				(position_set_y, ":script_param_1", ":value_2"),
				(position_set_z_to_ground_level, ":script_param_1"),
			(try_end),
			(assign, reg0, ":var_6")
		]),

	("formation_battle_tactic_init_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(team_get_leader, ":leader_script_param_1", ":script_param_1"),
			(try_begin),
				(eq, ":script_param_2", 1),
				(agent_get_position, 1, ":leader_script_param_1"),
				(call_script, "script_find_high_ground_around_pos1", ":script_param_1", 30),
				(copy_position, 1, 52),
				(call_script, "script_find_high_ground_around_pos1", ":script_param_1", 30),
				(copy_position, 1, 52),
				(call_script, "script_find_high_ground_around_pos1", ":script_param_1", 30),
				(team_give_order, ":script_param_1", 9, 0),
				(team_set_order_position, ":script_param_1", 9, 52),
				(team_give_order, ":script_param_1", 1, 5),
				(team_give_order, ":script_param_1", 1, 5),
			(else_try),
				(eq, ":script_param_2", 2),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(ge, ":leader_script_param_1", 0),
				(agent_set_speed_limit, ":leader_script_param_1", 8),
				(agent_get_position, 60, ":leader_script_param_1"),
				(team_give_order, ":script_param_1", 9, 0),
				(team_set_order_position, ":script_param_1", 9, 60),
			(try_end),
			(call_script, "script_division_reset_places"),
			(call_script, "script_get_default_formation", ":script_param_1"),
			(assign, ":var_4", reg0),
			(try_begin),
				(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 0, ":var_4"),
				(store_add, ":value", 185, 0),
				(team_set_slot, ":script_param_1", ":value", ":var_4"),
				(store_add, ":value", 194, 0),
				(team_set_slot, ":script_param_1", ":value", 0),
			(else_try),
				(call_script, "script_formation_end", ":script_param_1", 0),
			(try_end),
			(call_script, "script_battlegroup_place_around_leader", ":script_param_1", 0),
			(try_begin),
				(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 1, 1),
				(store_add, ":value", 185, 1),
				(team_set_slot, ":script_param_1", ":value", 1),
				(store_add, ":value", 194, 1),
				(team_set_slot, ":script_param_1", ":value", 2),
			(else_try),
				(call_script, "script_formation_end", ":script_param_1", 1),
			(try_end),
			(call_script, "script_battlegroup_place_around_leader", ":script_param_1", 1),
			(try_begin),
				(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 2, 4),
				(store_add, ":value", 185, 2),
				(team_set_slot, ":script_param_1", ":value", 4),
				(store_add, ":value", 194, 2),
				(team_set_slot, ":script_param_1", ":value", 0),
			(else_try),
				(call_script, "script_formation_end", ":script_param_1", 2),
			(try_end),
			(call_script, "script_battlegroup_place_around_leader", ":script_param_1", 2),
			(team_give_order, ":script_param_1", 1, 8),
			(team_give_order, ":script_param_1", 1, 8)
		]),

	("formation_battle_tactic_apply_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_mission_timer_a, ":mission_timer_a"),
			(try_begin),
				(eq, ":script_param_2", 1),
				(copy_position, 1, 52),
				(call_script, "script_get_closest3_distance_of_enemies_at_pos1", ":script_param_1", 1),
				(assign, ":var_4", reg0),
				(assign, ":var_5", reg1),
				(try_begin),
					(this_or_next|lt, ":var_5", 1000),
					(lt, ":var_4", 4000),
					(assign, ":script_param_2", 0),
					(call_script, "script_formation_end", ":script_param_1", 0),
					(call_script, "script_formation_end", ":script_param_1", 1),
					(call_script, "script_formation_end", ":script_param_1", 2),
					(team_give_order, ":script_param_1", 9, 2),
				(try_end),
			(else_try),
				(eq, ":script_param_2", 2),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(try_begin),
					(agent_is_alive, ":leader_script_param_1"),
					(agent_set_speed_limit, ":leader_script_param_1", 9),
					(call_script, "script_team_get_average_position_of_enemies", ":script_param_1"),
					(copy_position, 60, 0),
					(ge, ":leader_script_param_1", 0),
					(agent_get_position, 61, ":leader_script_param_1"),
					(position_transform_position_to_local, 62, 61, 60),
					(position_normalize_origin, ":value", 62),
					(convert_from_fixed_point, ":value"),
					(assign, reg17, ":value"),
					(position_get_x, ":position_x_62", 62),
					(position_get_y, ":position_y_62", 62),
					(val_mul, ":position_x_62", 23),
					(val_mul, ":position_y_62", 23),
					(position_set_x, 62, ":position_x_62"),
					(position_set_y, 62, ":position_y_62"),
					(position_transform_position_to_parent, 63, 61, 62),
					(position_set_z_to_ground_level, 63),
					(team_give_order, ":script_param_1", 9, 0),
					(team_set_order_position, ":script_param_1", 9, 63),
					(call_script, "script_point_y_toward_position", 63, 60),
					(agent_get_position, 49, ":leader_script_param_1"),
					(agent_set_position, ":leader_script_param_1", 63),
					(call_script, "script_division_reset_places"),
					(call_script, "script_get_default_formation", ":script_param_1"),
					(assign, ":var_10", reg0),
					(try_begin),
						(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 0, ":var_10"),
						(store_add, ":value_2", 185, 0),
						(team_set_slot, ":script_param_1", ":value_2", ":var_10"),
						(store_add, ":value_2", 194, 0),
						(team_set_slot, ":script_param_1", ":value_2", 0),
					(else_try),
						(call_script, "script_formation_end", ":script_param_1", 0),
					(try_end),
					(call_script, "script_battlegroup_place_around_leader", ":script_param_1", 0),
					(try_begin),
						(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 1, 1),
						(store_add, ":value_2", 185, 1),
						(team_set_slot, ":script_param_1", ":value_2", 1),
						(store_add, ":value_2", 194, 1),
						(team_set_slot, ":script_param_1", ":value_2", 2),
					(else_try),
						(call_script, "script_formation_end", ":script_param_1", 1),
					(try_end),
					(call_script, "script_battlegroup_place_around_leader", ":script_param_1", 1),
					(try_begin),
						(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 2, 4),
						(store_add, ":value_2", 185, 2),
						(team_set_slot, ":script_param_1", ":value_2", 4),
						(store_add, ":value_2", 194, 2),
						(team_set_slot, ":script_param_1", ":value_2", 0),
					(else_try),
						(call_script, "script_formation_end", ":script_param_1", 2),
					(try_end),
					(call_script, "script_battlegroup_place_around_leader", ":script_param_1", 2),
					(agent_set_position, ":leader_script_param_1", 49),
					(agent_get_position, 1, ":leader_script_param_1"),
					(try_begin),
						(lt, ":value", 50),
						(ge, ":mission_timer_a", 30),
						(assign, ":script_param_2", 0),
						(call_script, "script_formation_end", ":script_param_1", 0),
						(call_script, "script_formation_end", ":script_param_1", 1),
						(call_script, "script_formation_end", ":script_param_1", 2),
						(team_give_order, ":script_param_1", 9, 2),
						(agent_set_speed_limit, ":leader_script_param_1", 60),
					(try_end),
				(else_try),
					(assign, ":script_param_2", 0),
					(call_script, "script_formation_end", ":script_param_1", 0),
					(call_script, "script_formation_end", ":script_param_1", 1),
					(call_script, "script_formation_end", ":script_param_1", 2),
					(team_give_order, ":script_param_1", 9, 2),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":script_param_2", 0),
				(ge, ":mission_timer_a", 300),
				(assign, ":script_param_2", 0),
				(call_script, "script_formation_end", ":script_param_1", 0),
				(call_script, "script_formation_end", ":script_param_1", 1),
				(call_script, "script_formation_end", ":script_param_1", 2),
				(team_give_order, ":script_param_1", 9, 2),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(agent_set_speed_limit, ":leader_script_param_1", 60),
			(try_end),
			(assign, reg0, ":script_param_2")
		]),

	("battle_tactic_init_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(party_slot_ge, "p_main_party", 83, 1),
				(assign, ":value", 0),
				(get_player_agent_no, ":player_agent_no"),
				(agent_get_team, ":team_player_agent_no", ":player_agent_no"),
				(try_begin),
					(teams_are_enemies, ":script_param_1", ":team_player_agent_no"),
					(party_slot_eq, "$g_enemy_party", slot_party_type, 13),
					(assign, ":value", 1),
				(else_try),
					(neg|teams_are_enemies, ":script_param_1", ":team_player_agent_no"),
					(gt, "$g_ally_party", 0),
					(party_slot_eq, "$g_ally_party", slot_party_type, 13),
					(assign, ":value", 1),
				(try_end),
				(this_or_next|eq, ":value", 1),
				(eq, 1, 0),
				(call_script, "script_formation_battle_tactic_init_aux", ":script_param_1", ":script_param_2"),
			(else_try),
				(call_script, "script_orig_battle_tactic_init_aux", ":script_param_1", ":script_param_2"),
			(try_end)
		]),

	("battle_tactic_apply_aux",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(party_slot_ge, "p_main_party", 83, 1),
				(call_script, "script_formation_battle_tactic_apply_aux", ":script_param_1", ":script_param_2"),
			(else_try),
				(call_script, "script_orig_battle_tactic_apply_aux", ":script_param_1", ":script_param_2"),
			(try_end)
		]),

	("calculate_decision_numbers",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(team_get_slot, reg0, ":script_param_1", 10),
				(store_div, reg1, reg0, 3),
				(store_add, reg0, ":script_param_2", reg1),
			(try_end)
		]),

	("team_field_ranged_tactics",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", 1),
			(assign, ":var_5", 39),
			(store_add, ":value", 14, ":var_4"),
			(try_begin),
				(team_slot_ge, ":script_param_1", ":value", 1),
				(call_script, "script_battlegroup_get_position", ":var_5", ":script_param_1", ":var_4"),
				(call_script, "script_team_get_position_of_enemies", 24, ":script_param_1", 9),
				(call_script, "script_point_y_toward_position", ":var_5", 24),
				(store_add, ":value", 149, ":var_4"),
				(team_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
				(try_begin),
					(eq, ":script_param_1_value", 0),
					(call_script, "script_get_nearest_enemy_battlegroup_location", 37, ":script_param_1", ":var_5"),
					(assign, ":script_param_1_value", reg0),
				(try_end),
				(call_script, "script_calculate_decision_numbers", ":script_param_1", ":script_param_3"),
				(assign, ":value_2", reg0),
				(assign, ":var_9", reg1),
				(try_begin),
					(gt, ":value_2", 86),
					(team_get_movement_order, reg0, ":script_param_1", ":var_4"),
					(try_begin),
						(neq, reg0, 2),
						(team_give_order, ":script_param_1", ":var_4", 2),
					(try_end),
				(else_try),
					(ge, "$battle_phase", 2),
					(store_add, ":value", 41, ":var_4"),
					(team_slot_ge, ":script_param_1", ":value", 1),
					(team_get_movement_order, reg0, ":script_param_1", ":var_4"),
					(try_begin),
						(neq, reg0, 2),
						(team_give_order, ":script_param_1", ":var_4", 2),
					(try_end),
				(else_try),
					(ge, "$battle_phase", 3),
					(store_add, ":value", 104, ":var_4"),
					(team_slot_eq, ":script_param_1", ":value", 0),
					(gt, ":value_2", 50),
					(le, ":script_param_1_value", 13000),
					(team_give_order, ":script_param_1", ":var_4", 5),
				(else_try),
					(store_add, ":value_2", ":script_param_2", ":var_9"),
					(assign, ":value_3", 0),
					(try_begin),
						(eq, "$battle_phase", 1),
						(assign, ":value_3", 1),
					(else_try),
						(ge, "$battle_phase", 3),
						(try_begin),
							(neg|is_between, ":script_param_1_value", 2000, 13000),
							(assign, ":value_3", 1),
						(else_try),
							(lt, ":value_2", 100),
							(gt, ":script_param_1_value", 6500),
							(assign, ":value_3", 1),
						(try_end),
					(else_try),
						(ge, ":value_2", 100),
						(store_add, ":value", 14, 0),
						(team_get_slot, reg0, ":script_param_1", ":value"),
						(try_begin),
							(this_or_next|eq, reg0, 0),
							(gt, ":script_param_1_value", 13000),
							(assign, ":value_3", 1),
						(else_try),
							(call_script, "script_battlegroup_get_position", 38, ":script_param_1", 0),
							(try_begin),
								(store_add, ":value", 149, ":var_4"),
								(team_slot_ge, ":script_param_1", ":value", 1),
								(store_add, ":value", 140, ":var_4"),
								(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value"),
								(agent_get_position, 37, ":script_param_1_value_2"),
							(else_try),
								(call_script, "script_get_nearest_enemy_battlegroup_location", 37, ":script_param_1", ":var_5"),
							(try_end),
							(get_distance_between_positions, ":distance_between_positions_38_37", 38, 37),
							(val_sub, ":distance_between_positions_38_37", ":script_param_1_value"),
							(le, ":distance_between_positions_38_37", 1500),
							(assign, ":value_3", 1),
						(try_end),
					(try_end),
					(try_begin),
						(gt, ":value_3", 0),
						(try_begin),
							(lt, ":value_2", 100),
							(lt, "$battle_phase", 3),
							(neq, ":script_param_1", 1),
							(neq, ":script_param_1", 3),
							(store_div, ":value_4", ":script_param_1_value", 6),
							(assign, ":value_5", ":value_4"),
						(else_try),
							(assign, ":value_6", 0),
							(init_position, 50),
							(team_get_slot, reg0, ":script_param_1", 2),
							(position_set_x, 50, reg0),
							(team_get_slot, reg0, ":script_param_1", 3),
							(position_set_y, 50, reg0),
							(position_set_z_to_ground_level, 50),
							(try_begin),
								(ge, "$battle_phase", 3),
								(assign, ":value_6", 1),
							(else_try),
								(gt, "$battle_phase", 1),
								(call_script, "script_point_y_toward_position", 50, ":var_5"),
								(position_get_rotation_around_z, reg0, 50),
								(position_get_rotation_around_z, reg1, ":var_5"),
								(val_sub, reg0, reg1),
								(neg|is_between, reg0, -45, 45),
								(assign, ":value_6", 1),
							(try_end),
							(try_begin),
								(gt, ":value_6", 0),
								(copy_position, ":var_5", 50),
								(call_script, "script_point_y_toward_position", ":var_5", 24),
								(team_get_slot, reg0, ":script_param_1", 11),
								(try_begin),
									(eq, reg0, 0),
									(call_script, "script_get_nearest_enemy_battlegroup_location", 37, ":script_param_1", ":var_5"),
								(try_end),
								(assign, ":script_param_1_value", reg0),
							(try_end),
							(try_begin),
								(eq, "$battle_phase", 1),
								(assign, ":value_7", 13000),
							(else_try),
								(assign, ":value_7", 6500),
								(store_sub, reg1, 6500, 2000),
								(val_sub, reg1, 200),
								(store_add, ":value", 32, ":var_4"),
								(team_get_slot, reg0, ":script_param_1", ":value"),
								(val_mul, reg1, reg0),
								(val_div, reg1, 100),
								(val_sub, ":value_7", reg1),
							(try_end),
							(store_sub, ":value_4", ":script_param_1_value", ":value_7"),
							(store_div, ":value_5", ":value_7", 3),
							(try_begin),
								(lt, "$battle_phase", 3),
								(try_begin),
									(this_or_next|eq, "$battle_phase", 1),
									(lt, ":script_param_3", 50),
									(val_div, ":value_4", 2),
								(try_end),
							(try_end),
						(try_end),
						(position_move_y, ":var_5", ":value_4", 0),
						(try_begin),
							(lt, "$battle_phase", 3),
							(copy_position, 1, ":var_5"),
							(store_div, reg0, ":value_5", 100),
							(call_script, "script_find_high_ground_around_pos1_corrected", ":var_5", reg0),
						(try_end),
					(try_end),
					(team_get_movement_order, reg0, ":script_param_1", ":var_4"),
					(try_begin),
						(neq, reg0, 0),
						(team_give_order, ":script_param_1", ":var_4", 0),
					(try_end),
					(team_set_order_position, ":script_param_1", ":var_4", ":var_5"),
				(try_end),
			(try_end)
		]),

	("team_field_melee_tactics",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_3", 3),
			(call_script, "script_calculate_decision_numbers", ":script_param_1", ":script_param_3"),
			(try_begin),
				(gt, reg0, 86),
				(try_for_range, ":number", 0, 9),
					(store_add, ":value", 14, ":number"),
					(team_slot_ge, ":script_param_1", ":value", 1),
					(store_add, ":value", 176, ":number"),
					(neg|team_slot_eq, ":script_param_1", ":value", 1),
					(neg|team_slot_eq, ":script_param_1", ":value", 4),
					(call_script, "script_formation_end", ":script_param_1", ":number"),
					(team_get_movement_order, reg0, ":script_param_1", ":number"),
					(try_begin),
						(neq, reg0, 2),
						(team_give_order, ":script_param_1", ":number", 2),
					(try_end),
				(try_end),
			(else_try),
				(assign, ":var_5", 0),
				(try_for_range, ":number_2", 0, 4),
					(teams_are_enemies, ":number_2", ":script_param_1"),
					(team_get_slot, ":number_2_5", ":number_2", 5),
					(val_add, ":var_5", ":number_2_5"),
				(try_end),
				(gt, ":var_5", 0),
				(call_script, "script_team_get_position_of_enemies", 24, ":script_param_1", 9),
				(store_add, ":value", 14, 1),
				(team_get_slot, ":script_param_1_value", ":script_param_1", ":value"),
				(try_begin),
					(eq, ":script_param_1_value", 0),
					(assign, ":value_2", 1000000),
					(assign, ":value_3", 2),
				(else_try),
					(call_script, "script_battlegroup_get_position", 39, ":script_param_1", 1),
					(call_script, "script_point_y_toward_position", 39, 24),
					(call_script, "script_get_nearest_enemy_battlegroup_location", 0, ":script_param_1", 39),
					(assign, ":value_2", reg0),
					(team_get_movement_order, ":value_3", ":script_param_1", 1),
				(try_end),
				(store_add, ":value", 14, 0),
				(team_get_slot, ":script_param_1_value_2", ":script_param_1", ":value"),
				(try_begin),
					(eq, ":script_param_1_value_2", 0),
					(assign, ":value_4", 1000000),
					(assign, ":value_5", 1000000),
				(else_try),
					(call_script, "script_battlegroup_get_position", 38, ":script_param_1", 0),
					(call_script, "script_get_nearest_enemy_battlegroup_location", 0, ":script_param_1", 38),
					(assign, ":value_4", reg0),
					(store_add, ":value", 131, 0),
					(team_get_slot, ":value_5", ":script_param_1", ":value"),
				(try_end),
				(store_add, ":value", 14, 2),
				(team_get_slot, ":script_param_1_value_3", ":script_param_1", ":value"),
				(try_begin),
					(eq, ":script_param_1_value_3", 0),
					(assign, ":value_6", 1000000),
					(assign, ":value_7", 1000000),
				(else_try),
					(call_script, "script_battlegroup_get_position", 40, ":script_param_1", 2),
					(call_script, "script_get_nearest_enemy_battlegroup_location", 0, ":script_param_1", 40),
					(assign, ":value_6", reg0),
					(store_add, ":value", 131, 2),
					(team_get_slot, ":value_7", ":script_param_1", ":value"),
				(try_end),
				(try_begin),
					(lt, "$battle_phase", 3),
					(this_or_next|le, ":value_4", 2000),
					(this_or_next|le, ":value_6", 2000),
					(le, ":value_2", 2000),
					(assign, "$battle_phase", 3),
				(else_try),
					(lt, "$battle_phase", 2),
					(this_or_next|le, ":value_5", 13000),
					(le, ":value_7", 13000),
					(assign, "$battle_phase", 2),
				(try_end),
				(team_get_leader, ":leader_script_param_1", ":script_param_1"),
				(assign, ":value_8", 0),
				(try_begin),
					(le, ":script_param_1_value_2", 0),
					(assign, ":value_9", ":value_3"),
					(team_get_movement_order, reg0, ":script_param_1", 0),
					(try_begin),
						(neq, reg0, ":value_9"),
						(team_give_order, ":script_param_1", 0, ":value_9"),
					(try_end),
					(try_begin),
						(gt, ":script_param_1_value", 0),
						(copy_position, 1, 39),
						(position_move_y, 1, 1000, 0),
						(team_set_order_position, ":script_param_1", 0, 1),
					(else_try),
						(team_set_order_position, ":script_param_1", 0, 40),
					(try_end),
				(else_try),
					(store_add, ":value", 122, 0),
					(team_get_slot, ":script_param_1_value_4", ":script_param_1", ":value"),
					(agent_get_position, 36, ":script_param_1_value_4"),
					(agent_get_team, ":team_script_param_1_value_4", ":script_param_1_value_4"),
					(agent_get_division, ":division_script_param_1_value_4", ":script_param_1_value_4"),
					(assign, ":var_23", 0),
					(try_for_range, ":number_2", 0, 4),
						(teams_are_enemies, ":number_2", ":script_param_1"),
						(try_for_range, ":number_3", 0, 9),
							(store_add, ":value", 176, ":number_3"),
							(team_get_slot, ":number_2_5", ":number_2", ":value"),
							(this_or_next|eq, ":number_2_5", 3),
							(eq, ":number_2_5", 0),
							(store_add, ":value", 14, ":number_3"),
							(team_get_slot, ":number_2_5", ":number_2", ":value"),
							(store_add, ":value", 50, ":number_3"),
							(team_get_slot, reg0, ":number_2", ":value"),
							(val_mul, ":number_2_5", reg0),
							(val_add, ":var_23", ":number_2_5"),
						(try_end),
					(try_end),
					(store_mul, ":value_10", ":var_23", 100),
					(val_div, ":value_10", ":var_5"),
					(try_begin),
						(teams_are_enemies, ":script_param_1", "$fplayer_team_no"),
						(assign, ":value_11", 0),
						(assign, ":value_12", 0),
						(assign, ":value_13", ":script_param_1_value_2"),
					(else_try),
						(store_add, ":value", 50, 0),
						(team_get_slot, ":value_11", "$fplayer_team_no", ":value"),
						(team_get_slot, ":value_12", "$fplayer_team_no", 5),
						(store_add, ":value", 14, 0),
						(team_get_slot, ":value_13", "$fplayer_team_no", ":value"),
						(val_add, ":value_13", ":script_param_1_value_2"),
					(try_end),
					(store_mul, ":value_14", ":value_13", 100),
					(store_add, ":value", 50, 0),
					(team_get_slot, ":script_param_1_value_5", ":script_param_1", ":value"),
					(val_add, ":value_11", ":script_param_1_value_5"),
					(val_mul, ":value_14", ":value_11"),
					(team_get_slot, reg0, ":script_param_1", 5),
					(val_add, ":value_12", reg0),
					(val_div, ":value_14", ":value_12"),
					(assign, ":value_9", 2),
					(try_begin),
						(gt, ":value_2", 2000),
						(gt, ":value_5", 2000),
						(neq, ":value_3", 2),
						(try_begin),
							(this_or_next|le, "$battle_phase", 2),
							(lt, ":value_14", ":value_10"),
							(assign, ":value_9", 0),
						(try_end),
					(try_end),
					(assign, ":value_15", 0),
					(try_begin),
						(le, ":script_param_1_value_5", 12),
						(store_add, ":value", 104, 0),
						(team_slot_ge, ":script_param_1", ":value", 1),
						(store_add, ":value", 113, 0),
						(team_get_slot, ":number_2_5", ":script_param_1", ":value"),
						(store_mul, reg0, ":number_2_5", 2),
						(is_between, reg0, 1, ":script_param_1_value_2"),
						(assign, ":value_15", 1),
					(else_try),
						(le, ":script_param_1_value_5", 12),
						(store_add, ":value", 176, ":division_script_param_1_value_4"),
						(this_or_next|team_slot_eq, ":team_script_param_1_value_4", ":division_script_param_1_value_4", 1),
						(team_slot_eq, ":team_script_param_1_value_4", ":division_script_param_1_value_4", 4),
						(assign, ":value_15", 1),
					(try_end),
					(try_begin),
						(eq, ":value_15", 1),
						(get_distance_between_positions, reg0, 38, 36),
						(le, reg0, 2000),
						(call_script, "script_formation_end", ":script_param_1", 0),
						(team_get_movement_order, reg0, ":script_param_1", 0),
						(try_begin),
							(neq, reg0, 2),
							(team_give_order, ":script_param_1", 0, 2),
						(try_end),
					(else_try),
						(store_add, ":value", 185, 0),
						(team_get_slot, ":script_param_1_value_6", ":script_param_1", ":value"),
						(try_begin),
							(this_or_next|eq, ":script_param_1_value_6", 0),
							(this_or_next|eq, ":script_param_1_value_6", 1),
							(gt, ":value_4", 2000),
							(call_script, "script_get_default_formation", ":script_param_1"),
							(assign, ":script_param_1_value_6", reg0),
							(agent_get_class, ":class_script_param_1_value_4", ":script_param_1_value_4"),
							(team_get_leader, ":leader_team_script_param_1_value_4", ":team_script_param_1_value_4"),
							(assign, ":var_35", 0),
							(try_for_range, ":number_2", 0, 4),
								(teams_are_enemies, ":number_2", ":script_param_1"),
								(team_get_slot, ":number_2_5", ":number_2", 9),
								(val_add, ":var_35", ":number_2_5"),
							(try_end),
							(store_mul, ":value_16", ":var_35", 100),
							(val_div, ":value_16", ":var_5"),
							(try_begin),
								(neq, ":script_param_1_value_6", 0),
								(store_add, ":value", 104, 0),
								(team_slot_eq, ":script_param_1", ":value", 0),
								(try_begin),
									(gt, ":value_16", 66),
									(assign, ":script_param_1_value_6", 5),
								(else_try),
									(neq, ":class_script_param_1_value_4", 2),
									(neq, ":class_script_param_1_value_4", 1),
									(neq, ":script_param_1_value_4", ":leader_team_script_param_1_value_4"),
									(ge, ":script_param_1_value_2", 21),
									(store_add, ":value", 14, ":division_script_param_1_value_4"),
									(team_get_slot, reg0, ":team_script_param_1_value_4", ":value"),
									(gt, reg0, ":script_param_1_value_2"),
									(store_add, ":value", 50, 0),
									(team_get_slot, ":script_param_1_value_7", ":script_param_1", ":value"),
									(store_add, ":value", 50, ":division_script_param_1_value_4"),
									(team_get_slot, reg0, ":team_script_param_1_value_4", ":value"),
									(gt, ":script_param_1_value_7", reg0),
									(assign, ":script_param_1_value_6", 4),
								(try_end),
							(try_end),
						(try_end),
						(try_begin),
							(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 0, ":script_param_1_value_6"),
							(store_add, ":value", 185, 0),
							(team_set_slot, ":script_param_1", ":value", ":script_param_1_value_6"),
							(store_add, ":value", 77, 0),
							(team_get_slot, ":script_param_1_value_8", ":script_param_1", ":value"),
							(val_div, ":script_param_1_value_8", 33),
							(store_add, ":value", 194, 0),
							(team_set_slot, ":script_param_1", ":value", ":script_param_1_value_8"),
							(assign, ":value_8", 1),
						(else_try),
							(call_script, "script_formation_end", ":script_param_1", 0),
							(team_get_movement_order, reg0, ":script_param_1", 0),
							(try_begin),
								(neq, reg0, ":value_9"),
								(team_give_order, ":script_param_1", 0, ":value_9"),
							(try_end),
							(eq, ":value_9", 0),
							(assign, ":value_8", 1),
						(try_end),
						(try_begin),
							(eq, ":value_9", 0),
							(gt, ":script_param_1_value", 0),
							(copy_position, 1, 39),
							(position_move_x, 1, -100, 0),
							(try_begin),
								(this_or_next|eq, ":division_script_param_1_value_4", 2),
								(gt, ":value_14", ":value_10"),
								(position_move_y, 1, 1000, 0),
							(else_try),
								(position_move_y, 1, -1000, 0),
							(try_end),
						(else_try),
							(assign, ":value_17", -1),
							(try_begin),
								(store_add, ":value", 104, 0),
								(team_slot_eq, ":script_param_1", ":value", 0),
								(gt, ":value_2", 2000),
								(store_add, ":value", 149, 0),
								(team_get_slot, ":script_param_1_value_9", ":script_param_1", ":value"),
								(gt, ":script_param_1_value_9", 0),
								(store_add, ":value", 140, 0),
								(team_get_slot, ":script_param_1_value_10", ":script_param_1", ":value"),
								(agent_get_position, 60, ":script_param_1_value_10"),
								(agent_get_team, ":team_script_param_1_value_10", ":script_param_1_value_10"),
								(team_get_leader, reg0, ":team_script_param_1_value_10"),
								(try_begin),
									(eq, ":script_param_1_value_10", reg0),
									(assign, ":value_18", 1000000),
								(else_try),
									(agent_get_division, ":value_17", ":script_param_1_value_10"),
									(store_add, ":value", 284, 0),
									(team_set_slot, ":script_param_1", ":value", ":team_script_param_1_value_10"),
									(store_add, ":value", 293, 0),
									(team_set_slot, ":script_param_1", ":value", ":value_17"),
									(call_script, "script_battlegroup_get_attack_destination", 1, ":script_param_1", 0, ":team_script_param_1_value_10", ":value_17"),
									(get_distance_between_positions, ":value_18", 38, 1),
									(store_add, ":value", 14, ":value_17"),
								(try_end),
							(else_try),
								(assign, ":script_param_1_value_9", ":value_5"),
								(copy_position, 60, 36),
								(try_begin),
									(eq, ":script_param_1_value_4", ":leader_team_script_param_1_value_4"),
									(assign, ":value_18", 1000000),
								(else_try),
									(assign, ":value_17", ":division_script_param_1_value_4"),
									(store_add, ":value", 284, 0),
									(team_set_slot, ":script_param_1", ":value", ":team_script_param_1_value_4"),
									(store_add, ":value", 293, 0),
									(team_set_slot, ":script_param_1", ":value", ":value_17"),
									(call_script, "script_battlegroup_get_attack_destination", 1, ":script_param_1", 0, ":team_script_param_1_value_4", ":value_17"),
									(get_distance_between_positions, ":value_18", 38, 1),
									(store_add, ":value", 14, ":value_17"),
								(try_end),
							(try_end),
							(store_sub, reg0, ":value_18", ":script_param_1_value_9"),
							(try_begin),
								(gt, reg0, 2000),
								(copy_position, 1, 60),
							(else_try),
								(eq, ":script_param_1", "$fplayer_team_no"),
								(store_add, ":value_19", "$fplayer_team_no", 2),
								(neg|teams_are_enemies, ":value_19", "$fplayer_team_no"),
								(store_add, ":value", 14, 0),
								(team_slot_ge, ":value_19", ":value", 1),
								(store_add, ":value", 284, 0),
								(team_slot_ge, "$fplayer_team_no", ":value", 0),
								(team_slot_ge, ":value_19", ":value", 0),
								(store_add, ":value", 293, 0),
								(team_slot_ge, ":value_19", ":value", ":value_17"),
								(call_script, "script_battlegroup_get_action_radius", "$fplayer_team_no", 0),
								(position_move_x, 1, reg0),
							(else_try),
								(main_hero_fallen),
								(eq, 1, 1),
								(neg|teams_are_enemies, ":script_param_1", "$fplayer_team_no"),
								(store_add, ":value", 14, 0),
								(team_slot_ge, "$fplayer_team_no", ":value", 1),
								(store_add, ":value", 284, 0),
								(team_slot_ge, "$fplayer_team_no", ":value", 0),
								(team_slot_ge, ":script_param_1", ":value", 0),
								(store_add, ":value", 293, 0),
								(team_slot_ge, "$fplayer_team_no", ":value", ":value_17"),
								(call_script, "script_battlegroup_get_action_radius", ":script_param_1", 0),
								(val_mul, reg0, -1),
								(position_move_x, 1, reg0),
							(try_end),
						(try_end),
						(call_script, "script_set_formation_destination", ":script_param_1", 0, 1),
						(try_begin),
							(store_add, ":value", 185, 0),
							(neg|team_slot_eq, ":script_param_1", ":value", 0),
							(call_script, "script_get_centering_amount", ":script_param_1_value_6", ":script_param_1_value_2", ":script_param_1_value_8"),
							(position_move_x, 1, reg0),
							(call_script, "script_form_infantry", ":script_param_1", 0, ":leader_script_param_1", ":script_param_1_value_8", ":script_param_1_value_6"),
						(try_end),
					(try_end),
				(try_end),
				(try_begin),
					(gt, ":script_param_1_value_3", 0),
					(store_add, ":value", 50, 2),
					(team_get_slot, ":script_param_1_value_7", ":script_param_1", ":value"),
					(assign, ":value_20", 1000000),
					(assign, ":value_21", 1000000),
					(assign, ":var_47", 0),
					(try_for_range, ":number_2", 0, 4),
						(team_slot_ge, ":number_2", 5, 1),
						(teams_are_enemies, ":number_2", ":script_param_1"),
						(try_for_range, ":number_3", 0, 9),
							(store_add, ":value", 14, ":number_3"),
							(team_get_slot, ":number_2_value", ":number_2", ":value"),
							(gt, ":number_2_value", 0),
							(call_script, "script_battlegroup_get_position", 0, ":number_2", ":number_3"),
							(get_distance_between_positions, ":distance_between_positions_40_0", 40, 0),
							(try_begin),
								(store_add, ":value", 68, ":number_3"),
								(team_get_slot, reg0, ":number_2", ":value"),
								(assign, ":var_50", reg0),
								(store_add, ":value", 50, ":number_3"),
								(team_get_slot, reg0, ":number_2", ":value"),
								(val_mul, ":var_50", reg0),
								(val_mul, ":var_50", ":number_2_value"),
								(val_div, ":var_50", ":script_param_1_value_7"),
								(val_div, ":var_50", ":script_param_1_value_3"),
								(try_begin),
									(neq, ":number_3", 2),
									(val_div, ":var_50", 2),
								(try_end),
								(gt, ":var_50", 100),
								(try_begin),
									(gt, ":value_20", ":distance_between_positions_40_0"),
									(copy_position, 36, 0),
									(assign, ":value_20", ":distance_between_positions_40_0"),
								(try_end),
							(else_try),
								(val_add, ":var_47", 1),
								(gt, ":value_21", ":distance_between_positions_40_0"),
								(copy_position, 37, 0),
								(assign, ":value_21", ":distance_between_positions_40_0"),
								(store_add, ":value", 284, 2),
								(team_set_slot, ":script_param_1", ":value", ":number_2"),
								(store_add, ":value", 293, 2),
								(team_set_slot, ":script_param_1", ":value", ":number_3"),
							(try_end),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":value_20", 1000000),
						(assign, ":value_22", 0),
					(else_try),
						(eq, ":value_21", 1000000),
						(assign, ":value_22", 1),
					(else_try),
						(get_distance_between_positions, reg0, 37, 36),
						(store_div, reg1, 2000, 2),
						(try_begin),
							(le, reg0, reg1),
							(assign, ":value_22", 1),
						(else_try),
							(assign, ":value_22", 0),
						(try_end),
					(try_end),
					(assign, ":value_23", 2),
					(try_begin),
						(teams_are_enemies, ":script_param_1", 0),
						(neg|team_slot_ge, 1, 4, 99),
						(neg|team_slot_eq, 1, 4, "$attacker_reinforcement_stage"),
						(assign, ":value_23", 0),
					(else_try),
						(teams_are_enemies, ":script_param_1", 1),
						(neg|team_slot_ge, 0, 4, 99),
						(neg|team_slot_eq, 0, 4, "$defender_reinforcement_stage"),
						(assign, ":value_23", 0),
					(else_try),
						(neq, ":value_9", 2),
						(try_begin),
							(le, "$battle_phase", 2),
							(assign, ":value_23", 0),
						(else_try),
							(eq, ":value_21", 1000000),
							(try_begin),
								(eq, ":script_param_1_value", 0),
								(assign, ":value_24", 0),
							(else_try),
								(get_distance_between_positions, ":value_24", 40, 39),
							(try_end),
							(try_begin),
								(this_or_next|gt, ":value_7", 2000),
								(gt, ":value_24", 2000),
								(assign, ":value_23", 0),
							(try_end),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":script_param_1", 0),
						(assign, ":value_25", 51),
					(else_try),
						(eq, ":script_param_1", 1),
						(assign, ":value_25", 53),
					(else_try),
						(eq, ":script_param_1", 2),
						(assign, ":value_25", 54),
					(else_try),
						(eq, ":script_param_1", 3),
						(assign, ":value_25", 55),
					(try_end),
					(store_add, ":value", 23, 2),
					(team_get_slot, reg0, ":script_param_1", ":value"),
					(try_begin),
						(ge, reg0, 50),
						(call_script, "script_formation_end", ":script_param_1", 2),
						(try_begin),
							(eq, ":script_param_1_value", 0),
							(team_get_movement_order, reg0, ":script_param_1", 2),
							(try_begin),
								(neq, reg0, 2),
								(team_give_order, ":script_param_1", 2, 2),
							(try_end),
						(else_try),
							(team_get_movement_order, reg0, ":script_param_1", 2),
							(try_begin),
								(neq, reg0, ":value_23"),
								(team_give_order, ":script_param_1", 2, ":value_23"),
							(try_end),
							(copy_position, ":value_25", 39),
							(position_move_y, ":value_25", -500, 0),
							(team_set_order_position, ":script_param_1", 2, ":value_25"),
						(try_end),
					(else_try),
						(eq, ":value_23", 2),
						(le, ":value_7", 2000),
						(try_begin),
							(eq, ":var_47", 1),
							(eq, ":value_22", 0),
							(gt, ":value_21", ":value_20"),
							(assign, reg0, 0),
						(else_try),
							(ge, ":var_47", 2),
							(eq, ":value_22", 1),
							(assign, reg0, 0),
						(else_try),
							(assign, reg0, 1),
						(try_end),
						(eq, reg0, 1),
						(call_script, "script_formation_end", ":script_param_1", 2),
						(team_get_movement_order, reg0, ":script_param_1", 2),
						(try_begin),
							(neq, reg0, 2),
							(team_give_order, ":script_param_1", 2, 2),
						(try_end),
					(else_try),
						(lt, ":value_21", ":value_20"),
						(eq, ":value_22", 0),
						(call_script, "script_formation_end", ":script_param_1", 2),
						(team_get_movement_order, reg0, ":script_param_1", 2),
						(try_begin),
							(neq, reg0, 0),
							(team_give_order, ":script_param_1", 2, 0),
						(try_end),
						(try_begin),
							(gt, ":value_21", 6500),
							(eq, ":value_23", 0),
							(try_begin),
								(eq, ":script_param_1_value", 0),
								(copy_position, ":value_25", 40),
							(else_try),
								(copy_position, ":value_25", 39),
								(position_move_y, ":value_25", 2000, 0),
							(try_end),
						(else_try),
							(copy_position, ":value_25", 40),
							(call_script, "script_point_y_toward_position", ":value_25", 37),
							(position_move_y, ":value_25", ":value_21", 0),
						(try_end),
						(team_set_order_position, ":script_param_1", 2, ":value_25"),
					(else_try),
						(try_begin),
							(eq, ":value_23", 2),
							(neq, ":value_21", 1000000),
							(copy_position, ":value_25", 40),
							(call_script, "script_point_y_toward_position", ":value_25", 37),
							(position_move_y, ":value_25", ":value_21", 0),
							(position_move_y, ":value_25", 2000, 0),
						(else_try),
							(neq, ":value_23", 2),
							(eq, ":script_param_1_value", 0),
							(copy_position, ":value_25", 40),
						(else_try),
							(copy_position, ":value_25", 39),
							(position_move_x, ":value_25", 500, 0),
							(position_move_y, ":value_25", -1000, 0),
						(try_end),
						(try_begin),
							(neq, ":value_20", 1000000),
							(call_script, "script_point_y_toward_position", 40, 36),
							(call_script, "script_point_y_toward_position", 36, ":value_25"),
							(position_get_rotation_around_z, reg0, 40),
							(position_get_rotation_around_z, reg1, 36),
							(store_sub, ":value_26", reg0, reg1),
							(try_begin),
								(lt, ":value_26", -180),
								(val_add, ":value_26", 360),
							(else_try),
								(gt, ":value_26", 180),
								(val_sub, ":value_26", 360),
							(try_end),
							(try_begin),
								(is_between, ":value_26", -135, 136),
								(copy_position, ":value_25", 40),
								(assign, ":value_27", 6500),
								(try_begin),
									(is_between, ":value_26", -135, 0),
									(val_mul, ":value_27", -1),
								(try_end),
								(position_move_x, ":value_25", ":value_27", 0),
								(store_sub, ":value_27", ":value_20", 6500),
								(position_move_y, ":value_25", ":value_27", 0),
								(call_script, "script_point_y_toward_position", ":value_25", 40),
								(position_rotate_z, ":value_25", 180),
							(try_end),
						(try_end),
						(get_scene_boundaries, 0, 1),
						(position_get_x, reg0, ":value_25"),
						(position_get_x, reg1, 0),
						(val_max, reg0, reg1),
						(position_get_x, reg1, 1),
						(val_min, reg0, reg1),
						(position_set_x, ":value_25", reg0),
						(position_get_y, reg0, ":value_25"),
						(position_get_y, reg1, 0),
						(val_max, reg0, reg1),
						(position_get_y, reg1, 1),
						(val_min, reg0, reg1),
						(position_set_y, ":value_25", reg0),
						(position_set_z_to_ground_level, ":value_25"),
						(try_begin),
							(call_script, "script_cf_battlegroup_valid_formation", ":script_param_1", 2, 4),
							(copy_position, 1, ":value_25"),
							(call_script, "script_form_cavalry", ":script_param_1", 2, ":leader_script_param_1", 0),
							(store_add, ":value", 185, 2),
							(team_set_slot, ":script_param_1", ":value", 4),
						(else_try),
							(call_script, "script_formation_end", ":script_param_1", 2),
							(team_get_movement_order, reg0, ":script_param_1", 2),
							(try_begin),
								(neq, reg0, ":value_23"),
								(team_give_order, ":script_param_1", 2, ":value_23"),
							(try_end),
						(try_end),
						(call_script, "script_set_formation_destination", ":script_param_1", 2, ":value_25"),
					(try_end),
				(try_end),
				(try_begin),
					(ge, ":leader_script_param_1", 0),
					(agent_is_alive, ":leader_script_param_1"),
					(agent_slot_eq, ":leader_script_param_1", slot_agent_is_running_away, 0),
					(try_begin),
						(le, ":script_param_1_value_2", 0),
						(try_begin),
							(eq, ":value_3", 2),
							(agent_clear_scripted_mode, ":leader_script_param_1"),
						(else_try),
							(copy_position, 1, 39),
							(position_move_y, 1, -1000, 0),
							(agent_set_scripted_destination, ":leader_script_param_1", 1, 1),
						(try_end),
					(else_try),
						(neq, ":value_8", 0),
						(call_script, "script_battlegroup_get_position", 1, ":script_param_1", 0),
						(team_get_order_position, 0, ":script_param_1", 0),
						(call_script, "script_point_y_toward_position", 1, 0),
						(call_script, "script_battlegroup_get_action_radius", ":script_param_1", 0),
						(val_div, reg0, 2),
						(position_move_x, 1, reg0, 0),
						(position_move_x, 1, 100, 0),
						(agent_set_scripted_destination, ":leader_script_param_1", 1, 1),
					(else_try),
						(agent_clear_scripted_mode, ":leader_script_param_1"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("field_tactics",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":value", 0),
			(assign, ":var_3", 0),
			(try_for_range, ":number", 0, 4),
				(team_get_slot, ":number_5", ":number", 5),
				(gt, ":number_5", 0),
				(team_get_slot, ":number_9", ":number", 9),
				(store_add, ":value_2", ":number_5", ":number_9"),
				(val_add, ":var_3", ":value_2"),
				(try_begin),
					(neq, ":number", "$fplayer_team_no"),
					(neg|teams_are_enemies, ":number", "$fplayer_team_no"),
					(team_get_slot, ":fplayer_team_no_6", "$fplayer_team_no", 6),
					(val_add, ":value_2", ":fplayer_team_no_6"),
					(team_set_slot, "$fplayer_team_no", 6, ":value_2"),
				(try_end),
				(team_set_slot, ":number", 6, ":value_2"),
				(lt, ":value", ":value_2"),
				(assign, ":value", ":value_2"),
			(try_end),
			(try_for_range, ":number", 0, 4),
				(team_get_slot, ":number_6", ":number", 6),
				(gt, ":number_6", 0),
				(assign, ":value_3", 0),
				(try_begin),
					(neq, ":number", "$fplayer_team_no"),
					(assign, ":value_3", 1),
				(else_try),
					(main_hero_fallen),
					(eq, 1, 1),
					(assign, ":value_3", 1),
				(try_end),
				(eq, ":value_3", 1),
				(team_get_slot, ":number_1", ":number", 1),
				(try_begin),
					(this_or_next|eq, 1, 0),
					(this_or_next|eq, ":number_1", 62),
					(is_between, ":number_1", "fac_player_supporters_faction", "fac_kingdoms_end"),
					(val_mul, ":number_6", 100),
					(store_div, ":value_4", ":number_6", ":value"),
					(store_div, ":value_5", ":number_6", ":var_3"),
					(try_begin),
						(eq, ":script_param_1", 1),
						(try_begin),
							(store_mod, ":value_6", ":number", 2),
							(eq, ":value_6", 0),
							(assign, ":value_7", 0),
						(else_try),
							(store_div, ":value_7", 4, 2),
						(try_end),
						(store_mod, reg0, "$ranged_clock", 4),
						(eq, reg0, ":value_7"),
						(call_script, "script_team_field_ranged_tactics", ":number", ":value_4", ":value_5"),
					(try_end),
					(try_begin),
						(neg|main_hero_fallen),
						(store_add, ":value_8", 284, 0),
						(team_slot_eq, ":number", ":value_8", "$fplayer_team_no"),
						(store_add, ":value_8", 293, 0),
						(team_get_slot, ":number_value_8", ":number", ":value_8"),
						(store_add, ":value_8", 14, ":number_value_8"),
						(team_slot_ge, "$fplayer_team_no", ":value_8", 1),
						(store_add, ":value_8", 212, ":number_value_8"),
						(team_get_slot, ":fplayer_team_no_value_8", "$fplayer_team_no", ":value_8"),
						(store_mod, reg0, ":fplayer_team_no_value_8", 4),
						(store_div, ":value_7", 4, 2),
					(else_try),
						(store_mod, reg0, "$ranged_clock", 4),
						(store_mod, ":value_6", ":number", 2),
						(eq, ":value_6", 0),
						(assign, ":value_7", 0),
					(else_try),
						(store_div, ":value_7", 4, 2),
					(try_end),
					(eq, reg0, ":value_7"),
					(call_script, "script_team_field_melee_tactics", ":number", ":value_4", ":value_5"),
				(try_end),
			(try_end),
			(set_show_messages, 1)
		]),

	("find_high_ground_around_pos1_corrected",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 1),
			(convert_to_fixed_point, ":value"),
			(set_fixed_point_multiplier, 1),
			(position_get_x, ":position_x_1", 1),
			(position_get_y, ":position_y_1", 1),
			(store_sub, ":value_2", ":position_x_1", ":script_param_2"),
			(store_sub, ":value_3", ":position_y_1", ":script_param_2"),
			(store_add, ":value_4", ":position_x_1", ":script_param_2"),
			(store_add, ":value_5", ":position_y_1", ":script_param_2"),
			(get_scene_boundaries, ":script_param_1", 0),
			(position_get_x, ":position_x_script_param_1", ":script_param_1"),
			(position_get_x, ":position_x_0", 0),
			(position_get_y, ":position_y_script_param_1", ":script_param_1"),
			(position_get_y, ":position_y_0", 0),
			(val_max, ":value_2", ":position_x_script_param_1"),
			(val_max, ":value_3", ":position_y_script_param_1"),
			(val_min, ":value_4", ":position_x_0"),
			(val_min, ":value_5", ":position_y_0"),
			(assign, ":value_6", -100),
			(copy_position, ":script_param_1", 1),
			(init_position, 0),
			(try_for_range, ":var_15", ":value_2", ":value_4"),
				(try_for_range, ":var_16", ":value_3", ":value_5"),
					(position_set_x, 0, ":var_15"),
					(position_set_y, 0, ":var_16"),
					(position_set_z_to_ground_level, 0),
					(position_get_z, ":position_z_0", 0),
					(try_begin),
						(gt, ":position_z_0", ":value_6"),
						(copy_position, ":script_param_1", 0),
						(assign, ":value_6", ":position_z_0"),
					(try_end),
				(try_end),
			(try_end),
			(set_fixed_point_multiplier, ":value")
		]),

	("cf_count_casualties",
		[
			(assign, ":var_1", 0),
			(try_for_agents, ":var_2"),
				(try_begin),
					(this_or_next|agent_is_wounded, ":var_2"),
					(this_or_next|agent_slot_eq, ":var_2", slot_agent_is_running_away, 1),
					(neg|agent_is_alive, ":var_2"),
					(val_add, ":var_1", 1),
				(try_end),
			(try_end),
			(assign, reg0, ":var_1"),
			(gt, ":var_1", 0)
		]),

	("get_nearest_enemy_battlegroup_location",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", 1000000),
			(try_for_range, ":number", 0, 4),
				(team_slot_ge, ":number", 5, 1),
				(teams_are_enemies, ":number", ":script_param_2"),
				(try_for_range, ":number_2", 0, 9),
					(store_add, ":value_2", 14, ":number_2"),
					(team_slot_ge, ":number", ":value_2", 1),
					(call_script, "script_battlegroup_get_position", 0, ":number", ":number_2"),
					(get_distance_between_positions, reg0, 0, ":script_param_3"),
					(try_begin),
						(gt, ":value", reg0),
						(assign, ":value", reg0),
						(copy_position, ":script_param_1", 0),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("get_nearest_enemy_battlegroup_current_position",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":value", 1000000),
			(try_for_range, ":number", 0, 4),
				(team_slot_ge, ":number", 5, 1),
				(teams_are_enemies, ":number", ":script_param_2"),
				(try_for_range, ":number_2", 0, 9),
					(store_add, ":value_2", 14, ":number_2"),
					(team_slot_ge, ":number", ":value_2", 1),
					(call_script, "script_formation_current_position", 0, ":number", ":number_2"),
					(get_distance_between_positions, reg0, 0, ":script_param_3"),
					(try_begin),
						(gt, ":value", reg0),
						(assign, ":value", reg0),
						(copy_position, ":script_param_1", 0),
					(try_end),
				(try_end),
			(try_end),
			(assign, reg0, ":value")
		]),

	("freelancer_attach_party",
		[
			(party_attach_to_party, "p_main_party", "$enlisted_party"),
			(set_camera_follow_party, "$enlisted_party"),
			(party_set_flags, "$enlisted_party", 16384, 1),
			(disable_party, "p_main_party"),
			(assign, "$freelancer_state", 1)
		]),

	("freelancer_detach_party",
		[
			(enable_party, "p_main_party"),
			(party_detach, "p_main_party"),
			(try_begin),
				(party_is_active, "$enlisted_party"),
				(party_relocate_near_party, "p_main_party", "$enlisted_party", 2),
				(party_set_flags, "$enlisted_party", 16384, 0),
			(try_end),
			(troop_set_slot, "trp_player", slot_troop_leaded_party, "p_main_party"),
			(set_camera_follow_party, "p_main_party"),
			(assign, "$g_player_icon_state", 0)
		]),

	("freelancer_event_player_enlists",
		[
			(party_clear, "p_freelancer_party_backup"),
			(call_script, "script_party_copy", "p_freelancer_party_backup", "p_main_party"),
			(remove_member_from_party, "trp_player", "p_freelancer_party_backup"),
			(call_script, "script_set_parties_around_player_ignore_player", 2, 4),
			(assign, "$enlisted_lord", "$g_talk_troop"),
			(troop_get_slot, "$enlisted_party", "$enlisted_lord", slot_troop_leaded_party),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range_backwards, ":var_2", 1, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_var_2", "p_main_party", ":var_2"),
				(party_stack_get_size, ":party_stack_size_main_party_var_2", "p_main_party", ":var_2"),
				(party_remove_members, "p_main_party", ":party_stack_troop_id_main_party_var_2", ":party_stack_size_main_party_var_2"),
			(try_end),
			(store_faction_of_troop, ":faction_of_troop_enlisted_lord", "$enlisted_lord"),
			(try_begin),
				(store_relation, ":relation_faction_of_troop_enlisted_lord_player_supporters_faction", ":faction_of_troop_enlisted_lord", "fac_player_supporters_faction"),
				(lt, ":relation_faction_of_troop_enlisted_lord_player_supporters_faction", 5),
				(call_script, "script_set_player_relation_with_faction", ":faction_of_troop_enlisted_lord", 5),
			(try_end),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction_of_troop_enlisted_lord", ":faction"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(store_relation, ":relation_faction_of_troop_enlisted_lord_player_supporters_faction", ":faction", "fac_player_supporters_faction"),
				(ge, ":relation_faction_of_troop_enlisted_lord_player_supporters_faction", 0),
				(call_script, "script_set_player_relation_with_faction", ":faction", -5),
			(try_end),
			(try_begin),
				(neg|faction_slot_eq, ":faction_of_troop_enlisted_lord", 101, 0),
				(faction_get_slot, "$player_cur_troop", ":faction_of_troop_enlisted_lord", 101),
			(else_try),
				(faction_get_slot, "$player_cur_troop", ":faction_of_troop_enlisted_lord", slot_faction_quick_battle_tier_1_infantry),
			(try_end),
			(call_script, "script_freelancer_equip_troop", "$player_cur_troop"),
			(call_script, "script_freelancer_attach_party"),
			(troop_get_slot, ":enlisted_lord_banner_scene_prop", "$enlisted_lord", slot_troop_banner_scene_prop),
			(try_begin),
				(this_or_next|eq, "$g_player_banner_granted", 1),
				(eq, "$background_type", 6),
				(troop_get_slot, ":player_banner_scene_prop", "trp_player", slot_troop_banner_scene_prop),
				(quest_set_slot, "qst_freelancer_enlisted", slot_quest_object_faction, ":player_banner_scene_prop"),
			(else_try),
				(quest_set_slot, "qst_freelancer_enlisted", slot_quest_object_faction, 0),
			(try_end),
			(troop_set_slot, "trp_player", slot_troop_banner_scene_prop, ":enlisted_lord_banner_scene_prop"),
			(str_store_troop_name_link, 13, "$enlisted_lord"),
			(str_store_faction_name_link, 14, ":faction_of_troop_enlisted_lord"),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_target_party, "$enlisted_party"),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_importance, 5),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_xp_reward, 1000),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_gold_reward, 100),
			(setup_quest_text, "qst_freelancer_enlisted"),
			(str_clear, 2),
			(call_script, "script_start_quest", "qst_freelancer_enlisted", "$enlisted_lord"),
			(str_store_troop_name, 5, "$player_cur_troop"),
			(str_store_string, 1, "@Enlisted as a {s5} in the party of {s13} of {s14}."),
			(add_troop_note_from_sreg, "trp_player", 3, 1, 0),
			(str_store_string, 5, "@Current rank: {s5}"),
			(add_quest_note_from_sreg, "qst_freelancer_enlisted", 3, 5, 1),
			(call_script, "script_freelancer_get_upgrade_xp", "$player_cur_troop"),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_target_dna, reg0),
			(troop_get_xp, reg0, "trp_player"),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_object_state, reg0),
			(store_current_day, reg0),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_target_state, reg0),
			(party_get_morale, reg0, "p_main_party"),
			(quest_set_slot, "qst_freelancer_enlisted", slot_quest_giver_center, reg0),
			(assign, "$g_infinite_camping", 1),
			(rest_for_hours_interactive, 8760, 5, 1)
		]),

	("freelancer_event_player_discharge",
		[
			(store_faction_of_troop, ":faction_of_troop_enlisted_lord", "$enlisted_lord"),
			(call_script, "script_change_player_relation_with_faction_ex", ":faction_of_troop_enlisted_lord", 5),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction_of_troop_enlisted_lord", ":faction"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(store_relation, ":relation_faction_player_supporters_faction", ":faction", "fac_player_supporters_faction"),
				(lt, ":relation_faction_player_supporters_faction", 0),
				(call_script, "script_set_player_relation_with_faction", ":faction", 0),
			(try_end),
			(call_script, "script_freelancer_unequip_troop", "$player_cur_troop"),
			(troop_equip_items, "trp_player"),
			(try_begin),
				(this_or_next|eq, "$g_player_banner_granted", 1),
				(eq, "$background_type", 6),
				(quest_get_slot, ":freelancer_enlisted_object_faction", "qst_freelancer_enlisted", slot_quest_object_faction),
				(troop_set_slot, "trp_player", slot_troop_banner_scene_prop, ":freelancer_enlisted_object_faction"),
			(else_try),
				(troop_set_slot, "trp_player", slot_troop_banner_scene_prop, 0),
			(try_end),
			(assign, "$freelancer_state", 0),
			(call_script, "script_freelancer_detach_party"),
			(call_script, "script_party_restore"),
			(rest_for_hours, 0, 0, 0),
			(display_message, "@You have left your commander!"),
			(store_current_day, ":current_day"),
			(quest_get_slot, reg0, "qst_freelancer_enlisted", slot_quest_target_state),
			(val_sub, ":current_day", reg0),
			(val_mul, ":current_day", 100),
			(val_div, ":current_day", 60),
			(call_script, "script_finish_quest", "qst_freelancer_enlisted", ":current_day"),
			(set_show_messages, 0),
			(try_for_range, ":quest", "qst_freelancer_enlisted", "qst_freelancer_end"),
				(check_quest_active, ":quest"),
				(call_script, "script_cancel_quest", ":quest"),
			(try_end),
			(set_show_messages, 1),
			(str_clear, 1),
			(add_troop_note_from_sreg, "trp_player", 3, 1)
		]),

	("freelancer_event_player_vacation",
		[
			(store_faction_of_troop, ":faction_of_troop_enlisted_lord", "$enlisted_lord"),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction_of_troop_enlisted_lord", ":faction"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(call_script, "script_set_player_relation_with_faction", ":faction", 0),
			(try_end),
			(assign, "$freelancer_state", 2),
			(call_script, "script_freelancer_detach_party"),
			(call_script, "script_party_restore"),
			(rest_for_hours, 0, 0, 0),
			(str_store_troop_name_link, 13, "$enlisted_lord"),
			(str_store_faction_name_link, 14, ":faction_of_troop_enlisted_lord"),
			(quest_set_slot, "qst_freelancer_vacation", slot_quest_target_party, "$enlisted_party"),
			(quest_set_slot, "qst_freelancer_vacation", slot_quest_expiration_days, 14),
			(setup_quest_text, "qst_freelancer_vacation"),
			(str_clear, 2),
			(call_script, "script_start_quest", "qst_freelancer_vacation", "$enlisted_lord"),
			(str_store_string, 5, "@If you do not return to your commander in time, you will be declared a deserter."),
			(add_quest_note_from_sreg, "qst_freelancer_vacation", 3, 5, 0)
		]),

	("freelancer_event_player_returns",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_set_parties_around_player_ignore_player", 2, 4),
			(call_script, "script_party_copy", "p_freelancer_party_backup", "p_main_party"),
			(remove_member_from_party, "trp_player", "p_freelancer_party_backup"),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range_backwards, ":var_3", 1, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_var_3", "p_main_party", ":var_3"),
				(party_stack_get_size, ":party_stack_size_main_party_var_3", "p_main_party", ":var_3"),
				(party_remove_members, "p_main_party", ":party_stack_troop_id_main_party_var_3", ":party_stack_size_main_party_var_3"),
			(try_end),
			(troop_get_slot, "$enlisted_party", "$enlisted_lord", slot_troop_leaded_party),
			(store_faction_of_troop, ":faction_of_troop_enlisted_lord", "$enlisted_lord"),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction_of_troop_enlisted_lord", ":faction"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(call_script, "script_set_player_relation_with_faction", ":faction", -5),
			(try_end),
			(try_begin),
				(store_relation, ":relation_faction_of_troop_enlisted_lord_player_supporters_faction", ":faction_of_troop_enlisted_lord", "fac_player_supporters_faction"),
				(lt, ":relation_faction_of_troop_enlisted_lord_player_supporters_faction", 5),
				(call_script, "script_set_player_relation_with_faction", ":faction_of_troop_enlisted_lord", 5),
			(try_end),
			(call_script, "script_freelancer_attach_party"),
			(display_message, "@You have rejoined your commander!"),
			(try_begin),
				(eq, ":script_param_1", 1),
				(call_script, "script_finish_quest", "qst_freelancer_vacation", 100),
			(else_try),
				(eq, ":script_param_1", 2),
				(call_script, "script_finish_quest", "qst_freelancer_captured", 100),
			(try_end)
		]),

	("freelancer_event_player_revolts",
		[
			(call_script, "script_freelancer_detach_party"),
			(call_script, "script_freelancer_event_player_deserts"),
			(call_script, "script_party_restore"),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range_backwards, ":var_2", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_var_2", "p_main_party", ":var_2"),
				(neg|troop_is_hero, ":party_stack_troop_id_main_party_var_2"),
				(party_stack_get_size, ":party_stack_size_main_party_var_2", "p_main_party", ":var_2"),
				(party_remove_members, "p_main_party", ":party_stack_troop_id_main_party_var_2", ":party_stack_size_main_party_var_2"),
			(try_end),
			(call_script, "script_get_desert_troops"),
			(call_script, "script_change_player_relation_with_troop", "$enlisted_lord", -10),
			(store_faction_of_troop, ":faction_of_troop_enlisted_lord", "$enlisted_lord"),
			(try_begin),
				(party_get_battle_opponent, ":battle_opponent_l_enlisted_party", "$enlisted_party"),
				(gt, ":battle_opponent_l_enlisted_party", 0),
				(store_faction_of_party, ":faction_of_party_battle_opponent_l_enlisted_party", ":battle_opponent_l_enlisted_party"),
				(store_relation, ":relation_faction_of_party_battle_opponent_l_enlisted_party_faction_of_troop_enlisted_lord", ":faction_of_party_battle_opponent_l_enlisted_party", ":faction_of_troop_enlisted_lord"),
				(store_sub, ":value", 100, ":relation_faction_of_party_battle_opponent_l_enlisted_party_faction_of_troop_enlisted_lord"),
				(val_add, ":value", 5),
				(call_script, "script_change_player_relation_with_faction_ex", ":faction_of_troop_enlisted_lord", ":value"),
			(try_end),
			(assign, "$freelancer_state", 0),
			(str_store_troop_name_link, 13, "$enlisted_lord"),
			(str_store_faction_name_link, 14, ":faction_of_troop_enlisted_lord"),
			(quest_set_slot, "qst_freelancer_revolt", slot_quest_target_party, 0),
			(quest_set_slot, "qst_freelancer_revolt", slot_quest_target_troop, "$enlisted_lord"),
			(setup_quest_text, "qst_freelancer_revolt"),
			(str_clear, 2),
			(call_script, "script_start_quest", "qst_freelancer_revolt", "trp_player")
		]),

	("freelancer_event_player_deserts",
		[
			(try_begin),
				(neg|party_is_active, "p_main_party"),
				(call_script, "script_freelancer_detach_party"),
			(try_end),
			(store_faction_of_troop, ":faction_of_troop_enlisted_lord", "$enlisted_lord"),
			(call_script, "script_change_player_relation_with_faction_ex", ":faction_of_troop_enlisted_lord", -10),
			(call_script, "script_change_player_relation_with_troop", "$enlisted_lord", -10),
			(call_script, "script_change_player_honor", -20),
			(faction_set_slot, ":faction_of_troop_enlisted_lord", 101, 0),
			(try_begin),
				(this_or_next|eq, "$g_player_banner_granted", 1),
				(eq, "$background_type", 6),
				(quest_get_slot, ":freelancer_enlisted_object_faction", "qst_freelancer_enlisted", slot_quest_object_faction),
				(troop_set_slot, "trp_player", slot_troop_banner_scene_prop, ":freelancer_enlisted_object_faction"),
			(else_try),
				(troop_set_slot, "trp_player", slot_troop_banner_scene_prop, 0),
			(try_end),
			(rest_for_hours, 0, 0, 0),
			(assign, "$freelancer_state", 0),
			(set_show_messages, 0),
			(try_for_range, ":quest", "qst_freelancer_enlisted", "qst_freelancer_end"),
				(check_quest_active, ":quest"),
				(call_script, "script_fail_quest", ":quest"),
				(call_script, "script_end_quest", ":quest"),
			(try_end),
			(set_show_messages, 1),
			(str_clear, 1),
			(add_troop_note_from_sreg, "trp_player", 3, 1)
		]),

	("freelancer_event_player_captured",
		[
			(try_begin),
				(troop_slot_ge, "trp_player", 8, 1),
				(troop_get_slot, ":player_prisoner_of_party", "trp_player", slot_troop_prisoner_of_party),
				(call_script, "script_remove_troop_from_prison", "trp_player"),
				(party_is_active, ":player_prisoner_of_party"),
				(party_count_prisoners_of_type, reg0, ":player_prisoner_of_party", "trp_player"),
				(gt, reg0, 0),
				(party_remove_prisoners, ":player_prisoner_of_party", "trp_player", reg0),
				(gt, reg0, 0),
			(else_try),
				(try_for_parties, ":player_prisoner_of_party"),
					(party_count_prisoners_of_type, reg0, ":player_prisoner_of_party", "trp_player"),
					(gt, reg0, 0),
					(party_remove_prisoners, ":player_prisoner_of_party", "trp_player", reg0),
				(try_end),
			(try_end),
			(store_faction_of_troop, ":faction_of_troop_enlisted_lord", "$enlisted_lord"),
			(try_for_range, ":faction", "fac_player_supporters_faction", "fac_kingdoms_end"),
				(neq, ":faction_of_troop_enlisted_lord", ":faction"),
				(faction_slot_eq, ":faction", slot_faction_state, 0),
				(call_script, "script_set_player_relation_with_faction", ":faction", 0),
			(try_end),
			(call_script, "script_freelancer_detach_party"),
			(call_script, "script_party_restore"),
			(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
			(try_for_range_backwards, ":var_5", 0, ":num_companion_stacks_main_party"),
				(party_stack_get_troop_id, ":party_stack_troop_id_main_party_var_5", "p_main_party", ":var_5"),
				(neg|troop_is_hero, ":party_stack_troop_id_main_party_var_5"),
				(party_stack_get_size, ":party_stack_size_main_party_var_5", "p_main_party", ":var_5"),
				(party_remove_members, "p_main_party", ":party_stack_troop_id_main_party_var_5", ":party_stack_size_main_party_var_5"),
			(try_end),
			(assign, "$enlisted_party", 0),
			(assign, "$freelancer_state", 2),
			(display_message, "@You have been captured! Escape and rejoin your commander!"),
			(str_store_troop_name_link, 13, "$enlisted_lord"),
			(str_store_faction_name_link, 14, ":faction_of_troop_enlisted_lord"),
			(quest_set_slot, "qst_freelancer_captured", slot_quest_target_troop, "$enlisted_lord"),
			(quest_set_slot, "qst_freelancer_captured", slot_quest_object_center, "$g_enemy_party"),
			(store_faction_of_party, ":faction_of_party_g_enemy_party", "$g_enemy_party"),
			(quest_set_slot, "qst_freelancer_captured", slot_quest_object_faction, ":faction_of_party_g_enemy_party"),
			(quest_set_slot, "qst_freelancer_captured", slot_quest_importance, 0),
			(quest_set_slot, "qst_freelancer_captured", slot_quest_xp_reward, 100),
			(quest_set_slot, "qst_freelancer_captured", slot_quest_expiration_days, 45),
			(setup_quest_text, "qst_freelancer_captured"),
			(str_clear, 2),
			(call_script, "script_start_quest", "qst_freelancer_captured", "$enlisted_lord"),
			(str_store_string, 5, "@If you do not return to your commander in time, you will be declared a deserter. If he has been taken prisoner, perhaps now would be the time to prove your worth and rescue him."),
			(add_quest_note_from_sreg, "qst_freelancer_captured", 3, 5, 0)
		]),

	("party_restore",
		[
			(store_current_day, ":current_day"),
			(quest_get_slot, ":freelancer_enlisted_target_state", "qst_freelancer_enlisted", slot_quest_target_state),
			(store_sub, ":value", ":current_day", ":freelancer_enlisted_target_state"),
			(quest_get_slot, ":freelancer_enlisted_giver_center", "qst_freelancer_enlisted", slot_quest_giver_center),
			(store_add, ":value_2", 800, ":freelancer_enlisted_giver_center"),
			(val_sub, ":value_2", ":value"),
			(party_get_num_companion_stacks, ":num_companion_stacks_freelancer_party_backup", "p_freelancer_party_backup"),
			(try_for_range, ":number", 0, ":num_companion_stacks_freelancer_party_backup"),
				(assign, ":value_3", 0),
				(party_stack_get_troop_id, ":party_stack_troop_id_freelancer_party_backup_number", "p_freelancer_party_backup", ":number"),
				(neq, ":party_stack_troop_id_freelancer_party_backup_number", "trp_player"),
				(try_begin),
					(troop_is_hero, ":party_stack_troop_id_freelancer_party_backup_number"),
					(assign, ":value_3", 1),
				(else_try),
					(store_random_in_range, ":random_in_range_0_1000", 0, 1000),
					(is_between, ":random_in_range_0_1000", 0, ":value_2"),
					(party_stack_get_size, ":party_stack_size_freelancer_party_backup_number", "p_freelancer_party_backup", ":number"),
					(store_random_in_range, ":random_in_range_0_1000", 0, 1000),
					(try_begin),
						(is_between, ":random_in_range_0_1000", 0, ":value_2"),
						(assign, ":value_3", ":party_stack_size_freelancer_party_backup_number"),
					(else_try),
						(store_random_in_range, ":value_3", 0, ":party_stack_size_freelancer_party_backup_number"),
					(try_end),
				(try_end),
				(ge, ":value_3", 1),
				(party_add_members, "p_main_party", ":party_stack_troop_id_freelancer_party_backup_number", ":value_3"),
			(try_end),
			(party_clear, "p_freelancer_party_backup"),
			(try_for_range, ":troop", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":troop", slot_troop_occupation, 5),
				(neg|main_party_has_troop, ":troop"),
				(troop_set_slot, ":troop", slot_troop_days_on_mission, 0),
				(troop_set_slot, ":troop", slot_troop_current_mission, 8),
				(troop_set_slot, ":troop", slot_troop_mission_object, 0),
			(try_end)
		]),

	("get_desert_troops",
		[
			(party_get_morale, ":morale_l_enlisted_party", "$enlisted_party"),
			(store_current_day, ":current_day"),
			(quest_get_slot, ":freelancer_enlisted_target_state", "qst_freelancer_enlisted", slot_quest_target_state),
			(store_sub, ":value", ":current_day", ":freelancer_enlisted_target_state"),
			(store_sub, ":value_2", 100, ":morale_l_enlisted_party"),
			(store_skill_level, ":skill_level_leadership_player", "skl_leadership", "trp_player"),
			(store_skill_level, ":skill_level_persuasion_player", "skl_persuasion", "trp_player"),
			(val_mul, ":skill_level_leadership_player", 10),
			(val_mul, ":skill_level_persuasion_player", 10),
			(store_add, ":value_3", ":skill_level_leadership_player", ":skill_level_persuasion_player"),
			(val_add, ":value_3", ":value"),
			(val_add, ":value_3", ":value_2"),
			(party_get_num_companion_stacks, ":num_companion_stacks_l_enlisted_party", "$enlisted_party"),
			(try_for_range_backwards, ":var_10", 1, ":num_companion_stacks_l_enlisted_party"),
				(store_random_in_range, ":random_in_range_0_1000", 0, 1000),
				(is_between, ":random_in_range_0_1000", 0, ":value_3"),
				(party_stack_get_troop_id, ":party_stack_troop_id_enlisted_party_var_10", "$enlisted_party", ":var_10"),
				(party_stack_get_size, ":party_stack_size_enlisted_party_var_10", "$enlisted_party", ":var_10"),
				(store_random_in_range, ":random_in_range_0_party_stack_size_enlisted_party_var_10", 0, ":party_stack_size_enlisted_party_var_10"),
				(party_remove_members, "$enlisted_party", ":party_stack_troop_id_enlisted_party_var_10", ":random_in_range_0_party_stack_size_enlisted_party_var_10"),
				(party_add_members, "p_main_party", ":party_stack_troop_id_enlisted_party_var_10", ":random_in_range_0_party_stack_size_enlisted_party_var_10"),
			(try_end)
		]),

	("freelancer_keep_field_loot",
		[
			(get_player_agent_no, ":player_agent_no"),
			(try_for_range, ":number", 0, 4),
				(agent_get_item_slot, ":item_slot_player_agent_no_number", ":player_agent_no", ":number"),
				(gt, ":item_slot_player_agent_no_number", 0),
				(neg|troop_has_item_equipped, "trp_player", ":item_slot_player_agent_no_number"),
				(troop_add_item, "trp_player", ":item_slot_player_agent_no_number"),
			(try_end),
			(agent_get_horse, ":horse_player_agent_no", ":player_agent_no"),
			(try_begin),
				(gt, ":horse_player_agent_no", 0),
				(agent_get_item_id, ":horse_player_agent_no", ":horse_player_agent_no"),
				(troop_get_inventory_slot, ":inventory_slot_player_8", "trp_player", 8),
				(neq, ":horse_player_agent_no", ":inventory_slot_player_8"),
				(try_begin),
					(gt, ":inventory_slot_player_8", 0),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_8", "trp_player", 8),
					(troop_add_item, "trp_player", ":inventory_slot_player_8", ":inventory_slot_modifier_player_8"),
				(try_end),
				(troop_set_inventory_slot, "trp_player", 8, ":horse_player_agent_no"),
			(try_end)
		]),

	("freelancer_get_upgrade_xp",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, reg0, 0),
			(try_begin),
				(troop_get_upgrade_troop, ":upgrade_troop_script_param_1_0", ":script_param_1", 0),
				(gt, ":upgrade_troop_script_param_1_0", 1),
				(call_script, "script_game_get_upgrade_xp", ":script_param_1"),
			(try_end)
		]),

	("cf_freelancer_get_reassign_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(troop_get_slot, ":script_param_1_relations_begin", ":script_param_1", slot_troop_relations_begin),
			(assign, ":value", ":script_param_1_relations_begin"),
			(try_for_range, ":number", 1, ":value"),
				(troop_slot_eq, ":script_param_1", ":number", "$player_cur_troop"),
				(assign, ":value", ":number"),
			(try_end),
			(lt, ":value", ":script_param_1_relations_begin"),
			(assign, ":var_6", ":script_param_1_relations_begin"),
			(try_for_range, ":number", 1, ":value"),
				(troop_get_slot, ":script_param_1_number", ":script_param_1", ":number"),
				(gt, ":script_param_1_number", 0),
				(assign, ":value_2", 1),
				(try_begin),
					(eq, ":script_param_2", 2),
					(troop_is_guarantee_horse, ":script_param_1_number"),
				(else_try),
					(eq, ":script_param_2", 1),
					(neg|troop_is_guarantee_horse, ":script_param_1_number"),
					(troop_is_guarantee_ranged, ":script_param_1_number"),
				(else_try),
					(eq, ":script_param_2", 0),
					(neg|troop_is_guarantee_horse, ":script_param_1_number"),
					(neg|troop_is_guarantee_ranged, ":script_param_1_number"),
				(else_try),
					(assign, ":value_2", 0),
				(try_end),
				(eq, ":value_2", 1),
				(call_script, "script_cf_freelancer_player_can_upgrade", ":script_param_1_number"),
				(troop_set_slot, ":script_param_1", ":var_6", ":script_param_1_number"),
				(val_add, ":var_6", 1),
			(try_end),
			(gt, ":var_6", ":script_param_1_relations_begin"),
			(store_sub, ":value_3", ":var_6", ":script_param_1_relations_begin"),
			(try_begin),
				(gt, ":value_3", 1),
				(store_attribute_level, ":attribute_level_player_2", "trp_player", 2),
				(val_div, ":attribute_level_player_2", 8),
				(val_sub, ":value_3", 1),
				(val_min, ":attribute_level_player_2", ":value_3"),
				(val_add, ":script_param_1_relations_begin", ":attribute_level_player_2"),
			(try_end),
			(store_random_in_range, ":number", ":script_param_1_relations_begin", ":var_6"),
			(troop_get_slot, reg0, ":script_param_1", ":number")
		]),

	("freelancer_list_faction_troops",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(try_for_range, reg0, 1, 101),
				(troop_set_slot, ":script_param_2", reg0, 0),
				(troop_set_slot, ":script_param_3", reg0, 0),
			(try_end),
			(faction_get_slot, reg0, ":script_param_1", slot_faction_quick_battle_tier_1_infantry),
			(troop_set_slot, ":script_param_2", 1, reg0),
			(troop_set_slot, ":script_param_3", slot_troop_relations_begin, reg0),
			(assign, ":var_4", 2),
			(assign, ":var_5", 1),
			(assign, ":value", 101),
			(try_for_range, ":unused", 0, ":value"),
				(troop_get_slot, ":script_param_3_relations_begin", ":script_param_3", slot_troop_relations_begin),
				(gt, ":script_param_3_relations_begin", 0),
				(try_for_range, ":number", 0, 2),
					(troop_get_upgrade_troop, reg0, ":script_param_3_relations_begin", ":number"),
					(gt, reg0, 0),
					(troop_set_slot, ":script_param_2", ":var_4", reg0),
					(troop_set_slot, ":script_param_3", ":var_5", reg0),
					(val_add, ":var_4", 1),
					(val_add, ":var_5", 1),
				(try_end),
				(try_for_range, ":number", 1, ":var_5"),
					(troop_get_slot, reg0, ":script_param_3", ":number"),
					(store_sub, ":value_2", ":number", 1),
					(troop_set_slot, ":script_param_3", ":value_2", reg0),
				(try_end),
				(troop_set_slot, ":script_param_3", ":var_5", 0),
				(val_sub, ":var_5", 1),
			(else_try),
				(assign, ":value", 0),
			(try_end),
			(troop_set_slot, ":script_param_2", slot_troop_relations_begin, ":var_4")
		]),

	("cf_freelancer_player_can_upgrade",
		[
			(store_script_param_1, ":script_param_1"),
			(str_clear, 0),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":value_3", 5),
			(try_for_range, ":number", 2, ":value_3"),
				(assign, ":value_4", ":inventory_capacity_script_param_1"),
				(try_for_range, ":number_2", 0, ":value_4"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number_2"),
					(gt, ":inventory_slot_script_param_1_number_2", 0),
					(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
					(eq, ":type_inventory_slot_script_param_1_number_2", ":number"),
					(val_add, ":value_2", 1),
					(call_script, "script_troop_can_use_item", "trp_player", ":inventory_slot_script_param_1_number_2", 0),
					(eq, reg0, 1),
					(assign, ":value", 1),
					(assign, ":value_4", 0),
				(try_end),
				(eq, ":value", 1),
				(assign, ":value_3", 2),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(gt, ":value_2", 0),
				(str_store_string, 0, "@--too weak for required melee weapons"),
			(try_end),
			(str_is_empty, 0),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":value_4", ":inventory_capacity_script_param_1"),
			(try_for_range, ":number_2", 0, ":value_4"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number_2"),
				(gt, ":inventory_slot_script_param_1_number_2", 0),
				(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
				(eq, ":type_inventory_slot_script_param_1_number_2", 13),
				(val_add, ":value_2", 1),
				(call_script, "script_troop_can_use_item", "trp_player", ":inventory_slot_script_param_1_number_2", 0),
				(eq, reg0, 1),
				(assign, ":value", 1),
				(assign, ":value_4", 0),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(gt, ":value_2", 0),
				(str_store_string, 0, "@--too weak for required armor"),
			(try_end),
			(str_is_empty, 0),
			(try_begin),
				(troop_is_guarantee_ranged, ":script_param_1"),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
				(assign, ":value_3", 11),
				(try_for_range, ":number", 8, ":value_3"),
					(assign, ":value_4", ":inventory_capacity_script_param_1"),
					(try_for_range, ":number_2", 0, ":value_4"),
						(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number_2"),
						(gt, ":inventory_slot_script_param_1_number_2", 0),
						(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
						(eq, ":type_inventory_slot_script_param_1_number_2", ":number"),
						(val_add, ":value_2", 1),
						(call_script, "script_troop_can_use_item", "trp_player", ":inventory_slot_script_param_1_number_2", 0),
						(eq, reg0, 1),
						(assign, ":value", 1),
						(assign, ":value_4", 0),
					(try_end),
					(eq, ":value", 1),
					(assign, ":value_3", 8),
				(try_end),
				(eq, ":value", 0),
				(gt, ":value_2", 0),
				(str_store_string, 0, "@--lacking required ranged skill or strength"),
			(try_end),
			(str_is_empty, 0),
			(try_begin),
				(troop_is_guarantee_horse, ":script_param_1"),
				(assign, ":value", 0),
				(assign, ":value_2", 0),
				(assign, ":value_4", ":inventory_capacity_script_param_1"),
				(try_for_range, ":number_2", 0, ":value_4"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number_2"),
					(gt, ":inventory_slot_script_param_1_number_2", 0),
					(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
					(eq, ":type_inventory_slot_script_param_1_number_2", 1),
					(val_add, ":value_2", 1),
					(call_script, "script_troop_can_use_item", "trp_player", ":inventory_slot_script_param_1_number_2", 0),
					(eq, reg0, 1),
					(assign, ":value", 1),
					(assign, ":value_4", 0),
				(try_end),
				(eq, ":value", 0),
				(gt, ":value_2", 0),
				(str_store_string, 0, "@--horsemanship needs improving"),
			(try_end),
			(str_is_empty, 0)
		]),

	("freelancer_equip_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(str_clear, 2),
			(set_show_messages, 0),
			(assign, ":var_2", 100),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":value_3", 0),
			(try_for_range, ":number", 1, 16),
				(neq, ":number", 11),
				(neq, ":number", 5),
				(neq, ":number", 6),
				(assign, ":value_4", 0),
				(try_begin),
					(troop_is_guarantee_horse, ":script_param_1"),
					(eq, ":number", 1),
					(assign, ":value_4", 1),
				(else_try),
					(troop_is_guarantee_ranged, ":script_param_1"),
					(this_or_next|eq, ":number", 8),
					(this_or_next|eq, ":number", 9),
					(eq, ":number", 10),
					(assign, ":value_4", 1),
				(else_try),
					(this_or_next|eq, ":number", 7),
					(ge, ":number", 12),
					(assign, ":value_4", 1),
				(else_try),
					(neq, ":number", 1),
					(lt, ":value_3", 4),
					(store_random_in_range, ":value_4", 0, 3),
				(try_end),
				(eq, ":value_4", 1),
				(try_for_range, ":number_2", 0, 20),
					(troop_set_slot, "trp_temp_array_a", ":number_2", 0),
				(try_end),
				(assign, ":var_10", 0),
				(try_for_range, ":number_2", 0, ":inventory_capacity_script_param_1"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number_2"),
					(gt, ":inventory_slot_script_param_1_number_2", 0),
					(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
					(eq, ":type_inventory_slot_script_param_1_number_2", ":number"),
					(call_script, "script_troop_can_use_item", "trp_player", ":inventory_slot_script_param_1_number_2", 0),
					(eq, reg0, 1),
					(troop_set_slot, "trp_temp_array_a", ":var_10", ":inventory_slot_script_param_1_number_2"),
					(val_add, ":var_10", 1),
				(try_end),
				(gt, ":var_10", 0),
				(try_begin),
					(eq, ":var_10", 1),
					(assign, ":value_5", 0),
				(else_try),
					(store_random_in_range, ":value_5", 0, ":var_10"),
				(try_end),
				(troop_get_slot, ":inventory_slot_script_param_1_number_2", "trp_temp_array_a", ":value_5"),
				(gt, ":inventory_slot_script_param_1_number_2", 0),
				(str_store_item_name, 3, ":inventory_slot_script_param_1_number_2"),
				(str_store_string, 2, "@{s3}, {s2}"),
				(try_begin),
					(eq, ":number", 1),
					(assign, ":value_6", 8),
				(else_try),
					(is_between, ":number", 12, 16),
					(store_sub, ":value_7", ":number", 12),
					(store_add, ":value_6", 4, ":value_7"),
				(else_try),
					(store_add, ":value_6", 0, ":value_3"),
				(try_end),
				(try_begin),
					(troop_get_inventory_slot, ":inventory_slot_player_value_6", "trp_player", ":value_6"),
					(gt, ":inventory_slot_player_value_6", 0),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_value_6", "trp_player", ":value_6"),
					(troop_add_item, "trp_player", ":inventory_slot_player_value_6", ":inventory_slot_modifier_player_value_6"),
				(try_end),
				(troop_set_inventory_slot, "trp_player", ":value_6", ":inventory_slot_script_param_1_number_2"),
				(party_set_slot, "p_freelancer_party_backup", ":var_2", ":inventory_slot_script_param_1_number_2"),
				(val_add, ":var_2", 1),
				(try_begin),
					(is_between, ":number", 2, 12),
					(val_add, ":value_3", 1),
					(try_begin),
						(is_between, ":number", 2, 5),
						(assign, ":value", 1),
					(else_try),
						(eq, ":number", 8),
						(assign, ":value_2", 5),
					(else_try),
						(eq, ":number", 9),
						(assign, ":value_2", 6),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(neq, ":value_2", 0),
				(try_begin),
					(troop_get_inventory_slot, ":inventory_slot_player_value_6", "trp_player", 3),
					(gt, ":inventory_slot_player_value_6", 0),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_value_6", "trp_player", 3),
					(troop_add_item, "trp_player", ":inventory_slot_player_value_6", ":inventory_slot_modifier_player_value_6"),
				(try_end),
				(assign, ":value_8", ":inventory_capacity_script_param_1"),
				(try_for_range, ":number_2", 0, ":value_8"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number_2"),
					(gt, ":inventory_slot_script_param_1_number_2", 0),
					(item_get_type, ":number", ":inventory_slot_script_param_1_number_2"),
					(eq, ":number", ":value_2"),
					(troop_set_inventory_slot, "trp_player", 3, ":inventory_slot_script_param_1_number_2"),
					(party_set_slot, "p_freelancer_party_backup", ":var_2", ":inventory_slot_script_param_1_number_2"),
					(val_add, ":var_2", 1),
					(assign, ":value_3", 4),
					(str_store_item_name, 3, ":inventory_slot_script_param_1_number_2"),
					(str_store_string, 2, "@{s3}, {s2}"),
					(assign, ":value_8", 0),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(assign, ":value_8", ":inventory_capacity_script_param_1"),
				(try_for_range, ":number_2", 0, ":value_8"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number_2"),
					(gt, ":inventory_slot_script_param_1_number_2", 0),
					(item_get_type, ":number", ":inventory_slot_script_param_1_number_2"),
					(is_between, ":number", 2, 5),
					(call_script, "script_troop_can_use_item", "trp_player", ":inventory_slot_script_param_1_number_2", 0),
					(eq, reg0, 1),
					(try_begin),
						(gt, ":value_3", 3),
						(assign, ":value_3", 2),
					(try_end),
					(try_begin),
						(troop_get_inventory_slot, ":inventory_slot_player_value_6", "trp_player", ":value_3"),
						(gt, ":inventory_slot_player_value_6", 0),
						(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_value_6", "trp_player", ":value_3"),
						(troop_add_item, "trp_player", ":inventory_slot_player_value_6", ":inventory_slot_modifier_player_value_6"),
					(try_end),
					(troop_set_inventory_slot, "trp_player", ":value_3", ":inventory_slot_script_param_1_number_2"),
					(party_set_slot, "p_freelancer_party_backup", ":var_2", ":inventory_slot_script_param_1_number_2"),
					(val_add, ":var_2", 1),
					(str_store_item_name, 3, ":inventory_slot_script_param_1_number_2"),
					(str_store_string, 2, "@{s3}, {s2}"),
					(assign, ":value_8", 0),
				(try_end),
			(try_end),
			(set_show_messages, 1),
			(try_begin),
				(neg|str_is_empty, 2),
				(val_sub, ":var_2", 100),
				(party_set_slot, "p_freelancer_party_backup", slot_center_tavern_minstrel, ":var_2"),
				(str_store_troop_name, 1, ":script_param_1"),
				(display_message, "@The equipment of a {s1}: {s2}is assigned to you."),
			(try_end)
		]),

	("freelancer_unequip_troop",
		[
			(store_script_param_1, ":script_param_1"),
			(str_clear, 2),
			(set_show_messages, 0),
			(party_get_slot, ":freelancer_party_backup_center_tavern_minstrel", "p_freelancer_party_backup", slot_center_tavern_minstrel),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(try_for_range, ":number", 0, ":freelancer_party_backup_center_tavern_minstrel"),
				(store_add, ":value", 100, ":number"),
				(party_get_slot, ":freelancer_party_backup_value", "p_freelancer_party_backup", ":value"),
				(gt, ":freelancer_party_backup_value", 0),
				(assign, ":value_2", ":inventory_capacity_player"),
				(try_for_range, ":number_2", 0, ":value_2"),
					(troop_get_inventory_slot, ":inventory_slot_player_number_2", "trp_player", ":number_2"),
					(eq, ":inventory_slot_player_number_2", ":freelancer_party_backup_value"),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number_2", "trp_player", ":number_2"),
					(eq, ":inventory_slot_modifier_player_number_2", 0),
					(troop_set_inventory_slot, "trp_player", ":number_2", -1),
					(str_store_item_name, 3, ":inventory_slot_player_number_2"),
					(str_store_string, 2, "@{s3}, {s2}"),
					(assign, ":value_2", 0),
				(try_end),
			(try_end),
			(set_show_messages, 1),
			(try_begin),
				(neg|str_is_empty, 2),
				(party_set_slot, "p_freelancer_party_backup", slot_center_tavern_minstrel, 0),
				(str_store_troop_name, 1, ":script_param_1"),
				(display_message, "@The equipment of a {s1}: {s2}is taken from you."),
			(try_end),
			(troop_equip_items, "trp_player")
		]),

	("lco_item_name_to_s41",
		[
			(assign, ":var_1", reg60),
			(assign, ":var_2", reg61),
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, reg60, 3),
			(store_script_param, reg61, 4),
			(str_store_item_name, 41, ":script_param_1"),
			(try_begin),
				(gt, ":script_param_2", 0),
				(store_add, ":value", "str_item_imod_name_0", ":script_param_2"),
				(str_store_string, 42, ":value"),
				(str_store_string, 41, "str_lco_s42_s41"),
			(try_end),
			(try_begin),
				(gt, reg61, 1),
				(try_begin),
					(item_get_type, ":type_script_param_1", ":script_param_1"),
					(eq, ":type_script_param_1", 11),
					(str_store_string, 41, "str_lco_s41_reg60_reg61"),
				(else_try),
					(str_store_string, 41, "str_lco_s41_reg60"),
				(try_end),
			(try_end),
			(assign, reg60, ":var_1"),
			(assign, reg61, ":var_2")
		]),

	("lco_fill_hero_panels",
		[
			(try_begin),
				(eq, "$g_lco_heroes", 0),
				(call_script, "script_lco_clear_all_items", "trp_companions_overview"),
				(assign, ":value", "trp_companions_overview"),
			(else_try),
				(store_add, ":value_2", "$g_lco_heroes", "$g_lco_active_hero"),
				(troop_get_slot, ":value", "trp_companions_overview", ":value_2"),
			(try_end),
			(store_mul, ":value_2", "$g_lco_heroes", 2),
			(val_add, ":value_2", 11),
			(str_clear, 40),
			(try_for_range, ":number", 0, 9),
				(store_add, ":value_3", ":value_2", ":number"),
				(troop_get_slot, ":companions_overview_value_3", "trp_companions_overview", ":value_3"),
				(troop_get_inventory_slot, ":inventory_slot_value_number", ":value", ":number"),
				(try_begin),
					(lt, ":inventory_slot_value_number", 0),
					(store_add, ":value_4", "str_lco_slot_name_0", ":number"),
					(overlay_set_text, ":companions_overview_value_3", ":value_4"),
					(overlay_set_color, ":companions_overview_value_3", 8421504),
				(else_try),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_value_number", ":value", ":number"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_value_number", ":value", ":number"),
					(call_script, "script_mmfix_item_max_amount", ":value", ":number"),
					(assign, ":value_5", reg0),
					(call_script, "script_lco_item_name_to_s41", ":inventory_slot_value_number", ":inventory_slot_modifier_value_number", ":troop_inventory_slot_item_amount_value_number", ":value_5"),
					(overlay_set_text, ":companions_overview_value_3", 41),
					(overlay_set_color, ":companions_overview_value_3", 0),
				(try_end),
			(try_end),
			(val_add, ":value_3", 1),
			(assign, ":var_11", 0),
			(troop_get_inventory_capacity, ":inventory_capacity_value", ":value"),
			(try_for_range, ":number", 10, ":inventory_capacity_value"),
				(troop_get_inventory_slot, ":inventory_slot_value_number", ":value", ":number"),
				(ge, ":inventory_slot_value_number", 0),
				(item_get_type, ":type_inventory_slot_value_number", ":inventory_slot_value_number"),
				(eq, ":type_inventory_slot_value_number", 20),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_value_number", ":value", ":number"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_value_number", ":value", ":number"),
				(call_script, "script_mmfix_item_max_amount", ":value", ":number"),
				(assign, ":value_5", reg0),
				(call_script, "script_lco_item_name_to_s41", ":inventory_slot_value_number", ":inventory_slot_modifier_value_number", ":troop_inventory_slot_item_amount_value_number", ":value_5"),
				(troop_get_slot, ":companions_overview_value_3", "trp_companions_overview", ":value_3"),
				(overlay_set_text, ":companions_overview_value_3", 41),
				(overlay_set_color, ":companions_overview_value_3", 0),
				(val_add, ":value_3", 1),
				(val_add, ":var_11", 1),
				(try_begin),
					(gt, ":var_11", 1),
					(assign, ":inventory_capacity_value", 0),
				(try_end),
			(try_end),
			(try_for_range, ":number", ":var_11", 2),
				(troop_get_slot, ":companions_overview_value_3", "trp_companions_overview", ":value_3"),
				(overlay_set_text, ":companions_overview_value_3", "str_lco_slot_name_9"),
				(overlay_set_color, ":companions_overview_value_3", 8421504),
				(val_add, ":value_3", 1),
			(try_end)
		]),

	("lco_fill_player_panels",
		[
			(store_mul, ":value", "$g_lco_heroes", 2),
			(val_add, ":value", 31),
			(str_clear, 40),
			(try_for_range, ":number", 0, 9),
				(store_add, ":value_2", ":value", ":number"),
				(troop_get_slot, ":companions_overview_value_2", "trp_companions_overview", ":value_2"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(try_begin),
					(lt, ":inventory_slot_player_number", 0),
					(store_add, ":value_3", "str_lco_slot_name_0", ":number"),
					(overlay_set_text, ":companions_overview_value_2", ":value_3"),
					(overlay_set_color, ":companions_overview_value_2", 8421504),
				(else_try),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":number"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_player_number", "trp_player", ":number"),
					(call_script, "script_mmfix_item_max_amount", "trp_player", ":number"),
					(assign, ":value_4", reg0),
					(call_script, "script_lco_item_name_to_s41", ":inventory_slot_player_number", ":inventory_slot_modifier_player_number", ":troop_inventory_slot_item_amount_player_number", ":value_4"),
					(overlay_set_text, ":companions_overview_value_2", 41),
					(overlay_set_color, ":companions_overview_value_2", 0),
				(try_end),
			(try_end),
			(store_mul, ":value", "$g_lco_heroes", 2),
			(val_add, ":value", 40),
			(val_add, ":value", "$g_lco_inv_slots"),
			(try_for_range, ":number", 0, "$g_lco_inv_slots"),
				(store_add, ":value_2", ":value", ":number"),
				(troop_get_slot, ":companions_overview_value_2", "trp_companions_overview", ":value_2"),
				(store_add, ":value_5", ":number", 10),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":value_5"),
				(try_begin),
					(lt, ":inventory_slot_player_number", 0),
					(overlay_set_text, ":companions_overview_value_2", 40),
				(else_try),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":value_5"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_player_number", "trp_player", ":value_5"),
					(call_script, "script_mmfix_item_max_amount", "trp_player", ":value_5"),
					(assign, ":value_4", reg0),
					(call_script, "script_lco_item_name_to_s41", ":inventory_slot_player_number", ":inventory_slot_modifier_player_number", ":troop_inventory_slot_item_amount_player_number", ":value_4"),
					(overlay_set_text, ":companions_overview_value_2", 41),
				(try_end),
			(try_end),
			(val_add, ":value", "$g_lco_inv_slots"),
			(val_add, ":value", "$g_lco_garb_slots"),
			(try_for_range, ":number", 0, "$g_lco_garb_slots"),
				(store_add, ":value_2", ":value", ":number"),
				(troop_get_slot, ":companions_overview_value_2", "trp_companions_overview", ":value_2"),
				(store_add, ":value_5", ":number", 10),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "$g_lco_garbage_troop", ":value_5"),
				(try_begin),
					(lt, ":inventory_slot_player_number", 0),
					(overlay_set_text, ":companions_overview_value_2", 40),
				(else_try),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "$g_lco_garbage_troop", ":value_5"),
					(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_player_number", "$g_lco_garbage_troop", ":value_5"),
					(call_script, "script_mmfix_item_max_amount", "$g_lco_garbage_troop", ":value_5"),
					(assign, ":value_4", reg0),
					(call_script, "script_lco_item_name_to_s41", ":inventory_slot_player_number", ":inventory_slot_modifier_player_number", ":troop_inventory_slot_item_amount_player_number", ":value_4"),
					(overlay_set_text, ":companions_overview_value_2", 41),
				(try_end),
			(try_end)
		]),

	("cf_lco_is_active_panel",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, ":value", 0),
			(store_mul, ":value_2", "$g_lco_heroes", 2),
			(store_add, ":value_3", ":value_2", 11),
			(try_for_range, ":value_4", ":value_2", ":value_3"),
				(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(val_add, ":value_2", 22),
				(store_add, ":value_3", ":value_2", 9),
				(try_for_range, ":value_4", ":value_2", ":value_3"),
					(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(val_add, ":value_2", 18),
				(store_add, ":value_3", ":value_2", "$g_lco_inv_slots"),
				(try_for_range, ":value_4", ":value_2", ":value_3"),
					(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(val_add, ":value_2", "$g_lco_inv_slots"),
				(val_add, ":value_2", "$g_lco_inv_slots"),
				(store_add, ":value_3", ":value_2", "$g_lco_garb_slots"),
				(try_for_range, ":value_4", ":value_2", ":value_3"),
					(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(eq, ":value", 1)
		]),

	("lco_get_slot_details_for_panel",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, reg0, -1),
			(assign, reg1, -1),
			(assign, reg2, -1),
			(assign, reg3, 0),
			(assign, reg4, 0),
			(assign, reg5, 0),
			(assign, ":value", 0),
			(store_mul, ":value_2", "$g_lco_heroes", 2),
			(store_add, ":value_3", ":value_2", 11),
			(try_for_range, ":value_4", ":value_2", ":value_3"),
				(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
				(store_add, ":value_5", "$g_lco_heroes", "$g_lco_active_hero"),
				(troop_get_slot, ":companions_overview_value_5", "trp_companions_overview", ":value_5"),
				(store_sub, ":value_6", ":value_4", ":value_2"),
				(try_begin),
					(lt, ":value_6", 9),
					(assign, reg0, ":companions_overview_value_5"),
					(assign, reg1, ":value_6"),
				(else_try),
					(call_script, "script_lco_allocate_slots_for_books", ":companions_overview_value_5"),
					(try_begin),
						(eq, ":value_6", 9),
						(assign, reg1, reg0),
					(try_end),
					(assign, reg0, ":companions_overview_value_5"),
				(try_end),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(val_add, ":value_2", 22),
				(store_add, ":value_3", ":value_2", 9),
				(try_for_range, ":value_4", ":value_2", ":value_3"),
					(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
					(assign, reg0, "trp_player"),
					(store_sub, reg1, ":value_4", ":value_2"),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(val_add, ":value_2", 18),
				(store_add, ":value_3", ":value_2", "$g_lco_inv_slots"),
				(try_for_range, ":value_4", ":value_2", ":value_3"),
					(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
					(assign, reg0, "trp_player"),
					(store_sub, reg1, ":value_4", ":value_2"),
					(val_add, reg1, 10),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(val_add, ":value_2", "$g_lco_inv_slots"),
				(val_add, ":value_2", "$g_lco_inv_slots"),
				(store_add, ":value_3", ":value_2", "$g_lco_garb_slots"),
				(try_for_range, ":value_4", ":value_2", ":value_3"),
					(troop_slot_eq, "trp_companions_overview", ":value_4", ":script_param_1"),
					(assign, reg0, "$g_lco_garbage_troop"),
					(store_sub, reg1, ":value_4", ":value_2"),
					(val_add, reg1, 10),
					(assign, ":value", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value", 1),
				(troop_get_inventory_slot, reg2, reg0, reg1),
				(try_begin),
					(ge, reg2, 0),
					(troop_get_inventory_slot_modifier, reg3, reg0, reg1),
					(troop_inventory_slot_get_item_amount, reg4, reg0, reg1),
					(call_script, "script_mmfix_item_max_amount", reg0, reg1),
					(assign, reg5, reg0),
				(try_end),
			(try_end)
		]),

	("lco_drag_item",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(call_script, "script_cf_lco_controllable", ":script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(try_begin),
					(ge, ":inventory_slot_script_param_1_script_param_2", 0),
					(assign, "$g_lco_drag_item", ":inventory_slot_script_param_1_script_param_2"),
					(troop_get_inventory_slot_modifier, "$g_lco_drag_modifier", ":script_param_1", ":script_param_2"),
					(troop_inventory_slot_get_item_amount, "$g_lco_drag_quantity", ":script_param_1", ":script_param_2"),
					(call_script, "script_mmfix_item_max_amount", ":script_param_1", ":script_param_2"),
					(assign, "$g_lco_drag_quantity_max", reg0),
					(assign, "$g_lco_dragging_from", ":script_param_1"),
					(assign, "$g_lco_dragging_from_slot", ":script_param_2"),
					(call_script, "script_lco_item_name_to_s41", ":inventory_slot_script_param_1_script_param_2", "$g_lco_drag_modifier", "$g_lco_drag_quantity", "$g_lco_drag_quantity_max"),
					(overlay_set_text, "$g_lco_dragging_text", 41),
					(overlay_set_display, "$g_lco_dragging_panel", 1),
					(assign, "$g_lco_dragging", 1),
					(troop_set_inventory_slot, ":script_param_1", ":script_param_2", -1),
					(try_begin),
						(eq, ":script_param_1", "$g_lco_garbage_troop"),
						(troop_sort_inventory, "$g_lco_garbage_troop"),
					(try_end),
				(try_end),
			(else_try),
				(display_message, "str_lco_drop_error_control", 0x00ff4040),
			(try_end)
		]),

	("lco_cancel_drag_item",
		[
			(try_begin),
				(eq, "$g_lco_dragging", 1),
				(try_begin),
					(troop_get_inventory_slot, ":inventory_slot_g_lco_dragging_from_g_lco_dragging_from_slot", "$g_lco_dragging_from", "$g_lco_dragging_from_slot"),
					(lt, ":inventory_slot_g_lco_dragging_from_g_lco_dragging_from_slot", 0),
					(troop_set_inventory_slot, "$g_lco_dragging_from", "$g_lco_dragging_from_slot", "$g_lco_drag_item"),
					(troop_set_inventory_slot_modifier, "$g_lco_dragging_from", "$g_lco_dragging_from_slot", "$g_lco_drag_modifier"),
					(try_begin),
						(gt, "$g_lco_drag_quantity", 0),
						(troop_inventory_slot_set_item_amount, "$g_lco_dragging_from", "$g_lco_dragging_from_slot", "$g_lco_drag_quantity"),
					(try_end),
					(assign, "$g_lco_dragging", 0),
				(else_try),
					(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
					(try_for_range, ":number", 10, ":inventory_capacity_player"),
						(troop_get_inventory_slot, ":inventory_slot_g_lco_dragging_from_g_lco_dragging_from_slot", "trp_player", ":number"),
						(lt, ":inventory_slot_g_lco_dragging_from_g_lco_dragging_from_slot", 0),
						(troop_set_inventory_slot, "trp_player", ":number", "$g_lco_drag_item"),
						(troop_set_inventory_slot_modifier, "trp_player", ":number", "$g_lco_drag_modifier"),
						(try_begin),
							(gt, "$g_lco_drag_quantity", 0),
							(troop_inventory_slot_set_item_amount, "trp_player", ":number", "$g_lco_drag_quantity"),
						(try_end),
						(assign, "$g_lco_dragging", 0),
						(assign, ":inventory_capacity_player", 0),
					(try_end),
					(eq, "$g_lco_dragging", 0),
				(else_try),
					(troop_get_inventory_capacity, ":inventory_capacity_player", "$g_lco_garbage_troop"),
					(try_for_range, ":number", 10, ":inventory_capacity_player"),
						(troop_get_inventory_slot, ":inventory_slot_g_lco_dragging_from_g_lco_dragging_from_slot", "$g_lco_garbage_troop", ":number"),
						(lt, ":inventory_slot_g_lco_dragging_from_g_lco_dragging_from_slot", 0),
						(troop_set_inventory_slot, "$g_lco_garbage_troop", ":number", "$g_lco_drag_item"),
						(troop_set_inventory_slot_modifier, "$g_lco_garbage_troop", ":number", "$g_lco_drag_modifier"),
						(try_begin),
							(gt, "$g_lco_drag_quantity", 0),
							(troop_inventory_slot_set_item_amount, "$g_lco_garbage_troop", ":number", "$g_lco_drag_quantity"),
						(try_end),
						(assign, "$g_lco_dragging", 0),
						(assign, ":inventory_capacity_player", 0),
						(troop_sort_inventory, "$g_lco_garbage_troop"),
					(try_end),
				(try_end),
				(try_begin),
					(eq, "$g_lco_dragging", 0),
					(assign, "$g_lco_dragging_from", 0),
					(assign, "$g_lco_dragging_from_slot", 0),
					(assign, "$g_lco_drag_item", -1),
					(assign, "$g_lco_drag_modifier", 0),
					(assign, "$g_lco_drag_quantity", 0),
					(assign, "$g_lco_drag_quantity_max", 0),
					(overlay_set_display, "$g_lco_dragging_panel", 0),
				(try_end),
			(try_end)
		]),

	("lco_drop_item",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(eq, ":script_param_1", "$g_lco_garbage_troop"),
				(call_script, "script_lco_discard_item", "$g_lco_drag_item", "$g_lco_drag_modifier", "$g_lco_drag_quantity"),
				(assign, "$g_lco_dragging_from", 0),
				(assign, "$g_lco_dragging_from_slot", 0),
				(assign, "$g_lco_drag_item", -1),
				(assign, "$g_lco_drag_modifier", 0),
				(assign, "$g_lco_drag_quantity", 0),
				(assign, "$g_lco_drag_quantity_max", 0),
				(assign, "$g_lco_dragging", 0),
				(overlay_set_display, "$g_lco_dragging_panel", 0),
			(else_try),
				(call_script, "script_cf_lco_controllable", ":script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_script_param_2", ":script_param_1", ":script_param_2"),
				(call_script, "script_mmfix_item_max_amount", ":script_param_1", ":script_param_2"),
				(assign, ":var_6", reg0),
				(troop_set_inventory_slot, ":script_param_1", ":script_param_2", "$g_lco_drag_item"),
				(troop_set_inventory_slot_modifier, ":script_param_1", ":script_param_2", "$g_lco_drag_modifier"),
				(try_begin),
					(gt, "$g_lco_drag_quantity", 0),
					(troop_inventory_slot_set_item_amount, ":script_param_1", ":script_param_2", "$g_lco_drag_quantity"),
				(try_end),
				(try_begin),
					(ge, ":inventory_slot_script_param_1_script_param_2", 0),
					(assign, "$g_lco_drag_item", ":inventory_slot_script_param_1_script_param_2"),
					(assign, "$g_lco_drag_modifier", ":inventory_slot_modifier_script_param_1_script_param_2"),
					(assign, "$g_lco_drag_quantity", ":troop_inventory_slot_item_amount_script_param_1_script_param_2"),
					(assign, "$g_lco_drag_quantity_max", ":var_6"),
					(assign, "$g_lco_dragging_from", ":script_param_1"),
					(assign, "$g_lco_dragging_from_slot", ":script_param_2"),
					(call_script, "script_lco_item_name_to_s41", "$g_lco_drag_item", "$g_lco_drag_modifier", "$g_lco_drag_quantity", "$g_lco_drag_quantity_max"),
					(overlay_set_text, "$g_lco_dragging_text", 41),
					(overlay_set_display, "$g_lco_dragging_panel", 1),
					(assign, "$g_lco_dragging", 1),
				(else_try),
					(assign, "$g_lco_dragging_from", 0),
					(assign, "$g_lco_dragging_from_slot", 0),
					(assign, "$g_lco_drag_item", -1),
					(assign, "$g_lco_drag_modifier", 0),
					(assign, "$g_lco_drag_quantity", 0),
					(assign, "$g_lco_drag_quantity_max", 0),
					(assign, "$g_lco_dragging", 0),
					(overlay_set_display, "$g_lco_dragging_panel", 0),
				(try_end),
			(else_try),
				(display_message, "str_lco_drop_error_control", 0x00ff4040),
			(try_end)
		]),

	("cf_lco_can_drop_item",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(assign, reg0, "str_lco_drop_error_control"),
			(call_script, "script_cf_lco_controllable", ":script_param_1"),
			(assign, ":value", 0),
			(assign, ":value_2", "str_lco_drop_error_type"),
			(try_begin),
				(ge, ":script_param_2", 10),
				(try_begin),
					(this_or_next|eq, ":script_param_1", "trp_player"),
					(eq, ":script_param_1", "$g_lco_garbage_troop"),
					(assign, ":value", 1),
				(else_try),
					(item_get_type, ":type_script_param_3", ":script_param_3"),
					(eq, ":type_script_param_3", 20),
					(assign, ":value", 1),
				(try_end),
			(else_try),
				(item_get_type, ":type_script_param_3", ":script_param_3"),
				(try_begin),
					(lt, ":script_param_2", 4),
					(this_or_next|eq, ":type_script_param_3", 2),
					(this_or_next|eq, ":type_script_param_3", 3),
					(this_or_next|eq, ":type_script_param_3", 4),
					(this_or_next|eq, ":type_script_param_3", 5),
					(this_or_next|eq, ":type_script_param_3", 6),
					(this_or_next|eq, ":type_script_param_3", 7),
					(this_or_next|eq, ":type_script_param_3", 8),
					(this_or_next|eq, ":type_script_param_3", 9),
					(this_or_next|eq, ":type_script_param_3", 10),
					(this_or_next|eq, ":type_script_param_3", 16),
					(this_or_next|eq, ":type_script_param_3", 17),
					(eq, ":type_script_param_3", 18),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_2", 4),
					(eq, ":type_script_param_3", 12),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_2", 5),
					(eq, ":type_script_param_3", 13),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_2", 6),
					(eq, ":type_script_param_3", 14),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_2", 7),
					(eq, ":type_script_param_3", 15),
					(assign, ":value", 1),
				(else_try),
					(eq, ":script_param_2", 8),
					(eq, ":type_script_param_3", 1),
					(assign, ":value", 1),
				(try_end),
				(try_begin),
					(eq, ":value", 1),
					(neq, ":type_script_param_3", 5),
					(neq, ":type_script_param_3", 6),
					(neq, ":type_script_param_3", 18),
					(neq, ":type_script_param_3", 7),
					(assign, ":value_2", "str_lco_drop_error_reqs"),
					(call_script, "script_lco_replicate_attributes", ":script_param_1"),
					(call_script, "script_lco_clear_all_items", "trp_companions_overview"),
					(troop_set_auto_equip, "trp_companions_overview", 0),
					(troop_set_inventory_slot, "trp_companions_overview", 10, ":script_param_3"),
					(troop_set_inventory_slot_modifier, "trp_companions_overview", 10, ":script_param_4"),
					(troop_equip_items, "trp_companions_overview"),
					(troop_get_inventory_slot, ":inventory_slot_companions_overview_10", "trp_companions_overview", 10),
					(call_script, "script_lco_clear_all_items", "trp_companions_overview"),
					(ge, ":inventory_slot_companions_overview_10", 0),
					(assign, ":value", 0),
				(try_end),
			(try_end),
			(assign, reg0, ":value_2"),
			(eq, ":value", 1)
		]),

	("lco_set_active_hero",
		[
			(store_script_param_1, ":script_param_1"),
			(assign, "$g_lco_active_hero", ":script_param_1"),
			(position_set_x, 60, 25),
			(store_mul, ":value", "$g_lco_heroes", 25),
			(val_sub, ":value", 25),
			(val_max, ":value", 500),
			(store_mul, ":value_2", "$g_lco_active_hero", 25),
			(store_sub, ":value_2", ":value", ":value_2"),
			(position_set_y, 60, ":value_2"),
			(overlay_set_position, "$g_lco_active_panel", 60),
			(call_script, "script_lco_fill_hero_panels")
		]),

	("lco_allocate_slots_for_books",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_sort_inventory, ":script_param_1"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(assign, reg0, -1),
			(assign, reg1, -1),
			(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(try_begin),
					(ge, ":inventory_slot_script_param_1_number", 0),
					(item_get_type, ":type_inventory_slot_script_param_1_number", ":inventory_slot_script_param_1_number"),
					(eq, ":type_inventory_slot_script_param_1_number", 20),
					(try_begin),
						(eq, reg0, -1),
						(assign, reg0, ":number"),
					(else_try),
						(eq, reg1, -1),
						(assign, reg1, ":number"),
					(try_end),
				(try_end),
			(try_end),
			(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(try_begin),
					(lt, ":inventory_slot_script_param_1_number", 0),
					(try_begin),
						(eq, reg0, -1),
						(assign, reg0, ":number"),
					(else_try),
						(eq, reg1, -1),
						(assign, reg1, ":number"),
					(try_end),
				(try_end),
			(try_end)
		]),

	("cf_lco_auto_offer_item",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(item_get_type, ":type_script_param_2", ":script_param_2"),
			(assign, ":value", -1),
			(assign, ":value_2", 0),
			(assign, ":value_3", 0),
			(assign, ":var_9", 0),
			(assign, ":value_4", 0),
			(call_script, "script_cf_lco_controllable", ":script_param_1"),
			(try_begin),
				(this_or_next|is_between, ":type_script_param_2", 2, 11),
				(is_between, ":type_script_param_2", 16, 19),
				(try_for_range, ":number", 0, 4),
					(eq, ":value_4", 0),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
					(lt, ":inventory_slot_script_param_1_number", 0),
					(call_script, "script_cf_lco_can_drop_item", ":script_param_1", ":number", ":script_param_2", ":script_param_3"),
					(troop_set_inventory_slot, ":script_param_1", ":number", ":script_param_2"),
					(troop_set_inventory_slot_modifier, ":script_param_1", ":number", ":script_param_3"),
					(try_begin),
						(gt, ":script_param_4", 0),
						(troop_inventory_slot_set_item_amount, ":script_param_1", ":number", ":script_param_4"),
					(try_end),
					(assign, ":value_4", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_4", 0),
				(eq, ":type_script_param_2", 20),
				(troop_add_item, ":script_param_1", ":script_param_2", ":script_param_3"),
				(assign, ":value_4", 1),
				(troop_sort_inventory, ":script_param_1"),
				(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
				(assign, ":var_14", 0),
				(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
					(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number"),
					(ge, ":inventory_slot_script_param_1_number_2", 0),
					(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
					(eq, ":type_inventory_slot_script_param_1_number_2", 20),
					(try_begin),
						(lt, ":var_14", 2),
						(val_add, ":var_14", 1),
					(else_try),
						(assign, ":value", ":inventory_slot_script_param_1_number_2"),
						(troop_set_inventory_slot, ":script_param_1", ":number", -1),
						(assign, ":inventory_capacity_script_param_1", 0),
					(try_end),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":value_4", 0),
				(neq, ":type_script_param_2", 11),
				(neq, ":type_script_param_2", 19),
				(neq, ":type_script_param_2", 20),
				(call_script, "script_lco_clear_all_items", "trp_companions_overview"),
				(call_script, "script_lco_replicate_attributes", ":script_param_1"),
				(call_script, "script_lco_replicate_equipment", ":script_param_1"),
				(troop_add_item, "trp_companions_overview", ":script_param_2", ":script_param_3"),
				(troop_equip_items, "trp_companions_overview"),
				(troop_sort_inventory, "trp_companions_overview"),
				(assign, ":value_4", 1),
				(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
				(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
					(troop_get_inventory_slot, ":inventory_slot_companions_overview_number", "trp_companions_overview", ":number"),
					(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_companions_overview_number", "trp_companions_overview", ":number"),
					(eq, ":script_param_2", ":inventory_slot_companions_overview_number"),
					(eq, ":script_param_3", ":inventory_slot_modifier_companions_overview_number"),
					(assign, ":value_4", 0),
					(assign, ":inventory_capacity_script_param_1", 0),
				(try_end),
				(try_begin),
					(eq, ":value_4", 1),
					(assign, ":value_5", -1),
					(try_begin),
						(eq, ":type_script_param_2", 1),
						(assign, ":value_5", 8),
					(else_try),
						(is_between, ":type_script_param_2", 12, 16),
						(store_sub, ":value_5", ":type_script_param_2", 8),
					(else_try),
						(assign, ":value_6", -1),
						(assign, ":value_7", 0),
						(try_for_range, ":number", 10, 15),
							(eq, ":value_6", -1),
							(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", "trp_companions_overview", ":number"),
							(ge, ":inventory_slot_script_param_1_number_2", 0),
							(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
							(this_or_next|is_between, ":type_inventory_slot_script_param_1_number_2", 2, 5),
							(this_or_next|is_between, ":type_inventory_slot_script_param_1_number_2", 8, 11),
							(is_between, ":type_inventory_slot_script_param_1_number_2", 16, 18),
							(assign, ":value_6", ":inventory_slot_script_param_1_number_2"),
							(troop_get_inventory_slot_modifier, ":value_7", "trp_companions_overview", ":number"),
						(try_end),
						(try_for_range_backwards, ":number", 10, 15),
							(eq, ":value_6", -1),
							(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", "trp_companions_overview", ":number"),
							(ge, ":inventory_slot_script_param_1_number_2", 0),
							(item_get_type, ":type_inventory_slot_script_param_1_number_2", ":inventory_slot_script_param_1_number_2"),
							(this_or_next|eq, ":type_inventory_slot_script_param_1_number_2", 18),
							(is_between, ":type_inventory_slot_script_param_1_number_2", 5, 7),
							(assign, ":value_6", ":inventory_slot_script_param_1_number_2"),
							(troop_get_inventory_slot_modifier, ":value_7", "trp_companions_overview", ":number"),
						(try_end),
						(try_begin),
							(eq, ":value_6", -1),
							(display_message, "str_lco_impossible_error"),
						(else_try),
							(try_for_range, ":number", 0, 10),
								(troop_get_inventory_slot, ":inventory_slot_script_param_1_number_2", ":script_param_1", ":number"),
								(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
								(eq, ":inventory_slot_script_param_1_number_2", ":value_6"),
								(eq, ":inventory_slot_modifier_script_param_1_number", ":value_7"),
								(assign, ":value_5", ":number"),
							(try_end),
						(try_end),
					(try_end),
					(try_begin),
						(eq, ":value_5", -1),
						(assign, ":value_4", 0),
					(else_try),
						(troop_get_inventory_slot, ":value", ":script_param_1", ":value_5"),
						(troop_get_inventory_slot_modifier, ":value_2", ":script_param_1", ":value_5"),
						(troop_inventory_slot_get_item_amount, ":value_3", ":script_param_1", ":value_5"),
						(call_script, "script_mmfix_item_max_amount", ":script_param_1", ":value_5"),
						(assign, ":value_3", reg0),
						(troop_set_inventory_slot, ":script_param_1", ":value_5", ":script_param_2"),
						(troop_set_inventory_slot_modifier, ":script_param_1", ":value_5", ":script_param_3"),
						(assign, ":value_4", 1),
					(try_end),
				(try_end),
			(try_end),
			(eq, ":value_4", 1),
			(assign, reg0, ":value"),
			(assign, reg1, ":value_2"),
			(assign, reg2, ":value_3"),
			(assign, reg3, ":var_9")
		]),

	("lco_backup_inventory",
		[
			(store_script_param_1, ":script_param_1"),
			(call_script, "script_lco_clear_all_items", "trp_companions_overview"),
			(troop_set_auto_equip, "trp_companions_overview", 0),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(assign, ":var_3", 10),
			(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(ge, ":inventory_slot_script_param_1_number", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_script_param_1_number", ":script_param_1", ":number"),
				(troop_set_inventory_slot, "trp_companions_overview", ":var_3", ":inventory_slot_script_param_1_number"),
				(troop_set_inventory_slot_modifier, "trp_companions_overview", ":var_3", ":inventory_slot_modifier_script_param_1_number"),
				(try_begin),
					(gt, ":troop_inventory_slot_item_amount_script_param_1_number", 0),
					(troop_inventory_slot_set_item_amount, "trp_companions_overview", ":var_3", ":troop_inventory_slot_item_amount_script_param_1_number"),
				(try_end),
				(troop_set_inventory_slot, ":script_param_1", ":number", -1),
				(val_add, ":var_3", 1),
			(try_end)
		]),

	("lco_retrieve_inventory",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_sort_inventory, "trp_companions_overview"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(assign, ":var_3", 10),
			(try_for_range, ":number", 10, ":inventory_capacity_script_param_1"),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(lt, ":inventory_slot_script_param_1_number", 0),
				(troop_get_inventory_slot, ":inventory_slot_companions_overview_var_3", "trp_companions_overview", ":var_3"),
				(ge, ":inventory_slot_companions_overview_var_3", 0),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_companions_overview_var_3", "trp_companions_overview", ":var_3"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_companions_overview_var_3", "trp_companions_overview", ":var_3"),
				(troop_set_inventory_slot, ":script_param_1", ":number", ":inventory_slot_companions_overview_var_3"),
				(troop_set_inventory_slot_modifier, ":script_param_1", ":number", ":inventory_slot_modifier_companions_overview_var_3"),
				(try_begin),
					(gt, ":troop_inventory_slot_item_amount_companions_overview_var_3", 0),
					(troop_inventory_slot_set_item_amount, ":script_param_1", ":number", ":troop_inventory_slot_item_amount_companions_overview_var_3"),
				(try_end),
				(val_add, ":var_3", 1),
			(try_end),
			(call_script, "script_lco_clear_all_items", "trp_companions_overview")
		]),

	("lco_clear_all_items",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_clear_inventory, ":script_param_1"),
			(try_for_range, ":number", 0, 9),
				(troop_set_inventory_slot, ":script_param_1", ":number", -1),
			(try_end)
		]),

	("lco_replicate_attributes",
		[
			(store_script_param_1, ":script_param_1"),
			(store_attribute_level, ":attribute_level_script_param_1_0", ":script_param_1", 0),
			(store_skill_level, ":skill_level_power_draw_script_param_1", "skl_power_draw", ":script_param_1"),
			(store_skill_level, ":skill_level_power_throw_script_param_1", "skl_power_throw", ":script_param_1"),
			(store_skill_level, ":skill_level_riding_script_param_1", "skl_riding", ":script_param_1"),
			(store_attribute_level, ":attribute_level_companions_overview_0", "trp_companions_overview", 0),
			(store_skill_level, ":skill_level_power_draw_companions_overview", "skl_power_draw", "trp_companions_overview"),
			(store_skill_level, ":skill_level_power_throw_companions_overview", "skl_power_throw", "trp_companions_overview"),
			(store_skill_level, ":skill_level_riding_companions_overview", "skl_riding", "trp_companions_overview"),
			(val_sub, ":attribute_level_script_param_1_0", ":attribute_level_companions_overview_0"),
			(val_sub, ":skill_level_power_draw_script_param_1", ":skill_level_power_draw_companions_overview"),
			(val_sub, ":skill_level_power_throw_script_param_1", ":skill_level_power_throw_companions_overview"),
			(val_sub, ":skill_level_riding_script_param_1", ":skill_level_riding_companions_overview"),
			(troop_raise_attribute, "trp_companions_overview", 0, ":attribute_level_script_param_1_0"),
			(troop_raise_skill, "trp_companions_overview", "skl_power_draw", ":skill_level_power_draw_script_param_1"),
			(troop_raise_skill, "trp_companions_overview", "skl_power_throw", ":skill_level_power_throw_script_param_1"),
			(troop_raise_skill, "trp_companions_overview", "skl_riding", ":skill_level_riding_script_param_1")
		]),

	("lco_replicate_equipment",
		[
			(store_script_param_1, ":script_param_1"),
			(try_for_range, ":number", 0, 10),
				(troop_get_inventory_slot, ":inventory_slot_script_param_1_number", ":script_param_1", ":number"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_number", ":script_param_1", ":number"),
				(troop_set_inventory_slot, "trp_companions_overview", ":number", ":inventory_slot_script_param_1_number"),
				(troop_set_inventory_slot_modifier, "trp_companions_overview", ":number", ":inventory_slot_modifier_script_param_1_number"),
			(try_end)
		]),

	("lco_hero_grab_equipment",
		[
			(store_script_param, ":script_param_1", 1),
			(assign, ":var_2", 10),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(try_for_range, ":number", 10, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(ge, ":inventory_slot_player_number", 0),
				(assign, ":value", 0),
				(item_get_type, ":type_inventory_slot_player_number", ":inventory_slot_player_number"),
				(try_begin),
					(eq, "$g_lco_auto_horses", 1),
					(eq, ":type_inventory_slot_player_number", 1),
					(assign, ":value", 1),
				(else_try),
					(eq, "$g_lco_auto_armors", 1),
					(this_or_next|eq, ":type_inventory_slot_player_number", 12),
					(this_or_next|eq, ":type_inventory_slot_player_number", 13),
					(this_or_next|eq, ":type_inventory_slot_player_number", 14),
					(eq, ":type_inventory_slot_player_number", 15),
					(assign, ":value", 1),
				(else_try),
					(eq, "$g_lco_auto_shields", 1),
					(eq, ":type_inventory_slot_player_number", 7),
					(assign, ":value", 1),
				(try_end),
				(eq, ":value", 1),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_player_number", "trp_player", ":number"),
				(troop_set_inventory_slot, ":script_param_1", ":var_2", ":inventory_slot_player_number"),
				(troop_set_inventory_slot_modifier, ":script_param_1", ":var_2", ":inventory_slot_modifier_player_number"),
				(troop_set_inventory_slot, "trp_player", ":number", -1),
				(val_add, ":var_2", 1),
				(ge, ":var_2", ":inventory_capacity_script_param_1"),
				(assign, ":inventory_capacity_player", 0),
			(try_end)
		]),

	("lco_hero_return_equipment",
		[
			(store_script_param, ":script_param_1", 1),
			(troop_sort_inventory, ":script_param_1"),
			(troop_get_inventory_capacity, ":inventory_capacity_script_param_1", ":script_param_1"),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(assign, ":value", 10),
			(try_for_range, ":number", 10, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(lt, ":inventory_slot_player_number", 0),
				(troop_get_inventory_slot, ":inventory_slot_player_number", ":script_param_1", ":value"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_value", ":script_param_1", ":value"),
				(troop_set_inventory_slot, "trp_player", ":number", ":inventory_slot_player_number"),
				(troop_set_inventory_slot_modifier, "trp_player", ":number", ":inventory_slot_modifier_script_param_1_value"),
				(troop_set_inventory_slot, ":script_param_1", ":value", -1),
				(val_add, ":value", 1),
				(ge, ":value", ":inventory_capacity_script_param_1"),
				(assign, ":inventory_capacity_player", 0),
			(try_end),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "$g_lco_garbage_troop"),
			(assign, ":value", 10),
			(try_for_range, ":number", 10, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "$g_lco_garbage_troop", ":number"),
				(lt, ":inventory_slot_player_number", 0),
				(troop_get_inventory_slot, ":inventory_slot_player_number", ":script_param_1", ":value"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_script_param_1_value", ":script_param_1", ":value"),
				(troop_set_inventory_slot, "$g_lco_garbage_troop", ":number", ":inventory_slot_player_number"),
				(troop_set_inventory_slot_modifier, "$g_lco_garbage_troop", ":number", ":inventory_slot_modifier_script_param_1_value"),
				(troop_set_inventory_slot, ":script_param_1", ":value", -1),
				(val_add, ":value", 1),
				(ge, ":value", ":inventory_capacity_script_param_1"),
				(assign, ":inventory_capacity_player", 0),
			(try_end),
			(troop_sort_inventory, "$g_lco_garbage_troop")
		]),

	("lco_text_label",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(val_sub, ":script_param_2", 1),
			(set_fixed_point_multiplier, 1000),
			(init_position, 60),
			(init_position, 62),
			(position_set_x, 60, ":script_param_2"),
			(position_set_y, 60, ":script_param_3"),
			(position_set_x, 62, 750),
			(position_set_y, 62, 750),
			(create_text_overlay, ":var_4", ":script_param_1", 16),
			(overlay_set_position, ":var_4", 60),
			(overlay_set_size, ":var_4", 62),
			(assign, reg0, ":var_4")
		]),

	("lco_text_caption",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(val_sub, ":script_param_2", 1),
			(val_sub, ":script_param_3", 105),
			(set_fixed_point_multiplier, 1000),
			(init_position, 60),
			(init_position, 62),
			(position_set_x, 60, ":script_param_2"),
			(position_set_y, 60, ":script_param_3"),
			(position_rotate_z, 60, 45),
			(position_set_x, 62, 750),
			(position_set_y, 62, 750),
			(create_text_overlay, ":value", ":script_param_1"),
			(overlay_set_size, ":value", 62),
			(overlay_set_position, ":value", 60),
			(overlay_set_mesh_rotation, ":value", 60),
			(create_text_overlay, ":value", ":script_param_1"),
			(overlay_set_size, ":value", 62),
			(overlay_set_position, ":value", 60),
			(overlay_set_mesh_rotation, ":value", 60),
			(assign, reg0, ":value")
		]),

	("lco_initialize_presentation",
		[
			(presentation_set_duration, 999999),
			(try_begin),
				(eq, "$g_lco_initialized", 0),
				(assign, "$g_lco_activate_troop", 0),
				(assign, "$g_lco_active_hero", 0),
				(assign, "$g_lco_page", 0),
				(assign, "$g_lco_operation", 0),
				(assign, "$g_lco_target", 0),
				(assign, "$g_lco_auto_horses", 1),
				(assign, "$g_lco_auto_armors", 1),
				(assign, "$g_lco_auto_shields", 1),
				(assign, "$g_lco_include_companions", 1),
				(assign, "$g_lco_include_lords", 0),
				(assign, "$g_lco_include_regulars", 0),
				(assign, "$g_lco_initialized", 1),
				(assign, "$g_lco_garbage_troop", "trp_companions_discard"),
				(troop_set_slot, "trp_companions_discard", slot_troop_relations_begin, 0),
				(troop_set_slot, "trp_companions_discard", 1, 600),
				(troop_set_slot, "trp_companions_discard", slot_troop_occupation, 1360),
				(troop_set_slot, "trp_companions_discard", slot_troop_state, 2296),
				(troop_set_slot, "trp_companions_discard", slot_troop_last_talk_time, 3426),
				(troop_set_slot, "trp_companions_discard", slot_troop_met, 4768),
				(troop_set_slot, "trp_companions_discard", slot_troop_party_template, 6345),
				(troop_set_slot, "trp_companions_discard", slot_troop_renown, 8179),
				(troop_set_slot, "trp_companions_discard", slot_troop_prisoner_of_party, 10297),
				(troop_set_slot, "trp_companions_discard", slot_troop_present_at_event, 13010),
				(troop_set_slot, "trp_companions_discard", slot_troop_leaded_party, 16161),
				(troop_set_slot, "trp_companions_discard", slot_troop_wealth, 19806),
				(troop_set_slot, "trp_companions_discard", slot_troop_cur_center, 24007),
				(troop_set_slot, "trp_companions_discard", slot_troop_banner_scene_prop, 28832),
				(troop_set_slot, "trp_companions_discard", slot_troop_original_faction, 34362),
				(troop_set_slot, "trp_companions_discard", 15, 40682),
				(troop_set_slot, "trp_companions_discard", slot_troop_player_order_state, 47892),
				(troop_set_slot, "trp_companions_discard", slot_troop_player_order_object, 56103),
				(troop_set_slot, "trp_companions_discard", slot_troop_age, 65441),
				(troop_set_slot, "trp_companions_discard", slot_troop_age_appearance, 77233),
				(troop_set_slot, "trp_companions_discard", slot_troop_does_not_give_quest, 90809),
				(troop_set_slot, "trp_companions_discard", slot_troop_player_debt, 106425),
				(troop_set_slot, "trp_companions_discard", slot_troop_player_relation, 124371),
				(troop_set_slot, "trp_companions_discard", 23, 144981),
				(troop_set_slot, "trp_companions_discard", slot_troop_last_quest, 168636),
				(troop_set_slot, "trp_companions_discard", slot_troop_last_quest_betrayed, 195769),
				(troop_set_slot, "trp_companions_discard", slot_troop_last_persuasion_time, 226879),
				(troop_set_slot, "trp_companions_discard", slot_troop_last_comment_time, 262533),
				(troop_set_slot, "trp_companions_discard", slot_troop_spawned_before, 303381),
				(troop_set_slot, "trp_companions_discard", slot_troop_last_comment_slot, 350164),
				(troop_set_slot, "trp_companions_discard", slot_troop_spouse, 412091),
				(troop_set_slot, "trp_companions_discard", slot_troop_father, 484440),
				(troop_set_slot, "trp_companions_discard", slot_troop_mother, 568947),
				(troop_set_slot, "trp_companions_discard", slot_troop_guardian, 667638),
				(troop_set_slot, "trp_companions_discard", slot_troop_betrothed, 782877),
				(troop_set_slot, "trp_companions_discard", slot_troop_love_interest_1, 917424),
				(troop_set_slot, "trp_companions_discard", slot_troop_love_interest_2, 1074494),
				(troop_set_slot, "trp_companions_discard", slot_troop_love_interest_3, 1257843),
				(troop_set_slot, "trp_companions_discard", slot_troop_love_interests_end, 1471851),
				(troop_set_slot, "trp_companions_discard", slot_troop_betrothal_time, 1721626),
				(troop_set_slot, "trp_companions_discard", slot_lady_used_tournament, 2070551),
				(troop_set_slot, "trp_companions_discard", 41, 2489361),
				(troop_set_slot, "trp_companions_discard", 42, 2992033),
				(troop_set_slot, "trp_companions_discard", 43, 3595340),
				(troop_set_slot, "trp_companions_discard", 44, 4319408),
				(troop_set_slot, "trp_companions_discard", slot_troop_current_rumor, 5188389),
				(troop_set_slot, "trp_companions_discard", slot_troop_temp_slot, 6231267),
				(troop_set_slot, "trp_companions_discard", slot_troop_promised_fief, 7482821),
				(troop_set_slot, "trp_companions_discard", slot_troop_set_decision_seed, 8984785),
				(troop_set_slot, "trp_companions_discard", slot_troop_temp_decision_seed, 11236531),
				(troop_set_slot, "trp_companions_discard", slot_troop_recruitment_random, 14051314),
				(troop_set_slot, "trp_companions_discard", slot_troop_intrigue_impatience, 17569892),
				(troop_set_slot, "trp_companions_discard", slot_lord_reputation_type, 21968215),
				(troop_set_slot, "trp_companions_discard", slot_lord_recruitment_argument, 27466219),
				(troop_set_slot, "trp_companions_discard", slot_lord_recruitment_candidate, 34338823),
				(troop_set_slot, "trp_companions_discard", slot_troop_change_to_faction, 42929679),
				(troop_set_slot, "trp_companions_discard", 56, 53668349),
				(troop_set_slot, "trp_companions_discard", 57, 67091786),
				(troop_set_slot, "trp_companions_discard", 58, 83871183),
				(troop_set_slot, "trp_companions_discard", slot_troop_first_encountered, 160204600),
				(troop_set_slot, "trp_companions_discard", slot_troop_home, 320304600),
				(troop_set_slot, "trp_companions_discard", slot_troop_morality_state, 644046000),
				(troop_set_slot, "trp_companions_discard", slot_troop_morality_type, 2050460000),
			(try_end),
			(assign, "$g_lco_heroes", 0),
			(assign, "$g_lco_inv_slots", 0),
			(assign, "$g_lco_dragging", 0),
			(assign, "$g_lco_dragging_from", 0),
			(assign, "$g_lco_dragging_from_slot", 0),
			(assign, "$g_lco_drag_item", -1),
			(assign, "$g_lco_drag_modifier", 0),
			(assign, "$g_lco_drag_quantity", 0),
			(assign, "$g_lco_drag_quantity_max", 0),
			(assign, "$g_lco_popup_active", 0),
			(assign, "$g_lco_popup_overlay", 0),
			(assign, "$g_lco_popup_item", 0),
			(assign, "$g_lco_popup_modifier", 0),
			(assign, "$g_lco_panel_found", 0),
			(val_clamp, "$g_lco_auto_horses", 0, 2),
			(val_clamp, "$g_lco_auto_armors", 0, 2),
			(val_clamp, "$g_lco_auto_shields", 0, 2),
			(val_clamp, "$g_lco_include_companions", 0, 2),
			(val_clamp, "$g_lco_include_lords", 0, 2),
			(val_clamp, "$g_lco_include_regulars", 0, 2),
			(try_begin),
				(is_presentation_active, "prsnt_companions_overview"),
				(val_clamp, "$g_lco_page", 0, 2),
			(try_end),
			(call_script, "script_lco_prepare_heroes"),
			(try_begin),
				(gt, "$g_lco_activate_troop", 0),
				(try_for_range, reg0, 0, "$g_lco_heroes"),
					(store_add, ":value", reg0, "$g_lco_heroes"),
					(troop_slot_eq, "trp_companions_overview", ":value", "$g_lco_activate_troop"),
					(assign, "$g_lco_active_hero", ":value"),
				(try_end),
				(assign, "$g_lco_activate_troop", 0),
			(try_end),
			(val_clamp, "$g_lco_active_hero", 0, "$g_lco_heroes"),
			(troop_get_inventory_capacity, "$g_lco_inv_slots", "trp_player"),
			(val_sub, "$g_lco_inv_slots", 10),
			(troop_get_inventory_capacity, "$g_lco_garb_slots", "$g_lco_garbage_troop"),
			(val_sub, "$g_lco_garb_slots", 10),
			(troop_set_auto_equip, "trp_companions_overview", 0),
			(call_script, "script_lco_clear_all_items", "trp_companions_overview"),
			(troop_set_auto_equip, "$g_lco_garbage_troop", 0),
			(call_script, "script_lco_create_button", "str_lco_i_return", 855, 25, 190, 42),
			(assign, "$g_lco_return", reg0),
			(call_script, "script_lco_create_checkbox", "str_lco_i_list_companions", 25, 75, "$g_lco_include_companions"),
			(assign, "$g_lco_inc_0", reg0),
			(call_script, "script_lco_create_checkbox", "str_lco_i_list_lords", 25, 50, "$g_lco_include_lords"),
			(assign, "$g_lco_inc_1", reg0),
			(call_script, "script_lco_create_checkbox", "str_lco_i_list_regulars", 25, 25, "$g_lco_include_regulars"),
			(assign, "$g_lco_inc_2", reg0),
			(call_script, "script_lco_create_image_button", "mesh_lco_square_button_up", "mesh_lco_square_button_down", 25, 685, 333, 400),
			(assign, "$g_lco_switch_page_0", reg0),
			(call_script, "script_lco_create_image_button", "mesh_lco_square_button_up", "mesh_lco_square_button_down", 55, 685, 333, 400),
			(assign, "$g_lco_switch_page_1", reg0),
			(call_script, "script_lco_create_image_button", "mesh_lco_square_button_up", "mesh_lco_square_button_down", 85, 685, 333, 400),
			(assign, "$g_lco_switch_page_2", reg0),
			(store_mul, ":value_2", "$g_lco_page", 30),
			(val_add, ":value_2", 25),
			(call_script, "script_lco_create_mesh", "mesh_lco_square_button_down", ":value_2", 685, 333, 400),
			(assign, "$g_lco_selected_page", reg0),
			(assign, reg40, 1),
			(call_script, "script_lco_create_label", "str_lco_reg40", 35, 702, 750, 4112),
			(assign, reg40, 2),
			(call_script, "script_lco_create_label", "str_lco_reg40", 65, 702, 750, 4112),
			(str_store_string, 40, "str_lco_i_ie_icon"),
			(call_script, "script_lco_create_label", "str_lco_s40", 95, 702, 750, 4112),
			(call_script, "script_lco_create_label", "str_lco_version", 975, 5, 750, 8)
		]),

	("lco_prepare_heroes",
		[
			(assign, "$g_lco_heroes", 0),
			(try_begin),
				(eq, "$g_lco_include_companions", 1),
				(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
				(try_for_range, reg0, 0, ":num_companion_stacks_main_party"),
					(party_stack_get_troop_id, ":party_stack_troop_id_main_party_reg0", "p_main_party", reg0),
					(is_between, ":party_stack_troop_id_main_party_reg0", "trp_npc1", "trp_kingdom_1_lord"),
					(troop_set_slot, "trp_companions_overview", "$g_lco_heroes", ":party_stack_troop_id_main_party_reg0"),
					(val_add, "$g_lco_heroes", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$g_lco_include_lords", 1),
				(gt, "$players_kingdom", 0),
				(faction_slot_eq, "$players_kingdom", slot_faction_leader, "trp_player"),
				(try_for_range, ":party_stack_troop_id_main_party_reg0", "trp_npc1", "trp_knight_1_1_wife"),
					(troop_slot_eq, ":party_stack_troop_id_main_party_reg0", slot_troop_occupation, 2),
					(troop_get_slot, ":party_stack_troop_id_main_party_reg0_leaded_party", ":party_stack_troop_id_main_party_reg0", slot_troop_leaded_party),
					(gt, ":party_stack_troop_id_main_party_reg0_leaded_party", 0),
					(party_is_active, ":party_stack_troop_id_main_party_reg0_leaded_party"),
					(troop_set_slot, "trp_companions_overview", "$g_lco_heroes", ":party_stack_troop_id_main_party_reg0"),
					(val_add, "$g_lco_heroes", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, "$g_lco_include_regulars", 1),
				(party_get_num_companion_stacks, ":num_companion_stacks_main_party", "p_main_party"),
				(try_for_range, reg0, 0, ":num_companion_stacks_main_party"),
					(party_stack_get_troop_id, ":party_stack_troop_id_main_party_reg0", "p_main_party", reg0),
					(neg|troop_is_hero, ":party_stack_troop_id_main_party_reg0"),
					(troop_set_slot, "trp_companions_overview", "$g_lco_heroes", ":party_stack_troop_id_main_party_reg0"),
					(val_add, "$g_lco_heroes", 1),
				(try_end),
			(try_end)
		]),

	("cf_lco_controllable",
		[
			(store_script_param_1, ":script_param_1"),
			(troop_is_hero, ":script_param_1"),
			(assign, ":value", 0),
			(try_begin),
				(this_or_next|eq, ":script_param_1", "trp_player"),
				(eq, ":script_param_1", "$g_lco_garbage_troop"),
				(assign, ":value", 1),
			(else_try),
				(gt, "$g_lco_heroes", 0),
				(is_between, ":script_param_1", "trp_npc1", "trp_kingdom_1_lord"),
				(troop_slot_eq, ":script_param_1", slot_troop_occupation, 5),
				(assign, ":value", 1),
			(try_end),
			(eq, ":value", 1)
		]),

	("lco_troop_name_to_s40",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(troop_is_hero, ":script_param_1"),
				(str_store_troop_name, 40, ":script_param_1"),
			(else_try),
				(str_store_troop_name_plural, 40, ":script_param_1"),
			(try_end)
		]),

	("lco_discard_item",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(troop_sort_inventory, "$g_lco_garbage_troop"),
			(troop_get_inventory_capacity, ":inventory_capacity_l_g_lco_garbage_troop", "$g_lco_garbage_troop"),
			(store_sub, reg0, ":inventory_capacity_l_g_lco_garbage_troop", 10),
			(assign, ":value", 0),
			(try_for_range, ":number", 10, ":inventory_capacity_l_g_lco_garbage_troop"),
				(troop_get_inventory_slot, ":inventory_slot_g_lco_garbage_troop_number", "$g_lco_garbage_troop", ":number"),
				(lt, ":inventory_slot_g_lco_garbage_troop_number", 0),
				(troop_set_inventory_slot, "$g_lco_garbage_troop", ":number", ":script_param_1"),
				(troop_set_inventory_slot_modifier, "$g_lco_garbage_troop", ":number", ":script_param_2"),
				(try_begin),
					(ge, ":script_param_3", 1),
					(troop_inventory_slot_set_item_amount, "$g_lco_garbage_troop", ":number", ":script_param_3"),
				(try_end),
				(store_add, reg0, ":number", -9),
				(assign, ":inventory_capacity_l_g_lco_garbage_troop", 0),
				(assign, ":value", 1),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(assign, ":number", ":inventory_capacity_l_g_lco_garbage_troop"),
				(val_sub, ":number", 1),
				(troop_set_inventory_slot, "$g_lco_garbage_troop", ":number", ":script_param_1"),
				(troop_set_inventory_slot_modifier, "$g_lco_garbage_troop", ":number", ":script_param_2"),
				(try_begin),
					(ge, ":script_param_3", 1),
					(troop_inventory_slot_set_item_amount, "$g_lco_garbage_troop", ":number", ":script_param_3"),
				(try_end),
				(store_sub, reg0, ":inventory_capacity_l_g_lco_garbage_troop", 10),
			(try_end),
			(troop_sort_inventory, "$g_lco_garbage_troop")
		]),

	("lco_retrieve_discarded",
		[
			(troop_sort_inventory, "$g_lco_garbage_troop"),
			(assign, ":var_1", 10),
			(troop_get_inventory_capacity, ":inventory_capacity_player", "trp_player"),
			(troop_get_inventory_capacity, ":inventory_capacity_l_g_lco_garbage_troop", "$g_lco_garbage_troop"),
			(try_for_range, ":number", 10, ":inventory_capacity_player"),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "trp_player", ":number"),
				(lt, ":inventory_slot_player_number", 0),
				(troop_get_inventory_slot, ":inventory_slot_player_number", "$g_lco_garbage_troop", ":var_1"),
				(troop_get_inventory_slot_modifier, ":inventory_slot_modifier_g_lco_garbage_troop_var_1", "$g_lco_garbage_troop", ":var_1"),
				(troop_inventory_slot_get_item_amount, ":troop_inventory_slot_item_amount_g_lco_garbage_troop_var_1", "$g_lco_garbage_troop", ":var_1"),
				(troop_set_inventory_slot, "trp_player", ":number", ":inventory_slot_player_number"),
				(troop_set_inventory_slot_modifier, "trp_player", ":number", ":inventory_slot_modifier_g_lco_garbage_troop_var_1"),
				(try_begin),
					(ge, ":troop_inventory_slot_item_amount_g_lco_garbage_troop_var_1", 1),
					(troop_inventory_slot_set_item_amount, "trp_player", ":number", ":troop_inventory_slot_item_amount_g_lco_garbage_troop_var_1"),
				(try_end),
				(troop_set_inventory_slot, "$g_lco_garbage_troop", ":var_1", -1),
				(val_add, ":var_1", 1),
				(ge, ":var_1", ":inventory_capacity_l_g_lco_garbage_troop"),
				(assign, ":inventory_capacity_player", 0),
			(try_end),
			(call_script, "script_lco_count_discarded")
		]),

	("lco_count_discarded",
		[
			(troop_get_inventory_capacity, ":inventory_capacity_l_g_lco_garbage_troop", "$g_lco_garbage_troop"),
			(troop_sort_inventory, "$g_lco_garbage_troop"),
			(assign, reg0, 0),
			(try_for_range, ":number", 10, ":inventory_capacity_l_g_lco_garbage_troop"),
				(troop_get_inventory_slot, ":inventory_slot_g_lco_garbage_troop_number", "$g_lco_garbage_troop", ":number"),
				(ge, ":inventory_slot_g_lco_garbage_troop_number", 0),
				(val_add, reg0, 1),
			(try_end)
		]),

	("lco_xp_to_next_level",
		[
			(store_script_param_1, ":script_param_1"),
			(store_character_level, ":character_level_script_param_1", ":script_param_1"),
			(troop_get_xp, ":xp_script_param_1", ":script_param_1"),
			(troop_get_slot, ":companions_discard_character_level_script_param_1", "trp_companions_discard", ":character_level_script_param_1"),
			(store_sub, reg40, ":companions_discard_character_level_script_param_1", ":xp_script_param_1")
		]),

	("lco_create_mesh",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_fixed_point_multiplier, 1000),
			(create_mesh_overlay, reg0, ":script_param_1"),
			(position_set_x, 60, ":script_param_2"),
			(position_set_y, 60, ":script_param_3"),
			(overlay_set_position, reg0, 60),
			(position_set_x, 61, ":script_param_4"),
			(position_set_y, 61, ":script_param_5"),
			(overlay_set_size, reg0, 61)
		]),

	("lco_create_button",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_fixed_point_multiplier, 1000),
			(create_game_button_overlay, reg0, ":script_param_1"),
			(position_set_x, 60, ":script_param_2"),
			(position_set_y, 60, ":script_param_3"),
			(overlay_set_position, reg0, 60),
			(position_set_x, 61, ":script_param_4"),
			(position_set_y, 61, ":script_param_5"),
			(overlay_set_size, reg0, 61)
		]),

	("lco_create_image_button",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_script_param, ":script_param_6", 6),
			(set_fixed_point_multiplier, 1000),
			(create_image_button_overlay, reg0, ":script_param_1", ":script_param_2"),
			(position_set_x, 60, ":script_param_3"),
			(position_set_y, 60, ":script_param_4"),
			(overlay_set_position, reg0, 60),
			(position_set_x, 61, ":script_param_5"),
			(position_set_y, 61, ":script_param_6"),
			(overlay_set_size, reg0, 61)
		]),

	("lco_create_label",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_fixed_point_multiplier, 1000),
			(create_text_overlay, reg0, ":script_param_1", ":script_param_5"),
			(position_set_x, 60, ":script_param_2"),
			(position_set_y, 60, ":script_param_3"),
			(overlay_set_position, reg0, 60),
			(position_set_x, 62, ":script_param_4"),
			(position_set_y, 62, ":script_param_4"),
			(overlay_set_size, reg0, 62)
		]),

	("lco_create_checkbox",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(set_fixed_point_multiplier, 1000),
			(create_check_box_overlay, reg0, "mesh_checkbox_off", "mesh_checkbox_on"),
			(overlay_set_val, reg0, ":script_param_4"),
			(position_set_x, 60, ":script_param_2"),
			(position_set_y, 60, ":script_param_3"),
			(overlay_set_position, reg0, 60),
			(create_text_overlay, reg1, ":script_param_1"),
			(val_add, ":script_param_2", 25),
			(position_set_x, 60, ":script_param_2"),
			(overlay_set_position, reg1, 60),
			(position_set_x, 62, 750),
			(position_set_y, 62, 750),
			(overlay_set_size, reg1, 62)
		]),

	("lco_create_container",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_fixed_point_multiplier, 1000),
			(str_clear, 40),
			(create_text_overlay, reg0, 40, 8192),
			(position_set_x, 60, ":script_param_1"),
			(position_set_y, 60, ":script_param_2"),
			(overlay_set_position, reg0, 60),
			(position_set_x, 61, ":script_param_3"),
			(position_set_y, 61, ":script_param_4"),
			(overlay_set_area_size, reg0, 61),
			(try_begin),
				(neq, ":script_param_5", 0),
				(set_container_overlay, reg0),
			(try_end)
		]),

	("array_create",
		[
			(set_spawn_radius, 0),
			(spawn_around_party, 1, "pt_none"),
			(assign, ":var_1", reg0),
			(party_set_flags, ":var_1", 256, 1),
			(party_set_slot, ":var_1", 999, 0),
			(party_set_slot, ":var_1", 998, 0),
			(party_set_slot, ":var_1", 997, 65534),
			(party_set_slot, ":var_1", 996, 1),
			(try_begin),
				(eq, 0, 1),
				(display_log_message, "@array[{reg0}] created"),
			(try_end)
		]),

	("array_destroy",
		[
			(store_script_param_1, ":script_param_1"),
			(try_begin),
				(call_script, "script_cf_array_is_array", ":script_param_1"),
				(call_script, "script_array_destroy_sub_arrays", ":script_param_1"),
				(remove_party, ":script_param_1"),
				(eq, 0, 1),
				(assign, reg0, ":script_param_1"),
				(display_log_message, "@array[{reg0}] destroyed"),
			(try_end)
		]),

	("cf_array_is_array",
		[
			(store_script_param_1, ":script_param_1"),
			(party_slot_eq, ":script_param_1", 997, 65534)
		]),

	("array_get_owner",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_slot, reg0, ":script_param_1", 998)
		]),

	("array_get_version",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_slot, reg0, ":script_param_1", 996)
		]),

	("array_set_owner",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(try_begin),
				(call_script, "script_cf_array_is_array", ":script_param_1"),
				(party_set_slot, ":script_param_1", 998, ":script_param_2"),
			(try_end)
		]),

	("array_clear",
		[
			(store_script_param_1, ":script_param_1"),
			(party_set_slot, ":script_param_1", 999, 0)
		]),

	("array_get_size",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_slot, reg0, ":script_param_1", 999)
		]),

	("cf_array_get_element",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_2", 0),
			(gt, ":script_param_1_999", ":script_param_2"),
			(val_add, ":script_param_2", 1000),
			(party_get_slot, reg0, ":script_param_1", ":script_param_2")
		]),

	("cf_array_set_element",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_2", 0),
			(gt, ":script_param_1_999", ":script_param_2"),
			(val_add, ":script_param_2", 1000),
			(party_set_slot, ":script_param_1", ":script_param_2", ":script_param_3")
		]),

	("array_get_element",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(try_begin),
				(ge, ":script_param_2", 0),
				(gt, ":script_param_1_999", ":script_param_2"),
				(val_add, ":script_param_2", 1000),
				(party_get_slot, reg0, ":script_param_1", ":script_param_2"),
			(else_try),
				(store_script_param, reg0, 3),
			(try_end)
		]),

	("array_set_element",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(try_begin),
				(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
				(ge, ":script_param_2", 0),
				(gt, ":script_param_1_999", ":script_param_2"),
				(val_add, ":script_param_2", 1000),
				(party_set_slot, ":script_param_1", ":script_param_2", ":script_param_3"),
			(try_end)
		]),

	("array_pushback",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(store_add, ":value", ":script_param_1_999", 1000),
			(party_set_slot, ":script_param_1", ":value", ":script_param_2"),
			(val_add, ":script_param_1_999", 1),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999")
		]),

	("array_pushfront",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(val_sub, ":script_param_1_999", 1),
			(call_script, "script_array_p_shift_range", ":script_param_1", 0, ":script_param_1_999", 1, ":script_param_2"),
			(val_add, ":script_param_1_999", 1),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999")
		]),

	("cf_array_popback",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_1_999", 0),
			(val_sub, ":script_param_1_999", 1),
			(store_add, ":value", ":script_param_1_999", 1000),
			(party_get_slot, reg0, ":script_param_1", ":value"),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999")
		]),

	("cf_array_popfront",
		[
			(store_script_param_1, ":script_param_1"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_1_999", 0),
			(party_get_slot, ":script_param_1_1000", ":script_param_1", 1000),
			(call_script, "script_array_remove", ":script_param_1", 0),
			(val_sub, ":script_param_1_999", 1),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999"),
			(assign, reg0, ":script_param_1_1000")
		]),

	("cf_array_insert",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_2", 0),
			(ge, ":script_param_1_999", ":script_param_2"),
			(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", 1, ":script_param_3"),
			(val_add, ":script_param_1_999", 1),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999")
		]),

	("cf_array_insert_n",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_2", 0),
			(ge, ":script_param_4", 0),
			(ge, ":script_param_1_999", ":script_param_2"),
			(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", ":script_param_4", ":script_param_3"),
			(val_add, ":script_param_1_999", ":script_param_4"),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999")
		]),

	("cf_array_remove",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_2", 0),
			(gt, ":script_param_1_999", ":script_param_2"),
			(val_add, ":script_param_2", 1),
			(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", -1, 0),
			(val_sub, ":script_param_1_999", 1),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999")
		]),

	("cf_array_remove_n",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(ge, ":script_param_2", 0),
			(ge, ":script_param_3", 0),
			(gt, ":script_param_1_999", ":script_param_2"),
			(val_add, ":script_param_2", ":script_param_3"),
			(store_sub, ":value", 0, ":script_param_3"),
			(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", ":value", 0),
			(val_sub, ":script_param_1_999", ":script_param_3"),
			(party_set_slot, ":script_param_1", 999, ":script_param_1_999")
		]),

	("array_insert",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(try_begin),
				(ge, ":script_param_2", 0),
				(ge, ":script_param_1_999", ":script_param_2"),
				(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", 1, ":script_param_3"),
				(val_add, ":script_param_1_999", 1),
				(party_set_slot, ":script_param_1", 999, ":script_param_1_999"),
			(try_end)
		]),

	("array_insert_n",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(try_begin),
				(ge, ":script_param_2", 0),
				(ge, ":script_param_4", 0),
				(ge, ":script_param_1_999", ":script_param_2"),
				(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", ":script_param_4", ":script_param_3"),
				(val_add, ":script_param_1_999", ":script_param_4"),
				(party_set_slot, ":script_param_1", 999, ":script_param_1_999"),
			(try_end)
		]),

	("array_remove",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(try_begin),
				(ge, ":script_param_2", 0),
				(gt, ":script_param_1_999", ":script_param_2"),
				(val_add, ":script_param_2", 1),
				(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", -1, 0),
				(val_sub, ":script_param_1_999", 1),
				(party_set_slot, ":script_param_1", 999, ":script_param_1_999"),
			(try_end)
		]),

	("array_remove_n",
		[
			(store_script_param_1, ":script_param_1"),
			(store_script_param_2, ":script_param_2"),
			(store_script_param, ":script_param_3", 3),
			(party_get_slot, ":script_param_1_999", ":script_param_1", 999),
			(try_begin),
				(ge, ":script_param_2", 0),
				(ge, ":script_param_3", 0),
				(gt, ":script_param_1_999", ":script_param_2"),
				(val_add, ":script_param_2", ":script_param_3"),
				(store_sub, ":value", 0, ":script_param_3"),
				(call_script, "script_array_p_shift_range", ":script_param_1", ":script_param_2", ":script_param_1_999", ":value", 0),
				(val_sub, ":script_param_1_999", ":script_param_3"),
				(party_set_slot, ":script_param_1", 999, ":script_param_1_999"),
			(try_end)
		]),

	("array_destroy_sub_arrays",
		[
			(store_script_param_1, ":script_param_1"),
			(try_for_parties, ":var_2"),
				(call_script, "script_cf_array_is_array", ":var_2"),
				(call_script, "script_array_get_owner", ":var_2"),
				(eq, ":script_param_1", reg0),
				(call_script, "script_array_destroy", ":var_2"),
			(try_end)
		]),

	("array_p_shift_range",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(val_add, ":script_param_3", 1),
			(try_begin),
				(eq, 0, 1),
				(assign, reg21, ":script_param_1"),
				(assign, reg22, ":script_param_2"),
				(assign, reg23, ":script_param_3"),
				(assign, reg24, ":script_param_4"),
				(assign, reg25, ":script_param_5"),
				(display_debug_message, "@array p shift range array={reg21}, start index={reg22}, end index={reg23}, shift offset={reg24}, default value={reg25}"),
			(try_end),
			(store_add, ":value", ":script_param_2", ":script_param_4"),
			(store_add, ":value_2", ":script_param_3", ":script_param_4"),
			(try_begin),
				(gt, ":script_param_4", 0),
				(try_for_range_backwards, ":value_3", ":script_param_2", ":script_param_3"),
					(store_add, ":value_4", ":value_3", 1000),
					(party_get_slot, ":script_param_1_value_4", ":script_param_1", ":value_4"),
					(store_add, ":value_5", ":value_4", ":script_param_4"),
					(party_set_slot, ":script_param_1", ":value_5", ":script_param_1_value_4"),
					(try_begin),
						(gt, ":value", ":value_3"),
						(party_set_slot, ":script_param_1", ":value_4", ":script_param_5"),
					(try_end),
				(try_end),
			(else_try),
				(gt, 0, ":script_param_4"),
				(try_for_range, ":value_3", ":script_param_2", ":script_param_3"),
					(try_begin),
						(store_add, ":value_6", ":value_3", 1000),
						(ge, ":value_6", 0),
						(store_add, ":value_4", ":value_3", 1000),
						(party_get_slot, ":script_param_1_value_4", ":script_param_1", ":value_4"),
						(store_add, ":value_5", ":value_4", ":script_param_4"),
						(party_set_slot, ":script_param_1", ":value_5", ":script_param_1_value_4"),
						(try_begin),
							(ge, ":value_3", ":value_2"),
							(party_set_slot, ":script_param_1", ":value_4", ":script_param_5"),
						(try_end),
					(try_end),
				(try_end),
			(try_end)
		]),

	("gpu_create_mesh",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_fixed_point_multiplier, 1000),
			(create_mesh_overlay, reg1, ":script_param_1"),
			(position_set_x, 1, ":script_param_2"),
			(position_set_y, 1, ":script_param_3"),
			(overlay_set_position, reg1, 1),
			(position_set_x, 2, ":script_param_4"),
			(position_set_y, 2, ":script_param_5"),
			(overlay_set_size, reg1, 2)
		]),

	("gpu_create_slider",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_script_param, ":script_param_6", 6),
			(set_fixed_point_multiplier, 1000),
			(store_add, ":value", ":script_param_4", 0),
			(position_set_y, 1, ":value"),
			(store_add, ":value_2", ":script_param_3", 125),
			(position_set_x, 1, ":value_2"),
			(create_slider_overlay, reg1, ":script_param_1", ":script_param_2"),
			(troop_set_slot, "$gpu_storage", ":script_param_5", reg1),
			(overlay_set_position, reg1, 1),
			(troop_get_slot, ":gpu_data_script_param_6", "$gpu_data", ":script_param_6"),
			(overlay_set_val, reg1, ":gpu_data_script_param_6")
		]),

	("gpu_create_button",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(set_fixed_point_multiplier, 1000),
			(create_button_overlay, reg1, ":script_param_1"),
			(position_set_x, 1, ":script_param_2"),
			(position_set_y, 1, ":script_param_3"),
			(overlay_set_position, reg1, 1),
			(troop_set_slot, "$gpu_storage", ":script_param_4", reg1)
		]),

	("gpu_create_game_button",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(set_fixed_point_multiplier, 1000),
			(create_game_button_overlay, reg1, ":script_param_1"),
			(position_set_x, 1, ":script_param_2"),
			(position_set_y, 1, ":script_param_3"),
			(overlay_set_position, reg1, 1),
			(troop_set_slot, "$gpu_storage", ":script_param_4", reg1)
		]),

	("gpu_create_text_label",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(try_begin),
				(eq, ":script_param_5", 1),
				(create_text_overlay, reg1, ":script_param_1", 69648),
			(else_try),
				(eq, ":script_param_5", 2),
				(create_text_overlay, reg1, ":script_param_1", 4112),
			(else_try),
				(eq, ":script_param_5", 3),
				(create_text_overlay, reg1, ":script_param_1", 69636),
			(else_try),
				(eq, ":script_param_5", 4),
				(create_text_overlay, reg1, ":script_param_1", 4100),
			(else_try),
				(eq, ":script_param_5", 5),
				(create_text_overlay, reg1, ":script_param_1", 69640),
			(else_try),
				(eq, ":script_param_5", 6),
				(create_text_overlay, reg1, ":script_param_1", 4104),
			(try_end),
			(position_set_x, 1, ":script_param_2"),
			(position_set_y, 1, ":script_param_3"),
			(overlay_set_position, reg1, 1),
			(troop_set_slot, "$gpu_storage", ":script_param_4", reg1),
			(try_begin),
				(ge, 0, 1),
				(assign, reg31, reg1),
				(assign, reg32, ":script_param_4"),
				(str_store_string, 31, ":script_param_1"),
				(display_message, "@DEBUG (GPU): Label '{s31}' stored in slot {reg32}, value {reg31}."),
			(try_end)
		]),

	("gpu_create_checkbox",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_add, ":value", ":script_param_1", 20),
			(position_set_x, 1, ":value"),
			(store_add, ":value_2", ":script_param_2", 10),
			(position_set_y, 1, ":value_2"),
			(create_text_overlay, reg1, ":script_param_3", 4100),
			(overlay_set_position, reg1, 1),
			(store_add, ":value_3", ":script_param_1", 0),
			(position_set_x, 1, ":value_3"),
			(store_add, ":value_4", ":script_param_2", 5),
			(position_set_y, 1, ":value_4"),
			(create_check_box_overlay, reg1, "mesh_checkbox_off", "mesh_checkbox_on"),
			(overlay_set_position, reg1, 1),
			(troop_set_slot, "$gpu_storage", ":script_param_4", reg1),
			(troop_get_slot, ":gpu_data_script_param_5", "$gpu_data", ":script_param_5"),
			(overlay_set_val, reg1, ":gpu_data_script_param_5")
		]),

	("gpu_create_checkbox_white",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(store_add, ":value", ":script_param_1", 20),
			(position_set_x, 1, ":value"),
			(store_add, ":value_2", ":script_param_2", 10),
			(position_set_y, 1, ":value_2"),
			(create_text_overlay, reg1, ":script_param_3", 69636),
			(overlay_set_position, reg1, 1),
			(overlay_set_color, reg1, 4294967295),
			(store_add, ":value_3", ":script_param_1", 0),
			(position_set_x, 1, ":value_3"),
			(store_add, ":value_4", ":script_param_2", 5),
			(position_set_y, 1, ":value_4"),
			(create_check_box_overlay, reg1, "mesh_checkbox_off", "mesh_checkbox_on"),
			(overlay_set_position, reg1, 1),
			(troop_set_slot, "$gpu_storage", ":script_param_4", reg1),
			(troop_get_slot, ":gpu_data_script_param_5", "$gpu_data", ":script_param_5"),
			(overlay_set_val, reg1, ":gpu_data_script_param_5")
		]),

	("gpu_resize_object",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(val_mul, ":script_param_2", 10),
			(troop_get_slot, ":gpu_storage_script_param_1", "$gpu_storage", ":script_param_1"),
			(position_set_x, 3, ":script_param_2"),
			(position_set_y, 3, ":script_param_2"),
			(overlay_set_size, ":gpu_storage_script_param_1", 3)
		]),

	("gpu_change_color",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(troop_get_slot, ":gpu_storage_script_param_1", "$gpu_storage", ":script_param_1"),
			(overlay_set_color, ":gpu_storage_script_param_1", ":script_param_2")
		]),

	("gpu_create_portrait",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_fixed_point_multiplier, 1000),
			(create_mesh_overlay_with_tableau_material, reg1, -1, "tableau_troop_note_mesh", ":script_param_1"),
			(position_set_x, 2, ":script_param_2"),
			(position_set_y, 2, ":script_param_3"),
			(overlay_set_position, reg1, 2),
			(position_set_x, 3, ":script_param_4"),
			(position_set_y, 3, ":script_param_4"),
			(overlay_set_size, reg1, 3),
			(troop_set_slot, "$gpu_storage", ":script_param_5", reg1)
		]),

	("gpu_draw_line",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(create_mesh_overlay, reg1, "mesh_white_plane"),
			(val_mul, ":script_param_1", 50),
			(val_mul, ":script_param_2", 50),
			(position_set_x, 1, ":script_param_1"),
			(position_set_y, 1, ":script_param_2"),
			(overlay_set_size, reg1, 1),
			(position_set_x, 1, ":script_param_3"),
			(position_set_y, 1, ":script_param_4"),
			(overlay_set_position, reg1, 1),
			(overlay_set_color, reg1, ":script_param_5"),
			(troop_set_slot, "$gpu_storage", slot_troop_relations_begin, reg1)
		]),

	("gpu_container_heading",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(str_clear, 0),
			(create_text_overlay, reg1, 0, 131072),
			(position_set_x, 1, ":script_param_1"),
			(position_set_y, 1, ":script_param_2"),
			(overlay_set_position, reg1, 1),
			(position_set_x, 1, ":script_param_3"),
			(position_set_y, 1, ":script_param_4"),
			(overlay_set_area_size, reg1, 1),
			(set_container_overlay, reg1),
			(troop_set_slot, "$gpu_storage", ":script_param_5", reg1)
		]),

	("gpu_prsnt_panel_color_chooser",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(set_fixed_point_multiplier, 1000),
			(try_begin),
				(eq, "$gpu_ccp_mode", 1),
				(store_add, ":value", ":script_param_1", 220),
				(assign, ":var_4", 25),
				(store_add, ":value_2", ":script_param_1", 10),
				(store_sub, ":value_3", ":script_param_2", 10),
				(store_sub, ":value_4", ":value_3", ":var_4"),
				(store_sub, ":value_5", ":value_4", ":var_4"),
				(store_sub, ":value_6", ":value_5", ":var_4"),
				(store_sub, ":value_7", ":value_6", 12),
				(store_sub, ":value_8", ":value_6", ":var_4"),
				(store_sub, ":value_9", ":value_8", 12),
				(store_sub, ":value_10", ":value_8", ":var_4"),
				(store_sub, ":value_11", ":value_10", 12),
				(store_sub, ":value_12", ":value_10", ":var_4"),
				(store_sub, ":value_13", ":value_12", 12),
				(store_sub, ":value_14", ":value_12", ":var_4"),
				(store_sub, ":value_15", ":value_14", ":var_4"),
				(store_sub, ":value_16", ":value_15", 12),
				(store_sub, ":value_17", ":value_15", ":var_4"),
				(store_sub, ":value_18", ":value_17", 12),
				(store_sub, ":value_19", ":value_17", ":var_4"),
				(store_sub, ":value_20", ":value_19", ":var_4"),
				(store_sub, ":value_21", ":value_20", 12),
				(store_sub, ":value_22", ":value_20", ":var_4"),
				(store_sub, ":value_23", ":value_22", 12),
				(store_sub, ":value_24", ":value_22", 52),
				(store_sub, ":value_25", ":value_24", 10),
				(store_add, ":value_26", ":script_param_1", 205),
				(store_add, ":value_27", ":script_param_1", 55),
				(store_sub, ":value_28", ":value", ":script_param_1"),
				(store_sub, ":value_29", ":script_param_2", ":value_25"),
				(store_add, ":value_30", ":value_29", 2),
				(call_script, "script_gpu_draw_line", ":value_28", ":value_29", ":script_param_1", ":value_25", 3289650),
				(call_script, "script_gpu_draw_line", ":value_28", 2, ":script_param_1", ":script_param_2", 4278190080),
				(call_script, "script_gpu_draw_line", ":value_28", 2, ":script_param_1", ":value_25", 4278190080),
				(call_script, "script_gpu_draw_line", 2, ":value_29", ":script_param_1", ":value_25", 4278190080),
				(call_script, "script_gpu_draw_line", 2, ":value_30", ":value", ":value_25", 4278190080),
				(assign, reg0, "$gpu_object"),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_3", 324, 6),
				(call_script, "script_gpu_resize_object", 324, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_object_selected", ":value_2", ":value_3", 306, 4),
				(call_script, "script_gpu_resize_object", 306, 50),
				(mouse_get_position, 1),
				(position_get_x, reg1, 1),
				(position_get_y, reg2, 1),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg1_reg2_pos", ":value_26", ":value_4", 302, 6),
				(call_script, "script_gpu_resize_object", 302, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_current_position", ":value_2", ":value_4", 303, 4),
				(call_script, "script_gpu_resize_object", 303, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_rgb", ":value_2", ":value_5", 300, 4),
				(call_script, "script_gpu_resize_object", 300, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_5", 318, 6),
				(call_script, "script_gpu_merge_color"),
				(call_script, "script_gpu_resize_object", 318, 50),
				(call_script, "script_gpu_create_slider", 0, 255, ":value_27", ":value_7", 326, 307),
				(call_script, "script_gpu_resize_object", 326, 50),
				(troop_get_slot, reg0, "$gpu_storage", 307),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_6", 329, 6),
				(call_script, "script_gpu_resize_object", 329, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_red", ":value_2", ":value_6", 310, 4),
				(call_script, "script_gpu_resize_object", 310, 50),
				(call_script, "script_gpu_create_slider", 0, 255, ":value_27", ":value_9", 327, 308),
				(call_script, "script_gpu_resize_object", 327, 50),
				(troop_get_slot, reg0, "$gpu_storage", 308),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_8", 330, 6),
				(call_script, "script_gpu_resize_object", 330, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_green", ":value_2", ":value_8", 311, 4),
				(call_script, "script_gpu_resize_object", 311, 50),
				(call_script, "script_gpu_create_slider", 0, 255, ":value_27", ":value_11", 328, 309),
				(call_script, "script_gpu_resize_object", 328, 50),
				(troop_get_slot, reg0, "$gpu_storage", 309),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_10", 331, 6),
				(call_script, "script_gpu_resize_object", 331, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_blue", ":value_2", ":value_10", 312, 4),
				(call_script, "script_gpu_resize_object", 312, 50),
				(call_script, "script_gpu_create_slider", 0, 255, ":value_27", ":value_13", 332, 325),
				(call_script, "script_gpu_resize_object", 332, 50),
				(troop_get_slot, reg0, "$gpu_storage", 325),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_12", 313, 6),
				(call_script, "script_gpu_resize_object", 313, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_alpha", ":value_2", ":value_12", 314, 4),
				(call_script, "script_gpu_resize_object", 314, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_movement", ":value_2", ":value_14", 323, 4),
				(call_script, "script_gpu_resize_object", 323, 50),
				(call_script, "script_gpu_create_slider", 0, 1000, ":value_27", ":value_16", 333, 319),
				(call_script, "script_gpu_resize_object", 333, 50),
				(troop_get_slot, reg0, "$gpu_storage", 319),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_15", 321, 6),
				(call_script, "script_gpu_resize_object", 321, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_x_pos", ":value_2", ":value_15", 315, 4),
				(call_script, "script_gpu_resize_object", 315, 50),
				(call_script, "script_gpu_create_slider", 0, 800, ":value_27", ":value_18", 334, 320),
				(call_script, "script_gpu_resize_object", 334, 50),
				(troop_get_slot, reg0, "$gpu_storage", 320),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_17", 322, 6),
				(call_script, "script_gpu_resize_object", 322, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_y_pos", ":value_2", ":value_17", 316, 4),
				(call_script, "script_gpu_resize_object", 316, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_resizing", ":value_2", ":value_19", 317, 4),
				(call_script, "script_gpu_resize_object", 317, 50),
				(call_script, "script_gpu_create_slider", 0, 300, ":value_27", ":value_21", 335, 304),
				(call_script, "script_gpu_resize_object", 335, 50),
				(troop_get_slot, reg0, "$gpu_storage", 319),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_20", 337, 6),
				(call_script, "script_gpu_resize_object", 337, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_x_size", ":value_2", ":value_20", 339, 4),
				(call_script, "script_gpu_resize_object", 339, 50),
				(call_script, "script_gpu_create_slider", 0, 300, ":value_27", ":value_23", 336, 305),
				(call_script, "script_gpu_resize_object", 336, 50),
				(troop_get_slot, reg0, "$gpu_storage", 320),
				(call_script, "script_gpu_create_text_label", "str_kmt_reg0", ":value_26", ":value_22", 338, 6),
				(call_script, "script_gpu_resize_object", 338, 50),
				(call_script, "script_gpu_create_text_label", "str_kmt_title_y_size", ":value_2", ":value_22", 340, 4),
				(call_script, "script_gpu_resize_object", 340, 50),
				(call_script, "script_gpu_create_button", "str_kmt_undo", ":value_2", ":value_24", 341),
				(store_add, ":value_31", ":script_param_1", 152),
				(call_script, "script_gpu_create_button", "str_kmt_hide", ":value_31", ":value_24", 342),
			(else_try),
				(call_script, "script_gpu_create_button", "str_kmt_show", ":value_31", ":value_24", 343),
				(position_set_x, 1, 50),
				(position_set_y, 1, 50),
				(overlay_set_position, reg1, 1),
			(try_end)
		]),

	("gpu_events_panel_color_chooser",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(assign, ":value", 0),
			(troop_set_slot, "$gpu_storage", slot_troop_relations_begin, "$gpu_object"),
			(try_begin),
				(troop_slot_eq, "$gpu_storage", 326, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 307, ":script_param_2"),
				(call_script, "script_gpu_merge_color"),
				(call_script, "script_gpu_change_color", 0, reg0),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 329),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 327, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 308, ":script_param_2"),
				(call_script, "script_gpu_merge_color"),
				(call_script, "script_gpu_change_color", 0, reg0),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 330),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 328, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 309, ":script_param_2"),
				(call_script, "script_gpu_merge_color"),
				(call_script, "script_gpu_change_color", 0, reg0),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 331),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 332, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 325, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_relations_begin", "$gpu_storage", slot_troop_relations_begin),
				(overlay_set_alpha, ":gpu_storage_relations_begin", ":script_param_2"),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 313),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 333, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 319, ":script_param_2"),
				(position_set_x, 1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_320", "$gpu_storage", 320),
				(position_set_y, 1, ":gpu_storage_320"),
				(overlay_set_position, "$gpu_object", 1),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 321),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 334, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 320, ":script_param_2"),
				(position_set_y, 1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_319", "$gpu_storage", 319),
				(position_set_x, 1, ":gpu_storage_319"),
				(overlay_set_position, "$gpu_object", 1),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 322),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 335, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 319, ":script_param_2"),
				(store_mul, ":gpu_storage_319", ":script_param_2", 10),
				(position_set_x, 1, ":gpu_storage_319"),
				(troop_get_slot, ":gpu_storage_320", "$gpu_storage", 305),
				(val_mul, ":gpu_storage_320", 10),
				(position_set_y, 1, ":gpu_storage_320"),
				(overlay_set_size, "$gpu_object", 1),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 337),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 336, ":script_param_1"),
				(troop_set_slot, "$gpu_storage", 320, ":script_param_2"),
				(store_mul, ":gpu_storage_320", ":script_param_2", 10),
				(position_set_y, 1, ":gpu_storage_320"),
				(troop_get_slot, ":gpu_storage_319", "$gpu_storage", 304),
				(val_mul, ":gpu_storage_319", 10),
				(position_set_x, 1, ":gpu_storage_319"),
				(overlay_set_size, "$gpu_object", 1),
				(assign, reg1, ":script_param_2"),
				(troop_get_slot, ":gpu_storage_329", "$gpu_storage", 338),
				(overlay_set_text, ":gpu_storage_329", "@{reg1}"),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 342, ":script_param_1"),
				(assign, "$gpu_ccp_mode", 0),
				(assign, ":value", 1),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 343, ":script_param_1"),
				(assign, "$gpu_ccp_mode", 1),
				(assign, ":value", 1),
			(else_try),
				(troop_slot_eq, "$gpu_storage", 341, ":script_param_1"),
				(assign, ":value", 1),
			(try_end),
			(assign, reg0, ":value")
		]),

	("gpu_mouseclick_panel_color_chooser",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(try_begin),
				(neq, "$gpu_ccp_mode", 0),
				(mouse_get_position, 1),
				(position_get_x, reg1, 1),
				(position_get_y, reg2, 1),
				(troop_get_slot, ":gpu_storage_302", "$gpu_storage", 302),
				(overlay_set_text, ":gpu_storage_302", "@( {reg1}, {reg2} )"),
				(eq, ":script_param_2", 1),
				(assign, "$gpu_object", ":script_param_1"),
				(troop_set_slot, "$gpu_storage", slot_troop_relations_begin, ":script_param_1"),
				(troop_get_slot, ":gpu_storage_302", "$gpu_storage", 324),
				(assign, reg1, "$gpu_object"),
				(overlay_set_text, ":gpu_storage_302", "@{reg1}"),
				(troop_set_slot, "$gpu_storage", 304, 100),
				(troop_set_slot, "$gpu_storage", 305, 100),
				(overlay_get_position, 2, ":script_param_1"),
				(position_get_x, reg1, 2),
				(position_get_y, reg2, 2),
				(troop_set_slot, "$gpu_storage", 319, reg1),
				(troop_set_slot, "$gpu_storage", 320, reg2),
				(troop_get_slot, ":gpu_storage_333", "$gpu_storage", 333),
				(troop_get_slot, ":gpu_storage_321", "$gpu_storage", 321),
				(overlay_set_val, ":gpu_storage_333", reg1),
				(overlay_set_text, ":gpu_storage_321", "@{reg1}"),
				(troop_get_slot, ":gpu_storage_334", "$gpu_storage", 334),
				(troop_get_slot, ":gpu_storage_322", "$gpu_storage", 322),
				(overlay_set_val, ":gpu_storage_334", reg2),
				(overlay_set_text, ":gpu_storage_322", "@{reg2}"),
			(try_end)
		]),

	("gpu_merge_color",
		[
			(troop_get_slot, ":gpu_storage_307", "$gpu_storage", 307),
			(troop_get_slot, ":gpu_storage_308", "$gpu_storage", 308),
			(troop_get_slot, ":gpu_storage_309", "$gpu_storage", 309),
			(store_div, ":value", ":gpu_storage_307", 16),
			(store_mod, ":value_2", ":gpu_storage_307", 16),
			(store_div, ":value_3", ":gpu_storage_308", 16),
			(store_mod, ":value_4", ":gpu_storage_308", 16),
			(store_div, ":value_5", ":gpu_storage_309", 16),
			(store_mod, ":value_6", ":gpu_storage_309", 16),
			(assign, ":var_10", 0),
			(val_add, ":var_10", ":value_6"),
			(store_mul, ":value_7", ":value_5", 16),
			(val_add, ":var_10", ":value_7"),
			(store_mul, ":value_8", ":value_4", 256),
			(val_add, ":var_10", ":value_8"),
			(store_mul, ":value_9", ":value_3", 4096),
			(val_add, ":var_10", ":value_9"),
			(store_mul, ":value_10", ":value_2", 65536),
			(val_add, ":var_10", ":value_10"),
			(store_mul, ":value_11", ":value", 1048576),
			(val_add, ":var_10", ":value_11"),
			(assign, reg0, ":var_10"),
			(troop_get_slot, ":gpu_storage_318", "$gpu_storage", 318),
			(overlay_set_text, ":gpu_storage_318", "@{reg0}")
		]),

	("kmt_create_mesh",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(store_script_param, ":script_param_4", 4),
			(store_script_param, ":script_param_5", 5),
			(set_fixed_point_multiplier, 1000),
			(create_mesh_overlay, reg0, ":script_param_1"),
			(position_set_x, 1, ":script_param_2"),
			(position_set_y, 1, ":script_param_3"),
			(overlay_set_position, reg0, 1),
			(position_set_x, 2, ":script_param_4"),
			(position_set_y, 2, ":script_param_5"),
			(overlay_set_size, reg0, 2)
		]),

	("ccp_default_settings",
		[
			(assign, "$character_gender", 0),
			(assign, "$background_type", 6),
			(assign, "$background_answer_2", 8),
			(assign, "$background_answer_3", 0),
			(assign, "$background_answer_4", 5),
			(assign, "$g_gether_npcs", 0),
			(assign, "$troop_trees", "trp_troop_tree_2"),
			(troop_set_slot, "trp_tpe_presobj", slot_troop_age, "trp_troop_tree_2")
		]),

	("ccp_end_presentation_begin_game",
		[
			(call_script, "script_initialize_troop_tree_sets"),
			(try_begin),
				(eq, "$g_fog", 1),
				(try_for_range, ":party", "p_town_1", "p_bridge_14"),
					(party_set_slot, ":party", 454, 0),
					(party_set_flags, ":party", 16384, 0),
				(try_end),
			(try_end),
			(assign, "$g_date", 0),
			(call_script, "script_ccp_generate_skill_set", 1),
			(try_begin),
				(eq, "$character_gender", 0),
				(troop_set_type, "trp_player", 0),
			(else_try),
				(eq, "$character_gender", 1),
				(troop_set_type, "trp_player", 1),
			(try_end),
			(try_for_range, ":number", 0, 400),
				(troop_set_slot, "trp_tpe_presobj", ":number", 0),
				(troop_set_slot, "trp_tpe_xp_table", ":number", 0),
			(try_end),
			(try_begin),
				(eq, "$background_type", 6),
				(assign, "$player_needs_a_banner", 1),
			(else_try),
				(assign, "$player_needs_a_banner", 0),
			(try_end)
		]),

	("ccp_add_item",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(is_between, ":script_param_1", "itm_tutorial_spear", "itm_items_end"),
				(assign, ":value", 0),
			(else_try),
				(assign, ":value", 1),
				(display_message, "@ERROR (CCP): An invalid item was detected and will not be stored."),
			(try_end),
			(try_for_range, ":number", 100, 121),
				(eq, ":value", 0),
				(troop_slot_eq, "trp_tpe_xp_table", ":number", 0),
				(troop_set_slot, "trp_tpe_xp_table", ":number", ":script_param_1"),
				(assign, ":value", 1),
				(ge, 0, 2),
				(assign, reg31, ":number"),
				(str_store_item_name, 31, ":script_param_1"),
				(display_message, "@DEBUG (CCP): Item '{s31}' successfully stored in slot {reg31}."),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(ge, 0, 1),
				(display_message, "@DEBUG (CCP): There was no valid spot to place this item."),
			(try_end)
		]),

	("ccp_remove_item",
		[
			(store_script_param, ":script_param_1", 1),
			(try_begin),
				(is_between, ":script_param_1", "itm_tutorial_spear", "itm_items_end"),
				(assign, ":value", 0),
			(else_try),
				(assign, ":value", 1),
				(display_message, "@ERROR (CCP): An invalid item was detected and will not be removed."),
			(try_end),
			(try_for_range, ":number", 100, 121),
				(eq, ":value", 0),
				(troop_slot_eq, "trp_tpe_xp_table", ":number", ":script_param_1"),
				(troop_set_slot, "trp_tpe_xp_table", ":number", 0),
				(assign, ":value", 1),
				(ge, 0, 2),
				(assign, reg31, ":number"),
				(str_store_item_name, 31, ":script_param_1"),
				(display_message, "@DEBUG (CCP): Item '{s31}' successfully removed from slot {reg31}."),
			(try_end),
			(try_begin),
				(eq, ":value", 0),
				(ge, 0, 1),
				(str_store_item_name, 31, ":script_param_1"),
				(display_message, "@DEBUG (CCP): The player did not have a '{s31}'."),
			(try_end)
		]),

	("ccp_add_skill_display",
		[
			(store_script_param, ":script_param_1", 1),
			(store_script_param, ":script_param_2", 2),
			(store_script_param, ":script_param_3", 3),
			(assign, ":var_4", 300),
			(store_mul, ":value", ":script_param_3", 25),
			(val_sub, ":var_4", ":value"),
			(assign, reg2, ":script_param_2"),
			(create_text_overlay, reg1, "@+{reg2}", 69640),
			(position_set_x, 1, 120),
			(position_set_y, 1, ":var_4"),
			(overlay_set_position, reg1, 1),
			(overlay_set_color, reg1, 4294967295),
			(position_set_x, 2, 750),
			(position_set_y, 2, 750),
			(overlay_set_size, reg1, 2),
			(create_text_overlay, reg1, ":script_param_1", 69636),
			(position_set_x, 1, 110),
			(position_set_y, 1, ":var_4"),
			(overlay_set_position, reg1, 1),
			(overlay_set_color, reg1, 4294967295),
			(overlay_set_size, reg1, 2)
		]),

	("ccp_initialize_faction_items",
		[
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_honorific, "itm_trade_tools"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_string_1, "itm_trade_iron"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_string_2, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_string_2a, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_string_2b, "itm_trade_bread"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_string_3, "itm_trade_bread"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_objection_string, "itm_bo_vae_t2_shoes"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_intel_gathering_string, "itm_bo_vae_t2_shoes"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_fief_acceptance_string, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_woman_to_woman_string, "itm_peasant_man_b"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_turn_against_string, "itm_peasant_man_b"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_strings_end, "itm_peasant_man_b"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_state, "itm_ga_rho_a2_leather"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_argument, "itm_he_swa_t1_common_a"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_opponent, "itm_he_rho_t2_beret_a"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_kingsupport_objection_state, "itm_nomad_cap_b_new"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_player_routed_agents, "itm_we_swa_axe_hatchet"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_ally_routed_agents, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_enemy_routed_agents, "itm_cool_dagger"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_mission_participation, "itm_cool_dagger"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_days_on_mission, "itm_sword_rusty_a"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_current_mission, "itm_witcher_worn_shield"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_mission_object, "itm_we_khe_throw_stone"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_recent_offense_time, "itm_we_khe_throw_stone"),
			(troop_set_slot, "trp_tpe_xp_table", 160, "itm_trade_furs"),
			(troop_set_slot, "trp_tpe_xp_table", slot_troop_will_join_prison_break, "itm_trade_raw_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 162, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 163, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 164, "itm_sh_khe_rou_plain"),
			(troop_set_slot, "trp_tpe_xp_table", 165, "itm_sh_khe_rou_plain"),
			(troop_set_slot, "trp_tpe_xp_table", 166, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 167, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 168, "itm_bo_vae_t2_shoes"),
			(troop_set_slot, "trp_tpe_xp_table", 169, "itm_ar_pla_t6_heraldic_a"),
			(troop_set_slot, "trp_tpe_xp_table", 170, "itm_nord_dress_common_b"),
			(troop_set_slot, "trp_tpe_xp_table", 171, "itm_peasant_man_b"),
			(troop_set_slot, "trp_tpe_xp_table", 172, "itm_ga_rho_a2_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 173, "itm_he_khe_t2_steppe_a"),
			(troop_set_slot, "trp_tpe_xp_table", 174, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 175, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 176, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 177, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 178, "itm_we_vae_sword_sickle"),
			(troop_set_slot, "trp_tpe_xp_table", 179, "itm_we_vae_spear_scythe"),
			(troop_set_slot, "trp_tpe_xp_table", 180, "itm_we_vae_sword_sickle"),
			(troop_set_slot, "trp_tpe_xp_table", 181, "itm_we_vae_bow_hunting"),
			(troop_set_slot, "trp_tpe_xp_table", 182, "itm_normal_arrows"),
			(troop_set_slot, "trp_tpe_xp_table", 183, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 190, "itm_trade_spice"),
			(troop_set_slot, "trp_tpe_xp_table", 191, "itm_trade_pottery"),
			(troop_set_slot, "trp_tpe_xp_table", 192, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 193, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 194, "itm_sh_khe_rou_old"),
			(troop_set_slot, "trp_tpe_xp_table", 195, "itm_sh_khe_rou_plain"),
			(troop_set_slot, "trp_tpe_xp_table", 196, "itm_bo_khe_t0_sandal"),
			(troop_set_slot, "trp_tpe_xp_table", 197, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 198, "itm_bo_khe_t2_boots"),
			(troop_set_slot, "trp_tpe_xp_table", 199, "itm_ar_swa_shi_linen"),
			(troop_set_slot, "trp_tpe_xp_table", 200, "itm_nord_dress_common_b"),
			(troop_set_slot, "trp_tpe_xp_table", 201, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 202, "itm_ga_rho_a2_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 203, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 204, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 205, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 206, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 207, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 208, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 209, "itm_we_vae_spear_polehammer"),
			(troop_set_slot, "trp_tpe_xp_table", 210, "itm_crossbow_f_simple_1"),
			(troop_set_slot, "trp_tpe_xp_table", 211, "itm_crossbow_f_simple_1"),
			(troop_set_slot, "trp_tpe_xp_table", 212, "itm_normal_arrows"),
			(troop_set_slot, "trp_tpe_xp_table", 213, "itm_we_khe_throw_stone"),
			(troop_set_slot, "trp_tpe_xp_table", 220, "itm_trade_wool_cloth"),
			(troop_set_slot, "trp_tpe_xp_table", 221, "itm_trade_wool"),
			(troop_set_slot, "trp_tpe_xp_table", 222, "itm_ho_nor_mule"),
			(troop_set_slot, "trp_tpe_xp_table", 223, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 224, "itm_sh_nor_rou_small_b"),
			(troop_set_slot, "trp_tpe_xp_table", 225, "itm_sh_khe_rou_plain"),
			(troop_set_slot, "trp_tpe_xp_table", 226, "itm_ar_nor_shi_skjortira"),
			(troop_set_slot, "trp_tpe_xp_table", 227, "itm_ar_nor_shi_skjortira"),
			(troop_set_slot, "trp_tpe_xp_table", 228, "itm_ar_nor_shi_skjortira"),
			(troop_set_slot, "trp_tpe_xp_table", 229, "itm_ar_nor_shi_skjortira"),
			(troop_set_slot, "trp_tpe_xp_table", 230, "itm_peasant_man_b"),
			(troop_set_slot, "trp_tpe_xp_table", 231, "itm_ar_nor_shi_skjortira"),
			(troop_set_slot, "trp_tpe_xp_table", 232, "itm_ga_rho_a2_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 233, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 234, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 235, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 236, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 237, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 238, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 239, "itm_we_khe_spear_bamboolong"),
			(troop_set_slot, "trp_tpe_xp_table", 240, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 241, "itm_crossbow_f_simple_1"),
			(troop_set_slot, "trp_tpe_xp_table", 242, "itm_normal_arrows"),
			(troop_set_slot, "trp_tpe_xp_table", 243, "itm_we_sar_spear_javelin"),
			(troop_set_slot, "trp_tpe_xp_table", 250, "itm_trade_velvet"),
			(troop_set_slot, "trp_tpe_xp_table", 251, "itm_trade_raw_dyes"),
			(troop_set_slot, "trp_tpe_xp_table", 252, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 253, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 254, "itm_sh_vae_kit_heavy"),
			(troop_set_slot, "trp_tpe_xp_table", 255, "itm_sh_khe_rou_plain"),
			(troop_set_slot, "trp_tpe_xp_table", 256, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 257, "itm_bo_vae_t4_shoes"),
			(troop_set_slot, "trp_tpe_xp_table", 258, "itm_bo_vae_t4_shoes"),
			(troop_set_slot, "trp_tpe_xp_table", 259, "itm_archer_a"),
			(troop_set_slot, "trp_tpe_xp_table", 260, "itm_nord_dress_common_b"),
			(troop_set_slot, "trp_tpe_xp_table", 261, "itm_ar_swa_shi_linen"),
			(troop_set_slot, "trp_tpe_xp_table", 262, "itm_ga_rho_a2_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 263, "itm_he_nor_t1_common_a"),
			(troop_set_slot, "trp_tpe_xp_table", 264, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 265, "itm_he_swa_t2_coif_a"),
			(troop_set_slot, "trp_tpe_xp_table", 266, "itm_we_vae_spear_polehammer"),
			(troop_set_slot, "trp_tpe_xp_table", 267, "itm_we_vae_spear_polehammer"),
			(troop_set_slot, "trp_tpe_xp_table", 268, "itm_we_swa_sword_clamshell_claymore"),
			(troop_set_slot, "trp_tpe_xp_table", 269, "itm_we_vae_spear_polehammer"),
			(troop_set_slot, "trp_tpe_xp_table", 270, "itm_we_swa_sword_clamshell_claymore"),
			(troop_set_slot, "trp_tpe_xp_table", 271, "itm_crossbow_f_simple_1"),
			(troop_set_slot, "trp_tpe_xp_table", 272, "itm_bolt_f_simple"),
			(troop_set_slot, "trp_tpe_xp_table", 273, "itm_we_khe_throw_stone"),
			(troop_set_slot, "trp_tpe_xp_table", 280, "itm_trade_salt"),
			(troop_set_slot, "trp_tpe_xp_table", 281, "itm_trade_raw_date_fruit"),
			(troop_set_slot, "trp_tpe_xp_table", 282, "itm_ho_sar_camel_bactrian"),
			(troop_set_slot, "trp_tpe_xp_table", 283, "itm_ho_swa_saddle_black"),
			(troop_set_slot, "trp_tpe_xp_table", 284, "itm_sh_sar_rou_mamluk"),
			(troop_set_slot, "trp_tpe_xp_table", 285, "itm_sh_sar_rou_mamluk"),
			(troop_set_slot, "trp_tpe_xp_table", 286, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 287, "itm_bo_khe_t2_boots"),
			(troop_set_slot, "trp_tpe_xp_table", 288, "itm_bo_khe_t2_boots"),
			(troop_set_slot, "trp_tpe_xp_table", 289, "itm_archer_a"),
			(troop_set_slot, "trp_tpe_xp_table", 290, "itm_peasant_man_b"),
			(troop_set_slot, "trp_tpe_xp_table", 291, "itm_ga_swa_a6_plate"),
			(troop_set_slot, "trp_tpe_xp_table", 292, "itm_ga_rho_a2_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 293, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 294, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 295, "itm_bo_vae_t3_leather"),
			(troop_set_slot, "trp_tpe_xp_table", 296, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 297, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 298, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 299, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 300, "itm_medium_tier_sword_2"),
			(troop_set_slot, "trp_tpe_xp_table", 301, "itm_bow_f_hunting_bow"),
			(troop_set_slot, "trp_tpe_xp_table", 302, "itm_normal_arrows"),
			(troop_set_slot, "trp_tpe_xp_table", 303, "itm_we_sar_spear_javelin")
		]),

	("ccp_get_character_background_text",
		[
			(str_clear, 1),
			(assign, reg3, "$character_gender"),
			(try_begin),
				(eq, "$background_type", 6),
				(str_store_string, 2, "@a landless knight"),
				(str_store_string, 3, "@He served Old Lord Whent, as a sworn sword, never improving his own or his familys lot in life."),
			(else_try),
				(eq, "$background_type", 5),
				(str_store_string, 2, "@a travelling merchant"),
				(str_store_string, 3, "@Your father and your family travelled from place to place, selling wool, cloth and tin."),
			(else_try),
				(eq, "$background_type", 4),
				(str_store_string, 2, "@a man-at-arms"),
				(str_store_string, 3, "@He served Old Lord Whent as a guardsman, a boring and predictable life."),
			(else_try),
				(eq, "$background_type", 3),
				(str_store_string, 2, "@a hunter"),
				(str_store_string, 3, "@Your family lived in the woods, doing the odd job for the local lord, and even dabbling in some poaching from time to time."),
			(else_try),
				(eq, "$background_type", 2),
				(str_store_string, 2, "@a bard"),
				(str_store_string, 3, "@He spent his nights in taverns, singing of Jonquil and Florian, deftly playing his lute."),
			(else_try),
				(eq, "$background_type", 1),
				(str_store_string, 2, "@a thief"),
				(str_store_string, 3, "@Living a hard life, your father spent most of his time avoiding the local lords men, never improving your familys lot in life."),
			(else_try),
				(eq, "$background_type", 0),
				(str_store_string, 2, "@a septon"),
				(str_store_string, 3, "@The son of a landless knight himself, your father served a minor lord, spending his nights getting drunk and whoring."),
			(try_end),
			(str_store_string, 1, "@ You were born years ago. Your father was {s2}. {s3}"),
			(try_begin),
				(eq, "$background_answer_2", 8),
				(str_store_string, 2, "@a page at a nobleman's court"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood, you were sent to serve at the court of the new Lord Whent.  There, your first lessons were in humility, as you waited upon the knights and ladies of the household.  But from their dice games, their gossip, even the poetry of great deeds and courtly love, you quickly began to learn about the adult world of conflict and competition. You also learned from the rough games of the other children, who battered at each other with sticks in imitation of the men-at-arms and knights."),
			(else_try),
				(eq, "$background_answer_2", 7),
				(str_store_string, 2, "@a craftsmans apprentice"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood, you apprenticed with a local craftsman, from Duskendale. After years of hard work and study under your new master, he promoted you to journeyman and employed you as a fully paid craftsman for as long as you wished to stay."),
			(else_try),
				(eq, "$background_answer_2", 4),
				(str_store_string, 2, "@a shop assistant"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood, you apprenticed to a wealthy merchant, picking up the trade over years of working shops and driving caravans. You soon became adept at the art of buying low, selling high, and leaving the customer thinking they'd got the better deal."),
			(else_try),
				(eq, "$background_answer_2", 6),
				(str_store_string, 2, "@a street urchin"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood, you took to the streets, doing whatever you must to survive. Begging, thieving and working for gangs to earn your bread, you lived from day to day in this violent world, often sleeping in alleys or on rooftops, always one step ahead of the city watch and those who wished you ill."),
			(else_try),
				(eq, "$background_answer_2", 5),
				(str_store_string, 2, "@a bards apprentice"),
				(str_store_string, 3, "@As a {reg3?girl:boy} growing out of childhood, you spent your life apprenticed to an old bard. Your time was filled with music, singing, and the occasional tavern brawl."),
			(else_try),
				(eq, "$background_answer_2", 3),
				(str_store_string, 2, "@a mummer"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 12, "@{reg3?girl:boy}"),
				(str_store_string, 3, "@As a {s12} growing out of childhood, you attached yourself to a troupe of wandering entertainers, going from town to town setting up mummer's shows. It was a life of hard work, selling, begging and stealing your living from the villagers who flocked to watch your antics. Over time you became a performer well capable of attracting a crowd."),
			(else_try),
				(eq, "$background_answer_2", 2),
				(str_store_string, 2, "@a courtier"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 12, "@{reg3?girl:boy}"),
				(str_store_string, 3, "@As a {s12} growing out of childhood, you spent much of your life at the court of the new Lord Whent, inserting yourself into the tightly-knit circles of nobility.  With the years you became more and more involved with the politics and intrigue demanded of a high-born {s13}.  You could not afford to remain a stranger to backstabbing and gossip, even if you wanted to."),
			(else_try),
				(eq, "$background_answer_2", 1),
				(str_store_string, 2, "@a noble in training"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 12, "@{reg3?girl:boy}"),
				(try_begin),
					(eq, "$character_gender", 0),
					(str_store_string, 3, "@As a {s12} growing out of childhood, you were trained and educated to perform the duties and wield the rights of a landed noble. The managing of taxes and rents were equally important in your education as diplomacy and even personal defence. You learned everything you needed to become a lord in your own right."),
				(else_try),
					(str_store_string, 3, "@As a {s12} growing out of childhood, you were trained and educated to the duties of a noble {s13}. You learned much about the household arts, but even more about diplomacy and decorum, and all the things that a future husband might choose to speak of. Truly, you became every inch as shrewd as any lord, though it would be rude to admit it aloud."),
				(try_end),
			(else_try),
				(eq, "$background_answer_2", 0),
				(str_store_string, 2, "@a novice"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 12, "@{reg3?girl:boy}"),
				(str_store_string, 3, "@As a {s12} growing out of childhood, you became a novice in the local septry, the lowest step on the ladder leading to the rank of Most Devout. Years of rigorous learning and hard work followed. You were one of several novices, performing most of the menial labour in the septry in addition to being trained for more holy tasks. When you where on the verge of adulthood you were allowed to conduct your first service. After that you were no longer a novice {s12}, but a {s13} waiting to take your vows and enter the service of the Seven."),
			(try_end),
			(str_store_string, 1, "@{s1}^^ You started to learn about the world almost as soon as you could walk and talk.  You spent your early life as {s2}. {s3}"),
			(try_begin),
				(eq, "$background_answer_3", 0),
				(str_store_string, 2, "@a squire"),
				(str_store_string, 3, "@Though the distinction felt sudden to you, somewhere along the way you had become a {reg3?woman:man}, and the whole world seemed to change around you.  When you were named squire to one of Lord Whents knights, you practiced long hours with weapons, learning how to deal out hard knocks and how to take them, too.  You were instructed in your obligations to your lord, and of your duties to those who might one day be your vassals.  But in addition to learning the knightly ideal, you also learned about the less uplifting side -- old warriors' stories of ruthless power politics, of betrayals and usurpations, of men who used guile as well as valor to achieve their aims."),
			(else_try),
				(eq, "$background_answer_3", 8),
				(str_store_string, 2, "@a scribe"),
				(str_store_string, 14, "@{reg3?daughter:man}"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@Though the distinction felt sudden to you, somewhere along the way you had become a {s13}, and the whole world seemed to change around you. You found work at Lord Whents court, writing letters for the knights and ladies, illuminating manuscripts and teaching the sons and daughters of the nobility how to read."),
			(else_try),
				(eq, "$background_answer_3", 7),
				(str_store_string, 2, "@a sellsword"),
				(str_store_string, 14, "@{reg3?daughter:man}"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@You signed on with a sellsword company and travelled far from your home. The life you found was rough and ready, marching to the beat of strange drums and learning unusual ways of fighting. There were men who taught you how to wield any weapon you desired, and plenty of battles to hone your skills. You were one of the charmed few who survived through every campaign in which you marched."),
			(else_try),
				(eq, "$background_answer_3", 0),
				(str_store_string, 2, "@a lady-in-waiting"),
				(str_store_string, 3, "@You joined the tightly-knit circle of women at court, ladies who all did proper ladylike things, the wives and mistresses of noble men as well as maidens who had yet to find a husband. However, even here you found politics at work as the ladies schemed for prominence and fought each other bitterly to catch the eye of whatever unmarried man was in fashion at court. You soon learned ways of turning these situations and goings-on to your advantage. With it came the realisation that you yourself could wield great influence in the world, if only you applied yourself with a little bit of subtlety."),
			(else_try),
				(eq, "$background_answer_3", 2),
				(str_store_string, 2, "@a bard"),
				(str_store_string, 3, "@You set out on your own with nothing except the lute slung over your back and your own voice. It was a poor existence, with many a hungry night when people failed to appreciate your play, but you managed to survive on your music alone. As the years went by you became adept at playing the drunken crowds in your taverns, and even better at talking anyone out of anything you wanted."),
			(else_try),
				(eq, "$background_answer_3", 1),
				(str_store_string, 2, "@an acolyte"),
				(str_store_string, 3, "@You found yourself as an acolyte in the Citadel of Oldtown, where you studied economy, philosophy, and medicine.  But not all your lessons were learned in the lecture halls.  You may or may not have joined in with your fellows as they roamed the alleys in search of wine, women, and a good fight. However, you certainly were able to observe how a broken jaw is set, or how an angry townsman can be persuaded to set down his club and accept cash compensation for the destruction of his shop."),
			(else_try),
				(eq, "$background_answer_3", 4),
				(str_store_string, 2, "@a goods peddler"),
				(str_store_string, 3, "@Heeding the call of the open road, you travelled from village to village buying and selling what you could. It was not a rich existence, but you became a master at haggling even the most miserly elders into giving you a good price. Soon, you knew, you would be well-placed to start your own trading kingdom..."),
			(else_try),
				(eq, "$background_answer_3", 5),
				(str_store_string, 2, "@a smith"),
				(str_store_string, 3, "@You pursued a career as a smith, crafting items of function and beauty out of simple metal. As time wore on you became a master of your trade, and fine work started to fetch fine prices. With food in your belly and logs on your fire, you could take pride in your work and your growing reputation."),
			(else_try),
				(eq, "$background_answer_3", 6),
				(str_store_string, 2, "@a game poacher"),
				(str_store_string, 3, "@Dissatisfied with common men's desperate scrabble for coin, you took to Lord Whents own forests and decided to help yourself to its bounty, laws be damned. You hunted stags, boars and aurochs and sold the precious meat under the table. You cut down trees right under the guardsmens noses and turned them into firewood that warmed many freezing homes during winter. All for a few silvers, of course."),
			(else_try),
				(eq, "$background_answer_3", 3),
				(str_store_string, 2, "@a begging brother"),
				(str_store_string, 14, "@{reg3?daughter:man}"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@You packed your few belongings and went out into the world to spread the the message of the Seven-Pointed Star. You preached to anyone who would listen, and impressed many with the passion of your sermons. Though you had taken a vow to remain in poverty through your itinerant years, you never lacked for food, drink or shelter; the hospitality of the peasantry was always generous to a rising {s13} of the Seven."),
			(else_try),
				(eq, "$background_answer_3", 9),
				(str_store_string, 2, "@a thief"),
				(str_store_string, 14, "@{reg3?daughter:man}"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@Dissatisfied with a simple life of laboring for coin, you took to your local streets intent on helping yourself to what you needed in order to survive.  You shun the standard laws of man and have chosen to live by whatever rules allow you to avoid the headsman's block."),
			(else_try),
				(eq, "$background_answer_3", 10),
				(str_store_string, 2, "@a farmer"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@You found work as a day laborer, breaking your back in the fields of a local farmer. Though hard work, you where rewarded with food and a place to sleep, and each day you put on more muscle as you hauled straw and rocks."),
			(else_try),
				(eq, "$background_answer_3", 11),
				(str_store_string, 2, "@an outlaw"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@You became part of a band of outlaws and grew adept at the art of ambush. You learned how to wield, with some facility, whatever weapon your prey bequeathed to you. When times were good, you caroused and feasted like a king. When pickings were slim, you lived off the land or perfomed quick raids on small villages. You prided yourself on your adaptability and capacity for violence."),
			(else_try),
				(eq, "$background_answer_3", 12),
				(str_store_string, 2, "@a horse trainer"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@You found work at Lord Whents court, taking care of the great destriers of the lords, knights and ladies, shooing the plowhorses of the wealthy farmers and training the coursers stabled in the great stable."),
			(try_end),
			(str_store_string, 1, "@{s1}^^ Then, as a young adult, life changed as it always does. You became {s2}. {s3}"),
			(try_begin),
				(eq, "$background_answer_4", 5),
				(str_store_string, 2, "@personal revenge"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer. Still, it was not a difficult choice to leave, with the rage burning brightly in your heart. You want vengeance. You want justice. What was done to you cannot be undone, and these debts can only be paid in blood..."),
			(else_try),
				(eq, "$background_answer_4", 4),
				(str_store_string, 2, "@the loss of a loved one"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer. All you can say is that you couldn't bear to stay, not with the memories of those you loved so close and so painful. Perhaps your new life will let you forget, or honour the name that you can no longer bear to speak..."),
			(else_try),
				(eq, "$background_answer_4", 3),
				(str_store_string, 2, "@wanderlust"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer. You're not even sure when your home became a prison, when the familiar became mundane, but your dreams of wandering have taken over your life. Whether you yearn for some faraway place or merely for the open road and the freedom to travel, you could no longer bear to stay in the same place. You simply went and never looked back..."),
			(else_try),
				(eq, "$background_answer_4", 1),
				(str_store_string, 2, "@being forced out of your home"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer. However, you know you cannot go back. There's nothing to go back to. Whatever home you may have had is gone now, and you must face the fact that you're out in the world, alone to fend for yourself..."),
			(else_try),
				(eq, "$background_answer_4", 0),
				(str_store_string, 2, "@lust for money and power"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer. To everyone else, it's clear that you're now motivated solely by personal gain. You want to be rich, powerful, respected, feared. You want to be the one whom others hurry to obey. You want people to know your name, and tremble whenever it is spoken. You want everything, and you won't let anyone stop you from having it..."),
			(else_try),
				(eq, "$background_answer_4", 2),
				(str_store_string, 2, "@religious fervor"),
				(str_store_string, 3, "@Only you know exactly what caused you to give up your old life and become an adventurer. Regardless, the intense faith burning in your soul would not let you find peace in any single place. There were others in the world, souls to be washed in the light of God. Now you preach wherever you go, seeking to bring salvation and revelation to the masses, be they faithful or demon worshippers. They will all know the glory of the Seven by the time you're done..."),
			(else_try),
				(eq, "$background_answer_4", 6),
				(assign, reg3, "$character_gender"),
				(str_store_string, 2, "@a sense of duty"),
				(str_store_string, 13, "@{reg3?woman:man}"),
				(str_store_string, 3, "@As war begins to tear the land apart and many march off to war the desire to join them becomes ever pressing.  As a {s13} of honor you feel duty bound to join the armies of your home and protect the region you call home."),
			(try_end),
			(str_store_string, 1, "@{s1}^^ But soon everything changed and you decided to strike out on your own as an adventurer.  What made you take this decision was {s2}. {s3}"),
			(assign, ":var_1", 0),
			(try_begin),
				(eq, "$character_gender", 1),
				(str_store_string, 2, "str_woman"),
				(val_add, ":var_1", 1),
			(else_try),
				(str_store_string, 2, "str_man"),
			(try_end),
			(try_begin),
				(eq, "$background_type", 6),
				(str_store_string, 3, "str_noble"),
				(val_sub, ":var_1", 1),
			(else_try),
				(str_store_string, 3, "str_common"),
			(try_end),
			(try_begin),
				(eq, ":var_1", -1),
				(str_store_string, 4, "str_may_find_that_you_are_able_to_take_your_place_among_calradias_great_lords_relatively_quickly"),
			(else_try),
				(eq, ":var_1", 0),
				(str_store_string, 4, "str_may_face_some_difficulties_establishing_yourself_as_an_equal_among_calradias_great_lords"),
			(else_try),
				(eq, ":var_1", 1),
				(str_store_string, 4, "str_may_face_great_difficulties_establishing_yourself_as_an_equal_among_calradias_great_lords"),
			(try_end),
			(str_store_string, 1, "@^{s1}^^ As a {s3} {s2} you {s4}")
		]),

	("ccp_generate_skill_set",
		[
			(store_script_param, ":script_param_1", 1),
			(try_for_range, ":number", 100, 121),
				(troop_set_slot, "trp_tpe_xp_table", ":number", 0),
			(try_end),
			(assign, ":var_3", 0),
			(assign, ":var_4", 0),
			(assign, ":var_5", 0),
			(assign, ":var_6", 0),
			(assign, ":var_7", 0),
			(assign, ":var_8", 0),
			(assign, ":var_9", 0),
			(assign, ":var_10", 0),
			(assign, ":var_11", 0),
			(assign, ":var_12", 0),
			(assign, ":var_13", 0),
			(assign, ":var_14", 0),
			(assign, ":value", 0),
			(assign, ":value_2", 0),
			(assign, ":var_17", 0),
			(assign, ":var_18", 0),
			(assign, ":var_19", 0),
			(assign, ":var_20", 0),
			(assign, ":var_21", 0),
			(assign, ":var_22", 0),
			(assign, ":var_23", 0),
			(assign, ":var_24", 0),
			(assign, ":var_25", 0),
			(assign, ":var_26", 0),
			(assign, ":value_3", 0),
			(assign, ":var_28", 0),
			(assign, ":var_29", 0),
			(assign, ":var_30", 0),
			(assign, ":var_31", 0),
			(assign, ":var_32", 0),
			(assign, ":var_33", 0),
			(assign, ":var_34", 0),
			(assign, ":var_35", 0),
			(assign, ":var_36", 0),
			(assign, ":var_37", 0),
			(assign, ":value_4", 0),
			(assign, ":value_5", 0),
			(assign, ":value_6", 0),
			(assign, ":var_41", 0),
			(assign, ":var_42", 0),
			(assign, ":var_43", 0),
			(assign, ":var_44", 0),
			(assign, ":var_45", 0),
			(assign, ":var_46", 0),
			(assign, ":var_47", 0),
			(assign, ":var_48", 0),
			(assign, ":var_49", 0),
			(assign, ":var_50", 0),
			(assign, ":var_51", 0),
			(assign, ":var_52", 0),
			(assign, ":var_53", 0),
			(assign, ":var_54", 0),
			(assign, ":var_55", 0),
			(assign, ":var_56", 0),
			(assign, ":var_57", 0),
			(assign, ":var_58", 0),
			(assign, ":var_59", 0),
			(assign, ":var_60", 0),
			(assign, ":var_61", 0),
			(assign, ":var_62", 0),
			(assign, ":var_63", 0),
			(try_begin),
				(eq, "$character_gender", 0),
				(val_add, ":var_3", 1),
			(else_try),
				(val_add, ":var_4", 1),
			(try_end),
			(val_add, ":var_3", 0),
			(val_add, ":var_4", 0),
			(val_add, ":var_6", 0),
			(val_add, ":var_18", 0),
			(val_add, ":value_2", 0),
			(try_begin),
				(eq, "$background_type", 6),
				(eq, "$character_gender", 0),
				(val_add, ":var_5", 1),
				(val_add, ":value", 1),
				(val_add, ":value_2", 1),
				(val_add, ":var_21", 3),
				(assign, ":value_5", 50),
			(else_try),
				(eq, "$background_type", 6),
				(eq, "$character_gender", 1),
				(val_add, ":var_5", 1),
				(val_add, ":value", 1),
				(val_add, ":var_21", 3),
				(val_add, ":value_2", 1),
				(assign, ":value_5", 50),
			(else_try),
				(eq, "$background_type", 5),
				(val_add, ":var_5", 1),
				(val_add, ":var_23", 1),
				(val_add, ":value_2", 1),
				(val_add, ":var_21", 3),
			(else_try),
				(eq, "$background_type", 4),
				(val_add, ":var_3", 1),
				(val_add, ":var_4", 1),
				(val_add, ":var_13", 1),
				(val_add, ":var_21", 3),
			(else_try),
				(eq, "$background_type", 3),
				(val_add, ":var_4", 1),
				(val_add, ":value_3", 1),
				(val_add, ":var_22", 1),
				(val_add, ":var_21", 3),
			(else_try),
				(eq, "$background_type", 2),
				(eq, "$character_gender", 0),
				(val_add, ":var_4", 1),
				(val_add, ":var_5", 1),
				(val_add, ":var_23", 1),
				(val_add, ":var_21", 3),
			(else_try),
				(eq, "$background_type", 2),
				(eq, "$character_gender", 1),
				(val_add, ":var_4", 1),
				(val_add, ":var_5", 1),
				(val_add, ":var_23", 1),
				(val_add, ":var_21", 3),
			(else_try),
				(eq, "$background_type", 1),
				(val_add, ":var_4", 1),
				(val_add, ":var_26", 1),
				(val_add, ":var_29", 1),
				(val_add, ":var_21", 3),
			(else_try),
				(eq, "$background_type", 0),
				(val_add, ":var_6", 1),
				(val_add, ":var_36", 1),
				(val_add, ":var_31", 1),
				(val_add, ":var_21", 3),
			(try_end),
			(try_begin),
				(eq, "$background_answer_2", 8),
				(val_add, ":var_3", 1),
				(val_add, ":var_6", 1),
				(val_add, ":var_14", 1),
				(val_add, ":var_31", 1),
			(else_try),
				(eq, "$background_answer_2", 7),
				(val_add, ":var_3", 1),
				(val_add, ":var_23", 1),
				(val_add, ":var_30", 1),
				(val_add, ":var_33", 1),
			(else_try),
				(eq, "$background_answer_2", 6),
				(val_add, ":var_4", 1),
				(val_add, ":var_5", 1),
				(val_add, ":var_29", 2),
			(else_try),
				(eq, "$background_answer_2", 5),
				(val_add, ":var_4", 1),
				(val_add, ":value_3", 1),
				(val_add, ":var_31", 1),
				(val_add, ":var_6", 1),
			(else_try),
				(eq, "$background_answer_2", 4),
				(val_add, ":var_5", 1),
				(val_add, ":var_33", 1),
				(val_add, ":var_23", 1),
				(val_add, ":var_31", 1),
			(else_try),
				(eq, "$background_answer_2", 3),
				(val_add, ":var_4", 1),
				(val_add, ":var_6", 1),
				(val_add, ":var_18", 1),
				(val_add, ":var_31", 1),
			(else_try),
				(eq, "$background_answer_2", 2),
				(val_add, ":var_6", 1),
				(val_add, ":var_31", 1),
				(val_add, ":var_18", 1),
				(val_add, ":var_5", 1),
			(else_try),
				(eq, "$background_answer_2", 1),
				(val_add, ":var_5", 1),
				(val_add, ":var_3", 1),
				(val_add, ":var_18", 1),
				(val_add, ":var_17", 1),
			(else_try),
				(eq, "$background_answer_2", 0),
				(val_add, ":var_6", 1),
				(val_add, ":var_5", 1),
				(val_add, ":var_19", 1),
				(val_add, ":var_36", 1),
			(try_end),
			(try_begin),
				(eq, "$background_answer_3", 8),
				(val_add, ":var_5", 2),
				(val_add, ":var_6", 1),
				(val_add, ":var_31", 1),
				(val_add, ":var_10", 15),
				(val_add, ":var_12", 15),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(assign, ":value_4", 800),
				(call_script, "script_ccp_add_item", "itm_kuauik_peasant_1"),
				(call_script, "script_ccp_add_item", "itm_bo_khe_t2_boots"),
				(call_script, "script_ccp_add_item", "itm_book_intelligence"),
			(else_try),
				(eq, "$background_answer_3", 7),
				(val_add, ":var_4", 2),
				(val_add, ":var_3", 2),
				(val_add, ":var_10", 15),
				(val_add, ":var_7", 15),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(assign, ":value_4", 100),
				(call_script, "script_ccp_add_item", "itm_bo_nor_t2_shoes"),
				(call_script, "script_ccp_add_item", "itm_kuauik_padded_leather"),
				(call_script, "script_ccp_add_item", "itm_xenoargh_round_shield01"),
				(call_script, "script_ccp_add_item", "itm_trade_cheese"),
				(call_script, "script_ccp_add_item", "itm_medium_tier_sword_2"),
			(else_try),
				(eq, "$background_answer_3", 10),
				(val_add, ":var_3", 5),
				(val_add, ":var_10", 30),
				(assign, ":value", 1),
				(assign, ":value_3", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_crossbow_f_simple_1"),
				(call_script, "script_ccp_add_item", "itm_normal_arrows"),
				(call_script, "script_ccp_add_item", "itm_kuauik_peasant_2"),
			(else_try),
				(eq, "$background_answer_3", 11),
				(val_add, ":var_4", 2),
				(val_add, ":var_14", 2),
				(val_add, ":var_10", 15),
				(val_add, ":var_7", 15),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_crossbow_f_simple_1"),
				(call_script, "script_ccp_add_item", "itm_normal_arrows"),
				(call_script, "script_ccp_add_item", "itm_sword_rusty_a"),
				(call_script, "script_ccp_add_item", "itm_peasant_b"),
			(else_try),
				(eq, "$background_answer_3", 12),
				(val_add, ":var_3", 2),
				(val_add, ":var_5", 2),
				(val_add, ":var_10", 15),
				(val_add, ":var_7", 15),
				(assign, ":value_4", 300),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_sword_rusty_a"),
				(call_script, "script_ccp_add_item", "itm_ho_swa_saddle_black"),
				(call_script, "script_ccp_add_item", "itm_andalusianskirmisher_armor"),
			(else_try),
				(eq, "$background_answer_3", 3),
				(val_add, ":var_6", 1),
				(val_add, ":var_36", 2),
				(val_add, ":var_19", 1),
				(val_add, ":var_7", 30),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_winters_frying_pan"),
				(call_script, "script_ccp_add_item", "itm_brown_robe"),
				(call_script, "script_ccp_add_item", "itm_we_vae_blunt_club"),
			(else_try),
				(eq, "$background_answer_3", 6),
				(val_add, ":var_4", 1),
				(val_add, ":value_3", 3),
				(val_add, ":var_10", 30),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_crossbow_f_simple_1"),
				(call_script, "script_ccp_add_item", "itm_normal_arrows"),
				(call_script, "script_ccp_add_item", "itm_hoggox"),
				(call_script, "script_ccp_add_item", "itm_kuauik_peasant_2"),
			(else_try),
				(eq, "$background_answer_3", 5),
				(val_add, ":var_3", 3),
				(val_add, ":var_5", 1),
				(val_add, ":var_7", 30),
				(assign, ":value_4", 500),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_we_vae_blunt_sledgehammer"),
				(call_script, "script_ccp_add_item", "itm_archer_a"),
			(else_try),
				(eq, "$background_answer_3", 4),
				(val_add, ":var_6", 1),
				(val_add, ":var_5", 1),
				(val_add, ":var_23", 2),
				(assign, ":value_4", 800),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_winters_frying_pan"),
				(call_script, "script_ccp_add_item", "itm_trade_velvet"),
				(call_script, "script_ccp_add_item", "itm_trade_linen"),
				(call_script, "script_ccp_add_item", "itm_trade_wool"),
				(call_script, "script_ccp_add_item", "itm_archer_a"),
			(else_try),
				(eq, "$background_answer_3", 2),
				(val_add, ":var_6", 2),
				(val_add, ":var_31", 2),
				(val_add, ":var_10", 15),
				(val_add, ":var_7", 15),
				(assign, ":value_4", 300),
				(assign, ":value", 2),
				(assign, ":value_2", 3),
				(call_script, "script_ccp_add_item", "itm_winters_frying_pan"),
				(call_script, "script_ccp_add_item", "itm_sword_rusty_a"),
				(call_script, "script_ccp_add_item", "itm_aketon"),
			(else_try),
				(eq, "$background_answer_3", 0),
				(eq, "$character_gender", 0),
				(val_add, ":var_3", 2),
				(val_add, ":value_2", 2),
				(val_add, ":var_8", 40),
				(val_add, ":var_7", 40),
				(assign, ":value_4", 50),
				(assign, ":value_5", 50),
				(assign, ":value_6", 5),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_trade_pork"),
				(call_script, "script_ccp_add_item", "itm_gambeson_trans"),
				(call_script, "script_ccp_add_item", "itm_ho_swa_saddle_black"),
				(call_script, "script_ccp_add_item", "itm_sword_rusty_a"),
			(else_try),
				(eq, "$background_answer_3", 0),
				(eq, "$character_gender", 1),
				(val_add, ":var_6", 2),
				(val_add, ":var_5", 2),
				(val_add, ":var_10", 15),
				(val_add, ":var_7", 15),
				(assign, ":value_4", 1000),
				(assign, ":value_5", 50),
				(assign, ":value_6", 5),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_lysa_style_2"),
				(call_script, "script_ccp_add_item", "itm_ho_swa_saddle_black"),
			(else_try),
				(eq, "$background_answer_3", 1),
				(val_add, ":var_5", 3),
				(val_add, ":var_36", 2),
				(val_add, ":var_7", 30),
				(assign, ":value_4", 300),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_brown_robe"),
			(else_try),
				(eq, "$background_answer_3", 9),
				(val_add, ":var_4", 2),
				(val_add, ":var_29", 2),
				(val_add, ":var_7", 30),
				(assign, ":value", 1),
				(assign, ":value_2", 1),
				(call_script, "script_ccp_add_item", "itm_nightswatch_a"),
				(call_script, "script_ccp_add_item", "itm_fi_hood_4"),
				(call_script, "script_ccp_add_item", "itm_we_rho_sword_rondeldagger"),
				(call_script, "script_ccp_add_item", "itm_bo_khe_t4_sandal"),
				(call_script, "script_ccp_add_item", "itm_ga_rho_a2_leather"),
			(try_end),
			(try_begin),
				(eq, "$background_answer_4", 5),
				(val_add, ":var_3", 1),
				(val_add, ":var_14", 1),
				(call_script, "script_ccp_add_item", "itm_trade_bread"),
			(else_try),
				(eq, "$background_answer_4", 4),
				(val_add, ":var_6", 2),
				(call_script, "script_ccp_add_item", "itm_trade_bread"),
			(else_try),
				(eq, "$background_answer_4", 3),
				(val_add, ":var_3", 1),
				(val_add, ":var_4", 1),
				(call_script, "script_ccp_add_item", "itm_trade_bread"),
			(else_try),
				(eq, "$background_answer_4", 1),
				(val_add, ":var_3", 1),
				(val_add, ":var_5", 1),
				(call_script, "script_ccp_add_item", "itm_trade_bread"),
			(else_try),
				(eq, "$background_answer_4", 0),
				(val_add, ":var_5", 1),
				(val_add, ":var_14", 1),
				(call_script, "script_ccp_add_item", "itm_trade_bread"),
			(else_try),
				(eq, "$background_answer_4", 2),
				(val_add, ":var_6", 2),
				(call_script, "script_ccp_add_item", "itm_trade_bread"),
			(else_try),
				(eq, "$background_answer_4", 6),
				(val_add, ":var_3", 1),
				(val_add, ":var_14", 1),
				(call_script, "script_ccp_add_item", "itm_trade_bread"),
			(try_end),
			(troop_get_slot, ":tpe_presobj_last_quest_betrayed", "trp_tpe_presobj", slot_troop_last_quest_betrayed),
			(store_add, ":value_7", "fac_player_supporters_faction", ":tpe_presobj_last_quest_betrayed"),
			(val_add, ":value_7", 1),
			(try_begin),
				(eq, ":value_7", "fac_kingdom_1"),
				(val_add, ":var_7", 5),
				(val_add, ":var_10", 5),
				(assign, "$current_town", "p_town_6"),
				(assign, "$g_starting_town", "$current_town"),
				(assign, "$g_journey_string", "str_journey_to_praven"),
			(else_try),
				(eq, ":value_7", "fac_kingdom_2"),
				(val_add, ":var_10", 15),
				(val_add, ":var_9", 10),
				(val_add, ":var_7", 5),
				(assign, "$current_town", "p_town_8"),
				(assign, "$g_starting_town", "$current_town"),
				(assign, "$g_journey_string", "str_journey_to_reyvadin"),
			(else_try),
				(eq, ":value_7", "fac_kingdom_3"),
				(val_add, ":var_10", 15),
				(val_add, ":var_7", 10),
				(val_add, ":var_8", 5),
				(assign, "$current_town", "p_town_8"),
				(assign, "$g_starting_town", "$current_town"),
				(assign, "$g_journey_string", "str_journey_to_tulga"),
			(else_try),
				(eq, ":value_7", "fac_kingdom_4"),
				(val_add, ":var_8", 15),
				(val_add, ":var_12", 10),
				(val_add, ":var_7", 5),
				(assign, "$current_town", "p_town_1"),
				(assign, "$g_starting_town", "$current_town"),
				(assign, "$g_journey_string", "str_journey_to_sargoth"),
			(else_try),
				(eq, ":value_7", "fac_kingdom_5"),
				(val_add, ":var_11", 15),
				(val_add, ":var_7", 10),
				(val_add, ":var_9", 5),
				(assign, "$current_town", "p_town_9"),
				(assign, "$g_starting_town", "$current_town"),
				(assign, "$g_journey_string", "str_journey_to_jelkala"),
			(else_try),
				(eq, ":value_7", "fac_kingdom_6"),
				(val_add, ":var_7", 15),
				(val_add, ":var_8", 10),
				(val_add, ":var_10", 5),
				(assign, "$current_town", "p_town_19"),
				(assign, "$g_starting_town", "$current_town"),
				(assign, "$g_journey_string", "str_journey_to_shariz"),
			(else_try),
				(display_message, "@ERROR: No valid faction designated."),
			(try_end),
			(try_begin),
				(eq, "$background_type", 6),
				(eq, "$background_answer_2", 1),
				(val_add, ":var_8", 5),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", 0),
				(store_add, reg5, ":var_3", 4),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_spawned_before),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_4", 4),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_spouse),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_5", 4),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_mother),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_6", 4),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_betrothed),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":value_4", 0),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_love_interest_1),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":value_5", 0),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_love_interest_2),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_7", 15),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_love_interest_3),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_8", 15),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_love_interests_end),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_9", 15),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_troop_betrothal_time),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_10", 15),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", slot_lady_used_tournament),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_11", 15),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", 41),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(store_add, reg5, ":var_12", 15),
				(troop_get_slot, ":tpe_presobj_spawned_before", "trp_tpe_presobj", 42),
				(overlay_set_text, ":tpe_presobj_spawned_before", "@{reg5}"),
				(assign, ":var_67", 0),
				(try_begin),
					(ge, ":var_13", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_ironflesh", ":var_13", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_14", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_powerstrike", ":var_14", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_26", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_powerthrow", ":var_26", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":value_3", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_powerdraw", ":value_3", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":value", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_weaponmaster", ":value", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_37", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_shield", ":var_37", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_29", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_athletics", ":var_29", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":value_2", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_riding", ":value_2", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_28", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_horsearchery", ":var_28", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_35", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_looting", ":var_35", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_24", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_foraging", ":var_24", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_34", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_trainer", ":var_34", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_22", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_tracking", ":var_22", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_17", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_tactics", ":var_17", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_20", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_pathfinding", ":var_20", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_21", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_spotting", ":var_21", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_33", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_inventorymanagement", ":var_33", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_36", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_woundtreatment", ":var_36", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_25", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_surgery", ":var_25", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_19", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_firstaid", ":var_19", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_30", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_engineer", ":var_30", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_31", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_persuasion", ":var_31", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_32", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_prisonermanagement", ":var_32", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_18", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_leadership", ":var_18", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
				(try_begin),
					(ge, ":var_23", 1),
					(call_script, "script_ccp_add_skill_display", "str_ccp_skl_trade", ":var_23", ":var_67"),
					(val_add, ":var_67", 1),
				(try_end),
			(try_end),
			(try_begin),
				(eq, ":script_param_1", 1),
				(troop_get_slot, ":tpe_presobj_last_quest_betrayed", "trp_tpe_presobj", slot_troop_last_quest_betrayed),
				(store_add, ":value_7", "fac_player_supporters_faction", ":tpe_presobj_last_quest_betrayed"),
				(val_add, ":value_7", 1),
				(assign, ":var_68", 130),
				(store_mul, ":value_8", ":tpe_presobj_last_quest_betrayed", 30),
				(val_add, ":var_68", ":value_8"),
				(try_begin),
					(ge, 0, 1),
					(assign, reg31, ":var_68"),
					(str_store_faction_name, 32, ":value_7"),
					(display_message, "@Equipment will be determined by faction {s32} starting at slot {reg31}."),
				(try_end),
				(store_add, ":value_9", ":var_68", 0),
				(store_add, ":value_10", ":var_68", 1),
				(store_add, ":value_11", ":var_68", 2),
				(store_add, ":value_12", ":var_68", 3),
				(store_add, ":value_13", ":var_68", 4),
				(store_add, ":value_14", ":var_68", 5),
				(store_add, ":value_15", ":var_68", 6),
				(store_add, ":value_16", ":var_68", 7),
				(store_add, ":value_17", ":var_68", 8),
				(store_add, ":value_18", ":var_68", 9),
				(store_add, ":value_19", ":var_68", 10),
				(store_add, ":value_20", ":var_68", 11),
				(store_add, ":value_21", ":var_68", 12),
				(store_add, ":value_22", ":var_68", 13),
				(store_add, ":value_23", ":var_68", 14),
				(store_add, ":value_24", ":var_68", 15),
				(store_add, ":value_25", ":var_68", 16),
				(store_add, ":value_26", ":var_68", 17),
				(store_add, ":value_27", ":var_68", 18),
				(store_add, ":value_28", ":var_68", 19),
				(store_add, ":value_29", ":var_68", 20),
				(store_add, ":value_30", ":var_68", 21),
				(store_add, ":value_31", ":var_68", 22),
				(store_add, ":value_32", ":var_68", 23),
				(try_begin),
					(eq, ":var_43", 1),
					(call_script, "script_ccp_add_item", "itm_book_trade_ledger"),
				(try_end),
				(try_begin),
					(eq, ":var_47", 1),
					(ge, ":value_2", 3),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_12"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_47", 1),
					(val_add, ":value_4", 150),
					(call_script, "script_ccp_add_item", "itm_ho_swa_saddle_black"),
				(else_try),
					(eq, ":var_46", 1),
					(ge, ":value_2", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_11"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_53", 1),
					(ge, ":var_3", 3),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_20"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_52", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_19"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_18"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_61", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_29"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_58", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_25"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_60", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_28"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
					(troop_get_slot, ":tpe_xp_table_value_29", "trp_tpe_xp_table", ":value_29"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_29"),
				(else_try),
					(eq, ":var_59", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_26"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_27"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_62", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_30"),
					(try_begin),
						(this_or_next|eq, ":tpe_xp_table_value_12", "itm_we_vae_bow_hunting"),
						(eq, ":tpe_xp_table_value_12", "itm_we_khe_bow_red"),
						(lt, ":value_3", 2),
						(val_add, ":value_4", 50),
						(assign, ":tpe_xp_table_value_12", "itm_crossbow_f_simple_1"),
					(try_end),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_31"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_63", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_32"),
					(try_begin),
						(this_or_next|eq, ":tpe_xp_table_value_12", "itm_we_nor_axe_throw_light"),
						(this_or_next|eq, ":tpe_xp_table_value_12", "itm_we_sar_spear_javelin"),
						(eq, ":tpe_xp_table_value_12", "itm_bo_vae_t3_leather"),
						(lt, ":var_26", 1),
						(assign, ":tpe_xp_table_value_12", "itm_bo_vae_t3_leather"),
					(try_end),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_48", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_13"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_56", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_23"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_57", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_24"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_55", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_22"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_54", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_21"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_51", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_17"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(eq, ":var_50", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_16"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(else_try),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_15"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_44", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_9"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_45", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_10"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(try_begin),
					(eq, ":var_49", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":value_14"),
					(call_script, "script_ccp_add_item", ":tpe_xp_table_value_12"),
				(try_end),
				(set_show_messages, 0),
				(troop_raise_attribute, "trp_player", 3, ":var_6"),
				(troop_raise_attribute, "trp_player", 0, ":var_3"),
				(troop_raise_attribute, "trp_player", 2, ":var_5"),
				(troop_raise_attribute, "trp_player", 1, ":var_4"),
				(troop_raise_skill, "trp_player", 36, ":var_13"),
				(troop_raise_skill, "trp_player", 35, ":var_14"),
				(troop_raise_skill, "trp_player", 34, ":var_26"),
				(troop_raise_skill, "trp_player", 33, ":value_3"),
				(troop_raise_skill, "trp_player", 27, ":value"),
				(troop_raise_skill, "trp_player", 26, ":var_37"),
				(troop_raise_skill, "trp_player", 25, ":var_29"),
				(troop_raise_skill, "trp_player", 24, ":value_2"),
				(troop_raise_skill, "trp_player", 23, ":var_28"),
				(troop_raise_skill, "trp_player", 22, ":var_35"),
				(troop_raise_skill, "trp_player", 21, ":var_24"),
				(troop_raise_skill, "trp_player", 17, ":var_34"),
				(troop_raise_skill, "trp_player", 16, ":var_22"),
				(troop_raise_skill, "trp_player", 15, ":var_17"),
				(troop_raise_skill, "trp_player", 14, ":var_20"),
				(troop_raise_skill, "trp_player", 13, ":var_21"),
				(troop_raise_skill, "trp_player", 12, ":var_33"),
				(troop_raise_skill, "trp_player", 11, ":var_36"),
				(troop_raise_skill, "trp_player", 10, ":var_25"),
				(troop_raise_skill, "trp_player", 9, ":var_19"),
				(troop_raise_skill, "trp_player", 8, ":var_30"),
				(troop_raise_skill, "trp_player", 7, ":var_31"),
				(troop_raise_skill, "trp_player", 2, ":var_32"),
				(troop_raise_skill, "trp_player", 1, ":var_18"),
				(troop_raise_skill, "trp_player", 0, ":var_23"),
				(troop_raise_proficiency_linear, "trp_player", 0, ":var_7"),
				(troop_raise_proficiency_linear, "trp_player", 1, ":var_8"),
				(troop_raise_proficiency_linear, "trp_player", 2, ":var_9"),
				(troop_raise_proficiency_linear, "trp_player", 3, ":var_10"),
				(troop_raise_proficiency_linear, "trp_player", 4, ":var_11"),
				(troop_raise_proficiency_linear, "trp_player", 5, ":var_12"),
				(troop_set_slot, "trp_player", slot_troop_renown, ":value_5"),
				(call_script, "script_change_player_honor", ":value_6"),
				(troop_add_gold, "trp_player", ":value_4"),
				(try_for_range, ":number", 100, 121),
					(troop_slot_ge, "trp_tpe_xp_table", ":number", 1),
					(troop_get_slot, ":tpe_xp_table_value_12", "trp_tpe_xp_table", ":number"),
					(troop_add_item, "trp_player", ":tpe_xp_table_value_12", 0),
				(try_end),
				(try_begin),
					(ge, ":var_42", 1),
					(assign, "$enterprise_production", "itm_trade_tools"),
					(party_set_slot, "$g_encountered_party", slot_center_player_enterprise, "itm_trade_tools"),
					(party_set_slot, "$g_encountered_party", slot_center_player_enterprise_consumption_order, 7),
					(store_sub, ":value_33", "$current_town", "p_town_1"),
					(store_add, ":value_34", ":value_33", "trp_town_1_master_craftsman"),
					(troop_set_name, ":value_34", "str_master_smith"),
					(ge, 0, 1),
					(str_store_party_name, 31, "$current_town"),
					(display_message, "@DEBUG (CCP): The player has bene given a smithy in the town of {s31}."),
				(try_end),
				(try_begin),
					(ge, ":var_41", 1),
					(party_get_slot, ":current_town_456", "$current_town", 456),
					(val_sub, ":current_town_456", ":var_41"),
					(party_set_slot, "$current_town", 456, ":current_town_456"),
					(party_set_slot, "$current_town", 458, ":var_41"),
					(ge, 0, 1),
					(str_store_party_name, 31, "$current_town"),
					(assign, reg31, ":var_41"),
					(display_message, "@DEBUG (CCP): The player has bene given {reg31} acres of land in the town of {s31}."),
				(try_end),
				(set_show_messages, 1),
			(try_end)
		]),

]